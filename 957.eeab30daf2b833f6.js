"use strict";(self.webpackChunkrigel=self.webpackChunkrigel||[]).push([[957],{5957:(q,p,l)=>{l.r(p),l.d(p,{CategoriaPageModule:()=>Z});var C=l(7412),s=l(9417),b=l(177),f=l(5743),m=l(467),c=l(9173),E=l(8032),g=l.n(E),i=l(7705);function j(e,n){if(1&e&&(i.j41(0,"span",97),i.EFF(1),i.k0s()),2&e){const a=n.$implicit;i.R7$(1),i.SpI(" ",a," ")}}function x(e,n){if(1&e){const a=i.RV6();i.j41(0,"div",85)(1,"div",86),i.bIt("click",function(){const r=i.eBV(a).$implicit,d=i.XpG();return i.Njj(d.verDetalleCategoria(r))}),i.j41(2,"div",87)(3,"div",88)(4,"div",58)(5,"div",89),i.nrm(6,"i"),i.k0s(),i.j41(7,"div")(8,"h5",23),i.EFF(9),i.k0s(),i.j41(10,"p",90),i.EFF(11),i.k0s()()()(),i.j41(12,"div",43)(13,"div",91),i.nrm(14,"i",92),i.j41(15,"div")(16,"small",93),i.EFF(17),i.k0s()()()(),i.j41(18,"div")(19,"small",94),i.EFF(20,"Unidades disponibles"),i.k0s(),i.j41(21,"div",95),i.DNE(22,j,2,1,"span",96),i.k0s()()()()()}if(2&e){const a=n.$implicit;i.R7$(5),i.xc7("background-color",a.colorFondo),i.R7$(1),i.HbH("bi "+a.icono+" text-white fs-4"),i.R7$(3),i.JRh(a.nombre),i.R7$(2),i.JRh(a.descripcion),i.R7$(6),i.SpI("",a.productos||0," productos"),i.R7$(5),i.Y8G("ngForOf",a.unidadesDisponibles)}}function P(e,n){if(1&e&&(i.j41(0,"span",119),i.EFF(1),i.k0s()),2&e){const a=n.$implicit;i.R7$(1),i.Lme(" ",a.nombre," (",a.productos," productos) ")}}function y(e,n){if(1&e&&(i.j41(0,"div",112)(1,"div",9)(2,"h6",43),i.nrm(3,"i",117),i.EFF(4,"Familias de Productos"),i.k0s(),i.j41(5,"div",95),i.DNE(6,P,2,2,"span",118),i.k0s()()()),2&e){const a=i.XpG(2);i.R7$(6),i.Y8G("ngForOf",a.categoriaSeleccionada.familias)}}function I(e,n){if(1&e&&(i.j41(0,"span",120),i.EFF(1),i.k0s()),2&e){const a=n.$implicit;i.R7$(1),i.SpI(" ",a," ")}}function D(e,n){if(1&e&&(i.j41(0,"div",130)(1,"span"),i.EFF(2),i.k0s(),i.j41(3,"span",131),i.EFF(4),i.k0s()()),2&e){const a=n.$implicit;i.R7$(2),i.SpI("\u2022 ",a.nombre,""),i.R7$(2),i.Lme("",a.cantidad," ",a.unidadMedida,"")}}function R(e,n){if(1&e&&(i.j41(0,"div")(1,"div",91)(2,"span",127),i.EFF(3),i.k0s(),i.j41(4,"small",11),i.EFF(5),i.k0s()(),i.j41(6,"div",128),i.DNE(7,D,5,3,"div",129),i.k0s()()),2&e){const a=i.XpG().$implicit,o=i.XpG(3);i.R7$(3),i.JRh(a.nombre),i.R7$(2),i.SpI("",o.getProductosPorFamilia(o.categoriaSeleccionada.id||"",a.id||"").length," productos"),i.R7$(2),i.Y8G("ngForOf",o.getProductosPorFamilia(o.categoriaSeleccionada.id||"",a.id||""))}}function S(e,n){if(1&e&&(i.j41(0,"div",43),i.DNE(1,R,8,3,"div",126),i.k0s()),2&e){const a=n.$implicit,o=i.XpG(3);i.R7$(1),i.Y8G("ngIf",o.getProductosPorFamilia(o.categoriaSeleccionada.id||"",a.id||"").length>0)}}function G(e,n){if(1&e&&(i.j41(0,"div",130)(1,"span"),i.EFF(2),i.k0s(),i.j41(3,"span",131),i.EFF(4),i.k0s()()),2&e){const a=n.$implicit;i.R7$(2),i.SpI("\u2022 ",a.nombre,""),i.R7$(2),i.Lme("",a.cantidad," ",a.unidadMedida,"")}}function T(e,n){if(1&e&&(i.j41(0,"div",43)(1,"div",91)(2,"span",132),i.EFF(3,"Sin familia asignada"),i.k0s(),i.j41(4,"small",11),i.EFF(5),i.k0s()(),i.j41(6,"div",128),i.DNE(7,G,5,3,"div",129),i.k0s()()),2&e){const a=i.XpG(3);i.R7$(5),i.SpI("",a.getProductosSinFamilia(a.categoriaSeleccionada.id||"").length," productos"),i.R7$(2),i.Y8G("ngForOf",a.getProductosSinFamilia(a.categoriaSeleccionada.id||""))}}function N(e,n){if(1&e&&(i.j41(0,"div",121)(1,"div",9)(2,"h6",43),i.nrm(3,"i",122),i.EFF(4,"Productos en esta Categor\xeda"),i.k0s(),i.j41(5,"div",123),i.DNE(6,S,2,1,"div",124),i.DNE(7,T,8,2,"div",125),i.k0s()()()),2&e){const a=i.XpG(2);i.R7$(6),i.Y8G("ngForOf",a.categoriaSeleccionada.familias),i.R7$(1),i.Y8G("ngIf",a.getProductosSinFamilia(a.categoriaSeleccionada.id||"").length>0)}}function w(e,n){1&e&&(i.j41(0,"div",133),i.nrm(1,"i",134),i.EFF(2," Esta categor\xeda a\xfan no tiene productos asignados. "),i.k0s())}function M(e,n){if(1&e&&(i.j41(0,"div",98)(1,"div",99)(2,"div",100)(3,"div",101)(4,"div",102),i.nrm(5,"i",103),i.j41(6,"h3",104),i.EFF(7),i.k0s(),i.j41(8,"small",11),i.EFF(9,"Productos"),i.k0s()()()(),i.j41(10,"div",100)(11,"div",105)(12,"div",102),i.nrm(13,"i",106),i.j41(14,"h3",107),i.EFF(15),i.k0s(),i.j41(16,"small",11),i.EFF(17,"Familias"),i.k0s()()()(),i.j41(18,"div",100)(19,"div",108)(20,"div",102),i.nrm(21,"i",109),i.j41(22,"h3",110),i.EFF(23),i.k0s(),i.j41(24,"small",11),i.EFF(25,"Unidades"),i.k0s()()()()(),i.DNE(26,y,7,1,"div",111),i.j41(27,"div",112)(28,"div",9)(29,"h6",43),i.nrm(30,"i",113),i.EFF(31,"Unidades de Medida Disponibles"),i.k0s(),i.j41(32,"div",95),i.DNE(33,I,2,1,"span",114),i.k0s()()(),i.DNE(34,N,8,2,"div",115),i.DNE(35,w,3,0,"div",116),i.k0s()),2&e){const a=i.XpG();i.R7$(7),i.JRh(a.categoriaSeleccionada.productos||0),i.R7$(8),i.JRh((null==a.categoriaSeleccionada.familias?null:a.categoriaSeleccionada.familias.length)||0),i.R7$(8),i.JRh((null==a.categoriaSeleccionada.unidadesDisponibles?null:a.categoriaSeleccionada.unidadesDisponibles.length)||0),i.R7$(3),i.Y8G("ngIf",a.categoriaSeleccionada.familias&&a.categoriaSeleccionada.familias.length>0),i.R7$(7),i.Y8G("ngForOf",a.categoriaSeleccionada.unidadesDisponibles),i.R7$(1),i.Y8G("ngIf",a.getProductosPorCategoria(a.categoriaSeleccionada.id||"").length>0),i.R7$(1),i.Y8G("ngIf",0===a.getProductosPorCategoria(a.categoriaSeleccionada.id||"").length)}}function B(e,n){if(1&e){const a=i.RV6();i.j41(0,"button",135),i.bIt("click",function(){const r=i.eBV(a).$implicit,d=i.XpG();return i.Njj(d.seleccionarColor(r))}),i.k0s()}2&e&&i.xc7("background-color",n.$implicit)}function U(e,n){if(1&e){const a=i.RV6();i.j41(0,"button",79),i.bIt("click",function(){i.eBV(a);const t=i.XpG();return i.Njj(t.agregarFamilia())}),i.nrm(1,"i",80),i.k0s()}}function Y(e,n){if(1&e){const a=i.RV6();i.j41(0,"button",136),i.bIt("click",function(){i.eBV(a);const t=i.XpG();return i.Njj(t.guardarEdicionFamilia())}),i.nrm(1,"i",137),i.k0s()}}function A(e,n){if(1&e){const a=i.RV6();i.j41(0,"button",138),i.bIt("click",function(){i.eBV(a);const t=i.XpG();return i.Njj(t.cancelarEdicionFamilia())}),i.nrm(1,"i",139),i.k0s()}}function O(e,n){1&e&&(i.j41(0,"div"),i.EFF(1," No hay familias configuradas. Agrega al menos una familia. "),i.k0s())}function z(e,n){1&e&&(i.j41(0,"div"),i.EFF(1," Esta categor\xeda no tiene familias configuradas. Puedes agregar familias ahora. "),i.k0s())}function V(e,n){if(1&e&&(i.j41(0,"div",140),i.DNE(1,O,2,0,"div",126),i.DNE(2,z,2,0,"div",126),i.k0s()),2&e){const a=i.XpG();let o,t;i.R7$(1),i.Y8G("ngIf",!(null!=(o=a.categoriaForm.get("id"))&&o.value)),i.R7$(1),i.Y8G("ngIf",null==(t=a.categoriaForm.get("id"))?null:t.value)}}function X(e,n){if(1&e){const a=i.RV6();i.j41(0,"span",119),i.EFF(1),i.j41(2,"div",141)(3,"button",142),i.bIt("click",function(){const r=i.eBV(a).index,d=i.XpG(2);return i.Njj(d.editarFamilia(r))}),i.nrm(4,"i",143),i.k0s(),i.j41(5,"button",142),i.bIt("click",function(){const r=i.eBV(a).index,d=i.XpG(2);return i.Njj(d.eliminarFamilia(r))}),i.nrm(6,"i",144),i.k0s()()()}if(2&e){const a=n.$implicit;i.R7$(1),i.SpI(" ",a.nombre," ")}}function J(e,n){if(1&e&&(i.j41(0,"div",95),i.DNE(1,X,7,1,"span",118),i.k0s()),2&e){const a=i.XpG();i.R7$(1),i.Y8G("ngForOf",a.familias)}}function L(e,n){1&e&&(i.j41(0,"div",11),i.EFF(1," No hay unidades seleccionadas "),i.k0s())}function H(e,n){if(1&e){const a=i.RV6();i.j41(0,"span",146),i.EFF(1),i.j41(2,"button",147),i.bIt("click",function(){const r=i.eBV(a).$implicit,d=i.XpG(2);return i.Njj(d.eliminarUnidad(r))}),i.k0s()()}if(2&e){const a=n.$implicit;i.R7$(1),i.SpI(" ",a," ")}}function W(e,n){if(1&e&&(i.j41(0,"div",95),i.DNE(1,H,3,1,"span",145),i.k0s()),2&e){const a=i.XpG();i.R7$(1),i.Y8G("ngForOf",a.unidadesSeleccionadas)}}const F=function(){return{standalone:!0}},K=[{path:"",component:(()=>{class e{constructor(a,o){this.fb=a,this.firestore=o,this.stats={totalCategorias:0,totalProductos:0,unidadesMedida:0,productosCombo:0},this.categorias=[],this.productos=[],this.categoriaSeleccionada=null,this.mostrarPaleta=!1,this.nuevaUnidad="",this.unidadesSeleccionadas=[],this.familias=[],this.nuevaFamilia="",this.editandoFamiliaIndex=-1,this.coloresPaleta=["#DC3545","#B02A37","#6EA8FE","#031633","#F8F9FA","#FF4136","#FF851B","#FFDC00","#00D1B2","#0DCAF0","#0A58CA","#6610F2","#0D6EFD","#20C997","#FFC107"],this.unidadesBebidas=["ml","L","oz","unidades"],this.unidadesComida=["kg","g","lb","porciones","unidades"],this.categoriaForm=this.fb.group({nombre:["",s.k0.required],descripcion:["",s.k0.required],icono:["bi-cup-straw"],colorFondo:["#DC3545"]})}ngOnInit(){this.cargarCategorias(),this.cargarProductos()}ngOnDestroy(){this.categoriasSubscription&&this.categoriasSubscription.unsubscribe(),this.productosSubscription&&this.productosSubscription.unsubscribe()}cargarCategorias(){const a=(0,c.collection)(this.firestore,"categorias");this.categoriasSubscription=(0,c.collectionData)(a,{idField:"id"}).subscribe(o=>{this.categorias=o,this.actualizarContadoresProductos(),this.actualizarStats()})}cargarProductos(){const a=(0,c.collection)(this.firestore,"productos");this.productosSubscription=(0,c.collectionData)(a,{idField:"id"}).subscribe(o=>{this.productos=o,this.actualizarContadoresProductos(),this.actualizarStats()})}actualizarContadoresProductos(){this.categorias.forEach(a=>{if(a.id){const o=this.productos.filter(t=>t.categoriaId===a.id);a.productos=o.length,a.familias&&a.familias.forEach(t=>{const r=o.filter(d=>d.familiaId===t.id);t.productos=r.length})}})}actualizarStats(){this.stats.totalCategorias=this.categorias.length,this.stats.totalProductos=this.productos.length,this.stats.unidadesMedida=[...new Set(this.categorias.flatMap(a=>a.unidadesDisponibles))].length,this.stats.productosCombo=this.productos.filter(a=>a.esCombinado).length}seleccionarColor(a){this.categoriaForm.patchValue({colorFondo:a}),this.mostrarPaleta=!1}agregarUnidadPersonalizada(){this.nuevaUnidad&&!this.unidadesSeleccionadas.includes(this.nuevaUnidad)&&(this.unidadesSeleccionadas.push(this.nuevaUnidad),this.nuevaUnidad="")}seleccionarUnidadesBebidas(){this.unidadesBebidas.forEach(a=>{this.unidadesSeleccionadas.includes(a)||this.unidadesSeleccionadas.push(a)})}seleccionarUnidadesComida(){this.unidadesComida.forEach(a=>{this.unidadesSeleccionadas.includes(a)||this.unidadesSeleccionadas.push(a)})}eliminarUnidad(a){const o=this.unidadesSeleccionadas.indexOf(a);o>-1&&this.unidadesSeleccionadas.splice(o,1)}eliminarCategoria(a){var o=this;return(0,m.A)(function*(){if(a&&(yield g().fire({title:"\xbfEst\xe1s seguro?",text:"Esta acci\xf3n no se puede deshacer",icon:"warning",showCancelButton:!0,confirmButtonColor:"#dc3545",cancelButtonColor:"#6c757d",confirmButtonText:"S\xed, eliminar",cancelButtonText:"Cancelar"})).isConfirmed)try{const r=(0,c.doc)(o.firestore,"categorias",a);yield(0,c.deleteDoc)(r),yield g().fire("\xa1Eliminado!","La categor\xeda ha sido eliminada.","success")}catch(r){console.error("Error al eliminar la categor\xeda:",r),yield g().fire("Error","No se pudo eliminar la categor\xeda.","error")}})()}editarCategoria(a){if(!a.id)return;this.categoriaForm.contains("id")||this.categoriaForm.addControl("id",this.fb.control("")),this.categoriaForm.patchValue({id:a.id,nombre:a.nombre,descripcion:a.descripcion,icono:a.icono,colorFondo:a.colorFondo}),this.unidadesSeleccionadas=[...a.unidadesDisponibles||[]],this.familias=[],this.familias=a.familias&&a.familias.length>0?[...a.familias]:[];const o=document.getElementById("modalCategoria");if(o){new bootstrap.Modal(o).show();const r=o.querySelector(".btn-danger");r&&(r.textContent="Actualizar Categor\xeda")}}guardarCategoria(){var a=this;return(0,m.A)(function*(){if(a.categoriaForm.valid)if(0!==a.unidadesSeleccionadas.length)if(a.categoriaForm.get("id")?.value||0!==a.familias.length)try{const t={nombre:a.categoriaForm.get("nombre")?.value,descripcion:a.categoriaForm.get("descripcion")?.value,icono:a.categoriaForm.get("icono")?.value,colorFondo:a.categoriaForm.get("colorFondo")?.value,unidadesDisponibles:[...a.unidadesSeleccionadas],familias:[...a.familias]},r=a.categoriaForm.get("id")?.value;if(g().showLoading(),r){const d=(0,c.doc)(a.firestore,"categorias",r);yield(0,c.updateDoc)(d,t),yield g().fire({icon:"success",title:"\xa1Actualizado!",text:"La categor\xeda ha sido actualizada exitosamente",timer:1500,showConfirmButton:!1}),$("#modalCategoria").modal("hide")}else{const d=(0,c.collection)(a.firestore,"categorias"),u={...t,productos:0};yield(0,c.addDoc)(d,u),yield g().fire({icon:"success",title:"\xa1Creado!",text:"La categor\xeda ha sido creada exitosamente",timer:1500,showConfirmButton:!1}),$("#modalCategoria").modal("hide")}a.resetForm()}catch(t){console.error("Error al guardar la categor\xeda:",t),yield g().fire({icon:"error",title:"Error",text:"Hubo un problema al guardar la categor\xeda. Int\xe9ntelo de nuevo."})}else yield g().fire({icon:"error",title:"Error",text:"Debe agregar al menos una familia de productos para nuevas categor\xedas"});else yield g().fire({icon:"error",title:"Error",text:"Debe seleccionar al menos una unidad de medida"});else yield g().fire({icon:"error",title:"Error",text:"Por favor complete todos los campos requeridos"})})()}agregarFamilia(){if(this.nuevaFamilia.trim()){const a={id:this.generarIdFamilia(),nombre:this.nuevaFamilia.trim(),descripcion:"",productos:0};this.familias.push(a),this.nuevaFamilia=""}}generarIdFamilia(){return"fam_"+Date.now()+"_"+Math.random().toString(36).substr(2,9)}editarFamilia(a){this.editandoFamiliaIndex=a,this.nuevaFamilia=this.familias[a].nombre}guardarEdicionFamilia(){this.editandoFamiliaIndex>=0&&this.nuevaFamilia.trim()&&(this.familias[this.editandoFamiliaIndex].nombre=this.nuevaFamilia.trim(),this.editandoFamiliaIndex=-1,this.nuevaFamilia="")}cancelarEdicionFamilia(){this.editandoFamiliaIndex=-1,this.nuevaFamilia=""}eliminarFamilia(a){this.familias.splice(a,1)}agregarFamiliasPredefinidas(a){const o=[{id:this.generarIdFamilia(),nombre:"Whisky",descripcion:"Whisky y derivados",productos:0},{id:this.generarIdFamilia(),nombre:"Vinos",descripcion:"Vinos tintos, blancos y rosados",productos:0},{id:this.generarIdFamilia(),nombre:"Refrescos",descripcion:"Bebidas sin alcohol",productos:0},{id:this.generarIdFamilia(),nombre:"Cervezas",descripcion:"Cervezas nacionales e importadas",productos:0}],t=[{id:this.generarIdFamilia(),nombre:"Entrantes",descripcion:"Aperitivos y entrantes",productos:0},{id:this.generarIdFamilia(),nombre:"Platos Fuertes",descripcion:"Platos principales",productos:0},{id:this.generarIdFamilia(),nombre:"Postres",descripcion:"Postres y dulces",productos:0}];("barra"===a?o:t).forEach(d=>{this.familias.some(u=>u.nombre===d.nombre)||this.familias.push(d)})}getProductosPorCategoria(a){return this.productos.filter(o=>o.categoriaId===a)}getProductosPorFamilia(a,o){return this.productos.filter(t=>t.categoriaId===a&&t.familiaId===o)}getProductosSinFamilia(a){return this.productos.filter(o=>o.categoriaId===a&&(!o.familiaId||""===o.familiaId))}getNombreProducto(a){return a.nombre}resetForm(){this.categoriaForm.reset({nombre:"",descripcion:"",icono:"bi-cup-straw",colorFondo:"#DC3545"}),this.unidadesSeleccionadas=[],this.nuevaUnidad="",this.familias=[],this.nuevaFamilia="",this.editandoFamiliaIndex=-1}verDetalleCategoria(a){this.categoriaSeleccionada=a;const o=document.getElementById("detalleCategoriaModal");o&&new bootstrap.Modal(o).show()}editarDesdeDetalle(){if(this.categoriaSeleccionada){const a=document.getElementById("detalleCategoriaModal");if(a){const o=bootstrap.Modal.getInstance(a);o&&o.hide()}setTimeout(()=>{this.editarCategoria(this.categoriaSeleccionada)},300)}}eliminarDesdeDetalle(){var a=this;return(0,m.A)(function*(){if(a.categoriaSeleccionada?.id){const o=document.getElementById("detalleCategoriaModal");if(o){const t=bootstrap.Modal.getInstance(o);t&&t.hide()}setTimeout((0,m.A)(function*(){yield a.eliminarCategoria(a.categoriaSeleccionada.id)}),300)}})()}static{this.\u0275fac=function(o){return new(o||e)(i.rXU(s.ok),i.rXU(c.Firestore))}}static{this.\u0275cmp=i.VBU({type:e,selectors:[["app-categoria-page"]],decls:193,vars:38,consts:[[1,"container-fluid"],[1,"row"],[1,"col-8"],[1,"col","text-end"],["data-bs-toggle","modal","data-bs-target","#modalCategoria",1,"btn","btn-danger"],[1,"bi","bi-plus-lg","me-2"],[1,"row","mt-4"],[1,"col-md-3"],[1,"card","border-0","shadow-sm"],[1,"card-body"],[1,"text-danger","mb-0"],[1,"text-muted"],[1,"text-primary","mb-0"],[1,"text-dark","mb-0"],[1,"text-info","mb-0"],["class","col-12 col-md-4 mb-4",4,"ngFor","ngForOf"],["id","detalleCategoriaModal","data-bs-backdrop","static","data-bs-keyboard","false","tabindex","-1",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered","modal-lg"],[1,"modal-content"],[1,"modal-header","border-0","pb-0"],[1,"d-flex","align-items-center","w-100"],[1,"rounded-circle","me-3","d-flex","justify-content-center","align-items-center",2,"width","56px","height","56px"],[1,"flex-grow-1"],[1,"mb-1"],[1,"text-muted","mb-0","small"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],["class","modal-body pt-3",4,"ngIf"],[1,"modal-footer","border-0"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],[1,"bi","bi-x-lg","me-2"],["type","button",1,"btn","btn-primary",3,"click"],[1,"bi","bi-pencil-fill","me-2"],["type","button",1,"btn","btn-danger",3,"click"],[1,"bi","bi-trash3-fill","me-2"],["id","modalCategoria","data-bs-backdrop","static","data-bs-keyboard","false","tabindex","-1","aria-labelledby","staticBackdropLabel","aria-hidden","true",1,"modal","fade"],["id","staticBackdropLabel",1,"modal-title","fw-bold"],[1,"modal-body","px-4"],[3,"formGroup"],[1,"col-12","col-sm-6"],[1,"mb-4"],[1,"d-flex","align-items-center","mb-3"],[1,"bi","bi-tag-fill","me-2"],[1,"mb-0"],[1,"mb-3"],[1,"form-label"],["type","text","placeholder","Ej: Bebidas Alcoh\xf3licas","formControlName","nombre",1,"form-control"],["placeholder","Descripci\xf3n de la categor\xeda","formControlName","descripcion",1,"form-control"],["formControlName","icono",1,"form-select"],["value","bi-cup-straw"],["value","bi-egg-fried"],["value","bi-cup-fill"],["value","bi-globe"],[1,"bi","bi-palette-fill","me-2"],[1,"form-control","p-0",2,"height","auto"],[1,"p-3"],[1,"d-flex","flex-wrap","gap-2","mb-3"],["type","button","class","btn rounded-3 p-3 border-0",3,"background-color","click",4,"ngFor","ngForOf"],[1,"border","rounded-3","p-3"],[1,"d-flex","align-items-center"],[1,"rounded-circle","p-2"],[1,"ms-2"],[1,"bi","bi-collection","me-2"],[1,"row","g-3","mb-3"],[1,"col-12"],[1,"input-group"],["type","text","placeholder","Ej: Whisky, Entrantes, etc.",1,"form-control",3,"ngModel","ngModelOptions","ngModelChange","keyup.enter"],["class","btn btn-primary rounded-end","type","button",3,"click",4,"ngIf"],["class","btn btn-success rounded-end","type","button",3,"click",4,"ngIf"],["class","btn btn-secondary","type","button",3,"click",4,"ngIf"],[1,"col-md-6"],["type","button",1,"btn","btn-outline-primary","w-100",3,"click"],[1,"bi","bi-cup","me-2"],[1,"bi","bi-egg-fried","me-2"],[1,"form-control","p-2",2,"height","auto","min-height","60px"],["class","text-muted text-center py-2",4,"ngIf"],["class","d-flex flex-wrap gap-2",4,"ngIf"],[1,"bi","bi-rulers","me-2"],[1,"row","g-3"],["type","text","placeholder","Ej: litros",1,"form-control",3,"ngModel","ngModelOptions","ngModelChange"],["type","button",1,"btn","btn-primary","rounded-end",3,"click"],[1,"bi","bi-plus-lg"],[1,"form-control","p-2",2,"height","auto"],["class","text-muted",4,"ngIf"],["type","button","data-bs-dismiss","modal",1,"btn","btn-link","text-dark","text-decoration-none"],["type","button",1,"btn","btn-danger","px-4",3,"disabled","click"],[1,"col-12","col-md-4","mb-4"],[1,"card","border-0","shadow-sm","h-100",2,"cursor","pointer",3,"click"],[1,"card-body","p-4"],[1,"d-flex","justify-content-between","align-items-start","mb-3"],[1,"rounded-circle","p-3","me-3"],[1,"text-muted","mb-0"],[1,"d-flex","align-items-center","mb-2"],[1,"bi","bi-box-seam-fill","me-2","text-primary"],[1,"text-muted","d-block"],[1,"text-muted","d-block","mb-2"],[1,"d-flex","flex-wrap","gap-2"],["class","badge rounded-1 bg-light text-dark border",4,"ngFor","ngForOf"],[1,"badge","rounded-1","bg-light","text-dark","border"],[1,"modal-body","pt-3"],[1,"row","g-3","mb-4"],[1,"col-md-4"],[1,"card","border-0","bg-primary","bg-opacity-10","h-100"],[1,"card-body","text-center"],[1,"bi","bi-box-seam","text-primary","fs-2","d-block","mb-2"],[1,"mb-0","text-primary"],[1,"card","border-0","bg-success","bg-opacity-10","h-100"],[1,"bi","bi-collection","text-success","fs-2","d-block","mb-2"],[1,"mb-0","text-success"],[1,"card","border-0","bg-warning","bg-opacity-10","h-100"],[1,"bi","bi-rulers","text-warning","fs-2","d-block","mb-2"],[1,"mb-0","text-warning"],["class","card border-0 bg-light mb-3",4,"ngIf"],[1,"card","border-0","bg-light","mb-3"],[1,"bi","bi-rulers","me-2","text-primary"],["class","badge bg-light text-dark border","style","font-size: 0.85rem; padding: 8px 12px;",4,"ngFor","ngForOf"],["class","card border-0 bg-light",4,"ngIf"],["class","alert alert-info",4,"ngIf"],[1,"bi","bi-collection","me-2","text-primary"],["class","badge bg-primary d-flex align-items-center gap-2","style","font-size: 0.85rem; padding: 8px 12px;",4,"ngFor","ngForOf"],[1,"badge","bg-primary","d-flex","align-items-center","gap-2",2,"font-size","0.85rem","padding","8px 12px"],[1,"badge","bg-light","text-dark","border",2,"font-size","0.85rem","padding","8px 12px"],[1,"card","border-0","bg-light"],[1,"bi","bi-box-seam","me-2","text-primary"],[2,"max-height","300px","overflow-y","auto"],["class","mb-3",4,"ngFor","ngForOf"],["class","mb-3",4,"ngIf"],[4,"ngIf"],[1,"badge","bg-primary","me-2"],[1,"ms-3"],["class","d-flex justify-content-between align-items-center p-2 bg-white rounded mb-1",4,"ngFor","ngForOf"],[1,"d-flex","justify-content-between","align-items-center","p-2","bg-white","rounded","mb-1"],[1,"badge","bg-secondary"],[1,"badge","bg-warning","text-dark","me-2"],[1,"alert","alert-info"],[1,"bi","bi-info-circle","me-2"],["type","button",1,"btn","rounded-3","p-3","border-0",3,"click"],["type","button",1,"btn","btn-success","rounded-end",3,"click"],[1,"bi","bi-check-lg"],["type","button",1,"btn","btn-secondary",3,"click"],[1,"bi","bi-x-lg"],[1,"text-muted","text-center","py-2"],[1,"d-flex","gap-1"],["type","button",1,"btn","btn-sm","p-0",2,"width","16px","height","16px","background","rgba(255,255,255,0.2)","border","none","border-radius","2px",3,"click"],[1,"bi","bi-pencil",2,"font-size","0.7rem","color","white"],[1,"bi","bi-x",2,"font-size","0.7rem","color","white"],["class","badge bg-light text-dark border d-flex align-items-center",4,"ngFor","ngForOf"],[1,"badge","bg-light","text-dark","border","d-flex","align-items-center"],["type","button",1,"btn-close","ms-2",3,"click"]],template:function(o,t){if(1&o&&(i.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"h5"),i.EFF(4,"Gesti\xf3n de Categor\xedas"),i.k0s(),i.j41(5,"span"),i.EFF(6,"Organiza tus productos por categor\xedas"),i.k0s()(),i.j41(7,"div",3)(8,"button",4),i.nrm(9,"i",5),i.EFF(10," Nueva Categor\xeda "),i.k0s()()(),i.j41(11,"div",6)(12,"div",7)(13,"div",8)(14,"div",9)(15,"h1",10),i.EFF(16),i.k0s(),i.j41(17,"span",11),i.EFF(18,"Total Categor\xedas"),i.k0s()()()(),i.j41(19,"div",7)(20,"div",8)(21,"div",9)(22,"h1",12),i.EFF(23),i.k0s(),i.j41(24,"span",11),i.EFF(25,"Total Productos"),i.k0s()()()(),i.j41(26,"div",7)(27,"div",8)(28,"div",9)(29,"h1",13),i.EFF(30),i.k0s(),i.j41(31,"span",11),i.EFF(32,"Unidades de Medida"),i.k0s()()()(),i.j41(33,"div",7)(34,"div",8)(35,"div",9)(36,"h1",14),i.EFF(37),i.k0s(),i.j41(38,"span",11),i.EFF(39,"Productos Combo"),i.k0s()()()()(),i.j41(40,"div",6),i.DNE(41,x,23,8,"div",15),i.k0s()(),i.j41(42,"div",16)(43,"div",17)(44,"div",18)(45,"div",19)(46,"div",20)(47,"div",21),i.nrm(48,"i"),i.k0s(),i.j41(49,"div",22)(50,"h4",23),i.EFF(51),i.k0s(),i.j41(52,"p",24),i.EFF(53),i.k0s()()(),i.nrm(54,"button",25),i.k0s(),i.DNE(55,M,36,7,"div",26),i.j41(56,"div",27)(57,"button",28),i.nrm(58,"i",29),i.EFF(59,"Cerrar "),i.k0s(),i.j41(60,"button",30),i.bIt("click",function(){return t.editarDesdeDetalle()}),i.nrm(61,"i",31),i.EFF(62,"Editar "),i.k0s(),i.j41(63,"button",32),i.bIt("click",function(){return t.eliminarDesdeDetalle()}),i.nrm(64,"i",33),i.EFF(65,"Eliminar "),i.k0s()()()()(),i.j41(66,"div",34)(67,"div",17)(68,"div",18)(69,"div",19)(70,"h5",35),i.EFF(71),i.k0s(),i.nrm(72,"button",25),i.k0s(),i.j41(73,"div",36)(74,"form",37)(75,"div",1)(76,"div",38)(77,"div",39)(78,"div",40),i.nrm(79,"i",41),i.j41(80,"h6",42),i.EFF(81,"Informaci\xf3n B\xe1sica"),i.k0s()(),i.j41(82,"div")(83,"div",43)(84,"label",44),i.EFF(85,"Nombre de la Categor\xeda *"),i.k0s(),i.nrm(86,"input",45),i.k0s(),i.j41(87,"div",43)(88,"label",44),i.EFF(89,"Descripci\xf3n *"),i.k0s(),i.nrm(90,"textarea",46),i.k0s(),i.j41(91,"div")(92,"label",44),i.EFF(93,"Icono"),i.k0s(),i.j41(94,"select",47)(95,"option",48),i.EFF(96,"\u{1f964} Bebida"),i.k0s(),i.j41(97,"option",49),i.EFF(98,"\u{1f373} Comida"),i.k0s(),i.j41(99,"option",50),i.EFF(100,"\u{1f378} Coctel"),i.k0s(),i.j41(101,"option",51),i.EFF(102,"\u{1f30e} Global"),i.k0s()()()()()(),i.j41(103,"div",38)(104,"div",39)(105,"div",40),i.nrm(106,"i",52),i.j41(107,"h6",42),i.EFF(108,"Apariencia"),i.k0s()(),i.j41(109,"div",43)(110,"label",44),i.EFF(111,"Color de la Categor\xeda"),i.k0s(),i.j41(112,"div",53),i.nrm(113,"div",54),i.k0s()(),i.j41(114,"div",55),i.DNE(115,B,1,2,"button",56),i.k0s(),i.j41(116,"label",44),i.EFF(117,"Vista Previa"),i.k0s(),i.j41(118,"div",57)(119,"div",58)(120,"div",59),i.nrm(121,"i"),i.k0s(),i.j41(122,"div",60)(123,"div"),i.EFF(124),i.k0s(),i.j41(125,"small",11),i.EFF(126),i.k0s()()()()()()(),i.j41(127,"div",39)(128,"div",40),i.nrm(129,"i",61),i.j41(130,"h6",42),i.EFF(131,"Familias de Productos"),i.k0s()(),i.j41(132,"div",62)(133,"div",63)(134,"label",44),i.EFF(135,"Agregar Familia Personalizada"),i.k0s(),i.j41(136,"div",64)(137,"input",65),i.bIt("ngModelChange",function(d){return t.nuevaFamilia=d})("keyup.enter",function(){return t.editandoFamiliaIndex>=0?t.guardarEdicionFamilia():t.agregarFamilia()}),i.k0s(),i.DNE(138,U,2,0,"button",66),i.DNE(139,Y,2,0,"button",67),i.DNE(140,A,2,0,"button",68),i.k0s()(),i.j41(141,"div",69)(142,"label",44),i.EFF(143,"Familias para Barra"),i.k0s(),i.j41(144,"button",70),i.bIt("click",function(){return t.agregarFamiliasPredefinidas("barra")}),i.nrm(145,"i",71),i.EFF(146,"Agregar Familias de Barra "),i.k0s()(),i.j41(147,"div",69)(148,"label",44),i.EFF(149,"Familias para Cocina"),i.k0s(),i.j41(150,"button",70),i.bIt("click",function(){return t.agregarFamiliasPredefinidas("cocina")}),i.nrm(151,"i",72),i.EFF(152,"Agregar Familias de Cocina "),i.k0s()(),i.j41(153,"div",63)(154,"label",44),i.EFF(155,"Familias Configuradas"),i.k0s(),i.j41(156,"div",73),i.DNE(157,V,3,2,"div",74),i.DNE(158,J,2,1,"div",75),i.k0s()()()(),i.j41(159,"div")(160,"div",40),i.nrm(161,"i",76),i.j41(162,"h6",42),i.EFF(163,"Unidades de Medida"),i.k0s()(),i.j41(164,"div",77)(165,"div",63)(166,"label",44),i.EFF(167,"Agregar Unidad Personalizada"),i.k0s(),i.j41(168,"div",64)(169,"input",78),i.bIt("ngModelChange",function(d){return t.nuevaUnidad=d}),i.k0s(),i.j41(170,"button",79),i.bIt("click",function(){return t.agregarUnidadPersonalizada()}),i.nrm(171,"i",80),i.k0s()()(),i.j41(172,"div",69)(173,"label",44),i.EFF(174,"Unidades para Bebidas"),i.k0s(),i.j41(175,"button",70),i.bIt("click",function(){return t.seleccionarUnidadesBebidas()}),i.EFF(176," Agregar Unidades de Bebidas "),i.k0s()(),i.j41(177,"div",69)(178,"label",44),i.EFF(179,"Unidades para Comida"),i.k0s(),i.j41(180,"button",70),i.bIt("click",function(){return t.seleccionarUnidadesComida()}),i.EFF(181," Agregar Unidades de Comida "),i.k0s()(),i.j41(182,"div",63)(183,"label",44),i.EFF(184,"Unidades Seleccionadas *"),i.k0s(),i.j41(185,"div",81),i.DNE(186,L,2,0,"div",82),i.DNE(187,W,2,1,"div",75),i.k0s()()()()()(),i.j41(188,"div",27)(189,"button",83),i.EFF(190," Cancelar "),i.k0s(),i.j41(191,"button",84),i.bIt("click",function(){return t.guardarCategoria()}),i.EFF(192),i.k0s()()()()()),2&o){let r,d,u,h,_,v,k;i.R7$(16),i.JRh(t.stats.totalCategorias),i.R7$(7),i.JRh(t.stats.totalProductos),i.R7$(7),i.JRh(t.stats.unidadesMedida),i.R7$(7),i.JRh(t.stats.productosCombo),i.R7$(4),i.Y8G("ngForOf",t.categorias),i.R7$(6),i.xc7("background-color",null==t.categoriaSeleccionada?null:t.categoriaSeleccionada.colorFondo),i.R7$(1),i.HbH("bi "+(null==t.categoriaSeleccionada?null:t.categoriaSeleccionada.icono)+" text-white fs-3"),i.R7$(3),i.JRh(null==t.categoriaSeleccionada?null:t.categoriaSeleccionada.nombre),i.R7$(2),i.JRh(null==t.categoriaSeleccionada?null:t.categoriaSeleccionada.descripcion),i.R7$(2),i.Y8G("ngIf",t.categoriaSeleccionada),i.R7$(16),i.SpI(" ",null!=(r=t.categoriaForm.get("id"))&&r.value?"Editar Categor\xeda":"Nueva Categor\xeda"," "),i.R7$(3),i.Y8G("formGroup",t.categoriaForm),i.R7$(39),i.xc7("background-color",null==(d=t.categoriaForm.get("colorFondo"))?null:d.value),i.R7$(2),i.Y8G("ngForOf",t.coloresPaleta),i.R7$(5),i.xc7("background-color",null==(u=t.categoriaForm.get("colorFondo"))?null:u.value),i.R7$(1),i.HbH("bi "+(null==(h=t.categoriaForm.get("icono"))?null:h.value)+" text-white"),i.R7$(3),i.SpI(" ",(null==(_=t.categoriaForm.get("nombre"))?null:_.value)||"Nombre de Categor\xeda"," "),i.R7$(2),i.JRh((null==(v=t.categoriaForm.get("descripcion"))?null:v.value)||"Descripci\xf3n de la categor\xeda"),i.R7$(11),i.Y8G("ngModel",t.nuevaFamilia)("ngModelOptions",i.lJ4(36,F)),i.R7$(1),i.Y8G("ngIf",t.editandoFamiliaIndex<0),i.R7$(1),i.Y8G("ngIf",t.editandoFamiliaIndex>=0),i.R7$(1),i.Y8G("ngIf",t.editandoFamiliaIndex>=0),i.R7$(17),i.Y8G("ngIf",0===t.familias.length),i.R7$(1),i.Y8G("ngIf",t.familias.length>0),i.R7$(11),i.Y8G("ngModel",t.nuevaUnidad)("ngModelOptions",i.lJ4(37,F)),i.R7$(17),i.Y8G("ngIf",0===t.unidadesSeleccionadas.length),i.R7$(1),i.Y8G("ngIf",t.unidadesSeleccionadas.length>0),i.R7$(4),i.Y8G("disabled",!t.categoriaForm.valid||0===t.unidadesSeleccionadas.length),i.R7$(1),i.SpI(" ",null!=(k=t.categoriaForm.get("id"))&&k.value?"Actualizar Categor\xeda":"Crear Categor\xeda"," ")}},dependencies:[b.Sq,b.bT,s.qT,s.xH,s.y7,s.me,s.wz,s.BC,s.cb,s.j4,s.JD,s.vS]})}}return e})()}];let Q=(()=>{class e{static{this.\u0275fac=function(o){return new(o||e)}}static{this.\u0275mod=i.$C({type:e})}static{this.\u0275inj=i.G2t({imports:[f.iI.forChild(K),f.iI]})}}return e})(),Z=(()=>{class e{static{this.\u0275fac=function(o){return new(o||e)}}static{this.\u0275mod=i.$C({type:e})}static{this.\u0275inj=i.G2t({imports:[Q,C.PrivateModule,b.MD,s.X1,s.YN]})}}return e})()}}]);