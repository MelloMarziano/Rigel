"use strict";(self.webpackChunkrigel=self.webpackChunkrigel||[]).push([[656],{9656:(w,F,l)=>{l.r(F),l.d(F,{ProveedoresPageModule:()=>A});var h=l(7412),d=l(9417),m=l(177),f=l(8498),p=l(467),c=l(2418),g=l(8032),u=l.n(g),k=l(8359),E=l(4572),b=l(9172),P=l(152),e=l(7705);function j(i,n){if(1&i&&(e.j41(0,"option",74),e.EFF(1),e.k0s()),2&i){const o=n.$implicit;e.Y8G("value",o.id),e.R7$(1),e.JRh(o.nombre)}}function y(i,n){1&i&&(e.j41(0,"div",75)(1,"p",10),e.EFF(2,"No se encontraron proveedores con los filtros seleccionados."),e.k0s()())}function C(i,n){if(1&i&&(e.j41(0,"span",99),e.EFF(1),e.k0s()),2&i){const o=n.$implicit,r=e.XpG(2);e.R7$(1),e.SpI(" ",r.getProductName(o)," ")}}const S=function(i,n){return{"bg-info bg-opacity-10":i,"bg-warning bg-opacity-10":n}};function R(i,n){if(1&i&&(e.j41(0,"div",100)(1,"small",101),e.EFF(2),e.k0s()()),2&i){const o=e.XpG().$implicit;e.Y8G("ngClass",e.l_i(2,S,"SEPA"===o.metodoPago,"TRANSFERENCIA"===o.metodoPago)),e.R7$(2),e.SpI("M\xe9todo de Pago: ",o.metodoPago,"")}}function x(i,n){if(1&i){const o=e.RV6();e.j41(0,"div",76)(1,"div",77),e.bIt("click",function(){const a=e.eBV(o).$implicit,s=e.XpG();return e.Njj(s.verDetalleProveedor(a))}),e.j41(2,"div",78)(3,"div",79)(4,"div",80)(5,"div",81),e.nrm(6,"i",82),e.k0s(),e.j41(7,"div")(8,"h6",83),e.EFF(9),e.k0s(),e.j41(10,"small",10),e.EFF(11),e.k0s()()()(),e.j41(12,"div",84)(13,"div",85),e.nrm(14,"i",86),e.j41(15,"span"),e.EFF(16),e.k0s()(),e.j41(17,"div",85),e.nrm(18,"i",87),e.j41(19,"span"),e.EFF(20),e.k0s()(),e.j41(21,"div",85),e.nrm(22,"i",88),e.j41(23,"span"),e.EFF(24),e.k0s()(),e.j41(25,"div",80),e.nrm(26,"i",89),e.j41(27,"span"),e.EFF(28),e.k0s()()(),e.j41(29,"div",90)(30,"div",91)(31,"div",80),e.nrm(32,"i",92),e.j41(33,"div")(34,"small",93),e.EFF(35,"Pago: "),e.j41(36,"span"),e.EFF(37),e.k0s()()()()(),e.j41(38,"div",91)(39,"div",80),e.nrm(40,"i",94),e.j41(41,"div")(42,"small",93),e.EFF(43,"Productos:"),e.k0s(),e.j41(44,"div",95),e.DNE(45,C,2,1,"span",96),e.k0s()()()()(),e.j41(46,"div",97)(47,"small"),e.EFF(48),e.k0s()(),e.DNE(49,R,3,5,"div",98),e.k0s()()()}if(2&i){const o=n.$implicit;e.R7$(9),e.JRh(o.nombre),e.R7$(2),e.SpI("CIF: ",o.cif,""),e.R7$(5),e.SpI("Contacto: ",o.contacto.nombre,""),e.R7$(4),e.JRh(o.contacto.email),e.R7$(4),e.JRh(o.contacto.telefono),e.R7$(4),e.Lme("",o.direccion.calle,", ",o.direccion.ciudad,""),e.R7$(9),e.SpI("",o.plazoPago," d\xedas"),e.R7$(8),e.Y8G("ngForOf",o.productos),e.R7$(3),e.SpI("Descuento: ",o.descuento,"%"),e.R7$(1),e.Y8G("ngIf",o.metodoPago)}}function $(i,n){if(1&i&&(e.j41(0,"div",111),e.nrm(1,"i",112),e.EFF(2),e.k0s()),2&i){const o=n.$implicit,r=e.XpG(2);e.R7$(2),e.SpI(" ",r.getProductName(o)," ")}}function N(i,n){1&i&&(e.j41(0,"div",113),e.EFF(1," No hay productos asignados "),e.k0s())}function G(i,n){if(1&i&&(e.j41(0,"div",38)(1,"div",0)(2,"div",39)(3,"h6"),e.nrm(4,"i",40),e.EFF(5,"\xa0Informaci\xf3n de la Empresa"),e.k0s(),e.j41(6,"div",69)(7,"label",102),e.EFF(8,"Nombre Comercial"),e.k0s(),e.nrm(9,"input",103),e.k0s(),e.j41(10,"div",0)(11,"div",104)(12,"label",102),e.EFF(13,"CIF"),e.k0s(),e.nrm(14,"input",103),e.k0s(),e.j41(15,"div",104)(16,"label",102),e.EFF(17,"Raz\xf3n Social"),e.k0s(),e.nrm(18,"input",103),e.k0s()(),e.j41(19,"div",69)(20,"label",102),e.EFF(21,"Persona de Contacto"),e.k0s(),e.nrm(22,"input",103),e.k0s(),e.j41(23,"div",0)(24,"div",104)(25,"label",102),e.EFF(26,"Tel\xe9fono"),e.k0s(),e.nrm(27,"input",103),e.k0s(),e.j41(28,"div",104)(29,"label",102),e.EFF(30,"Email"),e.k0s(),e.nrm(31,"input",103),e.k0s()(),e.j41(32,"div",69)(33,"div",51),e.nrm(34,"input",105),e.j41(35,"label",106),e.EFF(36,"Proveedor activo"),e.k0s()()()(),e.j41(37,"div",39)(38,"h6"),e.nrm(39,"i",54),e.EFF(40,"\xa0Direcci\xf3n y Datos Fiscales"),e.k0s(),e.j41(41,"div",69)(42,"label",102),e.EFF(43,"Direcci\xf3n"),e.k0s(),e.nrm(44,"input",103),e.k0s(),e.j41(45,"div",0)(46,"div",104)(47,"label",102),e.EFF(48,"C\xf3digo Postal"),e.k0s(),e.nrm(49,"input",103),e.k0s(),e.j41(50,"div",104)(51,"label",102),e.EFF(52,"Ciudad"),e.k0s(),e.nrm(53,"input",103),e.k0s()(),e.j41(54,"div",69)(55,"label",102),e.EFF(56,"Provincia"),e.k0s(),e.nrm(57,"input",103),e.k0s(),e.j41(58,"div",69)(59,"label",102),e.EFF(60,"IBAN"),e.k0s(),e.nrm(61,"input",103),e.k0s(),e.j41(62,"div",0)(63,"div",104)(64,"label",102),e.EFF(65,"D\xedas de Pago"),e.k0s(),e.nrm(66,"input",103),e.k0s(),e.j41(67,"div",104)(68,"label",102),e.EFF(69,"Descuento (%)"),e.k0s(),e.nrm(70,"input",103),e.k0s()(),e.j41(71,"div",69)(72,"label",102),e.EFF(73,"Tipo de Pago"),e.k0s(),e.nrm(74,"input",103),e.k0s()()(),e.nrm(75,"hr",107),e.j41(76,"div",0)(77,"div",45)(78,"h6"),e.nrm(79,"i",68),e.EFF(80,"\xa0Productos Suministrados"),e.k0s(),e.j41(81,"div",108),e.DNE(82,$,3,1,"div",109),e.DNE(83,N,2,0,"div",110),e.k0s()()()()),2&i){const o=e.XpG();e.R7$(9),e.Y8G("value",o.proveedorSeleccionado.nombre),e.R7$(5),e.Y8G("value",o.proveedorSeleccionado.cif),e.R7$(4),e.Y8G("value",o.proveedorSeleccionado.razonSocial),e.R7$(4),e.Y8G("value",o.proveedorSeleccionado.contacto.nombre),e.R7$(5),e.Y8G("value",o.proveedorSeleccionado.contacto.telefono),e.R7$(4),e.Y8G("value",o.proveedorSeleccionado.contacto.email),e.R7$(3),e.Y8G("checked",o.proveedorSeleccionado.activo),e.R7$(10),e.Y8G("value",o.proveedorSeleccionado.direccion.calle),e.R7$(5),e.Y8G("value",o.proveedorSeleccionado.direccion.codigoPostal),e.R7$(4),e.Y8G("value",o.proveedorSeleccionado.direccion.ciudad),e.R7$(4),e.Y8G("value",o.proveedorSeleccionado.direccion.provincia),e.R7$(4),e.Y8G("value",o.proveedorSeleccionado.iban||"No especificado"),e.R7$(5),e.Y8G("value",o.proveedorSeleccionado.plazoPago),e.R7$(4),e.Y8G("value",o.proveedorSeleccionado.descuento),e.R7$(4),e.Y8G("value",o.proveedorSeleccionado.metodoPago),e.R7$(8),e.Y8G("ngForOf",o.proveedorSeleccionado.productos),e.R7$(1),e.Y8G("ngIf",!o.proveedorSeleccionado.productos||0===o.proveedorSeleccionado.productos.length)}}function D(i,n){if(1&i&&(e.j41(0,"label",114),e.nrm(1,"input",115),e.EFF(2),e.k0s()),2&i){const o=n.index,r=e.XpG();e.Y8G("hidden",!r.shouldShowProduct(o)),e.R7$(1),e.Y8G("formControlName",o),e.R7$(1),e.SpI(" ",(null==r.productos[o]?null:r.productos[o].nombre)||"Producto sin nombre"," ")}}const I=[{path:"",component:(()=>{class i{constructor(o,r,t){this.fb=o,this.firestore=r,this.cdr=t,this.proveedores=[],this.filteredProveedores=[],this.productos=[],this.categorias=[],this.totalProductos=0,this.productosBajosEnStock=0,this.subscriptions=new k.yU,this.productSearch=new d.MJ(""),this.proveedorSearch=new d.MJ(""),this.categoryFilter=new d.MJ("all"),this.proveedorSeleccionado=null,this.proveedorForm=this.fb.group({id:[null],nombre:["",d.k0.required],cif:["",d.k0.required],razonSocial:["",d.k0.required],contacto:this.fb.group({nombre:["",d.k0.required],telefono:["",d.k0.required],email:["",[d.k0.required,d.k0.email]]}),direccion:this.fb.group({calle:["",d.k0.required],codigoPostal:["",d.k0.required],ciudad:["",d.k0.required],provincia:["",d.k0.required]}),iban:[""],plazoPago:[30,d.k0.min(0)],descuento:[0,[d.k0.min(0),d.k0.max(100)]],activo:[!0],metodoPago:["",d.k0.required],productos:this.fb.array([])})}ngOnInit(){this.cargarProveedores(),this.cargarProductos(),this.cargarCategorias();const o=document.getElementById("staticBackdrop");o&&(this.modal=new bootstrap.Modal(o));const r=document.getElementById("detalleModal");r&&(this.detalleModal=new bootstrap.Modal(r)),this.subscriptions.add(this.productSearch.valueChanges.subscribe(()=>{this.cdr.detectChanges()})),this.subscriptions.add((0,E.z)([this.proveedorSearch.valueChanges.pipe((0,b.Z)("")),this.categoryFilter.valueChanges.pipe((0,b.Z)("all"))]).pipe((0,P.B)(300)).subscribe(([t,a])=>{this.filterProveedores(t||"",a||"all")}))}ngOnDestroy(){this.subscriptions.unsubscribe()}get productosFormArray(){return this.proveedorForm.get("productos")}cargarProveedores(){const o=(0,c.rJ)(this.firestore,"proveedores");this.subscriptions.add((0,c.xs)(o,{idField:"id"}).subscribe(r=>{this.proveedores=r,this.filteredProveedores=r}))}cargarProductos(){const o=(0,c.rJ)(this.firestore,"productos");this.subscriptions.add((0,c.xs)(o,{idField:"id"}).subscribe(r=>{this.productos=r,this.totalProductos=r.length,this.productosBajosEnStock=r.filter(t=>!t.esCombinado&&void 0!==t.stock&&void 0!==t.stockMinimo&&t.stock<=t.stockMinimo).length,this.buildProductsFormArray()}))}cargarCategorias(){const o=(0,c.rJ)(this.firestore,"categorias");this.subscriptions.add((0,c.xs)(o,{idField:"id"}).subscribe(r=>{this.categorias=r}))}filterProveedores(o,r){let t=[...this.proveedores];if(o&&(t=t.filter(a=>a.nombre.toLowerCase().includes(o.toLowerCase()))),r&&"all"!==r){const a=this.productos.filter(s=>s.categoriaId===r).map(s=>s.id);t=t.filter(s=>s.productos.some(v=>a.includes(v)))}this.filteredProveedores=t}buildProductsFormArray(){this.productosFormArray.clear(),this.productos.forEach(()=>{this.productosFormArray.push(new d.MJ(!1))})}shouldShowProduct(o){const r=this.productSearch.value?.toLowerCase()||"";return!r||this.productos[o].nombre.toLowerCase().includes(r)}guardarProveedor(){var o=this;return(0,p.A)(function*(){if(o.proveedorForm.invalid)return void u().fire("Error","Por favor, complete todos los campos requeridos.","error");const r=o.proveedorForm.value,t=o.productos.filter((s,v)=>o.productosFormArray.at(v).value).map(s=>s.id),a={...r,productos:t};u().showLoading();try{if(r.id){const s=(0,c.H9)(o.firestore,"proveedores",r.id);yield(0,c.mZ)(s,a),u().fire("\xa1Actualizado!","El proveedor ha sido actualizado.","success")}else a.fechaCreacion=(0,c.O5)(),delete a.id,yield(0,c.gS)((0,c.rJ)(o.firestore,"proveedores"),a),u().fire("\xa1Creado!","El nuevo proveedor ha sido guardado.","success");o.modal.hide(),o.resetForm()}catch(s){console.error("Error al guardar el proveedor:",s),u().fire("Error","Hubo un problema al guardar el proveedor.","error")}})()}editarProveedor(o){this.proveedorForm.reset(),this.proveedorForm.patchValue(o),this.productosFormArray.controls.forEach((r,t)=>{o.productos&&this.productos[t]&&o.productos.includes(this.productos[t].id)?r.setValue(!0):r.setValue(!1)}),this.modal.show()}eliminarProveedor(o){var r=this;return(0,p.A)(function*(){if((yield u().fire({title:"\xbfEst\xe1s seguro?",text:"Esta acci\xf3n no se puede deshacer.",icon:"warning",showCancelButton:!0,confirmButtonColor:"#dc3545",cancelButtonColor:"#6c757d",confirmButtonText:"S\xed, eliminar",cancelButtonText:"Cancelar"})).isConfirmed)try{yield(0,c.kd)((0,c.H9)(r.firestore,"proveedores",o)),u().fire("\xa1Eliminado!","El proveedor ha sido eliminado.","success")}catch(a){console.error("Error al eliminar el proveedor:",a),u().fire("Error","No se pudo eliminar el proveedor.","error")}})()}abrirModalNuevo(){this.resetForm(),this.modal.show()}resetForm(){this.proveedorForm.reset({nombre:"",cif:"",razonSocial:"",contacto:{nombre:"",telefono:"",email:""},direccion:{calle:"",codigoPostal:"",ciudad:"",provincia:""},iban:"",plazoPago:30,descuento:0,activo:!0,metodoPago:""}),this.productosFormArray&&this.productosFormArray.controls.forEach(o=>o.setValue(!1)),this.productSearch.setValue("")}getProductName(o){const r=this.productos.find(t=>t.id===o);return r?r.nombre:""}verDetalleProveedor(o){const r=this.productos.filter(t=>o.productos&&o.productos.includes(t.id)||t.proveedorId===o.id).map(t=>t.id);this.proveedorSeleccionado={...o,productos:r},this.detalleModal.show()}editarDesdeDetalle(){this.proveedorSeleccionado&&(this.detalleModal.hide(),this.editarProveedor(this.proveedorSeleccionado))}eliminarDesdeDetalle(){var o=this;return(0,p.A)(function*(){o.proveedorSeleccionado&&(o.detalleModal.hide(),yield o.eliminarProveedor(o.proveedorSeleccionado.id),o.proveedorSeleccionado=null)})()}static{this.\u0275fac=function(r){return new(r||i)(e.rXU(d.ok),e.rXU(c._7),e.rXU(e.gRc))}}static{this.\u0275cmp=e.VBU({type:i,selectors:[["app-proveedores-page"]],decls:192,vars:14,consts:[[1,"row"],[1,"col-8"],[1,"col","text-end"],[1,"btn","btn-danger",3,"click"],[1,"bi","bi-plus-lg","me-2"],[1,"row","mt-4"],[1,"col-md-3"],[1,"card","border-0","shadow-sm"],[1,"card-body"],[1,"text-primary","mb-0"],[1,"text-muted"],[1,"text-danger","mb-0"],[1,"row","mt-3"],[1,"col"],[1,"card"],[1,"card-body","d-flex","gap-2"],["type","text","placeholder","Buscar proveedor...",1,"form-control",3,"formControl"],[1,"form-select",3,"formControl"],["value","all"],[3,"value",4,"ngFor","ngForOf"],["class","col-12 text-center",4,"ngIf"],["class","col-12 col-md-4 mb-4",4,"ngFor","ngForOf"],["id","detalleModal","data-bs-backdrop","static","data-bs-keyboard","false","tabindex","-1",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered","modal-lg"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],["class","modal-body",4,"ngIf"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["type","button",1,"btn","btn-primary",3,"click"],[1,"bi","bi-pencil-fill","me-2"],["type","button",1,"btn","btn-danger",3,"click"],[1,"bi","bi-trash3-fill","me-2"],["id","staticBackdrop","data-bs-backdrop","static","data-bs-keyboard","false","tabindex","-1","aria-labelledby","staticBackdropLabel","aria-hidden","true",1,"modal","fade"],[3,"formGroup","ngSubmit"],["id","staticBackdropLabel",1,"modal-title"],[1,"modal-body"],[1,"col-12","col-sm-6"],[1,"bi","bi-building"],[1,"row","mt-2"],[1,"text-danger"],["type","text","placeholder","Nombre del proveedor","formControlName","nombre",1,"form-control"],["type","text","placeholder","B12345678","formControlName","cif",1,"form-control"],[1,"col-12"],["type","text","placeholder","Distribuciones S.L.","formControlName","razonSocial",1,"form-control"],["formGroupName","contacto"],["type","text","placeholder","Carlos Mendoza","formControlName","nombre",1,"form-control"],["type","tel","placeholder","+34 91 123 4567","formControlName","telefono",1,"form-control"],["type","email","placeholder","contacto@proveedor.com","formControlName","email",1,"form-control"],[1,"form-check"],["type","checkbox","id","checkDefault","formControlName","activo",1,"form-check-input"],["for","checkDefault",1,"form-check-label"],[1,"bi","bi-geo-alt-fill"],["formGroupName","direccion"],["type","text","placeholder","Calle Gran Via, 15","formControlName","calle",1,"form-control"],["type","text","placeholder","28013","formControlName","codigoPostal",1,"form-control"],["type","text","placeholder","Madrid","formControlName","ciudad",1,"form-control"],["type","text","placeholder","Madrid","formControlName","provincia",1,"form-control"],["type","text","placeholder","ES91 2100 0418 4502 0005 1332","formControlName","iban",1,"form-control"],["type","number","placeholder","30","formControlName","plazoPago",1,"form-control"],["type","number","placeholder","5","formControlName","descuento",1,"form-control"],["for",""],["name","","id","","formControlName","metodoPago",1,"form-select"],["value","SEPA"],["value","TRANSFERENCIA"],[1,"my-4"],[1,"bi","bi-box-seam-fill"],[1,"mb-3"],["type","text","placeholder","Buscar producto...",1,"form-control",3,"formControl"],["formArrayName","productos",1,"list-group",2,"max-height","200px","overflow-y","auto"],["class","list-group-item",3,"hidden",4,"ngFor","ngForOf"],["type","submit",1,"btn","btn-danger",3,"disabled"],[3,"value"],[1,"col-12","text-center"],[1,"col-12","col-md-4","mb-4"],[1,"card","shadow-sm","border-0","h-100",2,"cursor","pointer",3,"click"],[1,"card-body","p-4"],[1,"d-flex","justify-content-between","align-items-start","mb-4"],[1,"d-flex","align-items-center"],[1,"rounded-circle","me-3","d-flex","justify-content-center","align-items-center",2,"background-color","#03204c","width","48px","height","48px"],[1,"bi","bi-building-fill","text-white","fs-4"],[1,"mb-0","fw-bold"],[1,"mb-4"],[1,"d-flex","align-items-center","mb-2"],[1,"bi","bi-person-fill","me-2","text-primary"],[1,"bi","bi-envelope-fill","me-2","text-primary"],[1,"bi","bi-telephone-fill","me-2","text-primary"],[1,"bi","bi-geo-alt-fill","me-2","text-primary"],[1,"row","mb-3"],[1,"col-6"],[1,"bi","bi-calendar3","me-2","text-primary"],[1,"text-muted","d-block"],[1,"bi","bi-box-seam-fill","me-2","text-primary"],[1,"d-flex","flex-wrap","gap-1","mt-1"],["class","badge bg-light text-dark border",4,"ngFor","ngForOf"],[1,"bg-success","bg-opacity-10","text-success","px-3","py-2","rounded-1","mb-3"],["class","px-3 py-2 rounded-1",3,"ngClass",4,"ngIf"],[1,"badge","bg-light","text-dark","border"],[1,"px-3","py-2","rounded-1",3,"ngClass"],[1,"text-white","fw-bold"],[1,"form-label","fw-bold"],["type","text","disabled","",1,"form-control",3,"value"],[1,"col-6","mb-3"],["type","checkbox","disabled","",1,"form-check-input",3,"checked"],[1,"form-check-label","fw-bold"],[1,"my-3"],[1,"list-group",2,"max-height","200px","overflow-y","auto"],["class","list-group-item",4,"ngFor","ngForOf"],["class","list-group-item text-muted text-center",4,"ngIf"],[1,"list-group-item"],[1,"bi","bi-check-circle-fill","text-success","me-2"],[1,"list-group-item","text-muted","text-center"],[1,"list-group-item",3,"hidden"],["type","checkbox",1,"form-check-input","me-1",3,"formControlName"]],template:function(r,t){if(1&r&&(e.j41(0,"div",0)(1,"div",1)(2,"h5"),e.EFF(3,"Gesti\xf3n de Proveedores"),e.k0s(),e.j41(4,"span"),e.EFF(5,"Administra tus proveedores y contactos"),e.k0s()(),e.j41(6,"div",2)(7,"button",3),e.bIt("click",function(){return t.abrirModalNuevo()}),e.nrm(8,"i",4),e.EFF(9," Nuevo Proveedor "),e.k0s()()(),e.j41(10,"div",5)(11,"div",6)(12,"div",7)(13,"div",8)(14,"h1",9),e.EFF(15),e.k0s(),e.j41(16,"span",10),e.EFF(17,"Total Productos"),e.k0s()()()(),e.j41(18,"div",6)(19,"div",7)(20,"div",8)(21,"h1",11),e.EFF(22),e.k0s(),e.j41(23,"span",10),e.EFF(24,"Productos bajos en stock"),e.k0s()()()()(),e.j41(25,"div",12)(26,"div",13)(27,"div",14)(28,"div",15),e.nrm(29,"input",16),e.j41(30,"select",17)(31,"option",18),e.EFF(32,"Todas las categor\xedas"),e.k0s(),e.DNE(33,j,2,2,"option",19),e.k0s()()()()(),e.j41(34,"div",5),e.DNE(35,y,3,0,"div",20),e.DNE(36,x,50,11,"div",21),e.k0s(),e.j41(37,"div",22)(38,"div",23)(39,"div",24)(40,"div",25)(41,"h5",26),e.EFF(42,"Detalle del Proveedor"),e.k0s(),e.nrm(43,"button",27),e.k0s(),e.DNE(44,G,84,17,"div",28),e.j41(45,"div",29)(46,"button",30),e.EFF(47,"Cerrar"),e.k0s(),e.j41(48,"button",31),e.bIt("click",function(){return t.editarDesdeDetalle()}),e.nrm(49,"i",32),e.EFF(50,"Editar "),e.k0s(),e.j41(51,"button",33),e.bIt("click",function(){return t.eliminarDesdeDetalle()}),e.nrm(52,"i",34),e.EFF(53,"Eliminar "),e.k0s()()()()(),e.j41(54,"div",35)(55,"div",23)(56,"div",24)(57,"form",36),e.bIt("ngSubmit",function(){return t.guardarProveedor()}),e.j41(58,"div",25)(59,"h4",37),e.EFF(60),e.k0s(),e.nrm(61,"button",27),e.k0s(),e.j41(62,"div",38)(63,"div",0)(64,"div",39)(65,"h6"),e.nrm(66,"i",40),e.EFF(67,"\xa0Informaci\xf3n de la Empresa"),e.k0s(),e.j41(68,"div",41)(69,"div",39)(70,"label"),e.EFF(71,"Nombre Comercial "),e.j41(72,"span",42),e.EFF(73,"*"),e.k0s()(),e.nrm(74,"input",43),e.k0s(),e.j41(75,"div",39)(76,"label"),e.EFF(77,"CIF "),e.j41(78,"span",42),e.EFF(79,"*"),e.k0s()(),e.nrm(80,"input",44),e.k0s()(),e.j41(81,"div",12)(82,"div",45)(83,"label"),e.EFF(84,"Raz\xf3n Social "),e.j41(85,"span",42),e.EFF(86,"*"),e.k0s()(),e.nrm(87,"input",46),e.k0s()(),e.j41(88,"div",47)(89,"div",12)(90,"div",39)(91,"label"),e.EFF(92,"Persona de Contacto "),e.j41(93,"span",42),e.EFF(94,"*"),e.k0s()(),e.nrm(95,"input",48),e.k0s(),e.j41(96,"div",39)(97,"label"),e.EFF(98,"Tel\xe9fono "),e.j41(99,"span",42),e.EFF(100,"*"),e.k0s()(),e.nrm(101,"input",49),e.k0s()(),e.j41(102,"div",12)(103,"div",45)(104,"label"),e.EFF(105,"Email "),e.j41(106,"span",42),e.EFF(107,"*"),e.k0s()(),e.nrm(108,"input",50),e.k0s()()(),e.j41(109,"div",12)(110,"div",13)(111,"div",51),e.nrm(112,"input",52),e.j41(113,"label",53),e.EFF(114,"Proveedor activo"),e.k0s()()()()(),e.j41(115,"div",39)(116,"h6"),e.nrm(117,"i",54),e.EFF(118,"\xa0Direcci\xf3n y Datos Fiscales"),e.k0s(),e.j41(119,"div",55)(120,"div",41)(121,"div",45)(122,"label"),e.EFF(123,"Direcci\xf3n "),e.j41(124,"span",42),e.EFF(125,"*"),e.k0s()(),e.nrm(126,"input",56),e.k0s()(),e.j41(127,"div",12)(128,"div",39)(129,"label"),e.EFF(130,"C\xf3digo Postal "),e.j41(131,"span",42),e.EFF(132,"*"),e.k0s()(),e.nrm(133,"input",57),e.k0s(),e.j41(134,"div",39)(135,"label"),e.EFF(136,"Ciudad "),e.j41(137,"span",42),e.EFF(138,"*"),e.k0s()(),e.nrm(139,"input",58),e.k0s()(),e.j41(140,"div",12)(141,"div",45)(142,"label"),e.EFF(143,"Provincia "),e.j41(144,"span",42),e.EFF(145,"*"),e.k0s()(),e.nrm(146,"input",59),e.k0s()()(),e.j41(147,"div",12)(148,"div",45)(149,"label"),e.EFF(150,"IBAN "),e.j41(151,"small",10),e.EFF(152,"(Opcional)"),e.k0s()(),e.nrm(153,"input",60),e.k0s()(),e.j41(154,"div",12)(155,"div",39)(156,"label"),e.EFF(157,"D\xedas de Pago"),e.k0s(),e.nrm(158,"input",61),e.k0s(),e.j41(159,"div",39)(160,"label"),e.EFF(161,"Descuentos "),e.j41(162,"small",10),e.EFF(163,"(%)"),e.k0s()(),e.nrm(164,"input",62),e.k0s()(),e.j41(165,"div",12)(166,"div",13)(167,"label",63),e.EFF(168,"Tipo de Pago"),e.k0s(),e.j41(169,"select",64)(170,"option",65),e.EFF(171,"SEPA"),e.k0s(),e.j41(172,"option",66),e.EFF(173,"TRANSFERENCIA"),e.k0s()()()()()(),e.nrm(174,"hr",67),e.j41(175,"div",0)(176,"div",45)(177,"h6"),e.nrm(178,"i",68),e.EFF(179,"\xa0Productos Suministrados"),e.k0s(),e.j41(180,"p",10),e.EFF(181,"Selecciona los productos que este proveedor suministra."),e.k0s(),e.j41(182,"div",69),e.nrm(183,"input",70),e.k0s(),e.j41(184,"div",71),e.DNE(185,D,3,3,"label",72),e.k0s()()()(),e.j41(186,"div",29)(187,"button",30),e.EFF(188,"Cancelar"),e.k0s(),e.j41(189,"button",73),e.EFF(190),e.k0s()()()()()(),e.EFF(191,">\n")),2&r){let a,s;e.R7$(15),e.JRh(t.totalProductos),e.R7$(7),e.JRh(t.productosBajosEnStock),e.R7$(7),e.Y8G("formControl",t.proveedorSearch),e.R7$(1),e.Y8G("formControl",t.categoryFilter),e.R7$(3),e.Y8G("ngForOf",t.categorias),e.R7$(2),e.Y8G("ngIf",0===t.filteredProveedores.length),e.R7$(1),e.Y8G("ngForOf",t.filteredProveedores),e.R7$(8),e.Y8G("ngIf",t.proveedorSeleccionado),e.R7$(13),e.Y8G("formGroup",t.proveedorForm),e.R7$(3),e.SpI(" ",null!=(a=t.proveedorForm.get("id"))&&a.value?"Editar Proveedor":"Nuevo Proveedor"," "),e.R7$(123),e.Y8G("formControl",t.productSearch),e.R7$(2),e.Y8G("ngForOf",t.productosFormArray.controls),e.R7$(4),e.Y8G("disabled",t.proveedorForm.invalid),e.R7$(1),e.SpI(" ",null!=(s=t.proveedorForm.get("id"))&&s.value?"Actualizar Proveedor":"Crear Proveedor"," ")}},dependencies:[m.YU,m.Sq,m.bT,d.qT,d.xH,d.y7,d.me,d.Q0,d.Zm,d.wz,d.BC,d.cb,d.l_,d.j4,d.JD,d.$R,d.v8]})}}return i})()}];let Y=(()=>{class i{static{this.\u0275fac=function(r){return new(r||i)}}static{this.\u0275mod=e.$C({type:i})}static{this.\u0275inj=e.G2t({imports:[f.iI.forChild(I),f.iI]})}}return i})(),A=(()=>{class i{static{this.\u0275fac=function(r){return new(r||i)}}static{this.\u0275mod=e.$C({type:i})}static{this.\u0275inj=e.G2t({imports:[Y,h.PrivateModule,m.MD,d.X1,d.YN]})}}return i})()}}]);