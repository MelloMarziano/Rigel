"use strict";(self.webpackChunkrigel=self.webpackChunkrigel||[]).push([[792],{1076:(hn,tt,B)=>{B.d(tt,{Am:()=>Xe,FA:()=>pt,Fy:()=>Ke,Ku:()=>he,T9:()=>be,Uj:()=>De,XA:()=>Ge,ZQ:()=>dt,bD:()=>xe,c1:()=>qn,cY:()=>ze,eX:()=>ge,g:()=>Ct,jZ:()=>xt,lV:()=>ht,nr:()=>gt,sr:()=>Lt,tD:()=>an,u:()=>re,yU:()=>Xt,zW:()=>je});const J=function(R){const P=[];let H=0;for(let me=0;me<R.length;me++){let Ie=R.charCodeAt(me);Ie<128?P[H++]=Ie:Ie<2048?(P[H++]=Ie>>6|192,P[H++]=63&Ie|128):55296==(64512&Ie)&&me+1<R.length&&56320==(64512&R.charCodeAt(me+1))?(Ie=65536+((1023&Ie)<<10)+(1023&R.charCodeAt(++me)),P[H++]=Ie>>18|240,P[H++]=Ie>>12&63|128,P[H++]=Ie>>6&63|128,P[H++]=63&Ie|128):(P[H++]=Ie>>12|224,P[H++]=Ie>>6&63|128,P[H++]=63&Ie|128)}return P},ae={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(R,P){if(!Array.isArray(R))throw Error("encodeByteArray takes an array as a parameter");this.init_();const H=P?this.byteToCharMapWebSafe_:this.byteToCharMap_,me=[];for(let Ie=0;Ie<R.length;Ie+=3){const ke=R[Ie],fe=Ie+1<R.length,ie=fe?R[Ie+1]:0,Ae=Ie+2<R.length,rt=Ae?R[Ie+2]:0;let Me=(15&ie)<<2|rt>>6,Le=63&rt;Ae||(Le=64,fe||(Me=64)),me.push(H[ke>>2],H[(3&ke)<<4|ie>>4],H[Me],H[Le])}return me.join("")},encodeString(R,P){return this.HAS_NATIVE_SUPPORT&&!P?btoa(R):this.encodeByteArray(J(R),P)},decodeString(R,P){return this.HAS_NATIVE_SUPPORT&&!P?atob(R):function(R){const P=[];let H=0,me=0;for(;H<R.length;){const Ie=R[H++];if(Ie<128)P[me++]=String.fromCharCode(Ie);else if(Ie>191&&Ie<224){const ke=R[H++];P[me++]=String.fromCharCode((31&Ie)<<6|63&ke)}else if(Ie>239&&Ie<365){const Ae=((7&Ie)<<18|(63&R[H++])<<12|(63&R[H++])<<6|63&R[H++])-65536;P[me++]=String.fromCharCode(55296+(Ae>>10)),P[me++]=String.fromCharCode(56320+(1023&Ae))}else{const ke=R[H++],fe=R[H++];P[me++]=String.fromCharCode((15&Ie)<<12|(63&ke)<<6|63&fe)}}return P.join("")}(this.decodeStringToByteArray(R,P))},decodeStringToByteArray(R,P){this.init_();const H=P?this.charToByteMapWebSafe_:this.charToByteMap_,me=[];for(let Ie=0;Ie<R.length;){const ke=H[R.charAt(Ie++)],ie=Ie<R.length?H[R.charAt(Ie)]:0;++Ie;const rt=Ie<R.length?H[R.charAt(Ie)]:64;++Ie;const we=Ie<R.length?H[R.charAt(Ie)]:64;if(++Ie,null==ke||null==ie||null==rt||null==we)throw new Ve;me.push(ke<<2|ie>>4),64!==rt&&(me.push(ie<<4&240|rt>>2),64!==we&&me.push(rt<<6&192|we))}return me},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let R=0;R<this.ENCODED_VALS.length;R++)this.byteToCharMap_[R]=this.ENCODED_VALS.charAt(R),this.charToByteMap_[this.byteToCharMap_[R]]=R,this.byteToCharMapWebSafe_[R]=this.ENCODED_VALS_WEBSAFE.charAt(R),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[R]]=R,R>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(R)]=R,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(R)]=R)}}};class Ve extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const De=function(R){return function(R){const P=J(R);return ae.encodeByteArray(P,!0)}(R).replace(/\./g,"")},re=function(R){try{return ae.decodeString(R,!0)}catch(P){console.error("base64Decode failed: ",P)}return null},Bt=()=>{try{return function lt(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const R=process.env.__FIREBASE_DEFAULTS__;return R?JSON.parse(R):void 0})()||(()=>{if(typeof document>"u")return;let R;try{R=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const P=R&&re(R[1]);return P&&JSON.parse(P)})()}catch(R){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${R}`)}},Xt=R=>{const P=(R=>{var P,H;return null===(H=null===(P=Bt())||void 0===P?void 0:P.emulatorHosts)||void 0===H?void 0:H[R]})(R);if(!P)return;const H=P.lastIndexOf(":");if(H<=0||H+1===P.length)throw new Error(`Invalid host ${P} with no separate hostname and port!`);const me=parseInt(P.substring(H+1),10);return"["===P[0]?[P.substring(1,H-1),me]:[P.substring(0,H),me]},be=()=>{var R;return null===(R=Bt())||void 0===R?void 0:R.config},Ge=R=>{var P;return null===(P=Bt())||void 0===P?void 0:P[`_${R}`]};class ze{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((P,H)=>{this.resolve=P,this.reject=H})}wrapCallback(P){return(H,me)=>{H?this.reject(H):this.resolve(me),"function"==typeof P&&(this.promise.catch(()=>{}),1===P.length?P(H):P(H,me))}}}function Ke(R,P){if(R.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const me=P||"demo-project",Ie=R.iat||0,ke=R.sub||R.user_id;if(!ke)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const fe=Object.assign({iss:`https://securetoken.google.com/${me}`,aud:me,iat:Ie,exp:Ie+3600,auth_time:Ie,sub:ke,user_id:ke,firebase:{sign_in_provider:"custom",identities:{}}},R);return[De(JSON.stringify({alg:"none",type:"JWT"})),De(JSON.stringify(fe)),""].join(".")}function dt(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function xt(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(dt())}function qn(){return typeof navigator<"u"&&"Cloudflare-Workers"===navigator.userAgent}function Lt(){const R="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof R&&void 0!==R.id}function ht(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function gt(){return!function Yt(){var R;const P=null===(R=Bt())||void 0===R?void 0:R.forceEnvironment;if("node"===P)return!0;if("browser"===P)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function je(){try{return"object"==typeof indexedDB}catch{return!1}}function ge(){return new Promise((R,P)=>{try{let H=!0;const me="validate-browser-context-for-indexeddb-analytics-module",Ie=self.indexedDB.open(me);Ie.onsuccess=()=>{Ie.result.close(),H||self.indexedDB.deleteDatabase(me),R(!0)},Ie.onupgradeneeded=()=>{H=!1},Ie.onerror=()=>{var ke;P((null===(ke=Ie.error)||void 0===ke?void 0:ke.message)||"")}}catch(H){P(H)}})}class Ct extends Error{constructor(P,H,me){super(H),this.code=P,this.customData=me,this.name="FirebaseError",Object.setPrototypeOf(this,Ct.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,pt.prototype.create)}}class pt{constructor(P,H,me){this.service=P,this.serviceName=H,this.errors=me}create(P,...H){const me=H[0]||{},Ie=`${this.service}/${P}`,ke=this.errors[P],fe=ke?function It(R,P){return R.replace(Mn,(H,me)=>{const Ie=P[me];return null!=Ie?String(Ie):`<${me}?>`})}(ke,me):"Error";return new Ct(Ie,`${this.serviceName}: ${fe} (${Ie}).`,me)}}const Mn=/\{\$([^}]+)}/g;function xe(R,P){if(R===P)return!0;const H=Object.keys(R),me=Object.keys(P);for(const Ie of H){if(!me.includes(Ie))return!1;const ke=R[Ie],fe=P[Ie];if(Ce(ke)&&Ce(fe)){if(!xe(ke,fe))return!1}else if(ke!==fe)return!1}for(const Ie of me)if(!H.includes(Ie))return!1;return!0}function Ce(R){return null!==R&&"object"==typeof R}function Xe(R){const P=[];for(const[H,me]of Object.entries(R))Array.isArray(me)?me.forEach(Ie=>{P.push(encodeURIComponent(H)+"="+encodeURIComponent(Ie))}):P.push(encodeURIComponent(H)+"="+encodeURIComponent(me));return P.length?"&"+P.join("&"):""}function an(R,P){const H=new rn(R,P);return H.subscribe.bind(H)}class rn{constructor(P,H){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=H,this.task.then(()=>{P(this)}).catch(me=>{this.error(me)})}next(P){this.forEachObserver(H=>{H.next(P)})}error(P){this.forEachObserver(H=>{H.error(P)}),this.close(P)}complete(){this.forEachObserver(P=>{P.complete()}),this.close()}subscribe(P,H,me){let Ie;if(void 0===P&&void 0===H&&void 0===me)throw new Error("Missing Observer.");Ie=function Hr(R,P){if("object"!=typeof R||null===R)return!1;for(const H of P)if(H in R&&"function"==typeof R[H])return!0;return!1}(P,["next","error","complete"])?P:{next:P,error:H,complete:me},void 0===Ie.next&&(Ie.next=Jt),void 0===Ie.error&&(Ie.error=Jt),void 0===Ie.complete&&(Ie.complete=Jt);const ke=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?Ie.error(this.finalError):Ie.complete()}catch{}}),this.observers.push(Ie),ke}unsubscribeOne(P){void 0===this.observers||void 0===this.observers[P]||(delete this.observers[P],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(P){if(!this.finalized)for(let H=0;H<this.observers.length;H++)this.sendOne(H,P)}sendOne(P,H){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[P])try{H(this.observers[P])}catch(me){typeof console<"u"&&console.error&&console.error(me)}})}close(P){this.finalized||(this.finalized=!0,void 0!==P&&(this.finalError=P),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Jt(){}function he(R){return R&&R._delegate?R._delegate:R}},6971:(hn,tt,B)=>{B.d(tt,{d:()=>J});var y=B(9012),ne=B(7705),_e=B(4441);const J=(se,ae)=>{const Ve=(0,ne.WQX)(y.Ix);return!(0,ne.WQX)(_e.u).isLoggedIn()||Ve.parseUrl("/private/dashboard")}},4441:(hn,tt,B)=>{B.d(tt,{u:()=>se});var y=B(467),ne=B(2418),_e=B(7705),J=B(9012);let se=(()=>{class ae{constructor(Se,De){this.router=Se,this.firestore=De,this._isLoggedIn=null}login(Se,De){var re=this;return(0,y.A)(function*(){try{const ve=(0,ne.rJ)(re.firestore,"usuarios"),Be=(0,ne.P)(ve,(0,ne._M)("email","==",Se),(0,ne._M)("password","==",De),(0,ne._M)("activo","==",!0)),$e=yield(0,ne.GG)(Be);if($e.empty)return console.warn("Credenciales inv\xe1lidas o usuario inactivo"),!1;{const lt=$e.docs[0],Tt=lt.data();return yield re.updateLastAccess(lt.id),re.saveUserData({id:lt.id,nombre:Tt.nombre,email:Tt.email,rol:Tt.rol,permisos:Tt.permisos||[],telefono:Tt.telefono||""}),re.router.navigate(["/private"]),!0}}catch(ve){return console.error("Error en login:",ve),!1}})()}logout(){this.clearUserData(),this.router.navigate(["/public/sign-in"])}isLoggedIn(){if(null===this._isLoggedIn){const Se=localStorage.getItem("userId");this._isLoggedIn=!!Se,console.log("AuthService.isLoggedIn() - userId:",Se)}return this._isLoggedIn}getCurrentUser(){return this.isLoggedIn()?{id:localStorage.getItem("userId"),nombre:localStorage.getItem("nombre"),email:localStorage.getItem("email"),rol:localStorage.getItem("rol"),permisos:JSON.parse(localStorage.getItem("permisos")||"[]"),telefono:localStorage.getItem("telefono")}:null}hasPermission(Se){const De=this.getCurrentUser();return!!De&&("Administrador"===De.rol||De.permisos.includes(Se))}hasRole(Se){return this.getCurrentUser()?.rol===Se}updateLastAccess(Se){var De=this;return(0,y.A)(function*(){try{const re=(0,ne.H9)(De.firestore,"usuarios",Se);yield(0,ne.mZ)(re,{ultimoAcceso:new Date})}catch(re){console.error("Error actualizando \xfaltimo acceso:",re)}})()}saveUserData(Se){localStorage.setItem("userId",Se.id),localStorage.setItem("nombre",Se.nombre),localStorage.setItem("email",Se.email),localStorage.setItem("rol",Se.rol),localStorage.setItem("permisos",JSON.stringify(Se.permisos)),localStorage.setItem("telefono",Se.telefono),this._isLoggedIn=!0}clearUserData(){localStorage.removeItem("userId"),localStorage.removeItem("nombre"),localStorage.removeItem("email"),localStorage.removeItem("rol"),localStorage.removeItem("permisos"),localStorage.removeItem("telefono"),this._isLoggedIn=!1}static{this.\u0275fac=function(De){return new(De||ae)(_e.KVO(J.Ix),_e.KVO(ne._7))}}static{this.\u0275prov=_e.jDH({token:ae,factory:ae.\u0275fac,providedIn:"root"})}}return ae})()},5406:(hn,tt,B)=>{var y=B(345),ne=B(9417),_e=B(9012),J=B(7705),se=B(4441);const Se=[{path:"private",canActivate:[(b,p)=>{const m=(0,J.WQX)(_e.Ix);return!!(0,J.WQX)(se.u).isLoggedIn()||m.parseUrl("/public/sign-in")}],loadChildren:()=>B.e(432).then(B.bind(B,2432)).then(b=>b.PrivateModule)},{path:"public",canActivate:[B(6971).d],loadChildren:()=>B.e(719).then(B.bind(B,6719)).then(b=>b.PublicModule)},{path:"",redirectTo:"private",pathMatch:"full"},{path:"**",redirectTo:"public/sign-in"}];let De=(()=>{class b{static{this.\u0275fac=function(M){return new(M||b)}}static{this.\u0275mod=J.$C({type:b})}static{this.\u0275inj=J.G2t({imports:[_e.iI.forRoot(Se),_e.iI]})}}return b})(),re=(()=>{class b{constructor(){this.title="Rigel"}static{this.\u0275fac=function(M){return new(M||b)}}static{this.\u0275cmp=J.VBU({type:b,selectors:[["app-root"]],decls:1,vars:0,template:function(M,L){1&M&&J.nrm(0,"router-outlet")},dependencies:[_e.n3]})}}return b})();const ve_firebase={apiKey:"AIzaSyCDRmcu80MmOuBfPmRYxfuy-GO1_Ue0-fg",authDomain:"rigel-9d30c.firebaseapp.com",projectId:"rigel-9d30c",storageBucket:"rigel-9d30c.firebasestorage.app",messagingSenderId:"747258352161",appId:"1:747258352161:web:dd77e892dc14b8edad4960"};var Be=B(1626),$e=B(9969);function Tt(b){return new J.wOt(3e3,!1)}function fr(b){switch(b.length){case 0:return new $e.sf;case 1:return b[0];default:return new $e.ui(b)}}function mr(b,p,m=new Map,M=new Map){const L=[],W=[];let de=-1,ye=null;if(p.forEach(He=>{const ot=He.get("offset"),Wt=ot==de,sn=Wt&&ye||new Map;He.forEach((Kn,jn)=>{let Dn=jn,Ln=Kn;if("offset"!==jn)switch(Dn=b.normalizePropertyName(Dn,L),Ln){case $e.FX:Ln=m.get(jn);break;case $e.kp:Ln=M.get(jn);break;default:Ln=b.normalizeStyleValue(jn,Dn,Ln,L)}sn.set(Dn,Ln)}),Wt||W.push(sn),ye=sn,de=ot}),L.length)throw function ge(b){return new J.wOt(3502,!1)}();return W}function yn(b,p,m,M){switch(p){case"start":b.onStart(()=>M(m&&Rt(m,"start",b)));break;case"done":b.onDone(()=>M(m&&Rt(m,"done",b)));break;case"destroy":b.onDestroy(()=>M(m&&Rt(m,"destroy",b)))}}function Rt(b,p,m){const W=oe(b.element,b.triggerName,b.fromState,b.toState,p||b.phaseName,m.totalTime??b.totalTime,!!m.disabled),de=b._data;return null!=de&&(W._data=de),W}function oe(b,p,m,M,L="",W=0,de){return{element:b,triggerName:p,fromState:m,toState:M,phaseName:L,totalTime:W,disabled:!!de}}function xe(b,p,m){let M=b.get(p);return M||b.set(p,M=m),M}function Ce(b){const p=b.indexOf(":");return[b.substring(1,p),b.slice(p+1)]}const et=(()=>typeof document>"u"?null:document.documentElement)();function Xe(b){const p=b.parentNode||b.host||null;return p===et?null:p}let Qt=null,At=!1;function Hr(b,p){for(;p;){if(p===b)return!0;p=Xe(p)}return!1}function Jt(b,p,m){if(m)return Array.from(b.querySelectorAll(p));const M=b.querySelector(p);return M?[M]:[]}let On=(()=>{class b{validateStyleProperty(m){return function an(b){Qt||(Qt=function Bn(){return typeof document<"u"?document.body:null}()||{},At=!!Qt.style&&"WebkitAppearance"in Qt.style);let p=!0;return Qt.style&&!function Nt(b){return"ebkit"==b.substring(1,6)}(b)&&(p=b in Qt.style,!p&&At&&(p="Webkit"+b.charAt(0).toUpperCase()+b.slice(1)in Qt.style)),p}(m)}matchesElement(m,M){return!1}containsElement(m,M){return Hr(m,M)}getParentElement(m){return Xe(m)}query(m,M,L){return Jt(m,M,L)}computeStyle(m,M,L){return L||""}animate(m,M,L,W,de,ye=[],He){return new $e.sf(L,W)}static{this.\u0275fac=function(M){return new(M||b)}}static{this.\u0275prov=J.jDH({token:b,factory:b.\u0275fac})}}return b})(),mi=(()=>{class b{static{this.NOOP=new On}}return b})();const Lr=1e3,st="ng-enter",qe="ng-leave",_t="ng-trigger",qt=".ng-trigger",Oe="ng-animating",Nn=".ng-animating";function $n(b){if("number"==typeof b)return b;const p=b.match(/^(-?[\.\d]+)(m?s)/);return!p||p.length<2?0:ar(parseFloat(p[1]),p[2])}function ar(b,p){return"s"===p?b*Lr:b}function bt(b,p,m){return b.hasOwnProperty("duration")?b:function he(b,p,m){let L,W=0,de="";if("string"==typeof b){const ye=b.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===ye)return p.push(Tt()),{duration:0,delay:0,easing:""};L=ar(parseFloat(ye[1]),ye[2]);const He=ye[3];null!=He&&(W=ar(parseFloat(He),ye[4]));const ot=ye[5];ot&&(de=ot)}else L=b;if(!m){let ye=!1,He=p.length;L<0&&(p.push(function Dt(){return new J.wOt(3100,!1)}()),ye=!0),W<0&&(p.push(function Ft(){return new J.wOt(3101,!1)}()),ye=!0),ye&&p.splice(He,0,Tt())}return{duration:L,delay:W,easing:de}}(b,p,m)}function R(b,p={}){return Object.keys(b).forEach(m=>{p[m]=b[m]}),p}function P(b){const p=new Map;return Object.keys(b).forEach(m=>{p.set(m,b[m])}),p}function Ie(b,p=new Map,m){if(m)for(let[M,L]of m)p.set(M,L);for(let[M,L]of b)p.set(M,L);return p}function ke(b,p,m){p.forEach((M,L)=>{const W=Et(L);m&&!m.has(L)&&m.set(L,b.style[W]),b.style[W]=M})}function fe(b,p){p.forEach((m,M)=>{const L=Et(M);b.style[L]=""})}function ie(b){return Array.isArray(b)?1==b.length?b[0]:(0,$e.K2)(b):b}const rt=new RegExp("{{\\s*(.+?)\\s*}}","g");function Gt(b){let p=[];if("string"==typeof b){let m;for(;m=rt.exec(b);)p.push(m[1]);rt.lastIndex=0}return p}function we(b,p,m){const M=b.toString(),L=M.replace(rt,(W,de)=>{let ye=p[de];return null==ye&&(m.push(function _n(b){return new J.wOt(3003,!1)}()),ye=""),ye.toString()});return L==M?b:L}function Me(b){const p=[];let m=b.next();for(;!m.done;)p.push(m.value),m=b.next();return p}const Le=/-+([a-z0-9])/g;function Et(b){return b.replace(Le,(...p)=>p[1].toUpperCase())}function Qn(b,p,m){switch(p.type){case 7:return b.visitTrigger(p,m);case 0:return b.visitState(p,m);case 1:return b.visitTransition(p,m);case 2:return b.visitSequence(p,m);case 3:return b.visitGroup(p,m);case 4:return b.visitAnimate(p,m);case 5:return b.visitKeyframes(p,m);case 6:return b.visitStyle(p,m);case 8:return b.visitReference(p,m);case 9:return b.visitAnimateChild(p,m);case 10:return b.visitAnimateRef(p,m);case 11:return b.visitQuery(p,m);case 12:return b.visitStagger(p,m);default:throw function Xt(b){return new J.wOt(3004,!1)}()}}function gn(b,p){return window.getComputedStyle(b)[p]}const bn="*";function An(b,p){const m=[];return"string"==typeof b?b.split(/\s*,\s*/).forEach(M=>function br(b,p,m){if(":"==b[0]){const He=function Fr(b,p){switch(b){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(m,M)=>parseFloat(M)>parseFloat(m);case":decrement":return(m,M)=>parseFloat(M)<parseFloat(m);default:return p.push(function ln(b){return new J.wOt(3016,!1)}()),"* => *"}}(b,m);if("function"==typeof He)return void p.push(He);b=He}const M=b.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==M||M.length<4)return m.push(function kn(b){return new J.wOt(3015,!1)}()),p;const L=M[1],W=M[2],de=M[3];p.push(ci(L,de));"<"==W[0]&&!(L==bn&&de==bn)&&p.push(ci(de,L))}(M,m,p)):m.push(b),m}const _r=new Set(["true","1"]),Ur=new Set(["false","0"]);function ci(b,p){const m=_r.has(b)||Ur.has(b),M=_r.has(p)||Ur.has(p);return(L,W)=>{let de=b==bn||b==L,ye=p==bn||p==W;return!de&&m&&"boolean"==typeof L&&(de=L?_r.has(b):Ur.has(b)),!ye&&M&&"boolean"==typeof W&&(ye=W?_r.has(p):Ur.has(p)),de&&ye}}const Er=new RegExp("s*:selfs*,?","g");function Ei(b,p,m,M){return new So(b).build(p,m,M)}class So{constructor(p){this._driver=p}build(p,m,M){const L=new wa(m);return this._resetContextStyleTimingState(L),Qn(this,ie(p),L)}_resetContextStyleTimingState(p){p.currentQuerySelector="",p.collectedStyles=new Map,p.collectedStyles.set("",new Map),p.currentTime=0}visitTrigger(p,m){let M=m.queryCount=0,L=m.depCount=0;const W=[],de=[];return"@"==p.name.charAt(0)&&m.errors.push(function Ge(){return new J.wOt(3006,!1)}()),p.definitions.forEach(ye=>{if(this._resetContextStyleTimingState(m),0==ye.type){const He=ye,ot=He.name;ot.toString().split(/\s*,\s*/).forEach(Wt=>{He.name=Wt,W.push(this.visitState(He,m))}),He.name=ot}else if(1==ye.type){const He=this.visitTransition(ye,m);M+=He.queryCount,L+=He.depCount,de.push(He)}else m.errors.push(function ze(){return new J.wOt(3007,!1)}())}),{type:7,name:p.name,states:W,transitions:de,queryCount:M,depCount:L,options:null}}visitState(p,m){const M=this.visitStyle(p.styles,m),L=p.options&&p.options.params||null;if(M.containsDynamicStyles){const W=new Set,de=L||{};M.styles.forEach(ye=>{ye instanceof Map&&ye.forEach(He=>{Gt(He).forEach(ot=>{de.hasOwnProperty(ot)||W.add(ot)})})}),W.size&&(Me(W.values()),m.errors.push(function Ke(b,p){return new J.wOt(3008,!1)}()))}return{type:0,name:p.name,style:M,options:L?{params:L}:null}}visitTransition(p,m){m.queryCount=0,m.depCount=0;const M=Qn(this,ie(p.animation),m);return{type:1,matchers:An(p.expr,m.errors),animation:M,queryCount:m.queryCount,depCount:m.depCount,options:lo(p.options)}}visitSequence(p,m){return{type:2,steps:p.steps.map(M=>Qn(this,M,m)),options:lo(p.options)}}visitGroup(p,m){const M=m.currentTime;let L=0;const W=p.steps.map(de=>{m.currentTime=M;const ye=Qn(this,de,m);return L=Math.max(L,m.currentTime),ye});return m.currentTime=L,{type:3,steps:W,options:lo(p.options)}}visitAnimate(p,m){const M=function Ea(b,p){if(b.hasOwnProperty("duration"))return b;if("number"==typeof b)return oa(bt(b,p).duration,0,"");const m=b;if(m.split(/\s+/).some(W=>"{"==W.charAt(0)&&"{"==W.charAt(1))){const W=oa(0,0,"");return W.dynamic=!0,W.strValue=m,W}const L=bt(m,p);return oa(L.duration,L.delay,L.easing)}(p.timings,m.errors);m.currentAnimateTimings=M;let L,W=p.styles?p.styles:(0,$e.iF)({});if(5==W.type)L=this.visitKeyframes(W,m);else{let de=p.styles,ye=!1;if(!de){ye=!0;const ot={};M.easing&&(ot.easing=M.easing),de=(0,$e.iF)(ot)}m.currentTime+=M.duration+M.delay;const He=this.visitStyle(de,m);He.isEmptyStep=ye,L=He}return m.currentAnimateTimings=null,{type:4,timings:M,style:L,options:null}}visitStyle(p,m){const M=this._makeStyleAst(p,m);return this._validateStyleAst(M,m),M}_makeStyleAst(p,m){const M=[],L=Array.isArray(p.styles)?p.styles:[p.styles];for(let ye of L)"string"==typeof ye?ye===$e.kp?M.push(ye):m.errors.push(new J.wOt(3002,!1)):M.push(P(ye));let W=!1,de=null;return M.forEach(ye=>{if(ye instanceof Map&&(ye.has("easing")&&(de=ye.get("easing"),ye.delete("easing")),!W))for(let He of ye.values())if(He.toString().indexOf("{{")>=0){W=!0;break}}),{type:6,styles:M,easing:de,offset:p.offset,containsDynamicStyles:W,options:null}}_validateStyleAst(p,m){const M=m.currentAnimateTimings;let L=m.currentTime,W=m.currentTime;M&&W>0&&(W-=M.duration+M.delay),p.styles.forEach(de=>{"string"!=typeof de&&de.forEach((ye,He)=>{const ot=m.collectedStyles.get(m.currentQuerySelector),Wt=ot.get(He);let sn=!0;Wt&&(W!=L&&W>=Wt.startTime&&L<=Wt.endTime&&(m.errors.push(function Yt(b,p,m,M,L){return new J.wOt(3010,!1)}()),sn=!1),W=Wt.startTime),sn&&ot.set(He,{startTime:W,endTime:L}),m.options&&function Ae(b,p,m){const M=p.params||{},L=Gt(b);L.length&&L.forEach(W=>{M.hasOwnProperty(W)||m.push(function Bt(b){return new J.wOt(3001,!1)}())})}(ye,m.options,m.errors)})})}visitKeyframes(p,m){const M={type:5,styles:[],options:null};if(!m.currentAnimateTimings)return m.errors.push(function mn(){return new J.wOt(3011,!1)}()),M;let W=0;const de=[];let ye=!1,He=!1,ot=0;const Wt=p.steps.map(ri=>{const si=this._makeStyleAst(ri,m);let Qr=null!=si.offset?si.offset:function Ri(b){if("string"==typeof b)return null;let p=null;if(Array.isArray(b))b.forEach(m=>{if(m instanceof Map&&m.has("offset")){const M=m;p=parseFloat(M.get("offset")),M.delete("offset")}});else if(b instanceof Map&&b.has("offset")){const m=b;p=parseFloat(m.get("offset")),m.delete("offset")}return p}(si.styles),Sr=0;return null!=Qr&&(W++,Sr=si.offset=Qr),He=He||Sr<0||Sr>1,ye=ye||Sr<ot,ot=Sr,de.push(Sr),si});He&&m.errors.push(function vn(){return new J.wOt(3012,!1)}()),ye&&m.errors.push(function qn(){return new J.wOt(3200,!1)}());const sn=p.steps.length;let Kn=0;W>0&&W<sn?m.errors.push(function Lt(){return new J.wOt(3202,!1)}()):0==W&&(Kn=1/(sn-1));const jn=sn-1,Dn=m.currentTime,Ln=m.currentAnimateTimings,or=Ln.duration;return Wt.forEach((ri,si)=>{const Qr=Kn>0?si==jn?1:Kn*si:de[si],Sr=Qr*or;m.currentTime=Dn+Ln.delay+Sr,Ln.duration=Sr,this._validateStyleAst(ri,m),ri.offset=Qr,M.styles.push(ri)}),M}visitReference(p,m){return{type:8,animation:Qn(this,ie(p.animation),m),options:lo(p.options)}}visitAnimateChild(p,m){return m.depCount++,{type:9,options:lo(p.options)}}visitAnimateRef(p,m){return{type:10,animation:this.visitReference(p.animation,m),options:lo(p.options)}}visitQuery(p,m){const M=m.currentQuerySelector,L=p.options||{};m.queryCount++,m.currentQuery=p;const[W,de]=function _i(b){const p=!!b.split(/\s*,\s*/).find(m=>":self"==m);return p&&(b=b.replace(Er,"")),b=b.replace(/@\*/g,qt).replace(/@\w+/g,m=>qt+"-"+m.slice(1)).replace(/:animating/g,Nn),[b,p]}(p.selector);m.currentQuerySelector=M.length?M+" "+W:W,xe(m.collectedStyles,m.currentQuerySelector,new Map);const ye=Qn(this,ie(p.animation),m);return m.currentQuery=null,m.currentQuerySelector=M,{type:11,selector:W,limit:L.limit||0,optional:!!L.optional,includeSelf:de,animation:ye,originalSelector:p.selector,options:lo(p.options)}}visitStagger(p,m){m.currentQuery||m.errors.push(function ht(){return new J.wOt(3013,!1)}());const M="full"===p.timings?{duration:0,delay:0,easing:"full"}:bt(p.timings,m.errors,!0);return{type:12,animation:Qn(this,ie(p.animation),m),timings:M,options:null}}}class wa{constructor(p){this.errors=p,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function lo(b){return b?(b=R(b)).params&&(b.params=function ac(b){return b?R(b):null}(b.params)):b={},b}function oa(b,p,m){return{duration:b,delay:p,easing:m}}function Us(b,p,m,M,L,W,de=null,ye=!1){return{type:1,element:b,keyframes:p,preStyleProps:m,postStyleProps:M,duration:L,delay:W,totalTime:L+W,easing:de,subTimeline:ye}}class jr{constructor(){this._map=new Map}get(p){return this._map.get(p)||[]}append(p,m){let M=this._map.get(p);M||this._map.set(p,M=[]),M.push(...m)}has(p){return this._map.has(p)}clear(){this._map.clear()}}const Pr=new RegExp(":enter","g"),jo=new RegExp(":leave","g");function Xi(b,p,m,M,L,W=new Map,de=new Map,ye,He,ot=[]){return(new qs).buildKeyframes(b,p,m,M,L,W,de,ye,He,ot)}class qs{buildKeyframes(p,m,M,L,W,de,ye,He,ot,Wt=[]){ot=ot||new jr;const sn=new qr(p,m,ot,L,W,Wt,[]);sn.options=He;const Kn=He.delay?$n(He.delay):0;sn.currentTimeline.delayNextStep(Kn),sn.currentTimeline.setStyles([de],null,sn.errors,He),Qn(this,M,sn);const jn=sn.timelines.filter(Dn=>Dn.containsAnimation());if(jn.length&&ye.size){let Dn;for(let Ln=jn.length-1;Ln>=0;Ln--){const or=jn[Ln];if(or.element===m){Dn=or;break}}Dn&&!Dn.allowOnlyTimelineStyles()&&Dn.setStyles([ye],null,sn.errors,He)}return jn.length?jn.map(Dn=>Dn.buildKeyframes()):[Us(m,[],[],[],0,Kn,"",!1)]}visitTrigger(p,m){}visitState(p,m){}visitTransition(p,m){}visitAnimateChild(p,m){const M=m.subInstructions.get(m.element);if(M){const L=m.createSubContext(p.options),W=m.currentTimeline.currentTime,de=this._visitSubInstructions(M,L,L.options);W!=de&&m.transformIntoNewTimeline(de)}m.previousNode=p}visitAnimateRef(p,m){const M=m.createSubContext(p.options);M.transformIntoNewTimeline(),this._applyAnimationRefDelays([p.options,p.animation.options],m,M),this.visitReference(p.animation,M),m.transformIntoNewTimeline(M.currentTimeline.currentTime),m.previousNode=p}_applyAnimationRefDelays(p,m,M){for(const L of p){const W=L?.delay;if(W){const de="number"==typeof W?W:$n(we(W,L?.params??{},m.errors));M.delayNextStep(de)}}}_visitSubInstructions(p,m,M){let W=m.currentTimeline.currentTime;const de=null!=M.duration?$n(M.duration):null,ye=null!=M.delay?$n(M.delay):null;return 0!==de&&p.forEach(He=>{const ot=m.appendInstructionToTimeline(He,de,ye);W=Math.max(W,ot.duration+ot.delay)}),W}visitReference(p,m){m.updateOptions(p.options,!0),Qn(this,p.animation,m),m.previousNode=p}visitSequence(p,m){const M=m.subContextCount;let L=m;const W=p.options;if(W&&(W.params||W.delay)&&(L=m.createSubContext(W),L.transformIntoNewTimeline(),null!=W.delay)){6==L.previousNode.type&&(L.currentTimeline.snapshotCurrentStyles(),L.previousNode=vs);const de=$n(W.delay);L.delayNextStep(de)}p.steps.length&&(p.steps.forEach(de=>Qn(this,de,L)),L.currentTimeline.applyStylesToKeyframe(),L.subContextCount>M&&L.transformIntoNewTimeline()),m.previousNode=p}visitGroup(p,m){const M=[];let L=m.currentTimeline.currentTime;const W=p.options&&p.options.delay?$n(p.options.delay):0;p.steps.forEach(de=>{const ye=m.createSubContext(p.options);W&&ye.delayNextStep(W),Qn(this,de,ye),L=Math.max(L,ye.currentTimeline.currentTime),M.push(ye.currentTimeline)}),M.forEach(de=>m.currentTimeline.mergeTimelineCollectedStyles(de)),m.transformIntoNewTimeline(L),m.previousNode=p}_visitTiming(p,m){if(p.dynamic){const M=p.strValue;return bt(m.params?we(M,m.params,m.errors):M,m.errors)}return{duration:p.duration,delay:p.delay,easing:p.easing}}visitAnimate(p,m){const M=m.currentAnimateTimings=this._visitTiming(p.timings,m),L=m.currentTimeline;M.delay&&(m.incrementTime(M.delay),L.snapshotCurrentStyles());const W=p.style;5==W.type?this.visitKeyframes(W,m):(m.incrementTime(M.duration),this.visitStyle(W,m),L.applyStylesToKeyframe()),m.currentAnimateTimings=null,m.previousNode=p}visitStyle(p,m){const M=m.currentTimeline,L=m.currentAnimateTimings;!L&&M.hasCurrentStyleProperties()&&M.forwardFrame();const W=L&&L.easing||p.easing;p.isEmptyStep?M.applyEmptyStep(W):M.setStyles(p.styles,W,m.errors,m.options),m.previousNode=p}visitKeyframes(p,m){const M=m.currentAnimateTimings,L=m.currentTimeline.duration,W=M.duration,ye=m.createSubContext().currentTimeline;ye.easing=M.easing,p.styles.forEach(He=>{ye.forwardTime((He.offset||0)*W),ye.setStyles(He.styles,He.easing,m.errors,m.options),ye.applyStylesToKeyframe()}),m.currentTimeline.mergeTimelineCollectedStyles(ye),m.transformIntoNewTimeline(L+W),m.previousNode=p}visitQuery(p,m){const M=m.currentTimeline.currentTime,L=p.options||{},W=L.delay?$n(L.delay):0;W&&(6===m.previousNode.type||0==M&&m.currentTimeline.hasCurrentStyleProperties())&&(m.currentTimeline.snapshotCurrentStyles(),m.previousNode=vs);let de=M;const ye=m.invokeQuery(p.selector,p.originalSelector,p.limit,p.includeSelf,!!L.optional,m.errors);m.currentQueryTotal=ye.length;let He=null;ye.forEach((ot,Wt)=>{m.currentQueryIndex=Wt;const sn=m.createSubContext(p.options,ot);W&&sn.delayNextStep(W),ot===m.element&&(He=sn.currentTimeline),Qn(this,p.animation,sn),sn.currentTimeline.applyStylesToKeyframe(),de=Math.max(de,sn.currentTimeline.currentTime)}),m.currentQueryIndex=0,m.currentQueryTotal=0,m.transformIntoNewTimeline(de),He&&(m.currentTimeline.mergeTimelineCollectedStyles(He),m.currentTimeline.snapshotCurrentStyles()),m.previousNode=p}visitStagger(p,m){const M=m.parentContext,L=m.currentTimeline,W=p.timings,de=Math.abs(W.duration),ye=de*(m.currentQueryTotal-1);let He=de*m.currentQueryIndex;switch(W.duration<0?"reverse":W.easing){case"reverse":He=ye-He;break;case"full":He=M.currentStaggerTime}const Wt=m.currentTimeline;He&&Wt.delayNextStep(He);const sn=Wt.currentTime;Qn(this,p.animation,m),m.previousNode=p,M.currentStaggerTime=L.currentTime-sn+(L.startTime-M.currentTimeline.startTime)}}const vs={};class qr{constructor(p,m,M,L,W,de,ye,He){this._driver=p,this.element=m,this.subInstructions=M,this._enterClassName=L,this._leaveClassName=W,this.errors=de,this.timelines=ye,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=vs,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=He||new ks(this._driver,m,0),ye.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(p,m){if(!p)return;const M=p;let L=this.options;null!=M.duration&&(L.duration=$n(M.duration)),null!=M.delay&&(L.delay=$n(M.delay));const W=M.params;if(W){let de=L.params;de||(de=this.options.params={}),Object.keys(W).forEach(ye=>{(!m||!de.hasOwnProperty(ye))&&(de[ye]=we(W[ye],de,this.errors))})}}_copyOptions(){const p={};if(this.options){const m=this.options.params;if(m){const M=p.params={};Object.keys(m).forEach(L=>{M[L]=m[L]})}}return p}createSubContext(p=null,m,M){const L=m||this.element,W=new qr(this._driver,L,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(L,M||0));return W.previousNode=this.previousNode,W.currentAnimateTimings=this.currentAnimateTimings,W.options=this._copyOptions(),W.updateOptions(p),W.currentQueryIndex=this.currentQueryIndex,W.currentQueryTotal=this.currentQueryTotal,W.parentContext=this,this.subContextCount++,W}transformIntoNewTimeline(p){return this.previousNode=vs,this.currentTimeline=this.currentTimeline.fork(this.element,p),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(p,m,M){const L={duration:m??p.duration,delay:this.currentTimeline.currentTime+(M??0)+p.delay,easing:""},W=new Yi(this._driver,p.element,p.keyframes,p.preStyleProps,p.postStyleProps,L,p.stretchStartingKeyframe);return this.timelines.push(W),L}incrementTime(p){this.currentTimeline.forwardTime(this.currentTimeline.duration+p)}delayNextStep(p){p>0&&this.currentTimeline.delayNextStep(p)}invokeQuery(p,m,M,L,W,de){let ye=[];if(L&&ye.push(this.element),p.length>0){p=(p=p.replace(Pr,"."+this._enterClassName)).replace(jo,"."+this._leaveClassName);let ot=this._driver.query(this.element,p,1!=M);0!==M&&(ot=M<0?ot.slice(ot.length+M,ot.length):ot.slice(0,M)),ye.push(...ot)}return!W&&0==ye.length&&de.push(function Ht(b){return new J.wOt(3014,!1)}()),ye}}class ks{constructor(p,m,M,L){this._driver=p,this.element=m,this.startTime=M,this._elementTimelineStylesLookup=L,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(m),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(m,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(p){const m=1===this._keyframes.size&&this._pendingStyles.size;this.duration||m?(this.forwardTime(this.currentTime+p),m&&this.snapshotCurrentStyles()):this.startTime+=p}fork(p,m){return this.applyStylesToKeyframe(),new ks(this._driver,p,m||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(p){this.applyStylesToKeyframe(),this.duration=p,this._loadKeyframe()}_updateStyle(p,m){this._localTimelineStyles.set(p,m),this._globalTimelineStyles.set(p,m),this._styleSummary.set(p,{time:this.currentTime,value:m})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(p){p&&this._previousKeyframe.set("easing",p);for(let[m,M]of this._globalTimelineStyles)this._backFill.set(m,M||$e.kp),this._currentKeyframe.set(m,$e.kp);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(p,m,M,L){m&&this._previousKeyframe.set("easing",m);const W=L&&L.params||{},de=function xr(b,p){const m=new Map;let M;return b.forEach(L=>{if("*"===L){M=M||p.keys();for(let W of M)m.set(W,$e.kp)}else Ie(L,m)}),m}(p,this._globalTimelineStyles);for(let[ye,He]of de){const ot=we(He,W,M);this._pendingStyles.set(ye,ot),this._localTimelineStyles.has(ye)||this._backFill.set(ye,this._globalTimelineStyles.get(ye)??$e.kp),this._updateStyle(ye,ot)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((p,m)=>{this._currentKeyframe.set(m,p)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((p,m)=>{this._currentKeyframe.has(m)||this._currentKeyframe.set(m,p)}))}snapshotCurrentStyles(){for(let[p,m]of this._localTimelineStyles)this._pendingStyles.set(p,m),this._updateStyle(p,m)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const p=[];for(let m in this._currentKeyframe)p.push(m);return p}mergeTimelineCollectedStyles(p){p._styleSummary.forEach((m,M)=>{const L=this._styleSummary.get(M);(!L||m.time>L.time)&&this._updateStyle(M,m.value)})}buildKeyframes(){this.applyStylesToKeyframe();const p=new Set,m=new Set,M=1===this._keyframes.size&&0===this.duration;let L=[];this._keyframes.forEach((ye,He)=>{const ot=Ie(ye,new Map,this._backFill);ot.forEach((Wt,sn)=>{Wt===$e.FX?p.add(sn):Wt===$e.kp&&m.add(sn)}),M||ot.set("offset",He/this.duration),L.push(ot)});const W=p.size?Me(p.values()):[],de=m.size?Me(m.values()):[];if(M){const ye=L[0],He=new Map(ye);ye.set("offset",0),He.set("offset",1),L=[ye,He]}return Us(this.element,L,W,de,this.duration,this.startTime,this.easing,!1)}}class Yi extends ks{constructor(p,m,M,L,W,de,ye=!1){super(p,m,de.delay),this.keyframes=M,this.preStyleProps=L,this.postStyleProps=W,this._stretchStartingKeyframe=ye,this.timings={duration:de.duration,delay:de.delay,easing:de.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let p=this.keyframes,{delay:m,duration:M,easing:L}=this.timings;if(this._stretchStartingKeyframe&&m){const W=[],de=M+m,ye=m/de,He=Ie(p[0]);He.set("offset",0),W.push(He);const ot=Ie(p[0]);ot.set("offset",In(ye)),W.push(ot);const Wt=p.length-1;for(let sn=1;sn<=Wt;sn++){let Kn=Ie(p[sn]);const jn=Kn.get("offset");Kn.set("offset",In((m+jn*M)/de)),W.push(Kn)}M=de,m=0,L="",p=W}return Us(this.element,p,this.preStyleProps,this.postStyleProps,M,m,L,!0)}}function In(b,p=3){const m=Math.pow(10,p-1);return Math.round(b*m)/m}class Ji{}const es=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Eo extends Ji{normalizePropertyName(p,m){return Et(p)}normalizeStyleValue(p,m,M,L){let W="";const de=M.toString().trim();if(es.has(m)&&0!==M&&"0"!==M)if("number"==typeof M)W="px";else{const ye=M.match(/^[+-]?[\d\.]+([a-z]*)$/);ye&&0==ye[1].length&&L.push(function be(b,p){return new J.wOt(3005,!1)}())}return de+W}}function eo(b,p,m,M,L,W,de,ye,He,ot,Wt,sn,Kn){return{type:0,element:b,triggerName:p,isRemovalTransition:L,fromState:m,fromStyles:W,toState:M,toStyles:de,timelines:ye,queriedElements:He,preStyleProps:ot,postStyleProps:Wt,totalTime:sn,errors:Kn}}const xo={};class to{constructor(p,m,M){this._triggerName=p,this.ast=m,this._stateStyles=M}match(p,m,M,L){return function fn(b,p,m,M,L){return b.some(W=>W(p,m,M,L))}(this.ast.matchers,p,m,M,L)}buildStyles(p,m,M){let L=this._stateStyles.get("*");return void 0!==p&&(L=this._stateStyles.get(p?.toString())||L),L?L.buildStyles(m,M):new Map}build(p,m,M,L,W,de,ye,He,ot,Wt){const sn=[],Kn=this.ast.options&&this.ast.options.params||xo,Dn=this.buildStyles(M,ye&&ye.params||xo,sn),Ln=He&&He.params||xo,or=this.buildStyles(L,Ln,sn),ri=new Set,si=new Map,Qr=new Map,Sr="void"===L,Xo={params:Un(Ln,Kn),delay:this.ast.options?.delay},Ki=Wt?[]:Xi(p,m,this.ast.animation,W,de,Dn,or,Xo,ot,sn);let Ui=0;if(Ki.forEach(vo=>{Ui=Math.max(vo.duration+vo.delay,Ui)}),sn.length)return eo(m,this._triggerName,M,L,Sr,Dn,or,[],[],si,Qr,Ui,sn);Ki.forEach(vo=>{const _a=vo.element,Fu=xe(si,_a,new Set);vo.preStyleProps.forEach(Ac=>Fu.add(Ac));const Za=xe(Qr,_a,new Set);vo.postStyleProps.forEach(Ac=>Za.add(Ac)),_a!==m&&ri.add(_a)});const Yo=Me(ri.values());return eo(m,this._triggerName,M,L,Sr,Dn,or,Ki,Yo,si,Qr,Ui)}}function Un(b,p){const m=R(p);for(const M in b)b.hasOwnProperty(M)&&null!=b[M]&&(m[M]=b[M]);return m}class Or{constructor(p,m,M){this.styles=p,this.defaultParams=m,this.normalizer=M}buildStyles(p,m){const M=new Map,L=R(this.defaultParams);return Object.keys(p).forEach(W=>{const de=p[W];null!==de&&(L[W]=de)}),this.styles.styles.forEach(W=>{"string"!=typeof W&&W.forEach((de,ye)=>{de&&(de=we(de,L,m));const He=this.normalizer.normalizePropertyName(ye,m);de=this.normalizer.normalizeStyleValue(ye,He,de,m),M.set(ye,de)})}),M}}class no{constructor(p,m,M){this.name=p,this.ast=m,this._normalizer=M,this.transitionFactories=[],this.states=new Map,m.states.forEach(L=>{this.states.set(L.name,new Or(L.style,L.options&&L.options.params||{},M))}),uo(this.states,"true","1"),uo(this.states,"false","0"),m.transitions.forEach(L=>{this.transitionFactories.push(new to(p,L,this.states))}),this.fallbackTransition=function yi(b,p,m){return new to(b,{type:1,animation:{type:2,steps:[],options:null},matchers:[(de,ye)=>!0],options:null,queryCount:0,depCount:0},p)}(p,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(p,m,M,L){return this.transitionFactories.find(de=>de.match(p,m,M,L))||null}matchStyles(p,m,M){return this.fallbackTransition.buildStyles(p,m,M)}}function uo(b,p,m){b.has(p)?b.has(m)||b.set(m,b.get(p)):b.has(m)&&b.set(p,b.get(m))}const $r=new jr;class Fi{constructor(p,m,M){this.bodyNode=p,this._driver=m,this._normalizer=M,this._animations=new Map,this._playersById=new Map,this.players=[]}register(p,m){const M=[],W=Ei(this._driver,m,M,[]);if(M.length)throw function ce(b){return new J.wOt(3503,!1)}();this._animations.set(p,W)}_buildPlayer(p,m,M){const L=p.element,W=mr(this._normalizer,p.keyframes,m,M);return this._driver.animate(L,W,p.duration,p.delay,p.easing,[],!0)}create(p,m,M={}){const L=[],W=this._animations.get(p);let de;const ye=new Map;if(W?(de=Xi(this._driver,m,W,st,qe,new Map,new Map,M,$r,L),de.forEach(Wt=>{const sn=xe(ye,Wt.element,new Map);Wt.postStyleProps.forEach(Kn=>sn.set(Kn,null))})):(L.push(function Pe(){return new J.wOt(3300,!1)}()),de=[]),L.length)throw function Ct(b){return new J.wOt(3504,!1)}();ye.forEach((Wt,sn)=>{Wt.forEach((Kn,jn)=>{Wt.set(jn,this._driver.computeStyle(sn,jn,$e.kp))})});const ot=fr(de.map(Wt=>{const sn=ye.get(Wt.element);return this._buildPlayer(Wt,new Map,sn)}));return this._playersById.set(p,ot),ot.onDestroy(()=>this.destroy(p)),this.players.push(ot),ot}destroy(p){const m=this._getPlayer(p);m.destroy(),this._playersById.delete(p);const M=this.players.indexOf(m);M>=0&&this.players.splice(M,1)}_getPlayer(p){const m=this._playersById.get(p);if(!m)throw function pt(b){return new J.wOt(3301,!1)}();return m}listen(p,m,M,L){const W=oe(m,"","","");return yn(this._getPlayer(p),M,W,L),()=>{}}command(p,m,M,L){if("register"==M)return void this.register(p,L[0]);if("create"==M)return void this.create(p,m,L[0]||{});const W=this._getPlayer(p);switch(M){case"play":W.play();break;case"pause":W.pause();break;case"reset":W.reset();break;case"restart":W.restart();break;case"finish":W.finish();break;case"init":W.init();break;case"setPosition":W.setPosition(parseFloat(L[0]));break;case"destroy":this.destroy(p)}}}const zo="ng-animate-queued",Ro="ng-animate-disabled",ls=[],Ai={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Co={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Bi="__ng_removed";class bs{get params(){return this.options.params}constructor(p,m=""){this.namespaceId=m;const M=p&&p.hasOwnProperty("value");if(this.value=function Ms(b){return b??null}(M?p.value:p),M){const W=R(p);delete W.value,this.options=W}else this.options={};this.options.params||(this.options.params={})}absorbOptions(p){const m=p.params;if(m){const M=this.options.params;Object.keys(m).forEach(L=>{null==M[L]&&(M[L]=m[L])})}}}const Ao="void",Wr=new bs(Ao);class Uo{constructor(p,m,M){this.id=p,this.hostElement=m,this._engine=M,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+p,Cr(m,this._hostClassName)}listen(p,m,M,L){if(!this._triggers.has(m))throw function It(b,p){return new J.wOt(3302,!1)}();if(null==M||0==M.length)throw function Mn(b){return new J.wOt(3303,!1)}();if(!function ho(b){return"start"==b||"done"==b}(M))throw function sr(b,p){return new J.wOt(3400,!1)}();const W=xe(this._elementListeners,p,[]),de={name:m,phase:M,callback:L};W.push(de);const ye=xe(this._engine.statesByElement,p,new Map);return ye.has(m)||(Cr(p,_t),Cr(p,_t+"-"+m),ye.set(m,Wr)),()=>{this._engine.afterFlush(()=>{const He=W.indexOf(de);He>=0&&W.splice(He,1),this._triggers.has(m)||ye.delete(m)})}}register(p,m){return!this._triggers.has(p)&&(this._triggers.set(p,m),!0)}_getTrigger(p){const m=this._triggers.get(p);if(!m)throw function un(b){return new J.wOt(3401,!1)}();return m}trigger(p,m,M,L=!0){const W=this._getTrigger(m),de=new Jn(this.id,m,p);let ye=this._engine.statesByElement.get(p);ye||(Cr(p,_t),Cr(p,_t+"-"+m),this._engine.statesByElement.set(p,ye=new Map));let He=ye.get(m);const ot=new bs(M,this.id);if(!(M&&M.hasOwnProperty("value"))&&He&&ot.absorbOptions(He.options),ye.set(m,ot),He||(He=Wr),ot.value!==Ao&&He.value===ot.value){if(!function ro(b,p){const m=Object.keys(b),M=Object.keys(p);if(m.length!=M.length)return!1;for(let L=0;L<m.length;L++){const W=m[L];if(!p.hasOwnProperty(W)||b[W]!==p[W])return!1}return!0}(He.params,ot.params)){const Ln=[],or=W.matchStyles(He.value,He.params,Ln),ri=W.matchStyles(ot.value,ot.params,Ln);Ln.length?this._engine.reportError(Ln):this._engine.afterFlush(()=>{fe(p,or),ke(p,ri)})}return}const Kn=xe(this._engine.playersByElement,p,[]);Kn.forEach(Ln=>{Ln.namespaceId==this.id&&Ln.triggerName==m&&Ln.queued&&Ln.destroy()});let jn=W.matchTransition(He.value,ot.value,p,ot.params),Dn=!1;if(!jn){if(!L)return;jn=W.fallbackTransition,Dn=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:p,triggerName:m,transition:jn,fromState:He,toState:ot,player:de,isFallbackTransition:Dn}),Dn||(Cr(p,zo),de.onStart(()=>{$s(p,zo)})),de.onDone(()=>{let Ln=this.players.indexOf(de);Ln>=0&&this.players.splice(Ln,1);const or=this._engine.playersByElement.get(p);if(or){let ri=or.indexOf(de);ri>=0&&or.splice(ri,1)}}),this.players.push(de),Kn.push(de),de}deregister(p){this._triggers.delete(p),this._engine.statesByElement.forEach(m=>m.delete(p)),this._elementListeners.forEach((m,M)=>{this._elementListeners.set(M,m.filter(L=>L.name!=p))})}clearElementCache(p){this._engine.statesByElement.delete(p),this._elementListeners.delete(p);const m=this._engine.playersByElement.get(p);m&&(m.forEach(M=>M.destroy()),this._engine.playersByElement.delete(p))}_signalRemovalForInnerTriggers(p,m){const M=this._engine.driver.query(p,qt,!0);M.forEach(L=>{if(L[Bi])return;const W=this._engine.fetchNamespacesByElement(L);W.size?W.forEach(de=>de.triggerLeaveAnimation(L,m,!1,!0)):this.clearElementCache(L)}),this._engine.afterFlushAnimationsDone(()=>M.forEach(L=>this.clearElementCache(L)))}triggerLeaveAnimation(p,m,M,L){const W=this._engine.statesByElement.get(p),de=new Map;if(W){const ye=[];if(W.forEach((He,ot)=>{if(de.set(ot,He.value),this._triggers.has(ot)){const Wt=this.trigger(p,ot,Ao,L);Wt&&ye.push(Wt)}}),ye.length)return this._engine.markElementAsRemoved(this.id,p,!0,m,de),M&&fr(ye).onDone(()=>this._engine.processLeaveNode(p)),!0}return!1}prepareLeaveAnimationListeners(p){const m=this._elementListeners.get(p),M=this._engine.statesByElement.get(p);if(m&&M){const L=new Set;m.forEach(W=>{const de=W.name;if(L.has(de))return;L.add(de);const He=this._triggers.get(de).fallbackTransition,ot=M.get(de)||Wr,Wt=new bs(Ao),sn=new Jn(this.id,de,p);this._engine.totalQueuedPlayers++,this._queue.push({element:p,triggerName:de,transition:He,fromState:ot,toState:Wt,player:sn,isFallbackTransition:!0})})}}removeNode(p,m){const M=this._engine;if(p.childElementCount&&this._signalRemovalForInnerTriggers(p,m),this.triggerLeaveAnimation(p,m,!0))return;let L=!1;if(M.totalAnimations){const W=M.players.length?M.playersByQueriedElement.get(p):[];if(W&&W.length)L=!0;else{let de=p;for(;de=de.parentNode;)if(M.statesByElement.get(de)){L=!0;break}}}if(this.prepareLeaveAnimationListeners(p),L)M.markElementAsRemoved(this.id,p,!1,m);else{const W=p[Bi];(!W||W===Ai)&&(M.afterFlush(()=>this.clearElementCache(p)),M.destroyInnerAnimations(p),M._onRemovalComplete(p,m))}}insertNode(p,m){Cr(p,this._hostClassName)}drainQueuedTransitions(p){const m=[];return this._queue.forEach(M=>{const L=M.player;if(L.destroyed)return;const W=M.element,de=this._elementListeners.get(W);de&&de.forEach(ye=>{if(ye.name==M.triggerName){const He=oe(W,M.triggerName,M.fromState.value,M.toState.value);He._data=p,yn(M.player,ye.phase,He,ye.callback)}}),L.markedForDestroy?this._engine.afterFlush(()=>{L.destroy()}):m.push(M)}),this._queue=[],m.sort((M,L)=>{const W=M.transition.ast.depCount,de=L.transition.ast.depCount;return 0==W||0==de?W-de:this._engine.driver.containsElement(M.element,L.element)?1:-1})}destroy(p){this.players.forEach(m=>m.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,p)}}class Gr{_onRemovalComplete(p,m){this.onRemovalComplete(p,m)}constructor(p,m,M){this.bodyNode=p,this.driver=m,this._normalizer=M,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(L,W)=>{}}get queuedPlayers(){const p=[];return this._namespaceList.forEach(m=>{m.players.forEach(M=>{M.queued&&p.push(M)})}),p}createNamespace(p,m){const M=new Uo(p,m,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,m)?this._balanceNamespaceList(M,m):(this.newHostElements.set(m,M),this.collectEnterElement(m)),this._namespaceLookup[p]=M}_balanceNamespaceList(p,m){const M=this._namespaceList,L=this.namespacesByHostElement;if(M.length-1>=0){let de=!1,ye=this.driver.getParentElement(m);for(;ye;){const He=L.get(ye);if(He){const ot=M.indexOf(He);M.splice(ot+1,0,p),de=!0;break}ye=this.driver.getParentElement(ye)}de||M.unshift(p)}else M.push(p);return L.set(m,p),p}register(p,m){let M=this._namespaceLookup[p];return M||(M=this.createNamespace(p,m)),M}registerTrigger(p,m,M){let L=this._namespaceLookup[p];L&&L.register(m,M)&&this.totalAnimations++}destroy(p,m){p&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const M=this._fetchNamespace(p);this.namespacesByHostElement.delete(M.hostElement);const L=this._namespaceList.indexOf(M);L>=0&&this._namespaceList.splice(L,1),M.destroy(m),delete this._namespaceLookup[p]}))}_fetchNamespace(p){return this._namespaceLookup[p]}fetchNamespacesByElement(p){const m=new Set,M=this.statesByElement.get(p);if(M)for(let L of M.values())if(L.namespaceId){const W=this._fetchNamespace(L.namespaceId);W&&m.add(W)}return m}trigger(p,m,M,L){if(di(m)){const W=this._fetchNamespace(p);if(W)return W.trigger(m,M,L),!0}return!1}insertNode(p,m,M,L){if(!di(m))return;const W=m[Bi];if(W&&W.setForRemoval){W.setForRemoval=!1,W.setForMove=!0;const de=this.collectedLeaveElements.indexOf(m);de>=0&&this.collectedLeaveElements.splice(de,1)}if(p){const de=this._fetchNamespace(p);de&&de.insertNode(m,M)}L&&this.collectEnterElement(m)}collectEnterElement(p){this.collectedEnterElements.push(p)}markElementAsDisabled(p,m){m?this.disabledNodes.has(p)||(this.disabledNodes.add(p),Cr(p,Ro)):this.disabledNodes.has(p)&&(this.disabledNodes.delete(p),$s(p,Ro))}removeNode(p,m,M){if(di(m)){const L=p?this._fetchNamespace(p):null;L?L.removeNode(m,M):this.markElementAsRemoved(p,m,!1,M);const W=this.namespacesByHostElement.get(m);W&&W.id!==p&&W.removeNode(m,M)}else this._onRemovalComplete(m,M)}markElementAsRemoved(p,m,M,L,W){this.collectedLeaveElements.push(m),m[Bi]={namespaceId:p,setForRemoval:L,hasAnimation:M,removedBeforeQueried:!1,previousTriggersValues:W}}listen(p,m,M,L,W){return di(m)?this._fetchNamespace(p).listen(m,M,L,W):()=>{}}_buildInstruction(p,m,M,L,W){return p.transition.build(this.driver,p.element,p.fromState.value,p.toState.value,M,L,p.fromState.options,p.toState.options,m,W)}destroyInnerAnimations(p){let m=this.driver.query(p,qt,!0);m.forEach(M=>this.destroyActiveAnimationsForElement(M)),0!=this.playersByQueriedElement.size&&(m=this.driver.query(p,Nn,!0),m.forEach(M=>this.finishActiveQueriedAnimationOnElement(M)))}destroyActiveAnimationsForElement(p){const m=this.playersByElement.get(p);m&&m.forEach(M=>{M.queued?M.markedForDestroy=!0:M.destroy()})}finishActiveQueriedAnimationOnElement(p){const m=this.playersByQueriedElement.get(p);m&&m.forEach(M=>M.finish())}whenRenderingDone(){return new Promise(p=>{if(this.players.length)return fr(this.players).onDone(()=>p());p()})}processLeaveNode(p){const m=p[Bi];if(m&&m.setForRemoval){if(p[Bi]=Ai,m.namespaceId){this.destroyInnerAnimations(p);const M=this._fetchNamespace(m.namespaceId);M&&M.clearElementCache(p)}this._onRemovalComplete(p,m.setForRemoval)}p.classList?.contains(Ro)&&this.markElementAsDisabled(p,!1),this.driver.query(p,".ng-animate-disabled",!0).forEach(M=>{this.markElementAsDisabled(M,!1)})}flush(p=-1){let m=[];if(this.newHostElements.size&&(this.newHostElements.forEach((M,L)=>this._balanceNamespaceList(M,L)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let M=0;M<this.collectedEnterElements.length;M++)Cr(this.collectedEnterElements[M],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const M=[];try{m=this._flushAnimations(M,p)}finally{for(let L=0;L<M.length;L++)M[L]()}}else for(let M=0;M<this.collectedLeaveElements.length;M++)this.processLeaveNode(this.collectedLeaveElements[M]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(M=>M()),this._flushFns=[],this._whenQuietFns.length){const M=this._whenQuietFns;this._whenQuietFns=[],m.length?fr(m).onDone(()=>{M.forEach(L=>L())}):M.forEach(L=>L())}}reportError(p){throw function Rn(b){return new J.wOt(3402,!1)}()}_flushAnimations(p,m){const M=new jr,L=[],W=new Map,de=[],ye=new Map,He=new Map,ot=new Map,Wt=new Set;this.disabledNodes.forEach(Cn=>{Wt.add(Cn);const nr=this.driver.query(Cn,".ng-animate-queued",!0);for(let ir=0;ir<nr.length;ir++)Wt.add(nr[ir])});const sn=this.bodyNode,Kn=Array.from(this.statesByElement.keys()),jn=Dr(Kn,this.collectedEnterElements),Dn=new Map;let Ln=0;jn.forEach((Cn,nr)=>{const ir=st+Ln++;Dn.set(nr,ir),Cn.forEach(Yr=>Cr(Yr,ir))});const or=[],ri=new Set,si=new Set;for(let Cn=0;Cn<this.collectedLeaveElements.length;Cn++){const nr=this.collectedLeaveElements[Cn],ir=nr[Bi];ir&&ir.setForRemoval&&(or.push(nr),ri.add(nr),ir.hasAnimation?this.driver.query(nr,".ng-star-inserted",!0).forEach(Yr=>ri.add(Yr)):si.add(nr))}const Qr=new Map,Sr=Dr(Kn,Array.from(ri));Sr.forEach((Cn,nr)=>{const ir=qe+Ln++;Qr.set(nr,ir),Cn.forEach(Yr=>Cr(Yr,ir))}),p.push(()=>{jn.forEach((Cn,nr)=>{const ir=Dn.get(nr);Cn.forEach(Yr=>$s(Yr,ir))}),Sr.forEach((Cn,nr)=>{const ir=Qr.get(nr);Cn.forEach(Yr=>$s(Yr,ir))}),or.forEach(Cn=>{this.processLeaveNode(Cn)})});const Xo=[],Ki=[];for(let Cn=this._namespaceList.length-1;Cn>=0;Cn--)this._namespaceList[Cn].drainQueuedTransitions(m).forEach(ir=>{const Yr=ir.player,ao=ir.element;if(Xo.push(Yr),this.collectedEnterElements.length){const cs=ao[Bi];if(cs&&cs.setForMove){if(cs.previousTriggersValues&&cs.previousTriggersValues.has(ir.triggerName)){const Ds=cs.previousTriggersValues.get(ir.triggerName),Jo=this.statesByElement.get(ir.element);if(Jo&&Jo.has(ir.triggerName)){const Va=Jo.get(ir.triggerName);Va.value=Ds,Jo.set(ir.triggerName,Va)}}return void Yr.destroy()}}const Ts=!sn||!this.driver.containsElement(sn,ao),Bs=Qr.get(ao),Yc=Dn.get(ao),Qi=this._buildInstruction(ir,M,Yc,Bs,Ts);if(Qi.errors&&Qi.errors.length)return void Ki.push(Qi);if(Ts)return Yr.onStart(()=>fe(ao,Qi.fromStyles)),Yr.onDestroy(()=>ke(ao,Qi.toStyles)),void L.push(Yr);if(ir.isFallbackTransition)return Yr.onStart(()=>fe(ao,Qi.fromStyles)),Yr.onDestroy(()=>ke(ao,Qi.toStyles)),void L.push(Yr);const k1=[];Qi.timelines.forEach(cs=>{cs.stretchStartingKeyframe=!0,this.disabledNodes.has(cs.element)||k1.push(cs)}),Qi.timelines=k1,M.append(ao,Qi.timelines),de.push({instruction:Qi,player:Yr,element:ao}),Qi.queriedElements.forEach(cs=>xe(ye,cs,[]).push(Yr)),Qi.preStyleProps.forEach((cs,Ds)=>{if(cs.size){let Jo=He.get(Ds);Jo||He.set(Ds,Jo=new Set),cs.forEach((Va,yl)=>Jo.add(yl))}}),Qi.postStyleProps.forEach((cs,Ds)=>{let Jo=ot.get(Ds);Jo||ot.set(Ds,Jo=new Set),cs.forEach((Va,yl)=>Jo.add(yl))})});if(Ki.length){const Cn=[];Ki.forEach(nr=>{Cn.push(function pr(b,p){return new J.wOt(3505,!1)}())}),Xo.forEach(nr=>nr.destroy()),this.reportError(Cn)}const Ui=new Map,Yo=new Map;de.forEach(Cn=>{const nr=Cn.element;M.has(nr)&&(Yo.set(nr,nr),this._beforeAnimationBuild(Cn.player.namespaceId,Cn.instruction,Ui))}),L.forEach(Cn=>{const nr=Cn.element;this._getPreviousPlayers(nr,!1,Cn.namespaceId,Cn.triggerName,null).forEach(Yr=>{xe(Ui,nr,[]).push(Yr),Yr.destroy()})});const vo=or.filter(Cn=>ns(Cn,He,ot)),_a=new Map;lr(_a,this.driver,si,ot,$e.kp).forEach(Cn=>{ns(Cn,He,ot)&&vo.push(Cn)});const Za=new Map;jn.forEach((Cn,nr)=>{lr(Za,this.driver,new Set(Cn),He,$e.FX)}),vo.forEach(Cn=>{const nr=_a.get(Cn),ir=Za.get(Cn);_a.set(Cn,new Map([...nr?.entries()??[],...ir?.entries()??[]]))});const Ac=[],Bu=[],v1={};de.forEach(Cn=>{const{element:nr,player:ir,instruction:Yr}=Cn;if(M.has(nr)){if(Wt.has(nr))return ir.onDestroy(()=>ke(nr,Yr.toStyles)),ir.disabled=!0,ir.overrideTotalTime(Yr.totalTime),void L.push(ir);let ao=v1;if(Yo.size>1){let Bs=nr;const Yc=[];for(;Bs=Bs.parentNode;){const Qi=Yo.get(Bs);if(Qi){ao=Qi;break}Yc.push(Bs)}Yc.forEach(Qi=>Yo.set(Qi,ao))}const Ts=this._buildAnimation(ir.namespaceId,Yr,Ui,W,Za,_a);if(ir.setRealPlayer(Ts),ao===v1)Ac.push(ir);else{const Bs=this.playersByElement.get(ao);Bs&&Bs.length&&(ir.parentPlayer=fr(Bs)),L.push(ir)}}else fe(nr,Yr.fromStyles),ir.onDestroy(()=>ke(nr,Yr.toStyles)),Bu.push(ir),Wt.has(nr)&&L.push(ir)}),Bu.forEach(Cn=>{const nr=W.get(Cn.element);if(nr&&nr.length){const ir=fr(nr);Cn.setRealPlayer(ir)}}),L.forEach(Cn=>{Cn.parentPlayer?Cn.syncPlayerEvents(Cn.parentPlayer):Cn.destroy()});for(let Cn=0;Cn<or.length;Cn++){const nr=or[Cn],ir=nr[Bi];if($s(nr,qe),ir&&ir.hasAnimation)continue;let Yr=[];if(ye.size){let Ts=ye.get(nr);Ts&&Ts.length&&Yr.push(...Ts);let Bs=this.driver.query(nr,Nn,!0);for(let Yc=0;Yc<Bs.length;Yc++){let Qi=ye.get(Bs[Yc]);Qi&&Qi.length&&Yr.push(...Qi)}}const ao=Yr.filter(Ts=>!Ts.destroyed);ao.length?gi(this,nr,ao):this.processLeaveNode(nr)}return or.length=0,Ac.forEach(Cn=>{this.players.push(Cn),Cn.onDone(()=>{Cn.destroy();const nr=this.players.indexOf(Cn);this.players.splice(nr,1)}),Cn.play()}),Ac}afterFlush(p){this._flushFns.push(p)}afterFlushAnimationsDone(p){this._whenQuietFns.push(p)}_getPreviousPlayers(p,m,M,L,W){let de=[];if(m){const ye=this.playersByQueriedElement.get(p);ye&&(de=ye)}else{const ye=this.playersByElement.get(p);if(ye){const He=!W||W==Ao;ye.forEach(ot=>{ot.queued||!He&&ot.triggerName!=L||de.push(ot)})}}return(M||L)&&(de=de.filter(ye=>!(M&&M!=ye.namespaceId||L&&L!=ye.triggerName))),de}_beforeAnimationBuild(p,m,M){const W=m.element,de=m.isRemovalTransition?void 0:p,ye=m.isRemovalTransition?void 0:m.triggerName;for(const He of m.timelines){const ot=He.element,Wt=ot!==W,sn=xe(M,ot,[]);this._getPreviousPlayers(ot,Wt,de,ye,m.toState).forEach(jn=>{const Dn=jn.getRealPlayer();Dn.beforeDestroy&&Dn.beforeDestroy(),jn.destroy(),sn.push(jn)})}fe(W,m.fromStyles)}_buildAnimation(p,m,M,L,W,de){const ye=m.triggerName,He=m.element,ot=[],Wt=new Set,sn=new Set,Kn=m.timelines.map(Dn=>{const Ln=Dn.element;Wt.add(Ln);const or=Ln[Bi];if(or&&or.removedBeforeQueried)return new $e.sf(Dn.duration,Dn.delay);const ri=Ln!==He,si=function ni(b){const p=[];return Ws(b,p),p}((M.get(Ln)||ls).map(Ui=>Ui.getRealPlayer())).filter(Ui=>!!Ui.element&&Ui.element===Ln),Qr=W.get(Ln),Sr=de.get(Ln),Xo=mr(this._normalizer,Dn.keyframes,Qr,Sr),Ki=this._buildPlayer(Dn,Xo,si);if(Dn.subTimeline&&L&&sn.add(Ln),ri){const Ui=new Jn(p,ye,Ln);Ui.setRealPlayer(Ki),ot.push(Ui)}return Ki});ot.forEach(Dn=>{xe(this.playersByQueriedElement,Dn.element,[]).push(Dn),Dn.onDone(()=>function xa(b,p,m){let M=b.get(p);if(M){if(M.length){const L=M.indexOf(m);M.splice(L,1)}0==M.length&&b.delete(p)}return M}(this.playersByQueriedElement,Dn.element,Dn))}),Wt.forEach(Dn=>Cr(Dn,Oe));const jn=fr(Kn);return jn.onDestroy(()=>{Wt.forEach(Dn=>$s(Dn,Oe)),ke(He,m.toStyles)}),sn.forEach(Dn=>{xe(L,Dn,[]).push(jn)}),jn}_buildPlayer(p,m,M){return m.length>0?this.driver.animate(p.element,m,p.duration,p.delay,p.easing,M):new $e.sf(p.duration,p.delay)}}class Jn{constructor(p,m,M){this.namespaceId=p,this.triggerName=m,this.element=M,this._player=new $e.sf,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(p){this._containsRealPlayer||(this._player=p,this._queuedCallbacks.forEach((m,M)=>{m.forEach(L=>yn(p,M,void 0,L))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(p.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(p){this.totalTime=p}syncPlayerEvents(p){const m=this._player;m.triggerCallback&&p.onStart(()=>m.triggerCallback("start")),p.onDone(()=>this.finish()),p.onDestroy(()=>this.destroy())}_queueEvent(p,m){xe(this._queuedCallbacks,p,[]).push(m)}onDone(p){this.queued&&this._queueEvent("done",p),this._player.onDone(p)}onStart(p){this.queued&&this._queueEvent("start",p),this._player.onStart(p)}onDestroy(p){this.queued&&this._queueEvent("destroy",p),this._player.onDestroy(p)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(p){this.queued||this._player.setPosition(p)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(p){const m=this._player;m.triggerCallback&&m.triggerCallback(p)}}function di(b){return b&&1===b.nodeType}function po(b,p){const m=b.style.display;return b.style.display=p??"none",m}function lr(b,p,m,M,L){const W=[];m.forEach(He=>W.push(po(He)));const de=[];M.forEach((He,ot)=>{const Wt=new Map;He.forEach(sn=>{const Kn=p.computeStyle(ot,sn,L);Wt.set(sn,Kn),(!Kn||0==Kn.length)&&(ot[Bi]=Co,de.push(ot))}),b.set(ot,Wt)});let ye=0;return m.forEach(He=>po(He,W[ye++])),de}function Dr(b,p){const m=new Map;if(b.forEach(ye=>m.set(ye,[])),0==p.length)return m;const L=new Set(p),W=new Map;function de(ye){if(!ye)return 1;let He=W.get(ye);if(He)return He;const ot=ye.parentNode;return He=m.has(ot)?ot:L.has(ot)?1:de(ot),W.set(ye,He),He}return p.forEach(ye=>{const He=de(ye);1!==He&&m.get(He).push(ye)}),m}function Cr(b,p){b.classList?.add(p)}function $s(b,p){b.classList?.remove(p)}function gi(b,p,m){fr(m).onDone(()=>b.processLeaveNode(p))}function Ws(b,p){for(let m=0;m<b.length;m++){const M=b[m];M instanceof $e.ui?Ws(M.players,p):p.push(M)}}function ns(b,p,m){const M=m.get(b);if(!M)return!1;let L=p.get(b);return L?M.forEach(W=>L.add(W)):p.set(b,M),m.delete(b),!0}class io{constructor(p,m,M){this.bodyNode=p,this._driver=m,this._normalizer=M,this._triggerCache={},this.onRemovalComplete=(L,W)=>{},this._transitionEngine=new Gr(p,m,M),this._timelineEngine=new Fi(p,m,M),this._transitionEngine.onRemovalComplete=(L,W)=>this.onRemovalComplete(L,W)}registerTrigger(p,m,M,L,W){const de=p+"-"+L;let ye=this._triggerCache[de];if(!ye){const He=[],Wt=Ei(this._driver,W,He,[]);if(He.length)throw function je(b,p){return new J.wOt(3404,!1)}();ye=function Li(b,p,m){return new no(b,p,m)}(L,Wt,this._normalizer),this._triggerCache[de]=ye}this._transitionEngine.registerTrigger(m,L,ye)}register(p,m){this._transitionEngine.register(p,m)}destroy(p,m){this._transitionEngine.destroy(p,m)}onInsert(p,m,M,L){this._transitionEngine.insertNode(p,m,M,L)}onRemove(p,m,M){this._transitionEngine.removeNode(p,m,M)}disableAnimations(p,m){this._transitionEngine.markElementAsDisabled(p,m)}process(p,m,M,L){if("@"==M.charAt(0)){const[W,de]=Ce(M);this._timelineEngine.command(W,m,de,L)}else this._transitionEngine.trigger(p,m,M,L)}listen(p,m,M,L,W){if("@"==M.charAt(0)){const[de,ye]=Ce(M);return this._timelineEngine.listen(de,m,ye,W)}return this._transitionEngine.listen(p,m,M,L,W)}flush(p=-1){this._transitionEngine.flush(p)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(p){this._transitionEngine.afterFlushAnimationsDone(p)}}let sa=(()=>{class b{static{this.initialStylesByElement=new WeakMap}constructor(m,M,L){this._element=m,this._startStyles=M,this._endStyles=L,this._state=0;let W=b.initialStylesByElement.get(m);W||b.initialStylesByElement.set(m,W=new Map),this._initialStyles=W}start(){this._state<1&&(this._startStyles&&ke(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(ke(this._element,this._initialStyles),this._endStyles&&(ke(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(b.initialStylesByElement.delete(this._element),this._startStyles&&(fe(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(fe(this._element,this._endStyles),this._endStyles=null),ke(this._element,this._initialStyles),this._state=3)}}return b})();function rs(b){let p=null;return b.forEach((m,M)=>{(function Vc(b){return"display"===b||"position"===b})(M)&&(p=p||new Map,p.set(M,m))}),p}class aa{constructor(p,m,M,L){this.element=p,this.keyframes=m,this.options=M,this._specialStyles=L,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=M.duration,this._delay=M.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(p=>p()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const p=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,p,this.options),this._finalKeyframe=p.length?p[p.length-1]:new Map;const m=()=>this._onFinish();this.domPlayer.addEventListener("finish",m),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",m)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(p){const m=[];return p.forEach(M=>{m.push(Object.fromEntries(M))}),m}_triggerWebAnimation(p,m,M){return p.animate(this._convertKeyframesToObject(m),M)}onStart(p){this._originalOnStartFns.push(p),this._onStartFns.push(p)}onDone(p){this._originalOnDoneFns.push(p),this._onDoneFns.push(p)}onDestroy(p){this._onDestroyFns.push(p)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(p=>p()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(p=>p()),this._onDestroyFns=[])}setPosition(p){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=p*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const p=new Map;this.hasStarted()&&this._finalKeyframe.forEach((M,L)=>{"offset"!==L&&p.set(L,this._finished?M:gn(this.element,L))}),this.currentSnapshot=p}triggerCallback(p){const m="start"===p?this._onStartFns:this._onDoneFns;m.forEach(M=>M()),m.length=0}}class q{validateStyleProperty(p){return!0}validateAnimatableStyleProperty(p){return!0}matchesElement(p,m){return!1}containsElement(p,m){return Hr(p,m)}getParentElement(p){return Xe(p)}query(p,m,M){return Jt(p,m,M)}computeStyle(p,m,M){return window.getComputedStyle(p)[m]}animate(p,m,M,L,W,de=[]){const He={duration:M,delay:L,fill:0==L?"both":"forwards"};W&&(He.easing=W);const ot=new Map,Wt=de.filter(jn=>jn instanceof aa);(function pn(b,p){return 0===b||0===p})(M,L)&&Wt.forEach(jn=>{jn.currentSnapshot.forEach((Dn,Ln)=>ot.set(Ln,Dn))});let sn=function H(b){return b.length?b[0]instanceof Map?b:b.map(p=>P(p)):[]}(m).map(jn=>Ie(jn));sn=function on(b,p,m){if(m.size&&p.length){let M=p[0],L=[];if(m.forEach((W,de)=>{M.has(de)||L.push(de),M.set(de,W)}),L.length)for(let W=1;W<p.length;W++){let de=p[W];L.forEach(ye=>de.set(ye,gn(b,ye)))}}return p}(p,sn,ot);const Kn=function cc(b,p){let m=null,M=null;return Array.isArray(p)&&p.length?(m=rs(p[0]),p.length>1&&(M=rs(p[p.length-1]))):p instanceof Map&&(m=rs(p)),m||M?new sa(b,m,M):null}(p,sn);return new aa(p,sn,He,Kn)}}var K=B(177);let V=(()=>{class b extends $e.S6{constructor(m,M){super(),this._nextAnimationId=0,this._renderer=m.createRenderer(M.body,{id:"0",encapsulation:J.gXe.None,styles:[],data:{animation:[]}})}build(m){const M=this._nextAnimationId.toString();this._nextAnimationId++;const L=Array.isArray(m)?(0,$e.K2)(m):m;return Tn(this._renderer,null,M,"register",[L]),new ee(M,this._renderer)}static{this.\u0275fac=function(M){return new(M||b)(J.KVO(J._9s),J.KVO(K.qQ))}}static{this.\u0275prov=J.jDH({token:b,factory:b.\u0275fac})}}return b})();class ee extends $e.Ro{constructor(p,m){super(),this._id=p,this._renderer=m}create(p,m){return new Ne(this._id,p,m||{},this._renderer)}}class Ne{constructor(p,m,M,L){this.id=p,this.element=m,this._renderer=L,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",M)}_listen(p,m){return this._renderer.listen(this.element,`@@${this.id}:${p}`,m)}_command(p,...m){return Tn(this._renderer,this.element,this.id,p,m)}onDone(p){this._listen("done",p)}onStart(p){this._listen("start",p)}onDestroy(p){this._listen("destroy",p)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(p){this._command("setPosition",p)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function Tn(b,p,m,M,L){return b.setProperty(p,`@@${m}:${M}`,L)}const Pi="@.disabled";let Po=(()=>{class b{constructor(m,M,L){this.delegate=m,this.engine=M,this._zone=L,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,M.onRemovalComplete=(W,de)=>{const ye=de?.parentNode(W);ye&&de.removeChild(ye,W)}}createRenderer(m,M){const W=this.delegate.createRenderer(m,M);if(!(m&&M&&M.data&&M.data.animation)){let Wt=this._rendererCache.get(W);return Wt||(Wt=new ca("",W,this.engine,()=>this._rendererCache.delete(W)),this._rendererCache.set(W,Wt)),Wt}const de=M.id,ye=M.id+"-"+this._currentId;this._currentId++,this.engine.register(ye,m);const He=Wt=>{Array.isArray(Wt)?Wt.forEach(He):this.engine.registerTrigger(de,ye,m,Wt.name,Wt)};return M.data.animation.forEach(He),new _u(this,ye,W,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(m,M,L){m>=0&&m<this._microtaskId?this._zone.run(()=>M(L)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(W=>{const[de,ye]=W;de(ye)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([M,L]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}static{this.\u0275fac=function(M){return new(M||b)(J.KVO(J._9s),J.KVO(io),J.KVO(J.SKi))}}static{this.\u0275prov=J.jDH({token:b,factory:b.\u0275fac})}}return b})();class ca{constructor(p,m,M,L){this.namespaceId=p,this.delegate=m,this.engine=M,this._onDestroy=L}get data(){return this.delegate.data}destroyNode(p){this.delegate.destroyNode?.(p)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(p,m){return this.delegate.createElement(p,m)}createComment(p){return this.delegate.createComment(p)}createText(p){return this.delegate.createText(p)}appendChild(p,m){this.delegate.appendChild(p,m),this.engine.onInsert(this.namespaceId,m,p,!1)}insertBefore(p,m,M,L=!0){this.delegate.insertBefore(p,m,M),this.engine.onInsert(this.namespaceId,m,p,L)}removeChild(p,m,M){this.engine.onRemove(this.namespaceId,m,this.delegate)}selectRootElement(p,m){return this.delegate.selectRootElement(p,m)}parentNode(p){return this.delegate.parentNode(p)}nextSibling(p){return this.delegate.nextSibling(p)}setAttribute(p,m,M,L){this.delegate.setAttribute(p,m,M,L)}removeAttribute(p,m,M){this.delegate.removeAttribute(p,m,M)}addClass(p,m){this.delegate.addClass(p,m)}removeClass(p,m){this.delegate.removeClass(p,m)}setStyle(p,m,M,L){this.delegate.setStyle(p,m,M,L)}removeStyle(p,m,M){this.delegate.removeStyle(p,m,M)}setProperty(p,m,M){"@"==m.charAt(0)&&m==Pi?this.disableAnimations(p,!!M):this.delegate.setProperty(p,m,M)}setValue(p,m){this.delegate.setValue(p,m)}listen(p,m,M){return this.delegate.listen(p,m,M)}disableAnimations(p,m){this.engine.disableAnimations(p,m)}}class _u extends ca{constructor(p,m,M,L,W){super(m,M,L,W),this.factory=p,this.namespaceId=m}setProperty(p,m,M){"@"==m.charAt(0)?"."==m.charAt(1)&&m==Pi?this.disableAnimations(p,M=void 0===M||!!M):this.engine.process(this.namespaceId,p,m.slice(1),M):this.delegate.setProperty(p,m,M)}listen(p,m,M){if("@"==m.charAt(0)){const L=function ws(b){switch(b){case"body":return document.body;case"document":return document;case"window":return window;default:return b}}(p);let W=m.slice(1),de="";return"@"!=W.charAt(0)&&([W,de]=function lc(b){const p=b.indexOf(".");return[b.substring(0,p),b.slice(p+1)]}(W)),this.engine.listen(this.namespaceId,L,W,de,ye=>{this.factory.scheduleListenerCallback(ye._data||-1,M,ye)})}return this.delegate.listen(p,m,M)}}const Ns=[{provide:$e.S6,useClass:V},{provide:Ji,useFactory:function Ca(){return new Eo}},{provide:io,useClass:(()=>{class b extends io{constructor(m,M,L,W){super(m.body,M,L)}ngOnDestroy(){this.flush()}static{this.\u0275fac=function(M){return new(M||b)(J.KVO(K.qQ),J.KVO(mi),J.KVO(Ji),J.KVO(J.o8S))}}static{this.\u0275prov=J.jDH({token:b,factory:b.\u0275fac})}}return b})()},{provide:J._9s,useFactory:function uc(b,p,m){return new Po(b,p,m)},deps:[y.B7,io,J.SKi]}],Oi=[{provide:mi,useFactory:()=>new q},{provide:J.bc$,useValue:"BrowserAnimations"},...Ns],is=[{provide:mi,useClass:On},{provide:J.bc$,useValue:"NoopAnimations"},...Ns];let Oo=(()=>{class b{static withConfig(m){return{ngModule:b,providers:m.disableAnimations?is:Oi}}static{this.\u0275fac=function(M){return new(M||b)}}static{this.\u0275mod=J.$C({type:b})}static{this.\u0275inj=J.G2t({providers:Oi,imports:[y.Bb]})}}return b})();var Es=B(8834),ji=B(6939),Gs=B(7987),dc=B(6600);let Fc=(()=>{class b{static{this.\u0275fac=function(M){return new(M||b)}}static{this.\u0275mod=J.$C({type:b})}static{this.\u0275inj=J.G2t({imports:[Gs.z_,ji.jc,K.MD,Es.Hl,dc.yE,dc.yE]})}}return b})();var Ks=B(7440),Ll=B(2418),Qs=B(5407),da=B(4665),Ls=B(2214),yc=B(467),A=B(7852),Z=B(1076),F=B(1362);const G="firebasestorage.googleapis.com";class wn extends Z.g{constructor(p,m,M=0){super(Mr(p),`Firebase Storage: ${m} (${Mr(p)})`),this.status_=M,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,wn.prototype)}get status(){return this.status_}set status(p){this.status_=p}_codeEquals(p){return Mr(p)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(p){this.customData.serverResponse=p,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var Xn=function(b){return b.UNKNOWN="unknown",b.OBJECT_NOT_FOUND="object-not-found",b.BUCKET_NOT_FOUND="bucket-not-found",b.PROJECT_NOT_FOUND="project-not-found",b.QUOTA_EXCEEDED="quota-exceeded",b.UNAUTHENTICATED="unauthenticated",b.UNAUTHORIZED="unauthorized",b.UNAUTHORIZED_APP="unauthorized-app",b.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",b.INVALID_CHECKSUM="invalid-checksum",b.CANCELED="canceled",b.INVALID_EVENT_NAME="invalid-event-name",b.INVALID_URL="invalid-url",b.INVALID_DEFAULT_BUCKET="invalid-default-bucket",b.NO_DEFAULT_BUCKET="no-default-bucket",b.CANNOT_SLICE_BLOB="cannot-slice-blob",b.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",b.NO_DOWNLOAD_URL="no-download-url",b.INVALID_ARGUMENT="invalid-argument",b.INVALID_ARGUMENT_COUNT="invalid-argument-count",b.APP_DELETED="app-deleted",b.INVALID_ROOT_OPERATION="invalid-root-operation",b.INVALID_FORMAT="invalid-format",b.INTERNAL_ERROR="internal-error",b.UNSUPPORTED_ENVIRONMENT="unsupported-environment",b}(Xn||{});function Mr(b){return"storage/"+b}function mo(b){return new wn(Xn.INVALID_ARGUMENT,b)}function vu(){return new wn(Xn.APP_DELETED,"The Firebase app was deleted.")}class Vo{constructor(p,m){this.bucket=p,this.path_=m}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const p=encodeURIComponent;return"/b/"+p(this.bucket)+"/o/"+p(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(p,m){let M;try{M=Vo.makeFromUrl(p,m)}catch{return new Vo(p,"")}if(""===M.path)return M;throw function Gi(b){return new wn(Xn.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+b+"'.")}(p)}static makeFromUrl(p,m){let M=null;const L="([A-Za-z0-9.\\-_]+)",ye=new RegExp("^gs://"+L+"(/(.*))?$","i");function ot(Sr){Sr.path_=decodeURIComponent(Sr.path)}const sn=m.replace(/[.]/g,"\\."),Qr=[{regex:ye,indices:{bucket:1,path:3},postModify:function W(Sr){"/"===Sr.path.charAt(Sr.path.length-1)&&(Sr.path_=Sr.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${sn}/v[A-Za-z0-9_]+/b/${L}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:ot},{regex:new RegExp(`^https?://${m===G?"(?:storage.googleapis.com|storage.cloud.google.com)":m}/${L}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:ot}];for(let Sr=0;Sr<Qr.length;Sr++){const Xo=Qr[Sr],Ki=Xo.regex.exec(p);if(Ki){let Yo=Ki[Xo.indices.path];Yo||(Yo=""),M=new Vo(Ki[Xo.indices.bucket],Yo),Xo.postModify(M);break}}if(null==M)throw function xs(b){return new wn(Xn.INVALID_URL,"Invalid URL '"+b+"'.")}(p);return M}}class _c{constructor(p){this.promise_=Promise.reject(p)}getPromise(){return this.promise_}cancel(p=!1){}}function Yn(b,p,m,M){if(M<p)throw mo(`Invalid value for '${b}'. Expected ${p} or greater.`);if(M>m)throw mo(`Invalid value for '${b}'. Expected ${m} or less.`)}var Aa=function(b){return b[b.NO_ERROR=0]="NO_ERROR",b[b.NETWORK_ERROR=1]="NETWORK_ERROR",b[b.ABORT=2]="ABORT",b}(Aa||{});class ll{constructor(p,m,M,L,W,de,ye,He,ot,Wt,sn,Kn=!0){this.url_=p,this.method_=m,this.headers_=M,this.body_=L,this.successCodes_=W,this.additionalRetryCodes_=de,this.callback_=ye,this.errorCallback_=He,this.timeout_=ot,this.progressCallback_=Wt,this.connectionFactory_=sn,this.retry=Kn,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((jn,Dn)=>{this.resolve_=jn,this.reject_=Dn,this.start_()})}start_(){const m=(M,L)=>{const W=this.resolve_,de=this.reject_,ye=L.connection;if(L.wasSuccessCode)try{const He=this.callback_(ye,ye.getResponse());!function al(b){return void 0!==b}(He)?W():W(He)}catch(He){de(He)}else if(null!==ye){const He=function hr(){return new wn(Xn.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}();He.serverResponse=ye.getErrorText(),de(this.errorCallback_?this.errorCallback_(ye,He):He)}else de(L.canceled?this.appDelete_?vu():function Ii(){return new wn(Xn.CANCELED,"User canceled the upload/download.")}():function so(){return new wn(Xn.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}())};this.canceled_?m(0,new Xs(!1,null,!0)):this.backoffId_=function Fl(b,p,m){let M=1,L=null,W=null,de=!1,ye=0;function He(){return 2===ye}let ot=!1;function Wt(...or){ot||(ot=!0,p.apply(null,or))}function sn(or){L=setTimeout(()=>{L=null,b(jn,He())},or)}function Kn(){W&&clearTimeout(W)}function jn(or,...ri){if(ot)return void Kn();if(or)return Kn(),void Wt.call(null,or,...ri);if(He()||de)return Kn(),void Wt.call(null,or,...ri);let Qr;M<64&&(M*=2),1===ye?(ye=2,Qr=0):Qr=1e3*(M+Math.random()),sn(Qr)}let Dn=!1;function Ln(or){Dn||(Dn=!0,Kn(),!ot&&(null!==L?(or||(ye=2),clearTimeout(L),sn(0)):or||(ye=1)))}return sn(0),W=setTimeout(()=>{de=!0,Ln(!0)},m),Ln}((M,L)=>{if(L)return void M(!1,new Xs(!1,null,!0));const W=this.connectionFactory_();this.pendingConnection_=W;const de=ye=>{null!==this.progressCallback_&&this.progressCallback_(ye.loaded,ye.lengthComputable?ye.total:-1)};null!==this.progressCallback_&&W.addUploadProgressListener(de),W.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&W.removeUploadProgressListener(de),this.pendingConnection_=null;const ye=W.getErrorCode()===Aa.NO_ERROR,He=W.getStatus();if(!ye||function Bl(b,p){const m=b>=500&&b<600,L=-1!==[408,429].indexOf(b),W=-1!==p.indexOf(b);return m||L||W}(He,this.additionalRetryCodes_)&&this.retry){const Wt=W.getErrorCode()===Aa.ABORT;return void M(!1,new Xs(!1,null,Wt))}const ot=-1!==this.successCodes_.indexOf(He);M(!0,new Xs(ot,W))})},m,this.timeout_)}getPromise(){return this.promise_}cancel(p){this.canceled_=!0,this.appDelete_=p||!1,null!==this.backoffId_&&function ja(b){b(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class Xs{constructor(p,m,M){this.wasSuccessCode=p,this.connection=m,this.canceled=!!M}}class Js{constructor(p,m){this._service=p,this._location=m instanceof Vo?m:Vo.makeFromUrl(m,p.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(p,m){return new Js(p,m)}get root(){const p=new Vo(this._location.bucket,"");return this._newRef(this._service,p)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return function x(b){const p=b.lastIndexOf("/",b.length-2);return-1===p?b:b.slice(p+1)}(this._location.path)}get storage(){return this._service}get parent(){const p=function Mu(b){if(0===b.length)return null;const p=b.lastIndexOf("/");return-1===p?"":b.slice(0,p)}(this._location.path);if(null===p)return null;const m=new Vo(this._location.bucket,p);return new Js(this._service,m)}_throwIfRoot(p){if(""===this._location.path)throw function vi(b){return new wn(Xn.INVALID_ROOT_OPERATION,"The operation '"+b+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(p)}}function dd(b,p){const m=p?.storageBucket;return null==m?null:Vo.makeFromBucketSpec(m,b)}class Ko{constructor(p,m,M,L,W){this.app=p,this._authProvider=m,this._appCheckProvider=M,this._url=L,this._firebaseVersion=W,this._bucket=null,this._host=G,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=L?Vo.makeFromBucketSpec(L,this._host):dd(this._host,this.app.options)}get host(){return this._host}set host(p){this._host=p,this._bucket=null!=this._url?Vo.makeFromBucketSpec(this._url,p):dd(p,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(p){Yn("time",0,Number.POSITIVE_INFINITY,p),this._maxUploadRetryTime=p}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(p){Yn("time",0,Number.POSITIVE_INFINITY,p),this._maxOperationRetryTime=p}_getAuthToken(){var p=this;return(0,yc.A)(function*(){if(p._overrideAuthToken)return p._overrideAuthToken;const m=p._authProvider.getImmediate({optional:!0});if(m){const M=yield m.getToken();if(null!==M)return M.accessToken}return null})()}_getAppCheckToken(){var p=this;return(0,yc.A)(function*(){const m=p._appCheckProvider.getImmediate({optional:!0});return m?(yield m.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(p=>p.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(p){return new Js(this,p)}_makeRequest(p,m,M,L,W=!0){if(this._deleted)return new _c(vu());{const de=function jl(b,p,m,M,L,W,de=!0){const ye=function cl(b){const p=encodeURIComponent;let m="?";for(const M in b)b.hasOwnProperty(M)&&(m=m+(p(M)+"=")+p(b[M])+"&");return m=m.slice(0,-1),m}(b.urlParams),He=b.url+ye,ot=Object.assign({},b.headers);return function Xd(b,p){p&&(b["X-Firebase-GMPID"]=p)}(ot,p),function kc(b,p){null!==p&&p.length>0&&(b.Authorization="Firebase "+p)}(ot,m),function ku(b,p){b["X-Firebase-Storage-Version"]="webjs/"+(p??"AppManager")}(ot,W),function Yd(b,p){null!==p&&(b["X-Firebase-AppCheck"]=p)}(ot,M),new ll(He,b.method,ot,b.body,b.successCodes,b.additionalRetryCodes,b.handler,b.errorHandler,b.timeout,b.progressCallback,L,de)}(p,this._appId,M,L,m,this._firebaseVersion,W);return this._requests.add(de),de.getPromise().then(()=>this._requests.delete(de),()=>this._requests.delete(de)),de}}makeRequestWithTokens(p,m){var M=this;return(0,yc.A)(function*(){const[L,W]=yield Promise.all([M._getAuthToken(),M._getAppCheckToken()]);return M._makeRequest(p,m,L,W).getPromise()})()}}const hd="@firebase/storage",hl="storage";function Zl(b=(0,A.Sx)(),p){b=(0,Z.Ku)(b);const M=(0,A.j6)(b,hl).getImmediate({identifier:p}),L=(0,Z.yU)("storage");return L&&function Su(b,p,m,M={}){!function ta(b,p,m,M={}){b.host=`${p}:${m}`,b._protocol="http";const{mockUserToken:L}=M;L&&(b._overrideAuthToken="string"==typeof L?L:(0,Z.Fy)(L,b.app.options.projectId))}(b,p,m,M)}(M,...L),M}function pl(b,{instanceIdentifier:p}){const m=b.getProvider("app").getImmediate(),M=b.getProvider("auth-internal"),L=b.getProvider("app-check-internal");return new Ko(m,M,L,p,A.MF)}!function oh(){(0,A.om)(new F.uA(hl,pl,"PUBLIC").setMultipleInstances(!0)),(0,A.KO)(hd,"0.13.2",""),(0,A.KO)(hd,"0.13.2","esm2017")}();class Ru{constructor(p){return p}}const Pu="storage",Ou=new J.nKC("angularfire2.storage-instances");function Xc(b){return(p,m)=>{const M=p.runOutsideAngular(()=>b(m));return new Ru(M)}}const Do={provide:class sh{constructor(){return(0,Qs.CA)(Pu)}},deps:[[new J.Xx1,Ou]]},_o={provide:Ru,useFactory:function Zc(b,p){const m=(0,Qs.lR)(Pu,b,p);return m&&new Ru(m)},deps:[[new J.Xx1,Ou],Ks.XU]};let ah=(()=>{class b{constructor(){(0,Ls.KO)("angularfire",Qs.xv.full,"gcs")}static \u0275fac=function(M){return new(M||b)};static \u0275mod=J.$C({type:b});static \u0275inj=J.G2t({providers:[_o,Do]})}return b})();function fl(b,...p){return{ngModule:ah,providers:[{provide:Ou,useFactory:Xc(b),multi:!0,deps:[J.SKi,J.zZn,Qs.u0,Ks.gL,[new J.Xx1,da.DF],[new J.Xx1,Qs.Jv],...p]}]}}const Nu=(0,Qs.S3)(Zl,!0);var Zo=B(8516);let Lu=(()=>{class b{static{this.\u0275fac=function(M){return new(M||b)}}static{this.\u0275mod=J.$C({type:b,bootstrap:[re]})}static{this.\u0275inj=J.G2t({imports:[y.Bb,De,Be.q1,_e.iI,ne.YN,ne.X1,Fc,Oo,(0,Ks.MW)(()=>(0,Ks.Wp)(ve_firebase)),(0,Ll.hV)(()=>(0,Ll.aU)()),fl(()=>Nu()),Zo.flO.pick({LayoutDashboard:Zo.HxJ,Package:Zo.lPX,Tags:Zo.YDL,ChefHat:Zo.sEC,ShoppingCart:Zo.JBW,TrendingUp:Zo.ntg,Users:Zo.zWC,FileText:Zo.iUU,Sliders:Zo.rjK,Star:Zo.FEq,ShieldUser:Zo.Fhv,PackageSearch:Zo.zO8})]})}}return b})();y.sG().bootstrapModule(Lu).catch(b=>console.error(b))},4412:(hn,tt,B)=>{B.d(tt,{t:()=>ne});var y=B(1413);class ne extends y.B{constructor(J){super(),this._value=J}get value(){return this.getValue()}_subscribe(J){const se=super._subscribe(J);return!se.closed&&J.next(this._value),se}getValue(){const{hasError:J,thrownError:se,_value:ae}=this;if(J)throw se;return this._throwIfClosed(),ae}next(J){super.next(this._value=J)}}},1985:(hn,tt,B)=>{B.d(tt,{c:()=>Se});var y=B(7707),ne=B(8359),_e=B(3494),J=B(1203),se=B(1026),ae=B(8071),Ve=B(9786);let Se=(()=>{class Be{constructor(lt){lt&&(this._subscribe=lt)}lift(lt){const Tt=new Be;return Tt.source=this,Tt.operator=lt,Tt}subscribe(lt,Tt,Dt){const Ft=function ve(Be){return Be&&Be instanceof y.vU||function re(Be){return Be&&(0,ae.T)(Be.next)&&(0,ae.T)(Be.error)&&(0,ae.T)(Be.complete)}(Be)&&(0,ne.Uv)(Be)}(lt)?lt:new y.Ms(lt,Tt,Dt);return(0,Ve.Y)(()=>{const{operator:Bt,source:_n}=this;Ft.add(Bt?Bt.call(Ft,_n):_n?this._subscribe(Ft):this._trySubscribe(Ft))}),Ft}_trySubscribe(lt){try{return this._subscribe(lt)}catch(Tt){lt.error(Tt)}}forEach(lt,Tt){return new(Tt=De(Tt))((Dt,Ft)=>{const Bt=new y.Ms({next:_n=>{try{lt(_n)}catch(Xt){Ft(Xt),Bt.unsubscribe()}},error:Ft,complete:Dt});this.subscribe(Bt)})}_subscribe(lt){var Tt;return null===(Tt=this.source)||void 0===Tt?void 0:Tt.subscribe(lt)}[_e.s](){return this}pipe(...lt){return(0,J.m)(lt)(this)}toPromise(lt){return new(lt=De(lt))((Tt,Dt)=>{let Ft;this.subscribe(Bt=>Ft=Bt,Bt=>Dt(Bt),()=>Tt(Ft))})}}return Be.create=$e=>new Be($e),Be})();function De(Be){var $e;return null!==($e=Be??se.$.Promise)&&void 0!==$e?$e:Promise}},1413:(hn,tt,B)=>{B.d(tt,{B:()=>Ve});var y=B(1985),ne=B(8359);const J=(0,B(1853).L)(De=>function(){De(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var se=B(7908),ae=B(9786);let Ve=(()=>{class De extends y.c{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(ve){const Be=new Se(this,this);return Be.operator=ve,Be}_throwIfClosed(){if(this.closed)throw new J}next(ve){(0,ae.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Be of this.currentObservers)Be.next(ve)}})}error(ve){(0,ae.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=ve;const{observers:Be}=this;for(;Be.length;)Be.shift().error(ve)}})}complete(){(0,ae.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:ve}=this;for(;ve.length;)ve.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var ve;return(null===(ve=this.observers)||void 0===ve?void 0:ve.length)>0}_trySubscribe(ve){return this._throwIfClosed(),super._trySubscribe(ve)}_subscribe(ve){return this._throwIfClosed(),this._checkFinalizedStatuses(ve),this._innerSubscribe(ve)}_innerSubscribe(ve){const{hasError:Be,isStopped:$e,observers:lt}=this;return Be||$e?ne.Kn:(this.currentObservers=null,lt.push(ve),new ne.yU(()=>{this.currentObservers=null,(0,se.o)(lt,ve)}))}_checkFinalizedStatuses(ve){const{hasError:Be,thrownError:$e,isStopped:lt}=this;Be?ve.error($e):lt&&ve.complete()}asObservable(){const ve=new y.c;return ve.source=this,ve}}return De.create=(re,ve)=>new Se(re,ve),De})();class Se extends Ve{constructor(re,ve){super(),this.destination=re,this.source=ve}next(re){var ve,Be;null===(Be=null===(ve=this.destination)||void 0===ve?void 0:ve.next)||void 0===Be||Be.call(ve,re)}error(re){var ve,Be;null===(Be=null===(ve=this.destination)||void 0===ve?void 0:ve.error)||void 0===Be||Be.call(ve,re)}complete(){var re,ve;null===(ve=null===(re=this.destination)||void 0===re?void 0:re.complete)||void 0===ve||ve.call(re)}_subscribe(re){var ve,Be;return null!==(Be=null===(ve=this.source)||void 0===ve?void 0:ve.subscribe(re))&&void 0!==Be?Be:ne.Kn}}},7707:(hn,tt,B)=>{B.d(tt,{Ms:()=>Dt,vU:()=>Be});var y=B(8071),ne=B(8359),_e=B(1026),J=B(5334),se=B(5343);const ae=De("C",void 0,void 0);function De(be,Ge,ze){return{kind:be,value:Ge,error:ze}}var re=B(9270),ve=B(9786);class Be extends ne.yU{constructor(Ge){super(),this.isStopped=!1,Ge?(this.destination=Ge,(0,ne.Uv)(Ge)&&Ge.add(this)):this.destination=Xt}static create(Ge,ze,Ke){return new Dt(Ge,ze,Ke)}next(Ge){this.isStopped?_n(function Se(be){return De("N",be,void 0)}(Ge),this):this._next(Ge)}error(Ge){this.isStopped?_n(function Ve(be){return De("E",void 0,be)}(Ge),this):(this.isStopped=!0,this._error(Ge))}complete(){this.isStopped?_n(ae,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Ge){this.destination.next(Ge)}_error(Ge){try{this.destination.error(Ge)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const $e=Function.prototype.bind;function lt(be,Ge){return $e.call(be,Ge)}class Tt{constructor(Ge){this.partialObserver=Ge}next(Ge){const{partialObserver:ze}=this;if(ze.next)try{ze.next(Ge)}catch(Ke){Ft(Ke)}}error(Ge){const{partialObserver:ze}=this;if(ze.error)try{ze.error(Ge)}catch(Ke){Ft(Ke)}else Ft(Ge)}complete(){const{partialObserver:Ge}=this;if(Ge.complete)try{Ge.complete()}catch(ze){Ft(ze)}}}class Dt extends Be{constructor(Ge,ze,Ke){let dt;if(super(),(0,y.T)(Ge)||!Ge)dt={next:Ge??void 0,error:ze??void 0,complete:Ke??void 0};else{let xt;this&&_e.$.useDeprecatedNextContext?(xt=Object.create(Ge),xt.unsubscribe=()=>this.unsubscribe(),dt={next:Ge.next&&lt(Ge.next,xt),error:Ge.error&&lt(Ge.error,xt),complete:Ge.complete&&lt(Ge.complete,xt)}):dt=Ge}this.destination=new Tt(dt)}}function Ft(be){_e.$.useDeprecatedSynchronousErrorHandling?(0,ve.l)(be):(0,J.m)(be)}function _n(be,Ge){const{onStoppedNotification:ze}=_e.$;ze&&re.f.setTimeout(()=>ze(be,Ge))}const Xt={closed:!0,next:se.l,error:function Bt(be){throw be},complete:se.l}},8359:(hn,tt,B)=>{B.d(tt,{Kn:()=>ae,yU:()=>se,Uv:()=>Ve});var y=B(8071);const _e=(0,B(1853).L)(De=>function(ve){De(this),this.message=ve?`${ve.length} errors occurred during unsubscription:\n${ve.map((Be,$e)=>`${$e+1}) ${Be.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ve});var J=B(7908);class se{constructor(re){this.initialTeardown=re,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let re;if(!this.closed){this.closed=!0;const{_parentage:ve}=this;if(ve)if(this._parentage=null,Array.isArray(ve))for(const lt of ve)lt.remove(this);else ve.remove(this);const{initialTeardown:Be}=this;if((0,y.T)(Be))try{Be()}catch(lt){re=lt instanceof _e?lt.errors:[lt]}const{_finalizers:$e}=this;if($e){this._finalizers=null;for(const lt of $e)try{Se(lt)}catch(Tt){re=re??[],Tt instanceof _e?re=[...re,...Tt.errors]:re.push(Tt)}}if(re)throw new _e(re)}}add(re){var ve;if(re&&re!==this)if(this.closed)Se(re);else{if(re instanceof se){if(re.closed||re._hasParent(this))return;re._addParent(this)}(this._finalizers=null!==(ve=this._finalizers)&&void 0!==ve?ve:[]).push(re)}}_hasParent(re){const{_parentage:ve}=this;return ve===re||Array.isArray(ve)&&ve.includes(re)}_addParent(re){const{_parentage:ve}=this;this._parentage=Array.isArray(ve)?(ve.push(re),ve):ve?[ve,re]:re}_removeParent(re){const{_parentage:ve}=this;ve===re?this._parentage=null:Array.isArray(ve)&&(0,J.o)(ve,re)}remove(re){const{_finalizers:ve}=this;ve&&(0,J.o)(ve,re),re instanceof se&&re._removeParent(this)}}se.EMPTY=(()=>{const De=new se;return De.closed=!0,De})();const ae=se.EMPTY;function Ve(De){return De instanceof se||De&&"closed"in De&&(0,y.T)(De.remove)&&(0,y.T)(De.add)&&(0,y.T)(De.unsubscribe)}function Se(De){(0,y.T)(De)?De():De.unsubscribe()}},1026:(hn,tt,B)=>{B.d(tt,{$:()=>y});const y={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},17:(hn,tt,B)=>{B.d(tt,{G:()=>ae});var y=B(1985),ne=B(8359),_e=B(9898),J=B(4360),se=B(9974);class ae extends y.c{constructor(Se,De){super(),this.source=Se,this.subjectFactory=De,this._subject=null,this._refCount=0,this._connection=null,(0,se.S)(Se)&&(this.lift=Se.lift)}_subscribe(Se){return this.getSubject().subscribe(Se)}getSubject(){const Se=this._subject;return(!Se||Se.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:Se}=this;this._subject=this._connection=null,Se?.unsubscribe()}connect(){let Se=this._connection;if(!Se){Se=this._connection=new ne.yU;const De=this.getSubject();Se.add(this.source.subscribe((0,J._)(De,void 0,()=>{this._teardown(),De.complete()},re=>{this._teardown(),De.error(re)},()=>this._teardown()))),Se.closed&&(this._connection=null,Se=ne.yU.EMPTY)}return Se}refCount(){return(0,_e.B)()(this)}}},4572:(hn,tt,B)=>{B.d(tt,{z:()=>re});var y=B(1985),ne=B(3073),_e=B(8455),J=B(3669),se=B(6450),ae=B(9326),Ve=B(8496),Se=B(4360),De=B(5225);function re(...$e){const lt=(0,ae.lI)($e),Tt=(0,ae.ms)($e),{args:Dt,keys:Ft}=(0,ne.D)($e);if(0===Dt.length)return(0,_e.H)([],lt);const Bt=new y.c(function ve($e,lt,Tt=J.D){return Dt=>{Be(lt,()=>{const{length:Ft}=$e,Bt=new Array(Ft);let _n=Ft,Xt=Ft;for(let be=0;be<Ft;be++)Be(lt,()=>{const Ge=(0,_e.H)($e[be],lt);let ze=!1;Ge.subscribe((0,Se._)(Dt,Ke=>{Bt[be]=Ke,ze||(ze=!0,Xt--),Xt||Dt.next(Tt(Bt.slice()))},()=>{--_n||Dt.complete()}))},Dt)},Dt)}}(Dt,lt,Ft?_n=>(0,Ve.e)(Ft,_n):J.D));return Tt?Bt.pipe((0,se.I)(Tt)):Bt}function Be($e,lt,Tt){$e?(0,De.N)(Tt,$e,lt):lt()}},8793:(hn,tt,B)=>{B.d(tt,{x:()=>se});var y=B(6365),_e=B(9326),J=B(8455);function se(...ae){return function ne(){return(0,y.U)(1)}()((0,J.H)(ae,(0,_e.lI)(ae)))}},9030:(hn,tt,B)=>{B.d(tt,{v:()=>_e});var y=B(1985),ne=B(8750);function _e(J){return new y.c(se=>{(0,ne.Tg)(J()).subscribe(se)})}},983:(hn,tt,B)=>{B.d(tt,{w:()=>ne});const ne=new(B(1985).c)(se=>se.complete())},7468:(hn,tt,B)=>{B.d(tt,{p:()=>Se});var y=B(1985),ne=B(3073),_e=B(8750),J=B(9326),se=B(4360),ae=B(6450),Ve=B(8496);function Se(...De){const re=(0,J.ms)(De),{args:ve,keys:Be}=(0,ne.D)(De),$e=new y.c(lt=>{const{length:Tt}=ve;if(!Tt)return void lt.complete();const Dt=new Array(Tt);let Ft=Tt,Bt=Tt;for(let _n=0;_n<Tt;_n++){let Xt=!1;(0,_e.Tg)(ve[_n]).subscribe((0,se._)(lt,be=>{Xt||(Xt=!0,Bt--),Dt[_n]=be},()=>Ft--,void 0,()=>{(!Ft||!Xt)&&(Bt||lt.next(Be?(0,Ve.e)(Be,Dt):Dt),lt.complete())}))}});return re?$e.pipe((0,ae.I)(re)):$e}},8455:(hn,tt,B)=>{B.d(tt,{H:()=>Ge});var y=B(8750),ne=B(941),_e=B(6745),ae=B(1985),Se=B(4761),De=B(8071),re=B(5225);function Be(ze,Ke){if(!ze)throw new Error("Iterable cannot be null");return new ae.c(dt=>{(0,re.N)(dt,Ke,()=>{const xt=ze[Symbol.asyncIterator]();(0,re.N)(dt,Ke,()=>{xt.next().then(Yt=>{Yt.done?dt.complete():dt.next(Yt.value)})},0,!0)})})}var $e=B(5055),lt=B(9858),Tt=B(7441),Dt=B(5397),Ft=B(7953),Bt=B(591),_n=B(5196);function Ge(ze,Ke){return Ke?function be(ze,Ke){if(null!=ze){if((0,$e.l)(ze))return function J(ze,Ke){return(0,y.Tg)(ze).pipe((0,_e._)(Ke),(0,ne.Q)(Ke))}(ze,Ke);if((0,Tt.X)(ze))return function Ve(ze,Ke){return new ae.c(dt=>{let xt=0;return Ke.schedule(function(){xt===ze.length?dt.complete():(dt.next(ze[xt++]),dt.closed||this.schedule())})})}(ze,Ke);if((0,lt.y)(ze))return function se(ze,Ke){return(0,y.Tg)(ze).pipe((0,_e._)(Ke),(0,ne.Q)(Ke))}(ze,Ke);if((0,Ft.T)(ze))return Be(ze,Ke);if((0,Dt.x)(ze))return function ve(ze,Ke){return new ae.c(dt=>{let xt;return(0,re.N)(dt,Ke,()=>{xt=ze[Se.l](),(0,re.N)(dt,Ke,()=>{let Yt,mn;try{({value:Yt,done:mn}=xt.next())}catch(vn){return void dt.error(vn)}mn?dt.complete():dt.next(Yt)},0,!0)}),()=>(0,De.T)(xt?.return)&&xt.return()})}(ze,Ke);if((0,_n.U)(ze))return function Xt(ze,Ke){return Be((0,_n.C)(ze),Ke)}(ze,Ke)}throw(0,Bt.L)(ze)}(ze,Ke):(0,y.Tg)(ze)}},8750:(hn,tt,B)=>{B.d(tt,{Tg:()=>$e});var y=B(1635),ne=B(7441),_e=B(9858),J=B(1985),se=B(5055),ae=B(7953),Ve=B(591),Se=B(5397),De=B(5196),re=B(8071),ve=B(5334),Be=B(3494);function $e(be){if(be instanceof J.c)return be;if(null!=be){if((0,se.l)(be))return function lt(be){return new J.c(Ge=>{const ze=be[Be.s]();if((0,re.T)(ze.subscribe))return ze.subscribe(Ge);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(be);if((0,ne.X)(be))return function Tt(be){return new J.c(Ge=>{for(let ze=0;ze<be.length&&!Ge.closed;ze++)Ge.next(be[ze]);Ge.complete()})}(be);if((0,_e.y)(be))return function Dt(be){return new J.c(Ge=>{be.then(ze=>{Ge.closed||(Ge.next(ze),Ge.complete())},ze=>Ge.error(ze)).then(null,ve.m)})}(be);if((0,ae.T)(be))return Bt(be);if((0,Se.x)(be))return function Ft(be){return new J.c(Ge=>{for(const ze of be)if(Ge.next(ze),Ge.closed)return;Ge.complete()})}(be);if((0,De.U)(be))return function _n(be){return Bt((0,De.C)(be))}(be)}throw(0,Ve.L)(be)}function Bt(be){return new J.c(Ge=>{(function Xt(be,Ge){var ze,Ke,dt,xt;return(0,y.sH)(this,void 0,void 0,function*(){try{for(ze=(0,y.xN)(be);!(Ke=yield ze.next()).done;)if(Ge.next(Ke.value),Ge.closed)return}catch(Yt){dt={error:Yt}}finally{try{Ke&&!Ke.done&&(xt=ze.return)&&(yield xt.call(ze))}finally{if(dt)throw dt.error}}Ge.complete()})})(be,Ge).catch(ze=>Ge.error(ze))})}},7786:(hn,tt,B)=>{B.d(tt,{h:()=>ae});var y=B(6365),ne=B(8750),_e=B(983),J=B(9326),se=B(8455);function ae(...Ve){const Se=(0,J.lI)(Ve),De=(0,J.R0)(Ve,1/0),re=Ve;return re.length?1===re.length?(0,ne.Tg)(re[0]):(0,y.U)(De)((0,se.H)(re,Se)):_e.w}},7673:(hn,tt,B)=>{B.d(tt,{of:()=>_e});var y=B(9326),ne=B(8455);function _e(...J){const se=(0,y.lI)(J);return(0,ne.H)(J,se)}},8810:(hn,tt,B)=>{B.d(tt,{$:()=>_e});var y=B(1985),ne=B(8071);function _e(J,se){const ae=(0,ne.T)(J)?J:()=>J,Ve=Se=>Se.error(ae());return new y.c(se?Se=>se.schedule(Ve,0,Se):Ve)}},4360:(hn,tt,B)=>{B.d(tt,{_:()=>ne});var y=B(7707);function ne(J,se,ae,Ve,Se){return new _e(J,se,ae,Ve,Se)}class _e extends y.vU{constructor(se,ae,Ve,Se,De,re){super(se),this.onFinalize=De,this.shouldUnsubscribe=re,this._next=ae?function(ve){try{ae(ve)}catch(Be){se.error(Be)}}:super._next,this._error=Se?function(ve){try{Se(ve)}catch(Be){se.error(Be)}finally{this.unsubscribe()}}:super._error,this._complete=Ve?function(){try{Ve()}catch(ve){se.error(ve)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var se;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ae}=this;super.unsubscribe(),!ae&&(null===(se=this.onFinalize)||void 0===se||se.call(this))}}}},9437:(hn,tt,B)=>{B.d(tt,{W:()=>J});var y=B(8750),ne=B(4360),_e=B(9974);function J(se){return(0,_e.N)((ae,Ve)=>{let re,Se=null,De=!1;Se=ae.subscribe((0,ne._)(Ve,void 0,void 0,ve=>{re=(0,y.Tg)(se(ve,J(se)(ae))),Se?(Se.unsubscribe(),Se=null,re.subscribe(Ve)):De=!0})),De&&(Se.unsubscribe(),Se=null,re.subscribe(Ve))})}},274:(hn,tt,B)=>{B.d(tt,{H:()=>_e});var y=B(1397),ne=B(8071);function _e(J,se){return(0,ne.T)(se)?(0,y.Z)(J,se,1):(0,y.Z)(J,1)}},152:(hn,tt,B)=>{B.d(tt,{B:()=>J});var y=B(3236),ne=B(9974),_e=B(4360);function J(se,ae=y.E){return(0,ne.N)((Ve,Se)=>{let De=null,re=null,ve=null;const Be=()=>{if(De){De.unsubscribe(),De=null;const lt=re;re=null,Se.next(lt)}};function $e(){const lt=ve+se,Tt=ae.now();if(Tt<lt)return De=this.schedule(void 0,lt-Tt),void Se.add(De);Be()}Ve.subscribe((0,_e._)(Se,lt=>{re=lt,ve=ae.now(),De||(De=ae.schedule($e,se),Se.add(De))},()=>{Be(),Se.complete()},void 0,()=>{re=De=null}))})}},3294:(hn,tt,B)=>{B.d(tt,{F:()=>J});var y=B(3669),ne=B(9974),_e=B(4360);function J(ae,Ve=y.D){return ae=ae??se,(0,ne.N)((Se,De)=>{let re,ve=!0;Se.subscribe((0,_e._)(De,Be=>{const $e=Ve(Be);(ve||!ae(re,$e))&&(ve=!1,re=$e,De.next(Be))}))})}function se(ae,Ve){return ae===Ve}},5964:(hn,tt,B)=>{B.d(tt,{p:()=>_e});var y=B(9974),ne=B(4360);function _e(J,se){return(0,y.N)((ae,Ve)=>{let Se=0;ae.subscribe((0,ne._)(Ve,De=>J.call(se,De,Se++)&&Ve.next(De)))})}},980:(hn,tt,B)=>{B.d(tt,{j:()=>ne});var y=B(9974);function ne(_e){return(0,y.N)((J,se)=>{try{J.subscribe(se)}finally{se.add(_e)}})}},6354:(hn,tt,B)=>{B.d(tt,{T:()=>_e});var y=B(9974),ne=B(4360);function _e(J,se){return(0,y.N)((ae,Ve)=>{let Se=0;ae.subscribe((0,ne._)(Ve,De=>{Ve.next(J.call(se,De,Se++))}))})}},6365:(hn,tt,B)=>{B.d(tt,{U:()=>_e});var y=B(1397),ne=B(3669);function _e(J=1/0){return(0,y.Z)(ne.D,J)}},1397:(hn,tt,B)=>{B.d(tt,{Z:()=>Se});var y=B(6354),ne=B(8750),_e=B(9974),J=B(5225),se=B(4360),Ve=B(8071);function Se(De,re,ve=1/0){return(0,Ve.T)(re)?Se((Be,$e)=>(0,y.T)((lt,Tt)=>re(Be,lt,$e,Tt))((0,ne.Tg)(De(Be,$e))),ve):("number"==typeof re&&(ve=re),(0,_e.N)((Be,$e)=>function ae(De,re,ve,Be,$e,lt,Tt,Dt){const Ft=[];let Bt=0,_n=0,Xt=!1;const be=()=>{Xt&&!Ft.length&&!Bt&&re.complete()},Ge=Ke=>Bt<Be?ze(Ke):Ft.push(Ke),ze=Ke=>{lt&&re.next(Ke),Bt++;let dt=!1;(0,ne.Tg)(ve(Ke,_n++)).subscribe((0,se._)(re,xt=>{$e?.(xt),lt?Ge(xt):re.next(xt)},()=>{dt=!0},void 0,()=>{if(dt)try{for(Bt--;Ft.length&&Bt<Be;){const xt=Ft.shift();Tt?(0,J.N)(re,Tt,()=>ze(xt)):ze(xt)}be()}catch(xt){re.error(xt)}}))};return De.subscribe((0,se._)(re,Ge,()=>{Xt=!0,be()})),()=>{Dt?.()}}(Be,$e,De,ve)))}},941:(hn,tt,B)=>{B.d(tt,{Q:()=>J});var y=B(5225),ne=B(9974),_e=B(4360);function J(se,ae=0){return(0,ne.N)((Ve,Se)=>{Ve.subscribe((0,_e._)(Se,De=>(0,y.N)(Se,se,()=>Se.next(De),ae),()=>(0,y.N)(Se,se,()=>Se.complete(),ae),De=>(0,y.N)(Se,se,()=>Se.error(De),ae)))})}},9898:(hn,tt,B)=>{B.d(tt,{B:()=>_e});var y=B(9974),ne=B(4360);function _e(){return(0,y.N)((J,se)=>{let ae=null;J._refCount++;const Ve=(0,ne._)(se,void 0,void 0,void 0,()=>{if(!J||J._refCount<=0||0<--J._refCount)return void(ae=null);const Se=J._connection,De=ae;ae=null,Se&&(!De||Se===De)&&Se.unsubscribe(),se.unsubscribe()});J.subscribe(Ve),Ve.closed||(ae=J.connect())})}},7647:(hn,tt,B)=>{B.d(tt,{u:()=>se});var y=B(8750),ne=B(1413),_e=B(7707),J=B(9974);function se(Ve={}){const{connector:Se=(()=>new ne.B),resetOnError:De=!0,resetOnComplete:re=!0,resetOnRefCountZero:ve=!0}=Ve;return Be=>{let $e,lt,Tt,Dt=0,Ft=!1,Bt=!1;const _n=()=>{lt?.unsubscribe(),lt=void 0},Xt=()=>{_n(),$e=Tt=void 0,Ft=Bt=!1},be=()=>{const Ge=$e;Xt(),Ge?.unsubscribe()};return(0,J.N)((Ge,ze)=>{Dt++,!Bt&&!Ft&&_n();const Ke=Tt=Tt??Se();ze.add(()=>{Dt--,0===Dt&&!Bt&&!Ft&&(lt=ae(be,ve))}),Ke.subscribe(ze),!$e&&Dt>0&&($e=new _e.Ms({next:dt=>Ke.next(dt),error:dt=>{Bt=!0,_n(),lt=ae(Xt,De,dt),Ke.error(dt)},complete:()=>{Ft=!0,_n(),lt=ae(Xt,re),Ke.complete()}}),(0,y.Tg)(Ge).subscribe($e))})(Be)}}function ae(Ve,Se,...De){if(!0===Se)return void Ve();if(!1===Se)return;const re=new _e.Ms({next:()=>{re.unsubscribe(),Ve()}});return(0,y.Tg)(Se(...De)).subscribe(re)}},9172:(hn,tt,B)=>{B.d(tt,{Z:()=>J});var y=B(8793),ne=B(9326),_e=B(9974);function J(...se){const ae=(0,ne.lI)(se);return(0,_e.N)((Ve,Se)=>{(ae?(0,y.x)(se,Ve,ae):(0,y.x)(se,Ve)).subscribe(Se)})}},6745:(hn,tt,B)=>{B.d(tt,{_:()=>ne});var y=B(9974);function ne(_e,J=0){return(0,y.N)((se,ae)=>{ae.add(_e.schedule(()=>se.subscribe(ae),J))})}},5558:(hn,tt,B)=>{B.d(tt,{n:()=>J});var y=B(8750),ne=B(9974),_e=B(4360);function J(se,ae){return(0,ne.N)((Ve,Se)=>{let De=null,re=0,ve=!1;const Be=()=>ve&&!De&&Se.complete();Ve.subscribe((0,_e._)(Se,$e=>{De?.unsubscribe();let lt=0;const Tt=re++;(0,y.Tg)(se($e,Tt)).subscribe(De=(0,_e._)(Se,Dt=>Se.next(ae?ae($e,Dt,Tt,lt++):Dt),()=>{De=null,Be()}))},()=>{ve=!0,Be()}))})}},6697:(hn,tt,B)=>{B.d(tt,{s:()=>J});var y=B(983),ne=B(9974),_e=B(4360);function J(se){return se<=0?()=>y.w:(0,ne.N)((ae,Ve)=>{let Se=0;ae.subscribe((0,_e._)(Ve,De=>{++Se<=se&&(Ve.next(De),se<=Se&&Ve.complete())}))})}},6977:(hn,tt,B)=>{B.d(tt,{Q:()=>se});var y=B(9974),ne=B(4360),_e=B(8750),J=B(5343);function se(ae){return(0,y.N)((Ve,Se)=>{(0,_e.Tg)(ae).subscribe((0,ne._)(Se,()=>Se.complete(),J.l)),!Se.closed&&Ve.subscribe(Se)})}},8141:(hn,tt,B)=>{B.d(tt,{M:()=>se});var y=B(8071),ne=B(9974),_e=B(4360),J=B(3669);function se(ae,Ve,Se){const De=(0,y.T)(ae)||Ve||Se?{next:ae,error:Ve,complete:Se}:ae;return De?(0,ne.N)((re,ve)=>{var Be;null===(Be=De.subscribe)||void 0===Be||Be.call(De);let $e=!0;re.subscribe((0,_e._)(ve,lt=>{var Tt;null===(Tt=De.next)||void 0===Tt||Tt.call(De,lt),ve.next(lt)},()=>{var lt;$e=!1,null===(lt=De.complete)||void 0===lt||lt.call(De),ve.complete()},lt=>{var Tt;$e=!1,null===(Tt=De.error)||void 0===Tt||Tt.call(De,lt),ve.error(lt)},()=>{var lt,Tt;$e&&(null===(lt=De.unsubscribe)||void 0===lt||lt.call(De)),null===(Tt=De.finalize)||void 0===Tt||Tt.call(De)}))}):J.D}},6780:(hn,tt,B)=>{B.d(tt,{R:()=>se});var y=B(8359);class ne extends y.yU{constructor(Ve,Se){super()}schedule(Ve,Se=0){return this}}const _e={setInterval(ae,Ve,...Se){const{delegate:De}=_e;return De?.setInterval?De.setInterval(ae,Ve,...Se):setInterval(ae,Ve,...Se)},clearInterval(ae){const{delegate:Ve}=_e;return(Ve?.clearInterval||clearInterval)(ae)},delegate:void 0};var J=B(7908);class se extends ne{constructor(Ve,Se){super(Ve,Se),this.scheduler=Ve,this.work=Se,this.pending=!1}schedule(Ve,Se=0){var De;if(this.closed)return this;this.state=Ve;const re=this.id,ve=this.scheduler;return null!=re&&(this.id=this.recycleAsyncId(ve,re,Se)),this.pending=!0,this.delay=Se,this.id=null!==(De=this.id)&&void 0!==De?De:this.requestAsyncId(ve,this.id,Se),this}requestAsyncId(Ve,Se,De=0){return _e.setInterval(Ve.flush.bind(Ve,this),De)}recycleAsyncId(Ve,Se,De=0){if(null!=De&&this.delay===De&&!1===this.pending)return Se;null!=Se&&_e.clearInterval(Se)}execute(Ve,Se){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const De=this._execute(Ve,Se);if(De)return De;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Ve,Se){let re,De=!1;try{this.work(Ve)}catch(ve){De=!0,re=ve||new Error("Scheduled action threw falsy error")}if(De)return this.unsubscribe(),re}unsubscribe(){if(!this.closed){const{id:Ve,scheduler:Se}=this,{actions:De}=Se;this.work=this.state=this.scheduler=null,this.pending=!1,(0,J.o)(De,this),null!=Ve&&(this.id=this.recycleAsyncId(Se,Ve,null)),this.delay=null,super.unsubscribe()}}}},3604:(hn,tt,B)=>{B.d(tt,{q:()=>_e});const y={now:()=>(y.delegate||Date).now(),delegate:void 0};class ne{constructor(se,ae=ne.now){this.schedulerActionCtor=se,this.now=ae}schedule(se,ae=0,Ve){return new this.schedulerActionCtor(this,se).schedule(Ve,ae)}}ne.now=y.now;class _e extends ne{constructor(se,ae=ne.now){super(se,ae),this.actions=[],this._active=!1}flush(se){const{actions:ae}=this;if(this._active)return void ae.push(se);let Ve;this._active=!0;do{if(Ve=se.execute(se.state,se.delay))break}while(se=ae.shift());if(this._active=!1,Ve){for(;se=ae.shift();)se.unsubscribe();throw Ve}}}},3236:(hn,tt,B)=>{B.d(tt,{E:()=>_e,b:()=>J});var y=B(6780);const _e=new(B(3604).q)(y.R),J=_e},9270:(hn,tt,B)=>{B.d(tt,{f:()=>y});const y={setTimeout(ne,_e,...J){const{delegate:se}=y;return se?.setTimeout?se.setTimeout(ne,_e,...J):setTimeout(ne,_e,...J)},clearTimeout(ne){const{delegate:_e}=y;return(_e?.clearTimeout||clearTimeout)(ne)},delegate:void 0}},4761:(hn,tt,B)=>{B.d(tt,{l:()=>ne});const ne=function y(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},3494:(hn,tt,B)=>{B.d(tt,{s:()=>y});const y="function"==typeof Symbol&&Symbol.observable||"@@observable"},9326:(hn,tt,B)=>{B.d(tt,{R0:()=>ae,lI:()=>se,ms:()=>J});var y=B(8071),ne=B(9470);function _e(Ve){return Ve[Ve.length-1]}function J(Ve){return(0,y.T)(_e(Ve))?Ve.pop():void 0}function se(Ve){return(0,ne.m)(_e(Ve))?Ve.pop():void 0}function ae(Ve,Se){return"number"==typeof _e(Ve)?Ve.pop():Se}},3073:(hn,tt,B)=>{B.d(tt,{D:()=>se});const{isArray:y}=Array,{getPrototypeOf:ne,prototype:_e,keys:J}=Object;function se(Ve){if(1===Ve.length){const Se=Ve[0];if(y(Se))return{args:Se,keys:null};if(function ae(Ve){return Ve&&"object"==typeof Ve&&ne(Ve)===_e}(Se)){const De=J(Se);return{args:De.map(re=>Se[re]),keys:De}}}return{args:Ve,keys:null}}},7908:(hn,tt,B)=>{function y(ne,_e){if(ne){const J=ne.indexOf(_e);0<=J&&ne.splice(J,1)}}B.d(tt,{o:()=>y})},1853:(hn,tt,B)=>{function y(ne){const J=ne(se=>{Error.call(se),se.stack=(new Error).stack});return J.prototype=Object.create(Error.prototype),J.prototype.constructor=J,J}B.d(tt,{L:()=>y})},8496:(hn,tt,B)=>{function y(ne,_e){return ne.reduce((J,se,ae)=>(J[se]=_e[ae],J),{})}B.d(tt,{e:()=>y})},9786:(hn,tt,B)=>{B.d(tt,{Y:()=>_e,l:()=>J});var y=B(1026);let ne=null;function _e(se){if(y.$.useDeprecatedSynchronousErrorHandling){const ae=!ne;if(ae&&(ne={errorThrown:!1,error:null}),se(),ae){const{errorThrown:Ve,error:Se}=ne;if(ne=null,Ve)throw Se}}else se()}function J(se){y.$.useDeprecatedSynchronousErrorHandling&&ne&&(ne.errorThrown=!0,ne.error=se)}},5225:(hn,tt,B)=>{function y(ne,_e,J,se=0,ae=!1){const Ve=_e.schedule(function(){J(),ae?ne.add(this.schedule(null,se)):this.unsubscribe()},se);if(ne.add(Ve),!ae)return Ve}B.d(tt,{N:()=>y})},3669:(hn,tt,B)=>{function y(ne){return ne}B.d(tt,{D:()=>y})},7441:(hn,tt,B)=>{B.d(tt,{X:()=>y});const y=ne=>ne&&"number"==typeof ne.length&&"function"!=typeof ne},7953:(hn,tt,B)=>{B.d(tt,{T:()=>ne});var y=B(8071);function ne(_e){return Symbol.asyncIterator&&(0,y.T)(_e?.[Symbol.asyncIterator])}},8071:(hn,tt,B)=>{function y(ne){return"function"==typeof ne}B.d(tt,{T:()=>y})},5055:(hn,tt,B)=>{B.d(tt,{l:()=>_e});var y=B(3494),ne=B(8071);function _e(J){return(0,ne.T)(J[y.s])}},5397:(hn,tt,B)=>{B.d(tt,{x:()=>_e});var y=B(4761),ne=B(8071);function _e(J){return(0,ne.T)(J?.[y.l])}},4402:(hn,tt,B)=>{B.d(tt,{A:()=>_e});var y=B(1985),ne=B(8071);function _e(J){return!!J&&(J instanceof y.c||(0,ne.T)(J.lift)&&(0,ne.T)(J.subscribe))}},9858:(hn,tt,B)=>{B.d(tt,{y:()=>ne});var y=B(8071);function ne(_e){return(0,y.T)(_e?.then)}},5196:(hn,tt,B)=>{B.d(tt,{C:()=>_e,U:()=>J});var y=B(1635),ne=B(8071);function _e(se){return(0,y.AQ)(this,arguments,function*(){const Ve=se.getReader();try{for(;;){const{value:Se,done:De}=yield(0,y.N3)(Ve.read());if(De)return yield(0,y.N3)(void 0);yield yield(0,y.N3)(Se)}}finally{Ve.releaseLock()}})}function J(se){return(0,ne.T)(se?.getReader)}},9470:(hn,tt,B)=>{B.d(tt,{m:()=>ne});var y=B(8071);function ne(_e){return _e&&(0,y.T)(_e.schedule)}},9974:(hn,tt,B)=>{B.d(tt,{N:()=>_e,S:()=>ne});var y=B(8071);function ne(J){return(0,y.T)(J?.lift)}function _e(J){return se=>{if(ne(se))return se.lift(function(ae){try{return J(ae,this)}catch(Ve){this.error(Ve)}});throw new TypeError("Unable to lift unknown Observable type")}}},6450:(hn,tt,B)=>{B.d(tt,{I:()=>J});var y=B(6354);const{isArray:ne}=Array;function J(se){return(0,y.T)(ae=>function _e(se,ae){return ne(ae)?se(...ae):se(ae)}(se,ae))}},5343:(hn,tt,B)=>{function y(){}B.d(tt,{l:()=>y})},1203:(hn,tt,B)=>{B.d(tt,{F:()=>ne,m:()=>_e});var y=B(3669);function ne(...J){return _e(J)}function _e(J){return 0===J.length?y.D:1===J.length?J[0]:function(ae){return J.reduce((Ve,Se)=>Se(Ve),ae)}}},5334:(hn,tt,B)=>{B.d(tt,{m:()=>_e});var y=B(1026),ne=B(9270);function _e(J){ne.f.setTimeout(()=>{const{onUnhandledError:se}=y.$;if(!se)throw J;se(J)})}},591:(hn,tt,B)=>{function y(ne){return new TypeError(`You provided ${null!==ne&&"object"==typeof ne?"an invalid object":`'${ne}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}B.d(tt,{L:()=>y})},9969:(hn,tt,B)=>{B.d(tt,{FX:()=>_n,K2:()=>Ve,MA:()=>$e,Os:()=>ae,P:()=>Tt,Ro:()=>ne,S6:()=>y,hZ:()=>J,i0:()=>se,i7:()=>re,iF:()=>Se,kY:()=>ve,kp:()=>_e,sf:()=>Ft,ui:()=>Bt,wk:()=>De});class y{}class ne{}const _e="*";function J(Xt,be){return{type:7,name:Xt,definitions:be,options:{}}}function se(Xt,be=null){return{type:4,styles:be,timings:Xt}}function ae(Xt,be=null){return{type:3,steps:Xt,options:be}}function Ve(Xt,be=null){return{type:2,steps:Xt,options:be}}function Se(Xt){return{type:6,styles:Xt,offset:null}}function De(Xt,be,Ge){return{type:0,name:Xt,styles:be,options:Ge}}function re(Xt){return{type:5,steps:Xt}}function ve(Xt,be,Ge=null){return{type:1,expr:Xt,animation:be,options:Ge}}function $e(Xt=null){return{type:9,options:Xt}}function Tt(Xt,be,Ge=null){return{type:11,selector:Xt,animation:be,options:Ge}}class Ft{constructor(be=0,Ge=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=be+Ge}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(be=>be()),this._onDoneFns=[])}onStart(be){this._originalOnStartFns.push(be),this._onStartFns.push(be)}onDone(be){this._originalOnDoneFns.push(be),this._onDoneFns.push(be)}onDestroy(be){this._onDestroyFns.push(be)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(be=>be()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(be=>be()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(be){this._position=this.totalTime?be*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(be){const Ge="start"==be?this._onStartFns:this._onDoneFns;Ge.forEach(ze=>ze()),Ge.length=0}}class Bt{constructor(be){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=be;let Ge=0,ze=0,Ke=0;const dt=this.players.length;0==dt?queueMicrotask(()=>this._onFinish()):this.players.forEach(xt=>{xt.onDone(()=>{++Ge==dt&&this._onFinish()}),xt.onDestroy(()=>{++ze==dt&&this._onDestroy()}),xt.onStart(()=>{++Ke==dt&&this._onStart()})}),this.totalTime=this.players.reduce((xt,Yt)=>Math.max(xt,Yt.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(be=>be()),this._onDoneFns=[])}init(){this.players.forEach(be=>be.init())}onStart(be){this._onStartFns.push(be)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(be=>be()),this._onStartFns=[])}onDone(be){this._onDoneFns.push(be)}onDestroy(be){this._onDestroyFns.push(be)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(be=>be.play())}pause(){this.players.forEach(be=>be.pause())}restart(){this.players.forEach(be=>be.restart())}finish(){this._onFinish(),this.players.forEach(be=>be.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(be=>be.destroy()),this._onDestroyFns.forEach(be=>be()),this._onDestroyFns=[])}reset(){this.players.forEach(be=>be.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(be){const Ge=be*this.totalTime;this.players.forEach(ze=>{const Ke=ze.totalTime?Math.min(1,Ge/ze.totalTime):1;ze.setPosition(Ke)})}getPosition(){const be=this.players.reduce((Ge,ze)=>null===Ge||ze.totalTime>Ge.totalTime?ze:Ge,null);return null!=be?be.getPosition():0}beforeDestroy(){this.players.forEach(be=>{be.beforeDestroy&&be.beforeDestroy()})}triggerCallback(be){const Ge="start"==be?this._onStartFns:this._onDoneFns;Ge.forEach(ze=>ze()),Ge.length=0}}const _n="!"},7645:(hn,tt,B)=>{B.d(tt,{Pd:()=>Ie,Bu:()=>Mn,FN:()=>bt,GX:()=>Nt,Q_:()=>me,Z7:()=>un,_G:()=>Jt,w6:()=>Vr});var y=B(177),ne=B(7705),_e=B(6860),J=B(1413),se=B(8359),ae=B(4412),Ve=B(7673),Se=B(7336),De=B(8141),re=B(152),ve=B(5964),Be=B(6354),$e=B(6697);function lt(ke){return(0,ve.p)((fe,ie)=>ke<=ie)}var Tt=B(3294),Dt=B(6977),Ft=B(4085),Bt=B(2318),_n=B(4572),Xt=B(8793),be=B(1985),Ge=B(9172);const Ke=new Set;let dt,xt=(()=>{class ke{constructor(ie,Ae){this._platform=ie,this._nonce=Ae,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):mn}matchMedia(ie){return(this._platform.WEBKIT||this._platform.BLINK)&&function Yt(ke,fe){if(!Ke.has(ke))try{dt||(dt=document.createElement("style"),fe&&(dt.nonce=fe),dt.setAttribute("type","text/css"),document.head.appendChild(dt)),dt.sheet&&(dt.sheet.insertRule(`@media ${ke} {body{ }}`,0),Ke.add(ke))}catch(ie){console.error(ie)}}(ie,this._nonce),this._matchMedia(ie)}static{this.\u0275fac=function(Ae){return new(Ae||ke)(ne.KVO(_e.OD),ne.KVO(ne.BIS,8))}}static{this.\u0275prov=ne.jDH({token:ke,factory:ke.\u0275fac,providedIn:"root"})}}return ke})();function mn(ke){return{matches:"all"===ke||""===ke,media:ke,addListener:()=>{},removeListener:()=>{}}}let vn=(()=>{class ke{constructor(ie,Ae){this._mediaMatcher=ie,this._zone=Ae,this._queries=new Map,this._destroySubject=new J.B}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(ie){return qn((0,Ft.FG)(ie)).some(rt=>this._registerQuery(rt).mql.matches)}observe(ie){const rt=qn((0,Ft.FG)(ie)).map(we=>this._registerQuery(we).observable);let Gt=(0,_n.z)(rt);return Gt=(0,Xt.x)(Gt.pipe((0,$e.s)(1)),Gt.pipe(lt(1),(0,re.B)(0))),Gt.pipe((0,Be.T)(we=>{const Me={matches:!1,breakpoints:{}};return we.forEach(({matches:Le,query:Et})=>{Me.matches=Me.matches||Le,Me.breakpoints[Et]=Le}),Me}))}_registerQuery(ie){if(this._queries.has(ie))return this._queries.get(ie);const Ae=this._mediaMatcher.matchMedia(ie),Gt={observable:new be.c(we=>{const Me=Le=>this._zone.run(()=>we.next(Le));return Ae.addListener(Me),()=>{Ae.removeListener(Me)}}).pipe((0,Ge.Z)(Ae),(0,Be.T)(({matches:we})=>({query:ie,matches:we})),(0,Dt.Q)(this._destroySubject)),mql:Ae};return this._queries.set(ie,Gt),Gt}static{this.\u0275fac=function(Ae){return new(Ae||ke)(ne.KVO(xt),ne.KVO(ne.SKi))}}static{this.\u0275prov=ne.jDH({token:ke,factory:ke.\u0275fac,providedIn:"root"})}}return ke})();function qn(ke){return ke.map(fe=>fe.split(",")).reduce((fe,ie)=>fe.concat(ie)).map(fe=>fe.trim())}class pt{constructor(fe){this._items=fe,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new J.B,this._typeaheadSubscription=se.yU.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=ie=>ie.disabled,this._pressedLetters=[],this.tabOut=new J.B,this.change=new J.B,fe instanceof ne.rOR&&(this._itemChangesSubscription=fe.changes.subscribe(ie=>{if(this._activeItem){const rt=ie.toArray().indexOf(this._activeItem);rt>-1&&rt!==this._activeItemIndex&&(this._activeItemIndex=rt)}}))}skipPredicate(fe){return this._skipPredicateFn=fe,this}withWrap(fe=!0){return this._wrap=fe,this}withVerticalOrientation(fe=!0){return this._vertical=fe,this}withHorizontalOrientation(fe){return this._horizontal=fe,this}withAllowedModifierKeys(fe){return this._allowedModifierKeys=fe,this}withTypeAhead(fe=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,De.M)(ie=>this._pressedLetters.push(ie)),(0,re.B)(fe),(0,ve.p)(()=>this._pressedLetters.length>0),(0,Be.T)(()=>this._pressedLetters.join(""))).subscribe(ie=>{const Ae=this._getItemsArray();for(let rt=1;rt<Ae.length+1;rt++){const Gt=(this._activeItemIndex+rt)%Ae.length,we=Ae[Gt];if(!this._skipPredicateFn(we)&&0===we.getLabel().toUpperCase().trim().indexOf(ie)){this.setActiveItem(Gt);break}}this._pressedLetters=[]}),this}cancelTypeahead(){return this._pressedLetters=[],this}withHomeAndEnd(fe=!0){return this._homeAndEnd=fe,this}withPageUpDown(fe=!0,ie=10){return this._pageUpAndDown={enabled:fe,delta:ie},this}setActiveItem(fe){const ie=this._activeItem;this.updateActiveItem(fe),this._activeItem!==ie&&this.change.next(this._activeItemIndex)}onKeydown(fe){const ie=fe.keyCode,rt=["altKey","ctrlKey","metaKey","shiftKey"].every(Gt=>!fe[Gt]||this._allowedModifierKeys.indexOf(Gt)>-1);switch(ie){case Se.wn:return void this.tabOut.next();case Se.n6:if(this._vertical&&rt){this.setNextItemActive();break}return;case Se.i7:if(this._vertical&&rt){this.setPreviousItemActive();break}return;case Se.LE:if(this._horizontal&&rt){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case Se.UQ:if(this._horizontal&&rt){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case Se.yZ:if(this._homeAndEnd&&rt){this.setFirstItemActive();break}return;case Se.Kp:if(this._homeAndEnd&&rt){this.setLastItemActive();break}return;case Se.w_:if(this._pageUpAndDown.enabled&&rt){const Gt=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(Gt>0?Gt:0,1);break}return;case Se.dB:if(this._pageUpAndDown.enabled&&rt){const Gt=this._activeItemIndex+this._pageUpAndDown.delta,we=this._getItemsArray().length;this._setActiveItemByIndex(Gt<we?Gt:we-1,-1);break}return;default:return void((rt||(0,Se.rp)(fe,"shiftKey"))&&(fe.key&&1===fe.key.length?this._letterKeyStream.next(fe.key.toLocaleUpperCase()):(ie>=Se.A&&ie<=Se.Z||ie>=Se.f2&&ie<=Se.bn)&&this._letterKeyStream.next(String.fromCharCode(ie))))}this._pressedLetters=[],fe.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(fe){const ie=this._getItemsArray(),Ae="number"==typeof fe?fe:ie.indexOf(fe);this._activeItem=ie[Ae]??null,this._activeItemIndex=Ae}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._letterKeyStream.complete(),this.tabOut.complete(),this.change.complete(),this._pressedLetters=[]}_setActiveItemByDelta(fe){this._wrap?this._setActiveInWrapMode(fe):this._setActiveInDefaultMode(fe)}_setActiveInWrapMode(fe){const ie=this._getItemsArray();for(let Ae=1;Ae<=ie.length;Ae++){const rt=(this._activeItemIndex+fe*Ae+ie.length)%ie.length;if(!this._skipPredicateFn(ie[rt]))return void this.setActiveItem(rt)}}_setActiveInDefaultMode(fe){this._setActiveItemByIndex(this._activeItemIndex+fe,fe)}_setActiveItemByIndex(fe,ie){const Ae=this._getItemsArray();if(Ae[fe]){for(;this._skipPredicateFn(Ae[fe]);)if(!Ae[fe+=ie])return;this.setActiveItem(fe)}}_getItemsArray(){return this._items instanceof ne.rOR?this._items.toArray():this._items}}class Mn extends pt{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(fe){return this._origin=fe,this}setActiveItem(fe){super.setActiveItem(fe),this.activeItem&&this.activeItem.focus(this._origin)}}let un=(()=>{class ke{constructor(ie){this._platform=ie}isDisabled(ie){return ie.hasAttribute("disabled")}isVisible(ie){return function zn(ke){return!!(ke.offsetWidth||ke.offsetHeight||"function"==typeof ke.getClientRects&&ke.getClientRects().length)}(ie)&&"visible"===getComputedStyle(ie).visibility}isTabbable(ie){if(!this._platform.isBrowser)return!1;const Ae=function Rn(ke){try{return ke.frameElement}catch{return null}}(function et(ke){return ke.ownerDocument&&ke.ownerDocument.defaultView||window}(ie));if(Ae&&(-1===oe(Ae)||!this.isVisible(Ae)))return!1;let rt=ie.nodeName.toLowerCase(),Gt=oe(ie);return ie.hasAttribute("contenteditable")?-1!==Gt:!("iframe"===rt||"object"===rt||this._platform.WEBKIT&&this._platform.IOS&&!function xe(ke){let fe=ke.nodeName.toLowerCase(),ie="input"===fe&&ke.type;return"text"===ie||"password"===ie||"select"===fe||"textarea"===fe}(ie))&&("audio"===rt?!!ie.hasAttribute("controls")&&-1!==Gt:"video"===rt?-1!==Gt&&(null!==Gt||this._platform.FIREFOX||ie.hasAttribute("controls")):ie.tabIndex>=0)}isFocusable(ie,Ae){return function Ce(ke){return!function Hn(ke){return function mr(ke){return"input"==ke.nodeName.toLowerCase()}(ke)&&"hidden"==ke.type}(ke)&&(function pr(ke){let fe=ke.nodeName.toLowerCase();return"input"===fe||"select"===fe||"button"===fe||"textarea"===fe}(ke)||function fr(ke){return function yn(ke){return"a"==ke.nodeName.toLowerCase()}(ke)&&ke.hasAttribute("href")}(ke)||ke.hasAttribute("contenteditable")||Rt(ke))}(ie)&&!this.isDisabled(ie)&&(Ae?.ignoreVisibility||this.isVisible(ie))}static{this.\u0275fac=function(Ae){return new(Ae||ke)(ne.KVO(_e.OD))}}static{this.\u0275prov=ne.jDH({token:ke,factory:ke.\u0275fac,providedIn:"root"})}}return ke})();function Rt(ke){if(!ke.hasAttribute("tabindex")||void 0===ke.tabIndex)return!1;let fe=ke.getAttribute("tabindex");return!(!fe||isNaN(parseInt(fe,10)))}function oe(ke){if(!Rt(ke))return null;const fe=parseInt(ke.getAttribute("tabindex")||"",10);return isNaN(fe)?-1:fe}class Xe{get enabled(){return this._enabled}set enabled(fe){this._enabled=fe,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(fe,this._startAnchor),this._toggleAnchorTabIndex(fe,this._endAnchor))}constructor(fe,ie,Ae,rt,Gt=!1){this._element=fe,this._checker=ie,this._ngZone=Ae,this._document=rt,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,Gt||this.attachAnchors()}destroy(){const fe=this._startAnchor,ie=this._endAnchor;fe&&(fe.removeEventListener("focus",this.startAnchorListener),fe.remove()),ie&&(ie.removeEventListener("focus",this.endAnchorListener),ie.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(fe){return new Promise(ie=>{this._executeOnStable(()=>ie(this.focusInitialElement(fe)))})}focusFirstTabbableElementWhenReady(fe){return new Promise(ie=>{this._executeOnStable(()=>ie(this.focusFirstTabbableElement(fe)))})}focusLastTabbableElementWhenReady(fe){return new Promise(ie=>{this._executeOnStable(()=>ie(this.focusLastTabbableElement(fe)))})}_getRegionBoundary(fe){const ie=this._element.querySelectorAll(`[cdk-focus-region-${fe}], [cdkFocusRegion${fe}], [cdk-focus-${fe}]`);return"start"==fe?ie.length?ie[0]:this._getFirstTabbableElement(this._element):ie.length?ie[ie.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(fe){const ie=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(ie){if(!this._checker.isFocusable(ie)){const Ae=this._getFirstTabbableElement(ie);return Ae?.focus(fe),!!Ae}return ie.focus(fe),!0}return this.focusFirstTabbableElement(fe)}focusFirstTabbableElement(fe){const ie=this._getRegionBoundary("start");return ie&&ie.focus(fe),!!ie}focusLastTabbableElement(fe){const ie=this._getRegionBoundary("end");return ie&&ie.focus(fe),!!ie}hasAttached(){return this._hasAttached}_getFirstTabbableElement(fe){if(this._checker.isFocusable(fe)&&this._checker.isTabbable(fe))return fe;const ie=fe.children;for(let Ae=0;Ae<ie.length;Ae++){const rt=ie[Ae].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(ie[Ae]):null;if(rt)return rt}return null}_getLastTabbableElement(fe){if(this._checker.isFocusable(fe)&&this._checker.isTabbable(fe))return fe;const ie=fe.children;for(let Ae=ie.length-1;Ae>=0;Ae--){const rt=ie[Ae].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(ie[Ae]):null;if(rt)return rt}return null}_createAnchor(){const fe=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,fe),fe.classList.add("cdk-visually-hidden"),fe.classList.add("cdk-focus-trap-anchor"),fe.setAttribute("aria-hidden","true"),fe}_toggleAnchorTabIndex(fe,ie){fe?ie.setAttribute("tabindex","0"):ie.removeAttribute("tabindex")}toggleAnchors(fe){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(fe,this._startAnchor),this._toggleAnchorTabIndex(fe,this._endAnchor))}_executeOnStable(fe){this._ngZone.isStable?fe():this._ngZone.onStable.pipe((0,$e.s)(1)).subscribe(fe)}}let Nt=(()=>{class ke{constructor(ie,Ae,rt){this._checker=ie,this._ngZone=Ae,this._document=rt}create(ie,Ae=!1){return new Xe(ie,this._checker,this._ngZone,this._document,Ae)}static{this.\u0275fac=function(Ae){return new(Ae||ke)(ne.KVO(un),ne.KVO(ne.SKi),ne.KVO(y.qQ))}}static{this.\u0275prov=ne.jDH({token:ke,factory:ke.\u0275fac,providedIn:"root"})}}return ke})();function Jt(ke){return 0===ke.buttons||0===ke.detail}function Vr(ke){const fe=ke.touches&&ke.touches[0]||ke.changedTouches&&ke.changedTouches[0];return!(!fe||-1!==fe.identifier||null!=fe.radiusX&&1!==fe.radiusX||null!=fe.radiusY&&1!==fe.radiusY)}const On=new ne.nKC("cdk-input-modality-detector-options"),mi={ignoreKeys:[Se.A$,Se.W3,Se.eg,Se.Ge,Se.FX]},cr=(0,_e.BQ)({passive:!0,capture:!0});let jt=(()=>{class ke{get mostRecentModality(){return this._modality.value}constructor(ie,Ae,rt,Gt){this._platform=ie,this._mostRecentTarget=null,this._modality=new ae.t(null),this._lastTouchMs=0,this._onKeydown=we=>{this._options?.ignoreKeys?.some(Me=>Me===we.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=(0,_e.Fb)(we))},this._onMousedown=we=>{Date.now()-this._lastTouchMs<650||(this._modality.next(Jt(we)?"keyboard":"mouse"),this._mostRecentTarget=(0,_e.Fb)(we))},this._onTouchstart=we=>{Vr(we)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=(0,_e.Fb)(we))},this._options={...mi,...Gt},this.modalityDetected=this._modality.pipe(lt(1)),this.modalityChanged=this.modalityDetected.pipe((0,Tt.F)()),ie.isBrowser&&Ae.runOutsideAngular(()=>{rt.addEventListener("keydown",this._onKeydown,cr),rt.addEventListener("mousedown",this._onMousedown,cr),rt.addEventListener("touchstart",this._onTouchstart,cr)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,cr),document.removeEventListener("mousedown",this._onMousedown,cr),document.removeEventListener("touchstart",this._onTouchstart,cr))}static{this.\u0275fac=function(Ae){return new(Ae||ke)(ne.KVO(_e.OD),ne.KVO(ne.SKi),ne.KVO(y.qQ),ne.KVO(On,8))}}static{this.\u0275prov=ne.jDH({token:ke,factory:ke.\u0275fac,providedIn:"root"})}}return ke})();const $n=new ne.nKC("cdk-focus-monitor-default-options"),ar=(0,_e.BQ)({passive:!0,capture:!0});let bt=(()=>{class ke{constructor(ie,Ae,rt,Gt,we){this._ngZone=ie,this._platform=Ae,this._inputModalityDetector=rt,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new J.B,this._rootNodeFocusAndBlurListener=Me=>{for(let Et=(0,_e.Fb)(Me);Et;Et=Et.parentElement)"focus"===Me.type?this._onFocus(Me,Et):this._onBlur(Me,Et)},this._document=Gt,this._detectionMode=we?.detectionMode||0}monitor(ie,Ae=!1){const rt=(0,Ft.i8)(ie);if(!this._platform.isBrowser||1!==rt.nodeType)return(0,Ve.of)();const Gt=(0,_e.KT)(rt)||this._getDocument(),we=this._elementInfo.get(rt);if(we)return Ae&&(we.checkChildren=!0),we.subject;const Me={checkChildren:Ae,subject:new J.B,rootNode:Gt};return this._elementInfo.set(rt,Me),this._registerGlobalListeners(Me),Me.subject}stopMonitoring(ie){const Ae=(0,Ft.i8)(ie),rt=this._elementInfo.get(Ae);rt&&(rt.subject.complete(),this._setClasses(Ae),this._elementInfo.delete(Ae),this._removeGlobalListeners(rt))}focusVia(ie,Ae,rt){const Gt=(0,Ft.i8)(ie);Gt===this._getDocument().activeElement?this._getClosestElementsInfo(Gt).forEach(([Me,Le])=>this._originChanged(Me,Ae,Le)):(this._setOrigin(Ae),"function"==typeof Gt.focus&&Gt.focus(rt))}ngOnDestroy(){this._elementInfo.forEach((ie,Ae)=>this.stopMonitoring(Ae))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(ie){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(ie)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:ie&&this._isLastInteractionFromInputLabel(ie)?"mouse":"program"}_shouldBeAttributedToTouch(ie){return 1===this._detectionMode||!!ie?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(ie,Ae){ie.classList.toggle("cdk-focused",!!Ae),ie.classList.toggle("cdk-touch-focused","touch"===Ae),ie.classList.toggle("cdk-keyboard-focused","keyboard"===Ae),ie.classList.toggle("cdk-mouse-focused","mouse"===Ae),ie.classList.toggle("cdk-program-focused","program"===Ae)}_setOrigin(ie,Ae=!1){this._ngZone.runOutsideAngular(()=>{this._origin=ie,this._originFromTouchInteraction="touch"===ie&&Ae,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(ie,Ae){const rt=this._elementInfo.get(Ae),Gt=(0,_e.Fb)(ie);!rt||!rt.checkChildren&&Ae!==Gt||this._originChanged(Ae,this._getFocusOrigin(Gt),rt)}_onBlur(ie,Ae){const rt=this._elementInfo.get(Ae);!rt||rt.checkChildren&&ie.relatedTarget instanceof Node&&Ae.contains(ie.relatedTarget)||(this._setClasses(Ae),this._emitOrigin(rt,null))}_emitOrigin(ie,Ae){ie.subject.observers.length&&this._ngZone.run(()=>ie.subject.next(Ae))}_registerGlobalListeners(ie){if(!this._platform.isBrowser)return;const Ae=ie.rootNode,rt=this._rootNodeFocusListenerCount.get(Ae)||0;rt||this._ngZone.runOutsideAngular(()=>{Ae.addEventListener("focus",this._rootNodeFocusAndBlurListener,ar),Ae.addEventListener("blur",this._rootNodeFocusAndBlurListener,ar)}),this._rootNodeFocusListenerCount.set(Ae,rt+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe((0,Dt.Q)(this._stopInputModalityDetector)).subscribe(Gt=>{this._setOrigin(Gt,!0)}))}_removeGlobalListeners(ie){const Ae=ie.rootNode;if(this._rootNodeFocusListenerCount.has(Ae)){const rt=this._rootNodeFocusListenerCount.get(Ae);rt>1?this._rootNodeFocusListenerCount.set(Ae,rt-1):(Ae.removeEventListener("focus",this._rootNodeFocusAndBlurListener,ar),Ae.removeEventListener("blur",this._rootNodeFocusAndBlurListener,ar),this._rootNodeFocusListenerCount.delete(Ae))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(ie,Ae,rt){this._setClasses(ie,Ae),this._emitOrigin(rt,Ae),this._lastFocusOrigin=Ae}_getClosestElementsInfo(ie){const Ae=[];return this._elementInfo.forEach((rt,Gt)=>{(Gt===ie||rt.checkChildren&&Gt.contains(ie))&&Ae.push([Gt,rt])}),Ae}_isLastInteractionFromInputLabel(ie){const{_mostRecentTarget:Ae,mostRecentModality:rt}=this._inputModalityDetector;if("mouse"!==rt||!Ae||Ae===ie||"INPUT"!==ie.nodeName&&"TEXTAREA"!==ie.nodeName||ie.disabled)return!1;const Gt=ie.labels;if(Gt)for(let we=0;we<Gt.length;we++)if(Gt[we].contains(Ae))return!0;return!1}static{this.\u0275fac=function(Ae){return new(Ae||ke)(ne.KVO(ne.SKi),ne.KVO(_e.OD),ne.KVO(jt),ne.KVO(y.qQ,8),ne.KVO($n,8))}}static{this.\u0275prov=ne.jDH({token:ke,factory:ke.\u0275fac,providedIn:"root"})}}return ke})();const R="cdk-high-contrast-black-on-white",P="cdk-high-contrast-white-on-black",H="cdk-high-contrast-active";let me=(()=>{class ke{constructor(ie,Ae){this._platform=ie,this._document=Ae,this._breakpointSubscription=(0,ne.WQX)(vn).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const ie=this._document.createElement("div");ie.style.backgroundColor="rgb(1,2,3)",ie.style.position="absolute",this._document.body.appendChild(ie);const Ae=this._document.defaultView||window,rt=Ae&&Ae.getComputedStyle?Ae.getComputedStyle(ie):null,Gt=(rt&&rt.backgroundColor||"").replace(/ /g,"");switch(ie.remove(),Gt){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const ie=this._document.body.classList;ie.remove(H,R,P),this._hasCheckedHighContrastMode=!0;const Ae=this.getHighContrastMode();1===Ae?ie.add(H,R):2===Ae&&ie.add(H,P)}}static{this.\u0275fac=function(Ae){return new(Ae||ke)(ne.KVO(_e.OD),ne.KVO(y.qQ))}}static{this.\u0275prov=ne.jDH({token:ke,factory:ke.\u0275fac,providedIn:"root"})}}return ke})(),Ie=(()=>{class ke{constructor(ie){ie._applyBodyHighContrastModeCssClasses()}static{this.\u0275fac=function(Ae){return new(Ae||ke)(ne.KVO(me))}}static{this.\u0275mod=ne.$C({type:ke})}static{this.\u0275inj=ne.G2t({imports:[Bt.w5]})}}return ke})()},8203:(hn,tt,B)=>{B.d(tt,{dS:()=>Ve,jI:()=>De});var y=B(7705),ne=B(177);const _e=new y.nKC("cdk-dir-doc",{providedIn:"root",factory:function J(){return(0,y.WQX)(ne.qQ)}}),se=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let Ve=(()=>{class re{constructor(Be){this.value="ltr",this.change=new y.bkB,Be&&(this.value=function ae(re){const ve=re?.toLowerCase()||"";return"auto"===ve&&typeof navigator<"u"&&navigator?.language?se.test(navigator.language)?"rtl":"ltr":"rtl"===ve?"rtl":"ltr"}((Be.body?Be.body.dir:null)||(Be.documentElement?Be.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}static{this.\u0275fac=function($e){return new($e||re)(y.KVO(_e,8))}}static{this.\u0275prov=y.jDH({token:re,factory:re.\u0275fac,providedIn:"root"})}}return re})(),De=(()=>{class re{static{this.\u0275fac=function($e){return new($e||re)}}static{this.\u0275mod=y.$C({type:re})}static{this.\u0275inj=y.G2t({})}}return re})()},4085:(hn,tt,B)=>{B.d(tt,{FG:()=>se,OE:()=>_e,a1:()=>ae,he:()=>ne,i8:()=>Ve,o1:()=>J});var y=B(7705);function ne(De){return null!=De&&"false"!=`${De}`}function _e(De,re=0){return J(De)?Number(De):re}function J(De){return!isNaN(parseFloat(De))&&!isNaN(Number(De))}function se(De){return Array.isArray(De)?De:[De]}function ae(De){return null==De?"":"string"==typeof De?De:`${De}px`}function Ve(De){return De instanceof y.aKT?De.nativeElement:De}},7336:(hn,tt,B)=>{B.d(tt,{A:()=>ge,A$:()=>Se,FX:()=>ae,Fm:()=>se,G_:()=>ne,Ge:()=>rn,Kp:()=>Tt,LE:()=>_n,SJ:()=>Ke,UQ:()=>Ft,W3:()=>Ve,Z:()=>an,_f:()=>ve,bn:()=>kn,dB:()=>lt,eg:()=>Er,f2:()=>dt,i7:()=>Bt,n6:()=>Xt,rp:()=>Ei,t6:()=>Be,w_:()=>$e,wn:()=>_e,yZ:()=>Dt});const ne=8,_e=9,se=13,ae=16,Ve=17,Se=18,ve=27,Be=32,$e=33,lt=34,Tt=35,Dt=36,Ft=37,Bt=38,_n=39,Xt=40,Ke=46,dt=48,kn=57,ge=65,an=90,rn=91,Er=224;function Ei(xi,...So){return So.length?So.some(_i=>xi[_i]):xi.altKey||xi.shiftKey||xi.ctrlKey||xi.metaKey}},2318:(hn,tt,B)=>{B.d(tt,{w5:()=>se});var y=B(7705);let ne=(()=>{class ae{create(Se){return typeof MutationObserver>"u"?null:new MutationObserver(Se)}static{this.\u0275fac=function(De){return new(De||ae)}}static{this.\u0275prov=y.jDH({token:ae,factory:ae.\u0275fac,providedIn:"root"})}}return ae})(),se=(()=>{class ae{static{this.\u0275fac=function(De){return new(De||ae)}}static{this.\u0275mod=y.$C({type:ae})}static{this.\u0275inj=y.G2t({providers:[ne]})}}return ae})()},7987:(hn,tt,B)=>{B.d(tt,{Sf:()=>ht,hJ:()=>sr,rR:()=>ze,yY:()=>Ht,z_:()=>mr});var y=B(4955),ne=B(177),_e=B(7705),J=B(4085),se=B(6860),ae=B(5964),Ve=B(6697),Se=B(6977),De=B(8203),re=B(6939),ve=B(1413),Be=B(8359),$e=B(7786);const lt=(0,se.CZ)();class Tt{constructor(oe,xe){this._viewportRuler=oe,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=xe}attach(){}enable(){if(this._canBeEnabled()){const oe=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=oe.style.left||"",this._previousHTMLStyles.top=oe.style.top||"",oe.style.left=(0,J.a1)(-this._previousScrollPosition.left),oe.style.top=(0,J.a1)(-this._previousScrollPosition.top),oe.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const oe=this._document.documentElement,Ce=oe.style,et=this._document.body.style,Xe=Ce.scrollBehavior||"",Nt=et.scrollBehavior||"";this._isEnabled=!1,Ce.left=this._previousHTMLStyles.left,Ce.top=this._previousHTMLStyles.top,oe.classList.remove("cdk-global-scrollblock"),lt&&(Ce.scrollBehavior=et.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),lt&&(Ce.scrollBehavior=Xe,et.scrollBehavior=Nt)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const xe=this._document.body,Ce=this._viewportRuler.getViewportSize();return xe.scrollHeight>Ce.height||xe.scrollWidth>Ce.width}}class Ft{constructor(oe,xe,Ce,et){this._scrollDispatcher=oe,this._ngZone=xe,this._viewportRuler=Ce,this._config=et,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(oe){this._overlayRef=oe}enable(){if(this._scrollSubscription)return;const oe=this._scrollDispatcher.scrolled(0).pipe((0,ae.p)(xe=>!xe||!this._overlayRef.overlayElement.contains(xe.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=oe.subscribe(()=>{const xe=this._viewportRuler.getViewportScrollPosition().top;Math.abs(xe-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=oe.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class Bt{enable(){}disable(){}attach(){}}function _n(Rt,oe){return oe.some(xe=>Rt.bottom<xe.top||Rt.top>xe.bottom||Rt.right<xe.left||Rt.left>xe.right)}function Xt(Rt,oe){return oe.some(xe=>Rt.top<xe.top||Rt.bottom>xe.bottom||Rt.left<xe.left||Rt.right>xe.right)}class be{constructor(oe,xe,Ce,et){this._scrollDispatcher=oe,this._viewportRuler=xe,this._ngZone=Ce,this._config=et,this._scrollSubscription=null}attach(oe){this._overlayRef=oe}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const xe=this._overlayRef.overlayElement.getBoundingClientRect(),{width:Ce,height:et}=this._viewportRuler.getViewportSize();_n(xe,[{width:Ce,height:et,bottom:et,right:Ce,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let Ge=(()=>{class Rt{constructor(xe,Ce,et,Xe){this._scrollDispatcher=xe,this._viewportRuler=Ce,this._ngZone=et,this.noop=()=>new Bt,this.close=Nt=>new Ft(this._scrollDispatcher,this._ngZone,this._viewportRuler,Nt),this.block=()=>new Tt(this._viewportRuler,this._document),this.reposition=Nt=>new be(this._scrollDispatcher,this._viewportRuler,this._ngZone,Nt),this._document=Xe}static{this.\u0275fac=function(Ce){return new(Ce||Rt)(_e.KVO(y.R),_e.KVO(y.Xj),_e.KVO(_e.SKi),_e.KVO(ne.qQ))}}static{this.\u0275prov=_e.jDH({token:Rt,factory:Rt.\u0275fac,providedIn:"root"})}}return Rt})();class ze{constructor(oe){if(this.scrollStrategy=new Bt,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,oe){const xe=Object.keys(oe);for(const Ce of xe)void 0!==oe[Ce]&&(this[Ce]=oe[Ce])}}}class xt{constructor(oe,xe){this.connectionPair=oe,this.scrollableViewProperties=xe}}let vn=(()=>{class Rt{constructor(xe){this._attachedOverlays=[],this._document=xe}ngOnDestroy(){this.detach()}add(xe){this.remove(xe),this._attachedOverlays.push(xe)}remove(xe){const Ce=this._attachedOverlays.indexOf(xe);Ce>-1&&this._attachedOverlays.splice(Ce,1),0===this._attachedOverlays.length&&this.detach()}static{this.\u0275fac=function(Ce){return new(Ce||Rt)(_e.KVO(ne.qQ))}}static{this.\u0275prov=_e.jDH({token:Rt,factory:Rt.\u0275fac,providedIn:"root"})}}return Rt})(),qn=(()=>{class Rt extends vn{constructor(xe,Ce){super(xe),this._ngZone=Ce,this._keydownListener=et=>{const Xe=this._attachedOverlays;for(let Nt=Xe.length-1;Nt>-1;Nt--)if(Xe[Nt]._keydownEvents.observers.length>0){const Qt=Xe[Nt]._keydownEvents;this._ngZone?this._ngZone.run(()=>Qt.next(et)):Qt.next(et);break}}}add(xe){super.add(xe),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}static{this.\u0275fac=function(Ce){return new(Ce||Rt)(_e.KVO(ne.qQ),_e.KVO(_e.SKi,8))}}static{this.\u0275prov=_e.jDH({token:Rt,factory:Rt.\u0275fac,providedIn:"root"})}}return Rt})(),Lt=(()=>{class Rt extends vn{constructor(xe,Ce,et){super(xe),this._platform=Ce,this._ngZone=et,this._cursorStyleIsSet=!1,this._pointerDownListener=Xe=>{this._pointerDownEventTarget=(0,se.Fb)(Xe)},this._clickListener=Xe=>{const Nt=(0,se.Fb)(Xe),Qt="click"===Xe.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:Nt;this._pointerDownEventTarget=null;const At=this._attachedOverlays.slice();for(let an=At.length-1;an>-1;an--){const rn=At[an];if(rn._outsidePointerEvents.observers.length<1||!rn.hasAttached())continue;if(rn.overlayElement.contains(Nt)||rn.overlayElement.contains(Qt))break;const Bn=rn._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>Bn.next(Xe)):Bn.next(Xe)}}}add(xe){if(super.add(xe),!this._isAttached){const Ce=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(Ce)):this._addEventListeners(Ce),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=Ce.style.cursor,Ce.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const xe=this._document.body;xe.removeEventListener("pointerdown",this._pointerDownListener,!0),xe.removeEventListener("click",this._clickListener,!0),xe.removeEventListener("auxclick",this._clickListener,!0),xe.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(xe.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(xe){xe.addEventListener("pointerdown",this._pointerDownListener,!0),xe.addEventListener("click",this._clickListener,!0),xe.addEventListener("auxclick",this._clickListener,!0),xe.addEventListener("contextmenu",this._clickListener,!0)}static{this.\u0275fac=function(Ce){return new(Ce||Rt)(_e.KVO(ne.qQ),_e.KVO(se.OD),_e.KVO(_e.SKi,8))}}static{this.\u0275prov=_e.jDH({token:Rt,factory:Rt.\u0275fac,providedIn:"root"})}}return Rt})(),ht=(()=>{class Rt{constructor(xe,Ce){this._platform=Ce,this._document=xe}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const xe="cdk-overlay-container";if(this._platform.isBrowser||(0,se.v8)()){const et=this._document.querySelectorAll(`.${xe}[platform="server"], .${xe}[platform="test"]`);for(let Xe=0;Xe<et.length;Xe++)et[Xe].remove()}const Ce=this._document.createElement("div");Ce.classList.add(xe),(0,se.v8)()?Ce.setAttribute("platform","test"):this._platform.isBrowser||Ce.setAttribute("platform","server"),this._document.body.appendChild(Ce),this._containerElement=Ce}static{this.\u0275fac=function(Ce){return new(Ce||Rt)(_e.KVO(ne.qQ),_e.KVO(se.OD))}}static{this.\u0275prov=_e.jDH({token:Rt,factory:Rt.\u0275fac,providedIn:"root"})}}return Rt})();class Ht{constructor(oe,xe,Ce,et,Xe,Nt,Qt,At,an,rn=!1){this._portalOutlet=oe,this._host=xe,this._pane=Ce,this._config=et,this._ngZone=Xe,this._keyboardDispatcher=Nt,this._document=Qt,this._location=At,this._outsideClickDispatcher=an,this._animationsDisabled=rn,this._backdropElement=null,this._backdropClick=new ve.B,this._attachments=new ve.B,this._detachments=new ve.B,this._locationChanges=Be.yU.EMPTY,this._backdropClickHandler=Bn=>this._backdropClick.next(Bn),this._backdropTransitionendHandler=Bn=>{this._disposeBackdrop(Bn.target)},this._keydownEvents=new ve.B,this._outsidePointerEvents=new ve.B,et.scrollStrategy&&(this._scrollStrategy=et.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=et.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(oe){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const xe=this._portalOutlet.attach(oe);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe((0,Ve.s)(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof xe?.onDestroy&&xe.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),xe}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const oe=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),oe}dispose(){const oe=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,oe&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(oe){oe!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=oe,this.hasAttached()&&(oe.attach(this),this.updatePosition()))}updateSize(oe){this._config={...this._config,...oe},this._updateElementSize()}setDirection(oe){this._config={...this._config,direction:oe},this._updateElementDirection()}addPanelClass(oe){this._pane&&this._toggleClasses(this._pane,oe,!0)}removePanelClass(oe){this._pane&&this._toggleClasses(this._pane,oe,!1)}getDirection(){const oe=this._config.direction;return oe?"string"==typeof oe?oe:oe.value:"ltr"}updateScrollStrategy(oe){oe!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=oe,this.hasAttached()&&(oe.attach(this),oe.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const oe=this._pane.style;oe.width=(0,J.a1)(this._config.width),oe.height=(0,J.a1)(this._config.height),oe.minWidth=(0,J.a1)(this._config.minWidth),oe.minHeight=(0,J.a1)(this._config.minHeight),oe.maxWidth=(0,J.a1)(this._config.maxWidth),oe.maxHeight=(0,J.a1)(this._config.maxHeight)}_togglePointerEvents(oe){this._pane.style.pointerEvents=oe?"":"none"}_attachBackdrop(){const oe="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(oe)})}):this._backdropElement.classList.add(oe)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const oe=this._backdropElement;if(oe){if(this._animationsDisabled)return void this._disposeBackdrop(oe);oe.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{oe.addEventListener("transitionend",this._backdropTransitionendHandler)}),oe.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(oe)},500))}}_toggleClasses(oe,xe,Ce){const et=(0,J.FG)(xe||[]).filter(Xe=>!!Xe);et.length&&(Ce?oe.classList.add(...et):oe.classList.remove(...et))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const oe=this._ngZone.onStable.pipe((0,Se.Q)((0,$e.h)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),oe.unsubscribe())})})}_disposeScrollStrategy(){const oe=this._scrollStrategy;oe&&(oe.disable(),oe.detach&&oe.detach())}_disposeBackdrop(oe){oe&&(oe.removeEventListener("click",this._backdropClickHandler),oe.removeEventListener("transitionend",this._backdropTransitionendHandler),oe.remove(),this._backdropElement===oe&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const kn="cdk-overlay-connected-position-bounding-box",ln=/([A-Za-z%]+)$/;class Ot{get positions(){return this._preferredPositions}constructor(oe,xe,Ce,et,Xe){this._viewportRuler=xe,this._document=Ce,this._platform=et,this._overlayContainer=Xe,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new ve.B,this._resizeSubscription=Be.yU.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(oe)}attach(oe){this._validatePositions(),oe.hostElement.classList.add(kn),this._overlayRef=oe,this._boundingBox=oe.hostElement,this._pane=oe.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const oe=this._originRect,xe=this._overlayRect,Ce=this._viewportRect,et=this._containerRect,Xe=[];let Nt;for(let Qt of this._preferredPositions){let At=this._getOriginPoint(oe,et,Qt),an=this._getOverlayPoint(At,xe,Qt),rn=this._getOverlayFit(an,xe,Ce,Qt);if(rn.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(Qt,At);this._canFitWithFlexibleDimensions(rn,an,Ce)?Xe.push({position:Qt,origin:At,overlayRect:xe,boundingBoxRect:this._calculateBoundingBoxRect(At,Qt)}):(!Nt||Nt.overlayFit.visibleArea<rn.visibleArea)&&(Nt={overlayFit:rn,overlayPoint:an,originPoint:At,position:Qt,overlayRect:xe})}if(Xe.length){let Qt=null,At=-1;for(const an of Xe){const rn=an.boundingBoxRect.width*an.boundingBoxRect.height*(an.position.weight||1);rn>At&&(At=rn,Qt=an)}return this._isPushed=!1,void this._applyPosition(Qt.position,Qt.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(Nt.position,Nt.originPoint);this._applyPosition(Nt.position,Nt.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&gt(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(kn),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const oe=this._lastPosition;if(oe){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const xe=this._getOriginPoint(this._originRect,this._containerRect,oe);this._applyPosition(oe,xe)}else this.apply()}withScrollableContainers(oe){return this._scrollables=oe,this}withPositions(oe){return this._preferredPositions=oe,-1===oe.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(oe){return this._viewportMargin=oe,this}withFlexibleDimensions(oe=!0){return this._hasFlexibleDimensions=oe,this}withGrowAfterOpen(oe=!0){return this._growAfterOpen=oe,this}withPush(oe=!0){return this._canPush=oe,this}withLockedPosition(oe=!0){return this._positionLocked=oe,this}setOrigin(oe){return this._origin=oe,this}withDefaultOffsetX(oe){return this._offsetX=oe,this}withDefaultOffsetY(oe){return this._offsetY=oe,this}withTransformOriginOn(oe){return this._transformOriginSelector=oe,this}_getOriginPoint(oe,xe,Ce){let et,Xe;if("center"==Ce.originX)et=oe.left+oe.width/2;else{const Nt=this._isRtl()?oe.right:oe.left,Qt=this._isRtl()?oe.left:oe.right;et="start"==Ce.originX?Nt:Qt}return xe.left<0&&(et-=xe.left),Xe="center"==Ce.originY?oe.top+oe.height/2:"top"==Ce.originY?oe.top:oe.bottom,xe.top<0&&(Xe-=xe.top),{x:et,y:Xe}}_getOverlayPoint(oe,xe,Ce){let et,Xe;return et="center"==Ce.overlayX?-xe.width/2:"start"===Ce.overlayX?this._isRtl()?-xe.width:0:this._isRtl()?0:-xe.width,Xe="center"==Ce.overlayY?-xe.height/2:"top"==Ce.overlayY?0:-xe.height,{x:oe.x+et,y:oe.y+Xe}}_getOverlayFit(oe,xe,Ce,et){const Xe=ge(xe);let{x:Nt,y:Qt}=oe,At=this._getOffset(et,"x"),an=this._getOffset(et,"y");At&&(Nt+=At),an&&(Qt+=an);let Hr=0-Qt,Jt=Qt+Xe.height-Ce.height,Vr=this._subtractOverflows(Xe.width,0-Nt,Nt+Xe.width-Ce.width),On=this._subtractOverflows(Xe.height,Hr,Jt),mi=Vr*On;return{visibleArea:mi,isCompletelyWithinViewport:Xe.width*Xe.height===mi,fitsInViewportVertically:On===Xe.height,fitsInViewportHorizontally:Vr==Xe.width}}_canFitWithFlexibleDimensions(oe,xe,Ce){if(this._hasFlexibleDimensions){const et=Ce.bottom-xe.y,Xe=Ce.right-xe.x,Nt=je(this._overlayRef.getConfig().minHeight),Qt=je(this._overlayRef.getConfig().minWidth);return(oe.fitsInViewportVertically||null!=Nt&&Nt<=et)&&(oe.fitsInViewportHorizontally||null!=Qt&&Qt<=Xe)}return!1}_pushOverlayOnScreen(oe,xe,Ce){if(this._previousPushAmount&&this._positionLocked)return{x:oe.x+this._previousPushAmount.x,y:oe.y+this._previousPushAmount.y};const et=ge(xe),Xe=this._viewportRect,Nt=Math.max(oe.x+et.width-Xe.width,0),Qt=Math.max(oe.y+et.height-Xe.height,0),At=Math.max(Xe.top-Ce.top-oe.y,0),an=Math.max(Xe.left-Ce.left-oe.x,0);let rn=0,Bn=0;return rn=et.width<=Xe.width?an||-Nt:oe.x<this._viewportMargin?Xe.left-Ce.left-oe.x:0,Bn=et.height<=Xe.height?At||-Qt:oe.y<this._viewportMargin?Xe.top-Ce.top-oe.y:0,this._previousPushAmount={x:rn,y:Bn},{x:oe.x+rn,y:oe.y+Bn}}_applyPosition(oe,xe){if(this._setTransformOrigin(oe),this._setOverlayElementStyles(xe,oe),this._setBoundingBoxStyles(xe,oe),oe.panelClass&&this._addPanelClasses(oe.panelClass),this._lastPosition=oe,this._positionChanges.observers.length){const Ce=this._getScrollVisibility(),et=new xt(oe,Ce);this._positionChanges.next(et)}this._isInitialRender=!1}_setTransformOrigin(oe){if(!this._transformOriginSelector)return;const xe=this._boundingBox.querySelectorAll(this._transformOriginSelector);let Ce,et=oe.overlayY;Ce="center"===oe.overlayX?"center":this._isRtl()?"start"===oe.overlayX?"right":"left":"start"===oe.overlayX?"left":"right";for(let Xe=0;Xe<xe.length;Xe++)xe[Xe].style.transformOrigin=`${Ce} ${et}`}_calculateBoundingBoxRect(oe,xe){const Ce=this._viewportRect,et=this._isRtl();let Xe,Nt,Qt,rn,Bn,Hr;if("top"===xe.overlayY)Nt=oe.y,Xe=Ce.height-Nt+this._viewportMargin;else if("bottom"===xe.overlayY)Qt=Ce.height-oe.y+2*this._viewportMargin,Xe=Ce.height-Qt+this._viewportMargin;else{const Jt=Math.min(Ce.bottom-oe.y+Ce.top,oe.y),Vr=this._lastBoundingBoxSize.height;Xe=2*Jt,Nt=oe.y-Jt,Xe>Vr&&!this._isInitialRender&&!this._growAfterOpen&&(Nt=oe.y-Vr/2)}if("end"===xe.overlayX&&!et||"start"===xe.overlayX&&et)Hr=Ce.width-oe.x+this._viewportMargin,rn=oe.x-this._viewportMargin;else if("start"===xe.overlayX&&!et||"end"===xe.overlayX&&et)Bn=oe.x,rn=Ce.right-oe.x;else{const Jt=Math.min(Ce.right-oe.x+Ce.left,oe.x),Vr=this._lastBoundingBoxSize.width;rn=2*Jt,Bn=oe.x-Jt,rn>Vr&&!this._isInitialRender&&!this._growAfterOpen&&(Bn=oe.x-Vr/2)}return{top:Nt,left:Bn,bottom:Qt,right:Hr,width:rn,height:Xe}}_setBoundingBoxStyles(oe,xe){const Ce=this._calculateBoundingBoxRect(oe,xe);!this._isInitialRender&&!this._growAfterOpen&&(Ce.height=Math.min(Ce.height,this._lastBoundingBoxSize.height),Ce.width=Math.min(Ce.width,this._lastBoundingBoxSize.width));const et={};if(this._hasExactPosition())et.top=et.left="0",et.bottom=et.right=et.maxHeight=et.maxWidth="",et.width=et.height="100%";else{const Xe=this._overlayRef.getConfig().maxHeight,Nt=this._overlayRef.getConfig().maxWidth;et.height=(0,J.a1)(Ce.height),et.top=(0,J.a1)(Ce.top),et.bottom=(0,J.a1)(Ce.bottom),et.width=(0,J.a1)(Ce.width),et.left=(0,J.a1)(Ce.left),et.right=(0,J.a1)(Ce.right),et.alignItems="center"===xe.overlayX?"center":"end"===xe.overlayX?"flex-end":"flex-start",et.justifyContent="center"===xe.overlayY?"center":"bottom"===xe.overlayY?"flex-end":"flex-start",Xe&&(et.maxHeight=(0,J.a1)(Xe)),Nt&&(et.maxWidth=(0,J.a1)(Nt))}this._lastBoundingBoxSize=Ce,gt(this._boundingBox.style,et)}_resetBoundingBoxStyles(){gt(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){gt(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(oe,xe){const Ce={},et=this._hasExactPosition(),Xe=this._hasFlexibleDimensions,Nt=this._overlayRef.getConfig();if(et){const rn=this._viewportRuler.getViewportScrollPosition();gt(Ce,this._getExactOverlayY(xe,oe,rn)),gt(Ce,this._getExactOverlayX(xe,oe,rn))}else Ce.position="static";let Qt="",At=this._getOffset(xe,"x"),an=this._getOffset(xe,"y");At&&(Qt+=`translateX(${At}px) `),an&&(Qt+=`translateY(${an}px)`),Ce.transform=Qt.trim(),Nt.maxHeight&&(et?Ce.maxHeight=(0,J.a1)(Nt.maxHeight):Xe&&(Ce.maxHeight="")),Nt.maxWidth&&(et?Ce.maxWidth=(0,J.a1)(Nt.maxWidth):Xe&&(Ce.maxWidth="")),gt(this._pane.style,Ce)}_getExactOverlayY(oe,xe,Ce){let et={top:"",bottom:""},Xe=this._getOverlayPoint(xe,this._overlayRect,oe);return this._isPushed&&(Xe=this._pushOverlayOnScreen(Xe,this._overlayRect,Ce)),"bottom"===oe.overlayY?et.bottom=this._document.documentElement.clientHeight-(Xe.y+this._overlayRect.height)+"px":et.top=(0,J.a1)(Xe.y),et}_getExactOverlayX(oe,xe,Ce){let Nt,et={left:"",right:""},Xe=this._getOverlayPoint(xe,this._overlayRect,oe);return this._isPushed&&(Xe=this._pushOverlayOnScreen(Xe,this._overlayRect,Ce)),Nt=this._isRtl()?"end"===oe.overlayX?"left":"right":"end"===oe.overlayX?"right":"left","right"===Nt?et.right=this._document.documentElement.clientWidth-(Xe.x+this._overlayRect.width)+"px":et.left=(0,J.a1)(Xe.x),et}_getScrollVisibility(){const oe=this._getOriginRect(),xe=this._pane.getBoundingClientRect(),Ce=this._scrollables.map(et=>et.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:Xt(oe,Ce),isOriginOutsideView:_n(oe,Ce),isOverlayClipped:Xt(xe,Ce),isOverlayOutsideView:_n(xe,Ce)}}_subtractOverflows(oe,...xe){return xe.reduce((Ce,et)=>Ce-Math.max(et,0),oe)}_getNarrowedViewportRect(){const oe=this._document.documentElement.clientWidth,xe=this._document.documentElement.clientHeight,Ce=this._viewportRuler.getViewportScrollPosition();return{top:Ce.top+this._viewportMargin,left:Ce.left+this._viewportMargin,right:Ce.left+oe-this._viewportMargin,bottom:Ce.top+xe-this._viewportMargin,width:oe-2*this._viewportMargin,height:xe-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(oe,xe){return"x"===xe?null==oe.offsetX?this._offsetX:oe.offsetX:null==oe.offsetY?this._offsetY:oe.offsetY}_validatePositions(){}_addPanelClasses(oe){this._pane&&(0,J.FG)(oe).forEach(xe=>{""!==xe&&-1===this._appliedPanelClasses.indexOf(xe)&&(this._appliedPanelClasses.push(xe),this._pane.classList.add(xe))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(oe=>{this._pane.classList.remove(oe)}),this._appliedPanelClasses=[])}_getOriginRect(){const oe=this._origin;if(oe instanceof _e.aKT)return oe.nativeElement.getBoundingClientRect();if(oe instanceof Element)return oe.getBoundingClientRect();const xe=oe.width||0,Ce=oe.height||0;return{top:oe.y,bottom:oe.y+Ce,left:oe.x,right:oe.x+xe,height:Ce,width:xe}}}function gt(Rt,oe){for(let xe in oe)oe.hasOwnProperty(xe)&&(Rt[xe]=oe[xe]);return Rt}function je(Rt){if("number"!=typeof Rt&&null!=Rt){const[oe,xe]=Rt.split(ln);return xe&&"px"!==xe?null:parseFloat(oe)}return Rt||null}function ge(Rt){return{top:Math.floor(Rt.top),right:Math.floor(Rt.right),bottom:Math.floor(Rt.bottom),left:Math.floor(Rt.left),width:Math.floor(Rt.width),height:Math.floor(Rt.height)}}const Ct="cdk-global-overlay-wrapper";class pt{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(oe){const xe=oe.getConfig();this._overlayRef=oe,this._width&&!xe.width&&oe.updateSize({width:this._width}),this._height&&!xe.height&&oe.updateSize({height:this._height}),oe.hostElement.classList.add(Ct),this._isDisposed=!1}top(oe=""){return this._bottomOffset="",this._topOffset=oe,this._alignItems="flex-start",this}left(oe=""){return this._xOffset=oe,this._xPosition="left",this}bottom(oe=""){return this._topOffset="",this._bottomOffset=oe,this._alignItems="flex-end",this}right(oe=""){return this._xOffset=oe,this._xPosition="right",this}start(oe=""){return this._xOffset=oe,this._xPosition="start",this}end(oe=""){return this._xOffset=oe,this._xPosition="end",this}width(oe=""){return this._overlayRef?this._overlayRef.updateSize({width:oe}):this._width=oe,this}height(oe=""){return this._overlayRef?this._overlayRef.updateSize({height:oe}):this._height=oe,this}centerHorizontally(oe=""){return this.left(oe),this._xPosition="center",this}centerVertically(oe=""){return this.top(oe),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const oe=this._overlayRef.overlayElement.style,xe=this._overlayRef.hostElement.style,Ce=this._overlayRef.getConfig(),{width:et,height:Xe,maxWidth:Nt,maxHeight:Qt}=Ce,At=!("100%"!==et&&"100vw"!==et||Nt&&"100%"!==Nt&&"100vw"!==Nt),an=!("100%"!==Xe&&"100vh"!==Xe||Qt&&"100%"!==Qt&&"100vh"!==Qt),rn=this._xPosition,Bn=this._xOffset,Hr="rtl"===this._overlayRef.getConfig().direction;let Jt="",Vr="",On="";At?On="flex-start":"center"===rn?(On="center",Hr?Vr=Bn:Jt=Bn):Hr?"left"===rn||"end"===rn?(On="flex-end",Jt=Bn):("right"===rn||"start"===rn)&&(On="flex-start",Vr=Bn):"left"===rn||"start"===rn?(On="flex-start",Jt=Bn):("right"===rn||"end"===rn)&&(On="flex-end",Vr=Bn),oe.position=this._cssPosition,oe.marginLeft=At?"0":Jt,oe.marginTop=an?"0":this._topOffset,oe.marginBottom=this._bottomOffset,oe.marginRight=At?"0":Vr,xe.justifyContent=On,xe.alignItems=an?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const oe=this._overlayRef.overlayElement.style,xe=this._overlayRef.hostElement,Ce=xe.style;xe.classList.remove(Ct),Ce.justifyContent=Ce.alignItems=oe.marginTop=oe.marginBottom=oe.marginLeft=oe.marginRight=oe.position="",this._overlayRef=null,this._isDisposed=!0}}let It=(()=>{class Rt{constructor(xe,Ce,et,Xe){this._viewportRuler=xe,this._document=Ce,this._platform=et,this._overlayContainer=Xe}global(){return new pt}flexibleConnectedTo(xe){return new Ot(xe,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static{this.\u0275fac=function(Ce){return new(Ce||Rt)(_e.KVO(y.Xj),_e.KVO(ne.qQ),_e.KVO(se.OD),_e.KVO(ht))}}static{this.\u0275prov=_e.jDH({token:Rt,factory:Rt.\u0275fac,providedIn:"root"})}}return Rt})(),Mn=0,sr=(()=>{class Rt{constructor(xe,Ce,et,Xe,Nt,Qt,At,an,rn,Bn,Hr,Jt){this.scrollStrategies=xe,this._overlayContainer=Ce,this._componentFactoryResolver=et,this._positionBuilder=Xe,this._keyboardDispatcher=Nt,this._injector=Qt,this._ngZone=At,this._document=an,this._directionality=rn,this._location=Bn,this._outsideClickDispatcher=Hr,this._animationsModuleType=Jt}create(xe){const Ce=this._createHostElement(),et=this._createPaneElement(Ce),Xe=this._createPortalOutlet(et),Nt=new ze(xe);return Nt.direction=Nt.direction||this._directionality.value,new Ht(Xe,Ce,et,Nt,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(xe){const Ce=this._document.createElement("div");return Ce.id="cdk-overlay-"+Mn++,Ce.classList.add("cdk-overlay-pane"),xe.appendChild(Ce),Ce}_createHostElement(){const xe=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(xe),xe}_createPortalOutlet(xe){return this._appRef||(this._appRef=this._injector.get(_e.o8S)),new re.aI(xe,this._componentFactoryResolver,this._appRef,this._injector,this._document)}static{this.\u0275fac=function(Ce){return new(Ce||Rt)(_e.KVO(Ge),_e.KVO(ht),_e.KVO(_e.OM3),_e.KVO(It),_e.KVO(qn),_e.KVO(_e.zZn),_e.KVO(_e.SKi),_e.KVO(ne.qQ),_e.KVO(De.dS),_e.KVO(ne.aZ),_e.KVO(Lt),_e.KVO(_e.bc$,8))}}static{this.\u0275prov=_e.jDH({token:Rt,factory:Rt.\u0275fac,providedIn:"root"})}}return Rt})();const fr={provide:new _e.nKC("cdk-connected-overlay-scroll-strategy"),deps:[sr],useFactory:function Hn(Rt){return()=>Rt.scrollStrategies.reposition()}};let mr=(()=>{class Rt{static{this.\u0275fac=function(Ce){return new(Ce||Rt)}}static{this.\u0275mod=_e.$C({type:Rt})}static{this.\u0275inj=_e.G2t({providers:[sr,fr],imports:[De.jI,re.jc,y.E9,y.E9]})}}return Rt})()},6860:(hn,tt,B)=>{B.d(tt,{BQ:()=>ve,CZ:()=>lt,Fb:()=>Xt,KT:()=>Bt,OD:()=>J,v8:()=>be,vc:()=>_n});var y=B(7705),ne=B(177);let _e;try{_e=typeof Intl<"u"&&Intl.v8BreakIterator}catch{_e=!1}let De,$e,Dt,J=(()=>{class Ge{constructor(Ke){this._platformId=Ke,this.isBrowser=this._platformId?(0,ne.UE)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!_e)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static{this.\u0275fac=function(dt){return new(dt||Ge)(y.KVO(y.Agw))}}static{this.\u0275prov=y.jDH({token:Ge,factory:Ge.\u0275fac,providedIn:"root"})}}return Ge})();function ve(Ge){return function re(){if(null==De&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>De=!0}))}finally{De=De||!1}return De}()?Ge:!!Ge.capture}function lt(){if(null==$e){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return $e=!1,$e;if("scrollBehavior"in document.documentElement.style)$e=!0;else{const Ge=Element.prototype.scrollTo;$e=!!Ge&&!/\{\s*\[native code\]\s*\}/.test(Ge.toString())}}return $e}function Bt(Ge){if(function Ft(){if(null==Dt){const Ge=typeof document<"u"?document.head:null;Dt=!(!Ge||!Ge.createShadowRoot&&!Ge.attachShadow)}return Dt}()){const ze=Ge.getRootNode?Ge.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&ze instanceof ShadowRoot)return ze}return null}function _n(){let Ge=typeof document<"u"&&document?document.activeElement:null;for(;Ge&&Ge.shadowRoot;){const ze=Ge.shadowRoot.activeElement;if(ze===Ge)break;Ge=ze}return Ge}function Xt(Ge){return Ge.composedPath?Ge.composedPath()[0]:Ge.target}function be(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}},6939:(hn,tt,B)=>{B.d(tt,{A8:()=>re,I3:()=>_n,VA:()=>ve,aI:()=>Tt,jc:()=>be,lb:()=>$e});var y=B(7705),ne=B(177);class De{attach(Ke){return this._attachedHost=Ke,Ke.attach(this)}detach(){let Ke=this._attachedHost;null!=Ke&&(this._attachedHost=null,Ke.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(Ke){this._attachedHost=Ke}}class re extends De{constructor(Ke,dt,xt,Yt,mn){super(),this.component=Ke,this.viewContainerRef=dt,this.injector=xt,this.componentFactoryResolver=Yt,this.projectableNodes=mn}}class ve extends De{constructor(Ke,dt,xt,Yt){super(),this.templateRef=Ke,this.viewContainerRef=dt,this.context=xt,this.injector=Yt}get origin(){return this.templateRef.elementRef}attach(Ke,dt=this.context){return this.context=dt,super.attach(Ke)}detach(){return this.context=void 0,super.detach()}}class Be extends De{constructor(Ke){super(),this.element=Ke instanceof y.aKT?Ke.nativeElement:Ke}}class $e{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(Ke){return Ke instanceof re?(this._attachedPortal=Ke,this.attachComponentPortal(Ke)):Ke instanceof ve?(this._attachedPortal=Ke,this.attachTemplatePortal(Ke)):this.attachDomPortal&&Ke instanceof Be?(this._attachedPortal=Ke,this.attachDomPortal(Ke)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(Ke){this._disposeFn=Ke}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class Tt extends $e{constructor(Ke,dt,xt,Yt,mn){super(),this.outletElement=Ke,this._componentFactoryResolver=dt,this._appRef=xt,this._defaultInjector=Yt,this.attachDomPortal=vn=>{const qn=vn.element,Lt=this._document.createComment("dom-portal");qn.parentNode.insertBefore(Lt,qn),this.outletElement.appendChild(qn),this._attachedPortal=vn,super.setDisposeFn(()=>{Lt.parentNode&&Lt.parentNode.replaceChild(qn,Lt)})},this._document=mn}attachComponentPortal(Ke){const xt=(Ke.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(Ke.component);let Yt;return Ke.viewContainerRef?(Yt=Ke.viewContainerRef.createComponent(xt,Ke.viewContainerRef.length,Ke.injector||Ke.viewContainerRef.injector,Ke.projectableNodes||void 0),this.setDisposeFn(()=>Yt.destroy())):(Yt=xt.create(Ke.injector||this._defaultInjector||y.zZn.NULL),this._appRef.attachView(Yt.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(Yt.hostView),Yt.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(Yt)),this._attachedPortal=Ke,Yt}attachTemplatePortal(Ke){let dt=Ke.viewContainerRef,xt=dt.createEmbeddedView(Ke.templateRef,Ke.context,{injector:Ke.injector});return xt.rootNodes.forEach(Yt=>this.outletElement.appendChild(Yt)),xt.detectChanges(),this.setDisposeFn(()=>{let Yt=dt.indexOf(xt);-1!==Yt&&dt.remove(Yt)}),this._attachedPortal=Ke,xt}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(Ke){return Ke.hostView.rootNodes[0]}}let _n=(()=>{class ze extends $e{constructor(dt,xt,Yt){super(),this._componentFactoryResolver=dt,this._viewContainerRef=xt,this._isInitialized=!1,this.attached=new y.bkB,this.attachDomPortal=mn=>{const vn=mn.element,qn=this._document.createComment("dom-portal");mn.setAttachedHost(this),vn.parentNode.insertBefore(qn,vn),this._getRootNode().appendChild(vn),this._attachedPortal=mn,super.setDisposeFn(()=>{qn.parentNode&&qn.parentNode.replaceChild(vn,qn)})},this._document=Yt}get portal(){return this._attachedPortal}set portal(dt){this.hasAttached()&&!dt&&!this._isInitialized||(this.hasAttached()&&super.detach(),dt&&super.attach(dt),this._attachedPortal=dt||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(dt){dt.setAttachedHost(this);const xt=null!=dt.viewContainerRef?dt.viewContainerRef:this._viewContainerRef,mn=(dt.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(dt.component),vn=xt.createComponent(mn,xt.length,dt.injector||xt.injector,dt.projectableNodes||void 0);return xt!==this._viewContainerRef&&this._getRootNode().appendChild(vn.hostView.rootNodes[0]),super.setDisposeFn(()=>vn.destroy()),this._attachedPortal=dt,this._attachedRef=vn,this.attached.emit(vn),vn}attachTemplatePortal(dt){dt.setAttachedHost(this);const xt=this._viewContainerRef.createEmbeddedView(dt.templateRef,dt.context,{injector:dt.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=dt,this._attachedRef=xt,this.attached.emit(xt),xt}_getRootNode(){const dt=this._viewContainerRef.element.nativeElement;return dt.nodeType===dt.ELEMENT_NODE?dt:dt.parentNode}static{this.\u0275fac=function(xt){return new(xt||ze)(y.rXU(y.OM3),y.rXU(y.c1b),y.rXU(ne.qQ))}}static{this.\u0275dir=y.FsC({type:ze,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[y.Vt3]})}}return ze})(),be=(()=>{class ze{static{this.\u0275fac=function(xt){return new(xt||ze)}}static{this.\u0275mod=y.$C({type:ze})}static{this.\u0275inj=y.G2t({})}}return ze})()},4955:(hn,tt,B)=>{B.d(tt,{Gj:()=>Lr,R:()=>et,E9:()=>cr,Xj:()=>Qt});var y=B(4085),ne=B(7705),_e=B(1413),J=B(7673),se=B(1985),ae=B(8750),Ve=B(1397),Se=B(7441),De=B(8071),re=B(6450);const ve=["addListener","removeListener"],Be=["addEventListener","removeEventListener"],$e=["on","off"];function lt(jt,st,qe,_t){if((0,De.T)(qe)&&(_t=qe,qe=void 0),_t)return lt(jt,st,qe).pipe((0,re.I)(_t));const[qt,Oe]=function Bt(jt){return(0,De.T)(jt.addEventListener)&&(0,De.T)(jt.removeEventListener)}(jt)?Be.map(Nn=>$n=>jt[Nn](st,$n,qe)):function Dt(jt){return(0,De.T)(jt.addListener)&&(0,De.T)(jt.removeListener)}(jt)?ve.map(Tt(jt,st)):function Ft(jt){return(0,De.T)(jt.on)&&(0,De.T)(jt.off)}(jt)?$e.map(Tt(jt,st)):[];if(!qt&&(0,Se.X)(jt))return(0,Ve.Z)(Nn=>lt(Nn,st,qe))((0,ae.Tg)(jt));if(!qt)throw new TypeError("Invalid event target");return new se.c(Nn=>{const $n=(...ar)=>Nn.next(1<ar.length?ar:ar[0]);return qt($n),()=>Oe($n)})}function Tt(jt,st){return qe=>_t=>jt[qe](st,_t)}var _n=B(6780),Xt=B(8359);const be={schedule(jt){let st=requestAnimationFrame,qe=cancelAnimationFrame;const{delegate:_t}=be;_t&&(st=_t.requestAnimationFrame,qe=_t.cancelAnimationFrame);const qt=st(Oe=>{qe=void 0,jt(Oe)});return new Xt.yU(()=>qe?.(qt))},requestAnimationFrame(...jt){const{delegate:st}=be;return(st?.requestAnimationFrame||requestAnimationFrame)(...jt)},cancelAnimationFrame(...jt){const{delegate:st}=be;return(st?.cancelAnimationFrame||cancelAnimationFrame)(...jt)},delegate:void 0};var ze=B(3604);new class Ke extends ze.q{flush(st){let qe;this._active=!0,st?qe=st.id:(qe=this._scheduled,this._scheduled=void 0);const{actions:_t}=this;let qt;st=st||_t.shift();do{if(qt=st.execute(st.state,st.delay))break}while((st=_t[0])&&st.id===qe&&_t.shift());if(this._active=!1,qt){for(;(st=_t[0])&&st.id===qe&&_t.shift();)st.unsubscribe();throw qt}}}(class Ge extends _n.R{constructor(st,qe){super(st,qe),this.scheduler=st,this.work=qe}requestAsyncId(st,qe,_t=0){return null!==_t&&_t>0?super.requestAsyncId(st,qe,_t):(st.actions.push(this),st._scheduled||(st._scheduled=be.requestAnimationFrame(()=>st.flush(void 0))))}recycleAsyncId(st,qe,_t=0){var qt;if(null!=_t?_t>0:this.delay>0)return super.recycleAsyncId(st,qe,_t);const{actions:Oe}=st;null!=qe&&qe===st._scheduled&&(null===(qt=Oe[Oe.length-1])||void 0===qt?void 0:qt.id)!==qe&&(be.cancelAnimationFrame(qe),st._scheduled=void 0)}});let mn,Yt=1;const vn={};function qn(jt){return jt in vn&&(delete vn[jt],!0)}const Lt={setImmediate(jt){const st=Yt++;return vn[st]=!0,mn||(mn=Promise.resolve()),mn.then(()=>qn(st)&&jt()),st},clearImmediate(jt){qn(jt)}},{setImmediate:Ht,clearImmediate:kn}=Lt,ln={setImmediate(...jt){const{delegate:st}=ln;return(st?.setImmediate||Ht)(...jt)},clearImmediate(jt){const{delegate:st}=ln;return(st?.clearImmediate||kn)(jt)},delegate:void 0};new class gt extends ze.q{flush(st){this._active=!0;const qe=this._scheduled;this._scheduled=void 0;const{actions:_t}=this;let qt;st=st||_t.shift();do{if(qt=st.execute(st.state,st.delay))break}while((st=_t[0])&&st.id===qe&&_t.shift());if(this._active=!1,qt){for(;(st=_t[0])&&st.id===qe&&_t.shift();)st.unsubscribe();throw qt}}}(class Ot extends _n.R{constructor(st,qe){super(st,qe),this.scheduler=st,this.work=qe}requestAsyncId(st,qe,_t=0){return null!==_t&&_t>0?super.requestAsyncId(st,qe,_t):(st.actions.push(this),st._scheduled||(st._scheduled=ln.setImmediate(st.flush.bind(st,void 0))))}recycleAsyncId(st,qe,_t=0){var qt;if(null!=_t?_t>0:this.delay>0)return super.recycleAsyncId(st,qe,_t);const{actions:Oe}=st;null!=qe&&(null===(qt=Oe[Oe.length-1])||void 0===qt?void 0:qt.id)!==qe&&(ln.clearImmediate(qe),st._scheduled===qe&&(st._scheduled=void 0))}});var ce=B(3236),Pe=B(9974),Ct=B(4360),It=B(9470);function un(jt,st=ce.E){return function pt(jt){return(0,Pe.N)((st,qe)=>{let _t=!1,qt=null,Oe=null,Nn=!1;const $n=()=>{if(Oe?.unsubscribe(),Oe=null,_t){_t=!1;const bt=qt;qt=null,qe.next(bt)}Nn&&qe.complete()},ar=()=>{Oe=null,Nn&&qe.complete()};st.subscribe((0,Ct._)(qe,bt=>{_t=!0,qt=bt,Oe||(0,ae.Tg)(jt(bt)).subscribe(Oe=(0,Ct._)(qe,$n,ar))},()=>{Nn=!0,(!_t||!Oe||Oe.closed)&&qe.complete()}))})}(()=>function sr(jt=0,st,qe=ce.b){let _t=-1;return null!=st&&((0,It.m)(st)?qe=st:_t=st),new se.c(qt=>{let Oe=function Mn(jt){return jt instanceof Date&&!isNaN(jt)}(jt)?+jt-qe.now():jt;Oe<0&&(Oe=0);let Nn=0;return qe.schedule(function(){qt.closed||(qt.next(Nn++),0<=_t?this.schedule(void 0,_t):qt.complete())},Oe)})}(jt,st))}var Rn=B(5964),zn=B(6860),pr=B(177),Hn=B(8203);let et=(()=>{class jt{constructor(qe,_t,qt){this._ngZone=qe,this._platform=_t,this._scrolled=new _e.B,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=qt}register(qe){this.scrollContainers.has(qe)||this.scrollContainers.set(qe,qe.elementScrolled().subscribe(()=>this._scrolled.next(qe)))}deregister(qe){const _t=this.scrollContainers.get(qe);_t&&(_t.unsubscribe(),this.scrollContainers.delete(qe))}scrolled(qe=20){return this._platform.isBrowser?new se.c(_t=>{this._globalSubscription||this._addGlobalListener();const qt=qe>0?this._scrolled.pipe(un(qe)).subscribe(_t):this._scrolled.subscribe(_t);return this._scrolledCount++,()=>{qt.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,J.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((qe,_t)=>this.deregister(_t)),this._scrolled.complete()}ancestorScrolled(qe,_t){const qt=this.getAncestorScrollContainers(qe);return this.scrolled(_t).pipe((0,Rn.p)(Oe=>!Oe||qt.indexOf(Oe)>-1))}getAncestorScrollContainers(qe){const _t=[];return this.scrollContainers.forEach((qt,Oe)=>{this._scrollableContainsElement(Oe,qe)&&_t.push(Oe)}),_t}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(qe,_t){let qt=(0,y.i8)(_t),Oe=qe.getElementRef().nativeElement;do{if(qt==Oe)return!0}while(qt=qt.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>lt(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}static{this.\u0275fac=function(_t){return new(_t||jt)(ne.KVO(ne.SKi),ne.KVO(zn.OD),ne.KVO(pr.qQ,8))}}static{this.\u0275prov=ne.jDH({token:jt,factory:jt.\u0275fac,providedIn:"root"})}}return jt})(),Qt=(()=>{class jt{constructor(qe,_t,qt){this._platform=qe,this._change=new _e.B,this._changeListener=Oe=>{this._change.next(Oe)},this._document=qt,_t.runOutsideAngular(()=>{if(qe.isBrowser){const Oe=this._getWindow();Oe.addEventListener("resize",this._changeListener),Oe.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const qe=this._getWindow();qe.removeEventListener("resize",this._changeListener),qe.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const qe={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),qe}getViewportRect(){const qe=this.getViewportScrollPosition(),{width:_t,height:qt}=this.getViewportSize();return{top:qe.top,left:qe.left,bottom:qe.top+qt,right:qe.left+_t,height:qt,width:_t}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const qe=this._document,_t=this._getWindow(),qt=qe.documentElement,Oe=qt.getBoundingClientRect();return{top:-Oe.top||qe.body.scrollTop||_t.scrollY||qt.scrollTop||0,left:-Oe.left||qe.body.scrollLeft||_t.scrollX||qt.scrollLeft||0}}change(qe=20){return qe>0?this._change.pipe(un(qe)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const qe=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:qe.innerWidth,height:qe.innerHeight}:{width:0,height:0}}static{this.\u0275fac=function(_t){return new(_t||jt)(ne.KVO(zn.OD),ne.KVO(ne.SKi),ne.KVO(pr.qQ,8))}}static{this.\u0275prov=ne.jDH({token:jt,factory:jt.\u0275fac,providedIn:"root"})}}return jt})(),Lr=(()=>{class jt{static{this.\u0275fac=function(_t){return new(_t||jt)}}static{this.\u0275mod=ne.$C({type:jt})}static{this.\u0275inj=ne.G2t({})}}return jt})(),cr=(()=>{class jt{static{this.\u0275fac=function(_t){return new(_t||jt)}}static{this.\u0275mod=ne.$C({type:jt})}static{this.\u0275inj=ne.G2t({imports:[Hn.jI,Lr,Hn.jI,Lr]})}}return jt})()},177:(hn,tt,B)=>{B.d(tt,{AJ:()=>$r,MD:()=>uo,N0:()=>Ao,QT:()=>_e,QX:()=>Tr,Sm:()=>Tt,Sq:()=>Ur,UE:()=>Ro,VF:()=>se,Vy:()=>ts,Xr:()=>Ai,YU:()=>An,ZD:()=>J,_b:()=>nn,aZ:()=>Ft,bT:()=>Er,e1:()=>ac,fw:()=>Dt,hb:()=>$e,hj:()=>Se,oe:()=>Un,qQ:()=>ae,ux:()=>_i,vh:()=>ui});var y=B(7705);let ne=null;function _e(){return ne}function J(A){ne||(ne=A)}class se{}const ae=new y.nKC("DocumentToken");let Ve=(()=>{class A{historyGo(F){throw new Error("Not implemented")}static{this.\u0275fac=function(G){return new(G||A)}}static{this.\u0275prov=y.jDH({token:A,factory:function(){return(0,y.WQX)(De)},providedIn:"platform"})}}return A})();const Se=new y.nKC("Location Initialized");let De=(()=>{class A extends Ve{constructor(){super(),this._doc=(0,y.WQX)(ae),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return _e().getBaseHref(this._doc)}onPopState(F){const G=_e().getGlobalEventTarget(this._doc,"window");return G.addEventListener("popstate",F,!1),()=>G.removeEventListener("popstate",F)}onHashChange(F){const G=_e().getGlobalEventTarget(this._doc,"window");return G.addEventListener("hashchange",F,!1),()=>G.removeEventListener("hashchange",F)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(F){this._location.pathname=F}pushState(F,G,Re){this._history.pushState(F,G,Re)}replaceState(F,G,Re){this._history.replaceState(F,G,Re)}forward(){this._history.forward()}back(){this._history.back()}historyGo(F=0){this._history.go(F)}getState(){return this._history.state}static{this.\u0275fac=function(G){return new(G||A)}}static{this.\u0275prov=y.jDH({token:A,factory:function(){return new A},providedIn:"platform"})}}return A})();function re(A,Z){if(0==A.length)return Z;if(0==Z.length)return A;let F=0;return A.endsWith("/")&&F++,Z.startsWith("/")&&F++,2==F?A+Z.substring(1):1==F?A+Z:A+"/"+Z}function ve(A){const Z=A.match(/#|\?|$/),F=Z&&Z.index||A.length;return A.slice(0,F-("/"===A[F-1]?1:0))+A.slice(F)}function Be(A){return A&&"?"!==A[0]?"?"+A:A}let $e=(()=>{class A{historyGo(F){throw new Error("Not implemented")}static{this.\u0275fac=function(G){return new(G||A)}}static{this.\u0275prov=y.jDH({token:A,factory:function(){return(0,y.WQX)(Tt)},providedIn:"root"})}}return A})();const lt=new y.nKC("appBaseHref");let Tt=(()=>{class A extends $e{constructor(F,G){super(),this._platformLocation=F,this._removeListenerFns=[],this._baseHref=G??this._platformLocation.getBaseHrefFromDOM()??(0,y.WQX)(ae).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(F){this._removeListenerFns.push(this._platformLocation.onPopState(F),this._platformLocation.onHashChange(F))}getBaseHref(){return this._baseHref}prepareExternalUrl(F){return re(this._baseHref,F)}path(F=!1){const G=this._platformLocation.pathname+Be(this._platformLocation.search),Re=this._platformLocation.hash;return Re&&F?`${G}${Re}`:G}pushState(F,G,Re,kt){const Vt=this.prepareExternalUrl(Re+Be(kt));this._platformLocation.pushState(F,G,Vt)}replaceState(F,G,Re,kt){const Vt=this.prepareExternalUrl(Re+Be(kt));this._platformLocation.replaceState(F,G,Vt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(F=0){this._platformLocation.historyGo?.(F)}static{this.\u0275fac=function(G){return new(G||A)(y.KVO(Ve),y.KVO(lt,8))}}static{this.\u0275prov=y.jDH({token:A,factory:A.\u0275fac,providedIn:"root"})}}return A})(),Dt=(()=>{class A extends $e{constructor(F,G){super(),this._platformLocation=F,this._baseHref="",this._removeListenerFns=[],null!=G&&(this._baseHref=G)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(F){this._removeListenerFns.push(this._platformLocation.onPopState(F),this._platformLocation.onHashChange(F))}getBaseHref(){return this._baseHref}path(F=!1){let G=this._platformLocation.hash;return null==G&&(G="#"),G.length>0?G.substring(1):G}prepareExternalUrl(F){const G=re(this._baseHref,F);return G.length>0?"#"+G:G}pushState(F,G,Re,kt){let Vt=this.prepareExternalUrl(Re+Be(kt));0==Vt.length&&(Vt=this._platformLocation.pathname),this._platformLocation.pushState(F,G,Vt)}replaceState(F,G,Re,kt){let Vt=this.prepareExternalUrl(Re+Be(kt));0==Vt.length&&(Vt=this._platformLocation.pathname),this._platformLocation.replaceState(F,G,Vt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(F=0){this._platformLocation.historyGo?.(F)}static{this.\u0275fac=function(G){return new(G||A)(y.KVO(Ve),y.KVO(lt,8))}}static{this.\u0275prov=y.jDH({token:A,factory:A.\u0275fac})}}return A})(),Ft=(()=>{class A{constructor(F){this._subject=new y.bkB,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=F;const G=this._locationStrategy.getBaseHref();this._basePath=function be(A){if(new RegExp("^(https?:)?//").test(A)){const[,F]=A.split(/\/\/[^\/]+/);return F}return A}(ve(Xt(G))),this._locationStrategy.onPopState(Re=>{this._subject.emit({url:this.path(!0),pop:!0,state:Re.state,type:Re.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(F=!1){return this.normalize(this._locationStrategy.path(F))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(F,G=""){return this.path()==this.normalize(F+Be(G))}normalize(F){return A.stripTrailingSlash(function _n(A,Z){if(!A||!Z.startsWith(A))return Z;const F=Z.substring(A.length);return""===F||["/",";","?","#"].includes(F[0])?F:Z}(this._basePath,Xt(F)))}prepareExternalUrl(F){return F&&"/"!==F[0]&&(F="/"+F),this._locationStrategy.prepareExternalUrl(F)}go(F,G="",Re=null){this._locationStrategy.pushState(Re,"",F,G),this._notifyUrlChangeListeners(this.prepareExternalUrl(F+Be(G)),Re)}replaceState(F,G="",Re=null){this._locationStrategy.replaceState(Re,"",F,G),this._notifyUrlChangeListeners(this.prepareExternalUrl(F+Be(G)),Re)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(F=0){this._locationStrategy.historyGo?.(F)}onUrlChange(F){return this._urlChangeListeners.push(F),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(G=>{this._notifyUrlChangeListeners(G.url,G.state)})),()=>{const G=this._urlChangeListeners.indexOf(F);this._urlChangeListeners.splice(G,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(F="",G){this._urlChangeListeners.forEach(Re=>Re(F,G))}subscribe(F,G,Re){return this._subject.subscribe({next:F,error:G,complete:Re})}static{this.normalizeQueryParams=Be}static{this.joinWithSlash=re}static{this.stripTrailingSlash=ve}static{this.\u0275fac=function(G){return new(G||A)(y.KVO($e))}}static{this.\u0275prov=y.jDH({token:A,factory:function(){return function Bt(){return new Ft((0,y.KVO)($e))}()},providedIn:"root"})}}return A})();function Xt(A){return A.replace(/\/index.html$/,"")}const Ge={ADP:[void 0,void 0,0],AFN:[void 0,"\u060b",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058f",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20bc"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GHS:[void 0,"GH\u20b5"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202fCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var ze=function(A){return A[A.Decimal=0]="Decimal",A[A.Percent=1]="Percent",A[A.Currency=2]="Currency",A[A.Scientific=3]="Scientific",A}(ze||{}),dt=function(A){return A[A.Format=0]="Format",A[A.Standalone=1]="Standalone",A}(dt||{}),xt=function(A){return A[A.Narrow=0]="Narrow",A[A.Abbreviated=1]="Abbreviated",A[A.Wide=2]="Wide",A[A.Short=3]="Short",A}(xt||{}),Yt=function(A){return A[A.Short=0]="Short",A[A.Medium=1]="Medium",A[A.Long=2]="Long",A[A.Full=3]="Full",A}(Yt||{}),mn=function(A){return A[A.Decimal=0]="Decimal",A[A.Group=1]="Group",A[A.List=2]="List",A[A.PercentSign=3]="PercentSign",A[A.PlusSign=4]="PlusSign",A[A.MinusSign=5]="MinusSign",A[A.Exponential=6]="Exponential",A[A.SuperscriptingExponent=7]="SuperscriptingExponent",A[A.PerMille=8]="PerMille",A[A.Infinity=9]="Infinity",A[A.NaN=10]="NaN",A[A.TimeSeparator=11]="TimeSeparator",A[A.CurrencyDecimal=12]="CurrencyDecimal",A[A.CurrencyGroup=13]="CurrencyGroup",A}(mn||{});function gt(A,Z){return Hn((0,y.H5H)(A)[y.KH2.DateFormat],Z)}function je(A,Z){return Hn((0,y.H5H)(A)[y.KH2.TimeFormat],Z)}function ge(A,Z){return Hn((0,y.H5H)(A)[y.KH2.DateTimeFormat],Z)}function ce(A,Z){const F=(0,y.H5H)(A),G=F[y.KH2.NumberSymbols][Z];if(typeof G>"u"){if(Z===mn.CurrencyDecimal)return F[y.KH2.NumberSymbols][mn.Decimal];if(Z===mn.CurrencyGroup)return F[y.KH2.NumberSymbols][mn.Group]}return G}function Pe(A,Z){return(0,y.H5H)(A)[y.KH2.NumberFormats][Z]}function un(A){if(!A[y.KH2.ExtraData])throw new Error(`Missing extra locale data for the locale "${A[y.KH2.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Hn(A,Z){for(let F=Z;F>-1;F--)if(typeof A[F]<"u")return A[F];throw new Error("Locale data API: locale data undefined")}function fr(A){const[Z,F]=A.split(":");return{hours:+Z,minutes:+F}}const oe=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,xe={},Ce=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var et=function(A){return A[A.Short=0]="Short",A[A.ShortGMT=1]="ShortGMT",A[A.Long=2]="Long",A[A.Extended=3]="Extended",A}(et||{}),Xe=function(A){return A[A.FullYear=0]="FullYear",A[A.Month=1]="Month",A[A.Date=2]="Date",A[A.Hours=3]="Hours",A[A.Minutes=4]="Minutes",A[A.Seconds=5]="Seconds",A[A.FractionalSeconds=6]="FractionalSeconds",A[A.Day=7]="Day",A}(Xe||{}),Nt=function(A){return A[A.DayPeriods=0]="DayPeriods",A[A.Days=1]="Days",A[A.Months=2]="Months",A[A.Eras=3]="Eras",A}(Nt||{});function Qt(A,Z,F,G){let Re=function he(A){if(P(A))return A;if("number"==typeof A&&!isNaN(A))return new Date(A);if("string"==typeof A){if(A=A.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(A)){const[Re,kt=1,Vt=1]=A.split("-").map(Vn=>+Vn);return At(Re,kt-1,Vt)}const F=parseFloat(A);if(!isNaN(A-F))return new Date(F);let G;if(G=A.match(oe))return function R(A){const Z=new Date(0);let F=0,G=0;const Re=A[8]?Z.setUTCFullYear:Z.setFullYear,kt=A[8]?Z.setUTCHours:Z.setHours;A[9]&&(F=Number(A[9]+A[10]),G=Number(A[9]+A[11])),Re.call(Z,Number(A[1]),Number(A[2])-1,Number(A[3]));const Vt=Number(A[4]||0)-F,Vn=Number(A[5]||0)-G,wn=Number(A[6]||0),Xn=Math.floor(1e3*parseFloat("0."+(A[7]||0)));return kt.call(Z,Vt,Vn,wn,Xn),Z}(G)}const Z=new Date(A);if(!P(Z))throw new Error(`Unable to convert "${A}" into a date`);return Z}(A);Z=an(F,Z)||Z;let Vn,Vt=[];for(;Z;){if(Vn=Ce.exec(Z),!Vn){Vt.push(Z);break}{Vt=Vt.concat(Vn.slice(1));const Mr=Vt.pop();if(!Mr)break;Z=Mr}}let wn=Re.getTimezoneOffset();G&&(wn=$n(G,wn),Re=function bt(A,Z,F){const G=F?-1:1,Re=A.getTimezoneOffset();return function ar(A,Z){return(A=new Date(A.getTime())).setMinutes(A.getMinutes()+Z),A}(A,G*($n(Z,Re)-Re))}(Re,G,!0));let Xn="";return Vt.forEach(Mr=>{const hr=function Nn(A){if(Oe[A])return Oe[A];let Z;switch(A){case"G":case"GG":case"GGG":Z=On(Nt.Eras,xt.Abbreviated);break;case"GGGG":Z=On(Nt.Eras,xt.Wide);break;case"GGGGG":Z=On(Nt.Eras,xt.Narrow);break;case"y":Z=Jt(Xe.FullYear,1,0,!1,!0);break;case"yy":Z=Jt(Xe.FullYear,2,0,!0,!0);break;case"yyy":Z=Jt(Xe.FullYear,3,0,!1,!0);break;case"yyyy":Z=Jt(Xe.FullYear,4,0,!1,!0);break;case"Y":Z=qt(1);break;case"YY":Z=qt(2,!0);break;case"YYY":Z=qt(3);break;case"YYYY":Z=qt(4);break;case"M":case"L":Z=Jt(Xe.Month,1,1);break;case"MM":case"LL":Z=Jt(Xe.Month,2,1);break;case"MMM":Z=On(Nt.Months,xt.Abbreviated);break;case"MMMM":Z=On(Nt.Months,xt.Wide);break;case"MMMMM":Z=On(Nt.Months,xt.Narrow);break;case"LLL":Z=On(Nt.Months,xt.Abbreviated,dt.Standalone);break;case"LLLL":Z=On(Nt.Months,xt.Wide,dt.Standalone);break;case"LLLLL":Z=On(Nt.Months,xt.Narrow,dt.Standalone);break;case"w":Z=_t(1);break;case"ww":Z=_t(2);break;case"W":Z=_t(1,!0);break;case"d":Z=Jt(Xe.Date,1);break;case"dd":Z=Jt(Xe.Date,2);break;case"c":case"cc":Z=Jt(Xe.Day,1);break;case"ccc":Z=On(Nt.Days,xt.Abbreviated,dt.Standalone);break;case"cccc":Z=On(Nt.Days,xt.Wide,dt.Standalone);break;case"ccccc":Z=On(Nt.Days,xt.Narrow,dt.Standalone);break;case"cccccc":Z=On(Nt.Days,xt.Short,dt.Standalone);break;case"E":case"EE":case"EEE":Z=On(Nt.Days,xt.Abbreviated);break;case"EEEE":Z=On(Nt.Days,xt.Wide);break;case"EEEEE":Z=On(Nt.Days,xt.Narrow);break;case"EEEEEE":Z=On(Nt.Days,xt.Short);break;case"a":case"aa":case"aaa":Z=On(Nt.DayPeriods,xt.Abbreviated);break;case"aaaa":Z=On(Nt.DayPeriods,xt.Wide);break;case"aaaaa":Z=On(Nt.DayPeriods,xt.Narrow);break;case"b":case"bb":case"bbb":Z=On(Nt.DayPeriods,xt.Abbreviated,dt.Standalone,!0);break;case"bbbb":Z=On(Nt.DayPeriods,xt.Wide,dt.Standalone,!0);break;case"bbbbb":Z=On(Nt.DayPeriods,xt.Narrow,dt.Standalone,!0);break;case"B":case"BB":case"BBB":Z=On(Nt.DayPeriods,xt.Abbreviated,dt.Format,!0);break;case"BBBB":Z=On(Nt.DayPeriods,xt.Wide,dt.Format,!0);break;case"BBBBB":Z=On(Nt.DayPeriods,xt.Narrow,dt.Format,!0);break;case"h":Z=Jt(Xe.Hours,1,-12);break;case"hh":Z=Jt(Xe.Hours,2,-12);break;case"H":Z=Jt(Xe.Hours,1);break;case"HH":Z=Jt(Xe.Hours,2);break;case"m":Z=Jt(Xe.Minutes,1);break;case"mm":Z=Jt(Xe.Minutes,2);break;case"s":Z=Jt(Xe.Seconds,1);break;case"ss":Z=Jt(Xe.Seconds,2);break;case"S":Z=Jt(Xe.FractionalSeconds,1);break;case"SS":Z=Jt(Xe.FractionalSeconds,2);break;case"SSS":Z=Jt(Xe.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":Z=Lr(et.Short);break;case"ZZZZZ":Z=Lr(et.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":Z=Lr(et.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":Z=Lr(et.Long);break;default:return null}return Oe[A]=Z,Z}(Mr);Xn+=hr?hr(Re,F,wn):"''"===Mr?"'":Mr.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),Xn}function At(A,Z,F){const G=new Date(0);return G.setFullYear(A,Z,F),G.setHours(0,0,0),G}function an(A,Z){const F=function qn(A){return(0,y.H5H)(A)[y.KH2.LocaleId]}(A);if(xe[F]=xe[F]||{},xe[F][Z])return xe[F][Z];let G="";switch(Z){case"shortDate":G=gt(A,Yt.Short);break;case"mediumDate":G=gt(A,Yt.Medium);break;case"longDate":G=gt(A,Yt.Long);break;case"fullDate":G=gt(A,Yt.Full);break;case"shortTime":G=je(A,Yt.Short);break;case"mediumTime":G=je(A,Yt.Medium);break;case"longTime":G=je(A,Yt.Long);break;case"fullTime":G=je(A,Yt.Full);break;case"short":const Re=an(A,"shortTime"),kt=an(A,"shortDate");G=rn(ge(A,Yt.Short),[Re,kt]);break;case"medium":const Vt=an(A,"mediumTime"),Vn=an(A,"mediumDate");G=rn(ge(A,Yt.Medium),[Vt,Vn]);break;case"long":const wn=an(A,"longTime"),Xn=an(A,"longDate");G=rn(ge(A,Yt.Long),[wn,Xn]);break;case"full":const Mr=an(A,"fullTime"),hr=an(A,"fullDate");G=rn(ge(A,Yt.Full),[Mr,hr])}return G&&(xe[F][Z]=G),G}function rn(A,Z){return Z&&(A=A.replace(/\{([^}]+)}/g,function(F,G){return null!=Z&&G in Z?Z[G]:F})),A}function Bn(A,Z,F="-",G,Re){let kt="";(A<0||Re&&A<=0)&&(Re?A=1-A:(A=-A,kt=F));let Vt=String(A);for(;Vt.length<Z;)Vt="0"+Vt;return G&&(Vt=Vt.slice(Vt.length-Z)),kt+Vt}function Jt(A,Z,F=0,G=!1,Re=!1){return function(kt,Vt){let Vn=function Vr(A,Z){switch(A){case Xe.FullYear:return Z.getFullYear();case Xe.Month:return Z.getMonth();case Xe.Date:return Z.getDate();case Xe.Hours:return Z.getHours();case Xe.Minutes:return Z.getMinutes();case Xe.Seconds:return Z.getSeconds();case Xe.FractionalSeconds:return Z.getMilliseconds();case Xe.Day:return Z.getDay();default:throw new Error(`Unknown DateType value "${A}".`)}}(A,kt);if((F>0||Vn>-F)&&(Vn+=F),A===Xe.Hours)0===Vn&&-12===F&&(Vn=12);else if(A===Xe.FractionalSeconds)return function Hr(A,Z){return Bn(A,3).substring(0,Z)}(Vn,Z);const wn=ce(Vt,mn.MinusSign);return Bn(Vn,Z,wn,G,Re)}}function On(A,Z,F=dt.Format,G=!1){return function(Re,kt){return function mi(A,Z,F,G,Re,kt){switch(F){case Nt.Months:return function Ht(A,Z,F){const G=(0,y.H5H)(A),kt=Hn([G[y.KH2.MonthsFormat],G[y.KH2.MonthsStandalone]],Z);return Hn(kt,F)}(Z,Re,G)[A.getMonth()];case Nt.Days:return function ht(A,Z,F){const G=(0,y.H5H)(A),kt=Hn([G[y.KH2.DaysFormat],G[y.KH2.DaysStandalone]],Z);return Hn(kt,F)}(Z,Re,G)[A.getDay()];case Nt.DayPeriods:const Vt=A.getHours(),Vn=A.getMinutes();if(kt){const Xn=function Rn(A){const Z=(0,y.H5H)(A);return un(Z),(Z[y.KH2.ExtraData][2]||[]).map(G=>"string"==typeof G?fr(G):[fr(G[0]),fr(G[1])])}(Z),Mr=function zn(A,Z,F){const G=(0,y.H5H)(A);un(G);const kt=Hn([G[y.KH2.ExtraData][0],G[y.KH2.ExtraData][1]],Z)||[];return Hn(kt,F)||[]}(Z,Re,G),hr=Xn.findIndex(pi=>{if(Array.isArray(pi)){const[zr,Wi]=pi,os=Vt>=zr.hours&&Vn>=zr.minutes,bi=Vt<Wi.hours||Vt===Wi.hours&&Vn<Wi.minutes;if(zr.hours<Wi.hours){if(os&&bi)return!0}else if(os||bi)return!0}else if(pi.hours===Vt&&pi.minutes===Vn)return!0;return!1});if(-1!==hr)return Mr[hr]}return function Lt(A,Z,F){const G=(0,y.H5H)(A),kt=Hn([G[y.KH2.DayPeriodsFormat],G[y.KH2.DayPeriodsStandalone]],Z);return Hn(kt,F)}(Z,Re,G)[Vt<12?0:1];case Nt.Eras:return function kn(A,Z){return Hn((0,y.H5H)(A)[y.KH2.Eras],Z)}(Z,G)[A.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${F}`)}}(Re,kt,A,Z,F,G)}}function Lr(A){return function(Z,F,G){const Re=-1*G,kt=ce(F,mn.MinusSign),Vt=Re>0?Math.floor(Re/60):Math.ceil(Re/60);switch(A){case et.Short:return(Re>=0?"+":"")+Bn(Vt,2,kt)+Bn(Math.abs(Re%60),2,kt);case et.ShortGMT:return"GMT"+(Re>=0?"+":"")+Bn(Vt,1,kt);case et.Long:return"GMT"+(Re>=0?"+":"")+Bn(Vt,2,kt)+":"+Bn(Math.abs(Re%60),2,kt);case et.Extended:return 0===G?"Z":(Re>=0?"+":"")+Bn(Vt,2,kt)+":"+Bn(Math.abs(Re%60),2,kt);default:throw new Error(`Unknown zone width "${A}"`)}}}const cr=0,jt=4;function qe(A){return At(A.getFullYear(),A.getMonth(),A.getDate()+(jt-A.getDay()))}function _t(A,Z=!1){return function(F,G){let Re;if(Z){const kt=new Date(F.getFullYear(),F.getMonth(),1).getDay()-1,Vt=F.getDate();Re=1+Math.floor((Vt+kt)/7)}else{const kt=qe(F),Vt=function st(A){const Z=At(A,cr,1).getDay();return At(A,0,1+(Z<=jt?jt:jt+7)-Z)}(kt.getFullYear()),Vn=kt.getTime()-Vt.getTime();Re=1+Math.round(Vn/6048e5)}return Bn(Re,A,ce(G,mn.MinusSign))}}function qt(A,Z=!1){return function(F,G){return Bn(qe(F).getFullYear(),A,ce(G,mn.MinusSign),Z)}}const Oe={};function $n(A,Z){A=A.replace(/:/g,"");const F=Date.parse("Jan 01, 1970 00:00:00 "+A)/6e4;return isNaN(F)?Z:F}function P(A){return A instanceof Date&&!isNaN(A.valueOf())}const H=/^(\d+)?\.((\d+)(-(\d+))?)?$/,me=22,Ie=".",ke="0",fe=";",ie=",",Ae="#";function we(A,Z,F,G,Re,kt,Vt=!1){let Vn="",wn=!1;if(isFinite(A)){let Xn=function on(A){let G,Re,kt,Vt,Vn,Z=Math.abs(A)+"",F=0;for((Re=Z.indexOf(Ie))>-1&&(Z=Z.replace(Ie,"")),(kt=Z.search(/e/i))>0?(Re<0&&(Re=kt),Re+=+Z.slice(kt+1),Z=Z.substring(0,kt)):Re<0&&(Re=Z.length),kt=0;Z.charAt(kt)===ke;kt++);if(kt===(Vn=Z.length))G=[0],Re=1;else{for(Vn--;Z.charAt(Vn)===ke;)Vn--;for(Re-=kt,G=[],Vt=0;kt<=Vn;kt++,Vt++)G[Vt]=Number(Z.charAt(kt))}return Re>me&&(G=G.splice(0,me-1),F=Re-1,Re=1),{digits:G,exponent:F,integerLen:Re}}(A);Vt&&(Xn=function pn(A){if(0===A.digits[0])return A;const Z=A.digits.length-A.integerLen;return A.exponent?A.exponent+=2:(0===Z?A.digits.push(0,0):1===Z&&A.digits.push(0),A.integerLen+=2),A}(Xn));let Mr=Z.minInt,hr=Z.minFrac,pi=Z.maxFrac;if(kt){const Ii=kt.match(H);if(null===Ii)throw new Error(`${kt} is not a valid digit info`);const xs=Ii[1],Gi=Ii[3],qo=Ii[5];null!=xs&&(Mr=gn(xs)),null!=Gi&&(hr=gn(Gi)),null!=qo?pi=gn(qo):null!=Gi&&hr>pi&&(pi=hr)}!function Qn(A,Z,F){if(Z>F)throw new Error(`The minimum number of digits after fraction (${Z}) is higher than the maximum (${F}).`);let G=A.digits,Re=G.length-A.integerLen;const kt=Math.min(Math.max(Z,Re),F);let Vt=kt+A.integerLen,Vn=G[Vt];if(Vt>0){G.splice(Math.max(A.integerLen,Vt));for(let hr=Vt;hr<G.length;hr++)G[hr]=0}else{Re=Math.max(0,Re),A.integerLen=1,G.length=Math.max(1,Vt=kt+1),G[0]=0;for(let hr=1;hr<Vt;hr++)G[hr]=0}if(Vn>=5)if(Vt-1<0){for(let hr=0;hr>Vt;hr--)G.unshift(0),A.integerLen++;G.unshift(1),A.integerLen++}else G[Vt-1]++;for(;Re<Math.max(0,kt);Re++)G.push(0);let wn=0!==kt;const Xn=Z+A.integerLen,Mr=G.reduceRight(function(hr,pi,zr,Wi){return Wi[zr]=(pi+=hr)<10?pi:pi-10,wn&&(0===Wi[zr]&&zr>=Xn?Wi.pop():wn=!1),pi>=10?1:0},0);Mr&&(G.unshift(Mr),A.integerLen++)}(Xn,hr,pi);let zr=Xn.digits,Wi=Xn.integerLen;const os=Xn.exponent;let bi=[];for(wn=zr.every(Ii=>!Ii);Wi<Mr;Wi++)zr.unshift(0);for(;Wi<0;Wi++)zr.unshift(0);Wi>0?bi=zr.splice(Wi,zr.length):(bi=zr,zr=[0]);const so=[];for(zr.length>=Z.lgSize&&so.unshift(zr.splice(-Z.lgSize,zr.length).join(""));zr.length>Z.gSize;)so.unshift(zr.splice(-Z.gSize,zr.length).join(""));zr.length&&so.unshift(zr.join("")),Vn=so.join(ce(F,G)),bi.length&&(Vn+=ce(F,Re)+bi.join("")),os&&(Vn+=ce(F,mn.Exponential)+"+"+os)}else Vn=ce(F,mn.Infinity);return Vn=A<0&&!wn?Z.negPre+Vn+Z.negSuf:Z.posPre+Vn+Z.posSuf,Vn}function Zt(A,Z="-"){const F={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},G=A.split(fe),Re=G[0],kt=G[1],Vt=-1!==Re.indexOf(Ie)?Re.split(Ie):[Re.substring(0,Re.lastIndexOf(ke)+1),Re.substring(Re.lastIndexOf(ke)+1)],Vn=Vt[0],wn=Vt[1]||"";F.posPre=Vn.substring(0,Vn.indexOf(Ae));for(let Mr=0;Mr<wn.length;Mr++){const hr=wn.charAt(Mr);hr===ke?F.minFrac=F.maxFrac=Mr+1:hr===Ae?F.maxFrac=Mr+1:F.posSuf+=hr}const Xn=Vn.split(ie);if(F.gSize=Xn[1]?Xn[1].length:0,F.lgSize=Xn[2]||Xn[1]?(Xn[2]||Xn[1]).length:0,kt){const Mr=Re.length-F.posPre.length-F.posSuf.length,hr=kt.indexOf(Ae);F.negPre=kt.substring(0,hr).replace(/'/g,""),F.negSuf=kt.slice(hr+Mr).replace(/'/g,"")}else F.negPre=Z+F.posPre,F.negSuf=F.posSuf;return F}function gn(A){const Z=parseInt(A);if(isNaN(Z))throw new Error("Invalid integer literal when parsing "+A);return Z}function nn(A,Z){Z=encodeURIComponent(Z);for(const F of A.split(";")){const G=F.indexOf("="),[Re,kt]=-1==G?[F,""]:[F.slice(0,G),F.slice(G+1)];if(Re.trim()===Z)return decodeURIComponent(kt)}return null}const Pn=/\s+/,bn=[];let An=(()=>{class A{constructor(F,G,Re,kt){this._iterableDiffers=F,this._keyValueDiffers=G,this._ngEl=Re,this._renderer=kt,this.initialClasses=bn,this.stateMap=new Map}set klass(F){this.initialClasses=null!=F?F.trim().split(Pn):bn}set ngClass(F){this.rawClass="string"==typeof F?F.trim().split(Pn):F}ngDoCheck(){for(const G of this.initialClasses)this._updateState(G,!0);const F=this.rawClass;if(Array.isArray(F)||F instanceof Set)for(const G of F)this._updateState(G,!0);else if(null!=F)for(const G of Object.keys(F))this._updateState(G,!!F[G]);this._applyStateDiff()}_updateState(F,G){const Re=this.stateMap.get(F);void 0!==Re?(Re.enabled!==G&&(Re.changed=!0,Re.enabled=G),Re.touched=!0):this.stateMap.set(F,{enabled:G,changed:!0,touched:!0})}_applyStateDiff(){for(const F of this.stateMap){const G=F[0],Re=F[1];Re.changed?(this._toggleClass(G,Re.enabled),Re.changed=!1):Re.touched||(Re.enabled&&this._toggleClass(G,!1),this.stateMap.delete(G)),Re.touched=!1}}_toggleClass(F,G){(F=F.trim()).length>0&&F.split(Pn).forEach(Re=>{G?this._renderer.addClass(this._ngEl.nativeElement,Re):this._renderer.removeClass(this._ngEl.nativeElement,Re)})}static{this.\u0275fac=function(G){return new(G||A)(y.rXU(y._q3),y.rXU(y.MKu),y.rXU(y.aKT),y.rXU(y.sFG))}}static{this.\u0275dir=y.FsC({type:A,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}}return A})();class _r{constructor(Z,F,G,Re){this.$implicit=Z,this.ngForOf=F,this.index=G,this.count=Re}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Ur=(()=>{class A{set ngForOf(F){this._ngForOf=F,this._ngForOfDirty=!0}set ngForTrackBy(F){this._trackByFn=F}get ngForTrackBy(){return this._trackByFn}constructor(F,G,Re){this._viewContainer=F,this._template=G,this._differs=Re,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(F){F&&(this._template=F)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const F=this._ngForOf;!this._differ&&F&&(this._differ=this._differs.find(F).create(this.ngForTrackBy))}if(this._differ){const F=this._differ.diff(this._ngForOf);F&&this._applyChanges(F)}}_applyChanges(F){const G=this._viewContainer;F.forEachOperation((Re,kt,Vt)=>{if(null==Re.previousIndex)G.createEmbeddedView(this._template,new _r(Re.item,this._ngForOf,-1,-1),null===Vt?void 0:Vt);else if(null==Vt)G.remove(null===kt?void 0:kt);else if(null!==kt){const Vn=G.get(kt);G.move(Vn,Vt),ci(Vn,Re)}});for(let Re=0,kt=G.length;Re<kt;Re++){const Vn=G.get(Re).context;Vn.index=Re,Vn.count=kt,Vn.ngForOf=this._ngForOf}F.forEachIdentityChange(Re=>{ci(G.get(Re.currentIndex),Re)})}static ngTemplateContextGuard(F,G){return!0}static{this.\u0275fac=function(G){return new(G||A)(y.rXU(y.c1b),y.rXU(y.C4Q),y.rXU(y._q3))}}static{this.\u0275dir=y.FsC({type:A,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return A})();function ci(A,Z){A.context.$implicit=Z.item}let Er=(()=>{class A{constructor(F,G){this._viewContainer=F,this._context=new Ei,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=G}set ngIf(F){this._context.$implicit=this._context.ngIf=F,this._updateView()}set ngIfThen(F){xi("ngIfThen",F),this._thenTemplateRef=F,this._thenViewRef=null,this._updateView()}set ngIfElse(F){xi("ngIfElse",F),this._elseTemplateRef=F,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(F,G){return!0}static{this.\u0275fac=function(G){return new(G||A)(y.rXU(y.c1b),y.rXU(y.C4Q))}}static{this.\u0275dir=y.FsC({type:A,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return A})();class Ei{constructor(){this.$implicit=null,this.ngIf=null}}function xi(A,Z){if(Z&&!Z.createEmbeddedView)throw new Error(`${A} must be a TemplateRef, but received '${(0,y.Tbb)(Z)}'.`)}class So{constructor(Z,F){this._viewContainerRef=Z,this._templateRef=F,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(Z){Z&&!this._created?this.create():!Z&&this._created&&this.destroy()}}let _i=(()=>{class A{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(F){this._ngSwitch=F,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(F){this._defaultViews.push(F)}_matchCase(F){const G=F==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||G,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),G}_updateDefaultCases(F){if(this._defaultViews.length>0&&F!==this._defaultUsed){this._defaultUsed=F;for(const G of this._defaultViews)G.enforceState(F)}}static{this.\u0275fac=function(G){return new(G||A)}}static{this.\u0275dir=y.FsC({type:A,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0})}}return A})(),ac=(()=>{class A{constructor(F,G,Re){this.ngSwitch=Re,Re._addCase(),this._view=new So(F,G)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}static{this.\u0275fac=function(G){return new(G||A)(y.rXU(y.c1b),y.rXU(y.C4Q),y.rXU(_i,9))}}static{this.\u0275dir=y.FsC({type:A,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0})}}return A})();function Ci(A,Z){return new y.wOt(2100,!1)}const In=new y.nKC("DATE_PIPE_DEFAULT_TIMEZONE"),xr=new y.nKC("DATE_PIPE_DEFAULT_OPTIONS");let ui=(()=>{class A{constructor(F,G,Re){this.locale=F,this.defaultTimezone=G,this.defaultOptions=Re}transform(F,G,Re,kt){if(null==F||""===F||F!=F)return null;try{return Qt(F,G??this.defaultOptions?.dateFormat??"mediumDate",kt||this.locale,Re??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(Vt){throw Ci()}}static{this.\u0275fac=function(G){return new(G||A)(y.rXU(y.xe9,16),y.rXU(In,24),y.rXU(xr,24))}}static{this.\u0275pipe=y.EJ8({name:"date",type:A,pure:!0,standalone:!0})}}return A})(),Tr=(()=>{class A{constructor(F){this._locale=F}transform(F,G,Re){if(!Or(F))return null;Re=Re||this._locale;try{return function Et(A,Z,F){return we(A,Zt(Pe(Z,ze.Decimal),ce(Z,mn.MinusSign)),Z,mn.Group,mn.Decimal,F)}(Li(F),Re,G)}catch(kt){throw Ci()}}static{this.\u0275fac=function(G){return new(G||A)(y.rXU(y.xe9,16))}}static{this.\u0275pipe=y.EJ8({name:"number",type:A,pure:!0,standalone:!0})}}return A})(),Un=(()=>{class A{constructor(F,G="USD"){this._locale=F,this._defaultCurrencyCode=G}transform(F,G=this._defaultCurrencyCode,Re="symbol",kt,Vt){if(!Or(F))return null;Vt=Vt||this._locale,"boolean"==typeof Re&&(Re=Re?"symbol":"code");let Vn=G||this._defaultCurrencyCode;"code"!==Re&&(Vn="symbol"===Re||"symbol-narrow"===Re?function mr(A,Z,F="en"){const G=function Mn(A){return(0,y.H5H)(A)[y.KH2.Currencies]}(F)[A]||Ge[A]||[],Re=G[1];return"narrow"===Z&&"string"==typeof Re?Re:G[0]||A}(Vn,"symbol"===Re?"wide":"narrow",Vt):Re);try{return function Me(A,Z,F,G,Re){const Vt=Zt(Pe(Z,ze.Currency),ce(Z,mn.MinusSign));return Vt.minFrac=function Rt(A){let Z;const F=Ge[A];return F&&(Z=F[2]),"number"==typeof Z?Z:2}(G),Vt.maxFrac=Vt.minFrac,we(A,Vt,Z,mn.CurrencyGroup,mn.CurrencyDecimal,Re).replace("\xa4",F).replace("\xa4","").trim()}(Li(F),Vt,Vn,G,kt)}catch(wn){throw Ci()}}static{this.\u0275fac=function(G){return new(G||A)(y.rXU(y.xe9,16),y.rXU(y.Ocv,16))}}static{this.\u0275pipe=y.EJ8({name:"currency",type:A,pure:!0,standalone:!0})}}return A})();function Or(A){return!(null==A||""===A||A!=A)}function Li(A){if("string"==typeof A&&!isNaN(Number(A)-parseFloat(A)))return Number(A);if("number"!=typeof A)throw new Error(`${A} is not a number`);return A}let uo=(()=>{class A{static{this.\u0275fac=function(G){return new(G||A)}}static{this.\u0275mod=y.$C({type:A})}static{this.\u0275inj=y.G2t({})}}return A})();const $r="browser",Fi="server";function Ro(A){return A===$r}function ts(A){return A===Fi}let Ai=(()=>{class A{static{this.\u0275prov=(0,y.jDH)({token:A,providedIn:"root",factory:()=>new Co((0,y.KVO)(ae),window)})}}return A})();class Co{constructor(Z,F){this.document=Z,this.window=F,this.offset=()=>[0,0]}setOffset(Z){this.offset=Array.isArray(Z)?()=>Z:Z}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(Z){this.supportsScrolling()&&this.window.scrollTo(Z[0],Z[1])}scrollToAnchor(Z){if(!this.supportsScrolling())return;const F=function Bi(A,Z){const F=A.getElementById(Z)||A.getElementsByName(Z)[0];if(F)return F;if("function"==typeof A.createTreeWalker&&A.body&&"function"==typeof A.body.attachShadow){const G=A.createTreeWalker(A.body,NodeFilter.SHOW_ELEMENT);let Re=G.currentNode;for(;Re;){const kt=Re.shadowRoot;if(kt){const Vt=kt.getElementById(Z)||kt.querySelector(`[name="${Z}"]`);if(Vt)return Vt}Re=G.nextNode()}}return null}(this.document,Z);F&&(this.scrollToElement(F),F.focus())}setHistoryScrollRestoration(Z){this.supportsScrolling()&&(this.window.history.scrollRestoration=Z)}scrollToElement(Z){const F=Z.getBoundingClientRect(),G=F.left+this.window.pageXOffset,Re=F.top+this.window.pageYOffset,kt=this.offset();this.window.scrollTo(G-kt[0],Re-kt[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class Ao{}},1626:(hn,tt,B)=>{B.d(tt,{Qq:()=>Ot,q1:()=>H});var y=B(7705),ne=B(7673),_e=B(8455),J=B(1985),se=B(274),ae=B(5964),Ve=B(6354),Se=B(980),De=B(5558),re=B(177);class ve{}class Be{}class $e{constructor(Me){this.normalizedNames=new Map,this.lazyUpdate=null,Me?"string"==typeof Me?this.lazyInit=()=>{this.headers=new Map,Me.split("\n").forEach(Le=>{const Et=Le.indexOf(":");if(Et>0){const Zt=Le.slice(0,Et),pn=Zt.toLowerCase(),on=Le.slice(Et+1).trim();this.maybeSetNormalizedName(Zt,pn),this.headers.has(pn)?this.headers.get(pn).push(on):this.headers.set(pn,[on])}})}:typeof Headers<"u"&&Me instanceof Headers?(this.headers=new Map,Me.forEach((Le,Et)=>{this.setHeaderEntries(Et,Le)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(Me).forEach(([Le,Et])=>{this.setHeaderEntries(Le,Et)})}:this.headers=new Map}has(Me){return this.init(),this.headers.has(Me.toLowerCase())}get(Me){this.init();const Le=this.headers.get(Me.toLowerCase());return Le&&Le.length>0?Le[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(Me){return this.init(),this.headers.get(Me.toLowerCase())||null}append(Me,Le){return this.clone({name:Me,value:Le,op:"a"})}set(Me,Le){return this.clone({name:Me,value:Le,op:"s"})}delete(Me,Le){return this.clone({name:Me,value:Le,op:"d"})}maybeSetNormalizedName(Me,Le){this.normalizedNames.has(Le)||this.normalizedNames.set(Le,Me)}init(){this.lazyInit&&(this.lazyInit instanceof $e?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(Me=>this.applyUpdate(Me)),this.lazyUpdate=null))}copyFrom(Me){Me.init(),Array.from(Me.headers.keys()).forEach(Le=>{this.headers.set(Le,Me.headers.get(Le)),this.normalizedNames.set(Le,Me.normalizedNames.get(Le))})}clone(Me){const Le=new $e;return Le.lazyInit=this.lazyInit&&this.lazyInit instanceof $e?this.lazyInit:this,Le.lazyUpdate=(this.lazyUpdate||[]).concat([Me]),Le}applyUpdate(Me){const Le=Me.name.toLowerCase();switch(Me.op){case"a":case"s":let Et=Me.value;if("string"==typeof Et&&(Et=[Et]),0===Et.length)return;this.maybeSetNormalizedName(Me.name,Le);const Zt=("a"===Me.op?this.headers.get(Le):void 0)||[];Zt.push(...Et),this.headers.set(Le,Zt);break;case"d":const pn=Me.value;if(pn){let on=this.headers.get(Le);if(!on)return;on=on.filter(Qn=>-1===pn.indexOf(Qn)),0===on.length?(this.headers.delete(Le),this.normalizedNames.delete(Le)):this.headers.set(Le,on)}else this.headers.delete(Le),this.normalizedNames.delete(Le)}}setHeaderEntries(Me,Le){const Et=(Array.isArray(Le)?Le:[Le]).map(pn=>pn.toString()),Zt=Me.toLowerCase();this.headers.set(Zt,Et),this.maybeSetNormalizedName(Me,Zt)}forEach(Me){this.init(),Array.from(this.normalizedNames.keys()).forEach(Le=>Me(this.normalizedNames.get(Le),this.headers.get(Le)))}}class Tt{encodeKey(Me){return _n(Me)}encodeValue(Me){return _n(Me)}decodeKey(Me){return decodeURIComponent(Me)}decodeValue(Me){return decodeURIComponent(Me)}}const Ft=/%(\d[a-f0-9])/gi,Bt={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function _n(we){return encodeURIComponent(we).replace(Ft,(Me,Le)=>Bt[Le]??Me)}function Xt(we){return`${we}`}class be{constructor(Me={}){if(this.updates=null,this.cloneFrom=null,this.encoder=Me.encoder||new Tt,Me.fromString){if(Me.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Dt(we,Me){const Le=new Map;return we.length>0&&we.replace(/^\?/,"").split("&").forEach(Zt=>{const pn=Zt.indexOf("="),[on,Qn]=-1==pn?[Me.decodeKey(Zt),""]:[Me.decodeKey(Zt.slice(0,pn)),Me.decodeValue(Zt.slice(pn+1))],gn=Le.get(on)||[];gn.push(Qn),Le.set(on,gn)}),Le}(Me.fromString,this.encoder)}else Me.fromObject?(this.map=new Map,Object.keys(Me.fromObject).forEach(Le=>{const Et=Me.fromObject[Le],Zt=Array.isArray(Et)?Et.map(Xt):[Xt(Et)];this.map.set(Le,Zt)})):this.map=null}has(Me){return this.init(),this.map.has(Me)}get(Me){this.init();const Le=this.map.get(Me);return Le?Le[0]:null}getAll(Me){return this.init(),this.map.get(Me)||null}keys(){return this.init(),Array.from(this.map.keys())}append(Me,Le){return this.clone({param:Me,value:Le,op:"a"})}appendAll(Me){const Le=[];return Object.keys(Me).forEach(Et=>{const Zt=Me[Et];Array.isArray(Zt)?Zt.forEach(pn=>{Le.push({param:Et,value:pn,op:"a"})}):Le.push({param:Et,value:Zt,op:"a"})}),this.clone(Le)}set(Me,Le){return this.clone({param:Me,value:Le,op:"s"})}delete(Me,Le){return this.clone({param:Me,value:Le,op:"d"})}toString(){return this.init(),this.keys().map(Me=>{const Le=this.encoder.encodeKey(Me);return this.map.get(Me).map(Et=>Le+"="+this.encoder.encodeValue(Et)).join("&")}).filter(Me=>""!==Me).join("&")}clone(Me){const Le=new be({encoder:this.encoder});return Le.cloneFrom=this.cloneFrom||this,Le.updates=(this.updates||[]).concat(Me),Le}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(Me=>this.map.set(Me,this.cloneFrom.map.get(Me))),this.updates.forEach(Me=>{switch(Me.op){case"a":case"s":const Le=("a"===Me.op?this.map.get(Me.param):void 0)||[];Le.push(Xt(Me.value)),this.map.set(Me.param,Le);break;case"d":if(void 0===Me.value){this.map.delete(Me.param);break}{let Et=this.map.get(Me.param)||[];const Zt=Et.indexOf(Xt(Me.value));-1!==Zt&&Et.splice(Zt,1),Et.length>0?this.map.set(Me.param,Et):this.map.delete(Me.param)}}}),this.cloneFrom=this.updates=null)}}class ze{constructor(){this.map=new Map}set(Me,Le){return this.map.set(Me,Le),this}get(Me){return this.map.has(Me)||this.map.set(Me,Me.defaultValue()),this.map.get(Me)}delete(Me){return this.map.delete(Me),this}has(Me){return this.map.has(Me)}keys(){return this.map.keys()}}function dt(we){return typeof ArrayBuffer<"u"&&we instanceof ArrayBuffer}function xt(we){return typeof Blob<"u"&&we instanceof Blob}function Yt(we){return typeof FormData<"u"&&we instanceof FormData}class vn{constructor(Me,Le,Et,Zt){let pn;if(this.url=Le,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=Me.toUpperCase(),function Ke(we){switch(we){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||Zt?(this.body=void 0!==Et?Et:null,pn=Zt):pn=Et,pn&&(this.reportProgress=!!pn.reportProgress,this.withCredentials=!!pn.withCredentials,pn.responseType&&(this.responseType=pn.responseType),pn.headers&&(this.headers=pn.headers),pn.context&&(this.context=pn.context),pn.params&&(this.params=pn.params)),this.headers||(this.headers=new $e),this.context||(this.context=new ze),this.params){const on=this.params.toString();if(0===on.length)this.urlWithParams=Le;else{const Qn=Le.indexOf("?");this.urlWithParams=Le+(-1===Qn?"?":Qn<Le.length-1?"&":"")+on}}else this.params=new be,this.urlWithParams=Le}serializeBody(){return null===this.body?null:dt(this.body)||xt(this.body)||Yt(this.body)||function mn(we){return typeof URLSearchParams<"u"&&we instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof be?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Yt(this.body)?null:xt(this.body)?this.body.type||null:dt(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof be?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(Me={}){const Le=Me.method||this.method,Et=Me.url||this.url,Zt=Me.responseType||this.responseType,pn=void 0!==Me.body?Me.body:this.body,on=void 0!==Me.withCredentials?Me.withCredentials:this.withCredentials,Qn=void 0!==Me.reportProgress?Me.reportProgress:this.reportProgress;let gn=Me.headers||this.headers,ti=Me.params||this.params;const mt=Me.context??this.context;return void 0!==Me.setHeaders&&(gn=Object.keys(Me.setHeaders).reduce((Je,St)=>Je.set(St,Me.setHeaders[St]),gn)),Me.setParams&&(ti=Object.keys(Me.setParams).reduce((Je,St)=>Je.set(St,Me.setParams[St]),ti)),new vn(Le,Et,pn,{params:ti,headers:gn,context:mt,reportProgress:Qn,responseType:Zt,withCredentials:on})}}var qn=function(we){return we[we.Sent=0]="Sent",we[we.UploadProgress=1]="UploadProgress",we[we.ResponseHeader=2]="ResponseHeader",we[we.DownloadProgress=3]="DownloadProgress",we[we.Response=4]="Response",we[we.User=5]="User",we}(qn||{});class Lt{constructor(Me,Le=200,Et="OK"){this.headers=Me.headers||new $e,this.status=void 0!==Me.status?Me.status:Le,this.statusText=Me.statusText||Et,this.url=Me.url||null,this.ok=this.status>=200&&this.status<300}}class ht extends Lt{constructor(Me={}){super(Me),this.type=qn.ResponseHeader}clone(Me={}){return new ht({headers:Me.headers||this.headers,status:void 0!==Me.status?Me.status:this.status,statusText:Me.statusText||this.statusText,url:Me.url||this.url||void 0})}}class Ht extends Lt{constructor(Me={}){super(Me),this.type=qn.Response,this.body=void 0!==Me.body?Me.body:null}clone(Me={}){return new Ht({body:void 0!==Me.body?Me.body:this.body,headers:Me.headers||this.headers,status:void 0!==Me.status?Me.status:this.status,statusText:Me.statusText||this.statusText,url:Me.url||this.url||void 0})}}class kn extends Lt{constructor(Me){super(Me,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${Me.url||"(unknown url)"}`:`Http failure response for ${Me.url||"(unknown url)"}: ${Me.status} ${Me.statusText}`,this.error=Me.error||null}}function ln(we,Me){return{body:Me,headers:we.headers,context:we.context,observe:we.observe,params:we.params,reportProgress:we.reportProgress,responseType:we.responseType,withCredentials:we.withCredentials}}let Ot=(()=>{class we{constructor(Le){this.handler=Le}request(Le,Et,Zt={}){let pn;if(Le instanceof vn)pn=Le;else{let gn,ti;gn=Zt.headers instanceof $e?Zt.headers:new $e(Zt.headers),Zt.params&&(ti=Zt.params instanceof be?Zt.params:new be({fromObject:Zt.params})),pn=new vn(Le,Et,void 0!==Zt.body?Zt.body:null,{headers:gn,context:Zt.context,params:ti,reportProgress:Zt.reportProgress,responseType:Zt.responseType||"json",withCredentials:Zt.withCredentials})}const on=(0,ne.of)(pn).pipe((0,se.H)(gn=>this.handler.handle(gn)));if(Le instanceof vn||"events"===Zt.observe)return on;const Qn=on.pipe((0,ae.p)(gn=>gn instanceof Ht));switch(Zt.observe||"body"){case"body":switch(pn.responseType){case"arraybuffer":return Qn.pipe((0,Ve.T)(gn=>{if(null!==gn.body&&!(gn.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return gn.body}));case"blob":return Qn.pipe((0,Ve.T)(gn=>{if(null!==gn.body&&!(gn.body instanceof Blob))throw new Error("Response is not a Blob.");return gn.body}));case"text":return Qn.pipe((0,Ve.T)(gn=>{if(null!==gn.body&&"string"!=typeof gn.body)throw new Error("Response is not a string.");return gn.body}));default:return Qn.pipe((0,Ve.T)(gn=>gn.body))}case"response":return Qn;default:throw new Error(`Unreachable: unhandled observe type ${Zt.observe}}`)}}delete(Le,Et={}){return this.request("DELETE",Le,Et)}get(Le,Et={}){return this.request("GET",Le,Et)}head(Le,Et={}){return this.request("HEAD",Le,Et)}jsonp(Le,Et){return this.request("JSONP",Le,{params:(new be).append(Et,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(Le,Et={}){return this.request("OPTIONS",Le,Et)}patch(Le,Et,Zt={}){return this.request("PATCH",Le,ln(Zt,Et))}post(Le,Et,Zt={}){return this.request("POST",Le,ln(Zt,Et))}put(Le,Et,Zt={}){return this.request("PUT",Le,ln(Zt,Et))}static{this.\u0275fac=function(Et){return new(Et||we)(y.KVO(ve))}}static{this.\u0275prov=y.jDH({token:we,factory:we.\u0275fac})}}return we})();function It(we,Me){return Me(we)}function Mn(we,Me){return(Le,Et)=>Me.intercept(Le,{handle:Zt=>we(Zt,Et)})}const un=new y.nKC(""),Rn=new y.nKC(""),zn=new y.nKC("");function pr(){let we=null;return(Me,Le)=>{null===we&&(we=((0,y.WQX)(un,{optional:!0})??[]).reduceRight(Mn,It));const Et=(0,y.WQX)(y.$K3),Zt=Et.add();return we(Me,Le).pipe((0,Se.j)(()=>Et.remove(Zt)))}}let Hn=(()=>{class we extends ve{constructor(Le,Et){super(),this.backend=Le,this.injector=Et,this.chain=null,this.pendingTasks=(0,y.WQX)(y.$K3)}handle(Le){if(null===this.chain){const Zt=Array.from(new Set([...this.injector.get(Rn),...this.injector.get(zn,[])]));this.chain=Zt.reduceRight((pn,on)=>function sr(we,Me,Le){return(Et,Zt)=>Le.runInContext(()=>Me(Et,pn=>we(pn,Zt)))}(pn,on,this.injector),It)}const Et=this.pendingTasks.add();return this.chain(Le,Zt=>this.backend.handle(Zt)).pipe((0,Se.j)(()=>this.pendingTasks.remove(Et)))}static{this.\u0275fac=function(Et){return new(Et||we)(y.KVO(Be),y.KVO(y.uvJ))}}static{this.\u0275prov=y.jDH({token:we,factory:we.\u0275fac})}}return we})();const At=/^\)\]\}',?\n/;let rn=(()=>{class we{constructor(Le){this.xhrFactory=Le}handle(Le){if("JSONP"===Le.method)throw new y.wOt(-2800,!1);const Et=this.xhrFactory;return(Et.\u0275loadImpl?(0,_e.H)(Et.\u0275loadImpl()):(0,ne.of)(null)).pipe((0,De.n)(()=>new J.c(pn=>{const on=Et.build();if(on.open(Le.method,Le.urlWithParams),Le.withCredentials&&(on.withCredentials=!0),Le.headers.forEach((bn,An)=>on.setRequestHeader(bn,An.join(","))),Le.headers.has("Accept")||on.setRequestHeader("Accept","application/json, text/plain, */*"),!Le.headers.has("Content-Type")){const bn=Le.detectContentTypeHeader();null!==bn&&on.setRequestHeader("Content-Type",bn)}if(Le.responseType){const bn=Le.responseType.toLowerCase();on.responseType="json"!==bn?bn:"text"}const Qn=Le.serializeBody();let gn=null;const ti=()=>{if(null!==gn)return gn;const bn=on.statusText||"OK",An=new $e(on.getAllResponseHeaders()),br=function an(we){return"responseURL"in we&&we.responseURL?we.responseURL:/^X-Request-URL:/m.test(we.getAllResponseHeaders())?we.getResponseHeader("X-Request-URL"):null}(on)||Le.url;return gn=new ht({headers:An,status:on.status,statusText:bn,url:br}),gn},mt=()=>{let{headers:bn,status:An,statusText:br,url:Fr}=ti(),_r=null;204!==An&&(_r=typeof on.response>"u"?on.responseText:on.response),0===An&&(An=_r?200:0);let Ur=An>=200&&An<300;if("json"===Le.responseType&&"string"==typeof _r){const ci=_r;_r=_r.replace(At,"");try{_r=""!==_r?JSON.parse(_r):null}catch(wo){_r=ci,Ur&&(Ur=!1,_r={error:wo,text:_r})}}Ur?(pn.next(new Ht({body:_r,headers:bn,status:An,statusText:br,url:Fr||void 0})),pn.complete()):pn.error(new kn({error:_r,headers:bn,status:An,statusText:br,url:Fr||void 0}))},Je=bn=>{const{url:An}=ti(),br=new kn({error:bn,status:on.status||0,statusText:on.statusText||"Unknown Error",url:An||void 0});pn.error(br)};let St=!1;const nn=bn=>{St||(pn.next(ti()),St=!0);let An={type:qn.DownloadProgress,loaded:bn.loaded};bn.lengthComputable&&(An.total=bn.total),"text"===Le.responseType&&on.responseText&&(An.partialText=on.responseText),pn.next(An)},Pn=bn=>{let An={type:qn.UploadProgress,loaded:bn.loaded};bn.lengthComputable&&(An.total=bn.total),pn.next(An)};return on.addEventListener("load",mt),on.addEventListener("error",Je),on.addEventListener("timeout",Je),on.addEventListener("abort",Je),Le.reportProgress&&(on.addEventListener("progress",nn),null!==Qn&&on.upload&&on.upload.addEventListener("progress",Pn)),on.send(Qn),pn.next({type:qn.Sent}),()=>{on.removeEventListener("error",Je),on.removeEventListener("abort",Je),on.removeEventListener("load",mt),on.removeEventListener("timeout",Je),Le.reportProgress&&(on.removeEventListener("progress",nn),null!==Qn&&on.upload&&on.upload.removeEventListener("progress",Pn)),on.readyState!==on.DONE&&on.abort()}})))}static{this.\u0275fac=function(Et){return new(Et||we)(y.KVO(re.N0))}}static{this.\u0275prov=y.jDH({token:we,factory:we.\u0275fac})}}return we})();const Bn=new y.nKC("XSRF_ENABLED"),Jt=new y.nKC("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),On=new y.nKC("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class mi{}let Lr=(()=>{class we{constructor(Le,Et,Zt){this.doc=Le,this.platform=Et,this.cookieName=Zt,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const Le=this.doc.cookie||"";return Le!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,re._b)(Le,this.cookieName),this.lastCookieString=Le),this.lastToken}static{this.\u0275fac=function(Et){return new(Et||we)(y.KVO(re.qQ),y.KVO(y.Agw),y.KVO(Jt))}}static{this.\u0275prov=y.jDH({token:we,factory:we.\u0275fac})}}return we})();function cr(we,Me){const Le=we.url.toLowerCase();if(!(0,y.WQX)(Bn)||"GET"===we.method||"HEAD"===we.method||Le.startsWith("http://")||Le.startsWith("https://"))return Me(we);const Et=(0,y.WQX)(mi).getToken(),Zt=(0,y.WQX)(On);return null!=Et&&!we.headers.has(Zt)&&(we=we.clone({headers:we.headers.set(Zt,Et)})),Me(we)}var st=function(we){return we[we.Interceptors=0]="Interceptors",we[we.LegacyInterceptors=1]="LegacyInterceptors",we[we.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",we[we.NoXsrfProtection=3]="NoXsrfProtection",we[we.JsonpSupport=4]="JsonpSupport",we[we.RequestsMadeViaParent=5]="RequestsMadeViaParent",we[we.Fetch=6]="Fetch",we}(st||{});function qe(we,Me){return{\u0275kind:we,\u0275providers:Me}}function _t(...we){const Me=[Ot,rn,Hn,{provide:ve,useExisting:Hn},{provide:Be,useExisting:rn},{provide:Rn,useValue:cr,multi:!0},{provide:Bn,useValue:!0},{provide:mi,useClass:Lr}];for(const Le of we)Me.push(...Le.\u0275providers);return(0,y.EmA)(Me)}const Oe=new y.nKC("LEGACY_INTERCEPTOR_FN");let H=(()=>{class we{static{this.\u0275fac=function(Et){return new(Et||we)}}static{this.\u0275mod=y.$C({type:we})}static{this.\u0275inj=y.G2t({providers:[_t(qe(st.LegacyInterceptors,[{provide:Oe,useFactory:pr},{provide:Rn,useExisting:Oe,multi:!0}]))]})}}return we})()},7705:(hn,tt,B)=>{B.d(tt,{$C:()=>qs,$GK:()=>et,$K3:()=>Zk,$MX:()=>Jc,AVh:()=>$d,Agw:()=>A2,B4B:()=>bf,BIS:()=>v_,BMQ:()=>e,C4Q:()=>Z0,C5r:()=>Dk,Co$:()=>Hv,DNE:()=>d0,E5c:()=>Ap,EFF:()=>Wd,EJ8:()=>Yi,EmA:()=>$1,FsC:()=>ks,G2t:()=>zn,GBs:()=>Ek,GFd:()=>gg,H3F:()=>Qk,H5H:()=>En,H8p:()=>nc,HJs:()=>u3,HbH:()=>Mm,Hbi:()=>W5,JRh:()=>co,JZv:()=>rn,Jv_:()=>zv,KH2:()=>Bo,KVO:()=>fe,Kcf:()=>sf,L39:()=>c3,LfX:()=>Hn,Lme:()=>T0,MKu:()=>l_,Mr5:()=>yu,Mz_:()=>Pl,NAR:()=>Hd,NEm:()=>w5,NYb:()=>v5,Njj:()=>ss,O8t:()=>kt,OA$:()=>hr,OM3:()=>Yu,Ocv:()=>KM,Ol2:()=>qv,PLl:()=>Af,QTQ:()=>Ly,Ql9:()=>XM,QuC:()=>Ji,R7$:()=>Vy,RV6:()=>yp,Rfq:()=>Tt,RxE:()=>yy,SKi:()=>Zi,SdG:()=>pm,SpI:()=>Cp,TL$:()=>ny,Tbb:()=>Be,UyX:()=>oy,VBU:()=>Pr,Vns:()=>p1,Vt3:()=>nm,WHO:()=>tb,WPN:()=>ru,WQX:()=>Ae,XpG:()=>v0,Xx1:()=>W,Y8G:()=>ys,Z63:()=>xh,ZF7:()=>nu,_9s:()=>Ju,_q3:()=>c_,aKT:()=>Cl,aNF:()=>Wv,bIt:()=>gp,bVm:()=>mp,bc$:()=>__,bkB:()=>na,c1b:()=>Wm,cWb:()=>h2,czy:()=>Ya,e01:()=>nb,e5t:()=>af,eBV:()=>Mi,eq3:()=>ek,eu8:()=>Zh,fpN:()=>$5,gRc:()=>S5,gXe:()=>on,giA:()=>rb,h9k:()=>Gu,hnV:()=>Kk,i5U:()=>lk,iLQ:()=>t_,ii3:()=>uk,j41:()=>Kh,jDH:()=>un,jNT:()=>Yh,joV:()=>Mc,k0s:()=>Qh,kS0:()=>Ql,kdw:()=>ye,lJ4:()=>Jv,lNU:()=>Xt,l_i:()=>tk,lsd:()=>Ck,mGM:()=>wk,mq5:()=>gs,n$t:()=>v2,nI1:()=>ck,nKC:()=>Jt,nrm:()=>m0,o8S:()=>Op,oH4:()=>ab,osQ:()=>sy,plB:()=>$g,qSk:()=>Ta,qex:()=>fp,rOR:()=>Um,rXU:()=>td,rcV:()=>kl,sFG:()=>M_,sZ2:()=>hy,sdS:()=>hp,uvJ:()=>Dc,w6W:()=>j4,wOt:()=>be,wni:()=>xk,xGo:()=>Tu,xc7:()=>Vi,xe9:()=>Km,xvI:()=>Vh,zZn:()=>ka,zcH:()=>au,zjR:()=>du});var y=B(1413),ne=B(8359),_e=B(1985),J=B(7786),se=B(4412),ae=B(7673),Ve=B(7647),Se=B(5558),De=B(3294);function re(t){for(let n in t)if(t[n]===re)return n;throw Error("Could not find renamed property on target object.")}function ve(t,n){for(const i in n)n.hasOwnProperty(i)&&!t.hasOwnProperty(i)&&(t[i]=n[i])}function Be(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(Be).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const n=t.toString();if(null==n)return""+n;const i=n.indexOf("\n");return-1===i?n:n.substring(0,i)}function $e(t,n){return null==t||""===t?null===n?"":n:null==n||""===n?t:t+" "+n}const lt=re({__forward_ref__:re});function Tt(t){return t.__forward_ref__=Tt,t.toString=function(){return Be(this())},t}function Dt(t){return Ft(t)?t():t}function Ft(t){return"function"==typeof t&&t.hasOwnProperty(lt)&&t.__forward_ref__===Tt}function Bt(t){return t&&!!t.\u0275providers}const Xt="https://g.co/ng/security#xss";class be extends Error{constructor(n,i){super(function Ge(t,n){return`NG0${Math.abs(t)}${n?": "+n:""}`}(n,i)),this.code=n}}function ze(t){return"string"==typeof t?t:null==t?"":String(t)}function mn(t,n){throw new be(-201,!1)}function Ct(t,n){null==t&&function pt(t,n,i,s){throw new Error(`ASSERTION ERROR: ${t}`+(null==s?"":` [Expected=> ${i} ${s} ${n} <=Actual]`))}(n,t,null,"!=")}function un(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function zn(t){return{providers:t.providers||[],imports:t.imports||[]}}function pr(t){return fr(t,Rt)||fr(t,xe)}function Hn(t){return null!==pr(t)}function fr(t,n){return t.hasOwnProperty(n)?t[n]:null}function yn(t){return t&&(t.hasOwnProperty(oe)||t.hasOwnProperty(Ce))?t[oe]:null}const Rt=re({\u0275prov:re}),oe=re({\u0275inj:re}),xe=re({ngInjectableDef:re}),Ce=re({ngInjectorDef:re});var et=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(et||{});let Xe;function Qt(t){const n=Xe;return Xe=t,n}function At(t,n,i){const s=pr(t);return s&&"root"==s.providedIn?void 0===s.value?s.value=s.factory():s.value:i&et.Optional?null:void 0!==n?n:void mn(Be(t))}const rn=globalThis;class Jt{constructor(n,i){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof i?this.__NG_ELEMENT_ID__=i:void 0!==i&&(this.\u0275prov=un({token:this,providedIn:i.providedIn||"root",factory:i.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Nn={},$n="__NG_DI_FLAG__",ar="ngTempTokenPath",he=/\n/gm,P="__source";let H;function Ie(t){const n=H;return H=t,n}function ke(t,n=et.Default){if(void 0===H)throw new be(-203,!1);return null===H?At(t,void 0,n):H.get(t,n&et.Optional?null:void 0,n)}function fe(t,n=et.Default){return(function Nt(){return Xe}()||ke)(Dt(t),n)}function Ae(t,n=et.Default){return fe(t,rt(n))}function rt(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Gt(t){const n=[];for(let i=0;i<t.length;i++){const s=Dt(t[i]);if(Array.isArray(s)){if(0===s.length)throw new be(900,!1);let l,u=et.Default;for(let v=0;v<s.length;v++){const E=s[v],T=Me(E);"number"==typeof T?-1===T?l=E.token:u|=T:l=E}n.push(fe(l,u))}else n.push(fe(s))}return n}function we(t,n){return t[$n]=n,t.prototype[$n]=n,t}function Me(t){return t[$n]}function Zt(t){return{toString:t}.toString()}var pn=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(pn||{}),on=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(on||{});const Qn={},gn=[],ti=re({\u0275cmp:re}),mt=re({\u0275dir:re}),Je=re({\u0275pipe:re}),St=re({\u0275mod:re}),nn=re({\u0275fac:re}),Pn=re({__NG_ELEMENT_ID__:re}),bn=re({__NG_ENV_ID__:re});function An(t,n,i){let s=t.length;for(;;){const l=t.indexOf(n,i);if(-1===l)return l;if(0===l||t.charCodeAt(l-1)<=32){const u=n.length;if(l+u===s||t.charCodeAt(l+u)<=32)return l}i=l+1}}function br(t,n,i){let s=0;for(;s<i.length;){const l=i[s];if("number"==typeof l){if(0!==l)break;s++;const u=i[s++],v=i[s++],E=i[s++];t.setAttribute(n,v,E,u)}else{const u=l,v=i[++s];_r(u)?t.setProperty(n,u,v):t.setAttribute(n,u,v),s++}}return s}function Fr(t){return 3===t||4===t||6===t}function _r(t){return 64===t.charCodeAt(0)}function Ur(t,n){if(null!==n&&0!==n.length)if(null===t||0===t.length)t=n.slice();else{let i=-1;for(let s=0;s<n.length;s++){const l=n[s];"number"==typeof l?i=l:0===i||ci(t,i,l,null,-1===i||2===i?n[++s]:null)}}return t}function ci(t,n,i,s,l){let u=0,v=t.length;if(-1===n)v=-1;else for(;u<t.length;){const E=t[u++];if("number"==typeof E){if(E===n){v=-1;break}if(E>n){v=u-1;break}}}for(;u<t.length;){const E=t[u];if("number"==typeof E)break;if(E===i){if(null===s)return void(null!==l&&(t[u+1]=l));if(s===t[u+1])return void(t[u+2]=l)}u++,null!==s&&u++,null!==l&&u++}-1!==v&&(t.splice(v,0,n),u=v+1),t.splice(u++,0,i),null!==s&&t.splice(u++,0,s),null!==l&&t.splice(u++,0,l)}const wo="ng-template";function Er(t,n,i){let s=0,l=!0;for(;s<t.length;){let u=t[s++];if("string"==typeof u&&l){const v=t[s++];if(i&&"class"===u&&-1!==An(v.toLowerCase(),n,0))return!0}else{if(1===u){for(;s<t.length&&"string"==typeof(u=t[s++]);)if(u.toLowerCase()===n)return!0;return!1}"number"==typeof u&&(l=!1)}}return!1}function Ei(t){return 4===t.type&&t.value!==wo}function xi(t,n,i){return n===(4!==t.type||i?t.value:wo)}function So(t,n,i){let s=4;const l=t.attrs||[],u=function Ea(t){for(let n=0;n<t.length;n++)if(Fr(t[n]))return n;return t.length}(l);let v=!1;for(let E=0;E<n.length;E++){const T=n[E];if("number"!=typeof T){if(!v)if(4&s){if(s=2|1&s,""!==T&&!xi(t,T,i)||""===T&&1===n.length){if(_i(s))return!1;v=!0}}else{const j=8&s?T:n[++E];if(8&s&&null!==t.attrs){if(!Er(t.attrs,j,i)){if(_i(s))return!1;v=!0}continue}const Ee=ac(8&s?"class":T,l,Ei(t),i);if(-1===Ee){if(_i(s))return!1;v=!0;continue}if(""!==j){let Ze;Ze=Ee>u?"":l[Ee+1].toLowerCase();const at=8&s?Ze:null;if(at&&-1!==An(at,j,0)||2&s&&j!==Ze){if(_i(s))return!1;v=!0}}}}else{if(!v&&!_i(s)&&!_i(T))return!1;if(v&&_i(T))continue;v=!1,s=T|1&s}}return _i(s)||v}function _i(t){return 0==(1&t)}function ac(t,n,i,s){if(null===n)return-1;let l=0;if(s||!i){let u=!1;for(;l<n.length;){const v=n[l];if(v===t)return l;if(3===v||6===v)u=!0;else{if(1===v||2===v){let E=n[++l];for(;"string"==typeof E;)E=n[++l];continue}if(4===v)break;if(0===v){l+=4;continue}}l+=u?1:2}return-1}return function lo(t,n){let i=t.indexOf(4);if(i>-1)for(i++;i<t.length;){const s=t[i];if("number"==typeof s)return-1;if(s===n)return i;i++}return-1}(n,t)}function wa(t,n,i=!1){for(let s=0;s<n.length;s++)if(So(t,n[s],i))return!0;return!1}function oa(t,n){e:for(let i=0;i<n.length;i++){const s=n[i];if(t.length===s.length){for(let l=0;l<t.length;l++)if(t[l]!==s[l])continue e;return!0}}return!1}function Us(t,n){return t?":not("+n.trim()+")":n}function jr(t){let n=t[0],i=1,s=2,l="",u=!1;for(;i<t.length;){let v=t[i];if("string"==typeof v)if(2&s){const E=t[++i];l+="["+v+(E.length>0?'="'+E+'"':"")+"]"}else 8&s?l+="."+v:4&s&&(l+=" "+v);else""!==l&&!_i(v)&&(n+=Us(u,l),l=""),s=v,u=u||!_i(s);i++}return""!==l&&(n+=Us(u,l)),n}function Pr(t){return Zt(()=>{const n=es(t),i={...n,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===pn.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||on.Emulated,styles:t.styles||gn,_:null,schemas:t.schemas||null,tView:null,id:""};Eo(i);const s=t.dependencies;return i.directiveDefs=eo(s,!1),i.pipeDefs=eo(s,!0),i.id=function to(t){let n=0;const i=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const l of i)n=Math.imul(31,n)+l.charCodeAt(0)<<0;return n+=2147483648,"c"+n}(i),i})}function jo(t){return In(t)||xr(t)}function Xi(t){return null!==t}function qs(t){return Zt(()=>({type:t.type,bootstrap:t.bootstrap||gn,declarations:t.declarations||gn,imports:t.imports||gn,exports:t.exports||gn,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function qr(t,n){if(null==t)return Qn;const i={};for(const s in t)if(t.hasOwnProperty(s)){let l=t[s],u=l;Array.isArray(l)&&(u=l[1],l=l[0]),i[l]=s,n&&(n[l]=u)}return i}function ks(t){return Zt(()=>{const n=es(t);return Eo(n),n})}function Yi(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function In(t){return t[ti]||null}function xr(t){return t[mt]||null}function ui(t){return t[Je]||null}function Ji(t){const n=In(t)||xr(t)||ui(t);return null!==n&&n.standalone}function ki(t,n){const i=t[St]||null;if(!i&&!0===n)throw new Error(`Type ${Be(t)} does not have '\u0275mod' property.`);return i}function es(t){const n={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:n,inputTransforms:null,inputConfig:t.inputs||Qn,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||gn,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:qr(t.inputs,n),outputs:qr(t.outputs)}}function Eo(t){t.features?.forEach(n=>n(t))}function eo(t,n){if(!t)return null;const i=n?ui:jo;return()=>("function"==typeof t?t():t).map(s=>i(s)).filter(Xi)}const Tr=0,fn=1,Un=2,Or=3,Li=4,no=5,yi=6,uo=7,$r=8,Fi=9,zo=10,Zn=11,Ro=12,ts=13,Ho=14,Nr=15,ls=16,Ai=17,Co=18,Bi=19,bs=20,Ao=21,Wr=22,Uo=23,Gr=24,Jn=25,Ms=1,di=2,ho=7,lr=9,Cr=11;function gi(t){return Array.isArray(t)&&"object"==typeof t[Ms]}function ni(t){return Array.isArray(t)&&!0===t[Ms]}function Ws(t){return 0!=(4&t.flags)}function ro(t){return t.componentOffset>-1}function ns(t){return 1==(1&t.flags)}function io(t){return!!t.template}function cc(t){return 0!=(512&t[Un])}function is(t,n){return t.hasOwnProperty(nn)?t[nn]:null}let hi=null,Es=!1;function ji(t){const n=hi;return hi=t,n}const Gs={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function la(t){if(!ds(t)||t.dirty){if(!t.producerMustRecompute(t)&&!Vs(t))return void(t.dirty=!1);t.producerRecomputeValue(t),t.dirty=!1}}function ua(t){t.dirty=!0,function sl(t){if(void 0===t.liveConsumerNode)return;const n=Es;Es=!0;try{for(const i of t.liveConsumerNode)i.dirty||ua(i)}finally{Es=n}}(t),t.consumerMarkedDirty?.(t)}function oo(t){return t&&(t.nextProducerIndex=0),ji(t)}function Ba(t,n){if(ji(n),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(ds(t))for(let i=t.nextProducerIndex;i<t.producerNode.length;i++)Lc(t.producerNode[i],t.producerIndexOfThis[i]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Vs(t){pc(t);for(let n=0;n<t.producerNode.length;n++){const i=t.producerNode[n],s=t.producerLastReadVersion[n];if(s!==i.version||(la(i),s!==i.version))return!0}return!1}function hc(t){if(pc(t),ds(t))for(let n=0;n<t.producerNode.length;n++)Lc(t.producerNode[n],t.producerIndexOfThis[n]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Lc(t,n){if(function fc(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}(t),pc(t),1===t.liveConsumerNode.length)for(let s=0;s<t.producerNode.length;s++)Lc(t.producerNode[s],t.producerIndexOfThis[s]);const i=t.liveConsumerNode.length-1;if(t.liveConsumerNode[n]=t.liveConsumerNode[i],t.liveConsumerIndexOfThis[n]=t.liveConsumerIndexOfThis[i],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,n<t.liveConsumerNode.length){const s=t.liveConsumerIndexOfThis[n],l=t.liveConsumerNode[n];pc(l),l.producerIndexOfThis[s]=n}}function ds(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function pc(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}let jc=null;function kt(t){const n=ji(null);try{return t()}finally{ji(n)}}const Vn=()=>{},wn=(()=>({...Gs,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule(t.ref)},hasRun:!1,cleanupFn:Vn}))();class Mr{constructor(n,i,s){this.previousValue=n,this.currentValue=i,this.firstChange=s}isFirstChange(){return this.firstChange}}function hr(){return pi}function pi(t){return t.type.prototype.ngOnChanges&&(t.setInput=Wi),zr}function zr(){const t=bi(this),n=t?.current;if(n){const i=t.previous;if(i===Qn)t.previous=n;else for(let s in n)i[s]=n[s];t.current=null,this.ngOnChanges(n)}}function Wi(t,n,i,s){const l=this.declaredInputs[i],u=bi(t)||function so(t,n){return t[os]=n}(t,{previous:Qn,current:null}),v=u.current||(u.current={}),E=u.previous,T=E[l];v[l]=new Mr(T&&T.currentValue,n,E===Qn),t[s]=n}hr.ngInherit=!0;const os="__ngSimpleChanges__";function bi(t){return t[os]||null}const Gi=function(t,n,i){},qo="svg";function oi(t){for(;Array.isArray(t);)t=t[Tr];return t}function ha(t,n){return oi(n[t])}function mo(t,n){return oi(n[t.index])}function vi(t,n){return t.data[n]}function yr(t,n){return t[n]}function yo(t,n){const i=n[t];return gi(i)?i:i[Tr]}function ja(t,n){return null==n?null:t[n]}function al(t){t[Ai]=0}function Zs(t){1024&t[Un]||(t[Un]|=1024,$o(t,1))}function za(t){1024&t[Un]&&(t[Un]&=-1025,$o(t,-1))}function $o(t,n){let i=t[Or];if(null===i)return;i[no]+=n;let s=i;for(i=i[Or];null!==i&&(1===n&&1===s[no]||-1===n&&0===s[no]);)i[no]+=n,s=i,i=i[Or]}const Yn={lFrame:As(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Xs(){return Yn.bindingsEnabled}function kc(){return null!==Yn.skipHydrationRootTNode}function $t(){return Yn.lFrame.lView}function Kr(){return Yn.lFrame.tView}function Mi(t){return Yn.lFrame.contextLView=t,t[$r]}function ss(t){return Yn.lFrame.contextLView=null,t}function zi(){let t=Ha();for(;null!==t&&64===t.type;)t=t.parent;return t}function Ha(){return Yn.lFrame.currentTNode}function Ar(t,n){const i=Yn.lFrame;i.currentTNode=t,i.isParent=n}function bc(){return Yn.lFrame.isParent}function Ia(){Yn.lFrame.isParent=!1}function wi(){const t=Yn.lFrame;let n=t.bindingRootIndex;return-1===n&&(n=t.bindingRootIndex=t.tView.bindingStartIndex),n}function Cs(){return Yn.lFrame.bindingIndex}function ps(){return Yn.lFrame.bindingIndex++}function x(t){const n=Yn.lFrame,i=n.bindingIndex;return n.bindingIndex=n.bindingIndex+t,i}function D(t,n){const i=Yn.lFrame;i.bindingIndex=i.bindingRootIndex=t,te(n)}function te(t){Yn.lFrame.currentDirectiveIndex=t}function Mt(){return Yn.lFrame.currentQueryIndex}function ft(t){Yn.lFrame.currentQueryIndex=t}function xn(t){const n=t[fn];return 2===n.type?n.declTNode:1===n.type?t[yi]:null}function ur(t,n,i){if(i&et.SkipSelf){let l=n,u=t;for(;!(l=l.parent,null!==l||i&et.Host||(l=xn(u),null===l||(u=u[Ho],10&l.type))););if(null===l)return!1;n=l,t=u}const s=Yn.lFrame=wr();return s.currentTNode=n,s.lView=t,!0}function Br(t){const n=wr(),i=t[fn];Yn.lFrame=n,n.currentTNode=i.firstChild,n.lView=t,n.tView=i,n.contextLView=t,n.bindingIndex=i.bindingStartIndex,n.inI18n=!1}function wr(){const t=Yn.lFrame,n=null===t?null:t.child;return null===n?As(t):n}function As(t){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=n),n}function Ua(){const t=Yn.lFrame;return Yn.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const To=Ua;function Ti(){const t=Ua();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function go(){return Yn.lFrame.selectedIndex}function as(t){Yn.lFrame.selectedIndex=t}function Jr(){const t=Yn.lFrame;return vi(t.tView,t.selectedIndex)}function Ta(){Yn.lFrame.currentNamespace=qo}function Mc(){!function ld(){Yn.lFrame.currentNamespace=null}()}let ql=!0;function Hc(){return ql}function fa(t){ql=t}function qa(t,n){for(let i=n.directiveStart,s=n.directiveEnd;i<s;i++){const u=t.data[i].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:E,ngAfterViewInit:T,ngAfterViewChecked:j,ngOnDestroy:Y}=u;v&&(t.contentHooks??=[]).push(-i,v),E&&((t.contentHooks??=[]).push(i,E),(t.contentCheckHooks??=[]).push(i,E)),T&&(t.viewHooks??=[]).push(-i,T),j&&((t.viewHooks??=[]).push(i,j),(t.viewCheckHooks??=[]).push(i,j)),null!=Y&&(t.destroyHooks??=[]).push(i,Y)}}function Sa(t,n,i){ud(t,n,3,i)}function Uc(t,n,i,s){(3&t[Un])===i&&ud(t,n,i,s)}function Ra(t,n){let i=t[Un];(3&i)===n&&(i&=8191,i+=1,t[Un]=i)}function ud(t,n,i,s){const u=s??-1,v=n.length-1;let E=0;for(let T=void 0!==s?65535&t[Ai]:0;T<v;T++)if("number"==typeof n[T+1]){if(E=n[T],null!=s&&E>=s)break}else n[T]<0&&(t[Ai]+=65536),(E<u||-1==u)&&(Np(t,i,n,T),t[Ai]=(4294901760&t[Ai])+T+2),T++}function ma(t,n){Gi(4,t,n);const i=ji(null);try{n.call(t)}finally{ji(i),Gi(5,t,n)}}function Np(t,n,i,s){const l=i[s]<0,u=i[s+1],E=t[l?-i[s]:i[s]];l?t[Un]>>13<t[Ai]>>16&&(3&t[Un])===n&&(t[Un]+=8192,ma(E,u)):ma(E,u)}const Hi=-1;class Pa{constructor(n,i,s){this.factory=n,this.resolving=!1,this.canSeeViewProviders=i,this.injectImpl=s}}function xu(t){return t!==Hi}function Oa(t){return 32767&t}function Js(t,n){let i=function Cu(t){return t>>16}(t),s=n;for(;i>0;)s=s[Ho],i--;return s}let Gl=!0;function $a(t){const n=Gl;return Gl=t,n}const wc=255,rh=5;let ul=0;const Wo={};function ga(t,n){const i=qc(t,n);if(-1!==i)return i;const s=n[fn];s.firstCreatePass&&(t.injectorIndex=n.length,Wa(s.data,t),Wa(n,null),Wa(s.blueprint,null));const l=ea(t,n),u=t.injectorIndex;if(xu(l)){const v=Oa(l),E=Js(l,n),T=E[fn].data;for(let j=0;j<8;j++)n[u+j]=E[v+j]|T[v+j]}return n[u+8]=l,u}function Wa(t,n){t.push(0,0,0,0,0,0,0,0,n)}function qc(t,n){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===n[t.injectorIndex+8]?-1:t.injectorIndex}function ea(t,n){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let i=0,s=null,l=n;for(;null!==l;){if(s=Du(l),null===s)return Hi;if(i++,l=l[Ho],-1!==s.injectorIndex)return s.injectorIndex|i<<16}return Hi}function $c(t,n,i){!function Au(t,n,i){let s;"string"==typeof i?s=i.charCodeAt(0)||0:i.hasOwnProperty(Pn)&&(s=i[Pn]),null==s&&(s=i[Pn]=ul++);const l=s&wc;n.data[t+(l>>rh)]|=1<<l}(t,n,i)}function Go(t,n,i){if(i&et.Optional||void 0!==t)return t;mn()}function Iu(t,n,i,s){if(i&et.Optional&&void 0===s&&(s=null),!(i&(et.Self|et.Host))){const l=t[Fi],u=Qt(void 0);try{return l?l.get(n,s,i&et.Optional):At(n,s,i&et.Optional)}finally{Qt(u)}}return Go(s,0,i)}function Ec(t,n,i,s=et.Default,l){if(null!==t){if(2048&n[Un]&&!(s&et.Self)){const v=function pd(t,n,i,s,l){let u=t,v=n;for(;null!==u&&null!==v&&2048&v[Un]&&!(512&v[Un]);){const E=Wc(u,v,i,s|et.Self,Wo);if(E!==Wo)return E;let T=u.parent;if(!T){const j=v[bs];if(j){const Y=j.get(i,Wo,s);if(Y!==Wo)return Y}T=Du(v),v=v[Ho]}u=T}return l}(t,n,i,s,Wo);if(v!==Wo)return v}const u=Wc(t,n,i,s,Wo);if(u!==Wo)return u}return Iu(n,i,s,l)}function Wc(t,n,i,s,l){const u=function hd(t){if("string"==typeof t)return t.charCodeAt(0)||0;const n=t.hasOwnProperty(Pn)?t[Pn]:void 0;return"number"==typeof n?n>=0?n&wc:y1:n}(i);if("function"==typeof u){if(!ur(n,t,s))return s&et.Host?Go(l,0,s):Iu(n,i,s,l);try{let v;if(v=u(s),null!=v||s&et.Optional)return v;mn()}finally{To()}}else if("number"==typeof u){let v=null,E=qc(t,n),T=Hi,j=s&et.Host?n[Nr][yi]:null;for((-1===E||s&et.SkipSelf)&&(T=-1===E?ea(t,n):n[E+8],T!==Hi&&hl(s,!1)?(v=n[fn],E=Oa(T),n=Js(T,n)):E=-1);-1!==E;){const Y=n[fn];if(Na(u,E,Y.data)){const Ee=dd(E,n,i,v,s,j);if(Ee!==Wo)return Ee}T=n[E+8],T!==Hi&&hl(s,n[fn].data[E+8]===j)&&Na(u,E,n)?(v=Y,E=Oa(T),n=Js(T,n)):E=-1}}return l}function dd(t,n,i,s,l,u){const v=n[fn],E=v.data[t+8],Y=ta(E,v,i,null==s?ro(E)&&Gl:s!=v&&0!=(3&E.type),l&et.Host&&u===E);return null!==Y?Ko(n,v,Y,E):Wo}function ta(t,n,i,s,l){const u=t.providerIndexes,v=n.data,E=1048575&u,T=t.directiveStart,Y=u>>20,Ze=l?E+Y:t.directiveEnd;for(let at=s?E:E+Y;at<Ze;at++){const zt=v[at];if(at<T&&i===zt||at>=T&&zt.type===i)return at}if(l){const at=v[T];if(at&&io(at)&&at.type===i)return T}return null}function Ko(t,n,i,s){let l=t[i];const u=n.data;if(function Eu(t){return t instanceof Pa}(l)){const v=l;v.resolving&&function dt(t,n){const i=n?`. Dependency path: ${n.join(" > ")} > ${t}`:"";throw new be(-200,`Circular dependency in DI detected for ${t}${i}`)}(function Ke(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():ze(t)}(u[i]));const E=$a(v.canSeeViewProviders);v.resolving=!0;const j=v.injectImpl?Qt(v.injectImpl):null;ur(t,s,et.Default);try{l=t[i]=v.factory(void 0,u,t,s),n.firstCreatePass&&i>=s.directiveStart&&function Jd(t,n,i){const{ngOnChanges:s,ngOnInit:l,ngDoCheck:u}=n.type.prototype;if(s){const v=pi(n);(i.preOrderHooks??=[]).push(t,v),(i.preOrderCheckHooks??=[]).push(t,v)}l&&(i.preOrderHooks??=[]).push(0-t,l),u&&((i.preOrderHooks??=[]).push(t,u),(i.preOrderCheckHooks??=[]).push(t,u))}(i,u[i],n)}finally{null!==j&&Qt(j),$a(E),v.resolving=!1,To()}}return l}function Na(t,n,i){return!!(i[n+(t>>rh)]&1<<t)}function hl(t,n){return!(t&et.Self||t&et.Host&&n)}class Ni{constructor(n,i){this._tNode=n,this._lView=i}get(n,i,s){return Ec(this._tNode,this._lView,n,rt(s),i)}}function y1(){return new Ni(zi(),$t())}function Tu(t){return Zt(()=>{const n=t.prototype.constructor,i=n[nn]||Kl(n),s=Object.prototype;let l=Object.getPrototypeOf(t.prototype).constructor;for(;l&&l!==s;){const u=l[nn]||Kl(l);if(u&&u!==i)return u;l=Object.getPrototypeOf(l)}return u=>new u})}function Kl(t){return Ft(t)?()=>{const n=Kl(Dt(t));return n&&n()}:is(t)}function Du(t){const n=t[fn],i=n.type;return 2===i?n.declTNode:1===i?t[yi]:null}function Ql(t){return function dl(t,n){if("class"===n)return t.classes;if("style"===n)return t.styles;const i=t.attrs;if(i){const s=i.length;let l=0;for(;l<s;){const u=i[l];if(Fr(u))break;if(0===u)l+=2;else if("number"==typeof u)for(l++;l<s&&"string"==typeof i[l];)l++;else{if(u===n)return i[l+1];l+=2}}}return null}(zi(),t)}const Gc="__parameters__";function Qc(t,n,i){return Zt(()=>{const s=function Su(t){return function(...i){if(t){const s=t(...i);for(const l in s)this[l]=s[l]}}}(n);function l(...u){if(this instanceof l)return s.apply(this,u),this;const v=new l(...u);return E.annotation=v,E;function E(T,j,Y){const Ee=T.hasOwnProperty(Gc)?T[Gc]:Object.defineProperty(T,Gc,{value:[]})[Gc];for(;Ee.length<=Y;)Ee.push(null);return(Ee[Y]=Ee[Y]||[]).push(v),T}}return i&&(l.prototype=Object.create(i.prototype)),l.prototype.ngMetadataName=t,l.annotationCls=l,l})}function ml(t,n){t.forEach(i=>Array.isArray(i)?ml(i,n):n(i))}function Xl(t,n,i){n>=t.length?t.push(i):t.splice(n,0,i)}function Qa(t,n){return n>=t.length-1?t.pop():t.splice(n,1)[0]}function Yl(t,n){const i=[];for(let s=0;s<t;s++)i.push(n);return i}function Qo(t,n,i){let s=Cc(t,n);return s>=0?t[1|s]=i:(s=~s,function Nu(t,n,i,s){let l=t.length;if(l==n)t.push(i,s);else if(1===l)t.push(s,t[0]),t[0]=i;else{for(l--,t.push(t[l-1],t[l]);l>n;)t[l]=t[l-2],l--;t[n]=i,t[n+1]=s}}(t,s,n,i)),s}function Jl(t,n){const i=Cc(t,n);if(i>=0)return t[1|i]}function Cc(t,n){return function fd(t,n,i){let s=0,l=t.length>>i;for(;l!==s;){const u=s+(l-s>>1),v=t[u<<i];if(n===v)return u<<i;v>n?l=u:s=u+1}return~(l<<i)}(t,n,1)}const W=we(Qc("Optional"),8),ye=we(Qc("SkipSelf"),4);function ju(t){return 128==(128&t.flags)}var Ya=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Ya||{});const Bp=/^>|^->|<!--|-->|--!>|<!-$/g,e2=/(<|>)/g,M1="\u200b$1\u200b";const gd=new Map;let t2=0;const x1="__ngContext__";function Ss(t,n){gi(n)?(t[x1]=n[Bi],function n2(t){gd.set(t[Bi],t)}(n)):t[x1]=n}let _d;function vd(t,n){return _d(t,n)}function Ic(t){const n=t[Or];return ni(n)?n[Or]:n}function w(t){return _(t[Ro])}function h(t){return _(t[Li])}function _(t){for(;null!==t&&!ni(t);)t=t[Li];return t}function I(t,n,i,s,l){if(null!=s){let u,v=!1;ni(s)?u=s:gi(s)&&(v=!0,s=s[Tr]);const E=oi(s);0===t&&null!==i?null==l?Md(n,i,E):ec(n,i,E,l||null,!0):1===t&&null!==i?ec(n,i,E,l||null,!0):2===t?function Ed(t,n,i){const s=O1(t,n);s&&function yh(t,n,i,s){t.removeChild(n,i,s)}(t,s,n,i)}(n,E,v):3===t&&n.destroyNode(E),null!=u&&function ey(t,n,i,s,l){const u=i[ho];u!==oi(i)&&I(n,t,s,u,l);for(let E=Cr;E<i.length;E++){const T=i[E];xd(T[fn],T,t,n,s,u)}}(n,t,u,i,l)}}function Ye(t,n){return t.createComment(function jp(t){return t.replace(Bp,n=>n.replace(e2,M1))}(n))}function vt(t,n,i){return t.createElement(n,i)}function Tc(t,n){const i=t[lr],s=i.indexOf(n);za(n),i.splice(s,1)}function Ja(t,n){if(t.length<=Cr)return;const i=Cr+n,s=t[i];if(s){const l=s[ls];null!==l&&l!==t&&Tc(l,s),n>0&&(t[i-1][Li]=s[Li]);const u=Qa(t,Cr+n);!function Kt(t,n){xd(t,n,n[Zn],2,null,null),n[Tr]=null,n[yi]=null}(s[fn],s);const v=u[Co];null!==v&&v.detachView(u[fn]),s[Or]=null,s[Li]=null,s[Un]&=-129}return s}function vl(t,n){if(!(256&n[Un])){const i=n[Zn];n[Uo]&&hc(n[Uo]),n[Gr]&&hc(n[Gr]),i.destroyNode&&xd(t,n,i,3,null,null),function gr(t){let n=t[Ro];if(!n)return kd(t[fn],t);for(;n;){let i=null;if(gi(n))i=n[Ro];else{const s=n[Cr];s&&(i=s)}if(!i){for(;n&&!n[Li]&&n!==t;)gi(n)&&kd(n[fn],n),n=n[Or];null===n&&(n=t),gi(n)&&kd(n[fn],n),i=n&&n[Li]}n=i}}(n)}}function kd(t,n){if(!(256&n[Un])){n[Un]&=-129,n[Un]|=256,function mh(t,n){let i;if(null!=t&&null!=(i=t.destroyHooks))for(let s=0;s<i.length;s+=2){const l=n[i[s]];if(!(l instanceof Pa)){const u=i[s+1];if(Array.isArray(u))for(let v=0;v<u.length;v+=2){const E=l[u[v]],T=u[v+1];Gi(4,E,T);try{T.call(E)}finally{Gi(5,E,T)}}else{Gi(4,l,u);try{u.call(l)}finally{Gi(5,l,u)}}}}}(t,n),function fh(t,n){const i=t.cleanup,s=n[uo];if(null!==i)for(let u=0;u<i.length-1;u+=2)if("string"==typeof i[u]){const v=i[u+3];v>=0?s[v]():s[-v].unsubscribe(),u+=2}else i[u].call(s[i[u+1]]);null!==s&&(n[uo]=null);const l=n[Ao];if(null!==l){n[Ao]=null;for(let u=0;u<l.length;u++)(0,l[u])()}}(t,n),1===n[fn].type&&n[Zn].destroy();const i=n[ls];if(null!==i&&ni(n[Or])){i!==n[Or]&&Tc(i,n);const s=n[Co];null!==s&&s.detachView(t)}!function hh(t){gd.delete(t[Bi])}(n)}}function Uu(t,n,i){return function bd(t,n,i){let s=n;for(;null!==s&&40&s.type;)s=(n=s).parent;if(null===s)return i[Tr];{const{componentOffset:l}=s;if(l>-1){const{encapsulation:u}=t.data[s.directiveStart+l];if(u===on.None||u===on.Emulated)return null}return mo(s,i)}}(t,n.parent,i)}function ec(t,n,i,s,l){t.insertBefore(n,i,s,l)}function Md(t,n,i){t.appendChild(n,i)}function P1(t,n,i,s,l){null!==s?ec(t,n,i,s,l):Md(t,n,i)}function O1(t,n){return t.parentNode(n)}function o2(t,n,i){return Gp(t,n,i)}let gh,Cd,bh,tc,Gp=function N1(t,n,i){return 40&t.type?mo(t,i):null};function wd(t,n,i,s){const l=Uu(t,s,n),u=n[Zn],E=o2(s.parent||n[yi],s,n);if(null!=l)if(Array.isArray(i))for(let T=0;T<i.length;T++)P1(u,l,i[T],E,!1);else P1(u,l,i,E,!1);void 0!==gh&&gh(u,s,n,i,l)}function _h(t,n){if(null!==n){const i=n.type;if(3&i)return mo(n,t);if(4&i)return Kp(-1,t[n.index]);if(8&i){const s=n.child;if(null!==s)return _h(t,s);{const l=t[n.index];return ni(l)?Kp(-1,l):oi(l)}}if(32&i)return vd(n,t)()||oi(t[n.index]);{const s=L1(t,n);return null!==s?Array.isArray(s)?s[0]:_h(Ic(t[Nr]),s):_h(t,n.next)}}return null}function L1(t,n){return null!==n?t[Nr][yi].projection[n.projection]:null}function Kp(t,n){const i=Cr+t+1;if(i<n.length){const s=n[i],l=s[fn].firstChild;if(null!==l)return _h(s,l)}return n[ho]}function vh(t,n,i,s,l,u,v){for(;null!=i;){const E=s[i.index],T=i.type;if(v&&0===n&&(E&&Ss(oi(E),s),i.flags|=2),32!=(32&i.flags))if(8&T)vh(t,n,i.child,s,l,u,!1),I(n,t,l,E,u);else if(32&T){const j=vd(i,s);let Y;for(;Y=j();)I(n,t,l,Y,u);I(n,t,l,E,u)}else 16&T?Zp(t,n,s,i,l,u):I(n,t,l,E,u);i=v?i.projectionNext:i.next}}function xd(t,n,i,s,l,u){vh(i,s,t.firstChild,n,l,u,!1)}function Zp(t,n,i,s,l,u){const v=i[Nr],T=v[yi].projection[s.projection];if(Array.isArray(T))for(let j=0;j<T.length;j++)I(n,t,l,T[j],u);else{let j=T;const Y=v[Or];ju(s)&&(j.flags|=128),vh(t,n,j,Y,l,u,!0)}}function F1(t,n,i){""===i?t.removeAttribute(n,"class"):t.setAttribute(n,"class",i)}function a2(t,n,i){const{mergedAttrs:s,classes:l,styles:u}=i;null!==s&&br(t,n,s),null!==l&&F1(t,n,l),null!==u&&function ty(t,n,i){t.setAttribute(n,"style",i)}(t,n,u)}function eu(t){return function Yp(){if(void 0===Cd&&(Cd=null,rn.trustedTypes))try{Cd=rn.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Cd}()?.createHTML(t)||t}function ny(t){bh=t}function u2(t){return function Mh(){if(void 0===tc&&(tc=null,rn.trustedTypes))try{tc=rn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return tc}()?.createScriptURL(t)||t}class qu{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Xt})`}}class tf extends qu{getTypeName(){return"HTML"}}class ry extends qu{getTypeName(){return"Style"}}class nf extends qu{getTypeName(){return"Script"}}class iy extends qu{getTypeName(){return"URL"}}class rf extends qu{getTypeName(){return"ResourceURL"}}function kl(t){return t instanceof qu?t.changingThisBreaksApplicationSecurity:t}function nu(t,n){const i=function d2(t){return t instanceof qu&&t.getTypeName()||null}(t);if(null!=i&&i!==n){if("ResourceURL"===i&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${i} (see ${Xt})`)}return i===n}function sf(t){return new tf(t)}function h2(t){return new ry(t)}function oy(t){return new nf(t)}function sy(t){return new iy(t)}function af(t){return new rf(t)}class cf{constructor(n){this.inertDocumentHelper=n}getInertBodyElement(n){n="<body><remove></remove>"+n;try{const i=(new window.DOMParser).parseFromString(eu(n),"text/html").body;return null===i?this.inertDocumentHelper.getInertBodyElement(n):(i.removeChild(i.firstChild),i)}catch{return null}}}class j1{constructor(n){this.defaultDoc=n,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(n){const i=this.inertDocument.createElement("template");return i.innerHTML=eu(n),i}}const ay=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Jc(t){return(t=String(t)).match(ay)?t:"unsafe:"+t}function bl(t){const n={};for(const i of t.split(","))n[i]=!0;return n}function $u(...t){const n={};for(const i of t)for(const s in i)i.hasOwnProperty(s)&&(n[s]=!0);return n}const uf=bl("area,br,col,hr,img,wbr"),Wu=bl("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),df=bl("rp,rt"),pf=$u(uf,$u(Wu,bl("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),$u(df,bl("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),$u(df,Wu)),ff=bl("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),mf=$u(ff,bl("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),bl("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),yf=bl("script,style,template");class gf{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(n){let i=n.firstChild,s=!0;for(;i;)if(i.nodeType===Node.ELEMENT_NODE?s=this.startElement(i):i.nodeType===Node.TEXT_NODE?this.chars(i.nodeValue):this.sanitizedSomething=!0,s&&i.firstChild)i=i.firstChild;else for(;i;){i.nodeType===Node.ELEMENT_NODE&&this.endElement(i);let l=this.checkClobberedElement(i,i.nextSibling);if(l){i=l;break}i=this.checkClobberedElement(i,i.parentNode)}return this.buf.join("")}startElement(n){const i=n.nodeName.toLowerCase();if(!pf.hasOwnProperty(i))return this.sanitizedSomething=!0,!yf.hasOwnProperty(i);this.buf.push("<"),this.buf.push(i);const s=n.attributes;for(let l=0;l<s.length;l++){const u=s.item(l),v=u.name,E=v.toLowerCase();if(!mf.hasOwnProperty(E)){this.sanitizedSomething=!0;continue}let T=u.value;ff[E]&&(T=Jc(T)),this.buf.push(" ",v,'="',H1(T),'"')}return this.buf.push(">"),!0}endElement(n){const i=n.nodeName.toLowerCase();pf.hasOwnProperty(i)&&!uf.hasOwnProperty(i)&&(this.buf.push("</"),this.buf.push(i),this.buf.push(">"))}chars(n){this.buf.push(H1(n))}checkClobberedElement(n,i){if(i&&(n.compareDocumentPosition(i)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`);return i}}const _f=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,z1=/([^\#-~ |!])/g;function H1(t){return t.replace(/&/g,"&amp;").replace(_f,function(n){return"&#"+(1024*(n.charCodeAt(0)-55296)+(n.charCodeAt(1)-56320)+65536)+";"}).replace(z1,function(n){return"&#"+n.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let wh;function Gu(t,n){let i=null;try{wh=wh||function p2(t){const n=new j1(t);return function lf(){try{return!!(new window.DOMParser).parseFromString(eu(""),"text/html")}catch{return!1}}()?new cf(n):n}(t);let s=n?String(n):"";i=wh.getInertBodyElement(s);let l=5,u=s;do{if(0===l)throw new Error("Failed to sanitize html because the input is unstable");l--,s=u,u=i.innerHTML,i=wh.getInertBodyElement(s)}while(s!==u);return eu((new gf).sanitizeChildren(U1(i)||i))}finally{if(i){const s=U1(i)||i;for(;s.firstChild;)s.removeChild(s.firstChild)}}}function U1(t){return"content"in t&&function vf(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var ru=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(ru||{});function bf(t){const n=Eh();return n?n.sanitize(ru.URL,t)||"":nu(t,"URL")?kl(t):Jc(ze(t))}function y2(t){const n=Eh();if(n)return u2(n.sanitize(ru.RESOURCE_URL,t)||"");if(nu(t,"ResourceURL"))return u2(kl(t));throw new be(904,!1)}function v2(t,n,i){return function _2(t,n){return"src"===n&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===n&&("base"===t||"link"===t)?y2:bf}(n,i)(t)}function Eh(){const t=$t();return t&&t[zo].sanitizer}const xh=new Jt("ENVIRONMENT_INITIALIZER"),k2=new Jt("INJECTOR",-1),b2=new Jt("INJECTOR_DEF_TYPES");class q1{get(n,i=Nn){if(i===Nn){const s=new Error(`NullInjectorError: No provider for ${Be(n)}!`);throw s.name="NullInjectorError",s}return i}}function $1(t){return{\u0275providers:t}}function Mf(...t){return{\u0275providers:M2(0,t),\u0275fromNgModule:!0}}function M2(t,...n){const i=[],s=new Set;let l;const u=v=>{i.push(v)};return ml(n,v=>{const E=v;Ch(E,u,[],s)&&(l||=[],l.push(E))}),void 0!==l&&wf(l,u),i}function wf(t,n){for(let i=0;i<t.length;i++){const{ngModule:s,providers:l}=t[i];Zr(l,u=>{n(u,s)})}}function Ch(t,n,i,s){if(!(t=Dt(t)))return!1;let l=null,u=yn(t);const v=!u&&In(t);if(u||v){if(v&&!v.standalone)return!1;l=t}else{const T=t.ngModule;if(u=yn(T),!u)return!1;l=T}const E=s.has(l);if(v){if(E)return!1;if(s.add(l),v.dependencies){const T="function"==typeof v.dependencies?v.dependencies():v.dependencies;for(const j of T)Ch(j,n,i,s)}}else{if(!u)return!1;{if(null!=u.imports&&!E){let j;s.add(l);try{ml(u.imports,Y=>{Ch(Y,n,i,s)&&(j||=[],j.push(Y))})}finally{}void 0!==j&&wf(j,n)}if(!E){const j=is(l)||(()=>new l);n({provide:l,useFactory:j,deps:gn},l),n({provide:b2,useValue:l,multi:!0},l),n({provide:xh,useValue:()=>fe(l),multi:!0},l)}const T=u.providers;if(null!=T&&!E){const j=t;Zr(T,Y=>{n(Y,j)})}}}return l!==t&&void 0!==t.providers}function Zr(t,n){for(let i of t)Bt(i)&&(i=i.\u0275providers),Array.isArray(i)?Zr(i,n):n(i)}const w2=re({provide:String,useValue:re});function W1(t){return null!==t&&"object"==typeof t&&w2 in t}function ko(t){return"function"==typeof t}const nc=new Jt("Set Injector scope."),G1={},y_={};let K1;function xf(){return void 0===K1&&(K1=new q1),K1}class Dc{}class Ku extends Dc{get destroyed(){return this._destroyed}constructor(n,i,s,l){super(),this.parent=i,this.source=s,this.scopes=l,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,C2(n,v=>this.processProvider(v)),this.records.set(k2,Ih(void 0,this)),l.has("environment")&&this.records.set(Dc,Ih(void 0,this));const u=this.records.get(nc);null!=u&&"string"==typeof u.value&&this.scopes.add(u.value),this.injectorDefTypes=new Set(this.get(b2.multi,gn,et.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const i of this._ngOnDestroyHooks)i.ngOnDestroy();const n=this._onDestroyHooks;this._onDestroyHooks=[];for(const i of n)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(n){return this.assertNotDestroyed(),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){this.assertNotDestroyed();const i=Ie(this),s=Qt(void 0);try{return n()}finally{Ie(i),Qt(s)}}get(n,i=Nn,s=et.Default){if(this.assertNotDestroyed(),n.hasOwnProperty(bn))return n[bn](this);s=rt(s);const u=Ie(this),v=Qt(void 0);try{if(!(s&et.SkipSelf)){let T=this.records.get(n);if(void 0===T){const j=function x2(t){return"function"==typeof t||"object"==typeof t&&t instanceof Jt}(n)&&pr(n);T=j&&this.injectableDefInScope(j)?Ih(Ah(n),G1):null,this.records.set(n,T)}if(null!=T)return this.hydrate(n,T)}return(s&et.Self?xf():this.parent).get(n,i=s&et.Optional&&i===Nn?null:i)}catch(E){if("NullInjectorError"===E.name){if((E[ar]=E[ar]||[]).unshift(Be(n)),u)throw E;return function Le(t,n,i,s){const l=t[ar];throw n[P]&&l.unshift(n[P]),t.message=function Et(t,n,i,s=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let l=Be(n);if(Array.isArray(n))l=n.map(Be).join(" -> ");else if("object"==typeof n){let u=[];for(let v in n)if(n.hasOwnProperty(v)){let E=n[v];u.push(v+":"+("string"==typeof E?JSON.stringify(E):Be(E)))}l=`{${u.join(", ")}}`}return`${i}${s?"("+s+")":""}[${l}]: ${t.replace(he,"\n  ")}`}("\n"+t.message,l,i,s),t.ngTokenPath=l,t[ar]=null,t}(E,n,"R3InjectorError",this.source)}throw E}finally{Qt(v),Ie(u)}}resolveInjectorInitializers(){const n=Ie(this),i=Qt(void 0);try{const l=this.get(xh.multi,gn,et.Self);for(const u of l)u()}finally{Ie(n),Qt(i)}}toString(){const n=[],i=this.records;for(const s of i.keys())n.push(Be(s));return`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new be(205,!1)}processProvider(n){let i=ko(n=Dt(n))?n:Dt(n&&n.provide);const s=function g_(t){return W1(t)?Ih(void 0,t.useValue):Ih(Si(t),G1)}(n);if(ko(n)||!0!==n.multi)this.records.get(i);else{let l=this.records.get(i);l||(l=Ih(void 0,G1,!0),l.factory=()=>Gt(l.multi),this.records.set(i,l)),i=n,l.multi.push(n)}this.records.set(i,s)}hydrate(n,i){return i.value===G1&&(i.value=y_,i.value=i.factory()),"object"==typeof i.value&&i.value&&function bo(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(i.value)&&this._ngOnDestroyHooks.add(i.value),i.value}injectableDefInScope(n){if(!n.providedIn)return!1;const i=Dt(n.providedIn);return"string"==typeof i?"any"===i||this.scopes.has(i):this.injectorDefTypes.has(i)}removeOnDestroy(n){const i=this._onDestroyHooks.indexOf(n);-1!==i&&this._onDestroyHooks.splice(i,1)}}function Ah(t){const n=pr(t),i=null!==n?n.factory:is(t);if(null!==i)return i;if(t instanceof Jt)throw new be(204,!1);if(t instanceof Function)return function uy(t){const n=t.length;if(n>0)throw Yl(n,"?"),new be(204,!1);const i=function mr(t){return t&&(t[Rt]||t[xe])||null}(t);return null!==i?()=>i.factory(t):()=>new t}(t);throw new be(204,!1)}function Si(t,n,i){let s;if(ko(t)){const l=Dt(t);return is(l)||Ah(l)}if(W1(t))s=()=>Dt(t.useValue);else if(function E2(t){return!(!t||!t.useFactory)}(t))s=()=>t.useFactory(...Gt(t.deps||[]));else if(function Id(t){return!(!t||!t.useExisting)}(t))s=()=>fe(Dt(t.useExisting));else{const l=Dt(t&&(t.useClass||t.provide));if(!function dy(t){return!!t.deps}(t))return is(l)||Ah(l);s=()=>new l(...Gt(t.deps))}return s}function Ih(t,n,i=!1){return{factory:t,value:n,multi:i?[]:void 0}}function C2(t,n){for(const i of t)Array.isArray(i)?C2(i,n):i&&Bt(i)?C2(i.\u0275providers,n):n(i)}const hy=new Jt("AppId",{providedIn:"root",factory:()=>Cf}),Cf="ng",Af=new Jt("Platform Initializer"),A2=new Jt("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),__=new Jt("AnimationModuleType"),v_=new Jt("CSP nonce",{providedIn:"root",factory:()=>function tu(){if(void 0!==bh)return bh;if(typeof document<"u")return document;throw new be(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let If=(t,n,i)=>null;function Rh(t,n,i=!1){return If(t,n,i)}class ep{}class Nf{}class T2{resolveComponentFactory(n){throw function Oh(t){const n=Error(`No component factory found for ${Be(t)}.`);return n.ngComponent=t,n}(n)}}let Yu=(()=>{class t{static{this.NULL=new T2}}return t})();function Nh(){return Sd(zi(),$t())}function Sd(t,n){return new Cl(mo(t,n))}let Cl=(()=>{class t{constructor(i){this.nativeElement=i}static{this.__NG_ELEMENT_ID__=Nh}}return t})();function my(t){return t instanceof Cl?t.nativeElement:t}class Ju{}let M_=(()=>{class t{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>function w_(){const t=$t(),i=yo(zi().index,t);return(gi(i)?i:t)[Zn]}()}}return t})(),Lf=(()=>{class t{static{this.\u0275prov=un({token:t,providedIn:"root",factory:()=>null})}}return t})();class yy{constructor(n){this.full=n,this.major=n.split(".")[0],this.minor=n.split(".")[1],this.patch=n.split(".").slice(2).join(".")}}const Vh=new yy("16.2.12"),Ff={};function jf(t,n=null,i=null,s){const l=zf(t,n,i,s);return l.resolveInjectorInitializers(),l}function zf(t,n=null,i=null,s,l=new Set){const u=[i||gn,Mf(t)];return s=s||("object"==typeof t?void 0:Be(t)),new Ku(u,n||xf(),s||null,l)}let ka=(()=>{class t{static{this.THROW_IF_NOT_FOUND=Nn}static{this.NULL=new q1}static create(i,s){if(Array.isArray(i))return jf({name:""},s,i,"");{const l=i.name??"";return jf({name:l},i.parent,i.providers,l)}}static{this.\u0275prov=un({token:t,providedIn:"any",factory:()=>fe(k2)})}static{this.__NG_ELEMENT_ID__=-1}}return t})();function P2(t){return t.ngOriginalError}class au{constructor(){this._console=console}handleError(n){const i=this._findOriginalError(n);this._console.error("ERROR",n),i&&this._console.error("ORIGINAL ERROR",i)}_findOriginalError(n){let i=n&&P2(n);for(;i&&P2(i);)i=P2(i);return i||null}}function Od(t){return n=>{setTimeout(t,void 0,n)}}const na=class Pd extends y.B{constructor(n=!1){super(),this.__isAsync=n}emit(n){super.next(n)}subscribe(n,i,s){let l=n,u=i||(()=>null),v=s;if(n&&"object"==typeof n){const T=n;l=T.next?.bind(T),u=T.error?.bind(T),v=T.complete?.bind(T)}this.__isAsync&&(u=Od(u),l&&(l=Od(l)),v&&(v=Od(v)));const E=super.subscribe({next:l,error:u,complete:v});return n instanceof ne.yU&&n.add(E),E}};function O2(...t){}class Zi{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:i=!1,shouldCoalesceRunChangeDetection:s=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new na(!1),this.onMicrotaskEmpty=new na(!1),this.onStable=new na(!1),this.onError=new na(!1),typeof Zone>"u")throw new be(908,!1);Zone.assertZonePatched();const l=this;l._nesting=0,l._outer=l._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(l._inner=l._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(l._inner=l._inner.fork(Zone.longStackTraceZoneSpec)),l.shouldCoalesceEventChangeDetection=!s&&i,l.shouldCoalesceRunChangeDetection=s,l.lastRequestAnimationFrameId=-1,l.nativeRequestAnimationFrame=function A_(){const t="function"==typeof rn.requestAnimationFrame;let n=rn[t?"requestAnimationFrame":"setTimeout"],i=rn[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&n&&i){const s=n[Zone.__symbol__("OriginalDelegate")];s&&(n=s);const l=i[Zone.__symbol__("OriginalDelegate")];l&&(i=l)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:i}}().nativeRequestAnimationFrame,function T_(t){const n=()=>{!function ky(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(rn,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,V2(t),t.isCheckStableRunning=!0,N2(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),V2(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(i,s,l,u,v,E)=>{if(function D_(t){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0].data?.__ignore_ng_zone__}(E))return i.invokeTask(l,u,v,E);try{return by(t),i.invokeTask(l,u,v,E)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===u.type||t.shouldCoalesceRunChangeDetection)&&n(),L2(t)}},onInvoke:(i,s,l,u,v,E,T)=>{try{return by(t),i.invoke(l,u,v,E,T)}finally{t.shouldCoalesceRunChangeDetection&&n(),L2(t)}},onHasTask:(i,s,l,u)=>{i.hasTask(l,u),s===l&&("microTask"==u.change?(t._hasPendingMicrotasks=u.microTask,V2(t),N2(t)):"macroTask"==u.change&&(t.hasPendingMacrotasks=u.macroTask))},onHandleError:(i,s,l,u)=>(i.handleError(l,u),t.runOutsideAngular(()=>t.onError.emit(u)),!1)})}(l)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Zi.isInAngularZone())throw new be(909,!1)}static assertNotInAngularZone(){if(Zi.isInAngularZone())throw new be(909,!1)}run(n,i,s){return this._inner.run(n,i,s)}runTask(n,i,s,l){const u=this._inner,v=u.scheduleEventTask("NgZoneEvent: "+l,n,I_,O2,O2);try{return u.runTask(v,i,s)}finally{u.cancelTask(v)}}runGuarded(n,i,s){return this._inner.runGuarded(n,i,s)}runOutsideAngular(n){return this._outer.run(n)}}const I_={};function N2(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function V2(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function by(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function L2(t){t._nesting--,N2(t)}class My{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new na,this.onMicrotaskEmpty=new na,this.onStable=new na,this.onError=new na}run(n,i,s){return n.apply(i,s)}runGuarded(n,i,s){return n.apply(i,s)}runOutsideAngular(n){return n()}runTask(n,i,s,l){return n.apply(i,s)}}const F2=new Jt("",{providedIn:"root",factory:B2});function B2(){const t=Ae(Zi);let n=!0;const i=new _e.c(l=>{n=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{l.next(n),l.complete()})}),s=new _e.c(l=>{let u;t.runOutsideAngular(()=>{u=t.onStable.subscribe(()=>{Zi.assertNotInAngularZone(),queueMicrotask(()=>{!n&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(n=!0,l.next(!0))})})});const v=t.onUnstable.subscribe(()=>{Zi.assertInAngularZone(),n&&(n=!1,t.runOutsideAngular(()=>{l.next(!1)}))});return()=>{u.unsubscribe(),v.unsubscribe()}});return(0,J.h)(i,s.pipe((0,Ve.u)()))}function Al(t){return t instanceof Function?t():t}let j2=(()=>{class t{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static{this.\u0275prov=un({token:t,providedIn:"root",factory:()=>new t})}}return t})();function np(t){for(;t;){t[Un]|=64;const n=Ic(t);if(cc(t)&&!n)return t;t=n}return null}const H2=new Jt("",{providedIn:"root",factory:()=>!1});let qf=null;function Ry(t,n){return t[n]??Ny()}function $f(t,n){const i=Ny();i.producerNode?.length&&(t[n]=qf,i.lView=t,qf=Oy())}const Py={...Gs,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{np(t.lView)},lView:null};function Oy(){return Object.create(Py)}function Ny(){return qf??=Oy(),qf}const Rr={};function Vy(t){Wf(Kr(),$t(),go()+t,!1)}function Wf(t,n,i,s){if(!s)if(3==(3&n[Un])){const u=t.preOrderCheckHooks;null!==u&&Sa(n,u,i)}else{const u=t.preOrderHooks;null!==u&&Uc(n,u,0,i)}as(i)}function td(t,n=et.Default){const i=$t();return null===i?fe(t,n):Ec(zi(),i,Dt(t),n)}function Ly(){throw new Error("invalid")}function Gf(t,n,i,s,l,u,v,E,T,j,Y){const Ee=n.blueprint.slice();return Ee[Tr]=l,Ee[Un]=140|s,(null!==j||t&&2048&t[Un])&&(Ee[Un]|=2048),al(Ee),Ee[Or]=Ee[Ho]=t,Ee[$r]=i,Ee[zo]=v||t&&t[zo],Ee[Zn]=E||t&&t[Zn],Ee[Fi]=T||t&&t[Fi]||null,Ee[yi]=u,Ee[Bi]=function w1(){return t2++}(),Ee[Wr]=Y,Ee[bs]=j,Ee[Nr]=2==n.type?t[Nr]:Ee,Ee}function lu(t,n,i,s,l){let u=t.data[n];if(null===u)u=function Ld(t,n,i,s,l){const u=Ha(),v=bc(),T=t.data[n]=function G2(t,n,i,s,l,u){let v=n?n.injectorIndex:-1,E=0;return kc()&&(E|=128),{type:i,index:s,insertBeforeIndex:null,injectorIndex:v,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:E,providerIndexes:0,value:l,attrs:u,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?u:u&&u.parent,i,n,s,l);return null===t.firstChild&&(t.firstChild=T),null!==u&&(v?null==u.child&&null!==T.parent&&(u.child=T):null===u.next&&(u.next=T,T.prev=u)),T}(t,n,i,s,l),function S(){return Yn.lFrame.inI18n}()&&(u.flags|=32);else if(64&u.type){u.type=i,u.value=s,u.attrs=l;const v=function Ys(){const t=Yn.lFrame,n=t.currentTNode;return t.isParent?n:n.parent}();u.injectorIndex=null===v?-1:v.injectorIndex}return Ar(u,!0),u}function Fh(t,n,i,s){if(0===i)return-1;const l=n.length;for(let u=0;u<i;u++)n.push(s),t.blueprint.push(s),t.data.push(null);return l}function Kf(t,n,i,s,l){const u=Ry(n,Uo),v=go(),E=2&s;try{as(-1),E&&n.length>Jn&&Wf(t,n,Jn,!1),Gi(E?2:0,l);const j=E?u:null,Y=oo(j);try{null!==j&&(j.dirty=!1),i(s,l)}finally{Ba(j,Y)}}finally{E&&null===n[Uo]&&$f(n,Uo),as(v),Gi(E?3:1,l)}}function Fd(t,n,i){if(Ws(n)){const s=ji(null);try{const u=n.directiveEnd;for(let v=n.directiveStart;v<u;v++){const E=t.data[v];E.contentQueries&&E.contentQueries(1,i[v],v)}}finally{ji(s)}}}function Bh(t,n,i){Xs()&&(function L_(t,n,i,s){const l=i.directiveStart,u=i.directiveEnd;ro(i)&&function B_(t,n,i){const s=mo(n,t),l=ip(i);let v=16;i.signals?v=4096:i.onPush&&(v=64);const E=Jf(t,Gf(t,l,null,v,s,n,null,t[zo].rendererFactory.createRenderer(s,i),null,null,null));t[n.index]=E}(n,i,t.data[l+i.componentOffset]),t.firstCreatePass||ga(i,n),Ss(s,n);const v=i.initialInputs;for(let E=l;E<u;E++){const T=t.data[E],j=Ko(n,t,E,i);Ss(j,n),null!==v&&Qy(0,E-l,j,T,0,v),io(T)&&(yo(i.index,n)[$r]=Ko(n,t,E,i))}}(t,n,i,mo(i,n)),64==(64&i.flags)&&sp(t,n,i))}function Qf(t,n,i=mo){const s=n.localNames;if(null!==s){let l=n.index+1;for(let u=0;u<s.length;u+=2){const v=s[u+1],E=-1===v?i(n,t):t[v];t[l++]=E}}}function ip(t){const n=t.tView;return null===n||n.incompleteFirstPass?t.tView=Zf(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):n}function Zf(t,n,i,s,l,u,v,E,T,j,Y){const Ee=Jn+s,Ze=Ee+l,at=function N_(t,n){const i=[];for(let s=0;s<n;s++)i.push(s<t?null:Rr);return i}(Ee,Ze),zt="function"==typeof j?j():j;return at[fn]={type:t,blueprint:at,template:i,queries:null,viewQuery:E,declTNode:n,data:at.slice().fill(null,Ee),bindingStartIndex:Ee,expandoStartIndex:Ze,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof u?u():u,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:T,consts:zt,incompleteFirstPass:!1,ssrId:Y}}let W2=t=>null;function op(t,n,i,s){for(let l in t)if(t.hasOwnProperty(l)){i=null===i?{}:i;const u=t[l];null===s?K2(i,n,l,u):s.hasOwnProperty(l)&&K2(i,n,s[l],u)}return i}function K2(t,n,i,s){t.hasOwnProperty(i)?t[i].push(n,s):t[i]=[n,s]}function rc(t,n,i,s,l,u,v,E){const T=mo(n,i);let Y,j=n.inputs;!E&&null!=j&&(Y=j[s])?(em(t,i,Y,s,l),ro(n)&&function V_(t,n){const i=yo(n,t);16&i[Un]||(i[Un]|=64)}(i,n.index)):3&n.type&&(s=function jy(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(s),l=null!=v?v(l,n.value||"",s):l,u.setProperty(T,s,l))}function Z2(t,n,i,s){if(Xs()){const l=null===s?null:{"":-1},u=function $y(t,n){const i=t.directiveRegistry;let s=null,l=null;if(i)for(let u=0;u<i.length;u++){const v=i[u];if(wa(n,v.selectors,!1))if(s||(s=[]),io(v))if(null!==v.findHostDirectiveDefs){const E=[];l=l||new Map,v.findHostDirectiveDefs(v,E,l),s.unshift(...E,v),Yf(t,n,E.length)}else s.unshift(v),Yf(t,n,0);else l=l||new Map,v.findHostDirectiveDefs?.(v,s,l),s.push(v)}return null===s?null:[s,l]}(t,i);let v,E;null===u?v=E=null:[v,E]=u,null!==v&&jh(t,n,i,v,l,E),l&&function Wy(t,n,i){if(n){const s=t.localNames=[];for(let l=0;l<n.length;l+=2){const u=i[n[l+1]];if(null==u)throw new be(-301,!1);s.push(n[l],u)}}}(i,s,l)}i.mergedAttrs=Ur(i.mergedAttrs,i.attrs)}function jh(t,n,i,s,l,u){for(let j=0;j<s.length;j++)$c(ga(i,n),t,s[j].type);!function Ky(t,n,i){t.flags|=1,t.directiveStart=n,t.directiveEnd=n+i,t.providerIndexes=n}(i,t.data.length,s.length);for(let j=0;j<s.length;j++){const Y=s[j];Y.providersResolver&&Y.providersResolver(Y)}let v=!1,E=!1,T=Fh(t,n,s.length,null);for(let j=0;j<s.length;j++){const Y=s[j];i.mergedAttrs=Ur(i.mergedAttrs,Y.hostAttrs),F_(t,i,n,T,Y),Gy(T,Y,l),null!==Y.contentQueries&&(i.flags|=4),(null!==Y.hostBindings||null!==Y.hostAttrs||0!==Y.hostVars)&&(i.flags|=64);const Ee=Y.type.prototype;!v&&(Ee.ngOnChanges||Ee.ngOnInit||Ee.ngDoCheck)&&((t.preOrderHooks??=[]).push(i.index),v=!0),!E&&(Ee.ngOnChanges||Ee.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(i.index),E=!0),T++}!function Q2(t,n,i){const l=n.directiveEnd,u=t.data,v=n.attrs,E=[];let T=null,j=null;for(let Y=n.directiveStart;Y<l;Y++){const Ee=u[Y],Ze=i?i.get(Ee):null,zt=Ze?Ze.outputs:null;T=op(Ee.inputs,Y,T,Ze?Ze.inputs:null),j=op(Ee.outputs,Y,j,zt);const dn=null===T||null===v||Ei(n)?null:j_(T,Y,v);E.push(dn)}null!==T&&(T.hasOwnProperty("class")&&(n.flags|=8),T.hasOwnProperty("style")&&(n.flags|=16)),n.initialInputs=E,n.inputs=T,n.outputs=j}(t,i,u)}function sp(t,n,i){const s=i.directiveStart,l=i.directiveEnd,u=i.index,v=function z(){return Yn.lFrame.currentDirectiveIndex}();try{as(u);for(let E=s;E<l;E++){const T=t.data[E],j=n[E];te(E),(null!==T.hostBindings||0!==T.hostVars||null!==T.hostAttrs)&&qy(T,j)}}finally{as(-1),te(v)}}function qy(t,n){null!==t.hostBindings&&t.hostBindings(1,n)}function Yf(t,n,i){n.componentOffset=i,(t.components??=[]).push(n.index)}function Gy(t,n,i){if(i){if(n.exportAs)for(let s=0;s<n.exportAs.length;s++)i[n.exportAs[s]]=t;io(n)&&(i[""]=t)}}function F_(t,n,i,s,l){t.data[s]=l;const u=l.factory||(l.factory=is(l.type)),v=new Pa(u,io(l),td);t.blueprint[s]=v,i[s]=v,function X2(t,n,i,s,l){const u=l.hostBindings;if(u){let v=t.hostBindingOpCodes;null===v&&(v=t.hostBindingOpCodes=[]);const E=~n.index;(function Uy(t){let n=t.length;for(;n>0;){const i=t[--n];if("number"==typeof i&&i<0)return i}return 0})(v)!=E&&v.push(E),v.push(i,s,u)}}(t,n,s,Fh(t,i,l.hostVars,Rr),l)}function Il(t,n,i,s,l,u){const v=mo(t,n);!function Y2(t,n,i,s,l,u,v){if(null==u)t.removeAttribute(n,l,i);else{const E=null==v?ze(u):v(u,s||"",l);t.setAttribute(n,l,E,i)}}(n[Zn],v,u,t.value,i,s,l)}function Qy(t,n,i,s,l,u){const v=u[n];if(null!==v)for(let E=0;E<v.length;)Zy(s,i,v[E++],v[E++],v[E++])}function Zy(t,n,i,s,l){const u=ji(null);try{const v=t.inputTransforms;null!==v&&v.hasOwnProperty(s)&&(l=v[s].call(n,l)),null!==t.setInput?t.setInput(n,l,i,s):n[s]=l}finally{ji(u)}}function j_(t,n,i){let s=null,l=0;for(;l<i.length;){const u=i[l];if(0!==u)if(5!==u){if("number"==typeof u)break;if(t.hasOwnProperty(u)){null===s&&(s=[]);const v=t[u];for(let E=0;E<v.length;E+=2)if(v[E]===n){s.push(u,v[E+1],i[l+1]);break}}l+=2}else l+=2;else l+=4}return s}function Xy(t,n,i,s){return[t,!0,!1,n,null,0,s,i,null,null,null]}function Yy(t,n){const i=t.contentQueries;if(null!==i)for(let s=0;s<i.length;s+=2){const u=i[s+1];if(-1!==u){const v=t.data[u];ft(i[s]),v.contentQueries(2,n[u],u)}}}function Jf(t,n){return t[Ro]?t[ts][Li]=n:t[Ro]=n,t[ts]=n,n}function J2(t,n,i){ft(0);const s=ji(null);try{n(t,i)}finally{ji(s)}}function Jy(t){return t[uo]||(t[uo]=[])}function eg(t){return t.cleanup||(t.cleanup=[])}function ng(t,n){const i=t[Fi],s=i?i.get(au,null):null;s&&s.handleError(n)}function em(t,n,i,s,l){for(let u=0;u<i.length;){const v=i[u++],E=i[u++];Zy(t.data[v],n[v],s,E,l)}}function uu(t,n,i){const s=ha(n,t);!function le(t,n,i){t.setValue(n,i)}(t[Zn],s,i)}function H_(t,n){const i=yo(n,t),s=i[fn];!function rg(t,n){for(let i=n.length;i<t.blueprint.length;i++)n.push(t.blueprint[i])}(s,i);const l=i[Tr];null!==l&&null===i[Wr]&&(i[Wr]=Rh(l,i[Fi])),tm(s,i,i[$r])}function tm(t,n,i){Br(n);try{const s=t.viewQuery;null!==s&&J2(1,s,i);const l=t.template;null!==l&&Kf(t,n,l,1,i),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Yy(t,n),t.staticViewQueries&&J2(2,t.viewQuery,i);const u=t.components;null!==u&&function U_(t,n){for(let i=0;i<n.length;i++)H_(t,n[i])}(n,u)}catch(s){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),s}finally{n[Un]&=-5,Ti()}}let ig=(()=>{class t{constructor(){this.all=new Set,this.queue=new Map}create(i,s,l){const u=typeof Zone>"u"?null:Zone.current,v=function Vt(t,n,i){const s=Object.create(wn);i&&(s.consumerAllowSignalWrites=!0),s.fn=t,s.schedule=n;const l=v=>{s.cleanupFn=v};return s.ref={notify:()=>ua(s),run:()=>{if(s.dirty=!1,s.hasRun&&!Vs(s))return;s.hasRun=!0;const v=oo(s);try{s.cleanupFn(),s.cleanupFn=Vn,s.fn(l)}finally{Ba(s,v)}},cleanup:()=>s.cleanupFn()},s.ref}(i,j=>{this.all.has(j)&&this.queue.set(j,u)},l);let E;this.all.add(v),v.notify();const T=()=>{v.cleanup(),E?.(),this.all.delete(v),this.queue.delete(v)};return E=s?.onDestroy(T),{destroy:T}}flush(){if(0!==this.queue.size)for(const[i,s]of this.queue)this.queue.delete(i),s?s.run(()=>i.run()):i.run()}get isQueueEmpty(){return 0===this.queue.size}static{this.\u0275prov=un({token:t,providedIn:"root",factory:()=>new t})}}return t})();function ap(t,n,i){let s=i?t.styles:null,l=i?t.classes:null,u=0;if(null!==n)for(let v=0;v<n.length;v++){const E=n[v];"number"==typeof E?u=E:1==u?l=$e(l,E):2==u&&(s=$e(s,E+": "+n[++v]+";"))}i?t.styles=s:t.stylesWithoutHost=s,i?t.classes=l:t.classesWithoutHost=l}function cp(t,n,i,s,l=!1){for(;null!==i;){const u=n[i.index];null!==u&&s.push(oi(u)),ni(u)&&og(u,s);const v=i.type;if(8&v)cp(t,n,i.child,s);else if(32&v){const E=vd(i,n);let T;for(;T=E();)s.push(T)}else if(16&v){const E=L1(n,i);if(Array.isArray(E))s.push(...E);else{const T=Ic(n[Nr]);cp(T[fn],T,E,s,!0)}}i=l?i.projectionNext:i.next}return s}function og(t,n){for(let i=Cr;i<t.length;i++){const s=t[i],l=s[fn].firstChild;null!==l&&cp(s[fn],s,l,n)}t[ho]!==t[Tr]&&n.push(t[ho])}function e0(t,n,i,s=!0){const l=n[zo],u=l.rendererFactory,v=l.afterRenderEventManager;u.begin?.(),v?.begin();try{sg(t,n,t.template,i)}catch(T){throw s&&ng(n,T),T}finally{u.end?.(),l.effectManager?.flush(),v?.end()}}function sg(t,n,i,s){const l=n[Un];if(256!=(256&l)){n[zo].effectManager?.flush(),Br(n);try{al(n),function Mu(t){return Yn.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==i&&Kf(t,n,i,2,s);const v=3==(3&l);if(v){const j=t.preOrderCheckHooks;null!==j&&Sa(n,j,null)}else{const j=t.preOrderHooks;null!==j&&Uc(n,j,0,null),Ra(n,0)}if(function G_(t){for(let n=w(t);null!==n;n=h(n)){if(!n[di])continue;const i=n[lr];for(let s=0;s<i.length;s++){Zs(i[s])}}}(n),ag(n,2),null!==t.contentQueries&&Yy(t,n),v){const j=t.contentCheckHooks;null!==j&&Sa(n,j)}else{const j=t.contentHooks;null!==j&&Uc(n,j,1),Ra(n,1)}!function O_(t,n){const i=t.hostBindingOpCodes;if(null===i)return;const s=Ry(n,Gr);try{for(let l=0;l<i.length;l++){const u=i[l];if(u<0)as(~u);else{const v=u,E=i[++l],T=i[++l];D(E,v),s.dirty=!1;const j=oo(s);try{T(2,n[v])}finally{Ba(s,j)}}}}finally{null===n[Gr]&&$f(n,Gr),as(-1)}}(t,n);const E=t.components;null!==E&&lg(n,E,0);const T=t.viewQuery;if(null!==T&&J2(2,T,s),v){const j=t.viewCheckHooks;null!==j&&Sa(n,j)}else{const j=t.viewHooks;null!==j&&Uc(n,j,2),Ra(n,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),n[Un]&=-73,za(n)}finally{Ti()}}}function ag(t,n){for(let i=w(t);null!==i;i=h(i))for(let s=Cr;s<i.length;s++)cg(i[s],n)}function K_(t,n,i){cg(yo(n,t),i)}function cg(t,n){if(!function _c(t){return 128==(128&t[Un])}(t))return;const i=t[fn],s=t[Un];if(80&s&&0===n||1024&s||2===n)sg(i,t,i.template,t[$r]);else if(t[no]>0){ag(t,1);const l=i.components;null!==l&&lg(t,l,1)}}function lg(t,n,i){for(let s=0;s<n.length;s++)K_(t,n[s],i)}class lp{get rootNodes(){const n=this._lView,i=n[fn];return cp(i,n,i.firstChild,[])}constructor(n,i){this._lView=n,this._cdRefInjectingView=i,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[$r]}set context(n){this._lView[$r]=n}get destroyed(){return 256==(256&this._lView[Un])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[Or];if(ni(n)){const i=n[8],s=i?i.indexOf(this):-1;s>-1&&(Ja(n,s),Qa(i,s))}this._attachedToViewContainer=!1}vl(this._lView[fn],this._lView)}onDestroy(n){!function pa(t,n){if(256==(256&t[Un]))throw new be(911,!1);null===t[Ao]&&(t[Ao]=[]),t[Ao].push(n)}(this._lView,n)}markForCheck(){np(this._cdRefInjectingView||this._lView)}detach(){this._lView[Un]&=-129}reattach(){this._lView[Un]|=128}detectChanges(){e0(this._lView[fn],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new be(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function dr(t,n){xd(t,n,n[Zn],2,null,null)}(this._lView[fn],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new be(902,!1);this._appRef=n}}class Q_ extends lp{constructor(n){super(n),this._view=n}detectChanges(){const n=this._view;e0(n[fn],n,n[$r],!1)}checkNoChanges(){}get context(){return null}}class ug extends Yu{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const i=In(n);return new up(i,this.ngModule)}}function dg(t){const n=[];for(let i in t)t.hasOwnProperty(i)&&n.push({propName:t[i],templateName:i});return n}class hg{constructor(n,i){this.injector=n,this.parentInjector=i}get(n,i,s){s=rt(s);const l=this.injector.get(n,Ff,s);return l!==Ff||i===Ff?l:this.parentInjector.get(n,i,s)}}class up extends Nf{get inputs(){const n=this.componentDef,i=n.inputTransforms,s=dg(n.inputs);if(null!==i)for(const l of s)i.hasOwnProperty(l.propName)&&(l.transform=i[l.propName]);return s}get outputs(){return dg(this.componentDef.outputs)}constructor(n,i){super(),this.componentDef=n,this.ngModule=i,this.componentType=n.type,this.selector=function Ci(t){return t.map(jr).join(",")}(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!i}create(n,i,s,l){let u=(l=l||this.ngModule)instanceof Dc?l:l?.injector;u&&null!==this.componentDef.getStandaloneInjector&&(u=this.componentDef.getStandaloneInjector(u)||u);const v=u?new hg(n,u):n,E=v.get(Ju,null);if(null===E)throw new be(407,!1);const Ee={rendererFactory:E,sanitizer:v.get(Lf,null),effectManager:v.get(ig,null),afterRenderEventManager:v.get(j2,null)},Ze=E.createRenderer(null,this.componentDef),at=this.componentDef.selectors[0][0]||"div",zt=s?function q2(t,n,i,s){const u=s.get(H2,!1)||i===on.ShadowDom,v=t.selectRootElement(n,u);return function $2(t){W2(t)}(v),v}(Ze,s,this.componentDef.encapsulation,v):vt(Ze,at,function Z_(t){const n=t.toLowerCase();return"svg"===n?qo:"math"===n?"math":null}(at)),rr=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let en=null;null!==zt&&(en=Rh(zt,v,!0));const Ir=Zf(0,null,null,1,0,null,null,null,null,null,null),ei=Gf(null,Ir,null,rr,null,null,Ee,Ze,v,null,en);let $i,Nc;Br(ei);try{const Zd=this.componentDef;let J0,Rb=null;Zd.findHostDirectiveDefs?(J0=[],Rb=new Map,Zd.findHostDirectiveDefs(Zd,J0,Rb),J0.push(Zd)):J0=[Zd];const d3=function pg(t,n){const i=t[fn],s=Jn;return t[s]=n,lu(i,s,2,"#host",null)}(ei,zt),h3=function Y_(t,n,i,s,l,u,v){const E=l[fn];!function J_(t,n,i,s){for(const l of t)n.mergedAttrs=Ur(n.mergedAttrs,l.hostAttrs);null!==n.mergedAttrs&&(ap(n,n.mergedAttrs,!0),null!==i&&a2(s,i,n))}(s,t,n,v);let T=null;null!==n&&(T=Rh(n,l[Fi]));const j=u.rendererFactory.createRenderer(n,i);let Y=16;i.signals?Y=4096:i.onPush&&(Y=64);const Ee=Gf(l,ip(i),null,Y,l[t.index],t,u,j,null,null,T);return E.firstCreatePass&&Yf(E,t,s.length-1),Jf(l,Ee),l[t.index]=Ee}(d3,zt,Zd,J0,ei,Ee,Ze);Nc=vi(Ir,Jn),zt&&function fg(t,n,i,s){if(s)br(t,i,["ng-version",Vh.full]);else{const{attrs:l,classes:u}=function li(t){const n=[],i=[];let s=1,l=2;for(;s<t.length;){let u=t[s];if("string"==typeof u)2===l?""!==u&&n.push(u,t[++s]):8===l&&i.push(u);else{if(!_i(l))break;l=u}s++}return{attrs:n,classes:i}}(n.selectors[0]);l&&br(t,i,l),u&&u.length>0&&F1(t,i,u.join(" "))}}(Ze,Zd,zt,s),void 0!==i&&function tv(t,n,i){const s=t.projection=[];for(let l=0;l<n.length;l++){const u=i[l];s.push(null!=u?Array.from(u):null)}}(Nc,this.ngContentSelectors,i),$i=function ev(t,n,i,s,l,u){const v=zi(),E=l[fn],T=mo(v,l);jh(E,l,v,i,null,s);for(let Y=0;Y<i.length;Y++)Ss(Ko(l,E,v.directiveStart+Y,v),l);sp(E,l,v),T&&Ss(T,l);const j=Ko(l,E,v.directiveStart+v.componentOffset,v);if(t[$r]=l[$r]=j,null!==u)for(const Y of u)Y(j,n);return Fd(E,v,t),j}(h3,Zd,J0,Rb,ei,[nv]),tm(Ir,ei,null)}finally{Ti()}return new X_(this.componentType,$i,Sd(Nc,ei),ei,Nc)}}class X_ extends ep{constructor(n,i,s,l,u){super(),this.location=s,this._rootLView=l,this._tNode=u,this.previousInputValues=null,this.instance=i,this.hostView=this.changeDetectorRef=new Q_(l),this.componentType=n}setInput(n,i){const s=this._tNode.inputs;let l;if(null!==s&&(l=s[n])){if(this.previousInputValues??=new Map,this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),i))return;const u=this._rootLView;em(u[fn],u,l,n,i),this.previousInputValues.set(n,i),np(yo(this._tNode.index,u))}}get injector(){return new Ni(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}function nv(){const t=zi();qa($t()[fn],t)}function nm(t){let n=function mg(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),i=!0;const s=[t];for(;n;){let l;if(io(t))l=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new be(903,!1);l=n.\u0275dir}if(l){if(i){s.push(l);const v=t;v.inputs=t0(t.inputs),v.inputTransforms=t0(t.inputTransforms),v.declaredInputs=t0(t.declaredInputs),v.outputs=t0(t.outputs);const E=l.hostBindings;E&&sv(t,E);const T=l.viewQuery,j=l.contentQueries;if(T&&iv(t,T),j&&ov(t,j),ve(t.inputs,l.inputs),ve(t.declaredInputs,l.declaredInputs),ve(t.outputs,l.outputs),null!==l.inputTransforms&&(null===v.inputTransforms&&(v.inputTransforms={}),ve(v.inputTransforms,l.inputTransforms)),io(l)&&l.data.animation){const Y=t.data;Y.animation=(Y.animation||[]).concat(l.data.animation)}}const u=l.features;if(u)for(let v=0;v<u.length;v++){const E=u[v];E&&E.ngInherit&&E(t),E===nm&&(i=!1)}}n=Object.getPrototypeOf(n)}!function rv(t){let n=0,i=null;for(let s=t.length-1;s>=0;s--){const l=t[s];l.hostVars=n+=l.hostVars,l.hostAttrs=Ur(l.hostAttrs,i=Ur(i,l.hostAttrs))}}(s)}function t0(t){return t===Qn?{}:t===gn?[]:t}function iv(t,n){const i=t.viewQuery;t.viewQuery=i?(s,l)=>{n(s,l),i(s,l)}:n}function ov(t,n){const i=t.contentQueries;t.contentQueries=i?(s,l,u)=>{n(s,l,u),i(s,l,u)}:n}function sv(t,n){const i=t.hostBindings;t.hostBindings=i?(s,l)=>{n(s,l),i(s,l)}:n}function gg(t){const n=t.inputConfig,i={};for(const s in n)if(n.hasOwnProperty(s)){const l=n[s];Array.isArray(l)&&l[2]&&(i[s]=l[2])}t.inputTransforms=i}function n0(t){return!!om(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function om(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Tl(t,n,i){return t[n]=i}function ra(t,n,i){return!Object.is(t[n],i)&&(t[n]=i,!0)}function nd(t,n,i,s){const l=ra(t,n,i);return ra(t,n+1,s)||l}function e(t,n,i,s){const l=$t();return ra(l,ps(),n)&&(Kr(),Il(Jr(),l,t,n,i,s)),e}function o(t,n,i,s){return ra(t,ps(),i)?n+ze(i)+s:Rr}function d(t,n,i,s,l,u,v,E){const j=function r0(t,n,i,s,l){const u=nd(t,n,i,s);return ra(t,n+2,l)||u}(t,Cs(),i,l,v);return x(3),j?n+ze(i)+s+ze(l)+u+ze(v)+E:Rr}function d0(t,n,i,s,l,u,v,E){const T=$t(),j=Kr(),Y=t+Jn,Ee=j.firstCreatePass?function cm(t,n,i,s,l,u,v,E,T){const j=n.consts,Y=lu(n,t,4,v||null,ja(j,E));Z2(n,i,Y,ja(j,T)),qa(n,Y);const Ee=Y.tView=Zf(2,Y,s,l,u,n.directiveRegistry,n.pipeRegistry,null,n.schemas,j,null);return null!==n.queries&&(n.queries.template(n,Y),Ee.queries=n.queries.embeddedTView(Y)),Y}(Y,j,T,n,i,s,l,u,v):j.data[Y];Ar(Ee,!1);const Ze=dp(j,T,Ee,t);Hc()&&wd(j,T,Ze,Ee),Ss(Ze,T),Jf(T,T[Y]=Xy(Ze,T,Ze,Ee)),ns(Ee)&&Bh(j,T,Ee),null!=v&&Qf(T,Ee,E)}let dp=function h0(t,n,i,s){return fa(!0),n[Zn].createComment("")};function hp(t){return yr(function zl(){return Yn.lFrame.contextLView}(),Jn+t)}function ys(t,n,i){const s=$t();return ra(s,ps(),n)&&rc(Kr(),Jr(),s,t,n,s[Zn],i,!1),ys}function Rs(t,n,i,s,l){const v=l?"class":"style";em(t,i,n.inputs[v],v,s)}function Kh(t,n,i,s){const l=$t(),u=Kr(),v=Jn+t,E=l[Zn],T=u.firstCreatePass?function pp(t,n,i,s,l,u){const v=n.consts,T=lu(n,t,2,s,ja(v,l));return Z2(n,i,T,ja(v,u)),null!==T.attrs&&ap(T,T.attrs,!1),null!==T.mergedAttrs&&ap(T,T.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,T),T}(v,u,l,n,i,s):u.data[v],j=jd(u,l,T,E,n,t);l[v]=j;const Y=ns(T);return Ar(T,!0),a2(E,j,T),32!=(32&T.flags)&&Hc()&&wd(u,l,j,T),0===function Aa(){return Yn.lFrame.elementDepthCount}()&&Ss(j,l),function Bl(){Yn.lFrame.elementDepthCount++}(),Y&&(Bh(u,l,T),Fd(u,T,l)),null!==s&&Qf(l,T),Kh}function Qh(){let t=zi();bc()?Ia():(t=t.parent,Ar(t,!1));const n=t;(function ku(t){return Yn.skipHydrationRootTNode===t})(n)&&function zc(){Yn.skipHydrationRootTNode=null}(),function ll(){Yn.lFrame.elementDepthCount--}();const i=Kr();return i.firstCreatePass&&(qa(i,t),Ws(t)&&i.queries.elementEnd(t)),null!=n.classesWithoutHost&&function fs(t){return 0!=(8&t.flags)}(n)&&Rs(i,n,$t(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function ms(t){return 0!=(16&t.flags)}(n)&&Rs(i,n,$t(),n.stylesWithoutHost,!1),Qh}function m0(t,n,i,s){return Kh(t,n,i,s),Qh(),m0}let jd=(t,n,i,s,l,u)=>(fa(!0),vt(s,l,function Ul(){return Yn.lFrame.currentNamespace}()));function fp(t,n,i){const s=$t(),l=Kr(),u=t+Jn,v=l.firstCreatePass?function y0(t,n,i,s,l){const u=n.consts,v=ja(u,s),E=lu(n,t,8,"ng-container",v);return null!==v&&ap(E,v,!0),Z2(n,i,E,ja(u,l)),null!==n.queries&&n.queries.elementStart(n,E),E}(u,l,s,n,i):l.data[u];Ar(v,!0);const E=g0(l,s,v,t);return s[u]=E,Hc()&&wd(l,s,E,v),Ss(E,s),ns(v)&&(Bh(l,s,v),Fd(l,v,s)),null!=i&&Qf(s,v),fp}function mp(){let t=zi();const n=Kr();return bc()?Ia():(t=t.parent,Ar(t,!1)),n.firstCreatePass&&(qa(n,t),Ws(t)&&n.queries.elementEnd(t)),mp}function Zh(t,n,i){return fp(t,n,i),mp(),Zh}let g0=(t,n,i,s)=>(fa(!0),Ye(n[Zn],""));function yp(){return $t()}function Yh(t){return!!t&&"function"==typeof t.then}function du(t){return!!t&&"function"==typeof t.subscribe}function gp(t,n,i,s){const l=$t(),u=Kr(),v=zi();return function zd(t,n,i,s,l,u,v){const E=ns(s),j=t.firstCreatePass&&eg(t),Y=n[$r],Ee=Jy(n);let Ze=!0;if(3&s.type||v){const dn=mo(s,n),Sn=v?v(dn):dn,rr=Ee.length,en=v?ei=>v(oi(ei[s.index])):s.index;let Ir=null;if(!v&&E&&(Ir=function hm(t,n,i,s){const l=t.cleanup;if(null!=l)for(let u=0;u<l.length-1;u+=2){const v=l[u];if(v===i&&l[u+1]===s){const E=n[uo],T=l[u+2];return E.length>T?E[T]:null}"string"==typeof v&&(u+=2)}return null}(t,n,l,s.index)),null!==Ir)(Ir.__ngLastListenerFn__||Ir).__ngNextListenerFn__=u,Ir.__ngLastListenerFn__=u,Ze=!1;else{u=Hs(s,n,Y,u,!1);const ei=i.listen(Sn,l,u);Ee.push(u,ei),j&&j.push(l,en,rr,rr+1)}}else u=Hs(s,n,Y,u,!1);const at=s.outputs;let zt;if(Ze&&null!==at&&(zt=at[l])){const dn=zt.length;if(dn)for(let Sn=0;Sn<dn;Sn+=2){const $i=n[zt[Sn]][zt[Sn+1]].subscribe(u),Nc=Ee.length;Ee.push(u,$i),j&&j.push(l,s.index,Nc,-(Nc+1))}}}(u,l,l[Zn],v,t,n,s),gp}function _0(t,n,i,s){try{return Gi(6,n,i),!1!==i(s)}catch(l){return ng(t,l),!1}finally{Gi(7,n,i)}}function Hs(t,n,i,s,l){return function u(v){if(v===Function)return s;np(t.componentOffset>-1?yo(t.index,n):n);let T=_0(n,i,s,v),j=u.__ngNextListenerFn__;for(;j;)T=_0(n,i,j,v)&&T,j=j.__ngNextListenerFn__;return l&&!1===T&&v.preventDefault(),T}}function v0(t=1){return function Fs(t){return(Yn.lFrame.contextLView=function wu(t,n){for(;t>0;)n=n[Ho],t--;return n}(t,Yn.lFrame.contextLView))[$r]}(t)}function e1(t,n){let i=null;const s=function Ri(t){const n=t.attrs;if(null!=n){const i=n.indexOf(5);if(!(1&i))return n[i+1]}return null}(t);for(let l=0;l<n.length;l++){const u=n[l];if("*"!==u){if(null===s?wa(t,u,!0):oa(s,u))return l}else i=l}return i}function Hd(t){const n=$t()[Nr][yi];if(!n.projection){const s=n.projection=Yl(t?t.length:1,null),l=s.slice();let u=n.child;for(;null!==u;){const v=t?e1(u,t):0;null!==v&&(l[v]?l[v].projectionNext=u:s[v]=u,l[v]=u),u=u.next}}}function pm(t,n=0,i){const s=$t(),l=Kr(),u=lu(l,Jn+t,16,null,i||null);null===u.projection&&(u.projection=n),Ia(),(!s[Wr]||kc())&&32!=(32&u.flags)&&function Qp(t,n,i){Zp(n[Zn],0,n,i,Uu(t,i,n),o2(i.parent||n[yi],i,n))}(l,s,u)}function Pl(t,n,i,s,l){const u=$t(),v=o(u,n,i,s);return v!==Rr&&rc(Kr(),Jr(),u,t,v,u[Zn],l,!1),Pl}function r1(t,n){return t<<17|n<<2}function el(t){return t>>17&32767}function vp(t){return 2|t}function sd(t){return(131068&t)>>2}function Ud(t,n){return-131069&t|n<<2}function o1(t){return 1|t}function bp(t,n,i,s,l){const u=t[i+1],v=null===n;let E=s?el(u):sd(u),T=!1;for(;0!==E&&(!1===T||v);){const Y=t[E+1];vm(t[E],n)&&(T=!0,t[E+1]=s?o1(Y):vp(Y)),E=s?el(Y):sd(Y)}T&&(t[i+1]=s?vp(u):o1(u))}function vm(t,n){return null===t||null==n||(Array.isArray(t)?t[1]:t)===n||!(!Array.isArray(t)||"string"!=typeof n)&&Cc(t,n)>=0}const Fo={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Mp(t){return t.substring(Fo.key,Fo.keyEnd)}function x0(t,n){const i=Fo.textEnd;return i===n?-1:(n=Fo.keyEnd=function Eg(t,n,i){for(;n<i&&t.charCodeAt(n)>32;)n++;return n}(t,Fo.key=n,i),ad(t,n,i))}function ad(t,n,i){for(;n<i&&t.charCodeAt(n)<=32;)n++;return n}function Vi(t,n,i){return Rc(t,n,i,!1),Vi}function $d(t,n){return Rc(t,n,null,!0),$d}function Mm(t){!function Pc(t,n,i,s){const l=Kr(),u=x(2);l.firstUpdatePass&&Em(l,null,u,s);const v=$t();if(i!==Rr&&ra(v,u,i)){const E=l.data[go()];if(A0(E,s)&&!wm(l,u)){let T=s?E.classesWithoutHost:E.stylesWithoutHost;null!==T&&(i=$e(T,i||"")),Rs(l,E,v,i,s)}else!function pu(t,n,i,s,l,u,v,E){l===Rr&&(l=gn);let T=0,j=0,Y=0<l.length?l[0]:null,Ee=0<u.length?u[0]:null;for(;null!==Y||null!==Ee;){const Ze=T<l.length?l[T+1]:void 0,at=j<u.length?u[j+1]:void 0;let dn,zt=null;Y===Ee?(T+=2,j+=2,Ze!==at&&(zt=Ee,dn=at)):null===Ee||null!==Y&&Y<Ee?(T+=2,zt=Y):(j+=2,zt=Ee,dn=at),null!==zt&&Im(t,n,i,s,zt,dn,v,E),Y=T<l.length?l[T]:null,Ee=j<u.length?u[j]:null}}(l,E,v,v[Zn],v[u+1],v[u+1]=function Cg(t,n,i){if(null==i||""===i)return gn;const s=[],l=kl(i);if(Array.isArray(l))for(let u=0;u<l.length;u++)t(s,l[u],!0);else if("object"==typeof l)for(const u in l)l.hasOwnProperty(u)&&t(s,u,l[u]);else"string"==typeof l&&n(s,l);return s}(t,n,i),s,u)}}(Ag,Sc,t,!0)}function Sc(t,n){for(let i=function km(t){return function C0(t){Fo.key=0,Fo.keyEnd=0,Fo.value=0,Fo.valueEnd=0,Fo.textEnd=t.length}(t),x0(t,ad(t,0,Fo.textEnd))}(n);i>=0;i=x0(n,i))Qo(t,Mp(n),!0)}function Rc(t,n,i,s){const l=$t(),u=Kr(),v=x(2);u.firstUpdatePass&&Em(u,t,v,s),n!==Rr&&ra(l,v,n)&&Im(u,u.data[go()],l,l[Zn],t,l[v+1]=function xp(t,n){return null==t||""===t||("string"==typeof n?t+=n:"object"==typeof t&&(t=Be(kl(t)))),t}(n,i),s,v)}function wm(t,n){return n>=t.expandoStartIndex}function Em(t,n,i,s){const l=t.data;if(null===l[i+1]){const u=l[go()],v=wm(t,i);A0(u,s)&&null===n&&!v&&(n=!1),n=function c1(t,n,i,s){const l=function Te(t){const n=Yn.lFrame.currentDirectiveIndex;return-1===n?null:t[n]}(t);let u=s?n.residualClasses:n.residualStyles;if(null===l)0===(s?n.classBindings:n.styleBindings)&&(i=nl(i=Ep(null,t,n,i,s),n.attrs,s),u=null);else{const v=n.directiveStylingLast;if(-1===v||t[v]!==l)if(i=Ep(l,t,n,i,s),null===u){let T=function hu(t,n,i){const s=i?n.classBindings:n.styleBindings;if(0!==sd(s))return t[el(s)]}(t,n,s);void 0!==T&&Array.isArray(T)&&(T=Ep(null,t,n,T[1],s),T=nl(T,n.attrs,s),function xm(t,n,i,s){t[el(i?n.classBindings:n.styleBindings)]=s}(t,n,s,T))}else u=function Cm(t,n,i){let s;const l=n.directiveEnd;for(let u=1+n.directiveStylingLast;u<l;u++)s=nl(s,t[u].hostAttrs,i);return nl(s,n.attrs,i)}(t,n,s)}return void 0!==u&&(s?n.residualClasses=u:n.residualStyles=u),i}(l,u,n,s),function w0(t,n,i,s,l,u){let v=u?n.classBindings:n.styleBindings,E=el(v),T=sd(v);t[s]=i;let Y,j=!1;if(Array.isArray(i)?(Y=i[1],(null===Y||Cc(i,Y)>0)&&(j=!0)):Y=i,l)if(0!==T){const Ze=el(t[E+1]);t[s+1]=r1(Ze,E),0!==Ze&&(t[Ze+1]=Ud(t[Ze+1],s)),t[E+1]=function gm(t,n){return 131071&t|n<<17}(t[E+1],s)}else t[s+1]=r1(E,0),0!==E&&(t[E+1]=Ud(t[E+1],s)),E=s;else t[s+1]=r1(T,0),0===E?E=s:t[T+1]=Ud(t[T+1],s),T=s;j&&(t[s+1]=vp(t[s+1])),bp(t,Y,s,!0),bp(t,Y,s,!1),function Mg(t,n,i,s,l){const u=l?t.residualClasses:t.residualStyles;null!=u&&"string"==typeof n&&Cc(u,n)>=0&&(i[s+1]=o1(i[s+1]))}(n,Y,t,s,u),v=r1(E,T),u?n.classBindings=v:n.styleBindings=v}(l,u,n,i,v,s)}}function Ep(t,n,i,s,l){let u=null;const v=i.directiveEnd;let E=i.directiveStylingLast;for(-1===E?E=i.directiveStart:E++;E<v&&(u=n[E],s=nl(s,u.hostAttrs,l),u!==t);)E++;return null!==t&&(i.directiveStylingLast=E),s}function nl(t,n,i){const s=i?1:2;let l=-1;if(null!==n)for(let u=0;u<n.length;u++){const v=n[u];"number"==typeof v?l=v:l===s&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Qo(t,v,!!i||n[++u]))}return void 0===t?null:t}function Ag(t,n,i){const s=String(n);""!==s&&!s.includes(" ")&&Qo(t,s,i)}function Im(t,n,i,s,l,u,v,E){if(!(3&n.type))return;const T=t.data,j=T[E+1],Y=function _m(t){return 1==(1&t)}(j)?Tm(T,n,i,l,sd(j),v):void 0;fu(Y)||(fu(u)||function M0(t){return 2==(2&t)}(j)&&(u=Tm(T,null,i,l,E,v)),function Xp(t,n,i,s,l){if(n)l?t.addClass(i,s):t.removeClass(i,s);else{let u=-1===s.indexOf("-")?void 0:Ya.DashCase;null==l?t.removeStyle(i,s,u):("string"==typeof l&&l.endsWith("!important")&&(l=l.slice(0,-10),u|=Ya.Important),t.setStyle(i,s,l,u))}}(s,v,ha(go(),i),l,u))}function Tm(t,n,i,s,l,u){const v=null===n;let E;for(;l>0;){const T=t[l],j=Array.isArray(T),Y=j?T[1]:T,Ee=null===Y;let Ze=i[l+1];Ze===Rr&&(Ze=Ee?gn:void 0);let at=Ee?Jl(Ze,s):Y===s?Ze:void 0;if(j&&!fu(at)&&(at=Jl(T,s)),fu(at)&&(E=at,v))return E;const zt=t[l+1];l=v?el(zt):sd(zt)}if(null!==n){let T=u?n.residualClasses:n.residualStyles;null!=T&&(E=Jl(T,s))}return E}function fu(t){return void 0!==t}function A0(t,n){return 0!=(t.flags&(n?8:16))}function Wd(t,n=""){const i=$t(),s=Kr(),l=t+Jn,u=s.firstCreatePass?lu(s,l,1,n,null):s.data[l],v=Gd(s,i,u,n,t);i[l]=v,Hc()&&wd(s,i,v,u),Ar(u,!1)}let Gd=(t,n,i,s,l)=>(fa(!0),function Q(t,n){return t.createText(n)}(n[Zn],s));function co(t){return Cp("",t,""),co}function Cp(t,n,i){const s=$t(),l=o(s,t,n,i);return l!==Rr&&uu(s,go(),l),Cp}function T0(t,n,i,s,l){const u=$t(),v=function c(t,n,i,s,l,u){const E=nd(t,Cs(),i,l);return x(2),E?n+ze(i)+s+ze(l)+u:Rr}(u,t,n,i,s,l);return v!==Rr&&uu(u,go(),v),T0}function Ap(t,n,i,s,l,u,v){const E=$t(),T=d(E,t,n,i,s,l,u,v);return T!==Rr&&uu(E,go(),T),Ap}function yu(t,n,i){const s=$t();return ra(s,ps(),n)&&rc(Kr(),Jr(),s,t,n,s[Zn],i,!0),yu}const N=void 0;var ue=["en",[["a","p"],["AM","PM"],N],[["AM","PM"],N,N],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],N,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],N,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",N,"{1} 'at' {0}",N],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function $(t){const i=Math.floor(Math.abs(t)),s=t.toString().replace(/^[^.]*\.?/,"").length;return 1===i&&0===s?1:5}];let ct={};function En(t){const n=function Kd(t){return t.toLowerCase().replace(/_/g,"-")}(t);let i=ai(n);if(i)return i;const s=n.split("-")[0];if(i=ai(s),i)return i;if("en"===s)return ue;throw new be(701,!1)}function gs(t){return En(t)[Bo.PluralCase]}function ai(t){return t in ct||(ct[t]=rn.ng&&rn.ng.common&&rn.ng.common.locales&&rn.ng.common.locales[t]),ct[t]}var Bo=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(Bo||{});const gu="en-US";let mv=gu;function Rg(t,n,i,s,l){if(t=Dt(t),Array.isArray(t))for(let u=0;u<t.length;u++)Rg(t[u],n,i,s,l);else{const u=Kr(),v=$t(),E=zi();let T=ko(t)?t:Dt(t.provide);const j=Si(t),Y=1048575&E.providerIndexes,Ee=E.directiveStart,Ze=E.providerIndexes>>20;if(ko(t)||!t.multi){const at=new Pa(j,l,td),zt=Og(T,n,l?Y:Y+Ze,Ee);-1===zt?($c(ga(E,v),u,T),Pg(u,t,n.length),n.push(T),E.directiveStart++,E.directiveEnd++,l&&(E.providerIndexes+=1048576),i.push(at),v.push(at)):(i[zt]=at,v[zt]=at)}else{const at=Og(T,n,Y+Ze,Ee),zt=Og(T,n,Y,Y+Ze),Sn=zt>=0&&i[zt];if(l&&!Sn||!l&&!(at>=0&&i[at])){$c(ga(E,v),u,T);const rr=function B4(t,n,i,s,l){const u=new Pa(t,i,td);return u.multi=[],u.index=n,u.componentProviders=0,jv(u,l,s&&!i),u}(l?F4:L4,i.length,l,s,j);!l&&Sn&&(i[zt].providerFactory=rr),Pg(u,t,n.length,0),n.push(T),E.directiveStart++,E.directiveEnd++,l&&(E.providerIndexes+=1048576),i.push(rr),v.push(rr)}else Pg(u,t,at>-1?at:zt,jv(i[l?zt:at],j,!l&&s));!l&&s&&Sn&&i[zt].componentProviders++}}}function Pg(t,n,i,s){const l=ko(n),u=function Lo(t){return!!t.useClass}(n);if(l||u){const T=(u?Dt(n.useClass):n).prototype.ngOnDestroy;if(T){const j=t.destroyHooks||(t.destroyHooks=[]);if(!l&&n.multi){const Y=j.indexOf(i);-1===Y?j.push(i,[s,T]):j[Y+1].push(s,T)}else j.push(i,T)}}}function jv(t,n,i){return i&&t.componentProviders++,t.multi.push(n)-1}function Og(t,n,i,s){for(let l=i;l<s;l++)if(n[l]===t)return l;return-1}function L4(t,n,i,s){return Ng(this.multi,[])}function F4(t,n,i,s){const l=this.multi;let u;if(this.providerFactory){const v=this.providerFactory.componentProviders,E=Ko(i,i[fn],this.providerFactory.index,s);u=E.slice(0,v),Ng(l,u);for(let T=v;T<E.length;T++)u.push(E[T])}else u=[],Ng(l,u);return u}function Ng(t,n){for(let i=0;i<t.length;i++)n.push((0,t[i])());return n}function zv(t,n=[]){return i=>{i.providersResolver=(s,l)=>function V4(t,n,i){const s=Kr();if(s.firstCreatePass){const l=io(t);Rg(i,s.data,s.blueprint,l,!0),Rg(n,s.data,s.blueprint,l,!1)}}(s,l?l(t):t,n)}}class p1{}class Hv{}function j4(t,n){return new Vg(t,n??null,[])}class Vg extends p1{constructor(n,i,s){super(),this._parent=i,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new ug(this);const l=ki(n);this._bootstrapComponents=Al(l.bootstrap),this._r3Injector=zf(n,i,[{provide:p1,useValue:this},{provide:Yu,useValue:this.componentFactoryResolver},...s],Be(n),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(n)}get injector(){return this._r3Injector}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(i=>i()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class Lg extends Hv{constructor(n){super(),this.moduleType=n}create(n){return new Vg(this.moduleType,n,[])}}class Uv extends p1{constructor(n){super(),this.componentFactoryResolver=new ug(this),this.instance=null;const i=new Ku([...n.providers,{provide:p1,useValue:this},{provide:Yu,useValue:this.componentFactoryResolver}],n.parent||xf(),n.debugName,new Set(["environment"]));this.injector=i,n.runEnvironmentInitializers&&i.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}}function qv(t,n,i=null){return new Uv({providers:t,parent:n,debugName:i,runEnvironmentInitializers:!0}).injector}let $v=(()=>{class t{constructor(i){this._injector=i,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(i){if(!i.standalone)return null;if(!this.cachedInjectors.has(i)){const s=M2(0,i.type),l=s.length>0?qv([s],this._injector,`Standalone[${i.type.name}]`):null;this.cachedInjectors.set(i,l)}return this.cachedInjectors.get(i)}ngOnDestroy(){try{for(const i of this.cachedInjectors.values())null!==i&&i.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=un({token:t,providedIn:"environment",factory:()=>new t(fe(Dc))})}}return t})();function Wv(t){t.getStandaloneInjector=n=>n.get($v).getOrCreateStandaloneInjector(t)}function Jv(t,n,i){const s=wi()+t,l=$t();return l[s]===Rr?Tl(l,s,i?n.call(i):n()):function zh(t,n){return t[n]}(l,s)}function ek(t,n,i,s){return function rk(t,n,i,s,l,u){const v=n+i;return ra(t,v,l)?Tl(t,v+1,u?s.call(u,l):s(l)):K0(t,v+1)}($t(),wi(),t,n,i,s)}function tk(t,n,i,s,l){return ik($t(),wi(),t,n,i,s,l)}function K0(t,n){const i=t[n];return i===Rr?void 0:i}function ik(t,n,i,s,l,u,v){const E=n+i;return nd(t,E,l,u)?Tl(t,E+2,v?s.call(v,l,u):s(l,u)):K0(t,E+2)}function sk(t,n,i,s,l,u,v,E,T){const j=n+i;return function a(t,n,i,s,l,u){const v=nd(t,n,i,s);return nd(t,n+2,l,u)||v}(t,j,l,u,v,E)?Tl(t,j+4,T?s.call(T,l,u,v,E):s(l,u,v,E)):K0(t,j+4)}function ck(t,n){const i=Kr();let s;const l=t+Jn;i.firstCreatePass?(s=function rM(t,n){if(n)for(let i=n.length-1;i>=0;i--){const s=n[i];if(t===s.name)return s}}(n,i.pipeRegistry),i.data[l]=s,s.onDestroy&&(i.destroyHooks??=[]).push(l,s.onDestroy)):s=i.data[l];const u=s.factory||(s.factory=is(s.type)),E=Qt(td);try{const T=$a(!1),j=u();return $a(T),function f0(t,n,i,s){i>=t.data.length&&(t.data[i]=null,t.blueprint[i]=null),n[i]=s}(i,$t(),l,j),j}finally{Qt(E)}}function lk(t,n,i,s){const l=t+Jn,u=$t(),v=yr(u,l);return Q0(u,l)?ik(u,wi(),n,v.transform,i,s,v):v.transform(i,s)}function uk(t,n,i,s,l,u){const v=t+Jn,E=$t(),T=yr(E,v);return Q0(E,v)?sk(E,wi(),n,T.transform,i,s,l,u,T):T.transform(i,s,l,u)}function Q0(t,n){return t[fn].data[n].pure}function aM(){return this._results[Symbol.iterator]()}class Um{get changes(){return this._changes||(this._changes=new na)}constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const i=Um.prototype;i[Symbol.iterator]||(i[Symbol.iterator]=aM)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,i){return this._results.reduce(n,i)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,i){const s=this;s.dirty=!1;const l=function Is(t){return t.flat(Number.POSITIVE_INFINITY)}(n);(this._changesDetected=!function g1(t,n,i){if(t.length!==n.length)return!1;for(let s=0;s<t.length;s++){let l=t[s],u=n[s];if(i&&(l=i(l),u=i(u)),u!==l)return!1}return!0}(s._results,l,i))&&(s._results=l,s.length=l.length,s.last=l[this.length-1],s.first=l[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function dk(t,n,i,s=!0){const l=n[fn];if(function Di(t,n,i,s){const l=Cr+s,u=i.length;s>0&&(i[l-1][Li]=n),s<u-Cr?(n[Li]=i[l],Xl(i,Cr+s,n)):(i.push(n),n[Li]=null),n[Or]=i;const v=n[ls];null!==v&&i!==v&&function va(t,n){const i=t[lr];n[Nr]!==n[Or][Or][Nr]&&(t[di]=!0),null===i?t[lr]=[n]:i.push(n)}(v,n);const E=n[Co];null!==E&&E.insertView(t),n[Un]|=128}(l,n,t,i),s){const u=Kp(i,t),v=n[Zn],E=O1(v,t[ho]);null!==E&&function Fn(t,n,i,s,l,u){s[Tr]=l,s[yi]=n,xd(t,s,i,1,l,u)}(l,t[yi],v,n,E,u)}}let Z0=(()=>{class t{static{this.__NG_ELEMENT_ID__=dM}}return t})();const lM=Z0,uM=class extends lM{constructor(n,i,s){super(),this._declarationLView=n,this._declarationTContainer=i,this.elementRef=s}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,i){return this.createEmbeddedViewImpl(n,i)}createEmbeddedViewImpl(n,i,s){const l=function cM(t,n,i,s){const l=n.tView,E=Gf(t,l,i,4096&t[Un]?4096:16,null,n,null,null,null,s?.injector??null,s?.hydrationInfo??null);E[ls]=t[n.index];const j=t[Co];return null!==j&&(E[Co]=j.createEmbeddedView(l)),tm(l,E,i),E}(this._declarationLView,this._declarationTContainer,n,{injector:i,hydrationInfo:s});return new lp(l)}};function dM(){return qm(zi(),$t())}function qm(t,n){return 4&t.type?new uM(n,t,Sd(t,n)):null}let Wm=(()=>{class t{static{this.__NG_ELEMENT_ID__=gM}}return t})();function gM(){return _k(zi(),$t())}const _M=Wm,yk=class extends _M{constructor(n,i,s){super(),this._lContainer=n,this._hostTNode=i,this._hostLView=s}get element(){return Sd(this._hostTNode,this._hostLView)}get injector(){return new Ni(this._hostTNode,this._hostLView)}get parentInjector(){const n=ea(this._hostTNode,this._hostLView);if(xu(n)){const i=Js(n,this._hostLView),s=Oa(n);return new Ni(i[fn].data[s+8],i)}return new Ni(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const i=gk(this._lContainer);return null!==i&&i[n]||null}get length(){return this._lContainer.length-Cr}createEmbeddedView(n,i,s){let l,u;"number"==typeof s?l=s:null!=s&&(l=s.index,u=s.injector);const E=n.createEmbeddedViewImpl(i||{},u,null);return this.insertImpl(E,l,false),E}createComponent(n,i,s,l,u){const v=n&&!function fl(t){return"function"==typeof t}(n);let E;if(v)E=i;else{const dn=i||{};E=dn.index,s=dn.injector,l=dn.projectableNodes,u=dn.environmentInjector||dn.ngModuleRef}const T=v?n:new up(In(n)),j=s||this.parentInjector;if(!u&&null==T.ngModule){const Sn=(v?j:this.parentInjector).get(Dc,null);Sn&&(u=Sn)}In(T.componentType??{});const at=T.create(j,l,null,u);return this.insertImpl(at.hostView,E,false),at}insert(n,i){return this.insertImpl(n,i,!1)}insertImpl(n,i,s){const l=n._lView;if(function Fl(t){return ni(t[Or])}(l)){const T=this.indexOf(n);if(-1!==T)this.detach(T);else{const j=l[Or],Y=new yk(j,j[yi],j[Or]);Y.detach(Y.indexOf(n))}}const v=this._adjustIndex(i),E=this._lContainer;return dk(E,l,v,!s),n.attachToViewContainerRef(),Xl(Bg(E),v,n),n}move(n,i){return this.insert(n,i)}indexOf(n){const i=gk(this._lContainer);return null!==i?i.indexOf(n):-1}remove(n){const i=this._adjustIndex(n,-1),s=Ja(this._lContainer,i);s&&(Qa(Bg(this._lContainer),i),vl(s[fn],s))}detach(n){const i=this._adjustIndex(n,-1),s=Ja(this._lContainer,i);return s&&null!=Qa(Bg(this._lContainer),i)?new lp(s):null}_adjustIndex(n,i=0){return n??this.length+i}};function gk(t){return t[8]}function Bg(t){return t[8]||(t[8]=[])}function _k(t,n){let i;const s=n[t.index];return ni(s)?i=s:(i=Xy(s,n,null,t),n[t.index]=i,Jf(n,i)),vk(i,n,t,s),new yk(i,t,n)}let vk=function kk(t,n,i,s){if(t[ho])return;let l;l=8&i.type?oi(s):function vM(t,n){const i=t[Zn],s=i.createComment(""),l=mo(n,t);return ec(i,O1(i,l),s,function Wp(t,n){return t.nextSibling(n)}(i,l),!1),s}(n,i),t[ho]=l};class jg{constructor(n){this.queryList=n,this.matches=null}clone(){return new jg(this.queryList)}setDirty(){this.queryList.setDirty()}}class zg{constructor(n=[]){this.queries=n}createEmbeddedView(n){const i=n.queries;if(null!==i){const s=null!==n.contentQueries?n.contentQueries[0]:i.length,l=[];for(let u=0;u<s;u++){const v=i.getByIndex(u);l.push(this.queries[v.indexInDeclarationView].clone())}return new zg(l)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let i=0;i<this.queries.length;i++)null!==Tk(n,i).matches&&this.queries[i].setDirty()}}class bk{constructor(n,i,s=null){this.predicate=n,this.flags=i,this.read=s}}class Hg{constructor(n=[]){this.queries=n}elementStart(n,i){for(let s=0;s<this.queries.length;s++)this.queries[s].elementStart(n,i)}elementEnd(n){for(let i=0;i<this.queries.length;i++)this.queries[i].elementEnd(n)}embeddedTView(n){let i=null;for(let s=0;s<this.length;s++){const l=null!==i?i.length:0,u=this.getByIndex(s).embeddedTView(n,l);u&&(u.indexInDeclarationView=s,null!==i?i.push(u):i=[u])}return null!==i?new Hg(i):null}template(n,i){for(let s=0;s<this.queries.length;s++)this.queries[s].template(n,i)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class Ug{constructor(n,i=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=i}elementStart(n,i){this.isApplyingToNode(i)&&this.matchTNode(n,i)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,i){this.elementStart(n,i)}embeddedTView(n,i){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,i),new Ug(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const i=this._declarationNodeIndex;let s=n.parent;for(;null!==s&&8&s.type&&s.index!==i;)s=s.parent;return i===(null!==s?s.index:-1)}return this._appliesToNextNode}matchTNode(n,i){const s=this.metadata.predicate;if(Array.isArray(s))for(let l=0;l<s.length;l++){const u=s[l];this.matchTNodeWithReadOption(n,i,MM(i,u)),this.matchTNodeWithReadOption(n,i,ta(i,n,u,!1,!1))}else s===Z0?4&i.type&&this.matchTNodeWithReadOption(n,i,-1):this.matchTNodeWithReadOption(n,i,ta(i,n,s,!1,!1))}matchTNodeWithReadOption(n,i,s){if(null!==s){const l=this.metadata.read;if(null!==l)if(l===Cl||l===Wm||l===Z0&&4&i.type)this.addMatch(i.index,-2);else{const u=ta(i,n,l,!1,!1);null!==u&&this.addMatch(i.index,u)}else this.addMatch(i.index,s)}}addMatch(n,i){null===this.matches?this.matches=[n,i]:this.matches.push(n,i)}}function MM(t,n){const i=t.localNames;if(null!==i)for(let s=0;s<i.length;s+=2)if(i[s]===n)return i[s+1];return null}function EM(t,n,i,s){return-1===i?function wM(t,n){return 11&t.type?Sd(t,n):4&t.type?qm(t,n):null}(n,t):-2===i?function xM(t,n,i){return i===Cl?Sd(n,t):i===Z0?qm(n,t):i===Wm?_k(n,t):void 0}(t,n,s):Ko(t,t[fn],i,n)}function Mk(t,n,i,s){const l=n[Co].queries[s];if(null===l.matches){const u=t.data,v=i.matches,E=[];for(let T=0;T<v.length;T+=2){const j=v[T];E.push(j<0?null:EM(n,u[j],v[T+1],i.metadata.read))}l.matches=E}return l.matches}function qg(t,n,i,s){const l=t.queries.getByIndex(i),u=l.matches;if(null!==u){const v=Mk(t,n,l,i);for(let E=0;E<u.length;E+=2){const T=u[E];if(T>0)s.push(v[E/2]);else{const j=u[E+1],Y=n[-T];for(let Ee=Cr;Ee<Y.length;Ee++){const Ze=Y[Ee];Ze[ls]===Ze[Or]&&qg(Ze[fn],Ze,j,s)}if(null!==Y[lr]){const Ee=Y[lr];for(let Ze=0;Ze<Ee.length;Ze++){const at=Ee[Ze];qg(at[fn],at,j,s)}}}}}return s}function wk(t){const n=$t(),i=Kr(),s=Mt();ft(s+1);const l=Tk(i,s);if(t.dirty&&function Vo(t){return 4==(4&t[Un])}(n)===(2==(2&l.metadata.flags))){if(null===l.matches)t.reset([]);else{const u=l.crossesNgTemplate?qg(i,n,s,[]):Mk(i,n,l,s);t.reset(u,my),t.notifyOnChanges()}return!0}return!1}function Ek(t,n,i){const s=Kr();s.firstCreatePass&&(Ik(s,new bk(t,n,i),-1),2==(2&n)&&(s.staticViewQueries=!0)),Ak(s,$t(),n)}function xk(t,n,i,s){const l=Kr();if(l.firstCreatePass){const u=zi();Ik(l,new bk(n,i,s),u.index),function AM(t,n){const i=t.contentQueries||(t.contentQueries=[]);n!==(i.length?i[i.length-1]:-1)&&i.push(t.queries.length-1,n)}(l,t),2==(2&i)&&(l.staticContentQueries=!0)}Ak(l,$t(),i)}function Ck(){return function CM(t,n){return t[Co].queries[n].queryList}($t(),Mt())}function Ak(t,n,i){const s=new Um(4==(4&i));(function By(t,n,i,s){const l=Jy(n);l.push(i),t.firstCreatePass&&eg(t).push(s,l.length-1)})(t,n,s,s.destroy),null===n[Co]&&(n[Co]=new zg),n[Co].queries.push(new jg(s))}function Ik(t,n,i){null===t.queries&&(t.queries=new Hg),t.queries.track(new Ug(n,i))}function Tk(t,n){return t.queries.getByIndex(n)}function Dk(t,n){return qm(t,n)}function $g(t){return!!ki(t)}const Kk=new Jt("Application Initializer");let Zg=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,s)=>{this.resolve=i,this.reject=s}),this.appInits=Ae(Kk,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const i=[];for(const l of this.appInits){const u=l();if(Yh(u))i.push(u);else if(du(u)){const v=new Promise((E,T)=>{u.subscribe({complete:E,error:T})});i.push(v)}}const s=()=>{this.done=!0,this.resolve()};Promise.all(i).then(()=>{s()}).catch(l=>{this.reject(l)}),0===i.length&&s(),this.initialized=!0}static{this.\u0275fac=function(s){return new(s||t)}}static{this.\u0275prov=un({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Qk=(()=>{class t{log(i){console.log(i)}warn(i){console.warn(i)}static{this.\u0275fac=function(s){return new(s||t)}}static{this.\u0275prov=un({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})();const Km=new Jt("LocaleId",{providedIn:"root",factory:()=>Ae(Km,et.Optional|et.SkipSelf)||function GM(){return typeof $localize<"u"&&$localize.locale||gu}()}),KM=new Jt("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let Zk=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new se.t(!1)}add(){this.hasPendingTasks.next(!0);const i=this.taskId++;return this.pendingTasks.add(i),i}remove(i){this.pendingTasks.delete(i),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static{this.\u0275fac=function(s){return new(s||t)}}static{this.\u0275prov=un({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();class ZM{constructor(n,i){this.ngModuleFactory=n,this.componentFactories=i}}let XM=(()=>{class t{compileModuleSync(i){return new Lg(i)}compileModuleAsync(i){return Promise.resolve(this.compileModuleSync(i))}compileModuleAndAllComponentsSync(i){const s=this.compileModuleSync(i),u=Al(ki(i).declarations).reduce((v,E)=>{const T=In(E);return T&&v.push(new up(T)),v},[]);return new ZM(s,u)}compileModuleAndAllComponentsAsync(i){return Promise.resolve(this.compileModuleAndAllComponentsSync(i))}clearCache(){}clearCacheFor(i){}getModuleId(i){}static{this.\u0275fac=function(s){return new(s||t)}}static{this.\u0275prov=un({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();const tb=new Jt(""),nb=new Jt("");let Jg,v5=(()=>{class t{constructor(i,s,l){this._ngZone=i,this.registry=s,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Jg||(function k5(t){Jg=t}(l),l.addToWindow(s)),this._watchAngularEvents(),i.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Zi.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let i=this._callbacks.pop();clearTimeout(i.timeoutId),i.doneCb(this._didWork)}this._didWork=!1});else{let i=this.getPendingTasks();this._callbacks=this._callbacks.filter(s=>!s.updateCb||!s.updateCb(i)||(clearTimeout(s.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(i=>({source:i.source,creationLocation:i.creationLocation,data:i.data})):[]}addCallback(i,s,l){let u=-1;s&&s>0&&(u=setTimeout(()=>{this._callbacks=this._callbacks.filter(v=>v.timeoutId!==u),i(this._didWork,this.getPendingTasks())},s)),this._callbacks.push({doneCb:i,timeoutId:u,updateCb:l})}whenStable(i,s,l){if(l&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(i,s,l),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(i){this.registry.registerApplication(i,this)}unregisterApplication(i){this.registry.unregisterApplication(i)}findProviders(i,s,l){return[]}static{this.\u0275fac=function(s){return new(s||t)(fe(Zi),fe(rb),fe(nb))}}static{this.\u0275prov=un({token:t,factory:t.\u0275fac})}}return t})(),rb=(()=>{class t{constructor(){this._applications=new Map}registerApplication(i,s){this._applications.set(i,s)}unregisterApplication(i){this._applications.delete(i)}unregisterAllApplications(){this._applications.clear()}getTestability(i){return this._applications.get(i)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(i,s=!0){return Jg?.findTestabilityInTree(this,i,s)??null}static{this.\u0275fac=function(s){return new(s||t)}}static{this.\u0275prov=un({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})(),Qd=null;const ib=new Jt("AllowMultipleToken"),e_=new Jt("PlatformDestroyListeners"),t_=new Jt("appBootstrapListener");class w5{constructor(n,i){this.name=n,this.token=i}}function ab(t,n,i=[]){const s=`Platform: ${n}`,l=new Jt(s);return(u=[])=>{let v=n_();if(!v||v.injector.get(ib,!1)){const E=[...i,...u,{provide:l,useValue:!0}];t?t(E):function E5(t){if(Qd&&!Qd.get(ib,!1))throw new be(400,!1);(function ob(){!function Ll(t){jc=t}(()=>{throw new be(600,!1)})})(),Qd=t;const n=t.get(lb);(function sb(t){t.get(Af,null)?.forEach(i=>i())})(t)}(function cb(t=[],n){return ka.create({name:n,providers:[{provide:nc,useValue:"platform"},{provide:e_,useValue:new Set([()=>Qd=null])},...t]})}(E,s))}return function C5(t){const n=n_();if(!n)throw new be(401,!1);return n}()}}function n_(){return Qd?.get(lb)??null}let lb=(()=>{class t{constructor(i){this._injector=i,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(i,s){const l=function A5(t="zone.js",n){return"noop"===t?new My:"zone.js"===t?new Zi(n):t}(s?.ngZone,function ub(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:s?.ngZoneEventCoalescing,runCoalescing:s?.ngZoneRunCoalescing}));return l.run(()=>{const u=function z4(t,n,i){return new Vg(t,n,i)}(i.moduleType,this.injector,function mb(t){return[{provide:Zi,useFactory:t},{provide:xh,multi:!0,useFactory:()=>{const n=Ae(T5,{optional:!0});return()=>n.initialize()}},{provide:fb,useFactory:I5},{provide:F2,useFactory:B2}]}(()=>l)),v=u.injector.get(au,null);return l.runOutsideAngular(()=>{const E=l.onError.subscribe({next:T=>{v.handleError(T)}});u.onDestroy(()=>{Zm(this._modules,u),E.unsubscribe()})}),function db(t,n,i){try{const s=i();return Yh(s)?s.catch(l=>{throw n.runOutsideAngular(()=>t.handleError(l)),l}):s}catch(s){throw n.runOutsideAngular(()=>t.handleError(s)),s}}(v,l,()=>{const E=u.injector.get(Zg);return E.runInitializers(),E.donePromise.then(()=>(function yv(t){Ct(t,"Expected localeId to be defined"),"string"==typeof t&&(mv=t.toLowerCase().replace(/_/g,"-"))}(u.injector.get(Km,gu)||gu),this._moduleDoBootstrap(u),u))})})}bootstrapModule(i,s=[]){const l=hb({},s);return function b5(t,n,i){const s=new Lg(i);return Promise.resolve(s)}(0,0,i).then(u=>this.bootstrapModuleFactory(u,l))}_moduleDoBootstrap(i){const s=i.injector.get(Op);if(i._bootstrapComponents.length>0)i._bootstrapComponents.forEach(l=>s.bootstrap(l));else{if(!i.instance.ngDoBootstrap)throw new be(-403,!1);i.instance.ngDoBootstrap(s)}this._modules.push(i)}onDestroy(i){this._destroyListeners.push(i)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new be(404,!1);this._modules.slice().forEach(s=>s.destroy()),this._destroyListeners.forEach(s=>s());const i=this._injector.get(e_,null);i&&(i.forEach(s=>s()),i.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static{this.\u0275fac=function(s){return new(s||t)(fe(ka))}}static{this.\u0275prov=un({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})();function hb(t,n){return Array.isArray(n)?n.reduce(hb,t):{...t,...n}}let Op=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Ae(fb),this.zoneIsStable=Ae(F2),this.componentTypes=[],this.components=[],this.isStable=Ae(Zk).hasPendingTasks.pipe((0,Se.n)(i=>i?(0,ae.of)(!1):this.zoneIsStable),(0,De.F)(),(0,Ve.u)()),this._injector=Ae(Dc)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(i,s){const l=i instanceof Nf;if(!this._injector.get(Zg).done)throw!l&&Ji(i),new be(405,!1);let v;v=l?i:this._injector.get(Yu).resolveComponentFactory(i),this.componentTypes.push(v.componentType);const E=function M5(t){return t.isBoundToModule}(v)?void 0:this._injector.get(p1),j=v.create(ka.NULL,[],s||v.selector,E),Y=j.location.nativeElement,Ee=j.injector.get(tb,null);return Ee?.registerApplication(Y),j.onDestroy(()=>{this.detachView(j.hostView),Zm(this.components,j),Ee?.unregisterApplication(Y)}),this._loadComponent(j),j}tick(){if(this._runningTick)throw new be(101,!1);try{this._runningTick=!0;for(let i of this._views)i.detectChanges()}catch(i){this.internalErrorHandler(i)}finally{this._runningTick=!1}}attachView(i){const s=i;this._views.push(s),s.attachToAppRef(this)}detachView(i){const s=i;Zm(this._views,s),s.detachFromAppRef()}_loadComponent(i){this.attachView(i.hostView),this.tick(),this.components.push(i);const s=this._injector.get(t_,[]);s.push(...this._bootstrapListeners),s.forEach(l=>l(i))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(i=>i()),this._views.slice().forEach(i=>i.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(i){return this._destroyListeners.push(i),()=>Zm(this._destroyListeners,i)}destroy(){if(this._destroyed)throw new be(406,!1);const i=this._injector;i.destroy&&!i.destroyed&&i.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(s){return new(s||t)}}static{this.\u0275prov=un({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function Zm(t,n){const i=t.indexOf(n);i>-1&&t.splice(i,1)}const fb=new Jt("",{providedIn:"root",factory:()=>Ae(au).handleError.bind(void 0)});function I5(){const t=Ae(Zi),n=Ae(au);return i=>t.runOutsideAngular(()=>n.handleError(i))}let T5=(()=>{class t{constructor(){this.zone=Ae(Zi),this.applicationRef=Ae(Op)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(s){return new(s||t)}}static{this.\u0275prov=un({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();let S5=(()=>{class t{static{this.__NG_ELEMENT_ID__=R5}}return t})();function R5(t){return function P5(t,n,i){if(ro(t)&&!i){const s=yo(t.index,n);return new lp(s,s)}return 47&t.type?new lp(n[Nr],n):null}(zi(),$t(),16==(16&t))}class vb{constructor(){}supports(n){return n0(n)}create(n){return new F5(n)}}const L5=(t,n)=>n;class F5{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||L5}forEachItem(n){let i;for(i=this._itHead;null!==i;i=i._next)n(i)}forEachOperation(n){let i=this._itHead,s=this._removalsHead,l=0,u=null;for(;i||s;){const v=!s||i&&i.currentIndex<bb(s,l,u)?i:s,E=bb(v,l,u),T=v.currentIndex;if(v===s)l--,s=s._nextRemoved;else if(i=i._next,null==v.previousIndex)l++;else{u||(u=[]);const j=E-l,Y=T-l;if(j!=Y){for(let Ze=0;Ze<j;Ze++){const at=Ze<u.length?u[Ze]:u[Ze]=0,zt=at+Ze;Y<=zt&&zt<j&&(u[Ze]=at+1)}u[v.previousIndex]=Y-j}}E!==T&&n(v,E,T)}}forEachPreviousItem(n){let i;for(i=this._previousItHead;null!==i;i=i._nextPrevious)n(i)}forEachAddedItem(n){let i;for(i=this._additionsHead;null!==i;i=i._nextAdded)n(i)}forEachMovedItem(n){let i;for(i=this._movesHead;null!==i;i=i._nextMoved)n(i)}forEachRemovedItem(n){let i;for(i=this._removalsHead;null!==i;i=i._nextRemoved)n(i)}forEachIdentityChange(n){let i;for(i=this._identityChangesHead;null!==i;i=i._nextIdentityChange)n(i)}diff(n){if(null==n&&(n=[]),!n0(n))throw new be(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let l,u,v,i=this._itHead,s=!1;if(Array.isArray(n)){this.length=n.length;for(let E=0;E<this.length;E++)u=n[E],v=this._trackByFn(E,u),null!==i&&Object.is(i.trackById,v)?(s&&(i=this._verifyReinsertion(i,u,v,E)),Object.is(i.item,u)||this._addIdentityChange(i,u)):(i=this._mismatch(i,u,v,E),s=!0),i=i._next}else l=0,function pv(t,n){if(Array.isArray(t))for(let i=0;i<t.length;i++)n(t[i]);else{const i=t[Symbol.iterator]();let s;for(;!(s=i.next()).done;)n(s.value)}}(n,E=>{v=this._trackByFn(l,E),null!==i&&Object.is(i.trackById,v)?(s&&(i=this._verifyReinsertion(i,E,v,l)),Object.is(i.item,E)||this._addIdentityChange(i,E)):(i=this._mismatch(i,E,v,l),s=!0),i=i._next,l++}),this.length=l;return this._truncate(i),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,i,s,l){let u;return null===n?u=this._itTail:(u=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(s,null))?(Object.is(n.item,i)||this._addIdentityChange(n,i),this._reinsertAfter(n,u,l)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(s,l))?(Object.is(n.item,i)||this._addIdentityChange(n,i),this._moveAfter(n,u,l)):n=this._addAfter(new B5(i,s),u,l),n}_verifyReinsertion(n,i,s,l){let u=null===this._unlinkedRecords?null:this._unlinkedRecords.get(s,null);return null!==u?n=this._reinsertAfter(u,n._prev,l):n.currentIndex!=l&&(n.currentIndex=l,this._addToMoves(n,l)),n}_truncate(n){for(;null!==n;){const i=n._next;this._addToRemovals(this._unlink(n)),n=i}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,i,s){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const l=n._prevRemoved,u=n._nextRemoved;return null===l?this._removalsHead=u:l._nextRemoved=u,null===u?this._removalsTail=l:u._prevRemoved=l,this._insertAfter(n,i,s),this._addToMoves(n,s),n}_moveAfter(n,i,s){return this._unlink(n),this._insertAfter(n,i,s),this._addToMoves(n,s),n}_addAfter(n,i,s){return this._insertAfter(n,i,s),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,i,s){const l=null===i?this._itHead:i._next;return n._next=l,n._prev=i,null===l?this._itTail=n:l._prev=n,null===i?this._itHead=n:i._next=n,null===this._linkedRecords&&(this._linkedRecords=new kb),this._linkedRecords.put(n),n.currentIndex=s,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const i=n._prev,s=n._next;return null===i?this._itHead=s:i._next=s,null===s?this._itTail=i:s._prev=i,n}_addToMoves(n,i){return n.previousIndex===i||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new kb),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,i){return n.item=i,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class B5{constructor(n,i){this.item=n,this.trackById=i,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class j5{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,i){let s;for(s=this._head;null!==s;s=s._nextDup)if((null===i||i<=s.currentIndex)&&Object.is(s.trackById,n))return s;return null}remove(n){const i=n._prevDup,s=n._nextDup;return null===i?this._head=s:i._nextDup=s,null===s?this._tail=i:s._prevDup=i,null===this._head}}class kb{constructor(){this.map=new Map}put(n){const i=n.trackById;let s=this.map.get(i);s||(s=new j5,this.map.set(i,s)),s.add(n)}get(n,i){const l=this.map.get(n);return l?l.get(n,i):null}remove(n){const i=n.trackById;return this.map.get(i).remove(n)&&this.map.delete(i),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function bb(t,n,i){const s=t.previousIndex;if(null===s)return s;let l=0;return i&&s<i.length&&(l=i[s]),s+n+l}class Mb{constructor(){}supports(n){return n instanceof Map||om(n)}create(){return new z5}}class z5{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(n){let i;for(i=this._mapHead;null!==i;i=i._next)n(i)}forEachPreviousItem(n){let i;for(i=this._previousMapHead;null!==i;i=i._nextPrevious)n(i)}forEachChangedItem(n){let i;for(i=this._changesHead;null!==i;i=i._nextChanged)n(i)}forEachAddedItem(n){let i;for(i=this._additionsHead;null!==i;i=i._nextAdded)n(i)}forEachRemovedItem(n){let i;for(i=this._removalsHead;null!==i;i=i._nextRemoved)n(i)}diff(n){if(n){if(!(n instanceof Map||om(n)))throw new be(900,!1)}else n=new Map;return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let i=this._mapHead;if(this._appendAfter=null,this._forEach(n,(s,l)=>{if(i&&i.key===l)this._maybeAddToChanges(i,s),this._appendAfter=i,i=i._next;else{const u=this._getOrCreateRecordForKey(l,s);i=this._insertBeforeOrAppend(i,u)}}),i){i._prev&&(i._prev._next=null),this._removalsHead=i;for(let s=i;null!==s;s=s._nextRemoved)s===this._mapHead&&(this._mapHead=null),this._records.delete(s.key),s._nextRemoved=s._next,s.previousValue=s.currentValue,s.currentValue=null,s._prev=null,s._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,i){if(n){const s=n._prev;return i._next=n,i._prev=s,n._prev=i,s&&(s._next=i),n===this._mapHead&&(this._mapHead=i),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=i,i._prev=this._appendAfter):this._mapHead=i,this._appendAfter=i,null}_getOrCreateRecordForKey(n,i){if(this._records.has(n)){const l=this._records.get(n);this._maybeAddToChanges(l,i);const u=l._prev,v=l._next;return u&&(u._next=v),v&&(v._prev=u),l._next=null,l._prev=null,l}const s=new H5(n);return this._records.set(n,s),s.currentValue=i,this._addToAdditions(s),s}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;null!==n;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;null!=n;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,i){Object.is(i,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=i,this._addToChanges(n))}_addToAdditions(n){null===this._additionsHead?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){null===this._changesHead?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,i){n instanceof Map?n.forEach(i):Object.keys(n).forEach(s=>i(n[s],s))}}class H5{constructor(n){this.key=n,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function wb(){return new c_([new vb])}let c_=(()=>{class t{static{this.\u0275prov=un({token:t,providedIn:"root",factory:wb})}constructor(i){this.factories=i}static create(i,s){if(null!=s){const l=s.factories.slice();i=i.concat(l)}return new t(i)}static extend(i){return{provide:t,useFactory:s=>t.create(i,s||wb()),deps:[[t,new ye,new W]]}}find(i){const s=this.factories.find(l=>l.supports(i));if(null!=s)return s;throw new be(901,!1)}}return t})();function Eb(){return new l_([new Mb])}let l_=(()=>{class t{static{this.\u0275prov=un({token:t,providedIn:"root",factory:Eb})}constructor(i){this.factories=i}static create(i,s){if(s){const l=s.factories.slice();i=i.concat(l)}return new t(i)}static extend(i){return{provide:t,useFactory:s=>t.create(i,s||Eb()),deps:[[t,new ye,new W]]}}find(i){const s=this.factories.find(l=>l.supports(i));if(s)return s;throw new be(901,!1)}}return t})();const $5=ab(null,"core",[]);let W5=(()=>{class t{constructor(i){}static{this.\u0275fac=function(s){return new(s||t)(fe(Op))}}static{this.\u0275mod=qs({type:t})}static{this.\u0275inj=zn({})}}return t})();function c3(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}function u3(t){const n=In(t);if(!n)return null;const i=new up(n);return{get selector(){return i.selector},get type(){return i.componentType},get inputs(){return i.inputs},get outputs(){return i.outputs},get ngContentSelectors(){return i.ngContentSelectors},get isStandalone(){return n.standalone},get isSignal(){return n.signals}}}},7440:(hn,tt,B)=>{B.d(tt,{MW:()=>$e,Wp:()=>Ft,XU:()=>J,gL:()=>se});var y=B(2214),ne=B(7705),_e=B(5407);class J{constructor(Ge){return Ge}}class se{constructor(){return(0,y.Dk)()}}const Se=new ne.nKC("angularfire2._apps"),De={provide:J,useFactory:function Ve(be){return be&&1===be.length?be[0]:new J((0,y.Sx)())},deps:[[new ne.Xx1,Se]]},re={provide:se,deps:[[new ne.Xx1,Se]]};function ve(be){return(Ge,ze)=>{const Ke=Ge.runOutsideAngular(()=>be(ze));return new J(Ke)}}let Be=(()=>{class be{constructor(ze){(0,y.KO)("angularfire",_e.xv.full,"core"),(0,y.KO)("angularfire",_e.xv.full,"app"),(0,y.KO)("angular",ne.xvI.full,ze.toString())}static \u0275fac=function(Ke){return new(Ke||be)(ne.KVO(ne.Agw))};static \u0275mod=ne.$C({type:be});static \u0275inj=ne.G2t({providers:[De,re]})}return be})();function $e(be,...Ge){return{ngModule:Be,providers:[{provide:Se,useFactory:ve(be),multi:!0,deps:[ne.SKi,ne.zZn,_e.u0,...Ge]}]}}const Ft=(0,_e.S3)(y.Wp,!0)},4665:(hn,tt,B)=>{B.d(tt,{DF:()=>Ui});var y=B(5407),se=(B(7705),B(7440),B(2214),B(467)),ae=B(7852),Ve=B(1076),Se=B(8041),De=B(1635),re=B(1362);const _n=function Ft(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Xt=new Ve.FA("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ge=new Se.Vy("@firebase/auth");function Ke(w,...h){Ge.logLevel<=Se.$b.ERROR&&Ge.error(`Auth (${ae.MF}): ${w}`,...h)}function dt(w,...h){throw qn(w,...h)}function xt(w,...h){return qn(w,...h)}function Yt(w,h,_){const I=Object.assign(Object.assign({},_n()),{[h]:_});return new Ve.FA("auth","Firebase",I).create(h,{appName:w.name})}function mn(w){return Yt(w,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function qn(w,...h){if("string"!=typeof w){const _=h[0],I=[...h.slice(1)];return I[0]&&(I[0].appName=w.name),w._errorFactory.create(_,...I)}return Xt.create(w,...h)}function Lt(w,h,..._){if(!w)throw qn(h,..._)}function ht(w){const h="INTERNAL ASSERTION FAILED: "+w;throw Ke(h),new Error(h)}function Ht(w,h){w||ht(h)}function Ot(){var w;return typeof self<"u"&&(null===(w=self.location)||void 0===w?void 0:w.protocol)||null}class ge{constructor(h,_){this.shortDelay=h,this.longDelay=_,Ht(_>h,"Short delay should be less than long delay!"),this.isMobile=(0,Ve.jZ)()||(0,Ve.lV)()}get(){return function gt(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function ln(){return"http:"===Ot()||"https:"===Ot()}()||(0,Ve.sr)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}class Pe{static initialize(h,_,I){this.fetchImpl=h,_&&(this.headersImpl=_),I&&(this.responseImpl=I)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void ht("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void ht("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void ht("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Ct={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},pt=new ge(3e4,6e4);function It(w,h){return w.tenantId&&!h.tenantId?Object.assign(Object.assign({},h),{tenantId:w.tenantId}):h}function Mn(w,h,_,I){return sr.apply(this,arguments)}function sr(){return(sr=(0,se.A)(function*(w,h,_,I,Q={}){return un(w,Q,(0,se.A)(function*(){let le={},Ye={};I&&("GET"===h?Ye=I:le={body:JSON.stringify(I)});const vt=(0,Ve.Am)(Object.assign({key:w.config.apiKey},Ye)).slice(1),Kt=yield w._getAdditionalHeaders();Kt["Content-Type"]="application/json",w.languageCode&&(Kt["X-Firebase-Locale"]=w.languageCode);const Fn=Object.assign({method:h,headers:Kt},le);return(0,Ve.c1)()||(Fn.referrerPolicy="no-referrer"),Pe.fetch()(Hn(w,w.config.apiHost,_,vt),Fn)}))})).apply(this,arguments)}function un(w,h,_){return Rn.apply(this,arguments)}function Rn(){return(Rn=(0,se.A)(function*(w,h,_){w._canInitEmulator=!1;const I=Object.assign(Object.assign({},Ct),h);try{const Q=new mr(w),le=yield Promise.race([_(),Q.promise]);Q.clearNetworkTimeout();const Ye=yield le.json();if("needConfirmation"in Ye)throw yn(w,"account-exists-with-different-credential",Ye);if(le.ok&&!("errorMessage"in Ye))return Ye;{const vt=le.ok?Ye.errorMessage:Ye.error.message,[Kt,Fn]=vt.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Kt)throw yn(w,"credential-already-in-use",Ye);if("EMAIL_EXISTS"===Kt)throw yn(w,"email-already-in-use",Ye);if("USER_DISABLED"===Kt)throw yn(w,"user-disabled",Ye);const dr=I[Kt]||Kt.toLowerCase().replace(/[_\s]+/g,"-");if(Fn)throw Yt(w,dr,Fn);dt(w,dr)}}catch(Q){if(Q instanceof Ve.g)throw Q;dt(w,"network-request-failed",{message:String(Q)})}})).apply(this,arguments)}function Hn(w,h,_,I){const Q=`${h}${_}?${I}`;return w.config.emulator?function ce(w,h){Ht(w.emulator,"Emulator should always be set here");const{url:_}=w.emulator;return h?`${_}${h.startsWith("/")?h.slice(1):h}`:_}(w.config,Q):`${w.config.apiScheme}://${Q}`}class mr{constructor(h){this.auth=h,this.timer=null,this.promise=new Promise((_,I)=>{this.timer=setTimeout(()=>I(xt(this.auth,"network-request-failed")),pt.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function yn(w,h,_){const I={appName:w.name};_.email&&(I.email=_.email),_.phoneNumber&&(I.phoneNumber=_.phoneNumber);const Q=xt(w,h,I);return Q.customData._tokenResponse=_,Q}function At(){return(At=(0,se.A)(function*(w,h){return Mn(w,"POST","/v1/accounts:delete",h)})).apply(this,arguments)}function Bn(w,h){return Hr.apply(this,arguments)}function Hr(){return(Hr=(0,se.A)(function*(w,h){return Mn(w,"POST","/v1/accounts:lookup",h)})).apply(this,arguments)}function Jt(w){if(w)try{const h=new Date(Number(w));if(!isNaN(h.getTime()))return h.toUTCString()}catch{}}function mi(){return(mi=(0,se.A)(function*(w,h=!1){const _=(0,Ve.Ku)(w),I=yield _.getIdToken(h),Q=cr(I);Lt(Q&&Q.exp&&Q.auth_time&&Q.iat,_.auth,"internal-error");const le="object"==typeof Q.firebase?Q.firebase:void 0,Ye=le?.sign_in_provider;return{claims:Q,token:I,authTime:Jt(Lr(Q.auth_time)),issuedAtTime:Jt(Lr(Q.iat)),expirationTime:Jt(Lr(Q.exp)),signInProvider:Ye||null,signInSecondFactor:le?.sign_in_second_factor||null}})).apply(this,arguments)}function Lr(w){return 1e3*Number(w)}function cr(w){const[h,_,I]=w.split(".");if(void 0===h||void 0===_||void 0===I)return Ke("JWT malformed, contained fewer than 3 sections"),null;try{const Q=(0,Ve.u)(_);return Q?JSON.parse(Q):(Ke("Failed to decode base64 JWT payload"),null)}catch(Q){return Ke("Caught error parsing JWT payload as JSON",Q?.toString()),null}}function jt(w){const h=cr(w);return Lt(h,"internal-error"),Lt(typeof h.exp<"u","internal-error"),Lt(typeof h.iat<"u","internal-error"),Number(h.exp)-Number(h.iat)}function st(w,h){return qe.apply(this,arguments)}function qe(){return(qe=(0,se.A)(function*(w,h,_=!1){if(_)return h;try{return yield h}catch(I){throw I instanceof Ve.g&&function _t({code:w}){return"auth/user-disabled"===w||"auth/user-token-expired"===w}(I)&&w.auth.currentUser===w&&(yield w.auth.signOut()),I}})).apply(this,arguments)}class qt{constructor(h){this.user=h,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(h){var _;if(h){const I=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),I}{this.errorBackoff=3e4;const Q=(null!==(_=this.user.stsTokenManager.expirationTime)&&void 0!==_?_:0)-Date.now()-3e5;return Math.max(0,Q)}}schedule(h=!1){var _=this;if(!this.isRunning)return;const I=this.getInterval(h);this.timerId=setTimeout((0,se.A)(function*(){yield _.iteration()}),I)}iteration(){var h=this;return(0,se.A)(function*(){try{yield h.user.getIdToken(!0)}catch(_){return void("auth/network-request-failed"===_?.code&&h.schedule(!0))}h.schedule()})()}}class Oe{constructor(h,_){this.createdAt=h,this.lastLoginAt=_,this._initializeTime()}_initializeTime(){this.lastSignInTime=Jt(this.lastLoginAt),this.creationTime=Jt(this.createdAt)}_copy(h){this.createdAt=h.createdAt,this.lastLoginAt=h.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Nn(w){return $n.apply(this,arguments)}function $n(){return($n=(0,se.A)(function*(w){var h;const _=w.auth,I=yield w.getIdToken(),Q=yield st(w,Bn(_,{idToken:I}));Lt(Q?.users.length,_,"internal-error");const le=Q.users[0];w._notifyReloadListener(le);const Ye=null!==(h=le.providerUserInfo)&&void 0!==h&&h.length?R(le.providerUserInfo):[],vt=function he(w,h){return[...w.filter(I=>!h.some(Q=>Q.providerId===I.providerId)),...h]}(w.providerData,Ye),dr=!!w.isAnonymous&&!(w.email&&le.passwordHash||vt?.length),gr={uid:le.localId,displayName:le.displayName||null,photoURL:le.photoUrl||null,email:le.email||null,emailVerified:le.emailVerified||!1,phoneNumber:le.phoneNumber||null,tenantId:le.tenantId||null,providerData:vt,metadata:new Oe(le.createdAt,le.lastLoginAt),isAnonymous:dr};Object.assign(w,gr)})).apply(this,arguments)}function bt(){return(bt=(0,se.A)(function*(w){const h=(0,Ve.Ku)(w);yield Nn(h),yield h.auth._persistUserIfCurrent(h),h.auth._notifyListenersIfCurrent(h)})).apply(this,arguments)}function R(w){return w.map(h=>{var{providerId:_}=h,I=(0,De.Tt)(h,["providerId"]);return{providerId:_,uid:I.rawId||"",displayName:I.displayName||null,email:I.email||null,phoneNumber:I.phoneNumber||null,photoURL:I.photoUrl||null}})}function H(){return(H=(0,se.A)(function*(w,h){const _=yield un(w,{},(0,se.A)(function*(){const I=(0,Ve.Am)({grant_type:"refresh_token",refresh_token:h}).slice(1),{tokenApiHost:Q,apiKey:le}=w.config,Ye=Hn(w,Q,"/v1/token",`key=${le}`),vt=yield w._getAdditionalHeaders();return vt["Content-Type"]="application/x-www-form-urlencoded",Pe.fetch()(Ye,{method:"POST",headers:vt,body:I})}));return{accessToken:_.access_token,expiresIn:_.expires_in,refreshToken:_.refresh_token}})).apply(this,arguments)}function Ie(){return(Ie=(0,se.A)(function*(w,h){return Mn(w,"POST","/v2/accounts:revokeToken",It(w,h))})).apply(this,arguments)}class ke{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(h){Lt(h.idToken,"internal-error"),Lt(typeof h.idToken<"u","internal-error"),Lt(typeof h.refreshToken<"u","internal-error");const _="expiresIn"in h&&typeof h.expiresIn<"u"?Number(h.expiresIn):jt(h.idToken);this.updateTokensAndExpiration(h.idToken,h.refreshToken,_)}updateFromIdToken(h){Lt(0!==h.length,"internal-error");const _=jt(h);this.updateTokensAndExpiration(h,null,_)}getToken(h){var _=this;return(0,se.A)(function*(I,Q=!1){return Q||!_.accessToken||_.isExpired?(Lt(_.refreshToken,I,"user-token-expired"),_.refreshToken?(yield _.refresh(I,_.refreshToken),_.accessToken):null):_.accessToken}).apply(this,arguments)}clearRefreshToken(){this.refreshToken=null}refresh(h,_){var I=this;return(0,se.A)(function*(){const{accessToken:Q,refreshToken:le,expiresIn:Ye}=yield function P(w,h){return H.apply(this,arguments)}(h,_);I.updateTokensAndExpiration(Q,le,Number(Ye))})()}updateTokensAndExpiration(h,_,I){this.refreshToken=_||null,this.accessToken=h||null,this.expirationTime=Date.now()+1e3*I}static fromJSON(h,_){const{refreshToken:I,accessToken:Q,expirationTime:le}=_,Ye=new ke;return I&&(Lt("string"==typeof I,"internal-error",{appName:h}),Ye.refreshToken=I),Q&&(Lt("string"==typeof Q,"internal-error",{appName:h}),Ye.accessToken=Q),le&&(Lt("number"==typeof le,"internal-error",{appName:h}),Ye.expirationTime=le),Ye}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(h){this.accessToken=h.accessToken,this.refreshToken=h.refreshToken,this.expirationTime=h.expirationTime}_clone(){return Object.assign(new ke,this.toJSON())}_performRefresh(){return ht("not implemented")}}function fe(w,h){Lt("string"==typeof w||typeof w>"u","internal-error",{appName:h})}class ie{constructor(h){var{uid:_,auth:I,stsTokenManager:Q}=h,le=(0,De.Tt)(h,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new qt(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=_,this.auth=I,this.stsTokenManager=Q,this.accessToken=Q.accessToken,this.displayName=le.displayName||null,this.email=le.email||null,this.emailVerified=le.emailVerified||!1,this.phoneNumber=le.phoneNumber||null,this.photoURL=le.photoURL||null,this.isAnonymous=le.isAnonymous||!1,this.tenantId=le.tenantId||null,this.providerData=le.providerData?[...le.providerData]:[],this.metadata=new Oe(le.createdAt||void 0,le.lastLoginAt||void 0)}getIdToken(h){var _=this;return(0,se.A)(function*(){const I=yield st(_,_.stsTokenManager.getToken(_.auth,h));return Lt(I,_.auth,"internal-error"),_.accessToken!==I&&(_.accessToken=I,yield _.auth._persistUserIfCurrent(_),_.auth._notifyListenersIfCurrent(_)),I})()}getIdTokenResult(h){return function On(w){return mi.apply(this,arguments)}(this,h)}reload(){return function ar(w){return bt.apply(this,arguments)}(this)}_assign(h){this!==h&&(Lt(this.uid===h.uid,this.auth,"internal-error"),this.displayName=h.displayName,this.photoURL=h.photoURL,this.email=h.email,this.emailVerified=h.emailVerified,this.phoneNumber=h.phoneNumber,this.isAnonymous=h.isAnonymous,this.tenantId=h.tenantId,this.providerData=h.providerData.map(_=>Object.assign({},_)),this.metadata._copy(h.metadata),this.stsTokenManager._assign(h.stsTokenManager))}_clone(h){const _=new ie(Object.assign(Object.assign({},this),{auth:h,stsTokenManager:this.stsTokenManager._clone()}));return _.metadata._copy(this.metadata),_}_onReload(h){Lt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=h,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(h){this.reloadListener?this.reloadListener(h):this.reloadUserInfo=h}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(h){var _=this;return(0,se.A)(function*(I,Q=!1){let le=!1;I.idToken&&I.idToken!==_.stsTokenManager.accessToken&&(_.stsTokenManager.updateFromServerResponse(I),le=!0),Q&&(yield Nn(_)),yield _.auth._persistUserIfCurrent(_),le&&_.auth._notifyListenersIfCurrent(_)}).apply(this,arguments)}delete(){var h=this;return(0,se.A)(function*(){if((0,ae.xZ)(h.auth.app))return Promise.reject(mn(h.auth));const _=yield h.getIdToken();return yield st(h,function Qt(w,h){return At.apply(this,arguments)}(h.auth,{idToken:_})),h.stsTokenManager.clearRefreshToken(),h.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(h=>Object.assign({},h)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(h,_){var I,Q,le,Ye,vt,Kt,Fn,dr;const gr=null!==(I=_.displayName)&&void 0!==I?I:void 0,Di=null!==(Q=_.email)&&void 0!==Q?Q:void 0,va=null!==(le=_.phoneNumber)&&void 0!==le?le:void 0,Tc=null!==(Ye=_.photoURL)&&void 0!==Ye?Ye:void 0,Ja=null!==(vt=_.tenantId)&&void 0!==vt?vt:void 0,vl=null!==(Kt=_._redirectEventId)&&void 0!==Kt?Kt:void 0,kd=null!==(Fn=_.createdAt)&&void 0!==Fn?Fn:void 0,fh=null!==(dr=_.lastLoginAt)&&void 0!==dr?dr:void 0,{uid:mh,emailVerified:Uu,isAnonymous:bd,providerData:ec,stsTokenManager:Md}=_;Lt(mh&&Md,h,"internal-error");const P1=ke.fromJSON(this.name,Md);Lt("string"==typeof mh,h,"internal-error"),fe(gr,h.name),fe(Di,h.name),Lt("boolean"==typeof Uu,h,"internal-error"),Lt("boolean"==typeof bd,h,"internal-error"),fe(va,h.name),fe(Tc,h.name),fe(Ja,h.name),fe(vl,h.name),fe(kd,h.name),fe(fh,h.name);const yh=new ie({uid:mh,auth:h,email:Di,emailVerified:Uu,displayName:gr,isAnonymous:bd,photoURL:Tc,phoneNumber:va,tenantId:Ja,stsTokenManager:P1,createdAt:kd,lastLoginAt:fh});return ec&&Array.isArray(ec)&&(yh.providerData=ec.map(r2=>Object.assign({},r2))),vl&&(yh._redirectEventId=vl),yh}static _fromIdTokenResponse(h,_){return(0,se.A)(function*(I,Q,le=!1){const Ye=new ke;Ye.updateFromServerResponse(Q);const vt=new ie({uid:Q.localId,auth:I,stsTokenManager:Ye,isAnonymous:le});return yield Nn(vt),vt}).apply(this,arguments)}static _fromGetAccountInfoResponse(h,_,I){return(0,se.A)(function*(){const Q=_.users[0];Lt(void 0!==Q.localId,"internal-error");const le=void 0!==Q.providerUserInfo?R(Q.providerUserInfo):[],Ye=!(Q.email&&Q.passwordHash||le?.length),vt=new ke;vt.updateFromIdToken(I);const Kt=new ie({uid:Q.localId,auth:h,stsTokenManager:vt,isAnonymous:Ye}),Fn={uid:Q.localId,displayName:Q.displayName||null,photoURL:Q.photoUrl||null,email:Q.email||null,emailVerified:Q.emailVerified||!1,phoneNumber:Q.phoneNumber||null,tenantId:Q.tenantId||null,providerData:le,metadata:new Oe(Q.createdAt,Q.lastLoginAt),isAnonymous:!(Q.email&&Q.passwordHash||le?.length)};return Object.assign(Kt,Fn),Kt})()}}const Ae=new Map;function rt(w){Ht(w instanceof Function,"Expected a class definition");let h=Ae.get(w);return h?(Ht(h instanceof w,"Instance stored in cache mismatched with class"),h):(h=new w,Ae.set(w,h),h)}const we=(()=>{class w{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,se.A)(function*(){return!0})()}_set(_,I){var Q=this;return(0,se.A)(function*(){Q.storage[_]=I})()}_get(_){var I=this;return(0,se.A)(function*(){const Q=I.storage[_];return void 0===Q?null:Q})()}_remove(_){var I=this;return(0,se.A)(function*(){delete I.storage[_]})()}_addListener(_,I){}_removeListener(_,I){}}return w.type="NONE",w})();function Me(w,h,_){return`firebase:${w}:${h}:${_}`}class Le{constructor(h,_,I){this.persistence=h,this.auth=_,this.userKey=I;const{config:Q,name:le}=this.auth;this.fullUserKey=Me(this.userKey,Q.apiKey,le),this.fullPersistenceKey=Me("persistence",Q.apiKey,le),this.boundEventHandler=_._onStorageEvent.bind(_),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(h){return this.persistence._set(this.fullUserKey,h.toJSON())}getCurrentUser(){var h=this;return(0,se.A)(function*(){const _=yield h.persistence._get(h.fullUserKey);return _?ie._fromJSON(h.auth,_):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(h){var _=this;return(0,se.A)(function*(){if(_.persistence===h)return;const I=yield _.getCurrentUser();return yield _.removeCurrentUser(),_.persistence=h,I?_.setCurrentUser(I):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(h,_){return(0,se.A)(function*(I,Q,le="authUser"){if(!Q.length)return new Le(rt(we),I,le);const Ye=(yield Promise.all(Q.map(function(){var gr=(0,se.A)(function*(Di){if(yield Di._isAvailable())return Di});return function(Di){return gr.apply(this,arguments)}}()))).filter(gr=>gr);let vt=Ye[0]||rt(we);const Kt=Me(le,I.config.apiKey,I.name);let Fn=null;for(const gr of Q)try{const Di=yield gr._get(Kt);if(Di){const va=ie._fromJSON(I,Di);gr!==vt&&(Fn=va),vt=gr;break}}catch{}const dr=Ye.filter(gr=>gr._shouldAllowMigration);return vt._shouldAllowMigration&&dr.length?(vt=dr[0],Fn&&(yield vt._set(Kt,Fn.toJSON())),yield Promise.all(Q.map(function(){var gr=(0,se.A)(function*(Di){if(Di!==vt)try{yield Di._remove(Kt)}catch{}});return function(Di){return gr.apply(this,arguments)}}())),new Le(vt,I,le)):new Le(vt,I,le)}).apply(this,arguments)}}function Et(w){const h=w.toLowerCase();if(h.includes("opera/")||h.includes("opr/")||h.includes("opios/"))return"Opera";if(function Qn(w=(0,Ve.ZQ)()){return/iemobile/i.test(w)}(h))return"IEMobile";if(h.includes("msie")||h.includes("trident/"))return"IE";if(h.includes("edge/"))return"Edge";if(function Zt(w=(0,Ve.ZQ)()){return/firefox\//i.test(w)}(h))return"Firefox";if(h.includes("silk/"))return"Silk";if(function ti(w=(0,Ve.ZQ)()){return/blackberry/i.test(w)}(h))return"Blackberry";if(function mt(w=(0,Ve.ZQ)()){return/webos/i.test(w)}(h))return"Webos";if(function pn(w=(0,Ve.ZQ)()){const h=w.toLowerCase();return h.includes("safari/")&&!h.includes("chrome/")&&!h.includes("crios/")&&!h.includes("android")}(h))return"Safari";if((h.includes("chrome/")||function on(w=(0,Ve.ZQ)()){return/crios\//i.test(w)}(h))&&!h.includes("edge/"))return"Chrome";if(function gn(w=(0,Ve.ZQ)()){return/android/i.test(w)}(h))return"Android";{const I=w.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===I?.length)return I[1]}return"Other"}function An(w,h=[]){let _;switch(w){case"Browser":_=Et((0,Ve.ZQ)());break;case"Worker":_=`${Et((0,Ve.ZQ)())}-${w}`;break;default:_=w}const I=h.length?h.join(","):"FirebaseCore-web";return`${_}/JsCore/${ae.MF}/${I}`}class br{constructor(h){this.auth=h,this.queue=[]}pushCallback(h,_){const I=le=>new Promise((Ye,vt)=>{try{Ye(h(le))}catch(Kt){vt(Kt)}});I.onAbort=_,this.queue.push(I);const Q=this.queue.length-1;return()=>{this.queue[Q]=()=>Promise.resolve()}}runMiddleware(h){var _=this;return(0,se.A)(function*(){if(_.auth.currentUser===h)return;const I=[];try{for(const Q of _.queue)yield Q(h),Q.onAbort&&I.push(Q.onAbort)}catch(Q){I.reverse();for(const le of I)try{le()}catch{}throw _.auth._errorFactory.create("login-blocked",{originalMessage:Q?.message})}})()}}function _r(){return(_r=(0,se.A)(function*(w,h={}){return Mn(w,"GET","/v2/passwordPolicy",It(w,h))})).apply(this,arguments)}class ci{constructor(h){var _,I,Q,le;const Ye=h.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(_=Ye.minPasswordLength)&&void 0!==_?_:6,Ye.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=Ye.maxPasswordLength),void 0!==Ye.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=Ye.containsLowercaseCharacter),void 0!==Ye.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=Ye.containsUppercaseCharacter),void 0!==Ye.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=Ye.containsNumericCharacter),void 0!==Ye.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=Ye.containsNonAlphanumericCharacter),this.enforcementState=h.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(Q=null===(I=h.allowedNonAlphanumericCharacters)||void 0===I?void 0:I.join(""))&&void 0!==Q?Q:"",this.forceUpgradeOnSignin=null!==(le=h.forceUpgradeOnSignin)&&void 0!==le&&le,this.schemaVersion=h.schemaVersion}validatePassword(h){var _,I,Q,le,Ye,vt;const Kt={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(h,Kt),this.validatePasswordCharacterOptions(h,Kt),Kt.isValid&&(Kt.isValid=null===(_=Kt.meetsMinPasswordLength)||void 0===_||_),Kt.isValid&&(Kt.isValid=null===(I=Kt.meetsMaxPasswordLength)||void 0===I||I),Kt.isValid&&(Kt.isValid=null===(Q=Kt.containsLowercaseLetter)||void 0===Q||Q),Kt.isValid&&(Kt.isValid=null===(le=Kt.containsUppercaseLetter)||void 0===le||le),Kt.isValid&&(Kt.isValid=null===(Ye=Kt.containsNumericCharacter)||void 0===Ye||Ye),Kt.isValid&&(Kt.isValid=null===(vt=Kt.containsNonAlphanumericCharacter)||void 0===vt||vt),Kt}validatePasswordLengthOptions(h,_){const I=this.customStrengthOptions.minPasswordLength,Q=this.customStrengthOptions.maxPasswordLength;I&&(_.meetsMinPasswordLength=h.length>=I),Q&&(_.meetsMaxPasswordLength=h.length<=Q)}validatePasswordCharacterOptions(h,_){let I;this.updatePasswordCharacterOptionsStatuses(_,!1,!1,!1,!1);for(let Q=0;Q<h.length;Q++)I=h.charAt(Q),this.updatePasswordCharacterOptionsStatuses(_,I>="a"&&I<="z",I>="A"&&I<="Z",I>="0"&&I<="9",this.allowedNonAlphanumericCharacters.includes(I))}updatePasswordCharacterOptionsStatuses(h,_,I,Q,le){this.customStrengthOptions.containsLowercaseLetter&&(h.containsLowercaseLetter||(h.containsLowercaseLetter=_)),this.customStrengthOptions.containsUppercaseLetter&&(h.containsUppercaseLetter||(h.containsUppercaseLetter=I)),this.customStrengthOptions.containsNumericCharacter&&(h.containsNumericCharacter||(h.containsNumericCharacter=Q)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(h.containsNonAlphanumericCharacter||(h.containsNonAlphanumericCharacter=le))}}class wo{constructor(h,_,I,Q){this.app=h,this.heartbeatServiceProvider=_,this.appCheckServiceProvider=I,this.config=Q,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ei(this),this.idTokenSubscription=new Ei(this),this.beforeStateQueue=new br(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Xt,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=h.name,this.clientVersion=Q.sdkClientVersion}_initializeWithPersistence(h,_){var I=this;return _&&(this._popupRedirectResolver=rt(_)),this._initializationPromise=this.queue((0,se.A)(function*(){var Q,le;if(!I._deleted&&(I.persistenceManager=yield Le.create(I,h),!I._deleted)){if(null!==(Q=I._popupRedirectResolver)&&void 0!==Q&&Q._shouldInitProactively)try{yield I._popupRedirectResolver._initialize(I)}catch{}yield I.initializeCurrentUser(_),I.lastNotifiedUid=(null===(le=I.currentUser)||void 0===le?void 0:le.uid)||null,!I._deleted&&(I._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var h=this;return(0,se.A)(function*(){if(h._deleted)return;const _=yield h.assertedPersistence.getCurrentUser();if(h.currentUser||_){if(h.currentUser&&_&&h.currentUser.uid===_.uid)return h._currentUser._assign(_),void(yield h.currentUser.getIdToken());yield h._updateCurrentUser(_,!0)}})()}initializeCurrentUserFromIdToken(h){var _=this;return(0,se.A)(function*(){try{const I=yield Bn(_,{idToken:h}),Q=yield ie._fromGetAccountInfoResponse(_,I,h);yield _.directlySetCurrentUser(Q)}catch(I){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",I),yield _.directlySetCurrentUser(null)}})()}initializeCurrentUser(h){var _=this;return(0,se.A)(function*(){var I;if((0,ae.xZ)(_.app)){const vt=_.app.settings.authIdToken;return vt?new Promise(Kt=>{setTimeout(()=>_.initializeCurrentUserFromIdToken(vt).then(Kt,Kt))}):_.directlySetCurrentUser(null)}const Q=yield _.assertedPersistence.getCurrentUser();let le=Q,Ye=!1;if(h&&_.config.authDomain){yield _.getOrInitRedirectPersistenceManager();const vt=null===(I=_.redirectUser)||void 0===I?void 0:I._redirectEventId,Kt=le?._redirectEventId,Fn=yield _.tryRedirectSignIn(h);(!vt||vt===Kt)&&Fn?.user&&(le=Fn.user,Ye=!0)}if(!le)return _.directlySetCurrentUser(null);if(!le._redirectEventId){if(Ye)try{yield _.beforeStateQueue.runMiddleware(le)}catch(vt){le=Q,_._popupRedirectResolver._overrideRedirectResult(_,()=>Promise.reject(vt))}return le?_.reloadAndSetCurrentUserOrClear(le):_.directlySetCurrentUser(null)}return Lt(_._popupRedirectResolver,_,"argument-error"),yield _.getOrInitRedirectPersistenceManager(),_.redirectUser&&_.redirectUser._redirectEventId===le._redirectEventId?_.directlySetCurrentUser(le):_.reloadAndSetCurrentUserOrClear(le)})()}tryRedirectSignIn(h){var _=this;return(0,se.A)(function*(){let I=null;try{I=yield _._popupRedirectResolver._completeRedirectFn(_,h,!0)}catch{yield _._setRedirectUser(null)}return I})()}reloadAndSetCurrentUserOrClear(h){var _=this;return(0,se.A)(function*(){try{yield Nn(h)}catch(I){if("auth/network-request-failed"!==I?.code)return _.directlySetCurrentUser(null)}return _.directlySetCurrentUser(h)})()}useDeviceLanguage(){this.languageCode=function je(){if(typeof navigator>"u")return null;const w=navigator;return w.languages&&w.languages[0]||w.language||null}()}_delete(){var h=this;return(0,se.A)(function*(){h._deleted=!0})()}updateCurrentUser(h){var _=this;return(0,se.A)(function*(){if((0,ae.xZ)(_.app))return Promise.reject(mn(_));const I=h?(0,Ve.Ku)(h):null;return I&&Lt(I.auth.config.apiKey===_.config.apiKey,_,"invalid-user-token"),_._updateCurrentUser(I&&I._clone(_))})()}_updateCurrentUser(h){var _=this;return(0,se.A)(function*(I,Q=!1){if(!_._deleted)return I&&Lt(_.tenantId===I.tenantId,_,"tenant-id-mismatch"),Q||(yield _.beforeStateQueue.runMiddleware(I)),_.queue((0,se.A)(function*(){yield _.directlySetCurrentUser(I),_.notifyAuthListeners()}))}).apply(this,arguments)}signOut(){var h=this;return(0,se.A)(function*(){return(0,ae.xZ)(h.app)?Promise.reject(mn(h)):(yield h.beforeStateQueue.runMiddleware(null),(h.redirectPersistenceManager||h._popupRedirectResolver)&&(yield h._setRedirectUser(null)),h._updateCurrentUser(null,!0))})()}setPersistence(h){var _=this;return(0,ae.xZ)(this.app)?Promise.reject(mn(this)):this.queue((0,se.A)(function*(){yield _.assertedPersistence.setPersistence(rt(h))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(h){var _=this;return(0,se.A)(function*(){_._getPasswordPolicyInternal()||(yield _._updatePasswordPolicy());const I=_._getPasswordPolicyInternal();return I.schemaVersion!==_.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(_._errorFactory.create("unsupported-password-policy-schema-version",{})):I.validatePassword(h)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var h=this;return(0,se.A)(function*(){const _=yield function Fr(w){return _r.apply(this,arguments)}(h),I=new ci(_);null===h.tenantId?h._projectPasswordPolicy=I:h._tenantPasswordPolicies[h.tenantId]=I})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(h){this._errorFactory=new Ve.FA("auth","Firebase",h())}onAuthStateChanged(h,_,I){return this.registerStateListener(this.authStateSubscription,h,_,I)}beforeAuthStateChanged(h,_){return this.beforeStateQueue.pushCallback(h,_)}onIdTokenChanged(h,_,I){return this.registerStateListener(this.idTokenSubscription,h,_,I)}authStateReady(){return new Promise((h,_)=>{if(this.currentUser)h();else{const I=this.onAuthStateChanged(()=>{I(),h()},_)}})}revokeAccessToken(h){var _=this;return(0,se.A)(function*(){if(_.currentUser){const I=yield _.currentUser.getIdToken(),Q={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:h,idToken:I};null!=_.tenantId&&(Q.tenantId=_.tenantId),yield function me(w,h){return Ie.apply(this,arguments)}(_,Q)}})()}toJSON(){var h;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(h=this._currentUser)||void 0===h?void 0:h.toJSON()}}_setRedirectUser(h,_){var I=this;return(0,se.A)(function*(){const Q=yield I.getOrInitRedirectPersistenceManager(_);return null===h?Q.removeCurrentUser():Q.setCurrentUser(h)})()}getOrInitRedirectPersistenceManager(h){var _=this;return(0,se.A)(function*(){if(!_.redirectPersistenceManager){const I=h&&rt(h)||_._popupRedirectResolver;Lt(I,_,"argument-error"),_.redirectPersistenceManager=yield Le.create(_,[rt(I._redirectPersistence)],"redirectUser"),_.redirectUser=yield _.redirectPersistenceManager.getCurrentUser()}return _.redirectPersistenceManager})()}_redirectUserForId(h){var _=this;return(0,se.A)(function*(){var I,Q;return _._isInitialized&&(yield _.queue((0,se.A)(function*(){}))),(null===(I=_._currentUser)||void 0===I?void 0:I._redirectEventId)===h?_._currentUser:(null===(Q=_.redirectUser)||void 0===Q?void 0:Q._redirectEventId)===h?_.redirectUser:null})()}_persistUserIfCurrent(h){var _=this;return(0,se.A)(function*(){if(h===_.currentUser)return _.queue((0,se.A)(function*(){return _.directlySetCurrentUser(h)}))})()}_notifyListenersIfCurrent(h){h===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var h,_;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const I=null!==(_=null===(h=this.currentUser)||void 0===h?void 0:h.uid)&&void 0!==_?_:null;this.lastNotifiedUid!==I&&(this.lastNotifiedUid=I,this.authStateSubscription.next(this.currentUser))}registerStateListener(h,_,I,Q){if(this._deleted)return()=>{};const le="function"==typeof _?_:_.next.bind(_);let Ye=!1;const vt=this._isInitialized?Promise.resolve():this._initializationPromise;if(Lt(vt,this,"internal-error"),vt.then(()=>{Ye||le(this.currentUser)}),"function"==typeof _){const Kt=h.addObserver(_,I,Q);return()=>{Ye=!0,Kt()}}{const Kt=h.addObserver(_);return()=>{Ye=!0,Kt()}}}directlySetCurrentUser(h){var _=this;return(0,se.A)(function*(){_.currentUser&&_.currentUser!==h&&_._currentUser._stopProactiveRefresh(),h&&_.isProactiveRefreshEnabled&&h._startProactiveRefresh(),_.currentUser=h,h?yield _.assertedPersistence.setCurrentUser(h):yield _.assertedPersistence.removeCurrentUser()})()}queue(h){return this.operations=this.operations.then(h,h),this.operations}get assertedPersistence(){return Lt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(h){!h||this.frameworks.includes(h)||(this.frameworks.push(h),this.frameworks.sort(),this.clientVersion=An(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var h=this;return(0,se.A)(function*(){var _;const I={"X-Client-Version":h.clientVersion};h.app.options.appId&&(I["X-Firebase-gmpid"]=h.app.options.appId);const Q=yield null===(_=h.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===_?void 0:_.getHeartbeatsHeader();Q&&(I["X-Firebase-Client"]=Q);const le=yield h._getAppCheckToken();return le&&(I["X-Firebase-AppCheck"]=le),I})()}_getAppCheckToken(){var h=this;return(0,se.A)(function*(){var _;const I=yield null===(_=h.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===_?void 0:_.getToken();return I?.error&&function ze(w,...h){Ge.logLevel<=Se.$b.WARN&&Ge.warn(`Auth (${ae.MF}): ${w}`,...h)}(`Error while retrieving App Check token: ${I.error}`),I?.token})()}}class Ei{constructor(h){this.auth=h,this.observer=null,this.addObserver=(0,Ve.tD)(_=>this.observer=_)}get next(){return Lt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let xi={loadJS:()=>(0,se.A)(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};(function Ea(w){return`__${w}${Math.floor(1e6*Math.random())}`})("rcb"),new ge(3e4,6e4),new ge(2e3,1e4),new ge(3e4,6e4),new ge(5e3,15e3),encodeURIComponent("fac");var Wt="@firebase/auth";class Kn{constructor(h){this.auth=h,this.internalListeners=new Map}getUid(){var h;return this.assertAuthConfigured(),(null===(h=this.auth.currentUser)||void 0===h?void 0:h.uid)||null}getToken(h){var _=this;return(0,se.A)(function*(){return _.assertAuthConfigured(),yield _.auth._initializationPromise,_.auth.currentUser?{accessToken:yield _.auth.currentUser.getIdToken(h)}:null})()}addAuthTokenListener(h){if(this.assertAuthConfigured(),this.internalListeners.has(h))return;const _=this.auth.onIdTokenChanged(I=>{h(I?.stsTokenManager.accessToken||null)});this.internalListeners.set(h,_),this.updateProactiveRefresh()}removeAuthTokenListener(h){this.assertAuthConfigured();const _=this.internalListeners.get(h);_&&(this.internalListeners.delete(h),_(),this.updateProactiveRefresh())}assertAuthConfigured(){Lt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,Ve.XA)("authIdTokenMaxAge"),function So(w){xi=w}({loadJS:w=>new Promise((h,_)=>{const I=document.createElement("script");I.setAttribute("src",w),I.onload=h,I.onerror=Q=>{const le=xt("internal-error");le.customData=Q,_(le)},I.type="text/javascript",I.charset="UTF-8",function Sr(){var w,h;return null!==(h=null===(w=document.getElementsByTagName("head"))||void 0===w?void 0:w[0])&&void 0!==h?h:document}().appendChild(I)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function Dn(w){(0,ae.om)(new re.uA("auth",(h,{options:_})=>{const I=h.getProvider("app").getImmediate(),Q=h.getProvider("heartbeat"),le=h.getProvider("app-check-internal"),{apiKey:Ye,authDomain:vt}=I.options;Lt(Ye&&!Ye.includes(":"),"invalid-api-key",{appName:I.name});const Kt={apiKey:Ye,authDomain:vt,clientPlatform:w,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:An(w)},Fn=new wo(I,Q,le,Kt);return function qs(w,h){const _=h?.persistence||[],I=(Array.isArray(_)?_:[_]).map(rt);h?.errorMap&&w._updateErrorMap(h.errorMap),w._initializeWithPersistence(I,h?.popupRedirectResolver)}(Fn,_),Fn},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((h,_,I)=>{h.getProvider("auth-internal").initialize()})),(0,ae.om)(new re.uA("auth-internal",h=>{const _=function Er(w){return(0,Ve.Ku)(w)}(h.getProvider("auth").getImmediate());return new Kn(_)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ae.KO)(Wt,"1.7.9",function jn(w){switch(w){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(w)),(0,ae.KO)(Wt,"1.7.9","esm2017")}("Browser");class Ui{constructor(){return(0,y.CA)("auth")}}},2418:(hn,tt,B)=>{B.d(tt,{_7:()=>jh,gS:()=>z_,rJ:()=>rg,xs:()=>Qy,kd:()=>ap,H9:()=>$_,GG:()=>hg,aU:()=>pg,AB:()=>fg,hV:()=>Ky,P:()=>rm,O5:()=>im,mZ:()=>zh,_M:()=>nd});var $e,lt,y=B(5407),ne=B(7705),_e=B(7440),J=B(4665),se=B(2214),ae=B(467),Ve=B(7852),Se=B(1362),De=B(8041),re=B(1076),ve=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Be={};(function(){var a;function o(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function c(nt,Fe,Qe){Qe||(Qe=0);var it=Array(16);if("string"==typeof Fe)for(var ut=0;16>ut;++ut)it[ut]=Fe.charCodeAt(Qe++)|Fe.charCodeAt(Qe++)<<8|Fe.charCodeAt(Qe++)<<16|Fe.charCodeAt(Qe++)<<24;else for(ut=0;16>ut;++ut)it[ut]=Fe[Qe++]|Fe[Qe++]<<8|Fe[Qe++]<<16|Fe[Qe++]<<24;var wt=nt.g[3],We=(Fe=nt.g[0])+(wt^(Qe=nt.g[1])&((ut=nt.g[2])^wt))+it[0]+3614090360&4294967295;We=(Qe=(ut=(wt=(Fe=(Qe=(ut=(wt=(Fe=(Qe=(ut=(wt=(Fe=(Qe=(ut=(wt=(Fe=(Qe=(ut=(wt=(Fe=(Qe=(ut=(wt=(Fe=(Qe=(ut=(wt=(Fe=(Qe=(ut=(wt=(Fe=(Qe=(ut=(wt=(Fe=(Qe=(ut=(wt=(Fe=(Qe=(ut=(wt=(Fe=(Qe=(ut=(wt=(Fe=(Qe=(ut=(wt=(Fe=(Qe=(ut=(wt=(Fe=(Qe=(ut=(wt=(Fe=Qe+(We<<7&4294967295|We>>>25))+((We=wt+(ut^Fe&(Qe^ut))+it[1]+3905402710&4294967295)<<12&4294967295|We>>>20))+((We=ut+(Qe^wt&(Fe^Qe))+it[2]+606105819&4294967295)<<17&4294967295|We>>>15))+((We=Qe+(Fe^ut&(wt^Fe))+it[3]+3250441966&4294967295)<<22&4294967295|We>>>10))+((We=Fe+(wt^Qe&(ut^wt))+it[4]+4118548399&4294967295)<<7&4294967295|We>>>25))+((We=wt+(ut^Fe&(Qe^ut))+it[5]+1200080426&4294967295)<<12&4294967295|We>>>20))+((We=ut+(Qe^wt&(Fe^Qe))+it[6]+2821735955&4294967295)<<17&4294967295|We>>>15))+((We=Qe+(Fe^ut&(wt^Fe))+it[7]+4249261313&4294967295)<<22&4294967295|We>>>10))+((We=Fe+(wt^Qe&(ut^wt))+it[8]+1770035416&4294967295)<<7&4294967295|We>>>25))+((We=wt+(ut^Fe&(Qe^ut))+it[9]+2336552879&4294967295)<<12&4294967295|We>>>20))+((We=ut+(Qe^wt&(Fe^Qe))+it[10]+4294925233&4294967295)<<17&4294967295|We>>>15))+((We=Qe+(Fe^ut&(wt^Fe))+it[11]+2304563134&4294967295)<<22&4294967295|We>>>10))+((We=Fe+(wt^Qe&(ut^wt))+it[12]+1804603682&4294967295)<<7&4294967295|We>>>25))+((We=wt+(ut^Fe&(Qe^ut))+it[13]+4254626195&4294967295)<<12&4294967295|We>>>20))+((We=ut+(Qe^wt&(Fe^Qe))+it[14]+2792965006&4294967295)<<17&4294967295|We>>>15))+((We=Qe+(Fe^ut&(wt^Fe))+it[15]+1236535329&4294967295)<<22&4294967295|We>>>10))+((We=Fe+(ut^wt&(Qe^ut))+it[1]+4129170786&4294967295)<<5&4294967295|We>>>27))+((We=wt+(Qe^ut&(Fe^Qe))+it[6]+3225465664&4294967295)<<9&4294967295|We>>>23))+((We=ut+(Fe^Qe&(wt^Fe))+it[11]+643717713&4294967295)<<14&4294967295|We>>>18))+((We=Qe+(wt^Fe&(ut^wt))+it[0]+3921069994&4294967295)<<20&4294967295|We>>>12))+((We=Fe+(ut^wt&(Qe^ut))+it[5]+3593408605&4294967295)<<5&4294967295|We>>>27))+((We=wt+(Qe^ut&(Fe^Qe))+it[10]+38016083&4294967295)<<9&4294967295|We>>>23))+((We=ut+(Fe^Qe&(wt^Fe))+it[15]+3634488961&4294967295)<<14&4294967295|We>>>18))+((We=Qe+(wt^Fe&(ut^wt))+it[4]+3889429448&4294967295)<<20&4294967295|We>>>12))+((We=Fe+(ut^wt&(Qe^ut))+it[9]+568446438&4294967295)<<5&4294967295|We>>>27))+((We=wt+(Qe^ut&(Fe^Qe))+it[14]+3275163606&4294967295)<<9&4294967295|We>>>23))+((We=ut+(Fe^Qe&(wt^Fe))+it[3]+4107603335&4294967295)<<14&4294967295|We>>>18))+((We=Qe+(wt^Fe&(ut^wt))+it[8]+1163531501&4294967295)<<20&4294967295|We>>>12))+((We=Fe+(ut^wt&(Qe^ut))+it[13]+2850285829&4294967295)<<5&4294967295|We>>>27))+((We=wt+(Qe^ut&(Fe^Qe))+it[2]+4243563512&4294967295)<<9&4294967295|We>>>23))+((We=ut+(Fe^Qe&(wt^Fe))+it[7]+1735328473&4294967295)<<14&4294967295|We>>>18))+((We=Qe+(wt^Fe&(ut^wt))+it[12]+2368359562&4294967295)<<20&4294967295|We>>>12))+((We=Fe+(Qe^ut^wt)+it[5]+4294588738&4294967295)<<4&4294967295|We>>>28))+((We=wt+(Fe^Qe^ut)+it[8]+2272392833&4294967295)<<11&4294967295|We>>>21))+((We=ut+(wt^Fe^Qe)+it[11]+1839030562&4294967295)<<16&4294967295|We>>>16))+((We=Qe+(ut^wt^Fe)+it[14]+4259657740&4294967295)<<23&4294967295|We>>>9))+((We=Fe+(Qe^ut^wt)+it[1]+2763975236&4294967295)<<4&4294967295|We>>>28))+((We=wt+(Fe^Qe^ut)+it[4]+1272893353&4294967295)<<11&4294967295|We>>>21))+((We=ut+(wt^Fe^Qe)+it[7]+4139469664&4294967295)<<16&4294967295|We>>>16))+((We=Qe+(ut^wt^Fe)+it[10]+3200236656&4294967295)<<23&4294967295|We>>>9))+((We=Fe+(Qe^ut^wt)+it[13]+681279174&4294967295)<<4&4294967295|We>>>28))+((We=wt+(Fe^Qe^ut)+it[0]+3936430074&4294967295)<<11&4294967295|We>>>21))+((We=ut+(wt^Fe^Qe)+it[3]+3572445317&4294967295)<<16&4294967295|We>>>16))+((We=Qe+(ut^wt^Fe)+it[6]+76029189&4294967295)<<23&4294967295|We>>>9))+((We=Fe+(Qe^ut^wt)+it[9]+3654602809&4294967295)<<4&4294967295|We>>>28))+((We=wt+(Fe^Qe^ut)+it[12]+3873151461&4294967295)<<11&4294967295|We>>>21))+((We=ut+(wt^Fe^Qe)+it[15]+530742520&4294967295)<<16&4294967295|We>>>16))+((We=Qe+(ut^wt^Fe)+it[2]+3299628645&4294967295)<<23&4294967295|We>>>9))+((We=Fe+(ut^(Qe|~wt))+it[0]+4096336452&4294967295)<<6&4294967295|We>>>26))+((We=wt+(Qe^(Fe|~ut))+it[7]+1126891415&4294967295)<<10&4294967295|We>>>22))+((We=ut+(Fe^(wt|~Qe))+it[14]+2878612391&4294967295)<<15&4294967295|We>>>17))+((We=Qe+(wt^(ut|~Fe))+it[5]+4237533241&4294967295)<<21&4294967295|We>>>11))+((We=Fe+(ut^(Qe|~wt))+it[12]+1700485571&4294967295)<<6&4294967295|We>>>26))+((We=wt+(Qe^(Fe|~ut))+it[3]+2399980690&4294967295)<<10&4294967295|We>>>22))+((We=ut+(Fe^(wt|~Qe))+it[10]+4293915773&4294967295)<<15&4294967295|We>>>17))+((We=Qe+(wt^(ut|~Fe))+it[1]+2240044497&4294967295)<<21&4294967295|We>>>11))+((We=Fe+(ut^(Qe|~wt))+it[8]+1873313359&4294967295)<<6&4294967295|We>>>26))+((We=wt+(Qe^(Fe|~ut))+it[15]+4264355552&4294967295)<<10&4294967295|We>>>22))+((We=ut+(Fe^(wt|~Qe))+it[6]+2734768916&4294967295)<<15&4294967295|We>>>17))+((We=Qe+(wt^(ut|~Fe))+it[13]+1309151649&4294967295)<<21&4294967295|We>>>11))+((wt=(Fe=Qe+((We=Fe+(ut^(Qe|~wt))+it[4]+4149444226&4294967295)<<6&4294967295|We>>>26))+((We=wt+(Qe^(Fe|~ut))+it[11]+3174756917&4294967295)<<10&4294967295|We>>>22))^((ut=wt+((We=ut+(Fe^(wt|~Qe))+it[2]+718787259&4294967295)<<15&4294967295|We>>>17))|~Fe))+it[9]+3951481745&4294967295,nt.g[0]=nt.g[0]+Fe&4294967295,nt.g[1]=nt.g[1]+(ut+(We<<21&4294967295|We>>>11))&4294967295,nt.g[2]=nt.g[2]+ut&4294967295,nt.g[3]=nt.g[3]+wt&4294967295}function g(nt,Fe){this.h=Fe;for(var Qe=[],it=!0,ut=nt.length-1;0<=ut;ut--){var wt=0|nt[ut];it&&wt==Fe||(Qe[ut]=wt,it=!1)}this.g=Qe}(function e(nt,Fe){function Qe(){}Qe.prototype=Fe.prototype,nt.D=Fe.prototype,nt.prototype=new Qe,nt.prototype.constructor=nt,nt.C=function(it,ut,wt){for(var We=Array(arguments.length-2),Dl=2;Dl<arguments.length;Dl++)We[Dl-2]=arguments[Dl];return Fe.prototype[ut].apply(it,We)}})(o,function r(){this.blockSize=-1}),o.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},o.prototype.u=function(nt,Fe){void 0===Fe&&(Fe=nt.length);for(var Qe=Fe-this.blockSize,it=this.B,ut=this.h,wt=0;wt<Fe;){if(0==ut)for(;wt<=Qe;)c(this,nt,wt),wt+=this.blockSize;if("string"==typeof nt){for(;wt<Fe;)if(it[ut++]=nt.charCodeAt(wt++),ut==this.blockSize){c(this,it),ut=0;break}}else for(;wt<Fe;)if(it[ut++]=nt[wt++],ut==this.blockSize){c(this,it),ut=0;break}}this.h=ut,this.o+=Fe},o.prototype.v=function(){var nt=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);nt[0]=128;for(var Fe=1;Fe<nt.length-8;++Fe)nt[Fe]=0;var Qe=8*this.o;for(Fe=nt.length-8;Fe<nt.length;++Fe)nt[Fe]=255&Qe,Qe/=256;for(this.u(nt),nt=Array(16),Fe=Qe=0;4>Fe;++Fe)for(var it=0;32>it;it+=8)nt[Qe++]=this.g[Fe]>>>it&255;return nt};var C={};function O(nt){return-128<=nt&&128>nt?function d(nt,Fe){var Qe=C;return Object.prototype.hasOwnProperty.call(Qe,nt)?Qe[nt]:Qe[nt]=Fe(nt)}(nt,function(Fe){return new g([0|Fe],0>Fe?-1:0)}):new g([0|nt],0>nt?-1:0)}function U(nt){if(isNaN(nt)||!isFinite(nt))return pe;if(0>nt)return tn(U(-nt));for(var Fe=[],Qe=1,it=0;nt>=Qe;it++)Fe[it]=nt/Qe|0,Qe*=4294967296;return new g(Fe,0)}var pe=O(0),Ue=O(1),yt=O(16777216);function Ut(nt){if(0!=nt.h)return!1;for(var Fe=0;Fe<nt.g.length;Fe++)if(0!=nt.g[Fe])return!1;return!0}function cn(nt){return-1==nt.h}function tn(nt){for(var Fe=nt.g.length,Qe=[],it=0;it<Fe;it++)Qe[it]=~nt.g[it];return new g(Qe,~nt.h).add(Ue)}function Wn(nt,Fe){return nt.add(tn(Fe))}function tr(nt,Fe){for(;(65535&nt[Fe])!=nt[Fe];)nt[Fe+1]+=nt[Fe]>>>16,nt[Fe]&=65535,Fe++}function Gn(nt,Fe){this.g=nt,this.h=Fe}function kr(nt,Fe){if(Ut(Fe))throw Error("division by zero");if(Ut(nt))return new Gn(pe,pe);if(cn(nt))return Fe=kr(tn(nt),Fe),new Gn(tn(Fe.g),tn(Fe.h));if(cn(Fe))return Fe=kr(nt,tn(Fe)),new Gn(tn(Fe.g),Fe.h);if(30<nt.g.length){if(cn(nt)||cn(Fe))throw Error("slowDivide_ only works with positive integers.");for(var Qe=Ue,it=Fe;0>=it.l(nt);)Qe=fi(Qe),it=fi(it);var ut=Xr(Qe,1),wt=Xr(it,1);for(it=Xr(it,2),Qe=Xr(Qe,2);!Ut(it);){var We=wt.add(it);0>=We.l(nt)&&(ut=ut.add(Qe),wt=We),it=Xr(it,1),Qe=Xr(Qe,1)}return Fe=Wn(nt,ut.j(Fe)),new Gn(ut,Fe)}for(ut=pe;0<=nt.l(Fe);){for(Qe=Math.max(1,Math.floor(nt.m()/Fe.m())),it=48>=(it=Math.ceil(Math.log(Qe)/Math.LN2))?1:Math.pow(2,it-48),We=(wt=U(Qe)).j(Fe);cn(We)||0<We.l(nt);)We=(wt=U(Qe-=it)).j(Fe);Ut(wt)&&(wt=Ue),ut=ut.add(wt),nt=Wn(nt,We)}return new Gn(ut,nt)}function fi(nt){for(var Fe=nt.g.length+1,Qe=[],it=0;it<Fe;it++)Qe[it]=nt.i(it)<<1|nt.i(it-1)>>>31;return new g(Qe,nt.h)}function Xr(nt,Fe){var Qe=Fe>>5;Fe%=32;for(var it=nt.g.length-Qe,ut=[],wt=0;wt<it;wt++)ut[wt]=0<Fe?nt.i(wt+Qe)>>>Fe|nt.i(wt+Qe+1)<<32-Fe:nt.i(wt+Qe);return new g(ut,nt.h)}(a=g.prototype).m=function(){if(cn(this))return-tn(this).m();for(var nt=0,Fe=1,Qe=0;Qe<this.g.length;Qe++){var it=this.i(Qe);nt+=(0<=it?it:4294967296+it)*Fe,Fe*=4294967296}return nt},a.toString=function(nt){if(2>(nt=nt||10)||36<nt)throw Error("radix out of range: "+nt);if(Ut(this))return"0";if(cn(this))return"-"+tn(this).toString(nt);for(var Fe=U(Math.pow(nt,6)),Qe=this,it="";;){var ut=kr(Qe,Fe).g,wt=((0<(Qe=Wn(Qe,ut.j(Fe))).g.length?Qe.g[0]:Qe.h)>>>0).toString(nt);if(Ut(Qe=ut))return wt+it;for(;6>wt.length;)wt="0"+wt;it=wt+it}},a.i=function(nt){return 0>nt?0:nt<this.g.length?this.g[nt]:this.h},a.l=function(nt){return cn(nt=Wn(this,nt))?-1:Ut(nt)?0:1},a.abs=function(){return cn(this)?tn(this):this},a.add=function(nt){for(var Fe=Math.max(this.g.length,nt.g.length),Qe=[],it=0,ut=0;ut<=Fe;ut++){var wt=it+(65535&this.i(ut))+(65535&nt.i(ut)),We=(wt>>>16)+(this.i(ut)>>>16)+(nt.i(ut)>>>16);it=We>>>16,Qe[ut]=(We&=65535)<<16|(wt&=65535)}return new g(Qe,-2147483648&Qe[Qe.length-1]?-1:0)},a.j=function(nt){if(Ut(this)||Ut(nt))return pe;if(cn(this))return cn(nt)?tn(this).j(tn(nt)):tn(tn(this).j(nt));if(cn(nt))return tn(this.j(tn(nt)));if(0>this.l(yt)&&0>nt.l(yt))return U(this.m()*nt.m());for(var Fe=this.g.length+nt.g.length,Qe=[],it=0;it<2*Fe;it++)Qe[it]=0;for(it=0;it<this.g.length;it++)for(var ut=0;ut<nt.g.length;ut++){var wt=this.i(it)>>>16,We=65535&this.i(it),Dl=nt.i(ut)>>>16,Hh=65535&nt.i(ut);Qe[2*it+2*ut]+=We*Hh,tr(Qe,2*it+2*ut),Qe[2*it+2*ut+1]+=wt*Hh,tr(Qe,2*it+2*ut+1),Qe[2*it+2*ut+1]+=We*Dl,tr(Qe,2*it+2*ut+1),Qe[2*it+2*ut+2]+=wt*Dl,tr(Qe,2*it+2*ut+2)}for(it=0;it<Fe;it++)Qe[it]=Qe[2*it+1]<<16|Qe[2*it];for(it=Fe;it<2*Fe;it++)Qe[it]=0;return new g(Qe,0)},a.A=function(nt){return kr(this,nt).h},a.and=function(nt){for(var Fe=Math.max(this.g.length,nt.g.length),Qe=[],it=0;it<Fe;it++)Qe[it]=this.i(it)&nt.i(it);return new g(Qe,this.h&nt.h)},a.or=function(nt){for(var Fe=Math.max(this.g.length,nt.g.length),Qe=[],it=0;it<Fe;it++)Qe[it]=this.i(it)|nt.i(it);return new g(Qe,this.h|nt.h)},a.xor=function(nt){for(var Fe=Math.max(this.g.length,nt.g.length),Qe=[],it=0;it<Fe;it++)Qe[it]=this.i(it)^nt.i(it);return new g(Qe,this.h^nt.h)},o.prototype.digest=o.prototype.v,o.prototype.reset=o.prototype.s,o.prototype.update=o.prototype.u,lt=Be.Md5=o,g.prototype.add=g.prototype.add,g.prototype.multiply=g.prototype.j,g.prototype.modulo=g.prototype.A,g.prototype.compare=g.prototype.l,g.prototype.toNumber=g.prototype.m,g.prototype.toString=g.prototype.toString,g.prototype.getBits=g.prototype.i,g.fromNumber=U,g.fromString=function X(nt,Fe){if(0==nt.length)throw Error("number format error: empty string");if(2>(Fe=Fe||10)||36<Fe)throw Error("radix out of range: "+Fe);if("-"==nt.charAt(0))return tn(X(nt.substring(1),Fe));if(0<=nt.indexOf("-"))throw Error('number format error: interior "-" character');for(var Qe=U(Math.pow(Fe,8)),it=pe,ut=0;ut<nt.length;ut+=8){var wt=Math.min(8,nt.length-ut),We=parseInt(nt.substring(ut,ut+wt),Fe);8>wt?(wt=U(Math.pow(Fe,wt)),it=it.j(wt).add(U(We))):it=(it=it.j(Qe)).add(U(We))}return it},$e=Be.Integer=g}).apply(typeof ve<"u"?ve:typeof self<"u"?self:typeof window<"u"?window:{});var Ft,_n,Xt,be,Ge,ze,Ke,dt,Tt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Dt={};(function(){var a,e="function"==typeof Object.defineProperties?Object.defineProperty:function(f,N,$){return f==Array.prototype||f==Object.prototype||(f[N]=$.value),f},o=function r(f){f=["object"==typeof globalThis&&globalThis,f,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof Tt&&Tt];for(var N=0;N<f.length;++N){var $=f[N];if($&&$.Math==Math)return $}throw Error("Cannot find global object")}(this);!function c(f,N){if(N)e:{var $=o;f=f.split(".");for(var ue=0;ue<f.length-1;ue++){var ct=f[ue];if(!(ct in $))break e;$=$[ct]}(N=N(ue=$[f=f[f.length-1]]))!=ue&&null!=N&&e($,f,{configurable:!0,writable:!0,value:N})}}("Array.prototype.values",function(f){return f||function(){return function d(f,N){f instanceof String&&(f+="");var $=0,ue=!1,ct={next:function(){if(!ue&&$<f.length){var Pt=$++;return{value:N(Pt,f[Pt]),done:!1}}return ue=!0,{done:!0,value:void 0}}};return ct[Symbol.iterator]=function(){return ct},ct}(this,function(N,$){return $})}});var g=g||{},C=this||self;function O(f){var N=typeof f;return"array"==(N="object"!=N?N:f?Array.isArray(f)?"array":N:"null")||"object"==N&&"number"==typeof f.length}function U(f){var N=typeof f;return"object"==N&&null!=f||"function"==N}function X(f,N,$){return f.call.apply(f.bind,arguments)}function pe(f,N,$){if(!f)throw Error();if(2<arguments.length){var ue=Array.prototype.slice.call(arguments,2);return function(){var ct=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(ct,ue),f.apply(N,ct)}}return function(){return f.apply(N,arguments)}}function Ue(f,N,$){return(Ue=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?X:pe).apply(null,arguments)}function yt(f,N){var $=Array.prototype.slice.call(arguments,1);return function(){var ue=$.slice();return ue.push.apply(ue,arguments),f.apply(this,ue)}}function Ut(f,N){function $(){}$.prototype=N.prototype,f.aa=N.prototype,f.prototype=new $,f.prototype.constructor=f,f.Qb=function(ue,ct,Pt){for(var En=Array(arguments.length-2),qi=2;qi<arguments.length;qi++)En[qi-2]=arguments[qi];return N.prototype[ct].apply(ue,En)}}function cn(f){const N=f.length;if(0<N){const $=Array(N);for(let ue=0;ue<N;ue++)$[ue]=f[ue];return $}return[]}function tn(f,N){for(let $=1;$<arguments.length;$++){const ue=arguments[$];if(O(ue)){const ct=f.length||0,Pt=ue.length||0;f.length=ct+Pt;for(let En=0;En<Pt;En++)f[ct+En]=ue[En]}else f.push(ue)}}function tr(f){return/^[\s\xa0]*$/.test(f)}function Gn(){var f=C.navigator;return f&&(f=f.userAgent)?f:""}function kr(f){return kr[" "](f),f}kr[" "]=function(){};var fi=!(-1==Gn().indexOf("Gecko")||-1!=Gn().toLowerCase().indexOf("webkit")&&-1==Gn().indexOf("Edge")||-1!=Gn().indexOf("Trident")||-1!=Gn().indexOf("MSIE")||-1!=Gn().indexOf("Edge"));function Xr(f,N,$){for(const ue in f)N.call($,f[ue],ue,f)}function Fe(f){const N={};for(const $ in f)N[$]=f[$];return N}const Qe="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function it(f,N){let $,ue;for(let ct=1;ct<arguments.length;ct++){for($ in ue=arguments[ct],ue)f[$]=ue[$];for(let Pt=0;Pt<Qe.length;Pt++)$=Qe[Pt],Object.prototype.hasOwnProperty.call(ue,$)&&(f[$]=ue[$])}}function ut(f){var N=1;f=f.split(":");const $=[];for(;0<N&&f.length;)$.push(f.shift()),N--;return f.length&&$.push(f.join(":")),$}function wt(f){C.setTimeout(()=>{throw f},0)}function We(){var f=Bd;let N=null;return f.g&&(N=f.g,f.g=f.g.next,f.g||(f.h=null),N.next=null),N}var Hh=new class Wn{constructor(N,$){this.i=N,this.j=$,this.h=0,this.g=null}get(){let N;return 0<this.h?(this.h--,N=this.g,this.g=N.next,N.next=null):N=this.i(),N}}(()=>new o0,f=>f.reset());class o0{constructor(){this.next=this.g=this.h=null}set(N,$){this.h=N,this.g=$,this.next=null}reset(){this.next=this.g=this.h=null}}let Sl,rd=!1,Bd=new class Dl{constructor(){this.h=this.g=null}add(N,$){const ue=Hh.get();ue.set(N,$),this.h?this.h.next=ue:this.g=ue,this.h=ue}},s0=()=>{const f=C.Promise.resolve(void 0);Sl=()=>{f.then(Uh)}};var Uh=()=>{for(var f;f=We();){try{f.h.call(f.g)}catch($){wt($)}var N=Hh;N.j(f),100>N.h&&(N.h++,f.next=N.g,N.g=f)}rd=!1};function Rl(){this.s=this.s,this.C=this.C}function zs(f,N){this.type=f,this.g=this.target=N,this.defaultPrevented=!1}Rl.prototype.s=!1,Rl.prototype.ma=function(){this.s||(this.s=!0,this.N())},Rl.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},zs.prototype.h=function(){this.defaultPrevented=!0};var qh=function(){if(!C.addEventListener||!Object.defineProperty)return!1;var f=!1,N=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const $=()=>{};C.addEventListener("test",$,N),C.removeEventListener("test",$,N)}catch{}return f}();function $h(f,N){if(zs.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var $=this.type=f.type,ue=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=N,N=f.relatedTarget){if(fi){e:{try{kr(N.nodeName);var ct=!0;break e}catch{}ct=!1}ct||(N=null)}}else"mouseover"==$?N=f.fromElement:"mouseout"==$&&(N=f.toElement);this.relatedTarget=N,ue?(this.clientX=void 0!==ue.clientX?ue.clientX:ue.pageX,this.clientY=void 0!==ue.clientY?ue.clientY:ue.pageY,this.screenX=ue.screenX||0,this.screenY=ue.screenY||0):(this.clientX=void 0!==f.clientX?f.clientX:f.pageX,this.clientY=void 0!==f.clientY?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType="string"==typeof f.pointerType?f.pointerType:_g[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&$h.aa.h.call(this)}}Ut($h,zs);var _g={2:"touch",3:"pen",4:"mouse"};$h.prototype.h=function(){$h.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var Wh="closure_listenable_"+(1e6*Math.random()|0),vg=0;function a0(f,N,$,ue,ct){this.listener=f,this.proxy=null,this.src=N,this.type=$,this.capture=!!ue,this.ha=ct,this.key=++vg,this.da=this.fa=!1}function id(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function od(f){this.src=f,this.g={},this.h=0}function sm(f,N){var $=N.type;if($ in f.g){var Pt,ue=f.g[$],ct=Array.prototype.indexOf.call(ue,N,void 0);(Pt=0<=ct)&&Array.prototype.splice.call(ue,ct,1),Pt&&(id(N),0==f.g[$].length&&(delete f.g[$],f.h--))}}function c0(f,N,$,ue){for(var ct=0;ct<f.length;++ct){var Pt=f[ct];if(!Pt.da&&Pt.listener==N&&Pt.capture==!!$&&Pt.ha==ue)return ct}return-1}od.prototype.add=function(f,N,$,ue,ct){var Pt=f.toString();(f=this.g[Pt])||(f=this.g[Pt]=[],this.h++);var En=c0(f,N,ue,ct);return-1<En?(N=f[En],$||(N.fa=!1)):((N=new a0(N,this.src,Pt,!!ue,ct)).fa=$,f.push(N)),N};var l0="closure_lm_"+(1e6*Math.random()|0),Gh={};function am(f,N,$,ue,ct){if(ue&&ue.once)return cm(f,N,$,ue,ct);if(Array.isArray(N)){for(var Pt=0;Pt<N.length;Pt++)am(f,N[Pt],$,ue,ct);return null}return $=hp($),f&&f[Wh]?f.K(N,$,U(ue)?!!ue.capture:!!ue,ct):u0(f,N,$,!1,ue,ct)}function u0(f,N,$,ue,ct,Pt){if(!N)throw Error("Invalid event type");var En=U(ct)?!!ct.capture:!!ct,qi=p0(f);if(qi||(f[l0]=qi=new od(f)),($=qi.add(N,$,ue,En,Pt)).proxy)return $;if(ue=function kg(){const N=bg;return function f($){return N.call(f.src,f.listener,$)}}(),$.proxy=ue,ue.src=f,ue.listener=$,f.addEventListener)qh||(ct=En),void 0===ct&&(ct=!1),f.addEventListener(N.toString(),ue,ct);else if(f.attachEvent)f.attachEvent(h0(N.toString()),ue);else{if(!f.addListener||!f.removeListener)throw Error("addEventListener and attachEvent are unavailable.");f.addListener(ue)}return $}function cm(f,N,$,ue,ct){if(Array.isArray(N)){for(var Pt=0;Pt<N.length;Pt++)cm(f,N[Pt],$,ue,ct);return null}return $=hp($),f&&f[Wh]?f.L(N,$,U(ue)?!!ue.capture:!!ue,ct):u0(f,N,$,!0,ue,ct)}function d0(f,N,$,ue,ct){if(Array.isArray(N))for(var Pt=0;Pt<N.length;Pt++)d0(f,N[Pt],$,ue,ct);else ue=U(ue)?!!ue.capture:!!ue,$=hp($),f&&f[Wh]?(f=f.i,(N=String(N).toString())in f.g&&-1<($=c0(Pt=f.g[N],$,ue,ct))&&(id(Pt[$]),Array.prototype.splice.call(Pt,$,1),0==Pt.length&&(delete f.g[N],f.h--))):f&&(f=p0(f))&&(N=f.g[N.toString()],f=-1,N&&(f=c0(N,$,ue,ct)),($=-1<f?N[f]:null)&&dp($))}function dp(f){if("number"!=typeof f&&f&&!f.da){var N=f.src;if(N&&N[Wh])sm(N.i,f);else{var $=f.type,ue=f.proxy;N.removeEventListener?N.removeEventListener($,ue,f.capture):N.detachEvent?N.detachEvent(h0($),ue):N.addListener&&N.removeListener&&N.removeListener(ue),($=p0(N))?(sm($,f),0==$.h&&($.src=null,N[l0]=null)):id(f)}}}function h0(f){return f in Gh?Gh[f]:Gh[f]="on"+f}function bg(f,N){if(f.da)f=!0;else{N=new $h(N,this);var $=f.listener,ue=f.ha||f.src;f.fa&&dp(f),f=$.call(ue,N)}return f}function p0(f){return(f=f[l0])instanceof od?f:null}var f0="__closure_events_fn_"+(1e9*Math.random()>>>0);function hp(f){return"function"==typeof f?f:(f[f0]||(f[f0]=function(N){return f.handleEvent(N)}),f[f0])}function ys(){Rl.call(this),this.i=new od(this),this.M=this,this.F=null}function Rs(f,N){var $,ue=f.F;if(ue)for($=[];ue;ue=ue.F)$.push(ue);if(f=f.M,ue=N.type||N,"string"==typeof N)N=new zs(N,f);else if(N instanceof zs)N.target=N.target||f;else{var ct=N;it(N=new zs(ue,f),ct)}if(ct=!0,$)for(var Pt=$.length-1;0<=Pt;Pt--){var En=N.g=$[Pt];ct=pp(En,ue,!0,N)&&ct}if(ct=pp(En=N.g=f,ue,!0,N)&&ct,ct=pp(En,ue,!1,N)&&ct,$)for(Pt=0;Pt<$.length;Pt++)ct=pp(En=N.g=$[Pt],ue,!1,N)&&ct}function pp(f,N,$,ue){if(!(N=f.i.g[String(N)]))return!0;N=N.concat();for(var ct=!0,Pt=0;Pt<N.length;++Pt){var En=N[Pt];if(En&&!En.da&&En.capture==$){var qi=En.listener,gs=En.ha||En.src;En.fa&&sm(f.i,En),ct=!1!==qi.call(gs,ue)&&ct}}return ct&&!ue.defaultPrevented}function Kh(f,N,$){if("function"==typeof f)$&&(f=Ue(f,$));else{if(!f||"function"!=typeof f.handleEvent)throw Error("Invalid listener argument");f=Ue(f.handleEvent,f)}return 2147483647<Number(N)?-1:C.setTimeout(f,N||0)}function Qh(f){f.g=Kh(()=>{f.g=null,f.i&&(f.i=!1,Qh(f))},f.l);const N=f.h;f.h=null,f.m.apply(null,N)}Ut(ys,Rl),ys.prototype[Wh]=!0,ys.prototype.removeEventListener=function(f,N,$,ue){d0(this,f,N,$,ue)},ys.prototype.N=function(){if(ys.aa.N.call(this),this.i){var N,f=this.i;for(N in f.g){for(var $=f.g[N],ue=0;ue<$.length;ue++)id($[ue]);delete f.g[N],f.h--}}this.F=null},ys.prototype.K=function(f,N,$,ue){return this.i.add(String(f),N,!1,$,ue)},ys.prototype.L=function(f,N,$,ue){return this.i.add(String(f),N,!0,$,ue)};class m0 extends Rl{constructor(N,$){super(),this.m=N,this.l=$,this.h=null,this.i=!1,this.g=null}j(N){this.h=arguments,this.g?this.i=!0:Qh(this)}N(){super.N(),this.g&&(C.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function jd(f){Rl.call(this),this.h=f,this.g={}}Ut(jd,Rl);var lm=[];function um(f){Xr(f.g,function(N,$){this.g.hasOwnProperty($)&&dp(N)},f),f.g={}}jd.prototype.N=function(){jd.aa.N.call(this),um(this)},jd.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var y0=C.JSON.stringify,fp=C.JSON.parse,mp=class{stringify(f){return C.JSON.stringify(f,void 0)}parse(f){return C.JSON.parse(f,void 0)}};function Zh(){}function dm(){}Zh.prototype.h=null;var Xh={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function yp(){zs.call(this,"d")}function Yh(){zs.call(this,"c")}Ut(yp,zs),Ut(Yh,zs);var du={},gp=null;function Jh(){return gp=gp||new ys}function hm(f){zs.call(this,du.La,f)}function zd(f){const N=Jh();Rs(N,new hm(N))}function _0(f,N){zs.call(this,du.STAT_EVENT,f),this.stat=N}function Hs(f){const N=Jh();Rs(N,new _0(N,f))}function v0(f,N){zs.call(this,du.Ma,f),this.size=N}function e1(f,N){if("function"!=typeof f)throw Error("Fn must not be null and must be a function");return C.setTimeout(function(){f()},N)}function Hd(){this.g=!0}function Pl(f,N,$,ue){f.info(function(){return"XMLHTTP TEXT ("+N+"): "+function ym(f,N){if(!f.g)return N;if(!N)return null;try{var $=JSON.parse(N);if($)for(f=0;f<$.length;f++)if(Array.isArray($[f])){var ue=$[f];if(!(2>ue.length)){var ct=ue[1];if(Array.isArray(ct)&&!(1>ct.length)){var Pt=ct[0];if("noop"!=Pt&&"stop"!=Pt&&"close"!=Pt)for(var En=1;En<ct.length;En++)ct[En]=""}}}return y0($)}catch{return N}}(f,$)+(ue?" "+ue:"")})}du.La="serverreachability",Ut(hm,zs),du.STAT_EVENT="statevent",Ut(_0,zs),du.Ma="timingevent",Ut(v0,zs),Hd.prototype.xa=function(){this.g=!1},Hd.prototype.info=function(){};var _p,t1={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},k0={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function n1(){}function Ol(f,N,$,ue){this.j=f,this.i=N,this.l=$,this.R=ue||1,this.U=new jd(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new b0}function b0(){this.i=null,this.g="",this.h=!1}Ut(n1,Zh),n1.prototype.g=function(){return new XMLHttpRequest},n1.prototype.i=function(){return{}},_p=new n1;var r1={},el={};function M0(f,N,$){f.L=1,f.v=$d(tl(N)),f.m=$,f.P=!0,gm(f,null)}function gm(f,N){f.F=Date.now(),Ud(f),f.A=tl(f.v);var $=f.A,ue=f.R;Array.isArray(ue)||(ue=[String(ue)]),Ep($.i,"t",ue),f.C=0,$=f.j.J,f.h=new b0,f.g=B0(f.j,$?N:null,!f.m),0<f.O&&(f.M=new m0(Ue(f.Y,f,f.g),f.O)),N=f.U,$=f.g,ue=f.ca;var ct="readystatechange";Array.isArray(ct)||(ct&&(lm[0]=ct.toString()),ct=lm);for(var Pt=0;Pt<ct.length;Pt++){var En=am($,ct[Pt],ue||N.handleEvent,!1,N.h||N);if(!En)break;N.g[En.key]=En}N=f.H?Fe(f.H):{},f.m?(f.u||(f.u="POST"),N["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,N)):(f.u="GET",f.g.ea(f.A,f.u,null,N)),zd(),function pm(f,N,$,ue,ct,Pt){f.info(function(){if(f.g)if(Pt)for(var En="",qi=Pt.split("&"),gs=0;gs<qi.length;gs++){var ai=qi[gs].split("=");if(1<ai.length){var ia=ai[0];ai=ai[1];var Bo=ia.split("_");En=2<=Bo.length&&"type"==Bo[1]?En+(ia+"=")+ai+"&":En+(ia+"=redacted&")}}else En=null;else En=Pt;return"XMLHTTP REQ ("+ue+") [attempt "+ct+"]: "+N+"\n"+$+"\n"+En})}(f.i,f.u,f.A,f.l,f.R,f.m)}function vp(f){return!!f.g&&"GET"==f.u&&2!=f.L&&f.j.Ca}function sd(f,N){var $=f.C,ue=N.indexOf("\n",$);return-1==ue?el:($=Number(N.substring($,ue)),isNaN($)?r1:(ue+=1)+$>N.length?el:(N=N.slice(ue,ue+$),f.C=ue+$,N))}function Ud(f){f.S=Date.now()+f.I,_m(f,f.I)}function _m(f,N){if(null!=f.B)throw Error("WatchDog timer not null");f.B=e1(Ue(f.ba,f),N)}function o1(f){f.B&&(C.clearTimeout(f.B),f.B=null)}function kp(f){0==f.j.G||f.J||Lm(f.j,f)}function qd(f){o1(f);var N=f.M;N&&"function"==typeof N.ma&&N.ma(),f.M=null,um(f.U),f.g&&(N=f.g,f.g=null,N.abort(),N.ma())}function w0(f,N){try{var $=f.j;if(0!=$.G&&($.g==f||Mp($.h,f)))if(!f.K&&Mp($.h,f)&&3==$.G){try{var ue=$.Da.g.parse(N)}catch{ue=null}if(Array.isArray(ue)&&3==ue.length){var ct=ue;if(0==ct[0]){e:if(!$.u){if($.g){if(!($.g.F+3e3<f.F))break e;Dp($),Ip($)}N0($),Hs(18)}}else $.za=ct[1],0<$.za-$.T&&37500>ct[2]&&$.F&&0==$.v&&!$.C&&($.C=e1(Ue($.Za,$),6e3));if(1>=Fo($.h)&&$.ca){try{$.ca()}catch{}$.ca=void 0}}else mu($,11)}else if((f.K||$.g==f)&&Dp($),!tr(N))for(ct=$.Da.g.parse(N),N=0;N<ct.length;N++){let ai=ct[N];if($.T=ai[0],ai=ai[1],2==$.G)if("c"==ai[0]){$.K=ai[1],$.ia=ai[2];const ia=ai[3];null!=ia&&($.la=ia,$.j.info("VER="+$.la));const Bo=ai[4];null!=Bo&&($.Aa=Bo,$.j.info("SVER="+$.Aa));const Kd=ai[5];null!=Kd&&"number"==typeof Kd&&0<Kd&&($.L=ue=1.5*Kd,$.j.info("backChannelRequestTimeoutMs_="+ue)),ue=$;const Oc=f.g;if(Oc){const Sp=Oc.g?Oc.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Sp){var Pt=ue.h;Pt.g||-1==Sp.indexOf("spdy")&&-1==Sp.indexOf("quic")&&-1==Sp.indexOf("h2")||(Pt.j=Pt.l,Pt.g=new Set,Pt.h&&(E0(Pt,Pt.h),Pt.h=null))}if(ue.D){const gu=Oc.g?Oc.g.getResponseHeader("X-HTTP-Session-Id"):null;gu&&(ue.ya=gu,Vi(ue.I,ue.D,gu))}}$.G=3,$.l&&$.l.ua(),$.ba&&($.R=Date.now()-f.F,$.j.info("Handshake RTT: "+$.R+"ms"));var En=f;if((ue=$).qa=F0(ue,ue.J?ue.ia:null,ue.W),En.K){km(ue.h,En);var qi=En,gs=ue.L;gs&&(qi.I=gs),qi.B&&(o1(qi),Ud(qi)),ue.g=En}else Nm(ue);0<$.i.length&&Tp($)}else"stop"!=ai[0]&&"close"!=ai[0]||mu($,7);else 3==$.G&&("stop"==ai[0]||"close"==ai[0]?"stop"==ai[0]?mu($,7):O0($):"noop"!=ai[0]&&$.l&&$.l.ta(ai),$.v=0)}zd()}catch{}}function bp(f){this.l=f||10,f=C.PerformanceNavigationTiming?0<(f=C.performance.getEntriesByType("navigation")).length&&("hq"==f[0].nextHopProtocol||"h2"==f[0].nextHopProtocol):!!(C.chrome&&C.chrome.loadTimes&&C.chrome.loadTimes()&&C.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function vm(f){return!!f.h||!!f.g&&f.g.size>=f.j}function Fo(f){return f.h?1:f.g?f.g.size:0}function Mp(f,N){return f.h?f.h==N:!!f.g&&f.g.has(N)}function E0(f,N){f.g?f.g.add(N):f.h=N}function km(f,N){f.h&&f.h==N?f.h=null:f.g&&f.g.has(N)&&f.g.delete(N)}function x0(f){if(null!=f.h)return f.i.concat(f.h.D);if(null!=f.g&&0!==f.g.size){let N=f.i;for(const $ of f.g.values())N=N.concat($.D);return N}return cn(f.i)}function C0(f,N){if(f.forEach&&"function"==typeof f.forEach)f.forEach(N,void 0);else if(O(f)||"string"==typeof f)Array.prototype.forEach.call(f,N,void 0);else for(var $=function bm(f){if(f.na&&"function"==typeof f.na)return f.na();if(!f.V||"function"!=typeof f.V){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(O(f)||"string"==typeof f){var N=[];f=f.length;for(var $=0;$<f;$++)N.push($);return N}N=[],$=0;for(const ue in f)N[$++]=ue;return N}}}(f),ue=function wg(f){if(f.V&&"function"==typeof f.V)return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if("string"==typeof f)return f.split("");if(O(f)){for(var N=[],$=f.length,ue=0;ue<$;ue++)N.push(f[ue]);return N}for(ue in N=[],$=0,f)N[$++]=f[ue];return N}(f),ct=ue.length,Pt=0;Pt<ct;Pt++)N.call(void 0,ue[Pt],$&&$[Pt],f)}Ol.prototype.ca=function(f){f=f.target;const N=this.M;N&&3==rl(f)?N.j():this.Y(f)},Ol.prototype.Y=function(f){try{if(f==this.g)e:{const Bo=rl(this.g);var N=this.g.Ba();if(this.g.Z(),!(3>Bo)&&(3!=Bo||this.g&&(this.h.h||this.g.oa()||P0(this.g)))){this.J||4!=Bo||7==N||zd(),o1(this);var $=this.g.Z();this.X=$;t:if(vp(this)){var ue=P0(this.g);f="";var ct=ue.length,Pt=4==rl(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){qd(this),kp(this);var En="";break t}this.h.i=new C.TextDecoder}for(N=0;N<ct;N++)this.h.h=!0,f+=this.h.i.decode(ue[N],{stream:!(Pt&&N==ct-1)});ue.length=0,this.h.g+=f,this.C=0,En=this.h.g}else En=this.g.oa();if(this.o=200==$,function fm(f,N,$,ue,ct,Pt,En){f.info(function(){return"XMLHTTP RESP ("+ue+") [ attempt "+ct+"]: "+N+"\n"+$+"\n"+Pt+" "+En})}(this.i,this.u,this.A,this.l,this.R,Bo,$),this.o){if(this.T&&!this.K){t:{if(this.g){var qi,gs=this.g;if((qi=gs.g?gs.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!tr(qi)){var ai=qi;break t}}ai=null}if(!($=ai)){this.o=!1,this.s=3,Hs(12),qd(this),kp(this);break e}Pl(this.i,this.l,$,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,w0(this,$)}if(this.P){let Oc;for($=!0;!this.J&&this.C<En.length;){if(Oc=sd(this,En),Oc==el){4==Bo&&(this.s=4,Hs(14),$=!1),Pl(this.i,this.l,null,"[Incomplete Response]");break}if(Oc==r1){this.s=4,Hs(15),Pl(this.i,this.l,En,"[Invalid Chunk]"),$=!1;break}Pl(this.i,this.l,Oc,null),w0(this,Oc)}if(vp(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=Bo||0!=En.length||this.h.h||(this.s=1,Hs(16),$=!1),this.o=this.o&&$,$){if(0<En.length&&!this.W){this.W=!0;var ia=this.j;ia.g==this&&ia.ba&&!ia.M&&(ia.j.info("Great, no buffering proxy detected. Bytes received: "+En.length),V0(ia),ia.M=!0,Hs(11))}}else Pl(this.i,this.l,En,"[Invalid Chunked Response]"),qd(this),kp(this)}else Pl(this.i,this.l,En,null),w0(this,En);4==Bo&&qd(this),this.o&&!this.J&&(4==Bo?Lm(this.j,this):(this.o=!1,Ud(this)))}else(function Ig(f){const N={};f=(f.g&&2<=rl(f)&&f.g.getAllResponseHeaders()||"").split("\r\n");for(let ue=0;ue<f.length;ue++){if(tr(f[ue]))continue;var $=ut(f[ue]);const ct=$[0];if("string"!=typeof($=$[1]))continue;$=$.trim();const Pt=N[ct]||[];N[ct]=Pt,Pt.push($)}!function nt(f,N){for(const $ in f)N.call(void 0,f[$],$,f)}(N,function(ue){return ue.join(", ")})})(this.g),400==$&&0<En.indexOf("Unknown SID")?(this.s=3,Hs(12)):(this.s=0,Hs(13)),qd(this),kp(this)}}}catch{}},Ol.prototype.cancel=function(){this.J=!0,qd(this)},Ol.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(function mm(f,N){f.info(function(){return"TIMEOUT: "+N})}(this.i,this.A),2!=this.L&&(zd(),Hs(17)),qd(this),this.s=2,kp(this)):_m(this,this.S-f)},bp.prototype.cancel=function(){if(this.i=x0(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const f of this.g.values())f.cancel();this.g.clear()}};var ad=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function cd(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof cd){this.h=f.h,wp(this,f.j),this.o=f.o,this.g=f.g,s1(this,f.s),this.l=f.l;var N=f.i,$=new c1;$.i=N.i,N.g&&($.g=new Map(N.g),$.h=N.h),xg(this,$),this.m=f.m}else f&&(N=String(f).match(ad))?(this.h=!1,wp(this,N[1]||"",!0),this.o=ba(N[2]||""),this.g=ba(N[3]||"",!0),s1(this,N[4]),this.l=ba(N[5]||"",!0),xg(this,N[6]||"",!0),this.m=ba(N[7]||"")):(this.h=!1,this.i=new c1(null,this.h))}function tl(f){return new cd(f)}function wp(f,N,$){f.j=$?ba(N,!0):N,f.j&&(f.j=f.j.replace(/:$/,""))}function s1(f,N){if(N){if(N=Number(N),isNaN(N)||0>N)throw Error("Bad port number "+N);f.s=N}else f.s=null}function xg(f,N,$){N instanceof c1?(f.i=N,function Cg(f,N){N&&!f.j&&(hu(f),f.i=null,f.g.forEach(function($,ue){var ct=ue.toLowerCase();ue!=ct&&(xm(this,ue),Ep(this,ct,$))},f)),f.j=N}(f.i,f.h)):($||(N=a1(N,wm)),f.i=new c1(N,f.h))}function Vi(f,N,$){f.i.set(N,$)}function $d(f){return Vi(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function ba(f,N){return f?N?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function a1(f,N,$){return"string"==typeof f?(f=encodeURI(f).replace(N,Mm),$&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function Mm(f){return"%"+((f=f.charCodeAt(0))>>4&15).toString(16)+(15&f).toString(16)}cd.prototype.toString=function(){var f=[],N=this.j;N&&f.push(a1(N,Sc,!0),":");var $=this.g;return($||"file"==N)&&(f.push("//"),(N=this.o)&&f.push(a1(N,Sc,!0),"@"),f.push(encodeURIComponent(String($)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=($=this.s)&&f.push(":",String($))),($=this.l)&&(this.g&&"/"!=$.charAt(0)&&f.push("/"),f.push(a1($,"/"==$.charAt(0)?Pc:Rc,!0))),($=this.i.toString())&&f.push("?",$),($=this.m)&&f.push("#",a1($,Em)),f.join("")};var f,Sc=/[#\/\?@]/g,Rc=/[#\?:]/g,Pc=/[#\?]/g,wm=/[#\?@]/g,Em=/#/g;function c1(f,N){this.h=this.g=null,this.i=f||null,this.j=!!N}function hu(f){f.g||(f.g=new Map,f.h=0,f.i&&function Eg(f,N){if(f){f=f.split("&");for(var $=0;$<f.length;$++){var ue=f[$].indexOf("="),ct=null;if(0<=ue){var Pt=f[$].substring(0,ue);ct=f[$].substring(ue+1)}else Pt=f[$];N(Pt,ct?decodeURIComponent(ct.replace(/\+/g," ")):"")}}}(f.i,function(N,$){f.add(decodeURIComponent(N.replace(/\+/g," ")),$)}))}function xm(f,N){hu(f),N=nl(f,N),f.g.has(N)&&(f.i=null,f.h-=f.g.get(N).length,f.g.delete(N))}function Cm(f,N){return hu(f),N=nl(f,N),f.g.has(N)}function Ep(f,N,$){xm(f,N),0<$.length&&(f.i=null,f.g.set(nl(f,N),cn($)),f.h+=$.length)}function nl(f,N){return N=String(N),f.j&&(N=N.toLowerCase()),N}function pu(f,N,$,ue,ct){try{ct&&(ct.onload=null,ct.onerror=null,ct.onabort=null,ct.ontimeout=null),ue($)}catch{}}function Im(){this.g=new mp}function Tm(f,N,$){const ue=$||"";try{C0(f,function(ct,Pt){let En=ct;U(ct)&&(En=y0(ct)),N.push(ue+Pt+"="+encodeURIComponent(En))})}catch(ct){throw N.push(ue+"type="+encodeURIComponent("_badmap")),ct}}function fu(f){this.l=f.Ub||null,this.j=f.eb||!1}function xp(f,N){ys.call(this),this.D=f,this.o=N,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function A0(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}function Wd(f){f.readyState=4,f.l=null,f.j=null,f.v=null,Gd(f)}function Gd(f){f.onreadystatechange&&f.onreadystatechange.call(f)}function Dm(f){let N="";return Xr(f,function($,ue){N+=ue,N+=":",N+=$,N+="\r\n"}),N}function I0(f,N,$){e:{for(ue in $){var ue=!1;break e}ue=!0}ue||($=Dm($),"string"==typeof f?null!=$&&encodeURIComponent(String($)):Vi(f,N,$))}function co(f){ys.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(a=c1.prototype).add=function(f,N){hu(this),this.i=null,f=nl(this,f);var $=this.g.get(f);return $||this.g.set(f,$=[]),$.push(N),this.h+=1,this},a.forEach=function(f,N){hu(this),this.g.forEach(function($,ue){$.forEach(function(ct){f.call(N,ct,ue,this)},this)},this)},a.na=function(){hu(this);const f=Array.from(this.g.values()),N=Array.from(this.g.keys()),$=[];for(let ue=0;ue<N.length;ue++){const ct=f[ue];for(let Pt=0;Pt<ct.length;Pt++)$.push(N[ue])}return $},a.V=function(f){hu(this);let N=[];if("string"==typeof f)Cm(this,f)&&(N=N.concat(this.g.get(nl(this,f))));else{f=Array.from(this.g.values());for(let $=0;$<f.length;$++)N=N.concat(f[$])}return N},a.set=function(f,N){return hu(this),this.i=null,Cm(this,f=nl(this,f))&&(this.h-=this.g.get(f).length),this.g.set(f,[N]),this.h+=1,this},a.get=function(f,N){return f&&0<(f=this.V(f)).length?String(f[0]):N},a.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],N=Array.from(this.g.keys());for(var $=0;$<N.length;$++){var ue=N[$];const Pt=encodeURIComponent(String(ue)),En=this.V(ue);for(ue=0;ue<En.length;ue++){var ct=Pt;""!==En[ue]&&(ct+="="+encodeURIComponent(String(En[ue]))),f.push(ct)}}return this.i=f.join("&")},Ut(fu,Zh),fu.prototype.g=function(){return new xp(this.l,this.j)},fu.prototype.i=(f={},function(){return f}),Ut(xp,ys),(a=xp.prototype).open=function(f,N){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=N,this.readyState=1,Gd(this)},a.send=function(f){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const N={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(N.body=f),(this.D||C).fetch(new Request(this.A,N)).then(this.Sa.bind(this),this.ga.bind(this))},a.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Wd(this)),this.readyState=0},a.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,Gd(this)),this.g&&(this.readyState=3,Gd(this),this.g)))if("arraybuffer"===this.responseType)f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof C.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;A0(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))},a.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var N=f.value?f.value:new Uint8Array(0);(N=this.v.decode(N,{stream:!f.done}))&&(this.response=this.responseText+=N)}f.done?Wd(this):Gd(this),3==this.readyState&&A0(this)}},a.Ra=function(f){this.g&&(this.response=this.responseText=f,Wd(this))},a.Qa=function(f){this.g&&(this.response=f,Wd(this))},a.ga=function(){this.g&&Wd(this)},a.setRequestHeader=function(f,N){this.u.append(f,N)},a.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},a.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],N=this.h.entries();for(var $=N.next();!$.done;)f.push(($=$.value)[0]+": "+$[1]),$=N.next();return f.join("\r\n")},Object.defineProperty(xp.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(f){this.m=f?"include":"same-origin"}}),Ut(co,ys);var Cp=/^https?$/i,T0=["POST","PUT"];function Ap(f,N){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=N,f.m=5,D0(f),l1(f)}function D0(f){f.A||(f.A=!0,Rs(f,"complete"),Rs(f,"error"))}function S0(f){if(f.h&&typeof g<"u"&&(!f.v[1]||4!=rl(f)||2!=f.Z()))if(f.u&&4==rl(f))Kh(f.Ea,0,f);else if(Rs(f,"readystatechange"),4==rl(f)){f.h=!1;try{const En=f.Z();e:switch(En){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var N=!0;break e;default:N=!1}var $;if(!($=N)){var ue;if(ue=0===En){var ct=String(f.D).match(ad)[1]||null;!ct&&C.self&&C.self.location&&(ct=C.self.location.protocol.slice(0,-1)),ue=!Cp.test(ct?ct.toLowerCase():"")}$=ue}if($)Rs(f,"complete"),Rs(f,"success");else{f.m=6;try{var Pt=2<rl(f)?f.g.statusText:""}catch{Pt=""}f.l=Pt+" ["+f.Z()+"]",D0(f)}}finally{l1(f)}}}function l1(f,N){if(f.g){R0(f);const $=f.g,ue=f.v[0]?()=>{}:null;f.g=null,f.v=null,N||Rs(f,"ready");try{$.onreadystatechange=ue}catch{}}}function R0(f){f.I&&(C.clearTimeout(f.I),f.I=null)}function rl(f){return f.g?f.g.readyState:0}function P0(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function u1(f,N,$){return $&&$.internalChannelParams&&$.internalChannelParams[f]||N}function Sm(f){this.Aa=0,this.i=[],this.j=new Hd,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=u1("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=u1("baseRetryDelayMs",5e3,f),this.cb=u1("retryDelaySeedMs",1e4,f),this.Wa=u1("forwardChannelMaxRetries",2,f),this.wa=u1("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new bp(f&&f.concurrentRequestLimit),this.Da=new Im,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function O0(f){if(Rm(f),3==f.G){var N=f.U++,$=tl(f.I);if(Vi($,"SID",f.K),Vi($,"RID",N),Vi($,"TYPE","terminate"),d1(f,$),(N=new Ol(f,f.j,N)).L=2,N.v=$d(tl($)),$=!1,C.navigator&&C.navigator.sendBeacon)try{$=C.navigator.sendBeacon(N.v.toString(),"")}catch{}!$&&C.Image&&((new Image).src=N.v,$=!0),$||(N.g=B0(N.j,null),N.g.ea(N.v)),N.F=Date.now(),Ud(N)}L0(f)}function Ip(f){f.g&&(V0(f),f.g.cancel(),f.g=null)}function Rm(f){Ip(f),f.u&&(C.clearTimeout(f.u),f.u=null),Dp(f),f.h.cancel(),f.s&&("number"==typeof f.s&&C.clearTimeout(f.s),f.s=null)}function Tp(f){if(!vm(f.h)&&!f.s){f.s=!0;var N=f.Ga;Sl||s0(),rd||(Sl(),rd=!0),Bd.add(N,f),f.B=0}}function Pm(f,N){var $;$=N?N.l:f.U++;const ue=tl(f.I);Vi(ue,"SID",f.K),Vi(ue,"RID",$),Vi(ue,"AID",f.T),d1(f,ue),f.m&&f.o&&I0(ue,f.m,f.o),$=new Ol(f,f.j,$,f.B+1),null===f.m&&($.H=f.o),N&&(f.i=N.D.concat(f.i)),N=Om(f,$,1e3),$.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),E0(f.h,$),M0($,ue,N)}function d1(f,N){f.H&&Xr(f.H,function($,ue){Vi(N,ue,$)}),f.l&&C0({},function($,ue){Vi(N,ue,$)})}function Om(f,N,$){$=Math.min(f.i.length,$);var ue=f.l?Ue(f.l.Na,f.l,f):null;e:{var ct=f.i;let Pt=-1;for(;;){const En=["count="+$];-1==Pt?0<$?(Pt=ct[0].g,En.push("ofs="+Pt)):Pt=0:En.push("ofs="+Pt);let qi=!0;for(let gs=0;gs<$;gs++){let ai=ct[gs].g;const ia=ct[gs].map;if(ai-=Pt,0>ai)Pt=Math.max(0,ct[gs].g-100),qi=!1;else try{Tm(ia,En,"req"+ai+"_")}catch{ue&&ue(ia)}}if(qi){ue=En.join("&");break e}}}return f=f.i.splice(0,$),N.D=f,ue}function Nm(f){if(!f.g&&!f.u){f.Y=1;var N=f.Fa;Sl||s0(),rd||(Sl(),rd=!0),Bd.add(N,f),f.v=0}}function N0(f){return!(f.g||f.u||3<=f.v||(f.Y++,f.u=e1(Ue(f.Fa,f),Fm(f,f.v)),f.v++,0))}function V0(f){null!=f.A&&(C.clearTimeout(f.A),f.A=null)}function Vm(f){f.g=new Ol(f,f.j,"rpc",f.Y),null===f.m&&(f.g.H=f.o),f.g.O=0;var N=tl(f.qa);Vi(N,"RID","rpc"),Vi(N,"SID",f.K),Vi(N,"AID",f.T),Vi(N,"CI",f.F?"0":"1"),!f.F&&f.ja&&Vi(N,"TO",f.ja),Vi(N,"TYPE","xmlhttp"),d1(f,N),f.m&&f.o&&I0(N,f.m,f.o),f.L&&(f.g.I=f.L);var $=f.g;f=f.ia,$.L=1,$.v=$d(tl(N)),$.m=null,$.P=!0,gm($,f)}function Dp(f){null!=f.C&&(C.clearTimeout(f.C),f.C=null)}function Lm(f,N){var $=null;if(f.g==N){Dp(f),V0(f),f.g=null;var ue=2}else{if(!Mp(f.h,N))return;$=N.D,km(f.h,N),ue=1}if(0!=f.G)if(N.o)if(1==ue){$=N.m?N.m.length:0,N=Date.now()-N.F;var ct=f.B;Rs(ue=Jh(),new v0(ue,$)),Tp(f)}else Nm(f);else if(3==(ct=N.s)||0==ct&&0<N.X||!(1==ue&&function Tg(f,N){return!(Fo(f.h)>=f.h.j-(f.s?1:0)||(f.s?(f.i=N.D.concat(f.i),0):1==f.G||2==f.G||f.B>=(f.Va?0:f.Wa)||(f.s=e1(Ue(f.Ga,f,N),Fm(f,f.B)),f.B++,0)))}(f,N)||2==ue&&N0(f)))switch($&&0<$.length&&(N=f.h,N.i=N.i.concat($)),ct){case 1:mu(f,5);break;case 4:mu(f,10);break;case 3:mu(f,6);break;default:mu(f,2)}}function Fm(f,N){let $=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||($*=2),$*N}function mu(f,N){if(f.j.info("Error code "+N),2==N){var $=Ue(f.fb,f),ue=f.Xa;const ct=!ue;ue=new cd(ue||"//www.google.com/images/cleardot.gif"),C.location&&"http"==C.location.protocol||wp(ue,"https"),$d(ue),ct?function Am(f,N){const $=new Hd;if(C.Image){const ue=new Image;ue.onload=yt(pu,$,"TestLoadImage: loaded",!0,N,ue),ue.onerror=yt(pu,$,"TestLoadImage: error",!1,N,ue),ue.onabort=yt(pu,$,"TestLoadImage: abort",!1,N,ue),ue.ontimeout=yt(pu,$,"TestLoadImage: timeout",!1,N,ue),C.setTimeout(function(){ue.ontimeout&&ue.ontimeout()},1e4),ue.src=f}else N(!1)}(ue.toString(),$):function Ag(f,N){new Hd;const ue=new AbortController,ct=setTimeout(()=>{ue.abort(),pu(0,0,!1,N)},1e4);fetch(f,{signal:ue.signal}).then(Pt=>{clearTimeout(ct),pu(0,0,!!Pt.ok,N)}).catch(()=>{clearTimeout(ct),pu(0,0,!1,N)})}(ue.toString(),$)}else Hs(2);f.G=0,f.l&&f.l.sa(N),L0(f),Rm(f)}function L0(f){if(f.G=0,f.ka=[],f.l){const N=x0(f.h);(0!=N.length||0!=f.i.length)&&(tn(f.ka,N),tn(f.ka,f.i),f.h.i.length=0,cn(f.i),f.i.length=0),f.l.ra()}}function F0(f,N,$){var ue=$ instanceof cd?tl($):new cd($);if(""!=ue.g)N&&(ue.g=N+"."+ue.g),s1(ue,ue.s);else{var ct=C.location;ue=ct.protocol,N=N?N+"."+ct.hostname:ct.hostname,ct=+ct.port;var Pt=new cd(null);ue&&wp(Pt,ue),N&&(Pt.g=N),ct&&s1(Pt,ct),$&&(Pt.l=$),ue=Pt}return N=f.ya,($=f.D)&&N&&Vi(ue,$,N),Vi(ue,"VER",f.la),d1(f,ue),ue}function B0(f,N,$){if(N&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return(N=new co(f.Ca&&!f.pa?new fu({eb:$}):f.pa)).Ha(f.J),N}function j0(){}function h1(){}function Ma(f,N){ys.call(this),this.g=new Sm(N),this.l=f,this.h=N&&N.messageUrlParams||null,f=N&&N.messageHeaders||null,N&&N.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=N&&N.initMessageHeaders||null,N&&N.messageContentType&&(f?f["X-WebChannel-Content-Type"]=N.messageContentType:f={"X-WebChannel-Content-Type":N.messageContentType}),N&&N.va&&(f?f["X-WebChannel-Client-Profile"]=N.va:f={"X-WebChannel-Client-Profile":N.va}),this.g.S=f,(f=N&&N.Sb)&&!tr(f)&&(this.g.m=f),this.v=N&&N.supportsCrossDomainXhr||!1,this.u=N&&N.sendRawJson||!1,(N=N&&N.httpSessionIdParam)&&!tr(N)&&(this.g.D=N,null!==(f=this.h)&&N in f&&N in(f=this.h)&&delete f[N]),this.j=new yu(this)}function z0(f){yp.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var N=f.__sm__;if(N){e:{for(const $ in N){f=$;break e}f=void 0}(this.i=f)&&(f=this.i,N=null!==N&&f in N?N[f]:void 0),this.data=N}else this.data=f}function H0(){Yh.call(this),this.status=1}function yu(f){this.g=f}(a=co.prototype).Ha=function(f){this.J=f},a.ea=function(f,N,$,ue){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);N=N?N.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():_p.g(),this.v=function g0(f){return f.h||(f.h=f.i())}(this.o?this.o:_p),this.g.onreadystatechange=Ue(this.Ea,this);try{this.B=!0,this.g.open(N,String(f),!0),this.B=!1}catch(Pt){return void Ap(this,Pt)}if(f=$||"",$=new Map(this.headers),ue)if(Object.getPrototypeOf(ue)===Object.prototype)for(var ct in ue)$.set(ct,ue[ct]);else{if("function"!=typeof ue.keys||"function"!=typeof ue.get)throw Error("Unknown input type for opt_headers: "+String(ue));for(const Pt of ue.keys())$.set(Pt,ue.get(Pt))}ue=Array.from($.keys()).find(Pt=>"content-type"==Pt.toLowerCase()),ct=C.FormData&&f instanceof C.FormData,!(0<=Array.prototype.indexOf.call(T0,N,void 0))||ue||ct||$.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Pt,En]of $)this.g.setRequestHeader(Pt,En);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{R0(this),this.u=!0,this.g.send(f),this.u=!1}catch(Pt){Ap(this,Pt)}},a.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,Rs(this,"complete"),Rs(this,"abort"),l1(this))},a.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),l1(this,!0)),co.aa.N.call(this)},a.Ea=function(){this.s||(this.B||this.u||this.j?S0(this):this.bb())},a.bb=function(){S0(this)},a.isActive=function(){return!!this.g},a.Z=function(){try{return 2<rl(this)?this.g.status:-1}catch{return-1}},a.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},a.Oa=function(f){if(this.g){var N=this.g.responseText;return f&&0==N.indexOf(f)&&(N=N.substring(f.length)),fp(N)}},a.Ba=function(){return this.m},a.Ka=function(){return"string"==typeof this.l?this.l:String(this.l)},(a=Sm.prototype).la=8,a.G=1,a.connect=function(f,N,$,ue){Hs(0),this.W=f,this.H=N||{},$&&void 0!==ue&&(this.H.OSID=$,this.H.OAID=ue),this.F=this.X,this.I=F0(this,null,this.W),Tp(this)},a.Ga=function(f){if(this.s)if(this.s=null,1==this.G){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const ct=new Ol(this,this.j,f);let Pt=this.o;if(this.S&&(Pt?(Pt=Fe(Pt),it(Pt,this.S)):Pt=this.S),null!==this.m||this.O||(ct.H=Pt,Pt=null),this.P)e:{for(var N=0,$=0;$<this.i.length;$++){var ue=this.i[$];if(void 0===(ue="__data__"in ue.map&&"string"==typeof(ue=ue.map.__data__)?ue.length:void 0))break;if(4096<(N+=ue)){N=$;break e}if(4096===N||$===this.i.length-1){N=$+1;break e}}N=1e3}else N=1e3;N=Om(this,ct,N),Vi($=tl(this.I),"RID",f),Vi($,"CVER",22),this.D&&Vi($,"X-HTTP-Session-Id",this.D),d1(this,$),Pt&&(this.O?N="headers="+encodeURIComponent(String(Dm(Pt)))+"&"+N:this.m&&I0($,this.m,Pt)),E0(this.h,ct),this.Ua&&Vi($,"TYPE","init"),this.P?(Vi($,"$req",N),Vi($,"SID","null"),ct.T=!0,M0(ct,$,null)):M0(ct,$,N),this.G=2}}else 3==this.G&&(f?Pm(this,f):0==this.i.length||vm(this.h)||Pm(this))},a.Fa=function(){if(this.u=null,Vm(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=e1(Ue(this.ab,this),f)}},a.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Hs(10),Ip(this),Vm(this))},a.Za=function(){null!=this.C&&(this.C=null,Ip(this),N0(this),Hs(19))},a.fb=function(f){f?(this.j.info("Successfully pinged google.com"),Hs(2)):(this.j.info("Failed to ping google.com"),Hs(1))},a.isActive=function(){return!!this.l&&this.l.isActive(this)},(a=j0.prototype).ua=function(){},a.ta=function(){},a.sa=function(){},a.ra=function(){},a.isActive=function(){return!0},a.Na=function(){},h1.prototype.g=function(f,N){return new Ma(f,N)},Ut(Ma,ys),Ma.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ma.prototype.close=function(){O0(this.g)},Ma.prototype.o=function(f){var N=this.g;if("string"==typeof f){var $={};$.__data__=f,f=$}else this.u&&(($={}).__data__=y0(f),f=$);N.i.push(new class{constructor(f,N){this.g=f,this.map=N}}(N.Ya++,f)),3==N.G&&Tp(N)},Ma.prototype.N=function(){this.g.l=null,delete this.j,O0(this.g),delete this.g,Ma.aa.N.call(this)},Ut(z0,yp),Ut(H0,Yh),Ut(yu,j0),yu.prototype.ua=function(){Rs(this.g,"a")},yu.prototype.ta=function(f){Rs(this.g,new z0(f))},yu.prototype.sa=function(f){Rs(this.g,new H0)},yu.prototype.ra=function(){Rs(this.g,"b")},h1.prototype.createWebChannel=h1.prototype.g,Ma.prototype.send=Ma.prototype.o,Ma.prototype.open=Ma.prototype.m,Ma.prototype.close=Ma.prototype.close,dt=Dt.createWebChannelTransport=function(){return new h1},Ke=Dt.getStatEventTarget=function(){return Jh()},ze=Dt.Event=du,Ge=Dt.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},t1.NO_ERROR=0,t1.TIMEOUT=8,t1.HTTP_ERROR=6,be=Dt.ErrorCode=t1,k0.COMPLETE="complete",Xt=Dt.EventType=k0,dm.EventType=Xh,Xh.OPEN="a",Xh.CLOSE="b",Xh.ERROR="c",Xh.MESSAGE="d",ys.prototype.listen=ys.prototype.K,_n=Dt.WebChannel=dm,Dt.FetchXmlHttpFactory=fu,co.prototype.listenOnce=co.prototype.L,co.prototype.getLastError=co.prototype.Ka,co.prototype.getLastErrorCode=co.prototype.Ba,co.prototype.getStatus=co.prototype.Z,co.prototype.getResponseJson=co.prototype.Oa,co.prototype.getResponseText=co.prototype.oa,co.prototype.send=co.prototype.ea,co.prototype.setWithCredentials=co.prototype.Ha,Ft=Dt.XhrIo=co}).apply(typeof Tt<"u"?Tt:typeof self<"u"?self:typeof window<"u"?window:{});const xt="@firebase/firestore";class Yt{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Yt.UNAUTHENTICATED=new Yt(null),Yt.GOOGLE_CREDENTIALS=new Yt("google-credentials-uid"),Yt.FIRST_PARTY=new Yt("first-party-uid"),Yt.MOCK_USER=new Yt("mock-user");let mn="10.14.0";const vn=new De.Vy("@firebase/firestore");function qn(){return vn.logLevel}function ht(a,...e){if(vn.logLevel<=De.$b.DEBUG){const r=e.map(ln);vn.debug(`Firestore (${mn}): ${a}`,...r)}}function Ht(a,...e){if(vn.logLevel<=De.$b.ERROR){const r=e.map(ln);vn.error(`Firestore (${mn}): ${a}`,...r)}}function kn(a,...e){if(vn.logLevel<=De.$b.WARN){const r=e.map(ln);vn.warn(`Firestore (${mn}): ${a}`,...r)}}function ln(a){if("string"==typeof a)return a;try{return JSON.stringify(a)}catch{return a}}function Ot(a="Unexpected state"){const e=`FIRESTORE (${mn}) INTERNAL ASSERTION FAILED: `+a;throw Ht(e),new Error(e)}function gt(a,e){a||Ot()}function ge(a,e){return a}const ce={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Pe extends re.g{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ct{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}class pt{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class It{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r(Yt.UNAUTHENTICATED))}shutdown(){}}class Mn{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class sr{constructor(e){this.t=e,this.currentUser=Yt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){var o=this;gt(void 0===this.o);let c=this.i;const d=U=>this.i!==c?(c=this.i,r(U)):Promise.resolve();let g=new Ct;this.o=()=>{this.i++,this.currentUser=this.u(),g.resolve(),g=new Ct,e.enqueueRetryable(()=>d(this.currentUser))};const C=()=>{const U=g;e.enqueueRetryable((0,ae.A)(function*(){yield U.promise,yield d(o.currentUser)}))},O=U=>{ht("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=U,this.o&&(this.auth.addAuthTokenListener(this.o),C())};this.t.onInit(U=>O(U)),setTimeout(()=>{if(!this.auth){const U=this.t.getImmediate({optional:!0});U?O(U):(ht("FirebaseAuthCredentialsProvider","Auth not yet detected"),g.resolve(),g=new Ct)}},0),C()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(o=>this.i!==e?(ht("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):o?(gt("string"==typeof o.accessToken),new pt(o.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return gt(null===e||"string"==typeof e),new Yt(e)}}class un{constructor(e,r,o){this.l=e,this.h=r,this.P=o,this.type="FirstParty",this.user=Yt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Rn{constructor(e,r,o){this.l=e,this.h=r,this.P=o}getToken(){return Promise.resolve(new un(this.l,this.h,this.P))}start(e,r){e.enqueueRetryable(()=>r(Yt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class zn{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class pr{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,r){gt(void 0===this.o);const o=d=>{null!=d.error&&ht("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${d.error.message}`);const g=d.token!==this.R;return this.R=d.token,ht("FirebaseAppCheckTokenProvider",`Received ${g?"new":"existing"} token.`),g?r(d.token):Promise.resolve()};this.o=d=>{e.enqueueRetryable(()=>o(d))};const c=d=>{ht("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=d,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(d=>c(d)),setTimeout(()=>{if(!this.appCheck){const d=this.A.getImmediate({optional:!0});d?c(d):ht("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?(gt("string"==typeof r.token),this.R=r.token,new zn(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function fr(a){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(a);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(r);else for(let o=0;o<a;o++)r[o]=Math.floor(256*Math.random());return r}class mr{static newId(){const r=62*Math.floor(256/62);let o="";for(;o.length<20;){const c=fr(40);for(let d=0;d<c.length;++d)o.length<20&&c[d]<r&&(o+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(c[d]%62))}return o}}function yn(a,e){return a<e?-1:a>e?1:0}function Rt(a,e,r){return a.length===e.length&&a.every((o,c)=>r(o,e[c]))}class xe{constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new Pe(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new Pe(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<-62135596800)throw new Pe(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Pe(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return xe.fromMillis(Date.now())}static fromDate(e){return xe.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),o=Math.floor(1e6*(e-1e3*r));return new xe(r,o)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?yn(this.nanoseconds,e.nanoseconds):yn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Ce{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ce(e)}static min(){return new Ce(new xe(0,0))}static max(){return new Ce(new xe(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class et{constructor(e,r,o){void 0===r?r=0:r>e.length&&Ot(),void 0===o?o=e.length-r:o>e.length-r&&Ot(),this.segments=e,this.offset=r,this.len=o}get length(){return this.len}isEqual(e){return 0===et.comparator(this,e)}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof et?e.forEach(o=>{r.push(o)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,o=this.limit();r<o;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const o=Math.min(e.length,r.length);for(let c=0;c<o;c++){const d=e.get(c),g=r.get(c);if(d<g)return-1;if(d>g)return 1}return e.length<r.length?-1:e.length>r.length?1:0}}class Xe extends et{construct(e,r,o){return new Xe(e,r,o)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const o of e){if(o.indexOf("//")>=0)throw new Pe(ce.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);r.push(...o.split("/").filter(c=>c.length>0))}return new Xe(r)}static emptyPath(){return new Xe([])}}const Nt=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qt extends et{construct(e,r,o){return new Qt(e,r,o)}static isValidIdentifier(e){return Nt.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Qt(["__name__"])}static fromServerFormat(e){const r=[];let o="",c=0;const d=()=>{if(0===o.length)throw new Pe(ce.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(o),o=""};let g=!1;for(;c<e.length;){const C=e[c];if("\\"===C){if(c+1===e.length)throw new Pe(ce.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const O=e[c+1];if("\\"!==O&&"."!==O&&"`"!==O)throw new Pe(ce.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);o+=O,c+=2}else"`"===C?(g=!g,c++):"."!==C||g?(o+=C,c++):(d(),c++)}if(d(),g)throw new Pe(ce.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Qt(r)}static emptyPath(){return new Qt([])}}class At{constructor(e){this.path=e}static fromPath(e){return new At(Xe.fromString(e))}static fromName(e){return new At(Xe.fromString(e).popFirst(5))}static empty(){return new At(Xe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Xe.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,r){return Xe.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new At(new Xe(e.slice()))}}class cr{constructor(e,r,o){this.readTime=e,this.documentKey=r,this.largestBatchId=o}static min(){return new cr(Ce.min(),At.empty(),-1)}static max(){return new cr(Ce.max(),At.empty(),-1)}}function jt(a,e){let r=a.readTime.compareTo(e.readTime);return 0!==r?r:(r=At.comparator(a.documentKey,e.documentKey),0!==r?r:yn(a.largestBatchId,e.largestBatchId))}const st="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class qe{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function _t(a){return qt.apply(this,arguments)}function qt(){return(qt=(0,ae.A)(function*(a){if(a.code!==ce.FAILED_PRECONDITION||a.message!==st)throw a;ht("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}class Oe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&Ot(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new Oe((o,c)=>{this.nextCallback=d=>{this.wrapSuccess(e,d).next(o,c)},this.catchCallback=d=>{this.wrapFailure(r,d).next(o,c)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof Oe?r:Oe.resolve(r)}catch(r){return Oe.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):Oe.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):Oe.reject(r)}static resolve(e){return new Oe((r,o)=>{r(e)})}static reject(e){return new Oe((r,o)=>{o(e)})}static waitFor(e){return new Oe((r,o)=>{let c=0,d=0,g=!1;e.forEach(C=>{++c,C.next(()=>{++d,g&&d===c&&r()},O=>o(O))}),g=!0,d===c&&r()})}static or(e){let r=Oe.resolve(!1);for(const o of e)r=r.next(c=>c?Oe.resolve(c):o());return r}static forEach(e,r){const o=[];return e.forEach((c,d)=>{o.push(r.call(this,c,d))}),this.waitFor(o)}static mapArray(e,r){return new Oe((o,c)=>{const d=e.length,g=new Array(d);let C=0;for(let O=0;O<d;O++){const U=O;r(e[U]).next(X=>{g[U]=X,++C,C===d&&o(g)},X=>c(X))}})}static doWhile(e,r){return new Oe((o,c)=>{const d=()=>{!0===e()?r().next(()=>{d()},c):o()};d()})}}function R(a){return"IndexedDbTransactionError"===a.name}let ie=(()=>{class a{constructor(r,o){this.previousValue=r,o&&(o.sequenceNumberHandler=c=>this.ie(c),this.se=c=>o.writeSequenceNumber(c))}ie(r){return this.previousValue=Math.max(r,this.previousValue),this.previousValue}next(){const r=++this.previousValue;return this.se&&this.se(r),r}}return a.oe=-1,a})();function Ae(a){return null==a}function rt(a){return 0===a&&1/a==-1/0}function Ea(a){let e=0;for(const r in a)Object.prototype.hasOwnProperty.call(a,r)&&e++;return e}function lo(a,e){for(const r in a)Object.prototype.hasOwnProperty.call(a,r)&&e(r,a[r])}function Us(a){for(const e in a)if(Object.prototype.hasOwnProperty.call(a,e))return!1;return!0}class jr{constructor(e,r){this.comparator=e,this.root=r||li.EMPTY}insert(e,r){return new jr(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,li.BLACK,null,null))}remove(e){return new jr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,li.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(0===o)return r.value;o<0?r=r.left:o>0&&(r=r.right)}return null}indexOf(e){let r=0,o=this.root;for(;!o.isEmpty();){const c=this.comparator(e,o.key);if(0===c)return r+o.left.size;c<0?o=o.left:(r+=o.left.size+1,o=o.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,o)=>(e(r,o),!1))}toString(){const e=[];return this.inorderTraversal((r,o)=>(e.push(`${r}:${o}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ci(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ci(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ci(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ci(this.root,e,this.comparator,!0)}}class Ci{constructor(e,r,o,c){this.isReverse=c,this.nodeStack=[];let d=1;for(;!e.isEmpty();)if(d=r?o(e.key,r):1,r&&c&&(d*=-1),d<0)e=this.isReverse?e.left:e.right;else{if(0===d){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class li{constructor(e,r,o,c,d){this.key=e,this.value=r,this.color=o??li.RED,this.left=c??li.EMPTY,this.right=d??li.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,o,c,d){return new li(e??this.key,r??this.value,o??this.color,c??this.left,d??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,o){let c=this;const d=o(e,c.key);return c=d<0?c.copy(null,null,null,c.left.insert(e,r,o),null):0===d?c.copy(null,r,null,null,null):c.copy(null,null,null,null,c.right.insert(e,r,o)),c.fixUp()}removeMin(){if(this.left.isEmpty())return li.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let o,c=this;if(r(e,c.key)<0)c.left.isEmpty()||c.left.isRed()||c.left.left.isRed()||(c=c.moveRedLeft()),c=c.copy(null,null,null,c.left.remove(e,r),null);else{if(c.left.isRed()&&(c=c.rotateRight()),c.right.isEmpty()||c.right.isRed()||c.right.left.isRed()||(c=c.moveRedRight()),0===r(e,c.key)){if(c.right.isEmpty())return li.EMPTY;o=c.right.min(),c=c.copy(o.key,o.value,null,null,c.right.removeMin())}c=c.copy(null,null,null,null,c.right.remove(e,r))}return c.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,li.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,li.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ot();const e=this.left.check();if(e!==this.right.check())throw Ot();return e+(this.isRed()?0:1)}}li.EMPTY=null,li.RED=!0,li.BLACK=!1,li.EMPTY=new class{constructor(){this.size=0}get key(){throw Ot()}get value(){throw Ot()}get color(){throw Ot()}get left(){throw Ot()}get right(){throw Ot()}copy(e,r,o,c,d){return this}insert(e,r,o){return new li(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Pr{constructor(e){this.comparator=e,this.data=new jr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,o)=>(e(r),!1))}forEachInRange(e,r){const o=this.data.getIteratorFrom(e[0]);for(;o.hasNext();){const c=o.getNext();if(this.comparator(c.key,e[1])>=0)return;r(c.key)}}forEachWhile(e,r){let o;for(o=void 0!==r?this.data.getIteratorFrom(r):this.data.getIterator();o.hasNext();)if(!e(o.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new Ps(this.data.getIterator())}getIteratorFrom(e){return new Ps(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(o=>{r=r.add(o)}),r}isEqual(e){if(!(e instanceof Pr)||this.size!==e.size)return!1;const r=this.data.getIterator(),o=e.data.getIterator();for(;r.hasNext();){const c=r.getNext().key,d=o.getNext().key;if(0!==this.comparator(c,d))return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new Pr(this.comparator);return r.data=e,r}}class Ps{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Xi{constructor(e){this.fields=e,e.sort(Qt.comparator)}static empty(){return new Xi([])}unionWith(e){let r=new Pr(Qt.comparator);for(const o of this.fields)r=r.add(o);for(const o of e)r=r.add(o);return new Xi(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return Rt(this.fields,e.fields,(r,o)=>r.isEqual(o))}}class qs extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class qr{constructor(e){this.binaryString=e}static fromBase64String(e){const r=function(c){try{return atob(c)}catch(d){throw typeof DOMException<"u"&&d instanceof DOMException?new qs("Invalid base64 string: "+d):d}}(e);return new qr(r)}static fromUint8Array(e){const r=function(c){let d="";for(let g=0;g<c.length;++g)d+=String.fromCharCode(c[g]);return d}(e);return new qr(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(r){const o=new Uint8Array(r.length);for(let c=0;c<r.length;c++)o[c]=r.charCodeAt(c);return o}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return yn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}qr.EMPTY_BYTE_STRING=new qr("");const ks=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Yi(a){if(gt(!!a),"string"==typeof a){let e=0;const r=ks.exec(a);if(gt(!!r),r[1]){let c=r[1];c=(c+"000000000").substr(0,9),e=Number(c)}const o=new Date(a);return{seconds:Math.floor(o.getTime()/1e3),nanos:e}}return{seconds:In(a.seconds),nanos:In(a.nanos)}}function In(a){return"number"==typeof a?a:"string"==typeof a?Number(a):0}function xr(a){return"string"==typeof a?qr.fromBase64String(a):qr.fromUint8Array(a)}function ui(a){var e,r;return"server_timestamp"===(null===(r=((null===(e=a?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===r?void 0:r.stringValue)}function Ji(a){const e=a.mapValue.fields.__previous_value__;return ui(e)?Ji(e):e}function ki(a){const e=Yi(a.mapValue.fields.__local_write_time__.timestampValue);return new xe(e.seconds,e.nanos)}class es{constructor(e,r,o,c,d,g,C,O,U){this.databaseId=e,this.appId=r,this.persistenceKey=o,this.host=c,this.ssl=d,this.forceLongPolling=g,this.autoDetectLongPolling=C,this.longPollingOptions=O,this.useFetchStreams=U}}class Eo{constructor(e,r){this.projectId=e,this.database=r||"(default)"}static empty(){return new Eo("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Eo&&e.projectId===this.projectId&&e.database===this.database}}const eo={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function to(a){return"nullValue"in a?0:"booleanValue"in a?1:"integerValue"in a||"doubleValue"in a?2:"timestampValue"in a?3:"stringValue"in a?5:"bytesValue"in a?6:"referenceValue"in a?7:"geoPointValue"in a?8:"arrayValue"in a?9:"mapValue"in a?ui(a)?4:ls(a)?9007199254740991:Ho(a)?10:11:Ot()}function Tr(a,e){if(a===e)return!0;const r=to(a);if(r!==to(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return a.booleanValue===e.booleanValue;case 4:return ki(a).isEqual(ki(e));case 3:return function(c,d){if("string"==typeof c.timestampValue&&"string"==typeof d.timestampValue&&c.timestampValue.length===d.timestampValue.length)return c.timestampValue===d.timestampValue;const g=Yi(c.timestampValue),C=Yi(d.timestampValue);return g.seconds===C.seconds&&g.nanos===C.nanos}(a,e);case 5:return a.stringValue===e.stringValue;case 6:return d=e,xr(a.bytesValue).isEqual(xr(d.bytesValue));case 7:return a.referenceValue===e.referenceValue;case 8:return function(c,d){return In(c.geoPointValue.latitude)===In(d.geoPointValue.latitude)&&In(c.geoPointValue.longitude)===In(d.geoPointValue.longitude)}(a,e);case 2:return function(c,d){if("integerValue"in c&&"integerValue"in d)return In(c.integerValue)===In(d.integerValue);if("doubleValue"in c&&"doubleValue"in d){const g=In(c.doubleValue),C=In(d.doubleValue);return g===C?rt(g)===rt(C):isNaN(g)&&isNaN(C)}return!1}(a,e);case 9:return Rt(a.arrayValue.values||[],e.arrayValue.values||[],Tr);case 10:case 11:return function(c,d){const g=c.mapValue.fields||{},C=d.mapValue.fields||{};if(Ea(g)!==Ea(C))return!1;for(const O in g)if(g.hasOwnProperty(O)&&(void 0===C[O]||!Tr(g[O],C[O])))return!1;return!0}(a,e);default:return Ot()}var d}function fn(a,e){return void 0!==(a.values||[]).find(r=>Tr(r,e))}function Un(a,e){if(a===e)return 0;const r=to(a),o=to(e);if(r!==o)return yn(r,o);switch(r){case 0:case 9007199254740991:return 0;case 1:return yn(a.booleanValue,e.booleanValue);case 2:return function(d,g){const C=In(d.integerValue||d.doubleValue),O=In(g.integerValue||g.doubleValue);return C<O?-1:C>O?1:C===O?0:isNaN(C)?isNaN(O)?0:-1:1}(a,e);case 3:return Or(a.timestampValue,e.timestampValue);case 4:return Or(ki(a),ki(e));case 5:return yn(a.stringValue,e.stringValue);case 6:return function(d,g){const C=xr(d),O=xr(g);return C.compareTo(O)}(a.bytesValue,e.bytesValue);case 7:return function(d,g){const C=d.split("/"),O=g.split("/");for(let U=0;U<C.length&&U<O.length;U++){const X=yn(C[U],O[U]);if(0!==X)return X}return yn(C.length,O.length)}(a.referenceValue,e.referenceValue);case 8:return function(d,g){const C=yn(In(d.latitude),In(g.latitude));return 0!==C?C:yn(In(d.longitude),In(g.longitude))}(a.geoPointValue,e.geoPointValue);case 9:return Li(a.arrayValue,e.arrayValue);case 10:return function(d,g){var C,O,U,X;const yt=null===(C=(d.fields||{}).value)||void 0===C?void 0:C.arrayValue,Ut=null===(O=(g.fields||{}).value)||void 0===O?void 0:O.arrayValue,cn=yn((null===(U=yt?.values)||void 0===U?void 0:U.length)||0,(null===(X=Ut?.values)||void 0===X?void 0:X.length)||0);return 0!==cn?cn:Li(yt,Ut)}(a.mapValue,e.mapValue);case 11:return function(d,g){if(d===eo.mapValue&&g===eo.mapValue)return 0;if(d===eo.mapValue)return 1;if(g===eo.mapValue)return-1;const C=d.fields||{},O=Object.keys(C),U=g.fields||{},X=Object.keys(U);O.sort(),X.sort();for(let pe=0;pe<O.length&&pe<X.length;++pe){const Ue=yn(O[pe],X[pe]);if(0!==Ue)return Ue;const yt=Un(C[O[pe]],U[X[pe]]);if(0!==yt)return yt}return yn(O.length,X.length)}(a.mapValue,e.mapValue);default:throw Ot()}}function Or(a,e){if("string"==typeof a&&"string"==typeof e&&a.length===e.length)return yn(a,e);const r=Yi(a),o=Yi(e),c=yn(r.seconds,o.seconds);return 0!==c?c:yn(r.nanos,o.nanos)}function Li(a,e){const r=a.values||[],o=e.values||[];for(let c=0;c<r.length&&c<o.length;++c){const d=Un(r[c],o[c]);if(d)return d}return yn(r.length,o.length)}function no(a){return yi(a)}function yi(a){return"nullValue"in a?"null":"booleanValue"in a?""+a.booleanValue:"integerValue"in a?""+a.integerValue:"doubleValue"in a?""+a.doubleValue:"timestampValue"in a?function(r){const o=Yi(r);return`time(${o.seconds},${o.nanos})`}(a.timestampValue):"stringValue"in a?a.stringValue:"bytesValue"in a?xr(a.bytesValue).toBase64():"referenceValue"in a?At.fromName(a.referenceValue).toString():"geoPointValue"in a?function(r){return`geo(${r.latitude},${r.longitude})`}(a.geoPointValue):"arrayValue"in a?function(r){let o="[",c=!0;for(const d of r.values||[])c?c=!1:o+=",",o+=yi(d);return o+"]"}(a.arrayValue):"mapValue"in a?function(r){const o=Object.keys(r.fields||{}).sort();let c="{",d=!0;for(const g of o)d?d=!1:c+=",",c+=`${g}:${yi(r.fields[g])}`;return c+"}"}(a.mapValue):Ot()}function $r(a,e){return{referenceValue:`projects/${a.projectId}/databases/${a.database}/documents/${e.path.canonicalString()}`}}function Fi(a){return!!a&&"integerValue"in a}function zo(a){return!!a&&"arrayValue"in a}function Zn(a){return!!a&&"nullValue"in a}function Ro(a){return!!a&&"doubleValue"in a&&isNaN(Number(a.doubleValue))}function ts(a){return!!a&&"mapValue"in a}function Ho(a){var e,r;return"__vector__"===(null===(r=((null===(e=a?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===r?void 0:r.stringValue)}function Nr(a){if(a.geoPointValue)return{geoPointValue:Object.assign({},a.geoPointValue)};if(a.timestampValue&&"object"==typeof a.timestampValue)return{timestampValue:Object.assign({},a.timestampValue)};if(a.mapValue){const e={mapValue:{fields:{}}};return lo(a.mapValue.fields,(r,o)=>e.mapValue.fields[r]=Nr(o)),e}if(a.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(a.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=Nr(a.arrayValue.values[r]);return e}return Object.assign({},a)}function ls(a){return"__max__"===(((a.mapValue||{}).fields||{}).__type__||{}).stringValue}class Wr{constructor(e){this.value=e}static empty(){return new Wr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let o=0;o<e.length-1;++o)if(r=(r.mapValue.fields||{})[e.get(o)],!ts(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=Nr(r)}setAll(e){let r=Qt.emptyPath(),o={},c=[];e.forEach((g,C)=>{if(!r.isImmediateParentOf(C)){const O=this.getFieldsMap(r);this.applyChanges(O,o,c),o={},c=[],r=C.popLast()}g?o[C.lastSegment()]=Nr(g):c.push(C.lastSegment())});const d=this.getFieldsMap(r);this.applyChanges(d,o,c)}delete(e){const r=this.field(e.popLast());ts(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return Tr(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let o=0;o<e.length;++o){let c=r.mapValue.fields[e.get(o)];ts(c)&&c.mapValue.fields||(c={mapValue:{fields:{}}},r.mapValue.fields[e.get(o)]=c),r=c}return r.mapValue.fields}applyChanges(e,r,o){lo(r,(c,d)=>e[c]=d);for(const c of o)delete e[c]}clone(){return new Wr(Nr(this.value))}}function Uo(a){const e=[];return lo(a.fields,(r,o)=>{const c=new Qt([r]);if(ts(o)){const d=Uo(o.mapValue).fields;if(0===d.length)e.push(c);else for(const g of d)e.push(c.child(g))}else e.push(c)}),new Xi(e)}class Gr{constructor(e,r,o,c,d,g,C){this.key=e,this.documentType=r,this.version=o,this.readTime=c,this.createTime=d,this.data=g,this.documentState=C}static newInvalidDocument(e){return new Gr(e,0,Ce.min(),Ce.min(),Ce.min(),Wr.empty(),0)}static newFoundDocument(e,r,o,c){return new Gr(e,1,r,Ce.min(),o,c,0)}static newNoDocument(e,r){return new Gr(e,2,r,Ce.min(),Ce.min(),Wr.empty(),0)}static newUnknownDocument(e,r){return new Gr(e,3,r,Ce.min(),Ce.min(),Wr.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(Ce.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Wr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Wr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ce.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Gr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Gr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Jn{constructor(e,r){this.position=e,this.inclusive=r}}function xa(a,e,r){let o=0;for(let c=0;c<a.position.length;c++){const d=e[c],g=a.position[c];if(o=d.field.isKeyField()?At.comparator(At.fromName(g.referenceValue),r.key):Un(g,r.data.field(d.field)),"desc"===d.dir&&(o*=-1),0!==o)break}return o}function Ms(a,e){if(null===a)return null===e;if(null===e||a.inclusive!==e.inclusive||a.position.length!==e.position.length)return!1;for(let r=0;r<a.position.length;r++)if(!Tr(a.position[r],e.position[r]))return!1;return!0}class di{constructor(e,r="asc"){this.field=e,this.dir=r}}function ho(a,e){return a.dir===e.dir&&a.field.isEqual(e.field)}class po{}class lr extends po{constructor(e,r,o){super(),this.field=e,this.op=r,this.value=o}static create(e,r,o){return e.isKeyField()?"in"===r||"not-in"===r?this.createKeyFieldInFilter(e,r,o):new cc(e,r,o):"array-contains"===r?new aa(e,o):"in"===r?new q(e,o):"not-in"===r?new K(e,o):"array-contains-any"===r?new V(e,o):new lr(e,r,o)}static createKeyFieldInFilter(e,r,o){return"in"===r?new sa(e,o):new rs(e,o)}matches(e){const r=e.data.field(this.field);return"!="===this.op?null!==r&&this.matchesComparison(Un(r,this.value)):null!==r&&to(this.value)===to(r)&&this.matchesComparison(Un(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Ot()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Dr extends po{constructor(e,r){super(),this.filters=e,this.op=r,this.ae=null}static create(e,r){return new Dr(e,r)}matches(e){return Cr(this)?void 0===this.filters.find(r=>!r.matches(e)):void 0!==this.filters.find(r=>r.matches(e))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce((e,r)=>e.concat(r.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Cr(a){return"and"===a.op}function gi(a){return function ni(a){for(const e of a.filters)if(e instanceof Dr)return!1;return!0}(a)&&Cr(a)}function Ws(a){if(a instanceof lr)return a.field.canonicalString()+a.op.toString()+no(a.value);if(gi(a))return a.filters.map(e=>Ws(e)).join(",");{const e=a.filters.map(r=>Ws(r)).join(",");return`${a.op}(${e})`}}function ro(a,e){return a instanceof lr?(o=a,(c=e)instanceof lr&&o.op===c.op&&o.field.isEqual(c.field)&&Tr(o.value,c.value)):a instanceof Dr?function(o,c){return c instanceof Dr&&o.op===c.op&&o.filters.length===c.filters.length&&o.filters.reduce((d,g,C)=>d&&ro(g,c.filters[C]),!0)}(a,e):void Ot();var o,c}function io(a){return a instanceof lr?`${(r=a).field.canonicalString()} ${r.op} ${no(r.value)}`:a instanceof Dr?function(r){return r.op.toString()+" {"+r.getFilters().map(io).join(" ,")+"}"}(a):"Filter";var r}class cc extends lr{constructor(e,r,o){super(e,r,o),this.key=At.fromName(o.referenceValue)}matches(e){const r=At.comparator(e.key,this.key);return this.matchesComparison(r)}}class sa extends lr{constructor(e,r){super(e,"in",r),this.keys=Vc(0,r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class rs extends lr{constructor(e,r){super(e,"not-in",r),this.keys=Vc(0,r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function Vc(a,e){var r;return((null===(r=e.arrayValue)||void 0===r?void 0:r.values)||[]).map(o=>At.fromName(o.referenceValue))}class aa extends lr{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return zo(r)&&fn(r.arrayValue,this.value)}}class q extends lr{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return null!==r&&fn(this.value.arrayValue,r)}}class K extends lr{constructor(e,r){super(e,"not-in",r)}matches(e){if(fn(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return null!==r&&!fn(this.value.arrayValue,r)}}class V extends lr{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!zo(r)||!r.arrayValue.values)&&r.arrayValue.values.some(o=>fn(this.value.arrayValue,o))}}class ee{constructor(e,r=null,o=[],c=[],d=null,g=null,C=null){this.path=e,this.collectionGroup=r,this.orderBy=o,this.filters=c,this.limit=d,this.startAt=g,this.endAt=C,this.ue=null}}function Ne(a,e=null,r=[],o=[],c=null,d=null,g=null){return new ee(a,e,r,o,c,d,g)}function Tn(a){const e=ge(a);if(null===e.ue){let r=e.path.canonicalString();null!==e.collectionGroup&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(o=>Ws(o)).join(","),r+="|ob:",r+=e.orderBy.map(o=>{return(d=o).field.canonicalString()+d.dir;var d}).join(","),Ae(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(o=>no(o)).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(o=>no(o)).join(",")),e.ue=r}return e.ue}function er(a,e){if(a.limit!==e.limit||a.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<a.orderBy.length;r++)if(!ho(a.orderBy[r],e.orderBy[r]))return!1;if(a.filters.length!==e.filters.length)return!1;for(let r=0;r<a.filters.length;r++)if(!ro(a.filters[r],e.filters[r]))return!1;return a.collectionGroup===e.collectionGroup&&!!a.path.isEqual(e.path)&&!!Ms(a.startAt,e.startAt)&&Ms(a.endAt,e.endAt)}function Pi(a){return At.isDocumentKey(a.path)&&null===a.collectionGroup&&0===a.filters.length}class ws{constructor(e,r=null,o=[],c=[],d=null,g="F",C=null,O=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=o,this.filters=c,this.limit=d,this.limitType=g,this.startAt=C,this.endAt=O,this.ce=null,this.le=null,this.he=null}}function Os(a){return new ws(a)}function Ca(a){return 0===a.filters.length&&null===a.limit&&null==a.startAt&&null==a.endAt&&(0===a.explicitOrderBy.length||1===a.explicitOrderBy.length&&a.explicitOrderBy[0].field.isKeyField())}function uc(a){return null!==a.collectionGroup}function Ns(a){const e=ge(a);if(null===e.ce){e.ce=[];const r=new Set;for(const d of e.explicitOrderBy)e.ce.push(d),r.add(d.field.canonicalString());const o=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(g){let C=new Pr(Qt.comparator);return g.filters.forEach(O=>{O.getFlattenedFilters().forEach(U=>{U.isInequality()&&(C=C.add(U.field))})}),C})(e).forEach(d=>{r.has(d.canonicalString())||d.isKeyField()||e.ce.push(new di(d,o))}),r.has(Qt.keyField().canonicalString())||e.ce.push(new di(Qt.keyField(),o))}return e.ce}function Oi(a){const e=ge(a);return e.le||(e.le=function Oo(a,e){if("F"===a.limitType)return Ne(a.path,a.collectionGroup,e,a.filters,a.limit,a.startAt,a.endAt);{e=e.map(c=>new di(c.field,"desc"===c.dir?"asc":"desc"));const r=a.endAt?new Jn(a.endAt.position,a.endAt.inclusive):null,o=a.startAt?new Jn(a.startAt.position,a.startAt.inclusive):null;return Ne(a.path,a.collectionGroup,e,a.filters,a.limit,r,o)}}(e,Ns(a))),e.le}function us(a,e){const r=a.filters.concat([e]);return new ws(a.path,a.collectionGroup,a.explicitOrderBy.slice(),r,a.limit,a.limitType,a.startAt,a.endAt)}function Fa(a,e,r){return new ws(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),e,r,a.startAt,a.endAt)}function hi(a,e){return er(Oi(a),Oi(e))&&a.limitType===e.limitType}function Es(a){return`${Tn(Oi(a))}|lt:${a.limitType}`}function ji(a){return`Query(target=${function(r){let o=r.path.canonicalString();return null!==r.collectionGroup&&(o+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(o+=`, filters: [${r.filters.map(c=>io(c)).join(", ")}]`),Ae(r.limit)||(o+=", limit: "+r.limit),r.orderBy.length>0&&(o+=`, orderBy: [${r.orderBy.map(c=>{return`${(g=c).field.canonicalString()} (${g.dir})`;var g}).join(", ")}]`),r.startAt&&(o+=", startAt: ",o+=r.startAt.inclusive?"b:":"a:",o+=r.startAt.position.map(c=>no(c)).join(",")),r.endAt&&(o+=", endAt: ",o+=r.endAt.inclusive?"a:":"b:",o+=r.endAt.position.map(c=>no(c)).join(",")),`Target(${o})`}(Oi(a))}; limitType=${a.limitType})`}function Gs(a,e){return e.isFoundDocument()&&function(o,c){const d=c.key.path;return null!==o.collectionGroup?c.key.hasCollectionId(o.collectionGroup)&&o.path.isPrefixOf(d):At.isDocumentKey(o.path)?o.path.isEqual(d):o.path.isImmediateParentOf(d)}(a,e)&&function(o,c){for(const d of Ns(o))if(!d.field.isKeyField()&&null===c.data.field(d.field))return!1;return!0}(a,e)&&function(o,c){for(const d of o.filters)if(!d.matches(c))return!1;return!0}(a,e)&&(c=e,!((o=a).startAt&&!function(g,C,O){const U=xa(g,C,O);return g.inclusive?U<=0:U<0}(o.startAt,Ns(o),c)||o.endAt&&!function(g,C,O){const U=xa(g,C,O);return g.inclusive?U>=0:U>0}(o.endAt,Ns(o),c)));var o,c}function la(a){return(e,r)=>{let o=!1;for(const c of Ns(a)){const d=sl(c,e,r);if(0!==d)return d;o=o||c.field.isKeyField()}return 0}}function sl(a,e,r){const o=a.field.isKeyField()?At.comparator(e.key,r.key):function(d,g,C){const O=g.data.field(d),U=C.data.field(d);return null!==O&&null!==U?Un(O,U):Ot()}(a.field,e,r);switch(a.dir){case"asc":return o;case"desc":return-1*o;default:return Ot()}}class No{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),o=this.inner[r];if(void 0!==o)for(const[c,d]of o)if(this.equalsFn(c,e))return d}has(e){return void 0!==this.get(e)}set(e,r){const o=this.mapKeyFn(e),c=this.inner[o];if(void 0===c)return this.inner[o]=[[e,r]],void this.innerSize++;for(let d=0;d<c.length;d++)if(this.equalsFn(c[d][0],e))return void(c[d]=[e,r]);c.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),o=this.inner[r];if(void 0===o)return!1;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return 1===o.length?delete this.inner[r]:o.splice(c,1),this.innerSize--,!0;return!1}forEach(e){lo(this.inner,(r,o)=>{for(const[c,d]of o)e(c,d)})}isEmpty(){return Us(this.inner)}size(){return this.innerSize}}const ua=new jr(At.comparator);function oo(){return ua}const Ba=new jr(At.comparator);function Vs(...a){let e=Ba;for(const r of a)e=e.insert(r.key,r);return e}function hc(a){let e=Ba;return a.forEach((r,o)=>e=e.insert(r,o.overlayedDocument)),e}function Io(){return ds()}function Lc(){return ds()}function ds(){return new No(a=>a.toString(),(a,e)=>a.isEqual(e))}const pc=new jr(At.comparator),fc=new Pr(At.comparator);function vr(...a){let e=fc;for(const r of a)e=e.add(r);return e}const Nl=new Pr(yn);function mc(a,e){if(a.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:rt(e)?"-0":e}}function Vl(a){return{integerValue:""+a}}function Bc(a,e){return function Gt(a){return"number"==typeof a&&Number.isInteger(a)&&!rt(a)&&a<=Number.MAX_SAFE_INTEGER&&a>=Number.MIN_SAFE_INTEGER}(e)?Vl(e):mc(a,e)}class jc{constructor(){this._=void 0}}function Ks(a,e,r){return a instanceof da?function(c,d){const g={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:c.seconds,nanos:c.nanoseconds}}}};return d&&ui(d)&&(d=Ji(d)),d&&(g.fields.__previous_value__=d),{mapValue:g}}(r,e):a instanceof Ls?yc(a,e):a instanceof A?Z(a,e):function(c,d){const g=Qs(c,d),C=G(g)+G(c.Pe);return Fi(g)&&Fi(c.Pe)?Vl(C):mc(c.serializer,C)}(a,e)}function Ll(a,e,r){return a instanceof Ls?yc(a,e):a instanceof A?Z(a,e):r}function Qs(a,e){return a instanceof F?Fi(o=e)||(d=o)&&"doubleValue"in d?e:{integerValue:0}:null;var o,d}class da extends jc{}class Ls extends jc{constructor(e){super(),this.elements=e}}function yc(a,e){const r=Re(e);for(const o of a.elements)r.some(c=>Tr(c,o))||r.push(o);return{arrayValue:{values:r}}}class A extends jc{constructor(e){super(),this.elements=e}}function Z(a,e){let r=Re(e);for(const o of a.elements)r=r.filter(c=>!Tr(c,o));return{arrayValue:{values:r}}}class F extends jc{constructor(e,r){super(),this.serializer=e,this.Pe=r}}function G(a){return In(a.integerValue||a.doubleValue)}function Re(a){return zo(a)&&a.arrayValue.values?a.arrayValue.values.slice():[]}class kt{constructor(e,r){this.field=e,this.transform=r}}class Vn{constructor(e,r){this.version=e,this.transformResults=r}}class wn{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new wn}static exists(e){return new wn(void 0,e)}static updateTime(e){return new wn(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Xn(a,e){return void 0!==a.updateTime?e.isFoundDocument()&&e.version.isEqual(a.updateTime):void 0===a.exists||a.exists===e.isFoundDocument()}class Mr{}function hr(a,e){if(!a.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return a.isNoDocument()?new qo(a.key,wn.none()):new bi(a.key,a.data,wn.none());{const r=a.data,o=Wr.empty();let c=new Pr(Qt.comparator);for(let d of e.fields)if(!c.has(d)){let g=r.field(d);null===g&&d.length>1&&(d=d.popLast(),g=r.field(d)),null===g?o.delete(d):o.set(d,g),c=c.add(d)}return new so(a.key,o,new Xi(c.toArray()),wn.none())}}function pi(a,e,r){a instanceof bi?function(c,d,g){const C=c.value.clone(),O=xs(c.fieldTransforms,d,g.transformResults);C.setAll(O),d.convertToFoundDocument(g.version,C).setHasCommittedMutations()}(a,e,r):a instanceof so?function(c,d,g){if(!Xn(c.precondition,d))return void d.convertToUnknownDocument(g.version);const C=xs(c.fieldTransforms,d,g.transformResults),O=d.data;O.setAll(Ii(c)),O.setAll(C),d.convertToFoundDocument(g.version,O).setHasCommittedMutations()}(a,e,r):e.convertToNoDocument(r.version).setHasCommittedMutations()}function zr(a,e,r,o){return a instanceof bi?function(d,g,C,O){if(!Xn(d.precondition,g))return C;const U=d.value.clone(),X=Gi(d.fieldTransforms,O,g);return U.setAll(X),g.convertToFoundDocument(g.version,U).setHasLocalMutations(),null}(a,e,r,o):a instanceof so?function(d,g,C,O){if(!Xn(d.precondition,g))return C;const U=Gi(d.fieldTransforms,O,g),X=g.data;return X.setAll(Ii(d)),X.setAll(U),g.convertToFoundDocument(g.version,X).setHasLocalMutations(),null===C?null:C.unionWith(d.fieldMask.fields).unionWith(d.fieldTransforms.map(pe=>pe.field))}(a,e,r,o):(C=r,Xn(a.precondition,g=e)?(g.convertToNoDocument(g.version).setHasLocalMutations(),null):C);var g,C}function Wi(a,e){let r=null;for(const o of a.fieldTransforms){const c=e.data.field(o.field),d=Qs(o.transform,c||null);null!=d&&(null===r&&(r=Wr.empty()),r.set(o.field,d))}return r||null}function os(a,e){return a.type===e.type&&!!a.key.isEqual(e.key)&&!!a.precondition.isEqual(e.precondition)&&(c=e.fieldTransforms,!!(void 0===(o=a.fieldTransforms)&&void 0===c||o&&c&&Rt(o,c,(d,g)=>function Vt(a,e){return a.field.isEqual(e.field)&&(c=e.transform,(o=a.transform)instanceof Ls&&c instanceof Ls||o instanceof A&&c instanceof A?Rt(o.elements,c.elements,Tr):o instanceof F&&c instanceof F?Tr(o.Pe,c.Pe):o instanceof da&&c instanceof da);var o,c}(d,g))))&&(0===a.type?a.value.isEqual(e.value):1!==a.type||a.data.isEqual(e.data)&&a.fieldMask.isEqual(e.fieldMask));var o,c}class bi extends Mr{constructor(e,r,o,c=[]){super(),this.key=e,this.value=r,this.precondition=o,this.fieldTransforms=c,this.type=0}getFieldMask(){return null}}class so extends Mr{constructor(e,r,o,c,d=[]){super(),this.key=e,this.data=r,this.fieldMask=o,this.precondition=c,this.fieldTransforms=d,this.type=1}getFieldMask(){return this.fieldMask}}function Ii(a){const e=new Map;return a.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const o=a.data.field(r);e.set(r,o)}}),e}function xs(a,e,r){const o=new Map;gt(a.length===r.length);for(let c=0;c<r.length;c++){const d=a[c],g=d.transform,C=e.data.field(d.field);o.set(d.field,Ll(g,C,r[c]))}return o}function Gi(a,e,r){const o=new Map;for(const c of a){const d=c.transform,g=r.data.field(c.field);o.set(c.field,Ks(d,g,e))}return o}class qo extends Mr{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class fo extends Mr{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class oi{constructor(e,r,o,c){this.batchId=e,this.localWriteTime=r,this.baseMutations=o,this.mutations=c}applyToRemoteDocument(e,r){const o=r.mutationResults;for(let c=0;c<this.mutations.length;c++){const d=this.mutations[c];d.key.isEqual(e.key)&&pi(d,e,o[c])}}applyToLocalView(e,r){for(const o of this.baseMutations)o.key.isEqual(e.key)&&(r=zr(o,e,r,this.localWriteTime));for(const o of this.mutations)o.key.isEqual(e.key)&&(r=zr(o,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const o=Lc();return this.mutations.forEach(c=>{const d=e.get(c.key),g=d.overlayedDocument;let C=this.applyToLocalView(g,d.mutatedFields);C=r.has(c.key)?null:C;const O=hr(g,C);null!==O&&o.set(c.key,O),g.isValidDocument()||g.convertToNoDocument(Ce.min())}),o}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),vr())}isEqual(e){return this.batchId===e.batchId&&Rt(this.mutations,e.mutations,(r,o)=>os(r,o))&&Rt(this.baseMutations,e.baseMutations,(r,o)=>os(r,o))}}class gc{constructor(e,r,o,c){this.batch=e,this.commitVersion=r,this.mutationResults=o,this.docVersions=c}static from(e,r,o){gt(e.mutations.length===o.length);let c=pc;const d=e.mutations;for(let g=0;g<d.length;g++)c=c.insert(d[g].key,o[g].version);return new gc(e,r,o,c)}}class ha{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class vu{constructor(e,r){this.count=e,this.unchangedNames=r}}var vi,yr;function Vo(a){if(void 0===a)return Ht("GRPC error has no .code"),ce.UNKNOWN;switch(a){case vi.OK:return ce.OK;case vi.CANCELLED:return ce.CANCELLED;case vi.UNKNOWN:return ce.UNKNOWN;case vi.DEADLINE_EXCEEDED:return ce.DEADLINE_EXCEEDED;case vi.RESOURCE_EXHAUSTED:return ce.RESOURCE_EXHAUSTED;case vi.INTERNAL:return ce.INTERNAL;case vi.UNAVAILABLE:return ce.UNAVAILABLE;case vi.UNAUTHENTICATED:return ce.UNAUTHENTICATED;case vi.INVALID_ARGUMENT:return ce.INVALID_ARGUMENT;case vi.NOT_FOUND:return ce.NOT_FOUND;case vi.ALREADY_EXISTS:return ce.ALREADY_EXISTS;case vi.PERMISSION_DENIED:return ce.PERMISSION_DENIED;case vi.FAILED_PRECONDITION:return ce.FAILED_PRECONDITION;case vi.ABORTED:return ce.ABORTED;case vi.OUT_OF_RANGE:return ce.OUT_OF_RANGE;case vi.UNIMPLEMENTED:return ce.UNIMPLEMENTED;case vi.DATA_LOSS:return ce.DATA_LOSS;default:return Ot()}}(yr=vi||(vi={}))[yr.OK=0]="OK",yr[yr.CANCELLED=1]="CANCELLED",yr[yr.UNKNOWN=2]="UNKNOWN",yr[yr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",yr[yr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",yr[yr.NOT_FOUND=5]="NOT_FOUND",yr[yr.ALREADY_EXISTS=6]="ALREADY_EXISTS",yr[yr.PERMISSION_DENIED=7]="PERMISSION_DENIED",yr[yr.UNAUTHENTICATED=16]="UNAUTHENTICATED",yr[yr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",yr[yr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",yr[yr.ABORTED=10]="ABORTED",yr[yr.OUT_OF_RANGE=11]="OUT_OF_RANGE",yr[yr.UNIMPLEMENTED=12]="UNIMPLEMENTED",yr[yr.INTERNAL=13]="INTERNAL",yr[yr.UNAVAILABLE=14]="UNAVAILABLE",yr[yr.DATA_LOSS=15]="DATA_LOSS";const ja=new $e([4294967295,4294967295],0);function al(a){const e=function Fl(){return new TextEncoder}().encode(a),r=new lt;return r.update(e),new Uint8Array(r.digest())}function Zs(a){const e=new DataView(a.buffer),r=e.getUint32(0,!0),o=e.getUint32(4,!0),c=e.getUint32(8,!0),d=e.getUint32(12,!0);return[new $e([r,o],0),new $e([c,d],0)]}class za{constructor(e,r,o){if(this.bitmap=e,this.padding=r,this.hashCount=o,r<0||r>=8)throw new $o(`Invalid padding: ${r}`);if(o<0)throw new $o(`Invalid hash count: ${o}`);if(e.length>0&&0===this.hashCount)throw new $o(`Invalid hash count: ${o}`);if(0===e.length&&0!==r)throw new $o(`Invalid padding when bitmap length is 0: ${r}`);this.Ie=8*e.length-r,this.Te=$e.fromNumber(this.Ie)}Ee(e,r,o){let c=e.add(r.multiply($e.fromNumber(o)));return 1===c.compare(ja)&&(c=new $e([c.getBits(0),c.getBits(1)],0)),c.modulo(this.Te).toNumber()}de(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Ie)return!1;const r=al(e),[o,c]=Zs(r);for(let d=0;d<this.hashCount;d++){const g=this.Ee(o,c,d);if(!this.de(g))return!1}return!0}static create(e,r,o){const c=e%8==0?0:8-e%8,d=new Uint8Array(Math.ceil(e/8)),g=new za(d,c,r);return o.forEach(C=>g.insert(C)),g}insert(e){if(0===this.Ie)return;const r=al(e),[o,c]=Zs(r);for(let d=0;d<this.hashCount;d++){const g=this.Ee(o,c,d);this.Ae(g)}}Ae(e){const r=Math.floor(e/8);this.bitmap[r]|=1<<e%8}}class $o extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class pa{constructor(e,r,o,c,d){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=o,this.documentUpdates=c,this.resolvedLimboDocuments=d}static createSynthesizedRemoteEventForCurrentChange(e,r,o){const c=new Map;return c.set(e,vc.createSynthesizedTargetChangeForCurrentChange(e,r,o)),new pa(Ce.min(),c,new jr(yn),oo(),vr())}}class vc{constructor(e,r,o,c,d){this.resumeToken=e,this.current=r,this.addedDocuments=o,this.modifiedDocuments=c,this.removedDocuments=d}static createSynthesizedTargetChangeForCurrentChange(e,r,o){return new vc(o,r,vr(),vr(),vr())}}class Yn{constructor(e,r,o,c){this.Re=e,this.removedTargetIds=r,this.key=o,this.Ve=c}}class hs{constructor(e,r){this.targetId=e,this.me=r}}class cl{constructor(e,r,o=qr.EMPTY_BYTE_STRING,c=null){this.state=e,this.targetIds=r,this.resumeToken=o,this.cause=c}}class Aa{constructor(){this.fe=0,this.ge=Xs(),this.pe=qr.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=vr(),r=vr(),o=vr();return this.ge.forEach((c,d)=>{switch(d){case 0:e=e.add(c);break;case 2:r=r.add(c);break;case 1:o=o.add(c);break;default:Ot()}}),new vc(this.pe,this.ye,e,r,o)}Ce(){this.we=!1,this.ge=Xs()}Fe(e,r){this.we=!0,this.ge=this.ge.insert(e,r)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,gt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class Bl{constructor(e){this.Le=e,this.Be=new Map,this.ke=oo(),this.qe=ll(),this.Qe=new jr(yn)}Ke(e){for(const r of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(r,e.Ve):this.Ue(r,e.key,e.Ve);for(const r of e.removedTargetIds)this.Ue(r,e.key,e.Ve)}We(e){this.forEachTarget(e,r=>{const o=this.Ge(r);switch(e.state){case 0:this.ze(r)&&o.De(e.resumeToken);break;case 1:o.Oe(),o.Se||o.Ce(),o.De(e.resumeToken);break;case 2:o.Oe(),o.Se||this.removeTarget(r);break;case 3:this.ze(r)&&(o.Ne(),o.De(e.resumeToken));break;case 4:this.ze(r)&&(this.je(r),o.De(e.resumeToken));break;default:Ot()}})}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.Be.forEach((o,c)=>{this.ze(c)&&r(c)})}He(e){const r=e.targetId,o=e.me.count,c=this.Je(r);if(c){const d=c.target;if(Pi(d))if(0===o){const g=new At(d.path);this.Ue(r,g,Gr.newNoDocument(g,Ce.min()))}else gt(1===o);else{const g=this.Ye(r);if(g!==o){const C=this.Ze(e),O=C?this.Xe(C,e,g):1;0!==O&&(this.je(r),this.Qe=this.Qe.insert(r,2===O?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Ze(e){const r=e.me.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:o="",padding:c=0},hashCount:d=0}=r;let g,C;try{g=xr(o).toUint8Array()}catch(O){if(O instanceof qs)return kn("Decoding the base64 bloom filter in existence filter failed ("+O.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw O}try{C=new za(g,c,d)}catch(O){return kn(O instanceof $o?"BloomFilter error: ":"Applying bloom filter failed: ",O),null}return 0===C.Ie?null:C}Xe(e,r,o){return r.me.count===o-this.nt(e,r.targetId)?0:2}nt(e,r){const o=this.Le.getRemoteKeysForTarget(r);let c=0;return o.forEach(d=>{const g=this.Le.tt(),C=`projects/${g.projectId}/databases/${g.database}/documents/${d.path.canonicalString()}`;e.mightContain(C)||(this.Ue(r,d,null),c++)}),c}rt(e){const r=new Map;this.Be.forEach((d,g)=>{const C=this.Je(g);if(C){if(d.current&&Pi(C.target)){const O=new At(C.target.path);null!==this.ke.get(O)||this.it(g,O)||this.Ue(g,O,Gr.newNoDocument(O,e))}d.be&&(r.set(g,d.ve()),d.Ce())}});let o=vr();this.qe.forEach((d,g)=>{let C=!0;g.forEachWhile(O=>{const U=this.Je(O);return!U||"TargetPurposeLimboResolution"===U.purpose||(C=!1,!1)}),C&&(o=o.add(d))}),this.ke.forEach((d,g)=>g.setReadTime(e));const c=new pa(e,r,this.Qe,this.ke,o);return this.ke=oo(),this.qe=ll(),this.Qe=new jr(yn),c}$e(e,r){if(!this.ze(e))return;const o=this.it(e,r.key)?2:0;this.Ge(e).Fe(r.key,o),this.ke=this.ke.insert(r.key,r),this.qe=this.qe.insert(r.key,this.st(r.key).add(e))}Ue(e,r,o){if(!this.ze(e))return;const c=this.Ge(e);this.it(e,r)?c.Fe(r,1):c.Me(r),this.qe=this.qe.insert(r,this.st(r).delete(e)),o&&(this.ke=this.ke.insert(r,o))}removeTarget(e){this.Be.delete(e)}Ye(e){const r=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let r=this.Be.get(e);return r||(r=new Aa,this.Be.set(e,r)),r}st(e){let r=this.qe.get(e);return r||(r=new Pr(yn),this.qe=this.qe.insert(e,r)),r}ze(e){const r=null!==this.Je(e);return r||ht("WatchChangeAggregator","Detected inactive target",e),r}Je(e){const r=this.Be.get(e);return r&&r.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Aa),this.Le.getRemoteKeysForTarget(e).forEach(r=>{this.Ue(e,r,null)})}it(e,r){return this.Le.getRemoteKeysForTarget(e).has(r)}}function ll(){return new jr(At.comparator)}function Xs(){return new jr(At.comparator)}const kc={asc:"ASCENDING",desc:"DESCENDING"},ku={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Xd={and:"AND",or:"OR"};class Yd{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function jl(a,e){return a.useProto3Json||Ae(e)?e:{value:e}}function zc(a,e){return a.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function $t(a,e){return a.useProto3Json?e.toBase64():e.toUint8Array()}function Kr(a,e){return zc(a,e.toTimestamp())}function Mi(a){return gt(!!a),Ce.fromTimestamp(function(r){const o=Yi(r);return new xe(o.seconds,o.nanos)}(a))}function ss(a,e){return zi(a,e).canonicalString()}function zi(a,e){const r=(c=a,new Xe(["projects",c.projectId,"databases",c.database])).child("documents");var c;return void 0===e?r:r.child(e)}function Ha(a){const e=Xe.fromString(a);return gt(To(e)),e}function Ys(a,e){return ss(a.databaseId,e.path)}function Ar(a,e){const r=Ha(e);if(r.get(1)!==a.databaseId.projectId)throw new Pe(ce.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+a.databaseId.projectId);if(r.get(3)!==a.databaseId.database)throw new Pe(ce.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+a.databaseId.database);return new At(Hl(r))}function bc(a,e){return ss(a.databaseId,e)}function zl(a){return new Xe(["projects",a.databaseId.projectId,"databases",a.databaseId.database]).canonicalString()}function Hl(a){return gt(a.length>4&&"documents"===a.get(4)),a.popFirst(5)}function bu(a,e,r){return{name:Ys(a,e),fields:r.value.mapValue.fields}}function k(a,e){return{documents:[bc(a,e.path)]}}function D(a,e){const r={structuredQuery:{}},o=e.path;let c;null!==e.collectionGroup?(c=o,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(c=o.popLast(),r.structuredQuery.from=[{collectionId:o.lastSegment()}]),r.parent=bc(a,c);const d=function(U){if(0!==U.length)return As(Dr.create(U,"and"))}(e.filters);d&&(r.structuredQuery.where=d);const g=function(U){if(0!==U.length)return U.map(X=>{return{field:Br((Ue=X).field),direction:ft(Ue.dir)};var Ue})}(e.orderBy);g&&(r.structuredQuery.orderBy=g);const C=jl(a,e.limit);return null!==C&&(r.structuredQuery.limit=C),e.startAt&&(r.structuredQuery.startAt={before:(U=e.startAt).inclusive,values:U.position}),e.endAt&&(r.structuredQuery.endAt=function(U){return{before:!U.inclusive,values:U.position}}(e.endAt)),{_t:r,parent:c};var U}function te(a){let e=function Ia(a){const e=Ha(a);return 4===e.length?Xe.emptyPath():Hl(e)}(a.parent);const r=a.structuredQuery,o=r.from?r.from.length:0;let c=null;if(o>0){gt(1===o);const X=r.from[0];X.allDescendants?c=X.collectionId:e=e.child(X.collectionId)}let d=[];r.where&&(d=function(pe){const Ue=Mt(pe);return Ue instanceof Dr&&gi(Ue)?Ue.getFilters():[Ue]}(r.where));let g=[];r.orderBy&&(g=r.orderBy.map(Ue=>{return new di(wr((Ut=Ue).field),function(tn){switch(tn){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Ut.direction));var Ut}));let C=null;r.limit&&(C=function(pe){let Ue;return Ue="object"==typeof pe?pe.value:pe,Ae(Ue)?null:Ue}(r.limit));let O=null;var pe;r.startAt&&(O=new Jn((pe=r.startAt).values||[],!!pe.before));let U=null;return r.endAt&&(U=function(pe){return new Jn(pe.values||[],!pe.before)}(r.endAt)),function lc(a,e,r,o,c,d,g,C){return new ws(a,e,r,o,c,d,g,C)}(e,c,g,d,C,"F",O,U)}function Mt(a){return void 0!==a.unaryFilter?function(r){switch(r.unaryFilter.op){case"IS_NAN":const o=wr(r.unaryFilter.field);return lr.create(o,"==",{doubleValue:NaN});case"IS_NULL":const c=wr(r.unaryFilter.field);return lr.create(c,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const d=wr(r.unaryFilter.field);return lr.create(d,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const g=wr(r.unaryFilter.field);return lr.create(g,"!=",{nullValue:"NULL_VALUE"});default:return Ot()}}(a):void 0!==a.fieldFilter?lr.create(wr((r=a).fieldFilter.field),function(c){switch(c){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ot()}}(r.fieldFilter.op),r.fieldFilter.value):void 0!==a.compositeFilter?function(r){return Dr.create(r.compositeFilter.filters.map(o=>Mt(o)),function(c){switch(c){case"AND":return"and";case"OR":return"or";default:return Ot()}}(r.compositeFilter.op))}(a):Ot();var r}function ft(a){return kc[a]}function xn(a){return ku[a]}function ur(a){return Xd[a]}function Br(a){return{fieldPath:a.canonicalString()}}function wr(a){return Qt.fromServerFormat(a.fieldPath)}function As(a){return a instanceof lr?function(r){if("=="===r.op){if(Ro(r.value))return{unaryFilter:{field:Br(r.field),op:"IS_NAN"}};if(Zn(r.value))return{unaryFilter:{field:Br(r.field),op:"IS_NULL"}}}else if("!="===r.op){if(Ro(r.value))return{unaryFilter:{field:Br(r.field),op:"IS_NOT_NAN"}};if(Zn(r.value))return{unaryFilter:{field:Br(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Br(r.field),op:xn(r.op),value:r.value}}}(a):a instanceof Dr?function(r){const o=r.getFilters().map(c=>As(c));return 1===o.length?o[0]:{compositeFilter:{op:ur(r.op),filters:o}}}(a):Ot()}function Ua(a){const e=[];return a.fields.forEach(r=>e.push(r.canonicalString())),{fieldPaths:e}}function To(a){return a.length>=4&&"projects"===a.get(0)&&"databases"===a.get(2)}class Ti{constructor(e,r,o,c,d=Ce.min(),g=Ce.min(),C=qr.EMPTY_BYTE_STRING,O=null){this.target=e,this.targetId=r,this.purpose=o,this.sequenceNumber=c,this.snapshotVersion=d,this.lastLimboFreeSnapshotVersion=g,this.resumeToken=C,this.expectedCount=O}withSequenceNumber(e){return new Ti(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new Ti(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ti(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ti(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Fs{constructor(e){this.ct=e}}function Ul(a){const e=te({parent:a.parent,structuredQuery:a.structuredQuery});return"LAST"===a.limitType?Fa(e,e.limit,"L"):e}class ma{constructor(){}It(e,r){this.Tt(e,r),r.Et()}Tt(e,r){if("nullValue"in e)this.dt(r,5);else if("booleanValue"in e)this.dt(r,10),r.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(r,15),r.At(In(e.integerValue));else if("doubleValue"in e){const o=In(e.doubleValue);isNaN(o)?this.dt(r,13):(this.dt(r,15),rt(o)?r.At(0):r.At(o))}else if("timestampValue"in e){let o=e.timestampValue;this.dt(r,20),"string"==typeof o&&(o=Yi(o)),r.Rt(`${o.seconds||""}`),r.At(o.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,r),this.ft(r);else if("bytesValue"in e)this.dt(r,30),r.gt(xr(e.bytesValue)),this.ft(r);else if("referenceValue"in e)this.yt(e.referenceValue,r);else if("geoPointValue"in e){const o=e.geoPointValue;this.dt(r,45),r.At(o.latitude||0),r.At(o.longitude||0)}else"mapValue"in e?ls(e)?this.dt(r,Number.MAX_SAFE_INTEGER):Ho(e)?this.wt(e.mapValue,r):(this.St(e.mapValue,r),this.ft(r)):"arrayValue"in e?(this.bt(e.arrayValue,r),this.ft(r)):Ot()}Vt(e,r){this.dt(r,25),this.Dt(e,r)}Dt(e,r){r.Rt(e)}St(e,r){const o=e.fields||{};this.dt(r,55);for(const c of Object.keys(o))this.Vt(c,r),this.Tt(o[c],r)}wt(e,r){var o,c;const d=e.fields||{};this.dt(r,53);const g="value",C=(null===(c=null===(o=d[g].arrayValue)||void 0===o?void 0:o.values)||void 0===c?void 0:c.length)||0;this.dt(r,15),r.At(In(C)),this.Vt(g,r),this.Tt(d[g],r)}bt(e,r){const o=e.values||[];this.dt(r,50);for(const c of o)this.Tt(c,r)}yt(e,r){this.dt(r,37),At.fromName(e).path.forEach(o=>{this.dt(r,60),this.Dt(o,r)})}dt(e,r){e.At(r)}ft(e){e.At(2)}}ma.vt=new ma;class rh{constructor(){this.un=new ul}addToCollectionParentIndex(e,r){return this.un.add(r),Oe.resolve()}getCollectionParents(e,r){return Oe.resolve(this.un.getEntries(r))}addFieldIndex(e,r){return Oe.resolve()}deleteFieldIndex(e,r){return Oe.resolve()}deleteAllFieldIndexes(e){return Oe.resolve()}createTargetIndexes(e,r){return Oe.resolve()}getDocumentsMatchingTarget(e,r){return Oe.resolve(null)}getIndexType(e,r){return Oe.resolve(0)}getFieldIndexes(e,r){return Oe.resolve([])}getNextCollectionGroupToUpdate(e){return Oe.resolve(null)}getMinOffset(e,r){return Oe.resolve(cr.min())}getMinOffsetFromCollectionGroup(e,r){return Oe.resolve(cr.min())}updateCollectionGroup(e,r,o){return Oe.resolve()}updateIndexEntries(e,r){return Oe.resolve()}}class ul{constructor(){this.index={}}add(e){const r=e.lastSegment(),o=e.popLast(),c=this.index[r]||new Pr(Xe.comparator),d=!c.has(o);return this.index[r]=c.add(o),d}has(e){const r=e.lastSegment(),o=e.popLast(),c=this.index[r];return c&&c.has(o)}getEntries(e){return(this.index[e]||new Pr(Xe.comparator)).toArray()}}new Uint8Array(0);class Go{constructor(e,r,o){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=o}static withCacheSize(e){return new Go(e,Go.DEFAULT_COLLECTION_PERCENTILE,Go.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}Go.DEFAULT_COLLECTION_PERCENTILE=10,Go.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Go.DEFAULT=new Go(41943040,Go.DEFAULT_COLLECTION_PERCENTILE,Go.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Go.DISABLED=new Go(-1,0,0);class Na{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Na(0)}static kn(){return new Na(-1)}}class Gc{constructor(){this.changes=new No(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,Gr.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const o=this.changes.get(r);return void 0!==o?Oe.resolve(o):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Pu{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}class sh{constructor(e,r,o,c){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=o,this.indexManager=c}getDocument(e,r){let o=null;return this.documentOverlayCache.getOverlay(e,r).next(c=>(o=c,this.remoteDocumentCache.getEntry(e,r))).next(c=>(null!==o&&zr(o.mutation,c,Xi.empty(),xe.now()),c))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next(o=>this.getLocalViewOfDocuments(e,o,vr()).next(()=>o))}getLocalViewOfDocuments(e,r,o=vr()){const c=Io();return this.populateOverlays(e,c,r).next(()=>this.computeViews(e,r,c,o).next(d=>{let g=Vs();return d.forEach((C,O)=>{g=g.insert(C,O.overlayedDocument)}),g}))}getOverlayedDocuments(e,r){const o=Io();return this.populateOverlays(e,o,r).next(()=>this.computeViews(e,r,o,vr()))}populateOverlays(e,r,o){const c=[];return o.forEach(d=>{r.has(d)||c.push(d)}),this.documentOverlayCache.getOverlays(e,c).next(d=>{d.forEach((g,C)=>{r.set(g,C)})})}computeViews(e,r,o,c){let d=oo();const g=ds(),C=ds();return r.forEach((O,U)=>{const X=o.get(U.key);c.has(U.key)&&(void 0===X||X.mutation instanceof so)?d=d.insert(U.key,U):void 0!==X?(g.set(U.key,X.mutation.getFieldMask()),zr(X.mutation,U,X.mutation.getFieldMask(),xe.now())):g.set(U.key,Xi.empty())}),this.recalculateAndSaveOverlays(e,d).next(O=>(O.forEach((U,X)=>g.set(U,X)),r.forEach((U,X)=>{var pe;return C.set(U,new Pu(X,null!==(pe=g.get(U))&&void 0!==pe?pe:null))}),C))}recalculateAndSaveOverlays(e,r){const o=ds();let c=new jr((g,C)=>g-C),d=vr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next(g=>{for(const C of g)C.keys().forEach(O=>{const U=r.get(O);if(null===U)return;let X=o.get(O)||Xi.empty();X=C.applyToLocalView(U,X),o.set(O,X);const pe=(c.get(C.batchId)||vr()).add(O);c=c.insert(C.batchId,pe)})}).next(()=>{const g=[],C=c.getReverseIterator();for(;C.hasNext();){const O=C.getNext(),U=O.key,X=O.value,pe=Lc();X.forEach(Ue=>{if(!d.has(Ue)){const yt=hr(r.get(Ue),o.get(Ue));null!==yt&&pe.set(Ue,yt),d=d.add(Ue)}}),g.push(this.documentOverlayCache.saveOverlays(e,U,pe))}return Oe.waitFor(g)}).next(()=>o)}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next(o=>this.recalculateAndSaveOverlays(e,o))}getDocumentsMatchingQuery(e,r,o,c){return At.isDocumentKey((g=r).path)&&null===g.collectionGroup&&0===g.filters.length?this.getDocumentsMatchingDocumentQuery(e,r.path):uc(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,o,c):this.getDocumentsMatchingCollectionQuery(e,r,o,c);var g}getNextDocuments(e,r,o,c){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,o,c).next(d=>{const g=c-d.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,o.largestBatchId,c-d.size):Oe.resolve(Io());let C=-1,O=d;return g.next(U=>Oe.forEach(U,(X,pe)=>(C<pe.largestBatchId&&(C=pe.largestBatchId),d.get(X)?Oe.resolve():this.remoteDocumentCache.getEntry(e,X).next(Ue=>{O=O.insert(X,Ue)}))).next(()=>this.populateOverlays(e,U,d)).next(()=>this.computeViews(e,O,U,vr())).next(X=>({batchId:C,changes:hc(X)})))})}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new At(r)).next(o=>{let c=Vs();return o.isFoundDocument()&&(c=c.insert(o.key,o)),c})}getDocumentsMatchingCollectionGroupQuery(e,r,o,c){const d=r.collectionGroup;let g=Vs();return this.indexManager.getCollectionParents(e,d).next(C=>Oe.forEach(C,O=>{const U=(pe=r,Ue=O.child(d),new ws(Ue,null,pe.explicitOrderBy.slice(),pe.filters.slice(),pe.limit,pe.limitType,pe.startAt,pe.endAt));var pe,Ue;return this.getDocumentsMatchingCollectionQuery(e,U,o,c).next(X=>{X.forEach((pe,Ue)=>{g=g.insert(pe,Ue)})})}).next(()=>g))}getDocumentsMatchingCollectionQuery(e,r,o,c){let d;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,o.largestBatchId).next(g=>(d=g,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,o,d,c))).next(g=>{d.forEach((O,U)=>{const X=U.getKey();null===g.get(X)&&(g=g.insert(X,Gr.newInvalidDocument(X)))});let C=Vs();return g.forEach((O,U)=>{const X=d.get(O);void 0!==X&&zr(X.mutation,U,Xi.empty(),xe.now()),Gs(r,U)&&(C=C.insert(O,U))}),C})}}class Vp{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,r){return Oe.resolve(this.hr.get(r))}saveBundleMetadata(e,r){return this.hr.set(r.id,{id:(c=r).id,version:c.version,createTime:Mi(c.createTime)}),Oe.resolve();var c}getNamedQuery(e,r){return Oe.resolve(this.Pr.get(r))}saveNamedQuery(e,r){return this.Pr.set(r.name,{name:(c=r).name,query:Ul(c.bundledQuery),readTime:Mi(c.readTime)}),Oe.resolve();var c}}class Ou{constructor(){this.overlays=new jr(At.comparator),this.Ir=new Map}getOverlay(e,r){return Oe.resolve(this.overlays.get(r))}getOverlays(e,r){const o=Io();return Oe.forEach(r,c=>this.getOverlay(e,c).next(d=>{null!==d&&o.set(c,d)})).next(()=>o)}saveOverlays(e,r,o){return o.forEach((c,d)=>{this.ht(e,r,d)}),Oe.resolve()}removeOverlaysForBatchId(e,r,o){const c=this.Ir.get(o);return void 0!==c&&(c.forEach(d=>this.overlays=this.overlays.remove(d)),this.Ir.delete(o)),Oe.resolve()}getOverlaysForCollection(e,r,o){const c=Io(),d=r.length+1,g=new At(r.child("")),C=this.overlays.getIteratorFrom(g);for(;C.hasNext();){const O=C.getNext().value,U=O.getKey();if(!r.isPrefixOf(U.path))break;U.path.length===d&&O.largestBatchId>o&&c.set(O.getKey(),O)}return Oe.resolve(c)}getOverlaysForCollectionGroup(e,r,o,c){let d=new jr((U,X)=>U-X);const g=this.overlays.getIterator();for(;g.hasNext();){const U=g.getNext().value;if(U.getKey().getCollectionGroup()===r&&U.largestBatchId>o){let X=d.get(U.largestBatchId);null===X&&(X=Io(),d=d.insert(U.largestBatchId,X)),X.set(U.getKey(),U)}}const C=Io(),O=d.getIterator();for(;O.hasNext()&&(O.getNext().value.forEach((U,X)=>C.set(U,X)),!(C.size()>=c)););return Oe.resolve(C)}ht(e,r,o){const c=this.overlays.get(o.key);if(null!==c){const g=this.Ir.get(c.largestBatchId).delete(o.key);this.Ir.set(c.largestBatchId,g)}this.overlays=this.overlays.insert(o.key,new ha(r,o));let d=this.Ir.get(r);void 0===d&&(d=vr(),this.Ir.set(r,d)),this.Ir.set(r,d.add(o.key))}}class Zc{constructor(){this.sessionToken=qr.EMPTY_BYTE_STRING}getSessionToken(e){return Oe.resolve(this.sessionToken)}setSessionToken(e,r){return this.sessionToken=r,Oe.resolve()}}class Xc{constructor(){this.Tr=new Pr(Do.Er),this.dr=new Pr(Do.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,r){const o=new Do(e,r);this.Tr=this.Tr.add(o),this.dr=this.dr.add(o)}Rr(e,r){e.forEach(o=>this.addReference(o,r))}removeReference(e,r){this.Vr(new Do(e,r))}mr(e,r){e.forEach(o=>this.removeReference(o,r))}gr(e){const r=new At(new Xe([])),o=new Do(r,e),c=new Do(r,e+1),d=[];return this.dr.forEachInRange([o,c],g=>{this.Vr(g),d.push(g.key)}),d}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const r=new At(new Xe([])),o=new Do(r,e),c=new Do(r,e+1);let d=vr();return this.dr.forEachInRange([o,c],g=>{d=d.add(g.key)}),d}containsKey(e){const r=new Do(e,0),o=this.Tr.firstAfterOrEqual(r);return null!==o&&e.isEqual(o.key)}}class Do{constructor(e,r){this.key=e,this.wr=r}static Er(e,r){return At.comparator(e.key,r.key)||yn(e.wr,r.wr)}static Ar(e,r){return yn(e.wr,r.wr)||At.comparator(e.key,r.key)}}class _o{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.Sr=1,this.br=new Pr(Do.Er)}checkEmpty(e){return Oe.resolve(0===this.mutationQueue.length)}addMutationBatch(e,r,o,c){const d=this.Sr;this.Sr++;const g=new oi(d,r,o,c);this.mutationQueue.push(g);for(const C of c)this.br=this.br.add(new Do(C.key,d)),this.indexManager.addToCollectionParentIndex(e,C.key.path.popLast());return Oe.resolve(g)}lookupMutationBatch(e,r){return Oe.resolve(this.Dr(r))}getNextMutationBatchAfterBatchId(e,r){const c=this.vr(r+1),d=c<0?0:c;return Oe.resolve(this.mutationQueue.length>d?this.mutationQueue[d]:null)}getHighestUnacknowledgedBatchId(){return Oe.resolve(0===this.mutationQueue.length?-1:this.Sr-1)}getAllMutationBatches(e){return Oe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const o=new Do(r,0),c=new Do(r,Number.POSITIVE_INFINITY),d=[];return this.br.forEachInRange([o,c],g=>{const C=this.Dr(g.wr);d.push(C)}),Oe.resolve(d)}getAllMutationBatchesAffectingDocumentKeys(e,r){let o=new Pr(yn);return r.forEach(c=>{const d=new Do(c,0),g=new Do(c,Number.POSITIVE_INFINITY);this.br.forEachInRange([d,g],C=>{o=o.add(C.wr)})}),Oe.resolve(this.Cr(o))}getAllMutationBatchesAffectingQuery(e,r){const o=r.path,c=o.length+1;let d=o;At.isDocumentKey(d)||(d=d.child(""));const g=new Do(new At(d),0);let C=new Pr(yn);return this.br.forEachWhile(O=>{const U=O.key.path;return!!o.isPrefixOf(U)&&(U.length===c&&(C=C.add(O.wr)),!0)},g),Oe.resolve(this.Cr(C))}Cr(e){const r=[];return e.forEach(o=>{const c=this.Dr(o);null!==c&&r.push(c)}),r}removeMutationBatch(e,r){gt(0===this.Fr(r.batchId,"removed")),this.mutationQueue.shift();let o=this.br;return Oe.forEach(r.mutations,c=>{const d=new Do(c.key,r.batchId);return o=o.delete(d),this.referenceDelegate.markPotentiallyOrphaned(e,c.key)}).next(()=>{this.br=o})}On(e){}containsKey(e,r){const o=new Do(r,0),c=this.br.firstAfterOrEqual(o);return Oe.resolve(r.isEqual(c&&c.key))}performConsistencyCheck(e){return Oe.resolve()}Fr(e,r){return this.vr(e)}vr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Dr(e){const r=this.vr(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}class ah{constructor(e){this.Mr=e,this.docs=new jr(At.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const o=r.key,c=this.docs.get(o),d=c?c.size:0,g=this.Mr(r);return this.docs=this.docs.insert(o,{document:r.mutableCopy(),size:g}),this.size+=g-d,this.indexManager.addToCollectionParentIndex(e,o.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const o=this.docs.get(r);return Oe.resolve(o?o.document.mutableCopy():Gr.newInvalidDocument(r))}getEntries(e,r){let o=oo();return r.forEach(c=>{const d=this.docs.get(c);o=o.insert(c,d?d.document.mutableCopy():Gr.newInvalidDocument(c))}),Oe.resolve(o)}getDocumentsMatchingQuery(e,r,o,c){let d=oo();const g=r.path,C=new At(g.child("")),O=this.docs.getIteratorFrom(C);for(;O.hasNext();){const{key:U,value:{document:X}}=O.getNext();if(!g.isPrefixOf(U.path))break;U.path.length>g.length+1||jt(new cr((a=X).readTime,a.key,-1),o)<=0||(c.has(X.key)||Gs(r,X))&&(d=d.insert(X.key,X.mutableCopy()))}var a;return Oe.resolve(d)}getAllFromCollectionGroup(e,r,o,c){Ot()}Or(e,r){return Oe.forEach(this.docs,o=>r(o))}newChangeBuffer(e){return new fl(this)}getSize(e){return Oe.resolve(this.size)}}class fl extends Gc{constructor(e){super(),this.cr=e}applyChanges(e){const r=[];return this.changes.forEach((o,c)=>{c.isValidDocument()?r.push(this.cr.addEntry(e,c)):this.cr.removeEntry(o)}),Oe.waitFor(r)}getFromCache(e,r){return this.cr.getEntry(e,r)}getAllFromCache(e,r){return this.cr.getEntries(e,r)}}class g1{constructor(e){this.persistence=e,this.Nr=new No(r=>Tn(r),er),this.lastRemoteSnapshotVersion=Ce.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Xc,this.targetCount=0,this.kr=Na.Bn()}forEachTarget(e,r){return this.Nr.forEach((o,c)=>r(c)),Oe.resolve()}getLastRemoteSnapshotVersion(e){return Oe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Oe.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),Oe.resolve(this.highestTargetId)}setTargetsMetadata(e,r,o){return o&&(this.lastRemoteSnapshotVersion=o),r>this.Lr&&(this.Lr=r),Oe.resolve()}Kn(e){this.Nr.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.kr=new Na(r),this.highestTargetId=r),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,r){return this.Kn(r),this.targetCount+=1,Oe.resolve()}updateTargetData(e,r){return this.Kn(r),Oe.resolve()}removeTargetData(e,r){return this.Nr.delete(r.target),this.Br.gr(r.targetId),this.targetCount-=1,Oe.resolve()}removeTargets(e,r,o){let c=0;const d=[];return this.Nr.forEach((g,C)=>{C.sequenceNumber<=r&&null===o.get(C.targetId)&&(this.Nr.delete(g),d.push(this.removeMatchingKeysForTargetId(e,C.targetId)),c++)}),Oe.waitFor(d).next(()=>c)}getTargetCount(e){return Oe.resolve(this.targetCount)}getTargetData(e,r){const o=this.Nr.get(r)||null;return Oe.resolve(o)}addMatchingKeys(e,r,o){return this.Br.Rr(r,o),Oe.resolve()}removeMatchingKeys(e,r,o){this.Br.mr(r,o);const c=this.persistence.referenceDelegate,d=[];return c&&r.forEach(g=>{d.push(c.markPotentiallyOrphaned(e,g))}),Oe.waitFor(d)}removeMatchingKeysForTargetId(e,r){return this.Br.gr(r),Oe.resolve()}getMatchingKeysForTargetId(e,r){const o=this.Br.yr(r);return Oe.resolve(o)}containsKey(e,r){return Oe.resolve(this.Br.containsKey(r))}}class Is{constructor(e,r){this.qr={},this.overlays={},this.Qr=new ie(0),this.Kr=!1,this.Kr=!0,this.$r=new Zc,this.referenceDelegate=e(this),this.Ur=new g1(this),this.indexManager=new rh,this.remoteDocumentCache=new ah(o=>this.referenceDelegate.Wr(o)),this.serializer=new Fs(r),this.Gr=new Vp(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new Ou,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let o=this.qr[e.toKey()];return o||(o=new _o(r,this.referenceDelegate),this.qr[e.toKey()]=o),o}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,r,o){ht("MemoryPersistence","Starting transaction:",e);const c=new ml(this.Qr.next());return this.referenceDelegate.zr(),o(c).next(d=>this.referenceDelegate.jr(c).next(()=>d)).toPromise().then(d=>(c.raiseOnCommittedEvent(),d))}Hr(e,r){return Oe.or(Object.values(this.qr).map(o=>()=>o.containsKey(e,r)))}}class ml extends qe{constructor(e){super(),this.currentSequenceNumber=e}}class Xl{constructor(e){this.persistence=e,this.Jr=new Xc,this.Yr=null}static Zr(e){return new Xl(e)}get Xr(){if(this.Yr)return this.Yr;throw Ot()}addReference(e,r,o){return this.Jr.addReference(o,r),this.Xr.delete(o.toString()),Oe.resolve()}removeReference(e,r,o){return this.Jr.removeReference(o,r),this.Xr.add(o.toString()),Oe.resolve()}markPotentiallyOrphaned(e,r){return this.Xr.add(r.toString()),Oe.resolve()}removeTarget(e,r){this.Jr.gr(r.targetId).forEach(c=>this.Xr.add(c.toString()));const o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(e,r.targetId).next(c=>{c.forEach(d=>this.Xr.add(d.toString()))}).next(()=>o.removeTargetData(e,r))}zr(){this.Yr=new Set}jr(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Oe.forEach(this.Xr,o=>{const c=At.fromPath(o);return this.ei(e,c).next(d=>{d||r.removeEntry(c,Ce.min())})}).next(()=>(this.Yr=null,r.apply(e)))}updateLimboDocument(e,r){return this.ei(e,r).next(o=>{o?this.Xr.delete(r.toString()):this.Xr.add(r.toString())})}Wr(e){return 0}ei(e,r){return Oe.or([()=>Oe.resolve(this.Jr.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Hr(e,r)])}}class Cc{constructor(e,r,o,c){this.targetId=e,this.fromCache=r,this.$i=o,this.Ui=c}static Wi(e,r){let o=vr(),c=vr();for(const d of r.docChanges)switch(d.type){case 0:o=o.add(d.doc.key);break;case 1:c=c.add(d.doc.key)}return new Cc(e,r.fromCache,o,c)}}class Lp{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class fd{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=(0,re.nr)()?8:function ar(a){const e=a.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}((0,re.ZQ)())>0?6:4}initialize(e,r){this.Ji=e,this.indexManager=r,this.Gi=!0}getDocumentsMatchingQuery(e,r,o,c){const d={result:null};return this.Yi(e,r).next(g=>{d.result=g}).next(()=>{if(!d.result)return this.Zi(e,r,c,o).next(g=>{d.result=g})}).next(()=>{if(d.result)return;const g=new Lp;return this.Xi(e,r,g).next(C=>{if(d.result=C,this.zi)return this.es(e,r,g,C.size)})}).next(()=>d.result)}es(e,r,o,c){return o.documentReadCount<this.ji?(qn()<=De.$b.DEBUG&&ht("QueryEngine","SDK will not create cache indexes for query:",ji(r),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),Oe.resolve()):(qn()<=De.$b.DEBUG&&ht("QueryEngine","Query:",ji(r),"scans",o.documentReadCount,"local documents and returns",c,"documents as results."),o.documentReadCount>this.Hi*c?(qn()<=De.$b.DEBUG&&ht("QueryEngine","The SDK decides to create cache indexes for query:",ji(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Oi(r))):Oe.resolve())}Yi(e,r){if(Ca(r))return Oe.resolve(null);let o=Oi(r);return this.indexManager.getIndexType(e,o).next(c=>0===c?null:(null!==r.limit&&1===c&&(r=Fa(r,null,"F"),o=Oi(r)),this.indexManager.getDocumentsMatchingTarget(e,o).next(d=>{const g=vr(...d);return this.Ji.getDocuments(e,g).next(C=>this.indexManager.getMinOffset(e,o).next(O=>{const U=this.ts(r,C);return this.ns(r,U,g,O.readTime)?this.Yi(e,Fa(r,null,"F")):this.rs(e,U,r,O)}))})))}Zi(e,r,o,c){return Ca(r)||c.isEqual(Ce.min())?Oe.resolve(null):this.Ji.getDocuments(e,o).next(d=>{const g=this.ts(r,d);return this.ns(r,g,o,c)?Oe.resolve(null):(qn()<=De.$b.DEBUG&&ht("QueryEngine","Re-using previous result from %s to execute query: %s",c.toString(),ji(r)),this.rs(e,g,r,function mi(a,e){const r=a.toTimestamp().seconds,o=a.toTimestamp().nanoseconds+1,c=Ce.fromTimestamp(1e9===o?new xe(r+1,0):new xe(r,o));return new cr(c,At.empty(),e)}(c,-1)).next(C=>C))})}ts(e,r){let o=new Pr(la(e));return r.forEach((c,d)=>{Gs(e,d)&&(o=o.add(d))}),o}ns(e,r,o,c){if(null===e.limit)return!1;if(o.size!==r.size)return!0;const d="F"===e.limitType?r.last():r.first();return!!d&&(d.hasPendingWrites||d.version.compareTo(c)>0)}Xi(e,r,o){return qn()<=De.$b.DEBUG&&ht("QueryEngine","Using full collection scan to execute query:",ji(r)),this.Ji.getDocumentsMatchingQuery(e,r,cr.min(),o)}rs(e,r,o,c){return this.Ji.getDocumentsMatchingQuery(e,o,c).next(d=>(r.forEach(g=>{d=d.insert(g.key,g)}),d))}}class _1{constructor(e,r,o,c){this.persistence=e,this.ss=r,this.serializer=c,this.os=new jr(yn),this._s=new No(d=>Tn(d),er),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(o)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new sh(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.os))}}function Zo(a,e){return Lu.apply(this,arguments)}function Lu(){return(Lu=(0,ae.A)(function*(a,e){const r=ge(a);return yield r.persistence.runTransaction("Handle user change","readonly",o=>{let c;return r.mutationQueue.getAllMutationBatches(o).next(d=>(c=d,r.ls(e),r.mutationQueue.getAllMutationBatches(o))).next(d=>{const g=[],C=[];let O=vr();for(const U of c){g.push(U.batchId);for(const X of U.mutations)O=O.add(X.key)}for(const U of d){C.push(U.batchId);for(const X of U.mutations)O=O.add(X.key)}return r.localDocuments.getDocuments(o,O).next(U=>({hs:U,removedBatchIds:g,addedBatchIds:C}))})})})).apply(this,arguments)}function p(a){const e=ge(a);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.Ur.getLastRemoteSnapshotVersion(r))}function L(a,e){const r=ge(a);return r.persistence.runTransaction("Get next mutation batch","readonly",o=>(void 0===e&&(e=-1),r.mutationQueue.getNextMutationBatchAfterBatchId(o,e)))}function de(a,e,r){return ye.apply(this,arguments)}function ye(){return(ye=(0,ae.A)(function*(a,e,r){const o=ge(a),c=o.os.get(e),d=r?"readwrite":"readwrite-primary";try{r||(yield o.persistence.runTransaction("Release target",d,g=>o.persistence.referenceDelegate.removeTarget(g,c)))}catch(g){if(!R(g))throw g;ht("LocalStore",`Failed to update sequence numbers for target ${e}: ${g}`)}o.os=o.os.remove(e),o._s.delete(c.target)})).apply(this,arguments)}function He(a,e,r){const o=ge(a);let c=Ce.min(),d=vr();return o.persistence.runTransaction("Execute query","readwrite",g=>function(O,U,X){const pe=ge(O),Ue=pe._s.get(X);return void 0!==Ue?Oe.resolve(pe.os.get(Ue)):pe.Ur.getTargetData(U,X)}(o,g,Oi(e)).next(C=>{if(C)return c=C.lastLimboFreeSnapshotVersion,o.Ur.getMatchingKeysForTargetId(g,C.targetId).next(O=>{d=O})}).next(()=>o.ss.getDocumentsMatchingQuery(g,e,r?c:Ce.min(),r?d:vr())).next(C=>(function sn(a,e,r){let o=a.us.get(e)||Ce.min();r.forEach((c,d)=>{d.readTime.compareTo(o)>0&&(o=d.readTime)}),a.us.set(e,o)}(o,function dc(a){return a.collectionGroup||(a.path.length%2==1?a.path.lastSegment():a.path.get(a.path.length-2))}(e),C),{documents:C,Ts:d})))}class Ui{constructor(){this.activeTargetIds=function Fc(){return Nl}()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class vo{constructor(){this.so=new Ui,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,o){}addLocalQueryTarget(e,r=!0){return r&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,r,o){this.oo[e]=r}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new Ui,Promise.resolve()}handleUserChange(e,r,o){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class _a{_o(e){}shutdown(){}}class Fu{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){ht("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){ht("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Za=null;function Ac(){return null===Za?Za=268435456+Math.round(2147483648*Math.random()):Za++,"0x"+Za.toString(16)}const Bu={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class v1{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}const Cn="WebChannelConnection";class nr extends class{constructor(r){this.databaseInfo=r,this.databaseId=r.databaseId;const o=r.ssl?"https":"http",c=encodeURIComponent(this.databaseId.projectId),d=encodeURIComponent(this.databaseId.database);this.Do=o+"://"+r.host,this.vo=`projects/${c}/databases/${d}`,this.Co="(default)"===this.databaseId.database?`project_id=${c}`:`project_id=${c}&database_id=${d}`}get Fo(){return!1}Mo(r,o,c,d,g){const C=Ac(),O=this.xo(r,o.toUriEncodedString());ht("RestConnection",`Sending RPC '${r}' ${C}:`,O,c);const U={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(U,d,g),this.No(r,O,U,c).then(X=>(ht("RestConnection",`Received RPC '${r}' ${C}: `,X),X),X=>{throw kn("RestConnection",`RPC '${r}' ${C} failed with error: `,X,"url: ",O,"request:",c),X})}Lo(r,o,c,d,g,C){return this.Mo(r,o,c,d,g)}Oo(r,o,c){r["X-Goog-Api-Client"]="gl-js/ fire/"+mn,r["Content-Type"]="text/plain",this.databaseInfo.appId&&(r["X-Firebase-GMPID"]=this.databaseInfo.appId),o&&o.headers.forEach((d,g)=>r[g]=d),c&&c.headers.forEach((d,g)=>r[g]=d)}xo(r,o){return`${this.Do}/v1/${o}:${Bu[r]}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,r,o,c){const d=Ac();return new Promise((g,C)=>{const O=new Ft;O.setWithCredentials(!0),O.listenOnce(Xt.COMPLETE,()=>{try{switch(O.getLastErrorCode()){case be.NO_ERROR:const X=O.getResponseJson();ht(Cn,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(X)),g(X);break;case be.TIMEOUT:ht(Cn,`RPC '${e}' ${d} timed out`),C(new Pe(ce.DEADLINE_EXCEEDED,"Request time out"));break;case be.HTTP_ERROR:const pe=O.getStatus();if(ht(Cn,`RPC '${e}' ${d} failed with status:`,pe,"response text:",O.getResponseText()),pe>0){let Ue=O.getResponseJson();Array.isArray(Ue)&&(Ue=Ue[0]);const yt=Ue?.error;if(yt&&yt.status&&yt.message){const Ut=function(tn){const Wn=tn.toLowerCase().replace(/_/g,"-");return Object.values(ce).indexOf(Wn)>=0?Wn:ce.UNKNOWN}(yt.status);C(new Pe(Ut,yt.message))}else C(new Pe(ce.UNKNOWN,"Server responded with status "+O.getStatus()))}else C(new Pe(ce.UNAVAILABLE,"Connection failed."));break;default:Ot()}}finally{ht(Cn,`RPC '${e}' ${d} completed.`)}});const U=JSON.stringify(c);ht(Cn,`RPC '${e}' ${d} sending request:`,c),O.send(r,"POST",U,o,15)})}Bo(e,r,o){const c=Ac(),d=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],g=dt(),C=Ke(),O={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},U=this.longPollingOptions.timeoutSeconds;void 0!==U&&(O.longPollingTimeout=Math.round(1e3*U)),this.useFetchStreams&&(O.useFetchStreams=!0),this.Oo(O.initMessageHeaders,r,o),O.encodeInitMessageHeaders=!0;const X=d.join("");ht(Cn,`Creating RPC '${e}' stream ${c}: ${X}`,O);const pe=g.createWebChannel(X,O);let Ue=!1,yt=!1;const Ut=new v1({Io:tn=>{yt?ht(Cn,`Not sending because RPC '${e}' stream ${c} is closed:`,tn):(Ue||(ht(Cn,`Opening RPC '${e}' stream ${c} transport.`),pe.open(),Ue=!0),ht(Cn,`RPC '${e}' stream ${c} sending:`,tn),pe.send(tn))},To:()=>pe.close()}),cn=(tn,Wn,tr)=>{tn.listen(Wn,Gn=>{try{tr(Gn)}catch(kr){setTimeout(()=>{throw kr},0)}})};return cn(pe,_n.EventType.OPEN,()=>{yt||(ht(Cn,`RPC '${e}' stream ${c} transport opened.`),Ut.yo())}),cn(pe,_n.EventType.CLOSE,()=>{yt||(yt=!0,ht(Cn,`RPC '${e}' stream ${c} transport closed`),Ut.So())}),cn(pe,_n.EventType.ERROR,tn=>{yt||(yt=!0,kn(Cn,`RPC '${e}' stream ${c} transport errored:`,tn),Ut.So(new Pe(ce.UNAVAILABLE,"The operation could not be completed")))}),cn(pe,_n.EventType.MESSAGE,tn=>{var Wn;if(!yt){const tr=tn.data[0];gt(!!tr);const kr=tr.error||(null===(Wn=tr[0])||void 0===Wn?void 0:Wn.error);if(kr){ht(Cn,`RPC '${e}' stream ${c} received error:`,kr);const fi=kr.status;let Xr=function(Qe){const it=vi[Qe];if(void 0!==it)return Vo(it)}(fi),nt=kr.message;void 0===Xr&&(Xr=ce.INTERNAL,nt="Unknown error status: "+fi+" with message "+kr.message),yt=!0,Ut.So(new Pe(Xr,nt)),pe.close()}else ht(Cn,`RPC '${e}' stream ${c} received:`,tr),Ut.bo(tr)}}),cn(C,ze.STAT_EVENT,tn=>{tn.stat===Ge.PROXY?ht(Cn,`RPC '${e}' stream ${c} detected buffering proxy`):tn.stat===Ge.NOPROXY&&ht(Cn,`RPC '${e}' stream ${c} detected no buffering proxy`)}),setTimeout(()=>{Ut.wo()},0),Ut}}function Yr(){return typeof document<"u"?document:null}function ao(a){return new Yd(a,!0)}class Ts{constructor(e,r,o=1e3,c=1.5,d=6e4){this.ui=e,this.timerId=r,this.ko=o,this.qo=c,this.Qo=d,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const r=Math.floor(this.Ko+this.zo()),o=Math.max(0,Date.now()-this.Uo),c=Math.max(0,r-o);c>0&&ht("ExponentialBackoff",`Backing off for ${c} ms (base delay: ${this.Ko} ms, delay with jitter: ${r} ms, last attempt: ${o} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,c,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){null!==this.$o&&(this.$o.skipDelay(),this.$o=null)}cancel(){null!==this.$o&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}class Bs{constructor(e,r,o,c,d,g,C,O){this.ui=e,this.Ho=o,this.Jo=c,this.connection=d,this.authCredentialsProvider=g,this.appCheckCredentialsProvider=C,this.listener=O,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new Ts(e,r)}n_(){return 1===this.state||5===this.state||this.r_()}r_(){return 2===this.state||3===this.state}start(){this.e_=0,4!==this.state?this.auth():this.i_()}stop(){var e=this;return(0,ae.A)(function*(){e.n_()&&(yield e.close(0))})()}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&null===this.Zo&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){var e=this;return(0,ae.A)(function*(){if(e.r_())return e.close(0)})()}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,r){var o=this;return(0,ae.A)(function*(){o.u_(),o.c_(),o.t_.cancel(),o.Yo++,4!==e?o.t_.reset():r&&r.code===ce.RESOURCE_EXHAUSTED?(Ht(r.toString()),Ht("Using maximum backoff delay to prevent overloading the backend."),o.t_.Wo()):r&&r.code===ce.UNAUTHENTICATED&&3!==o.state&&(o.authCredentialsProvider.invalidateToken(),o.appCheckCredentialsProvider.invalidateToken()),null!==o.stream&&(o.l_(),o.stream.close(),o.stream=null),o.state=e,yield o.listener.mo(r)})()}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),r=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([o,c])=>{this.Yo===r&&this.P_(o,c)},o=>{e(()=>{const c=new Pe(ce.UNKNOWN,"Fetching auth token failed: "+o.message);return this.I_(c)})})}P_(e,r){const o=this.h_(this.Yo);this.stream=this.T_(e,r),this.stream.Eo(()=>{o(()=>this.listener.Eo())}),this.stream.Ro(()=>{o(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(c=>{o(()=>this.I_(c))}),this.stream.onMessage(c=>{o(()=>1==++this.e_?this.E_(c):this.onNext(c))})}i_(){var e=this;this.state=5,this.t_.Go((0,ae.A)(function*(){e.state=0,e.start()}))}I_(e){return ht("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return r=>{this.ui.enqueueAndForget(()=>this.Yo===e?r():(ht("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Yc extends Bs{constructor(e,r,o,c,d,g){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,o,c,g),this.serializer=d}T_(e,r){return this.connection.Bo("Listen",e,r)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const r=function Mu(a,e){let r;if("targetChange"in e){const o="NO_CHANGE"===(U=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===U?1:"REMOVE"===U?2:"CURRENT"===U?3:"RESET"===U?4:Ot(),c=e.targetChange.targetIds||[],d=function(U,X){return U.useProto3Json?(gt(void 0===X||"string"==typeof X),qr.fromBase64String(X||"")):(gt(void 0===X||X instanceof Buffer||X instanceof Uint8Array),qr.fromUint8Array(X||new Uint8Array))}(a,e.targetChange.resumeToken),g=e.targetChange.cause,C=g&&function(U){const X=void 0===U.code?ce.UNKNOWN:Vo(U.code);return new Pe(X,U.message||"")}(g);r=new cl(o,c,d,C||null)}else if("documentChange"in e){const o=e.documentChange,c=Ar(a,o.document.name),d=Mi(o.document.updateTime),g=o.document.createTime?Mi(o.document.createTime):Ce.min(),C=new Wr({mapValue:{fields:o.document.fields}}),O=Gr.newFoundDocument(c,d,g,C);r=new Yn(o.targetIds||[],o.removedTargetIds||[],O.key,O)}else if("documentDelete"in e){const o=e.documentDelete,c=Ar(a,o.document),d=o.readTime?Mi(o.readTime):Ce.min(),g=Gr.newNoDocument(c,d);r=new Yn([],o.removedTargetIds||[],g.key,g)}else if("documentRemove"in e){const o=e.documentRemove,c=Ar(a,o.document);r=new Yn([],o.removedTargetIds||[],c,null)}else{if(!("filter"in e))return Ot();{const o=e.filter,{count:c=0,unchangedNames:d}=o,g=new vu(c,d);r=new hs(o.targetId,g)}}var U;return r}(this.serializer,e),o=function(d){if(!("targetChange"in d))return Ce.min();const g=d.targetChange;return g.targetIds&&g.targetIds.length?Ce.min():g.readTime?Mi(g.readTime):Ce.min()}(e);return this.listener.d_(r,o)}A_(e){const r={};r.database=zl(this.serializer),r.addTarget=function(d,g){let C;const O=g.target;if(C=Pi(O)?{documents:k(d,O)}:{query:D(d,O)._t},C.targetId=g.targetId,g.resumeToken.approximateByteSize()>0){C.resumeToken=$t(d,g.resumeToken);const U=jl(d,g.expectedCount);null!==U&&(C.expectedCount=U)}else if(g.snapshotVersion.compareTo(Ce.min())>0){C.readTime=zc(d,g.snapshotVersion.toTimestamp());const U=jl(d,g.expectedCount);null!==U&&(C.expectedCount=U)}return C}(this.serializer,e);const o=function Te(a,e){const r=function(c){switch(c){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ot()}}(e.purpose);return null==r?null:{"goog-listen-tags":r}}(0,e);o&&(r.labels=o),this.a_(r)}R_(e){const r={};r.database=zl(this.serializer),r.removeTarget=e,this.a_(r)}}class Qi extends Bs{constructor(e,r,o,c,d,g){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,o,c,g),this.serializer=d}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,r){return this.connection.Bo("Write",e,r)}E_(e){return gt(!!e.streamToken),this.lastStreamToken=e.streamToken,gt(!e.writeResults||0===e.writeResults.length),this.listener.f_()}onNext(e){gt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const r=function S(a,e){return a&&a.length>0?(gt(void 0!==e),a.map(r=>function(c,d){let g=Mi(c.updateTime?c.updateTime:d);return g.isEqual(Ce.min())&&(g=Mi(d)),new Vn(g,c.transformResults||[])}(r,e))):[]}(e.writeResults,e.commitTime),o=Mi(e.commitTime);return this.listener.g_(o,r)}p_(){const e={};e.database=zl(this.serializer),this.a_(e)}m_(e){const r={streamToken:this.lastStreamToken,writes:e.map(o=>function ps(a,e){let r;if(e instanceof bi)r={update:bu(a,e.key,e.value)};else if(e instanceof qo)r={delete:Ys(a,e.key)};else if(e instanceof so)r={update:bu(a,e.key,e.data),updateMask:Ua(e.fieldMask)};else{if(!(e instanceof fo))return Ot();r={verify:Ys(a,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map(o=>function(d,g){const C=g.transform;if(C instanceof da)return{fieldPath:g.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(C instanceof Ls)return{fieldPath:g.field.canonicalString(),appendMissingElements:{values:C.elements}};if(C instanceof A)return{fieldPath:g.field.canonicalString(),removeAllFromArray:{values:C.elements}};if(C instanceof F)return{fieldPath:g.field.canonicalString(),increment:C.Pe};throw Ot()}(0,o))),e.precondition.isNone||(r.currentDocument=void 0!==(d=e.precondition).updateTime?{updateTime:Kr(a,d.updateTime)}:void 0!==d.exists?{exists:d.exists}:Ot()),r;var d}(this.serializer,o))};this.a_(r)}}class k1 extends class{}{constructor(e,r,o,c){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=o,this.serializer=c,this.y_=!1}w_(){if(this.y_)throw new Pe(ce.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,r,o,c){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,g])=>this.connection.Mo(e,zi(r,o),c,d,g)).catch(d=>{throw"FirebaseError"===d.name?(d.code===ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new Pe(ce.UNKNOWN,d.toString())})}Lo(e,r,o,c,d){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([g,C])=>this.connection.Lo(e,zi(r,o),c,g,C,d)).catch(g=>{throw"FirebaseError"===g.name?(g.code===ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),g):new Pe(ce.UNKNOWN,g.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class Fp{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){0===this.S_&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){"Online"===this.state?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,"Online"===e&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const r=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Ht(r),this.D_=!1):ht("OnlineStateTracker",r)}x_(){null!==this.b_&&(this.b_.cancel(),this.b_=null)}}class cs{constructor(e,r,o,c,d){var g=this;this.localStore=e,this.datastore=r,this.asyncQueue=o,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=d,this.k_._o(C=>{o.enqueueAndForget((0,ae.A)(function*(){var O;Ya(g)&&(ht("RemoteStore","Restarting streams for network reachability change."),yield(O=(0,ae.A)(function*(X){const pe=ge(X);pe.L_.add(4),yield Va(pe),pe.q_.set("Unknown"),pe.L_.delete(4),yield Ds(pe)}),function U(X){return O.apply(this,arguments)})(g))}))}),this.q_=new Fp(o,c)}}function Ds(a){return Jo.apply(this,arguments)}function Jo(){return(Jo=(0,ae.A)(function*(a){if(Ya(a))for(const e of a.B_)yield e(!0)})).apply(this,arguments)}function Va(a){return yl.apply(this,arguments)}function yl(){return(yl=(0,ae.A)(function*(a){for(const e of a.B_)yield e(!1)})).apply(this,arguments)}function yd(a,e){const r=ge(a);r.N_.has(e.targetId)||(r.N_.set(e.targetId,e),zu(r)?ju(r):Ic(r).r_()&&uh(r,e))}function Xa(a,e){const r=ge(a),o=Ic(r);r.N_.delete(e),o.r_()&&b1(r,e),0===r.N_.size&&(o.r_()?o.o_():Ya(r)&&r.q_.set("Unknown"))}function uh(a,e){if(a.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ce.min())>0){const r=a.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}Ic(a).A_(e)}function b1(a,e){a.Q_.xe(e),Ic(a).R_(e)}function ju(a){a.Q_=new Bl({getRemoteKeysForTarget:e=>a.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>a.N_.get(e)||null,tt:()=>a.datastore.serializer.databaseId}),Ic(a).start(),a.q_.v_()}function zu(a){return Ya(a)&&!Ic(a).n_()&&a.N_.size>0}function Ya(a){return 0===ge(a).L_.size}function Bp(a){a.Q_=void 0}function e2(a){return M1.apply(this,arguments)}function M1(){return(M1=(0,ae.A)(function*(a){a.q_.set("Online")})).apply(this,arguments)}function jp(a){return gd.apply(this,arguments)}function gd(){return(gd=(0,ae.A)(function*(a){a.N_.forEach((e,r)=>{uh(a,e)})})).apply(this,arguments)}function t2(a,e){return w1.apply(this,arguments)}function w1(){return(w1=(0,ae.A)(function*(a,e){Bp(a),zu(a)?(a.q_.M_(e),ju(a)):a.q_.set("Unknown")})).apply(this,arguments)}function n2(a,e,r){return dh.apply(this,arguments)}function dh(){return dh=(0,ae.A)(function*(a,e,r){if(a.q_.set("Online"),e instanceof cl&&2===e.state&&e.cause)try{yield(o=(0,ae.A)(function*(d,g){const C=g.cause;for(const O of g.targetIds)d.N_.has(O)&&(yield d.remoteSyncer.rejectListen(O,C),d.N_.delete(O),d.Q_.removeTarget(O))}),function c(d,g){return o.apply(this,arguments)})(a,e)}catch(o){ht("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),o),yield hh(a,o)}else if(e instanceof Yn?a.Q_.Ke(e):e instanceof hs?a.Q_.He(e):a.Q_.We(e),!r.isEqual(Ce.min()))try{const o=yield p(a.localStore);r.compareTo(o)>=0&&(yield function(d,g){const C=d.Q_.rt(g);return C.targetChanges.forEach((O,U)=>{if(O.resumeToken.approximateByteSize()>0){const X=d.N_.get(U);X&&d.N_.set(U,X.withResumeToken(O.resumeToken,g))}}),C.targetMismatches.forEach((O,U)=>{const X=d.N_.get(O);if(!X)return;d.N_.set(O,X.withResumeToken(qr.EMPTY_BYTE_STRING,X.snapshotVersion)),b1(d,O);const pe=new Ti(X.target,O,U,X.sequenceNumber);uh(d,pe)}),d.remoteSyncer.applyRemoteEvent(C)}(a,r))}catch(o){ht("RemoteStore","Failed to raise snapshot:",o),yield hh(a,o)}var o}),dh.apply(this,arguments)}function hh(a,e,r){return E1.apply(this,arguments)}function E1(){return(E1=(0,ae.A)(function*(a,e,r){if(!R(e))throw e;a.L_.add(1),yield Va(a),a.q_.set("Offline"),r||(r=()=>p(a.localStore)),a.asyncQueue.enqueueRetryable((0,ae.A)(function*(){ht("RemoteStore","Retrying IndexedDB access"),yield r(),a.L_.delete(1),yield Ds(a)}))})).apply(this,arguments)}function js(a,e){return e().catch(r=>hh(a,r,e))}function gl(a){return ph.apply(this,arguments)}function ph(){return(ph=(0,ae.A)(function*(a){const e=ge(a),r=_l(e);let o=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;x1(e);)try{const c=yield L(e.localStore,o);if(null===c){0===e.O_.length&&r.o_();break}o=c.batchId,Ss(e,c)}catch(c){yield hh(e,c)}Hu(e)&&C1(e)})).apply(this,arguments)}function x1(a){return Ya(a)&&a.O_.length<10}function Ss(a,e){a.O_.push(e);const r=_l(a);r.r_()&&r.V_&&r.m_(e.mutations)}function Hu(a){return Ya(a)&&!_l(a).n_()&&a.O_.length>0}function C1(a){_l(a).start()}function zp(a){return A1.apply(this,arguments)}function A1(){return(A1=(0,ae.A)(function*(a){_l(a).p_()})).apply(this,arguments)}function Hp(a){return I1.apply(this,arguments)}function I1(){return(I1=(0,ae.A)(function*(a){const e=_l(a);for(const r of a.O_)e.m_(r.mutations)})).apply(this,arguments)}function Up(a,e,r){return T1.apply(this,arguments)}function T1(){return(T1=(0,ae.A)(function*(a,e,r){const o=a.O_.shift(),c=gc.from(o,e,r);yield js(a,()=>a.remoteSyncer.applySuccessfulWrite(c)),yield gl(a)})).apply(this,arguments)}function qp(a,e){return D1.apply(this,arguments)}function D1(){return D1=(0,ae.A)(function*(a,e){var r;e&&_l(a).V_&&(yield(r=(0,ae.A)(function*(c,d){if(function yo(a){switch(a){default:return Ot();case ce.CANCELLED:case ce.UNKNOWN:case ce.DEADLINE_EXCEEDED:case ce.RESOURCE_EXHAUSTED:case ce.INTERNAL:case ce.UNAVAILABLE:case ce.UNAUTHENTICATED:return!1;case ce.INVALID_ARGUMENT:case ce.NOT_FOUND:case ce.ALREADY_EXISTS:case ce.PERMISSION_DENIED:case ce.FAILED_PRECONDITION:case ce.ABORTED:case ce.OUT_OF_RANGE:case ce.UNIMPLEMENTED:case ce.DATA_LOSS:return!0}}(C=d.code)&&C!==ce.ABORTED){const g=c.O_.shift();_l(c).s_(),yield js(c,()=>c.remoteSyncer.rejectFailedWrite(g.batchId,d)),yield gl(c)}var C}),function o(c,d){return r.apply(this,arguments)})(a,e)),Hu(a)&&C1(a)}),D1.apply(this,arguments)}function $p(a,e){return _d.apply(this,arguments)}function _d(){return(_d=(0,ae.A)(function*(a,e){const r=ge(a);r.asyncQueue.verifyOperationInProgress(),ht("RemoteStore","RemoteStore received new credentials");const o=Ya(r);r.L_.add(3),yield Va(r),o&&r.q_.set("Unknown"),yield r.remoteSyncer.handleCredentialChange(e),r.L_.delete(3),yield Ds(r)})).apply(this,arguments)}function vd(a,e){return S1.apply(this,arguments)}function S1(){return(S1=(0,ae.A)(function*(a,e){const r=ge(a);e?(r.L_.delete(2),yield Ds(r)):e||(r.L_.add(2),yield Va(r),r.q_.set("Unknown"))})).apply(this,arguments)}function Ic(a){return a.K_||(a.K_=function(r,o,c){const d=ge(r);return d.w_(),new Yc(o,d.connection,d.authCredentials,d.appCheckCredentials,d.serializer,c)}(a.datastore,a.asyncQueue,{Eo:e2.bind(null,a),Ro:jp.bind(null,a),mo:t2.bind(null,a),d_:n2.bind(null,a)}),a.B_.push(function(){var e=(0,ae.A)(function*(r){r?(a.K_.s_(),zu(a)?ju(a):a.q_.set("Unknown")):(yield a.K_.stop(),Bp(a))});return function(r){return e.apply(this,arguments)}}())),a.K_}function _l(a){return a.U_||(a.U_=function(r,o,c){const d=ge(r);return d.w_(),new Qi(o,d.connection,d.authCredentials,d.appCheckCredentials,d.serializer,c)}(a.datastore,a.asyncQueue,{Eo:()=>Promise.resolve(),Ro:zp.bind(null,a),mo:qp.bind(null,a),f_:Hp.bind(null,a),g_:Up.bind(null,a)}),a.B_.push(function(){var e=(0,ae.A)(function*(r){r?(a.U_.s_(),yield gl(a)):(yield a.U_.stop(),a.O_.length>0&&(ht("RemoteStore",`Stopping write stream with ${a.O_.length} pending writes`),a.O_=[]))});return function(r){return e.apply(this,arguments)}}())),a.U_}class R1{constructor(e,r,o,c,d){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=o,this.op=c,this.removalCallback=d,this.deferred=new Ct,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(g=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,r,o,c,d){const g=Date.now()+o,C=new R1(e,r,g,c,d);return C.start(o),C}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Pe(ce.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function w(a,e){if(Ht("AsyncQueue",`${e}: ${a}`),R(a))return new Pe(ce.UNAVAILABLE,`${e}: ${a}`);throw a}class h{constructor(e){this.comparator=e?(r,o)=>e(r,o)||At.comparator(r.key,o.key):(r,o)=>At.comparator(r.key,o.key),this.keyedMap=Vs(),this.sortedSet=new jr(this.comparator)}static emptySet(e){return new h(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((r,o)=>(e(r),!1))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof h)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),o=e.sortedSet.getIterator();for(;r.hasNext();){const c=r.getNext().key,d=o.getNext().key;if(!c.isEqual(d))return!1}return!0}toString(){const e=[];return this.forEach(r=>{e.push(r.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,r){const o=new h;return o.comparator=this.comparator,o.keyedMap=e,o.sortedSet=r,o}}class _{constructor(){this.W_=new jr(At.comparator)}track(e){const r=e.doc.key,o=this.W_.get(r);o?0!==e.type&&3===o.type?this.W_=this.W_.insert(r,e):3===e.type&&1!==o.type?this.W_=this.W_.insert(r,{type:o.type,doc:e.doc}):2===e.type&&2===o.type?this.W_=this.W_.insert(r,{type:2,doc:e.doc}):2===e.type&&0===o.type?this.W_=this.W_.insert(r,{type:0,doc:e.doc}):1===e.type&&0===o.type?this.W_=this.W_.remove(r):1===e.type&&2===o.type?this.W_=this.W_.insert(r,{type:1,doc:o.doc}):0===e.type&&1===o.type?this.W_=this.W_.insert(r,{type:2,doc:e.doc}):Ot():this.W_=this.W_.insert(r,e)}G_(){const e=[];return this.W_.inorderTraversal((r,o)=>{e.push(o)}),e}}class I{constructor(e,r,o,c,d,g,C,O,U){this.query=e,this.docs=r,this.oldDocs=o,this.docChanges=c,this.mutatedKeys=d,this.fromCache=g,this.syncStateChanged=C,this.excludesMetadataChanges=O,this.hasCachedResults=U}static fromInitialDocuments(e,r,o,c,d){const g=[];return r.forEach(C=>{g.push({type:0,doc:C})}),new I(e,r,h.emptySet(r),g,o,c,!0,!1,d)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&hi(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,o=e.docChanges;if(r.length!==o.length)return!1;for(let c=0;c<r.length;c++)if(r[c].type!==o[c].type||!r[c].doc.isEqual(o[c].doc))return!1;return!0}}class Q{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class le{constructor(){this.queries=Ye(),this.onlineState="Unknown",this.Y_=new Set}terminate(){!function(r,o){const c=ge(r),d=c.queries;c.queries=Ye(),d.forEach((g,C)=>{for(const O of C.j_)O.onError(o)})}(this,new Pe(ce.ABORTED,"Firestore shutting down"))}}function Ye(){return new No(a=>Es(a),hi)}function vt(a,e){return Kt.apply(this,arguments)}function Kt(){return(Kt=(0,ae.A)(function*(a,e){const r=ge(a);let o=3;const c=e.query;let d=r.queries.get(c);d?!d.H_()&&e.J_()&&(o=2):(d=new Q,o=e.J_()?0:1);try{switch(o){case 0:d.z_=yield r.onListen(c,!0);break;case 1:d.z_=yield r.onListen(c,!1);break;case 2:yield r.onFirstRemoteStoreListen(c)}}catch(g){const C=w(g,`Initialization of query '${ji(e.query)}' failed`);return void e.onError(C)}r.queries.set(c,d),d.j_.push(e),e.Z_(r.onlineState),d.z_&&e.X_(d.z_)&&va(r)})).apply(this,arguments)}function Fn(a,e){return dr.apply(this,arguments)}function dr(){return(dr=(0,ae.A)(function*(a,e){const r=ge(a),o=e.query;let c=3;const d=r.queries.get(o);if(d){const g=d.j_.indexOf(e);g>=0&&(d.j_.splice(g,1),0===d.j_.length?c=e.J_()?0:1:!d.H_()&&e.J_()&&(c=2))}switch(c){case 0:return r.queries.delete(o),r.onUnlisten(o,!0);case 1:return r.queries.delete(o),r.onUnlisten(o,!1);case 2:return r.onLastRemoteStoreUnlisten(o);default:return}})).apply(this,arguments)}function gr(a,e){const r=ge(a);let o=!1;for(const c of e){const g=r.queries.get(c.query);if(g){for(const C of g.j_)C.X_(c)&&(o=!0);g.z_=c}}o&&va(r)}function Di(a,e,r){const o=ge(a),c=o.queries.get(e);if(c)for(const d of c.j_)d.onError(r);o.queries.delete(e)}function va(a){a.Y_.forEach(e=>{e.next()})}var Tc,Ja;(Ja=Tc||(Tc={})).ea="default",Ja.Cache="cache";class vl{constructor(e,r,o){this.query=e,this.ta=r,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=o||{}}X_(e){if(!this.options.includeMetadataChanges){const o=[];for(const c of e.docChanges)3!==c.type&&o.push(c);e=new I(e.query,e.docs,e.oldDocs,o,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.na?this.ia(e)&&(this.ta.next(e),r=!0):this.sa(e,this.onlineState)&&(this.oa(e),r=!0),this.ra=e,r}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let r=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),r=!0),r}sa(e,r){return!e.fromCache||!this.J_()||(!this.options._a||!("Offline"!==r))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===r)}ia(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}oa(e){e=I.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Tc.Cache}}class bd{constructor(e){this.key=e}}class ec{constructor(e){this.key=e}}class Md{constructor(e,r){this.query=e,this.Ta=r,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=vr(),this.mutatedKeys=vr(),this.Aa=la(e),this.Ra=new h(this.Aa)}get Va(){return this.Ta}ma(e,r){const o=r?r.fa:new _,c=r?r.Ra:this.Ra;let d=r?r.mutatedKeys:this.mutatedKeys,g=c,C=!1;const O="F"===this.query.limitType&&c.size===this.query.limit?c.last():null,U="L"===this.query.limitType&&c.size===this.query.limit?c.first():null;if(e.inorderTraversal((X,pe)=>{const Ue=c.get(X),yt=Gs(this.query,pe)?pe:null,Ut=!!Ue&&this.mutatedKeys.has(Ue.key),cn=!!yt&&(yt.hasLocalMutations||this.mutatedKeys.has(yt.key)&&yt.hasCommittedMutations);let tn=!1;Ue&&yt?Ue.data.isEqual(yt.data)?Ut!==cn&&(o.track({type:3,doc:yt}),tn=!0):this.ga(Ue,yt)||(o.track({type:2,doc:yt}),tn=!0,(O&&this.Aa(yt,O)>0||U&&this.Aa(yt,U)<0)&&(C=!0)):!Ue&&yt?(o.track({type:0,doc:yt}),tn=!0):Ue&&!yt&&(o.track({type:1,doc:Ue}),tn=!0,(O||U)&&(C=!0)),tn&&(yt?(g=g.add(yt),d=cn?d.add(X):d.delete(X)):(g=g.delete(X),d=d.delete(X)))}),null!==this.query.limit)for(;g.size>this.query.limit;){const X="F"===this.query.limitType?g.last():g.first();g=g.delete(X.key),d=d.delete(X.key),o.track({type:1,doc:X})}return{Ra:g,fa:o,ns:C,mutatedKeys:d}}ga(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,o,c){const d=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const g=e.fa.G_();g.sort((X,pe)=>function(yt,Ut){const cn=tn=>{switch(tn){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ot()}};return cn(yt)-cn(Ut)}(X.type,pe.type)||this.Aa(X.doc,pe.doc)),this.pa(o),c=null!=c&&c;const C=r&&!c?this.ya():[],O=0===this.da.size&&this.current&&!c?1:0,U=O!==this.Ea;return this.Ea=O,0!==g.length||U?{snapshot:new I(this.query,e.Ra,d,g,e.mutatedKeys,0===O,U,!1,!!o&&o.resumeToken.approximateByteSize()>0),wa:C}:{wa:C}}Z_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new _,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(r=>this.Ta=this.Ta.add(r)),e.modifiedDocuments.forEach(r=>{}),e.removedDocuments.forEach(r=>this.Ta=this.Ta.delete(r)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=vr(),this.Ra.forEach(o=>{this.Sa(o.key)&&(this.da=this.da.add(o.key))});const r=[];return e.forEach(o=>{this.da.has(o)||r.push(new ec(o))}),this.da.forEach(o=>{e.has(o)||r.push(new bd(o))}),r}ba(e){this.Ta=e.Ts,this.da=vr();const r=this.ma(e.documents);return this.applyChanges(r,!0)}Da(){return I.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,0===this.Ea,this.hasCachedResults)}}class P1{constructor(e,r,o){this.query=e,this.targetId=r,this.view=o}}class yh{constructor(e){this.key=e,this.va=!1}}class r2{constructor(e,r,o,c,d,g){this.localStore=e,this.remoteStore=r,this.eventManager=o,this.sharedClientState=c,this.currentUser=d,this.maxConcurrentLimboResolutions=g,this.Ca={},this.Fa=new No(C=>Es(C),hi),this.Ma=new Map,this.xa=new Set,this.Oa=new jr(At.comparator),this.Na=new Map,this.La=new Xc,this.Ba={},this.ka=new Map,this.qa=Na.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return!0===this.Qa}}function O1(a,e){return Wp.apply(this,arguments)}function Wp(){return(Wp=(0,ae.A)(function*(a,e,r=!0){const o=j1(a);let c;const d=o.Fa.get(e);return d?(o.sharedClientState.addLocalQueryTarget(d.targetId),c=d.view.Da()):c=yield Gp(o,e,r,!0),c})).apply(this,arguments)}function o2(a,e){return N1.apply(this,arguments)}function N1(){return(N1=(0,ae.A)(function*(a,e){const r=j1(a);yield Gp(r,e,!0,!1)})).apply(this,arguments)}function Gp(a,e,r,o){return gh.apply(this,arguments)}function gh(){return(gh=(0,ae.A)(function*(a,e,r,o){const c=yield function W(a,e){const r=ge(a);return r.persistence.runTransaction("Allocate target","readwrite",o=>{let c;return r.Ur.getTargetData(o,e).next(d=>d?(c=d,Oe.resolve(c)):r.Ur.allocateTargetId(o).next(g=>(c=new Ti(e,g,"TargetPurposeListen",o.currentSequenceNumber),r.Ur.addTargetData(o,c).next(()=>c))))}).then(o=>{const c=r.os.get(o.targetId);return(null===c||o.snapshotVersion.compareTo(c.snapshotVersion)>0)&&(r.os=r.os.insert(o.targetId,o),r._s.set(e,o.targetId)),o})}(a.localStore,Oi(e)),d=c.targetId,g=a.sharedClientState.addLocalQueryTarget(d,r);let C;return o&&(C=yield function V1(a,e,r,o,c){return wd.apply(this,arguments)}(a,e,d,"current"===g,c.resumeToken)),a.isPrimaryClient&&r&&yd(a.remoteStore,c),C})).apply(this,arguments)}function wd(){return wd=(0,ae.A)(function*(a,e,r,o,c){a.Ka=(pe,Ue,yt)=>{return(Ut=(0,ae.A)(function*(tn,Wn,tr,Gn){let kr=Wn.view.ma(tr);kr.ns&&(kr=yield He(tn.localStore,Wn.query,!1).then(({documents:Fe})=>Wn.view.ma(Fe,kr)));const fi=Gn&&Gn.targetChanges.get(Wn.targetId),Xr=Gn&&null!=Gn.targetMismatches.get(Wn.targetId),nt=Wn.view.applyChanges(kr,tn.isPrimaryClient,fi,Xr);return bh(tn,Wn.targetId,nt.wa),nt.snapshot}),function cn(tn,Wn,tr,Gn){return Ut.apply(this,arguments)})(a,pe,Ue,yt);var Ut};const d=yield He(a.localStore,e,!0),g=new Md(e,d.Ts),C=g.ma(d.documents),O=vc.createSynthesizedTargetChangeForCurrentChange(r,o&&"Offline"!==a.onlineState,c),U=g.applyChanges(C,a.isPrimaryClient,O);bh(a,r,U.wa);const X=new P1(e,r,g);return a.Fa.set(e,X),a.Ma.has(r)?a.Ma.get(r).push(e):a.Ma.set(r,[e]),U.snapshot}),wd.apply(this,arguments)}function _h(a,e,r){return L1.apply(this,arguments)}function L1(){return(L1=(0,ae.A)(function*(a,e,r){const o=ge(a),c=o.Fa.get(e),d=o.Ma.get(c.targetId);if(d.length>1)return o.Ma.set(c.targetId,d.filter(g=>!hi(g,e))),void o.Fa.delete(e);o.isPrimaryClient?(o.sharedClientState.removeLocalQueryTarget(c.targetId),o.sharedClientState.isActiveQueryTarget(c.targetId)||(yield de(o.localStore,c.targetId,!1).then(()=>{o.sharedClientState.clearQueryState(c.targetId),r&&Xa(o.remoteStore,c.targetId),kh(o,c.targetId)}).catch(_t))):(kh(o,c.targetId),yield de(o.localStore,c.targetId,!0))})).apply(this,arguments)}function Kp(a,e){return Ed.apply(this,arguments)}function Ed(){return(Ed=(0,ae.A)(function*(a,e){const r=ge(a),o=r.Fa.get(e),c=r.Ma.get(o.targetId);r.isPrimaryClient&&1===c.length&&(r.sharedClientState.removeLocalQueryTarget(o.targetId),Xa(r.remoteStore,o.targetId))})).apply(this,arguments)}function vh(){return(vh=(0,ae.A)(function*(a,e,r){const o=function lf(a){const e=ge(a);return e.remoteStore.remoteSyncer.applySuccessfulWrite=ty.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=a2.bind(null,e),e}(a);try{const c=yield function(g,C){const O=ge(g),U=xe.now(),X=C.reduce((yt,Ut)=>yt.add(Ut.key),vr());let pe,Ue;return O.persistence.runTransaction("Locally write mutations","readwrite",yt=>{let Ut=oo(),cn=vr();return O.cs.getEntries(yt,X).next(tn=>{Ut=tn,Ut.forEach((Wn,tr)=>{tr.isValidDocument()||(cn=cn.add(Wn))})}).next(()=>O.localDocuments.getOverlayedDocuments(yt,Ut)).next(tn=>{pe=tn;const Wn=[];for(const tr of C){const Gn=Wi(tr,pe.get(tr.key).overlayedDocument);null!=Gn&&Wn.push(new so(tr.key,Gn,Uo(Gn.value.mapValue),wn.exists(!0)))}return O.mutationQueue.addMutationBatch(yt,U,Wn,C)}).next(tn=>{Ue=tn;const Wn=tn.applyToLocalDocumentSet(pe,cn);return O.documentOverlayCache.saveOverlays(yt,tn.batchId,Wn)})}).then(()=>({batchId:Ue.batchId,changes:hc(pe)}))}(o.localStore,e);o.sharedClientState.addPendingMutation(c.batchId),function(g,C,O){let U=g.Ba[g.currentUser.toKey()];U||(U=new jr(yn)),U=U.insert(C,O),g.Ba[g.currentUser.toKey()]=U}(o,c.batchId,r),yield tc(o,c.changes),yield gl(o.remoteStore)}catch(c){const d=w(c,"Failed to persist write");r.reject(d)}})).apply(this,arguments)}function xd(a,e){return Qp.apply(this,arguments)}function Qp(){return(Qp=(0,ae.A)(function*(a,e){const r=ge(a);try{const o=yield function m(a,e){const r=ge(a),o=e.snapshotVersion;let c=r.os;return r.persistence.runTransaction("Apply remote event","readwrite-primary",d=>{const g=r.cs.newChangeBuffer({trackRemovals:!0});c=r.os;const C=[];e.targetChanges.forEach((X,pe)=>{const Ue=c.get(pe);if(!Ue)return;C.push(r.Ur.removeMatchingKeys(d,X.removedDocuments,pe).next(()=>r.Ur.addMatchingKeys(d,X.addedDocuments,pe)));let yt=Ue.withSequenceNumber(d.currentSequenceNumber);var cn,tn,Wn;null!==e.targetMismatches.get(pe)?yt=yt.withResumeToken(qr.EMPTY_BYTE_STRING,Ce.min()).withLastLimboFreeSnapshotVersion(Ce.min()):X.resumeToken.approximateByteSize()>0&&(yt=yt.withResumeToken(X.resumeToken,o)),c=c.insert(pe,yt),tn=yt,Wn=X,(0===(cn=Ue).resumeToken.approximateByteSize()||tn.snapshotVersion.toMicroseconds()-cn.snapshotVersion.toMicroseconds()>=3e8||Wn.addedDocuments.size+Wn.modifiedDocuments.size+Wn.removedDocuments.size>0)&&C.push(r.Ur.updateTargetData(d,yt))});let O=oo(),U=vr();if(e.documentUpdates.forEach(X=>{e.resolvedLimboDocuments.has(X)&&C.push(r.persistence.referenceDelegate.updateLimboDocument(d,X))}),C.push(function M(a,e,r){let o=vr(),c=vr();return r.forEach(d=>o=o.add(d)),e.getEntries(a,o).next(d=>{let g=oo();return r.forEach((C,O)=>{const U=d.get(C);O.isFoundDocument()!==U.isFoundDocument()&&(c=c.add(C)),O.isNoDocument()&&O.version.isEqual(Ce.min())?(e.removeEntry(C,O.readTime),g=g.insert(C,O)):!U.isValidDocument()||O.version.compareTo(U.version)>0||0===O.version.compareTo(U.version)&&U.hasPendingWrites?(e.addEntry(O),g=g.insert(C,O)):ht("LocalStore","Ignoring outdated watch update for ",C,". Current version:",U.version," Watch version:",O.version)}),{Ps:g,Is:c}})}(d,g,e.documentUpdates).next(X=>{O=X.Ps,U=X.Is})),!o.isEqual(Ce.min())){const X=r.Ur.getLastRemoteSnapshotVersion(d).next(pe=>r.Ur.setTargetsMetadata(d,d.currentSequenceNumber,o));C.push(X)}return Oe.waitFor(C).next(()=>g.apply(d)).next(()=>r.localDocuments.getLocalViewOfDocuments(d,O,U)).next(()=>O)}).then(d=>(r.os=c,d))}(r.localStore,e);e.targetChanges.forEach((c,d)=>{const g=r.Na.get(d);g&&(gt(c.addedDocuments.size+c.modifiedDocuments.size+c.removedDocuments.size<=1),c.addedDocuments.size>0?g.va=!0:c.modifiedDocuments.size>0?gt(g.va):c.removedDocuments.size>0&&(gt(g.va),g.va=!1))}),yield tc(r,o,e)}catch(o){yield _t(o)}})).apply(this,arguments)}function Zp(a,e,r){const o=ge(a);if(o.isPrimaryClient&&0===r||!o.isPrimaryClient&&1===r){const c=[];o.Fa.forEach((d,g)=>{const C=g.view.Z_(e);C.snapshot&&c.push(C.snapshot)}),function(g,C){const O=ge(g);O.onlineState=C;let U=!1;O.queries.forEach((X,pe)=>{for(const Ue of pe.j_)Ue.Z_(C)&&(U=!0)}),U&&va(O)}(o.eventManager,e),c.length&&o.Ca.d_(c),o.onlineState=e,o.isPrimaryClient&&o.sharedClientState.setOnlineState(e)}}function ey(a,e,r){return Xp.apply(this,arguments)}function Xp(){return(Xp=(0,ae.A)(function*(a,e,r){const o=ge(a);o.sharedClientState.updateQueryState(e,"rejected",r);const c=o.Na.get(e),d=c&&c.key;if(d){let g=new jr(At.comparator);g=g.insert(d,Gr.newNoDocument(d,Ce.min()));const C=vr().add(d),O=new pa(Ce.min(),new Map,new jr(yn),g,C);yield xd(o,O),o.Oa=o.Oa.remove(d),o.Na.delete(e),tu(o)}else yield de(o.localStore,e,!1).then(()=>kh(o,e,r)).catch(_t)})).apply(this,arguments)}function ty(a,e){return F1.apply(this,arguments)}function F1(){return(F1=(0,ae.A)(function*(a,e){const r=ge(a),o=e.batch.batchId;try{const c=yield function b(a,e){const r=ge(a);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",o=>{const c=e.batch.keys(),d=r.cs.newChangeBuffer({trackRemovals:!0});return function(C,O,U,X){const pe=U.batch,Ue=pe.keys();let yt=Oe.resolve();return Ue.forEach(Ut=>{yt=yt.next(()=>X.getEntry(O,Ut)).next(cn=>{const tn=U.docVersions.get(Ut);gt(null!==tn),cn.version.compareTo(tn)<0&&(pe.applyToRemoteDocument(cn,U),cn.isValidDocument()&&(cn.setReadTime(U.commitVersion),X.addEntry(cn)))})}),yt.next(()=>C.mutationQueue.removeMutationBatch(O,pe))}(r,o,e,d).next(()=>d.apply(o)).next(()=>r.mutationQueue.performConsistencyCheck(o)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(o,c,e.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(o,function(C){let O=vr();for(let U=0;U<C.mutationResults.length;++U)C.mutationResults[U].transformResults.length>0&&(O=O.add(C.batch.mutations[U].key));return O}(e))).next(()=>r.localDocuments.getDocuments(o,c))})}(r.localStore,e);ef(r,o,null),Jp(r,o),r.sharedClientState.updateMutationState(o,"acknowledged"),yield tc(r,c)}catch(c){yield _t(c)}})).apply(this,arguments)}function a2(a,e,r){return Cd.apply(this,arguments)}function Cd(){return(Cd=(0,ae.A)(function*(a,e,r){const o=ge(a);try{const c=yield function(g,C){const O=ge(g);return O.persistence.runTransaction("Reject batch","readwrite-primary",U=>{let X;return O.mutationQueue.lookupMutationBatch(U,C).next(pe=>(gt(null!==pe),X=pe.keys(),O.mutationQueue.removeMutationBatch(U,pe))).next(()=>O.mutationQueue.performConsistencyCheck(U)).next(()=>O.documentOverlayCache.removeOverlaysForBatchId(U,X,C)).next(()=>O.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(U,X)).next(()=>O.localDocuments.getDocuments(U,X))})}(o.localStore,e);ef(o,e,r),Jp(o,e),o.sharedClientState.updateMutationState(e,"rejected",r),yield tc(o,c)}catch(c){yield _t(c)}})).apply(this,arguments)}function Jp(a,e){(a.ka.get(e)||[]).forEach(r=>{r.resolve()}),a.ka.delete(e)}function ef(a,e,r){const o=ge(a);let c=o.Ba[o.currentUser.toKey()];if(c){const d=c.get(e);d&&(r?d.reject(r):d.resolve(),c=c.remove(e)),o.Ba[o.currentUser.toKey()]=c}}function kh(a,e,r=null){a.sharedClientState.removeLocalQueryTarget(e);for(const o of a.Ma.get(e))a.Fa.delete(o),r&&a.Ca.$a(o,r);a.Ma.delete(e),a.isPrimaryClient&&a.La.gr(e).forEach(o=>{a.La.containsKey(o)||c2(a,o)})}function c2(a,e){a.xa.delete(e.path.canonicalString());const r=a.Oa.get(e);null!==r&&(Xa(a.remoteStore,r),a.Oa=a.Oa.remove(e),a.Na.delete(r),tu(a))}function bh(a,e,r){for(const o of r)o instanceof bd?(a.La.addReference(o.key,e),ny(a,o)):o instanceof ec?(ht("SyncEngine","Document no longer in limbo: "+o.key),a.La.removeReference(o.key,e),a.La.containsKey(o.key)||c2(a,o.key)):Ot()}function ny(a,e){const r=e.key,o=r.path.canonicalString();a.Oa.get(r)||a.xa.has(o)||(ht("SyncEngine","New document in limbo: "+r),a.xa.add(o),tu(a))}function tu(a){for(;a.xa.size>0&&a.Oa.size<a.maxConcurrentLimboResolutions;){const e=a.xa.values().next().value;a.xa.delete(e);const r=new At(Xe.fromString(e)),o=a.qa.next();a.Na.set(o,new yh(r)),a.Oa=a.Oa.insert(r,o),yd(a.remoteStore,new Ti(Oi(Os(r.path)),o,"TargetPurposeLimboResolution",ie.oe))}}function tc(a,e,r){return Mh.apply(this,arguments)}function Mh(){return Mh=(0,ae.A)(function*(a,e,r){const o=ge(a),c=[],d=[],g=[];var C;o.Fa.isEmpty()||(o.Fa.forEach((C,O)=>{g.push(o.Ka(O,e,r).then(U=>{var X;if((U||r)&&o.isPrimaryClient){const pe=U?!U.fromCache:null===(X=r?.targetChanges.get(O.targetId))||void 0===X?void 0:X.current;o.sharedClientState.updateQueryState(O.targetId,pe?"current":"not-current")}if(U){c.push(U);const pe=Cc.Wi(O.targetId,U);d.push(pe)}}))}),yield Promise.all(g),o.Ca.d_(c),yield(C=(0,ae.A)(function*(U,X){const pe=ge(U);try{yield pe.persistence.runTransaction("notifyLocalViewChanges","readwrite",Ue=>Oe.forEach(X,yt=>Oe.forEach(yt.$i,Ut=>pe.persistence.referenceDelegate.addReference(Ue,yt.targetId,Ut)).next(()=>Oe.forEach(yt.Ui,Ut=>pe.persistence.referenceDelegate.removeReference(Ue,yt.targetId,Ut)))))}catch(Ue){if(!R(Ue))throw Ue;ht("LocalStore","Failed to update sequence numbers: "+Ue)}for(const Ue of X){const yt=Ue.targetId;if(!Ue.fromCache){const Ut=pe.os.get(yt),tn=Ut.withLastLimboFreeSnapshotVersion(Ut.snapshotVersion);pe.os=pe.os.insert(yt,tn)}}}),function O(U,X){return C.apply(this,arguments)})(o.localStore,d))}),Mh.apply(this,arguments)}function l2(a,e){return B1.apply(this,arguments)}function B1(){return(B1=(0,ae.A)(function*(a,e){const r=ge(a);if(!r.currentUser.isEqual(e)){ht("SyncEngine","User change. New user:",e.toKey());const o=yield Zo(r.localStore,e);r.currentUser=e,(d=r).ka.forEach(C=>{C.forEach(O=>{O.reject(new Pe(ce.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),d.ka.clear(),r.sharedClientState.handleUserChange(e,o.removedBatchIds,o.addedBatchIds),yield tc(r,o.hs)}var d})).apply(this,arguments)}function u2(a,e){const r=ge(a),o=r.Na.get(e);if(o&&o.va)return vr().add(o.key);{let c=vr();const d=r.Ma.get(e);if(!d)return c;for(const g of d){const C=r.Fa.get(g);c=c.unionWith(C.view.Va)}return c}}function j1(a){const e=ge(a);return e.remoteStore.remoteSyncer.applyRemoteEvent=xd.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=u2.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=ey.bind(null,e),e.Ca.d_=gr.bind(null,e.eventManager),e.Ca.$a=Di.bind(null,e.eventManager),e}let Jc=(()=>{class a{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(r){var o=this;return(0,ae.A)(function*(){o.serializer=ao(r.databaseInfo.databaseId),o.sharedClientState=o.Wa(r),o.persistence=o.Ga(r),yield o.persistence.start(),o.localStore=o.za(r),o.gcScheduler=o.ja(r,o.localStore),o.indexBackfillerScheduler=o.Ha(r,o.localStore)})()}ja(r,o){return null}Ha(r,o){return null}za(r){return function md(a,e,r,o){return new _1(a,e,r,o)}(this.persistence,new fd,r.initialUser,this.serializer)}Ga(r){return new Is(Xl.Zr,this.serializer)}Wa(r){return new vo}terminate(){var r=this;return(0,ae.A)(function*(){var o,c;null===(o=r.gcScheduler)||void 0===o||o.stop(),null===(c=r.indexBackfillerScheduler)||void 0===c||c.stop(),r.sharedClientState.shutdown(),yield r.persistence.shutdown()})()}}return a.provider={build:()=>new a},a})(),Wu=(()=>{class a{initialize(r,o){var c=this;return(0,ae.A)(function*(){c.localStore||(c.localStore=r.localStore,c.sharedClientState=r.sharedClientState,c.datastore=c.createDatastore(o),c.remoteStore=c.createRemoteStore(o),c.eventManager=c.createEventManager(o),c.syncEngine=c.createSyncEngine(o,!r.synchronizeTabs),c.sharedClientState.onlineStateHandler=d=>Zp(c.syncEngine,d,1),c.remoteStore.remoteSyncer.handleCredentialChange=l2.bind(null,c.syncEngine),yield vd(c.remoteStore,c.syncEngine.isPrimaryClient))})()}createEventManager(r){return new le}createDatastore(r){const o=ao(r.databaseInfo.databaseId),c=new nr(r.databaseInfo);return new k1(r.authCredentials,r.appCheckCredentials,c,o)}createRemoteStore(r){return c=this.localStore,d=this.datastore,g=r.asyncQueue,C=o=>Zp(this.syncEngine,o,0),O=Fu.D()?new Fu:new _a,new cs(c,d,g,C,O);var c,d,g,C,O}createSyncEngine(r,o){return function(d,g,C,O,U,X,pe){const Ue=new r2(d,g,C,O,U,X);return pe&&(Ue.Qa=!0),Ue}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,r.initialUser,r.maxConcurrentLimboResolutions,o)}terminate(){var r=this;return(0,ae.A)(function*(){var o,c,d;yield(d=(0,ae.A)(function*(C){const O=ge(C);ht("RemoteStore","RemoteStore shutting down."),O.L_.add(5),yield Va(O),O.k_.shutdown(),O.q_.set("Unknown")}),function g(C){return d.apply(this,arguments)})(r.remoteStore),null===(o=r.datastore)||void 0===o||o.terminate(),null===(c=r.eventManager)||void 0===c||c.terminate()})()}}return a.provider={build:()=>new a},a})();class hf{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Ht("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,r){setTimeout(()=>{this.muted||e(r)},0)}}class ff{constructor(e,r,o,c,d){var g=this;this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=o,this.databaseInfo=c,this.user=Yt.UNAUTHENTICATED,this.clientId=mr.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=d,this.authCredentials.start(o,function(){var C=(0,ae.A)(function*(O){ht("FirestoreClient","Received user=",O.uid),yield g.authCredentialListener(O),g.user=O});return function(O){return C.apply(this,arguments)}}()),this.appCheckCredentials.start(o,C=>(ht("FirestoreClient","Received new app check token=",C),this.appCheckCredentialListener(C,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const r=new Ct;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,ae.A)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),r.resolve()}catch(o){const c=w(o,"Failed to shutdown persistence");r.reject(c)}})),r.promise}}function f2(a,e){return m2.apply(this,arguments)}function m2(){return m2=(0,ae.A)(function*(a,e){a.asyncQueue.verifyOperationInProgress(),ht("FirestoreClient","Initializing OfflineComponentProvider");const r=a.configuration;yield e.initialize(r);let o=r.initialUser;a.setCredentialChangeListener(function(){var c=(0,ae.A)(function*(d){o.isEqual(d)||(yield Zo(e.localStore,d),o=d)});return function(d){return c.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>a.terminate()),a._offlineComponents=e}),m2.apply(this,arguments)}function mf(a,e){return yf.apply(this,arguments)}function yf(){return(yf=(0,ae.A)(function*(a,e){a.asyncQueue.verifyOperationInProgress();const r=yield function gf(a){return _f.apply(this,arguments)}(a);ht("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(r,a.configuration),a.setCredentialChangeListener(o=>$p(e.remoteStore,o)),a.setAppCheckTokenChangeListener((o,c)=>$p(e.remoteStore,c)),a._onlineComponents=e})).apply(this,arguments)}function _f(){return(_f=(0,ae.A)(function*(a){if(!a._offlineComponents)if(a._uninitializedComponentsProvider){ht("FirestoreClient","Using user provided OfflineComponentProvider");try{yield f2(a,a._uninitializedComponentsProvider._offline)}catch(e){if(!("FirebaseError"===(c=e).name?c.code===ce.FAILED_PRECONDITION||c.code===ce.UNIMPLEMENTED:!(typeof DOMException<"u"&&c instanceof DOMException)||22===c.code||20===c.code||11===c.code))throw e;kn("Error using user provided cache. Falling back to memory cache: "+e),yield f2(a,new Jc)}}else ht("FirestoreClient","Using default OfflineComponentProvider"),yield f2(a,new Jc);var c;return a._offlineComponents})).apply(this,arguments)}function z1(a){return H1.apply(this,arguments)}function H1(){return(H1=(0,ae.A)(function*(a){return a._onlineComponents||(a._uninitializedComponentsProvider?(ht("FirestoreClient","Using user provided OnlineComponentProvider"),yield mf(a,a._uninitializedComponentsProvider._online)):(ht("FirestoreClient","Using default OnlineComponentProvider"),yield mf(a,new Wu))),a._onlineComponents})).apply(this,arguments)}function Ad(a){return kf.apply(this,arguments)}function kf(){return(kf=(0,ae.A)(function*(a){const e=yield z1(a),r=e.eventManager;return r.onListen=O1.bind(null,e.syncEngine),r.onUnlisten=_h.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=o2.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=Kp.bind(null,e.syncEngine),r})).apply(this,arguments)}function q1(a){const e={};return void 0!==a.timeoutSeconds&&(e.timeoutSeconds=a.timeoutSeconds),e}const $1=new Map;function Mf(a,e,r){if(!r)throw new Pe(ce.INVALID_ARGUMENT,`Function ${a}() cannot be called with an empty ${e}.`)}function wf(a){if(!At.isDocumentKey(a))throw new Pe(ce.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${a} has ${a.length}.`)}function Ch(a){if(At.isDocumentKey(a))throw new Pe(ce.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${a} has ${a.length}.`)}function Ef(a){if(void 0===a)return"undefined";if(null===a)return"null";if("string"==typeof a)return a.length>20&&(a=`${a.substring(0,20)}...`),JSON.stringify(a);if("number"==typeof a||"boolean"==typeof a)return""+a;if("object"==typeof a){if(a instanceof Array)return"an array";{const e=(o=a).constructor?o.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var o;return"function"==typeof a?"a function":Ot()}function Zr(a,e){if("_delegate"in a&&(a=a._delegate),!(a instanceof e)){if(e.name===a.constructor.name)throw new Pe(ce.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=Ef(a);throw new Pe(ce.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return a}class W1{constructor(e){var r,o;if(void 0===e.host){if(void 0!==e.ssl)throw new Pe(ce.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(r=e.ssl)||void 0===r||r;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Pe(ce.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function M2(a,e,r,o){if(!0===e&&!0===o)throw new Pe(ce.INVALID_ARGUMENT,`${a} and ${r} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=q1(null!==(o=e.experimentalLongPollingOptions)&&void 0!==o?o:{}),function(d){if(void 0!==d.timeoutSeconds){if(isNaN(d.timeoutSeconds))throw new Pe(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${d.timeoutSeconds} (must not be NaN)`);if(d.timeoutSeconds<5)throw new Pe(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${d.timeoutSeconds} (minimum allowed value is 5)`);if(d.timeoutSeconds>30)throw new Pe(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${d.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Id{constructor(e,r,o,c){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=o,this._app=c,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new W1({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Pe(ce.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Pe(ce.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new W1(e),void 0!==e.credentials&&(this._authCredentials=function(o){if(!o)return new It;switch(o.type){case"firstParty":return new Rn(o.sessionIndex||"0",o.iamToken||null,o.authTokenFactory||null);case"provider":return o.client;default:throw new Pe(ce.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){var e=this;return(0,ae.A)(function*(){"notTerminated"===e._terminateTask?yield e._terminate():e._terminateTask="notTerminated"})()}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const o=$1.get(r);o&&(ht("ComponentProvider","Removing Datastore"),$1.delete(r),o.terminate())}(this),Promise.resolve()}}class ko{constructor(e,r,o){this.converter=r,this._query=o,this.type="query",this.firestore=e}withConverter(e){return new ko(this.firestore,e,this._query)}}class Lo{constructor(e,r,o){this.converter=r,this._key=o,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new nc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Lo(this.firestore,e,this._key)}}class nc extends ko{constructor(e,r,o){super(e,r,Os(o)),this._path=o,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Lo(this.firestore,null,new At(e))}withConverter(e){return new nc(this.firestore,e,this._path)}}function G1(a,e,...r){if(a=(0,re.Ku)(a),Mf("collection","path",e),a instanceof Id){const o=Xe.fromString(e,...r);return Ch(o),new nc(a,null,o)}{if(!(a instanceof Lo||a instanceof nc))throw new Pe(ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=a._path.child(Xe.fromString(e,...r));return Ch(o),new nc(a.firestore,null,o)}}function K1(a,e,...r){if(a=(0,re.Ku)(a),1===arguments.length&&(e=mr.newId()),Mf("doc","path",e),a instanceof Id){const o=Xe.fromString(e,...r);return wf(o),new Lo(a,null,new At(o))}{if(!(a instanceof Lo||a instanceof nc))throw new Pe(ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=a._path.child(Xe.fromString(e,...r));return wf(o),new Lo(a.firestore,a instanceof nc?a.converter:null,new At(o))}}class Ku{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new Ts(this,"async_queue_retry"),this.Vu=()=>{const o=Yr();o&&ht("AsyncQueue","Visibility state changed to "+o.visibilityState),this.t_.jo()},this.mu=e;const r=Yr();r&&"function"==typeof r.addEventListener&&r.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const r=Yr();r&&"function"==typeof r.removeEventListener&&r.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const r=new Ct;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}pu(){var e=this;return(0,ae.A)(function*(){if(0!==e.Pu.length){try{yield e.Pu[0](),e.Pu.shift(),e.t_.reset()}catch(r){if(!R(r))throw r;ht("AsyncQueue","Operation failed with retryable error: "+r)}e.Pu.length>0&&e.t_.Go(()=>e.pu())}})()}gu(e){const r=this.mu.then(()=>(this.du=!0,e().catch(o=>{throw this.Eu=o,this.du=!1,Ht("INTERNAL UNHANDLED ERROR: ",function(g){let C=g.message||"";return g.stack&&(C=g.stack.includes(g.message)?g.stack:g.message+"\n"+g.stack),C}(o)),o}).then(o=>(this.du=!1,o))));return this.mu=r,r}enqueueAfterDelay(e,r,o){this.fu(),this.Ru.indexOf(e)>-1&&(r=0);const c=R1.createAndSchedule(this,e,r,o,d=>this.yu(d));return this.Tu.push(c),c}fu(){this.Eu&&Ot()}verifyOperationInProgress(){}wu(){var e=this;return(0,ae.A)(function*(){let r;do{r=e.mu,yield r}while(r!==e.mu)})()}Su(e){for(const r of this.Tu)if(r.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((r,o)=>r.targetTimeMs-o.targetTimeMs);for(const r of this.Tu)if(r.skipDelay(),"all"!==e&&r.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const r=this.Tu.indexOf(e);this.Tu.splice(r,1)}}function Ah(a){return function(r,o){if("object"!=typeof r||null===r)return!1;const c=r;for(const d of["next","error","complete"])if(d in c&&"function"==typeof c[d])return!0;return!1}(a)}class Si extends Id{constructor(e,r,o,c){super(e,r,o,c),this.type="firestore",this._queue=new Ku,this._persistenceKey=c?.name||"[DEFAULT]"}_terminate(){var e=this;return(0,ae.A)(function*(){if(e._firestoreClient){const r=e._firestoreClient.terminate();e._queue=new Ku(r),e._firestoreClient=void 0,yield r}})()}}function dy(a,e){const r="object"==typeof a?a:(0,Ve.Sx)(),o="string"==typeof a?a:e||"(default)",c=(0,Ve.j6)(r,"firestore").getImmediate({identifier:o});if(!c._initialized){const d=(0,re.yU)("firestore");d&&function E2(a,e,r,o={}){var c;const d=(a=Zr(a,Id))._getSettings(),g=`${e}:${r}`;if("firestore.googleapis.com"!==d.host&&d.host!==g&&kn("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),a._setSettings(Object.assign(Object.assign({},d),{host:g,ssl:!1})),o.mockUserToken){let C,O;if("string"==typeof o.mockUserToken)C=o.mockUserToken,O=Yt.MOCK_USER;else{C=(0,re.Fy)(o.mockUserToken,null===(c=a._app)||void 0===c?void 0:c.options.projectId);const U=o.mockUserToken.sub||o.mockUserToken.user_id;if(!U)throw new Pe(ce.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");O=new Yt(U)}a._authCredentials=new Mn(new pt(C,O))}}(c,...d)}return c}function bo(a){if(a._terminated)throw new Pe(ce.FAILED_PRECONDITION,"The client has already been terminated.");return a._firestoreClient||function x2(a){var e,r,o;const c=a._freezeSettings(),d=(O=(null===(e=a._app)||void 0===e?void 0:e.options.appId)||"",new es(a._databaseId,O,a._persistenceKey,(X=c).host,X.ssl,X.experimentalForceLongPolling,X.experimentalAutoDetectLongPolling,q1(X.experimentalLongPollingOptions),X.useFetchStreams));var O,X;a._componentsProvider||!(null===(r=c.localCache)||void 0===r)&&r._offlineComponentProvider&&!(null===(o=c.localCache)||void 0===o)&&o._onlineComponentProvider&&(a._componentsProvider={_offline:c.localCache._offlineComponentProvider,_online:c.localCache._onlineComponentProvider}),a._firestoreClient=new ff(a._authCredentials,a._appCheckCredentials,a._queue,d,a._componentsProvider&&function(C){const O=C?._online.build();return{_offline:C?._offline.build(O),_online:O}}(a._componentsProvider))}(a),a._firestoreClient}class Ml{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ml(qr.fromBase64String(e))}catch(r){throw new Pe(ce.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new Ml(qr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class wl{constructor(...e){for(let r=0;r<e.length;++r)if(0===e[r].length)throw new Pe(ce.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class El{constructor(e){this._methodName=e}}class Dh{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new Pe(ce.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new Pe(ce.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return yn(this._lat,e._lat)||yn(this._long,e._long)}}class ou{constructor(e){this._values=(e||[]).map(r=>r)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(o,c){if(o.length!==c.length)return!1;for(let d=0;d<o.length;++d)if(o[d]!==c[d])return!1;return!0}(this._values,e._values)}}const Q1=/^__.*__$/;class Td{constructor(e,r,o){this.data=e,this.fieldMask=r,this.fieldTransforms=o}toMutation(e,r){return null!==this.fieldMask?new so(e,this.data,this.fieldMask,r,this.fieldTransforms):new bi(e,this.data,r,this.fieldTransforms)}}class Z1{constructor(e,r,o){this.data=e,this.fieldMask=r,this.fieldTransforms=o}toMutation(e,r){return new so(e,this.data,this.fieldMask,r,this.fieldTransforms)}}function X1(a){switch(a){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ot()}}class Qu{constructor(e,r,o,c,d,g){this.settings=e,this.databaseId=r,this.serializer=o,this.ignoreUndefinedProperties=c,void 0===d&&this.vu(),this.fieldTransforms=d||[],this.fieldMask=g||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new Qu(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var r;const o=null===(r=this.path)||void 0===r?void 0:r.child(e),c=this.Fu({path:o,xu:!1});return c.Ou(e),c}Nu(e){var r;const o=null===(r=this.path)||void 0===r?void 0:r.child(e),c=this.Fu({path:o,xu:!1});return c.vu(),c}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return ep(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return void 0!==this.fieldMask.find(r=>e.isPrefixOf(r))||void 0!==this.fieldTransforms.find(r=>e.isPrefixOf(r.field))}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(0===e.length)throw this.Bu("Document fields must not be empty");if(X1(this.Cu)&&Q1.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class b_{constructor(e,r,o){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=o||ao(e)}Qu(e,r,o,c=!1){return new Qu({Cu:e,methodName:r,qu:o,path:Qt.emptyPath(),xu:!1,ku:c},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function xl(a){const e=a._freezeSettings(),r=ao(a._databaseId);return new b_(a._databaseId,!!e.ignoreUndefinedProperties,r)}function su(a,e,r,o,c,d={}){const g=a.Qu(d.merge||d.mergeFields?2:0,e,r,c);Pf("Data must be an object, but it was:",g,o);const C=Ph(o,g);let O,U;if(d.merge)O=new Xi(g.fieldMask),U=g.fieldTransforms;else if(d.mergeFields){const X=[];for(const pe of d.mergeFields){const Ue=Dd(e,pe,r);if(!g.contains(Ue))throw new Pe(ce.INVALID_ARGUMENT,`Field '${Ue}' is specified in your field mask but missing from your input data.`);Nf(X,Ue)||X.push(Ue)}O=new Xi(X),U=g.fieldTransforms.filter(pe=>O.covers(pe.field))}else O=null,U=g.fieldTransforms;return new Td(new Wr(C),O,U)}class Sh extends El{_toFieldTransform(e){if(2!==e.Cu)throw e.Bu(1===e.Cu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Sh}}class Tf extends El{_toFieldTransform(e){return new kt(e.path,new da)}isEqual(e){return e instanceof Tf}}function Zu(a,e){if(J1(a=(0,re.Ku)(a)))return Pf("Unsupported field value:",e,a),Ph(a,e);if(a instanceof El)return function(o,c){if(!X1(c.Cu))throw c.Bu(`${o._methodName}() can only be used with update() and set()`);if(!c.path)throw c.Bu(`${o._methodName}() is not currently supported inside arrays`);const d=o._toFieldTransform(c);d&&c.fieldTransforms.push(d)}(a,e),null;if(void 0===a&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),a instanceof Array){if(e.settings.xu&&4!==e.Cu)throw e.Bu("Nested arrays are not supported");return function(o,c){const d=[];let g=0;for(const C of o){let O=Zu(C,c.Lu(g));null==O&&(O={nullValue:"NULL_VALUE"}),d.push(O),g++}return{arrayValue:{values:d}}}(a,e)}return function(o,c){if(null===(o=(0,re.Ku)(o)))return{nullValue:"NULL_VALUE"};if("number"==typeof o)return Bc(c.serializer,o);if("boolean"==typeof o)return{booleanValue:o};if("string"==typeof o)return{stringValue:o};if(o instanceof Date){const d=xe.fromDate(o);return{timestampValue:zc(c.serializer,d)}}if(o instanceof xe){const d=new xe(o.seconds,1e3*Math.floor(o.nanoseconds/1e3));return{timestampValue:zc(c.serializer,d)}}if(o instanceof Dh)return{geoPointValue:{latitude:o.latitude,longitude:o.longitude}};if(o instanceof Ml)return{bytesValue:$t(c.serializer,o._byteString)};if(o instanceof Lo){const d=c.databaseId,g=o.firestore._databaseId;if(!g.isEqual(d))throw c.Bu(`Document reference is for database ${g.projectId}/${g.database} but should be for database ${d.projectId}/${d.database}`);return{referenceValue:ss(o.firestore._databaseId||c.databaseId,o._key.path)}}if(o instanceof ou)return C=c,{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(O=>{if("number"!=typeof O)throw C.Bu("VectorValues must only contain numeric values.");return mc(C.serializer,O)})}}}}};var C;throw c.Bu(`Unsupported field value: ${Ef(o)}`)}(a,e)}function Ph(a,e){const r={};return Us(a)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):lo(a,(o,c)=>{const d=Zu(c,e.Mu(o));null!=d&&(r[o]=d)}),{mapValue:{fields:r}}}function J1(a){return!("object"!=typeof a||null===a||a instanceof Array||a instanceof Date||a instanceof xe||a instanceof Dh||a instanceof Ml||a instanceof Lo||a instanceof El||a instanceof ou)}function Pf(a,e,r){if(!J1(r)||"object"!=typeof(c=r)||null===c||Object.getPrototypeOf(c)!==Object.prototype&&null!==Object.getPrototypeOf(c)){const o=Ef(r);throw e.Bu("an object"===o?a+" a custom object":a+" "+o)}var c}function Dd(a,e,r){if((e=(0,re.Ku)(e))instanceof wl)return e._internalPath;if("string"==typeof e)return Xu(a,e);throw ep("Field path arguments must be of type string or ",a,!1,void 0,r)}const Of=new RegExp("[~\\*/\\[\\]]");function Xu(a,e,r){if(e.search(Of)>=0)throw ep(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,a,!1,void 0,r);try{return new wl(...e.split("."))._internalPath}catch{throw ep(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,a,!1,void 0,r)}}function ep(a,e,r,o,c){const d=o&&!o.isEmpty(),g=void 0!==c;let C=`Function ${e}() called with invalid data`;r&&(C+=" (via `toFirestore()`)"),C+=". ";let O="";return(d||g)&&(O+=" (found",d&&(O+=` in field ${o}`),g&&(O+=` in document ${c}`),O+=")"),new Pe(ce.INVALID_ARGUMENT,C+a+O)}function Nf(a,e){return a.some(r=>r.isEqual(e))}class Oh{constructor(e,r,o,c,d){this._firestore=e,this._userDataWriter=r,this._key=o,this._document=c,this._converter=d}get id(){return this._key.path.lastSegment()}get ref(){return new Lo(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new I2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(Vf("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r)}}}class I2 extends Oh{data(){return super.data()}}function Vf(a,e){return"string"==typeof e?Xu(a,e):e instanceof wl?e._internalPath:e._delegate._internalPath}function T2(a){if("L"===a.limitType&&0===a.explicitOrderBy.length)throw new Pe(ce.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Yu{}class Nh extends Yu{}function Sd(a,e,...r){let o=[];e instanceof Yu&&o.push(e),o=o.concat(r),function(d){const g=d.filter(O=>O instanceof Ju).length,C=d.filter(O=>O instanceof Cl).length;if(g>1||g>0&&C>0)throw new Pe(ce.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(o);for(const c of o)a=c._apply(a);return a}class Cl extends Nh{constructor(e,r,o){super(),this._field=e,this._op=r,this._value=o,this.type="where"}static _create(e,r,o){return new Cl(e,r,o)}_apply(e){const r=this._parse(e);return vy(e._query,r),new ko(e.firestore,e.converter,us(e._query,r))}_parse(e){const r=xl(e.firestore);return function(d,g,C,O,U,X,pe){let Ue;if(U.isKeyField()){if("array-contains"===X||"array-contains-any"===X)throw new Pe(ce.INVALID_ARGUMENT,`Invalid Query. You can't perform '${X}' queries on documentId().`);if("in"===X||"not-in"===X){S2(pe,X);const yt=[];for(const Ut of pe)yt.push(D2(O,d,Ut));Ue={arrayValue:{values:yt}}}else Ue=D2(O,d,pe)}else"in"!==X&&"not-in"!==X&&"array-contains-any"!==X||S2(pe,X),Ue=function fy(a,e,r,o=!1){return Zu(r,a.Qu(o?4:3,e))}(C,"where",pe,"in"===X||"not-in"===X);return lr.create(U,X,Ue)}(e._query,0,r,e.firestore._databaseId,this._field,this._op,this._value)}}function my(a,e,r){const o=e,c=Vf("where",a);return Cl._create(c,o,r)}class Ju extends Yu{constructor(e,r){super(),this.type=e,this._queryConstraints=r}static _create(e,r){return new Ju(e,r)}_parse(e){const r=this._queryConstraints.map(o=>o._parse(e)).filter(o=>o.getFilters().length>0);return 1===r.length?r[0]:Dr.create(r,this._getOperator())}_apply(e){const r=this._parse(e);return 0===r.getFilters().length?e:(function(c,d){let g=c;const C=d.getFlattenedFilters();for(const O of C)vy(g,O),g=us(g,O)}(e._query,r),new ko(e.firestore,e.converter,us(e._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class Vh extends Nh{constructor(e,r,o){super(),this.type=e,this._limit=r,this._limitType=o}static _create(e,r,o){return new Vh(e,r,o)}_apply(e){return new ko(e.firestore,e.converter,Fa(e._query,this._limit,this._limitType))}}function Ff(a){return function w2(a,e){if(e<=0)throw new Pe(ce.INVALID_ARGUMENT,`Function ${a}() requires a positive number, but it was: ${e}.`)}("limit",a),Vh._create("limit",a,"F")}function D2(a,e,r){if("string"==typeof(r=(0,re.Ku)(r))){if(""===r)throw new Pe(ce.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!uc(e)&&-1!==r.indexOf("/"))throw new Pe(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const o=e.path.child(Xe.fromString(r));if(!At.isDocumentKey(o))throw new Pe(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${o}' is not because it has an odd number of segments (${o.length}).`);return $r(a,new At(o))}if(r instanceof Lo)return $r(a,r._key);throw new Pe(ce.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ef(r)}.`)}function S2(a,e){if(!Array.isArray(a)||0===a.length)throw new Pe(ce.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function vy(a,e){const r=function(c,d){for(const g of c)for(const C of g.getFlattenedFilters())if(d.indexOf(C.op)>=0)return C.op;return null}(a.filters,function(c){switch(c){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==r)throw new Pe(ce.INVALID_ARGUMENT,r===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${r.toString()}' filters.`)}class zf{convertValue(e,r="none"){switch(to(e)){case 0:return null;case 1:return e.booleanValue;case 2:return In(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(xr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 11:return this.convertObject(e.mapValue,r);case 10:return this.convertVectorValue(e.mapValue);default:throw Ot()}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const o={};return lo(e,(c,d)=>{o[c]=this.convertValue(d,r)}),o}convertVectorValue(e){var r,o,c;const d=null===(c=null===(o=null===(r=e.fields)||void 0===r?void 0:r.value.arrayValue)||void 0===o?void 0:o.values)||void 0===c?void 0:c.map(g=>In(g.doubleValue));return new ou(d)}convertGeoPoint(e){return new Dh(In(e.latitude),In(e.longitude))}convertArray(e,r){return(e.values||[]).map(o=>this.convertValue(o,r))}convertServerTimestamp(e,r){switch(r){case"previous":const o=Ji(e);return null==o?null:this.convertValue(o,r);case"estimate":return this.convertTimestamp(ki(e));default:return null}}convertTimestamp(e){const r=Yi(e);return new xe(r.seconds,r.nanos)}convertDocumentKey(e,r){const o=Xe.fromString(e);gt(To(o));const c=new Eo(o.get(1),o.get(3)),d=new At(o.popFirst(5));return c.isEqual(r)||Ht(`Document ${d} contains a document reference within a different database (${c.projectId}/${c.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),d}}class ed{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Pd extends Oh{constructor(e,r,o,c,d,g){super(e,r,o,c,g),this._firestore=e,this._firestoreImpl=e,this.metadata=d}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new Od(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const o=this._document.data.field(Vf("DocumentSnapshot.get",e));if(null!==o)return this._userDataWriter.convertValue(o,r.serverTimestamps)}}}class Od extends Pd{data(e={}){return super.data(e)}}class na{constructor(e,r,o,c){this._firestore=e,this._userDataWriter=r,this._snapshot=c,this.metadata=new ed(c.hasPendingWrites,c.fromCache),this.query=o}get docs(){const e=[];return this.forEach(r=>e.push(r)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,r){this._snapshot.docs.forEach(o=>{e.call(r,new Od(this._firestore,this._userDataWriter,o.key,o,new ed(this._snapshot.mutatedKeys.has(o.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new Pe(ce.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(c,d){if(c._snapshot.oldDocs.isEmpty()){let g=0;return c._snapshot.docChanges.map(C=>({type:"added",doc:new Od(c._firestore,c._userDataWriter,C.doc.key,C.doc,new ed(c._snapshot.mutatedKeys.has(C.doc.key),c._snapshot.fromCache),c.query.converter),oldIndex:-1,newIndex:g++}))}{let g=c._snapshot.oldDocs;return c._snapshot.docChanges.filter(C=>d||3!==C.type).map(C=>{const O=new Od(c._firestore,c._userDataWriter,C.doc.key,C.doc,new ed(c._snapshot.mutatedKeys.has(C.doc.key),c._snapshot.fromCache),c.query.converter);let U=-1,X=-1;return 0!==C.type&&(U=g.indexOf(C.doc.key),g=g.delete(C.doc.key)),1!==C.type&&(g=g.add(C.doc),X=g.indexOf(C.doc.key)),{type:O2(C.type),doc:O,oldIndex:U,newIndex:X}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function O2(a){switch(a){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ot()}}class Zi extends zf{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ml(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new Lo(this.firestore,null,r)}}function ky(a){a=Zr(a,ko);const e=Zr(a.firestore,Si),r=bo(e),o=new Zi(e);return T2(a._query),function _2(a,e,r={}){const o=new Ct;return a.asyncQueue.enqueueAndForget((0,ae.A)(function*(){return function(d,g,C,O,U){const X=new hf({next:Ue=>{X.Za(),g.enqueueAndForget(()=>Fn(d,pe)),Ue.fromCache&&"server"===O.source?U.reject(new Pe(ce.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):U.resolve(Ue)},error:Ue=>U.reject(Ue)}),pe=new vl(C,X,{includeMetadataChanges:!0,_a:!0});return vt(d,pe)}(yield Ad(a),a.asyncQueue,e,r,o)})),o.promise}(r,a._query).then(c=>new na(e,o,a,c))}function L2(a,e,r,...o){a=Zr(a,Lo);const c=Zr(a.firestore,Si),d=xl(c);let g;return g="string"==typeof(e=(0,re.Ku)(e))||e instanceof wl?function Rf(a,e,r,o,c,d){const g=a.Qu(1,e,r),C=[Dd(e,o,r)],O=[c];if(d.length%2!=0)throw new Pe(ce.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let Ue=0;Ue<d.length;Ue+=2)C.push(Dd(e,d[Ue])),O.push(d[Ue+1]);const U=[],X=Wr.empty();for(let Ue=C.length-1;Ue>=0;--Ue)if(!Nf(U,C[Ue])){const yt=C[Ue];let Ut=O[Ue];Ut=(0,re.Ku)(Ut);const cn=g.Nu(yt);if(Ut instanceof Sh)U.push(yt);else{const tn=Zu(Ut,cn);null!=tn&&(U.push(yt),X.set(yt,tn))}}const pe=new Xi(U);return new Z1(X,pe,g.fieldTransforms)}(d,"updateDoc",a._key,e,r,o):function Sf(a,e,r,o){const c=a.Qu(1,e,r);Pf("Data must be an object, but it was:",c,o);const d=[],g=Wr.empty();lo(o,(O,U)=>{const X=Xu(e,O,r);U=(0,re.Ku)(U);const pe=c.Nu(X);if(U instanceof Sh)d.push(X);else{const Ue=Zu(U,pe);null!=Ue&&(d.push(X),g.set(X,Ue))}});const C=new Xi(d);return new Z1(g,C,c.fieldTransforms)}(d,"updateDoc",a._key,e),Lh(c,[g.toMutation(a._key,wn.exists(!0))])}function My(a){return Lh(Zr(a.firestore,Si),[new qo(a._key,wn.none())])}function F2(a,e){const r=Zr(a.firestore,Si),o=K1(a),c=function ka(a,e,r){let o;return o=a?r&&(r.merge||r.mergeFields)?a.toFirestore(e,r):a.toFirestore(e):e,o}(a.converter,e);return Lh(r,[su(xl(a.firestore),"addDoc",o._key,c,null!==a.converter,{}).toMutation(o._key,wn.exists(!1))]).then(()=>o)}function Lh(a,e){return function(o,c){const d=new Ct;return o.asyncQueue.enqueueAndForget((0,ae.A)(function*(){return function s2(a,e,r){return vh.apply(this,arguments)}(yield function vf(a){return z1(a).then(e=>e.syncEngine)}(o),c,d)})),d.promise}(bo(a),e)}function P_(){return new Tf("serverTimestamp")}!function(e,r=!0){mn=Ve.MF,(0,Ve.om)(new Se.uA("firestore",(o,{instanceIdentifier:c,options:d})=>{const g=o.getProvider("app").getImmediate(),C=new Si(new sr(o.getProvider("auth-internal")),new pr(o.getProvider("app-check-internal")),function(U,X){if(!Object.prototype.hasOwnProperty.apply(U.options,["projectId"]))throw new Pe(ce.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Eo(U.options.projectId,X)}(g,c),g);return d=Object.assign({useFetchStreams:r},d),C._setSettings(d),C},"PUBLIC").setMultipleInstances(!0)),(0,Ve.KO)(xt,"4.7.3",e),(0,Ve.KO)(xt,"4.7.3","esm2017")}();var Fh=B(1985),Kf=B(6354),Fd=function(){return Fd=Object.assign||function(e){for(var r,o=1,c=arguments.length;o<c;o++)for(var d in r=arguments[o])Object.prototype.hasOwnProperty.call(r,d)&&(e[d]=r[d]);return e},Fd.apply(this,arguments)};"function"==typeof SuppressedError&&SuppressedError;var Qf={includeMetadataChanges:!1};function ip(a,e){return void 0===e&&(e=Qf),new Fh.c(function(r){var o=function B2(a,...e){var r,o,c;a=(0,re.Ku)(a);let d={includeMetadataChanges:!1,source:"default"},g=0;"object"!=typeof e[g]||Ah(e[g])||(d=e[g],g++);const C={includeMetadataChanges:d.includeMetadataChanges,source:d.source};if(Ah(e[g])){const pe=e[g];e[g]=null===(r=pe.next)||void 0===r?void 0:r.bind(pe),e[g+1]=null===(o=pe.error)||void 0===o?void 0:o.bind(pe),e[g+2]=null===(c=pe.complete)||void 0===c?void 0:c.bind(pe)}let O,U,X;if(a instanceof Lo)U=Zr(a.firestore,Si),X=Os(a._key.path),O={next:pe=>{e[g]&&e[g](function Uf(a,e,r){const o=r.docs.get(e._key),c=new Zi(a);return new Pd(a,c,e._key,o,new ed(r.hasPendingWrites,r.fromCache),e.converter)}(U,a,pe))},error:e[g+1],complete:e[g+2]};else{const pe=Zr(a,ko);U=Zr(pe.firestore,Si),X=pe._query;const Ue=new Zi(U);O={next:yt=>{e[g]&&e[g](new na(U,Ue,pe,yt))},error:e[g+1],complete:e[g+2]},T2(a._query)}return function(Ue,yt,Ut,cn){const tn=new hf(cn),Wn=new vl(yt,tn,Ut);return Ue.asyncQueue.enqueueAndForget((0,ae.A)(function*(){return vt(yield Ad(Ue),Wn)})),()=>{tn.Za(),Ue.asyncQueue.enqueueAndForget((0,ae.A)(function*(){return Fn(yield Ad(Ue),Wn)}))}}(bo(U),X,C,O)}(a,e,{next:r.next.bind(r),error:r.error.bind(r),complete:r.complete.bind(r)});return{unsubscribe:o}})}function zy(a,e){return void 0===e&&(e={}),function jy(a){return ip(a,{includeMetadataChanges:!0}).pipe((0,Kf.T)(function(e){return e.docs}))}(a).pipe((0,Kf.T)(function(r){return r.map(function(o){return function q2(a,e){var r;void 0===e&&(e={});var o=a.data(e);return a.exists()&&"object"==typeof o&&null!==o&&e.idField?Fd(Fd({},o),((r={})[e.idField]=a.id,r)):o}(o,e)})}))}class jh{constructor(e){return e}}const X2="firestore",sp=new ne.nKC("angularfire2.firestore-instances");function $y(a){return(e,r)=>{const o=e.runOutsideAngular(()=>a(r));return new jh(o)}}const Yf={provide:class Uy{constructor(){return(0,y.CA)(X2)}},deps:[[new ne.Xx1,sp]]},Wy={provide:jh,useFactory:function qy(a,e){const r=(0,y.lR)(X2,a,e);return r&&new jh(r)},deps:[[new ne.Xx1,sp],_e.XU]};let Gy=(()=>{class a{constructor(){(0,se.KO)("angularfire",y.xv.full,"fst")}static \u0275fac=function(o){return new(o||a)};static \u0275mod=ne.$C({type:a});static \u0275inj=ne.G2t({providers:[Wy,Yf]})}return a})();function Ky(a,...e){return{ngModule:Gy,providers:[{provide:sp,useFactory:$y(a),multi:!0,deps:[ne.SKi,ne.zZn,y.u0,_e.gL,[new ne.Xx1,J.DF],[new ne.Xx1,y.Jv],...e]}]}}const Qy=(0,y.S3)(zy,!0),z_=(0,y.S3)(F2,!0),rg=(0,y.S3)(G1,!0),ap=(0,y.S3)(My,!0),$_=(0,y.S3)(K1,!0),hg=(0,y.S3)(ky,!0),pg=(0,y.S3)(dy,!0),fg=(0,y.S3)(Ff,!0),rm=(0,y.S3)(Sd,!0),im=(0,y.S3)(P_,!0),zh=(0,y.S3)(L2,!0),nd=(0,y.S3)(my,!0)},5407:(hn,tt,B)=>{B.d(tt,{xv:()=>lt,u0:()=>ze,Jv:()=>Bt,CA:()=>Ft,lR:()=>Dt,S3:()=>ht});var y=B(7705),ne=B(2214),_e=B(6780),se=B(3604);const Ve=new class ae extends se.q{}(class J extends _e.R{constructor(kn,ln){super(kn,ln),this.scheduler=kn,this.work=ln}schedule(kn,ln=0){return ln>0?super.schedule(kn,ln):(this.delay=ln,this.state=kn,this.scheduler.flush(this),this)}execute(kn,ln){return ln>0||this.closed?super.execute(kn,ln):this._execute(kn,ln)}requestAsyncId(kn,ln,Ot=0){return null!=Ot&&Ot>0||null==Ot&&this.delay>0?super.requestAsyncId(kn,ln,Ot):(kn.flush(this),0)}});var De=B(3236),re=B(1985),ve=B(8141),Be=B(6745),$e=B(941);const lt=new y.RxE("ANGULARFIRE2_VERSION");function Dt(Ht,kn,ln){if(kn){if(1===kn.length)return kn[0];const je=kn.filter(ge=>ge.app===ln);if(1===je.length)return je[0]}return ln.container.getProvider(Ht).getImmediate({optional:!0})}const Ft=(Ht,kn)=>{const ln=kn?[kn]:(0,ne.Dk)(),Ot=[];return ln.forEach(gt=>{gt.container.getProvider(Ht).instances.forEach(ge=>{Ot.includes(ge)||Ot.push(ge)})}),Ot};class Bt{constructor(){return Ft(_n)}}const _n="app-check";function Xt(){}class be{zone;delegate;constructor(kn,ln=Ve){this.zone=kn,this.delegate=ln}now(){return this.delegate.now()}schedule(kn,ln,Ot){const gt=this.zone;return this.delegate.schedule(function(ge){gt.runGuarded(()=>{kn.apply(this,[ge])})},ln,Ot)}}class Ge{zone;task=null;constructor(kn){this.zone=kn}call(kn,ln){const Ot=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Xt,{},Xt,Xt)),ln.pipe((0,ve.M)({next:Ot,complete:Ot,error:Ot})).subscribe(kn).add(Ot)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let ze=(()=>{class Ht{ngZone;outsideAngular;insideAngular;constructor(ln){this.ngZone=ln,this.outsideAngular=ln.runOutsideAngular(()=>new be(Zone.current)),this.insideAngular=ln.run(()=>new be(Zone.current,De.E)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(Ot){return new(Ot||Ht)(y.KVO(y.SKi))};static \u0275prov=y.jDH({token:Ht,factory:Ht.\u0275fac,providedIn:"root"})}return Ht})();function Ke(){const Ht=globalThis.\u0275AngularFireScheduler;if(!Ht)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return Ht}function xt(Ht){return Ke().ngZone.run(()=>Ht())}function vn(Ht){return function qn(Ht){return function(ln){return(ln=ln.lift(new Ge(Ht.ngZone))).pipe((0,Be._)(Ht.outsideAngular),(0,$e.Q)(Ht.insideAngular))}}(Ke())(Ht)}const Lt=(Ht,kn)=>function(){const Ot=arguments;return kn&&setTimeout(()=>{"scheduled"===kn.state&&kn.invoke()},10),xt(()=>Ht.apply(void 0,Ot))},ht=(Ht,kn)=>function(){let ln;const Ot=arguments;for(let je=0;je<arguments.length;je++)"function"==typeof Ot[je]&&(kn&&(ln||=xt(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Xt,{},Xt,Xt))),Ot[je]=Lt(Ot[je],ln));const gt=function dt(Ht){return Ke().ngZone.runOutsideAngular(()=>Ht())}(()=>Ht.apply(this,Ot));if(!kn){if(gt instanceof re.c){const je=Ke();return gt.pipe((0,Be._)(je.outsideAngular),(0,$e.Q)(je.insideAngular))}return xt(()=>gt)}return gt instanceof re.c?gt.pipe(vn):gt instanceof Promise?xt(()=>new Promise((je,ge)=>gt.then(ce=>xt(()=>je(ce)),ce=>xt(()=>ge(ce))))):"function"==typeof gt&&ln?function(){return setTimeout(()=>{ln&&"scheduled"===ln.state&&ln.invoke()},10),gt.apply(this,arguments)}:xt(()=>gt)}},9417:(hn,tt,B)=>{B.d(tt,{$R:()=>Eo,BC:()=>mr,Fm:()=>qr,JD:()=>fn,MJ:()=>Ei,Q0:()=>Ps,VZ:()=>Bi,X1:()=>aa,YN:()=>Vc,Zm:()=>re,cV:()=>ci,cb:()=>yn,cz:()=>Ft,j4:()=>ki,k0:()=>Xt,kq:()=>Se,l_:()=>ui,me:()=>lt,ok:()=>io,qT:()=>li,v8:()=>xo,vO:()=>zn,vS:()=>Ci,wz:()=>no,xH:()=>yi,xq:()=>Uo,y7:()=>Ro});var y=B(7705),ne=B(177),_e=B(8455),J=B(7468),se=B(6354);let ae=(()=>{class q{constructor(V,ee){this._renderer=V,this._elementRef=ee,this.onChange=Ne=>{},this.onTouched=()=>{}}setProperty(V,ee){this._renderer.setProperty(this._elementRef.nativeElement,V,ee)}registerOnTouched(V){this.onTouched=V}registerOnChange(V){this.onChange=V}setDisabledState(V){this.setProperty("disabled",V)}static{this.\u0275fac=function(ee){return new(ee||q)(y.rXU(y.sFG),y.rXU(y.aKT))}}static{this.\u0275dir=y.FsC({type:q})}}return q})(),Ve=(()=>{class q extends ae{static{this.\u0275fac=function(){let V;return function(Ne){return(V||(V=y.xGo(q)))(Ne||q)}}()}static{this.\u0275dir=y.FsC({type:q,features:[y.Vt3]})}}return q})();const Se=new y.nKC("NgValueAccessor"),De={provide:Se,useExisting:(0,y.Rfq)(()=>re),multi:!0};let re=(()=>{class q extends Ve{writeValue(V){this.setProperty("checked",V)}static{this.\u0275fac=function(){let V;return function(Ne){return(V||(V=y.xGo(q)))(Ne||q)}}()}static{this.\u0275dir=y.FsC({type:q,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(ee,Ne){1&ee&&y.bIt("change",function(er){return Ne.onChange(er.target.checked)})("blur",function(){return Ne.onTouched()})},features:[y.Jv_([De]),y.Vt3]})}}return q})();const ve={provide:Se,useExisting:(0,y.Rfq)(()=>lt),multi:!0},$e=new y.nKC("CompositionEventMode");let lt=(()=>{class q extends ae{constructor(V,ee,Ne){super(V,ee),this._compositionMode=Ne,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Be(){const q=(0,ne.QT)()?(0,ne.QT)().getUserAgent():"";return/android (\d+)/.test(q.toLowerCase())}())}writeValue(V){this.setProperty("value",V??"")}_handleInput(V){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(V)}_compositionStart(){this._composing=!0}_compositionEnd(V){this._composing=!1,this._compositionMode&&this.onChange(V)}static{this.\u0275fac=function(ee){return new(ee||q)(y.rXU(y.sFG),y.rXU(y.aKT),y.rXU($e,8))}}static{this.\u0275dir=y.FsC({type:q,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(ee,Ne){1&ee&&y.bIt("input",function(er){return Ne._handleInput(er.target.value)})("blur",function(){return Ne.onTouched()})("compositionstart",function(){return Ne._compositionStart()})("compositionend",function(er){return Ne._compositionEnd(er.target.value)})},features:[y.Jv_([ve]),y.Vt3]})}}return q})();function Tt(q){return null==q||("string"==typeof q||Array.isArray(q))&&0===q.length}function Dt(q){return null!=q&&"number"==typeof q.length}const Ft=new y.nKC("NgValidators"),Bt=new y.nKC("NgAsyncValidators"),_n=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Xt{static min(K){return be(K)}static max(K){return function Ge(q){return K=>{if(Tt(K.value)||Tt(q))return null;const V=parseFloat(K.value);return!isNaN(V)&&V>q?{max:{max:q,actual:K.value}}:null}}(K)}static required(K){return ze(K)}static requiredTrue(K){return Ke(K)}static email(K){return function dt(q){return Tt(q.value)||_n.test(q.value)?null:{email:!0}}(K)}static minLength(K){return function xt(q){return K=>Tt(K.value)||!Dt(K.value)?null:K.value.length<q?{minlength:{requiredLength:q,actualLength:K.value.length}}:null}(K)}static maxLength(K){return function Yt(q){return K=>Dt(K.value)&&K.value.length>q?{maxlength:{requiredLength:q,actualLength:K.value.length}}:null}(K)}static pattern(K){return function mn(q){if(!q)return vn;let K,V;return"string"==typeof q?(V="","^"!==q.charAt(0)&&(V+="^"),V+=q,"$"!==q.charAt(q.length-1)&&(V+="$"),K=new RegExp(V)):(V=q.toString(),K=q),ee=>{if(Tt(ee.value))return null;const Ne=ee.value;return K.test(Ne)?null:{pattern:{requiredPattern:V,actualValue:Ne}}}}(K)}static nullValidator(K){return null}static compose(K){return Ot(K)}static composeAsync(K){return je(K)}}function be(q){return K=>{if(Tt(K.value)||Tt(q))return null;const V=parseFloat(K.value);return!isNaN(V)&&V<q?{min:{min:q,actual:K.value}}:null}}function ze(q){return Tt(q.value)?{required:!0}:null}function Ke(q){return!0===q.value?null:{required:!0}}function vn(q){return null}function qn(q){return null!=q}function Lt(q){return(0,y.jNT)(q)?(0,_e.H)(q):q}function ht(q){let K={};return q.forEach(V=>{K=null!=V?{...K,...V}:K}),0===Object.keys(K).length?null:K}function Ht(q,K){return K.map(V=>V(q))}function ln(q){return q.map(K=>function kn(q){return!q.validate}(K)?K:V=>K.validate(V))}function Ot(q){if(!q)return null;const K=q.filter(qn);return 0==K.length?null:function(V){return ht(Ht(V,K))}}function gt(q){return null!=q?Ot(ln(q)):null}function je(q){if(!q)return null;const K=q.filter(qn);return 0==K.length?null:function(V){const ee=Ht(V,K).map(Lt);return(0,J.p)(ee).pipe((0,se.T)(ht))}}function ge(q){return null!=q?je(ln(q)):null}function ce(q,K){return null===q?[K]:Array.isArray(q)?[...q,K]:[q,K]}function Pe(q){return q._rawValidators}function Ct(q){return q._rawAsyncValidators}function pt(q){return q?Array.isArray(q)?q:[q]:[]}function It(q,K){return Array.isArray(q)?q.includes(K):q===K}function Mn(q,K){const V=pt(K);return pt(q).forEach(Ne=>{It(V,Ne)||V.push(Ne)}),V}function sr(q,K){return pt(K).filter(V=>!It(q,V))}class un{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(K){this._rawValidators=K||[],this._composedValidatorFn=gt(this._rawValidators)}_setAsyncValidators(K){this._rawAsyncValidators=K||[],this._composedAsyncValidatorFn=ge(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(K){this._onDestroyCallbacks.push(K)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(K=>K()),this._onDestroyCallbacks=[]}reset(K=void 0){this.control&&this.control.reset(K)}hasError(K,V){return!!this.control&&this.control.hasError(K,V)}getError(K,V){return this.control?this.control.getError(K,V):null}}class Rn extends un{get formDirective(){return null}get path(){return null}}class zn extends un{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class pr{constructor(K){this._cd=K}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let mr=(()=>{class q extends pr{constructor(V){super(V)}static{this.\u0275fac=function(ee){return new(ee||q)(y.rXU(zn,2))}}static{this.\u0275dir=y.FsC({type:q,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(ee,Ne){2&ee&&y.AVh("ng-untouched",Ne.isUntouched)("ng-touched",Ne.isTouched)("ng-pristine",Ne.isPristine)("ng-dirty",Ne.isDirty)("ng-valid",Ne.isValid)("ng-invalid",Ne.isInvalid)("ng-pending",Ne.isPending)},features:[y.Vt3]})}}return q})(),yn=(()=>{class q extends pr{constructor(V){super(V)}static{this.\u0275fac=function(ee){return new(ee||q)(y.rXU(Rn,10))}}static{this.\u0275dir=y.FsC({type:q,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(ee,Ne){2&ee&&y.AVh("ng-untouched",Ne.isUntouched)("ng-touched",Ne.isTouched)("ng-pristine",Ne.isPristine)("ng-dirty",Ne.isDirty)("ng-valid",Ne.isValid)("ng-invalid",Ne.isInvalid)("ng-pending",Ne.isPending)("ng-submitted",Ne.isSubmitted)},features:[y.Vt3]})}}return q})();const Lr="VALID",cr="INVALID",jt="PENDING",st="DISABLED";function qe(q){return(Nn(q)?q.validators:q)||null}function qt(q,K){return(Nn(K)?K.asyncValidators:q)||null}function Nn(q){return null!=q&&!Array.isArray(q)&&"object"==typeof q}function $n(q,K,V){const ee=q.controls;if(!(K?Object.keys(ee):ee).length)throw new y.wOt(1e3,"");if(!ee[V])throw new y.wOt(1001,"")}function ar(q,K,V){q._forEachChild((ee,Ne)=>{if(void 0===V[Ne])throw new y.wOt(1002,"")})}class bt{constructor(K,V){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(K),this._assignAsyncValidators(V)}get validator(){return this._composedValidatorFn}set validator(K){this._rawValidators=this._composedValidatorFn=K}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(K){this._rawAsyncValidators=this._composedAsyncValidatorFn=K}get parent(){return this._parent}get valid(){return this.status===Lr}get invalid(){return this.status===cr}get pending(){return this.status==jt}get disabled(){return this.status===st}get enabled(){return this.status!==st}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(K){this._assignValidators(K)}setAsyncValidators(K){this._assignAsyncValidators(K)}addValidators(K){this.setValidators(Mn(K,this._rawValidators))}addAsyncValidators(K){this.setAsyncValidators(Mn(K,this._rawAsyncValidators))}removeValidators(K){this.setValidators(sr(K,this._rawValidators))}removeAsyncValidators(K){this.setAsyncValidators(sr(K,this._rawAsyncValidators))}hasValidator(K){return It(this._rawValidators,K)}hasAsyncValidator(K){return It(this._rawAsyncValidators,K)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(K={}){this.touched=!0,this._parent&&!K.onlySelf&&this._parent.markAsTouched(K)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(K=>K.markAllAsTouched())}markAsUntouched(K={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(V=>{V.markAsUntouched({onlySelf:!0})}),this._parent&&!K.onlySelf&&this._parent._updateTouched(K)}markAsDirty(K={}){this.pristine=!1,this._parent&&!K.onlySelf&&this._parent.markAsDirty(K)}markAsPristine(K={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(V=>{V.markAsPristine({onlySelf:!0})}),this._parent&&!K.onlySelf&&this._parent._updatePristine(K)}markAsPending(K={}){this.status=jt,!1!==K.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!K.onlySelf&&this._parent.markAsPending(K)}disable(K={}){const V=this._parentMarkedDirty(K.onlySelf);this.status=st,this.errors=null,this._forEachChild(ee=>{ee.disable({...K,onlySelf:!0})}),this._updateValue(),!1!==K.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...K,skipPristineCheck:V}),this._onDisabledChange.forEach(ee=>ee(!0))}enable(K={}){const V=this._parentMarkedDirty(K.onlySelf);this.status=Lr,this._forEachChild(ee=>{ee.enable({...K,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:K.emitEvent}),this._updateAncestors({...K,skipPristineCheck:V}),this._onDisabledChange.forEach(ee=>ee(!1))}_updateAncestors(K){this._parent&&!K.onlySelf&&(this._parent.updateValueAndValidity(K),K.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(K){this._parent=K}getRawValue(){return this.value}updateValueAndValidity(K={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Lr||this.status===jt)&&this._runAsyncValidator(K.emitEvent)),!1!==K.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!K.onlySelf&&this._parent.updateValueAndValidity(K)}_updateTreeValidity(K={emitEvent:!0}){this._forEachChild(V=>V._updateTreeValidity(K)),this.updateValueAndValidity({onlySelf:!0,emitEvent:K.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?st:Lr}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(K){if(this.asyncValidator){this.status=jt,this._hasOwnPendingAsyncValidator=!0;const V=Lt(this.asyncValidator(this));this._asyncValidationSubscription=V.subscribe(ee=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(ee,{emitEvent:K})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(K,V={}){this.errors=K,this._updateControlsErrors(!1!==V.emitEvent)}get(K){let V=K;return null==V||(Array.isArray(V)||(V=V.split(".")),0===V.length)?null:V.reduce((ee,Ne)=>ee&&ee._find(Ne),this)}getError(K,V){const ee=V?this.get(V):this;return ee&&ee.errors?ee.errors[K]:null}hasError(K,V){return!!this.getError(K,V)}get root(){let K=this;for(;K._parent;)K=K._parent;return K}_updateControlsErrors(K){this.status=this._calculateStatus(),K&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(K)}_initObservables(){this.valueChanges=new y.bkB,this.statusChanges=new y.bkB}_calculateStatus(){return this._allControlsDisabled()?st:this.errors?cr:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(jt)?jt:this._anyControlsHaveStatus(cr)?cr:Lr}_anyControlsHaveStatus(K){return this._anyControls(V=>V.status===K)}_anyControlsDirty(){return this._anyControls(K=>K.dirty)}_anyControlsTouched(){return this._anyControls(K=>K.touched)}_updatePristine(K={}){this.pristine=!this._anyControlsDirty(),this._parent&&!K.onlySelf&&this._parent._updatePristine(K)}_updateTouched(K={}){this.touched=this._anyControlsTouched(),this._parent&&!K.onlySelf&&this._parent._updateTouched(K)}_registerOnCollectionChange(K){this._onCollectionChange=K}_setUpdateStrategy(K){Nn(K)&&null!=K.updateOn&&(this._updateOn=K.updateOn)}_parentMarkedDirty(K){return!K&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(K){return null}_assignValidators(K){this._rawValidators=Array.isArray(K)?K.slice():K,this._composedValidatorFn=function _t(q){return Array.isArray(q)?gt(q):q||null}(this._rawValidators)}_assignAsyncValidators(K){this._rawAsyncValidators=Array.isArray(K)?K.slice():K,this._composedAsyncValidatorFn=function Oe(q){return Array.isArray(q)?ge(q):q||null}(this._rawAsyncValidators)}}class he extends bt{constructor(K,V,ee){super(qe(V),qt(ee,V)),this.controls=K,this._initObservables(),this._setUpdateStrategy(V),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(K,V){return this.controls[K]?this.controls[K]:(this.controls[K]=V,V.setParent(this),V._registerOnCollectionChange(this._onCollectionChange),V)}addControl(K,V,ee={}){this.registerControl(K,V),this.updateValueAndValidity({emitEvent:ee.emitEvent}),this._onCollectionChange()}removeControl(K,V={}){this.controls[K]&&this.controls[K]._registerOnCollectionChange(()=>{}),delete this.controls[K],this.updateValueAndValidity({emitEvent:V.emitEvent}),this._onCollectionChange()}setControl(K,V,ee={}){this.controls[K]&&this.controls[K]._registerOnCollectionChange(()=>{}),delete this.controls[K],V&&this.registerControl(K,V),this.updateValueAndValidity({emitEvent:ee.emitEvent}),this._onCollectionChange()}contains(K){return this.controls.hasOwnProperty(K)&&this.controls[K].enabled}setValue(K,V={}){ar(this,0,K),Object.keys(K).forEach(ee=>{$n(this,!0,ee),this.controls[ee].setValue(K[ee],{onlySelf:!0,emitEvent:V.emitEvent})}),this.updateValueAndValidity(V)}patchValue(K,V={}){null!=K&&(Object.keys(K).forEach(ee=>{const Ne=this.controls[ee];Ne&&Ne.patchValue(K[ee],{onlySelf:!0,emitEvent:V.emitEvent})}),this.updateValueAndValidity(V))}reset(K={},V={}){this._forEachChild((ee,Ne)=>{ee.reset(K?K[Ne]:null,{onlySelf:!0,emitEvent:V.emitEvent})}),this._updatePristine(V),this._updateTouched(V),this.updateValueAndValidity(V)}getRawValue(){return this._reduceChildren({},(K,V,ee)=>(K[ee]=V.getRawValue(),K))}_syncPendingControls(){let K=this._reduceChildren(!1,(V,ee)=>!!ee._syncPendingControls()||V);return K&&this.updateValueAndValidity({onlySelf:!0}),K}_forEachChild(K){Object.keys(this.controls).forEach(V=>{const ee=this.controls[V];ee&&K(ee,V)})}_setUpControls(){this._forEachChild(K=>{K.setParent(this),K._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(K){for(const[V,ee]of Object.entries(this.controls))if(this.contains(V)&&K(ee))return!0;return!1}_reduceValue(){return this._reduceChildren({},(V,ee,Ne)=>((ee.enabled||this.disabled)&&(V[Ne]=ee.value),V))}_reduceChildren(K,V){let ee=K;return this._forEachChild((Ne,Tn)=>{ee=V(ee,Ne,Tn)}),ee}_allControlsDisabled(){for(const K of Object.keys(this.controls))if(this.controls[K].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(K){return this.controls.hasOwnProperty(K)?this.controls[K]:null}}class H extends he{}const Ie=new y.nKC("CallSetDisabledState",{providedIn:"root",factory:()=>ke}),ke="always";function fe(q,K){return[...K.path,q]}function ie(q,K,V=ke){we(q,K),K.valueAccessor.writeValue(q.value),(q.disabled||"always"===V)&&K.valueAccessor.setDisabledState?.(q.disabled),function Le(q,K){K.valueAccessor.registerOnChange(V=>{q._pendingValue=V,q._pendingChange=!0,q._pendingDirty=!0,"change"===q.updateOn&&Zt(q,K)})}(q,K),function pn(q,K){const V=(ee,Ne)=>{K.valueAccessor.writeValue(ee),Ne&&K.viewToModelUpdate(ee)};q.registerOnChange(V),K._registerOnDestroy(()=>{q._unregisterOnChange(V)})}(q,K),function Et(q,K){K.valueAccessor.registerOnTouched(()=>{q._pendingTouched=!0,"blur"===q.updateOn&&q._pendingChange&&Zt(q,K),"submit"!==q.updateOn&&q.markAsTouched()})}(q,K),function Gt(q,K){if(K.valueAccessor.setDisabledState){const V=ee=>{K.valueAccessor.setDisabledState(ee)};q.registerOnDisabledChange(V),K._registerOnDestroy(()=>{q._unregisterOnDisabledChange(V)})}}(q,K)}function Ae(q,K,V=!0){const ee=()=>{};K.valueAccessor&&(K.valueAccessor.registerOnChange(ee),K.valueAccessor.registerOnTouched(ee)),Me(q,K),q&&(K._invokeOnDestroyCallbacks(),q._registerOnCollectionChange(()=>{}))}function rt(q,K){q.forEach(V=>{V.registerOnValidatorChange&&V.registerOnValidatorChange(K)})}function we(q,K){const V=Pe(q);null!==K.validator?q.setValidators(ce(V,K.validator)):"function"==typeof V&&q.setValidators([V]);const ee=Ct(q);null!==K.asyncValidator?q.setAsyncValidators(ce(ee,K.asyncValidator)):"function"==typeof ee&&q.setAsyncValidators([ee]);const Ne=()=>q.updateValueAndValidity();rt(K._rawValidators,Ne),rt(K._rawAsyncValidators,Ne)}function Me(q,K){let V=!1;if(null!==q){if(null!==K.validator){const Ne=Pe(q);if(Array.isArray(Ne)&&Ne.length>0){const Tn=Ne.filter(er=>er!==K.validator);Tn.length!==Ne.length&&(V=!0,q.setValidators(Tn))}}if(null!==K.asyncValidator){const Ne=Ct(q);if(Array.isArray(Ne)&&Ne.length>0){const Tn=Ne.filter(er=>er!==K.asyncValidator);Tn.length!==Ne.length&&(V=!0,q.setAsyncValidators(Tn))}}}const ee=()=>{};return rt(K._rawValidators,ee),rt(K._rawAsyncValidators,ee),V}function Zt(q,K){q._pendingDirty&&q.markAsDirty(),q.setValue(q._pendingValue,{emitModelToViewChange:!1}),K.viewToModelUpdate(q._pendingValue),q._pendingChange=!1}function on(q,K){we(q,K)}function nn(q,K){if(!q.hasOwnProperty("model"))return!1;const V=q.model;return!!V.isFirstChange()||!Object.is(K,V.currentValue)}function bn(q,K){q._syncPendingControls(),K.forEach(V=>{const ee=V.control;"submit"===ee.updateOn&&ee._pendingChange&&(V.viewToModelUpdate(ee._pendingValue),ee._pendingChange=!1)})}function An(q,K){if(!K)return null;let V,ee,Ne;return Array.isArray(K),K.forEach(Tn=>{Tn.constructor===lt?V=Tn:function Pn(q){return Object.getPrototypeOf(q.constructor)===Ve}(Tn)?ee=Tn:Ne=Tn}),Ne||ee||V||null}const _r={provide:Rn,useExisting:(0,y.Rfq)(()=>ci)},Ur=(()=>Promise.resolve())();let ci=(()=>{class q extends Rn{constructor(V,ee,Ne){super(),this.callSetDisabledState=Ne,this.submitted=!1,this._directives=new Set,this.ngSubmit=new y.bkB,this.form=new he({},gt(V),ge(ee))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(V){Ur.then(()=>{const ee=this._findContainer(V.path);V.control=ee.registerControl(V.name,V.control),ie(V.control,V,this.callSetDisabledState),V.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(V)})}getControl(V){return this.form.get(V.path)}removeControl(V){Ur.then(()=>{const ee=this._findContainer(V.path);ee&&ee.removeControl(V.name),this._directives.delete(V)})}addFormGroup(V){Ur.then(()=>{const ee=this._findContainer(V.path),Ne=new he({});on(Ne,V),ee.registerControl(V.name,Ne),Ne.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(V){Ur.then(()=>{const ee=this._findContainer(V.path);ee&&ee.removeControl(V.name)})}getFormGroup(V){return this.form.get(V.path)}updateModel(V,ee){Ur.then(()=>{this.form.get(V.path).setValue(ee)})}setValue(V){this.control.setValue(V)}onSubmit(V){return this.submitted=!0,bn(this.form,this._directives),this.ngSubmit.emit(V),"dialog"===V?.target?.method}onReset(){this.resetForm()}resetForm(V=void 0){this.form.reset(V),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(V){return V.pop(),V.length?this.form.get(V):this.form}static{this.\u0275fac=function(ee){return new(ee||q)(y.rXU(Ft,10),y.rXU(Bt,10),y.rXU(Ie,8))}}static{this.\u0275dir=y.FsC({type:q,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(ee,Ne){1&ee&&y.bIt("submit",function(er){return Ne.onSubmit(er)})("reset",function(){return Ne.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[y.Jv_([_r]),y.Vt3]})}}return q})();function wo(q,K){const V=q.indexOf(K);V>-1&&q.splice(V,1)}function Er(q){return"object"==typeof q&&null!==q&&2===Object.keys(q).length&&"value"in q&&"disabled"in q}const Ei=class extends bt{constructor(K=null,V,ee){super(qe(V),qt(ee,V)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(K),this._setUpdateStrategy(V),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Nn(V)&&(V.nonNullable||V.initialValueIsDefault)&&(this.defaultValue=Er(K)?K.value:K)}setValue(K,V={}){this.value=this._pendingValue=K,this._onChange.length&&!1!==V.emitModelToViewChange&&this._onChange.forEach(ee=>ee(this.value,!1!==V.emitViewToModelChange)),this.updateValueAndValidity(V)}patchValue(K,V={}){this.setValue(K,V)}reset(K=this.defaultValue,V={}){this._applyFormState(K),this.markAsPristine(V),this.markAsUntouched(V),this.setValue(this.value,V),this._pendingChange=!1}_updateValue(){}_anyControls(K){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(K){this._onChange.push(K)}_unregisterOnChange(K){wo(this._onChange,K)}registerOnDisabledChange(K){this._onDisabledChange.push(K)}_unregisterOnDisabledChange(K){wo(this._onDisabledChange,K)}_forEachChild(K){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(K){Er(K)?(this.value=this._pendingValue=K.value,K.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=K}};let _i=(()=>{class q extends Rn{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return fe(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}static{this.\u0275fac=function(){let V;return function(Ne){return(V||(V=y.xGo(q)))(Ne||q)}}()}static{this.\u0275dir=y.FsC({type:q,features:[y.Vt3]})}}return q})();const Us={provide:zn,useExisting:(0,y.Rfq)(()=>Ci)},jr=(()=>Promise.resolve())();let Ci=(()=>{class q extends zn{constructor(V,ee,Ne,Tn,er,Pi){super(),this._changeDetectorRef=er,this.callSetDisabledState=Pi,this.control=new Ei,this._registered=!1,this.name="",this.update=new y.bkB,this._parent=V,this._setValidators(ee),this._setAsyncValidators(Ne),this.valueAccessor=An(0,Tn)}ngOnChanges(V){if(this._checkForErrors(),!this._registered||"name"in V){if(this._registered&&(this._checkName(),this.formDirective)){const ee=V.name.previousValue;this.formDirective.removeControl({name:ee,path:this._getPath(ee)})}this._setUpControl()}"isDisabled"in V&&this._updateDisabled(V),nn(V,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(V){this.viewModel=V,this.update.emit(V)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){ie(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(V){jr.then(()=>{this.control.setValue(V,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(V){const ee=V.isDisabled.currentValue,Ne=0!==ee&&(0,y.L39)(ee);jr.then(()=>{Ne&&!this.control.disabled?this.control.disable():!Ne&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(V){return this._parent?fe(V,this._parent):[V]}static{this.\u0275fac=function(ee){return new(ee||q)(y.rXU(Rn,9),y.rXU(Ft,10),y.rXU(Bt,10),y.rXU(Se,10),y.rXU(y.gRc,8),y.rXU(Ie,8))}}static{this.\u0275dir=y.FsC({type:q,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[y.Jv_([Us]),y.Vt3,y.OA$]})}}return q})(),li=(()=>{class q{static{this.\u0275fac=function(ee){return new(ee||q)}}static{this.\u0275dir=y.FsC({type:q,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return q})();const Pr={provide:Se,useExisting:(0,y.Rfq)(()=>Ps),multi:!0};let Ps=(()=>{class q extends Ve{writeValue(V){this.setProperty("value",V??"")}registerOnChange(V){this.onChange=ee=>{V(""==ee?null:parseFloat(ee))}}static{this.\u0275fac=function(){let V;return function(Ne){return(V||(V=y.xGo(q)))(Ne||q)}}()}static{this.\u0275dir=y.FsC({type:q,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(ee,Ne){1&ee&&y.bIt("input",function(er){return Ne.onChange(er.target.value)})("blur",function(){return Ne.onTouched()})},features:[y.Jv_([Pr]),y.Vt3]})}}return q})();const jo={provide:Se,useExisting:(0,y.Rfq)(()=>qr),multi:!0};let qs=(()=>{class q{static{this.\u0275fac=function(ee){return new(ee||q)}}static{this.\u0275mod=y.$C({type:q})}static{this.\u0275inj=y.G2t({})}}return q})(),vs=(()=>{class q{constructor(){this._accessors=[]}add(V,ee){this._accessors.push([V,ee])}remove(V){for(let ee=this._accessors.length-1;ee>=0;--ee)if(this._accessors[ee][1]===V)return void this._accessors.splice(ee,1)}select(V){this._accessors.forEach(ee=>{this._isSameGroup(ee,V)&&ee[1]!==V&&ee[1].fireUncheck(V.value)})}_isSameGroup(V,ee){return!!V[0].control&&V[0]._parent===ee._control._parent&&V[1].name===ee.name}static{this.\u0275fac=function(ee){return new(ee||q)}}static{this.\u0275prov=y.jDH({token:q,factory:q.\u0275fac,providedIn:qs})}}return q})(),qr=(()=>{class q extends Ve{constructor(V,ee,Ne,Tn){super(V,ee),this._registry=Ne,this._injector=Tn,this.setDisabledStateFired=!1,this.onChange=()=>{},this.callSetDisabledState=(0,y.WQX)(Ie,{optional:!0})??ke}ngOnInit(){this._control=this._injector.get(zn),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(V){this._state=V===this.value,this.setProperty("checked",this._state)}registerOnChange(V){this._fn=V,this.onChange=()=>{V(this.value),this._registry.select(this)}}setDisabledState(V){(this.setDisabledStateFired||V||"whenDisabledForLegacyCode"===this.callSetDisabledState)&&this.setProperty("disabled",V),this.setDisabledStateFired=!0}fireUncheck(V){this.writeValue(V)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}static{this.\u0275fac=function(ee){return new(ee||q)(y.rXU(y.sFG),y.rXU(y.aKT),y.rXU(vs),y.rXU(y.zZn))}}static{this.\u0275dir=y.FsC({type:q,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(ee,Ne){1&ee&&y.bIt("change",function(){return Ne.onChange()})("blur",function(){return Ne.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[y.Jv_([jo]),y.Vt3]})}}return q})();const In=new y.nKC("NgModelWithFormControlWarning"),xr={provide:zn,useExisting:(0,y.Rfq)(()=>ui)};let ui=(()=>{class q extends zn{set isDisabled(V){}static{this._ngModelWarningSentOnce=!1}constructor(V,ee,Ne,Tn,er){super(),this._ngModelWarningConfig=Tn,this.callSetDisabledState=er,this.update=new y.bkB,this._ngModelWarningSent=!1,this._setValidators(V),this._setAsyncValidators(ee),this.valueAccessor=An(0,Ne)}ngOnChanges(V){if(this._isControlChanged(V)){const ee=V.form.previousValue;ee&&Ae(ee,this,!1),ie(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}nn(V,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&Ae(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(V){this.viewModel=V,this.update.emit(V)}_isControlChanged(V){return V.hasOwnProperty("form")}static{this.\u0275fac=function(ee){return new(ee||q)(y.rXU(Ft,10),y.rXU(Bt,10),y.rXU(Se,10),y.rXU(In,8),y.rXU(Ie,8))}}static{this.\u0275dir=y.FsC({type:q,selectors:[["","formControl",""]],inputs:{form:["formControl","form"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[y.Jv_([xr]),y.Vt3,y.OA$]})}}return q})();const Ji={provide:Rn,useExisting:(0,y.Rfq)(()=>ki)};let ki=(()=>{class q extends Rn{constructor(V,ee,Ne){super(),this.callSetDisabledState=Ne,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new y.bkB,this._setValidators(V),this._setAsyncValidators(ee)}ngOnChanges(V){this._checkFormPresent(),V.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Me(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(V){const ee=this.form.get(V.path);return ie(ee,V,this.callSetDisabledState),ee.updateValueAndValidity({emitEvent:!1}),this.directives.push(V),ee}getControl(V){return this.form.get(V.path)}removeControl(V){Ae(V.control||null,V,!1),function br(q,K){const V=q.indexOf(K);V>-1&&q.splice(V,1)}(this.directives,V)}addFormGroup(V){this._setUpFormContainer(V)}removeFormGroup(V){this._cleanUpFormContainer(V)}getFormGroup(V){return this.form.get(V.path)}addFormArray(V){this._setUpFormContainer(V)}removeFormArray(V){this._cleanUpFormContainer(V)}getFormArray(V){return this.form.get(V.path)}updateModel(V,ee){this.form.get(V.path).setValue(ee)}onSubmit(V){return this.submitted=!0,bn(this.form,this.directives),this.ngSubmit.emit(V),"dialog"===V?.target?.method}onReset(){this.resetForm()}resetForm(V=void 0){this.form.reset(V),this.submitted=!1}_updateDomValue(){this.directives.forEach(V=>{const ee=V.control,Ne=this.form.get(V.path);ee!==Ne&&(Ae(ee||null,V),(q=>q instanceof Ei)(Ne)&&(ie(Ne,V,this.callSetDisabledState),V.control=Ne))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(V){const ee=this.form.get(V.path);on(ee,V),ee.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(V){if(this.form){const ee=this.form.get(V.path);ee&&function Qn(q,K){return Me(q,K)}(ee,V)&&ee.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){we(this.form,this),this._oldForm&&Me(this._oldForm,this)}_checkFormPresent(){}static{this.\u0275fac=function(ee){return new(ee||q)(y.rXU(Ft,10),y.rXU(Bt,10),y.rXU(Ie,8))}}static{this.\u0275dir=y.FsC({type:q,selectors:[["","formGroup",""]],hostBindings:function(ee,Ne){1&ee&&y.bIt("submit",function(er){return Ne.onSubmit(er)})("reset",function(){return Ne.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[y.Jv_([Ji]),y.Vt3,y.OA$]})}}return q})();const es={provide:Rn,useExisting:(0,y.Rfq)(()=>Eo)};let Eo=(()=>{class q extends _i{constructor(V,ee,Ne){super(),this.name=null,this._parent=V,this._setValidators(ee),this._setAsyncValidators(Ne)}_checkParentType(){to(this._parent)}static{this.\u0275fac=function(ee){return new(ee||q)(y.rXU(Rn,13),y.rXU(Ft,10),y.rXU(Bt,10))}}static{this.\u0275dir=y.FsC({type:q,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[y.Jv_([es]),y.Vt3]})}}return q})();const eo={provide:Rn,useExisting:(0,y.Rfq)(()=>xo)};let xo=(()=>{class q extends Rn{constructor(V,ee,Ne){super(),this.name=null,this._parent=V,this._setValidators(ee),this._setAsyncValidators(Ne)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return fe(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){to(this._parent)}static{this.\u0275fac=function(ee){return new(ee||q)(y.rXU(Rn,13),y.rXU(Ft,10),y.rXU(Bt,10))}}static{this.\u0275dir=y.FsC({type:q,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[y.Jv_([eo]),y.Vt3]})}}return q})();function to(q){return!(q instanceof Eo||q instanceof ki||q instanceof xo)}const Tr={provide:zn,useExisting:(0,y.Rfq)(()=>fn)};let fn=(()=>{class q extends zn{set isDisabled(V){}static{this._ngModelWarningSentOnce=!1}constructor(V,ee,Ne,Tn,er){super(),this._ngModelWarningConfig=er,this._added=!1,this.name=null,this.update=new y.bkB,this._ngModelWarningSent=!1,this._parent=V,this._setValidators(ee),this._setAsyncValidators(Ne),this.valueAccessor=An(0,Tn)}ngOnChanges(V){this._added||this._setUpControl(),nn(V,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(V){this.viewModel=V,this.update.emit(V)}get path(){return fe(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static{this.\u0275fac=function(ee){return new(ee||q)(y.rXU(Rn,13),y.rXU(Ft,10),y.rXU(Bt,10),y.rXU(Se,10),y.rXU(In,8))}}static{this.\u0275dir=y.FsC({type:q,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[y.Jv_([Tr]),y.Vt3,y.OA$]})}}return q})();const Un={provide:Se,useExisting:(0,y.Rfq)(()=>no),multi:!0};function Or(q,K){return null==q?`${K}`:(K&&"object"==typeof K&&(K="Object"),`${q}: ${K}`.slice(0,50))}let no=(()=>{class q extends Ve{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(V){this._compareWith=V}writeValue(V){this.value=V;const Ne=Or(this._getOptionId(V),V);this.setProperty("value",Ne)}registerOnChange(V){this.onChange=ee=>{this.value=this._getOptionValue(ee),V(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(V){for(const ee of this._optionMap.keys())if(this._compareWith(this._optionMap.get(ee),V))return ee;return null}_getOptionValue(V){const ee=function Li(q){return q.split(":")[0]}(V);return this._optionMap.has(ee)?this._optionMap.get(ee):V}static{this.\u0275fac=function(){let V;return function(Ne){return(V||(V=y.xGo(q)))(Ne||q)}}()}static{this.\u0275dir=y.FsC({type:q,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(ee,Ne){1&ee&&y.bIt("change",function(er){return Ne.onChange(er.target.value)})("blur",function(){return Ne.onTouched()})},inputs:{compareWith:"compareWith"},features:[y.Jv_([Un]),y.Vt3]})}}return q})(),yi=(()=>{class q{constructor(V,ee,Ne){this._element=V,this._renderer=ee,this._select=Ne,this._select&&(this.id=this._select._registerOption())}set ngValue(V){null!=this._select&&(this._select._optionMap.set(this.id,V),this._setElementValue(Or(this.id,V)),this._select.writeValue(this._select.value))}set value(V){this._setElementValue(V),this._select&&this._select.writeValue(this._select.value)}_setElementValue(V){this._renderer.setProperty(this._element.nativeElement,"value",V)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(ee){return new(ee||q)(y.rXU(y.aKT),y.rXU(y.sFG),y.rXU(no,9))}}static{this.\u0275dir=y.FsC({type:q,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return q})();const uo={provide:Se,useExisting:(0,y.Rfq)(()=>Zn),multi:!0};function $r(q,K){return null==q?`${K}`:("string"==typeof K&&(K=`'${K}'`),K&&"object"==typeof K&&(K="Object"),`${q}: ${K}`.slice(0,50))}let Zn=(()=>{class q extends Ve{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(V){this._compareWith=V}writeValue(V){let ee;if(this.value=V,Array.isArray(V)){const Ne=V.map(Tn=>this._getOptionId(Tn));ee=(Tn,er)=>{Tn._setSelected(Ne.indexOf(er.toString())>-1)}}else ee=(Ne,Tn)=>{Ne._setSelected(!1)};this._optionMap.forEach(ee)}registerOnChange(V){this.onChange=ee=>{const Ne=[],Tn=ee.selectedOptions;if(void 0!==Tn){const er=Tn;for(let Pi=0;Pi<er.length;Pi++){const ca=this._getOptionValue(er[Pi].value);Ne.push(ca)}}else{const er=ee.options;for(let Pi=0;Pi<er.length;Pi++){const Po=er[Pi];if(Po.selected){const ca=this._getOptionValue(Po.value);Ne.push(ca)}}}this.value=Ne,V(Ne)}}_registerOption(V){const ee=(this._idCounter++).toString();return this._optionMap.set(ee,V),ee}_getOptionId(V){for(const ee of this._optionMap.keys())if(this._compareWith(this._optionMap.get(ee)._value,V))return ee;return null}_getOptionValue(V){const ee=function Fi(q){return q.split(":")[0]}(V);return this._optionMap.has(ee)?this._optionMap.get(ee)._value:V}static{this.\u0275fac=function(){let V;return function(Ne){return(V||(V=y.xGo(q)))(Ne||q)}}()}static{this.\u0275dir=y.FsC({type:q,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(ee,Ne){1&ee&&y.bIt("change",function(er){return Ne.onChange(er.target)})("blur",function(){return Ne.onTouched()})},inputs:{compareWith:"compareWith"},features:[y.Jv_([uo]),y.Vt3]})}}return q})(),Ro=(()=>{class q{constructor(V,ee,Ne){this._element=V,this._renderer=ee,this._select=Ne,this._select&&(this.id=this._select._registerOption(this))}set ngValue(V){null!=this._select&&(this._value=V,this._setElementValue($r(this.id,V)),this._select.writeValue(this._select.value))}set value(V){this._select?(this._value=V,this._setElementValue($r(this.id,V)),this._select.writeValue(this._select.value)):this._setElementValue(V)}_setElementValue(V){this._renderer.setProperty(this._element.nativeElement,"value",V)}_setSelected(V){this._renderer.setProperty(this._element.nativeElement,"selected",V)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(ee){return new(ee||q)(y.rXU(y.aKT),y.rXU(y.sFG),y.rXU(Zn,9))}}static{this.\u0275dir=y.FsC({type:q,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return q})();let Nr=(()=>{class q{constructor(){this._validator=vn}ngOnChanges(V){if(this.inputName in V){const ee=this.normalizeInput(V[this.inputName].currentValue);this._enabled=this.enabled(ee),this._validator=this._enabled?this.createValidator(ee):vn,this._onChange&&this._onChange()}}validate(V){return this._validator(V)}registerOnValidatorChange(V){this._onChange=V}enabled(V){return null!=V}static{this.\u0275fac=function(ee){return new(ee||q)}}static{this.\u0275dir=y.FsC({type:q,features:[y.OA$]})}}return q})();const Co={provide:Ft,useExisting:(0,y.Rfq)(()=>Bi),multi:!0};let Bi=(()=>{class q extends Nr{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=V=>function Ho(q){return"number"==typeof q?q:parseFloat(q)}(V),this.createValidator=V=>be(V)}static{this.\u0275fac=function(){let V;return function(Ne){return(V||(V=y.xGo(q)))(Ne||q)}}()}static{this.\u0275dir=y.FsC({type:q,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(ee,Ne){2&ee&&y.BMQ("min",Ne._enabled?Ne.min:null)},inputs:{min:"min"},features:[y.Jv_([Co]),y.Vt3]})}}return q})();const bs={provide:Ft,useExisting:(0,y.Rfq)(()=>Wr),multi:!0},Ao={provide:Ft,useExisting:(0,y.Rfq)(()=>Uo),multi:!0};let Wr=(()=>{class q extends Nr{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=y.L39,this.createValidator=V=>ze}enabled(V){return V}static{this.\u0275fac=function(){let V;return function(Ne){return(V||(V=y.xGo(q)))(Ne||q)}}()}static{this.\u0275dir=y.FsC({type:q,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(ee,Ne){2&ee&&y.BMQ("required",Ne._enabled?"":null)},inputs:{required:"required"},features:[y.Jv_([bs]),y.Vt3]})}}return q})(),Uo=(()=>{class q extends Wr{constructor(){super(...arguments),this.createValidator=V=>Ke}static{this.\u0275fac=function(){let V;return function(Ne){return(V||(V=y.xGo(q)))(Ne||q)}}()}static{this.\u0275dir=y.FsC({type:q,selectors:[["input","type","checkbox","required","","formControlName",""],["input","type","checkbox","required","","formControl",""],["input","type","checkbox","required","","ngModel",""]],hostVars:1,hostBindings:function(ee,Ne){2&ee&&y.BMQ("required",Ne._enabled?"":null)},features:[y.Jv_([Ao]),y.Vt3]})}}return q})(),gi=(()=>{class q{static{this.\u0275fac=function(ee){return new(ee||q)}}static{this.\u0275mod=y.$C({type:q})}static{this.\u0275inj=y.G2t({imports:[qs]})}}return q})();class ni extends bt{constructor(K,V,ee){super(qe(V),qt(ee,V)),this.controls=K,this._initObservables(),this._setUpdateStrategy(V),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(K){return this.controls[this._adjustIndex(K)]}push(K,V={}){this.controls.push(K),this._registerControl(K),this.updateValueAndValidity({emitEvent:V.emitEvent}),this._onCollectionChange()}insert(K,V,ee={}){this.controls.splice(K,0,V),this._registerControl(V),this.updateValueAndValidity({emitEvent:ee.emitEvent})}removeAt(K,V={}){let ee=this._adjustIndex(K);ee<0&&(ee=0),this.controls[ee]&&this.controls[ee]._registerOnCollectionChange(()=>{}),this.controls.splice(ee,1),this.updateValueAndValidity({emitEvent:V.emitEvent})}setControl(K,V,ee={}){let Ne=this._adjustIndex(K);Ne<0&&(Ne=0),this.controls[Ne]&&this.controls[Ne]._registerOnCollectionChange(()=>{}),this.controls.splice(Ne,1),V&&(this.controls.splice(Ne,0,V),this._registerControl(V)),this.updateValueAndValidity({emitEvent:ee.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(K,V={}){ar(this,0,K),K.forEach((ee,Ne)=>{$n(this,!1,Ne),this.at(Ne).setValue(ee,{onlySelf:!0,emitEvent:V.emitEvent})}),this.updateValueAndValidity(V)}patchValue(K,V={}){null!=K&&(K.forEach((ee,Ne)=>{this.at(Ne)&&this.at(Ne).patchValue(ee,{onlySelf:!0,emitEvent:V.emitEvent})}),this.updateValueAndValidity(V))}reset(K=[],V={}){this._forEachChild((ee,Ne)=>{ee.reset(K[Ne],{onlySelf:!0,emitEvent:V.emitEvent})}),this._updatePristine(V),this._updateTouched(V),this.updateValueAndValidity(V)}getRawValue(){return this.controls.map(K=>K.getRawValue())}clear(K={}){this.controls.length<1||(this._forEachChild(V=>V._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:K.emitEvent}))}_adjustIndex(K){return K<0?K+this.length:K}_syncPendingControls(){let K=this.controls.reduce((V,ee)=>!!ee._syncPendingControls()||V,!1);return K&&this.updateValueAndValidity({onlySelf:!0}),K}_forEachChild(K){this.controls.forEach((V,ee)=>{K(V,ee)})}_updateValue(){this.value=this.controls.filter(K=>K.enabled||this.disabled).map(K=>K.value)}_anyControls(K){return this.controls.some(V=>V.enabled&&K(V))}_setUpControls(){this._forEachChild(K=>this._registerControl(K))}_allControlsDisabled(){for(const K of this.controls)if(K.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(K){K.setParent(this),K._registerOnCollectionChange(this._onCollectionChange)}_find(K){return this.at(K)??null}}function ns(q){return!!q&&(void 0!==q.asyncValidators||void 0!==q.validators||void 0!==q.updateOn)}let io=(()=>{class q{constructor(){this.useNonNullable=!1}get nonNullable(){const V=new q;return V.useNonNullable=!0,V}group(V,ee=null){const Ne=this._reduceControls(V);let Tn={};return ns(ee)?Tn=ee:null!==ee&&(Tn.validators=ee.validator,Tn.asyncValidators=ee.asyncValidator),new he(Ne,Tn)}record(V,ee=null){const Ne=this._reduceControls(V);return new H(Ne,ee)}control(V,ee,Ne){let Tn={};return this.useNonNullable?(ns(ee)?Tn=ee:(Tn.validators=ee,Tn.asyncValidators=Ne),new Ei(V,{...Tn,nonNullable:!0})):new Ei(V,ee,Ne)}array(V,ee,Ne){const Tn=V.map(er=>this._createControl(er));return new ni(Tn,ee,Ne)}_reduceControls(V){const ee={};return Object.keys(V).forEach(Ne=>{ee[Ne]=this._createControl(V[Ne])}),ee}_createControl(V){return V instanceof Ei||V instanceof bt?V:Array.isArray(V)?this.control(V[0],V.length>1?V[1]:null,V.length>2?V[2]:null):this.control(V)}static{this.\u0275fac=function(ee){return new(ee||q)}}static{this.\u0275prov=y.jDH({token:q,factory:q.\u0275fac,providedIn:"root"})}}return q})(),Vc=(()=>{class q{static withConfig(V){return{ngModule:q,providers:[{provide:Ie,useValue:V.callSetDisabledState??ke}]}}static{this.\u0275fac=function(ee){return new(ee||q)}}static{this.\u0275mod=y.$C({type:q})}static{this.\u0275inj=y.G2t({imports:[gi]})}}return q})(),aa=(()=>{class q{static withConfig(V){return{ngModule:q,providers:[{provide:In,useValue:V.warnOnNgModelWithFormControl??"always"},{provide:Ie,useValue:V.callSetDisabledState??ke}]}}static{this.\u0275fac=function(ee){return new(ee||q)}}static{this.\u0275mod=y.$C({type:q})}static{this.\u0275inj=y.G2t({imports:[gi]})}}return q})()},8834:(hn,tt,B)=>{B.d(tt,{Hl:()=>kn});var y=B(7705),ne=B(6600);let kn=(()=>{class ln{static{this.\u0275fac=function(je){return new(je||ln)}}static{this.\u0275mod=y.$C({type:ln})}static{this.\u0275inj=y.G2t({imports:[ne.yE,ne.pZ,ne.yE]})}}return ln})()},6600:(hn,tt,B)=>{B.d(tt,{r5:()=>Bt,ed:()=>_n,MJ:()=>kn,es:()=>pt,de:()=>ln,$E:()=>Ce,yE:()=>Ge,WX:()=>Pe,Sy:()=>st,r6:()=>et,Ej:()=>ar,pZ:()=>Xe,Zc:()=>Yt,GG:()=>mn,Ob:()=>xt,J8:()=>qn,BF:()=>vn});var y=B(7705),ne=B(7645),_e=B(8203),se=B(177),ae=B(6860),Ve=B(4085),Se=B(1413);let Bt=(()=>{class bt{static{this.STANDARD_CURVE="cubic-bezier(0.4,0.0,0.2,1)"}static{this.DECELERATION_CURVE="cubic-bezier(0.0,0.0,0.2,1)"}static{this.ACCELERATION_CURVE="cubic-bezier(0.4,0.0,1,1)"}static{this.SHARP_CURVE="cubic-bezier(0.4,0.0,0.6,1)"}}return bt})(),_n=(()=>{class bt{static{this.COMPLEX="375ms"}static{this.ENTERING="225ms"}static{this.EXITING="195ms"}}return bt})();const be=new y.nKC("mat-sanity-checks",{providedIn:"root",factory:function Xt(){return!0}});let Ge=(()=>{class bt{constructor(R,P,H){this._sanityChecks=P,this._document=H,this._hasDoneGlobalChecks=!1,R._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(R){return!(0,ae.v8)()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[R])}static{this.\u0275fac=function(P){return new(P||bt)(y.KVO(ne.Q_),y.KVO(be,8),y.KVO(se.qQ))}}static{this.\u0275mod=y.$C({type:bt})}static{this.\u0275inj=y.G2t({imports:[_e.jI,_e.jI]})}}return bt})();function xt(bt){return class extends bt{get disabled(){return this._disabled}set disabled(he){this._disabled=(0,Ve.he)(he)}constructor(...he){super(...he),this._disabled=!1}}}function Yt(bt,he){return class extends bt{get color(){return this._color}set color(R){const P=R||this.defaultColor;P!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),P&&this._elementRef.nativeElement.classList.add(`mat-${P}`),this._color=P)}constructor(...R){super(...R),this.defaultColor=he,this.color=he}}}function mn(bt){return class extends bt{get disableRipple(){return this._disableRipple}set disableRipple(he){this._disableRipple=(0,Ve.he)(he)}constructor(...he){super(...he),this._disableRipple=!1}}}function vn(bt,he=0){return class extends bt{get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(R){this._tabIndex=null!=R?(0,Ve.OE)(R):this.defaultTabIndex}constructor(...R){super(...R),this._tabIndex=he,this.defaultTabIndex=he}}}function qn(bt){return class extends bt{updateErrorState(){const he=this.errorState,me=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);me!==he&&(this.errorState=me,this.stateChanges.next())}constructor(...he){super(...he),this.errorState=!1}}}const ht=new y.nKC("MAT_DATE_LOCALE",{providedIn:"root",factory:function Ht(){return(0,y.WQX)(y.xe9)}});class kn{constructor(){this._localeChanges=new Se.B,this.localeChanges=this._localeChanges}getValidDateOrNull(he){return this.isDateInstance(he)&&this.isValid(he)?he:null}deserialize(he){return null==he||this.isDateInstance(he)&&this.isValid(he)?he:this.invalid()}setLocale(he){this.locale=he,this._localeChanges.next()}compareDate(he,R){return this.getYear(he)-this.getYear(R)||this.getMonth(he)-this.getMonth(R)||this.getDate(he)-this.getDate(R)}sameDate(he,R){if(he&&R){let P=this.isValid(he),H=this.isValid(R);return P&&H?!this.compareDate(he,R):P==H}return he==R}clampDate(he,R,P){return R&&this.compareDate(he,R)<0?R:P&&this.compareDate(he,P)>0?P:he}}const ln=new y.nKC("mat-date-formats"),Ot=/^\d{4}-\d{2}-\d{2}(?:T\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|(?:(?:\+|-)\d{2}:\d{2}))?)?$/;function gt(bt,he){const R=Array(bt);for(let P=0;P<bt;P++)R[P]=he(P);return R}let je=(()=>{class bt extends kn{constructor(R,P){super(),this.useUtcForDisplay=!1,super.setLocale(R)}getYear(R){return R.getFullYear()}getMonth(R){return R.getMonth()}getDate(R){return R.getDate()}getDayOfWeek(R){return R.getDay()}getMonthNames(R){const P=new Intl.DateTimeFormat(this.locale,{month:R,timeZone:"utc"});return gt(12,H=>this._format(P,new Date(2017,H,1)))}getDateNames(){const R=new Intl.DateTimeFormat(this.locale,{day:"numeric",timeZone:"utc"});return gt(31,P=>this._format(R,new Date(2017,0,P+1)))}getDayOfWeekNames(R){const P=new Intl.DateTimeFormat(this.locale,{weekday:R,timeZone:"utc"});return gt(7,H=>this._format(P,new Date(2017,0,H+1)))}getYearName(R){const P=new Intl.DateTimeFormat(this.locale,{year:"numeric",timeZone:"utc"});return this._format(P,R)}getFirstDayOfWeek(){return 0}getNumDaysInMonth(R){return this.getDate(this._createDateWithOverflow(this.getYear(R),this.getMonth(R)+1,0))}clone(R){return new Date(R.getTime())}createDate(R,P,H){let me=this._createDateWithOverflow(R,P,H);return me.getMonth(),me}today(){return new Date}parse(R,P){return"number"==typeof R?new Date(R):R?new Date(Date.parse(R)):null}format(R,P){if(!this.isValid(R))throw Error("NativeDateAdapter: Cannot format invalid date.");const H=new Intl.DateTimeFormat(this.locale,{...P,timeZone:"utc"});return this._format(H,R)}addCalendarYears(R,P){return this.addCalendarMonths(R,12*P)}addCalendarMonths(R,P){let H=this._createDateWithOverflow(this.getYear(R),this.getMonth(R)+P,this.getDate(R));return this.getMonth(H)!=((this.getMonth(R)+P)%12+12)%12&&(H=this._createDateWithOverflow(this.getYear(H),this.getMonth(H),0)),H}addCalendarDays(R,P){return this._createDateWithOverflow(this.getYear(R),this.getMonth(R),this.getDate(R)+P)}toIso8601(R){return[R.getUTCFullYear(),this._2digit(R.getUTCMonth()+1),this._2digit(R.getUTCDate())].join("-")}deserialize(R){if("string"==typeof R){if(!R)return null;if(Ot.test(R)){let P=new Date(R);if(this.isValid(P))return P}}return super.deserialize(R)}isDateInstance(R){return R instanceof Date}isValid(R){return!isNaN(R.getTime())}invalid(){return new Date(NaN)}_createDateWithOverflow(R,P,H){const me=new Date;return me.setFullYear(R,P,H),me.setHours(0,0,0,0),me}_2digit(R){return("00"+R).slice(-2)}_format(R,P){const H=new Date;return H.setUTCFullYear(P.getFullYear(),P.getMonth(),P.getDate()),H.setUTCHours(P.getHours(),P.getMinutes(),P.getSeconds(),P.getMilliseconds()),R.format(H)}static{this.\u0275fac=function(P){return new(P||bt)(y.KVO(ht,8),y.KVO(ae.OD))}}static{this.\u0275prov=y.jDH({token:bt,factory:bt.\u0275fac})}}return bt})();const ge={parse:{dateInput:null},display:{dateInput:{year:"numeric",month:"numeric",day:"numeric"},monthYearLabel:{year:"numeric",month:"short"},dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"}}};let ce=(()=>{class bt{static{this.\u0275fac=function(P){return new(P||bt)}}static{this.\u0275mod=y.$C({type:bt})}static{this.\u0275inj=y.G2t({providers:[{provide:kn,useClass:je}]})}}return bt})(),Pe=(()=>{class bt{static{this.\u0275fac=function(P){return new(P||bt)}}static{this.\u0275mod=y.$C({type:bt})}static{this.\u0275inj=y.G2t({providers:[{provide:ln,useValue:ge}],imports:[ce]})}}return bt})(),pt=(()=>{class bt{isErrorState(R,P){return!!(R&&R.invalid&&(R.touched||P&&P.submitted))}static{this.\u0275fac=function(P){return new(P||bt)}}static{this.\u0275prov=y.jDH({token:bt,factory:bt.\u0275fac,providedIn:"root"})}}return bt})();class Rn{constructor(he,R,P,H=!1){this._renderer=he,this.element=R,this.config=P,this._animationForciblyDisabledThroughCss=H,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const zn=(0,ae.BQ)({passive:!0,capture:!0});class pr{constructor(){this._events=new Map,this._delegateEventHandler=he=>{const R=(0,ae.Fb)(he);R&&this._events.get(he.type)?.forEach((P,H)=>{(H===R||H.contains(R))&&P.forEach(me=>me.handleEvent(he))})}}addHandler(he,R,P,H){const me=this._events.get(R);if(me){const Ie=me.get(P);Ie?Ie.add(H):me.set(P,new Set([H]))}else this._events.set(R,new Map([[P,new Set([H])]])),he.runOutsideAngular(()=>{document.addEventListener(R,this._delegateEventHandler,zn)})}removeHandler(he,R,P){const H=this._events.get(he);if(!H)return;const me=H.get(R);me&&(me.delete(P),0===me.size&&H.delete(R),0===H.size&&(this._events.delete(he),document.removeEventListener(he,this._delegateEventHandler,zn)))}}const Hn={enterDuration:225,exitDuration:150},mr=(0,ae.BQ)({passive:!0,capture:!0}),yn=["mousedown","touchstart"],Rt=["mouseup","mouseleave","touchend","touchcancel"];class oe{static{this._eventManager=new pr}constructor(he,R,P,H){this._target=he,this._ngZone=R,this._platform=H,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,H.isBrowser&&(this._containerElement=(0,Ve.i8)(P))}fadeInRipple(he,R,P={}){const H=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),me={...Hn,...P.animation};P.centered&&(he=H.left+H.width/2,R=H.top+H.height/2);const Ie=P.radius||function xe(bt,he,R){const P=Math.max(Math.abs(bt-R.left),Math.abs(bt-R.right)),H=Math.max(Math.abs(he-R.top),Math.abs(he-R.bottom));return Math.sqrt(P*P+H*H)}(he,R,H),ke=he-H.left,fe=R-H.top,ie=me.enterDuration,Ae=document.createElement("div");Ae.classList.add("mat-ripple-element"),Ae.style.left=ke-Ie+"px",Ae.style.top=fe-Ie+"px",Ae.style.height=2*Ie+"px",Ae.style.width=2*Ie+"px",null!=P.color&&(Ae.style.backgroundColor=P.color),Ae.style.transitionDuration=`${ie}ms`,this._containerElement.appendChild(Ae);const rt=window.getComputedStyle(Ae),we=rt.transitionDuration,Me="none"===rt.transitionProperty||"0s"===we||"0s, 0s"===we||0===H.width&&0===H.height,Le=new Rn(this,Ae,P,Me);Ae.style.transform="scale3d(1, 1, 1)",Le.state=0,P.persistent||(this._mostRecentTransientRipple=Le);let Et=null;return!Me&&(ie||me.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const Zt=()=>this._finishRippleTransition(Le),pn=()=>this._destroyRipple(Le);Ae.addEventListener("transitionend",Zt),Ae.addEventListener("transitioncancel",pn),Et={onTransitionEnd:Zt,onTransitionCancel:pn}}),this._activeRipples.set(Le,Et),(Me||!ie)&&this._finishRippleTransition(Le),Le}fadeOutRipple(he){if(2===he.state||3===he.state)return;const R=he.element,P={...Hn,...he.config.animation};R.style.transitionDuration=`${P.exitDuration}ms`,R.style.opacity="0",he.state=2,(he._animationForciblyDisabledThroughCss||!P.exitDuration)&&this._finishRippleTransition(he)}fadeOutAll(){this._getActiveRipples().forEach(he=>he.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(he=>{he.config.persistent||he.fadeOut()})}setupTriggerEvents(he){const R=(0,Ve.i8)(he);!this._platform.isBrowser||!R||R===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=R,yn.forEach(P=>{oe._eventManager.addHandler(this._ngZone,P,R,this)}))}handleEvent(he){"mousedown"===he.type?this._onMousedown(he):"touchstart"===he.type?this._onTouchStart(he):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{Rt.forEach(R=>{this._triggerElement.addEventListener(R,this,mr)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(he){0===he.state?this._startFadeOutTransition(he):2===he.state&&this._destroyRipple(he)}_startFadeOutTransition(he){const R=he===this._mostRecentTransientRipple,{persistent:P}=he.config;he.state=1,!P&&(!R||!this._isPointerDown)&&he.fadeOut()}_destroyRipple(he){const R=this._activeRipples.get(he)??null;this._activeRipples.delete(he),this._activeRipples.size||(this._containerRect=null),he===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),he.state=3,null!==R&&(he.element.removeEventListener("transitionend",R.onTransitionEnd),he.element.removeEventListener("transitioncancel",R.onTransitionCancel)),he.element.remove()}_onMousedown(he){const R=(0,ne._G)(he),P=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!R&&!P&&(this._isPointerDown=!0,this.fadeInRipple(he.clientX,he.clientY,this._target.rippleConfig))}_onTouchStart(he){if(!this._target.rippleDisabled&&!(0,ne.w6)(he)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const R=he.changedTouches;if(R)for(let P=0;P<R.length;P++)this.fadeInRipple(R[P].clientX,R[P].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(he=>{!he.config.persistent&&(1===he.state||he.config.terminateOnPointerUp&&0===he.state)&&he.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const he=this._triggerElement;he&&(yn.forEach(R=>oe._eventManager.removeHandler(R,he,this)),this._pointerUpEventsRegistered&&Rt.forEach(R=>he.removeEventListener(R,this,mr)))}}const Ce=new y.nKC("mat-ripple-global-options");let et=(()=>{class bt{get disabled(){return this._disabled}set disabled(R){R&&this.fadeOutAllNonPersistent(),this._disabled=R,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(R){this._trigger=R,this._setupTriggerEventsIfEnabled()}constructor(R,P,H,me,Ie){this._elementRef=R,this._animationMode=Ie,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=me||{},this._rippleRenderer=new oe(this,P,R,H)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(R,P=0,H){return"number"==typeof R?this._rippleRenderer.fadeInRipple(R,P,{...this.rippleConfig,...H}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...R})}static{this.\u0275fac=function(P){return new(P||bt)(y.rXU(y.aKT),y.rXU(y.SKi),y.rXU(ae.OD),y.rXU(Ce,8),y.rXU(y.bc$,8))}}static{this.\u0275dir=y.FsC({type:bt,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(P,H){2&P&&y.AVh("mat-ripple-unbounded",H.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]})}}return bt})(),Xe=(()=>{class bt{static{this.\u0275fac=function(P){return new(P||bt)}}static{this.\u0275mod=y.$C({type:bt})}static{this.\u0275inj=y.G2t({imports:[Ge,Ge]})}}return bt})(),Qt=(()=>{class bt{static{this.\u0275fac=function(P){return new(P||bt)}}static{this.\u0275mod=y.$C({type:bt})}static{this.\u0275inj=y.G2t({imports:[Ge]})}}return bt})(),st=(()=>{class bt{static{this.\u0275fac=function(P){return new(P||bt)}}static{this.\u0275mod=y.$C({type:bt})}static{this.\u0275inj=y.G2t({imports:[Xe,se.MD,Ge,Qt]})}}return bt})();const qe={capture:!0},_t=["focus","click","mouseenter","touchstart"],qt="mat-ripple-loader-uninitialized",Oe="mat-ripple-loader-class-name",Nn="mat-ripple-loader-centered",$n="mat-ripple-loader-disabled";let ar=(()=>{class bt{constructor(){this._document=(0,y.WQX)(se.qQ,{optional:!0}),this._animationMode=(0,y.WQX)(y.bc$,{optional:!0}),this._globalRippleOptions=(0,y.WQX)(Ce,{optional:!0}),this._platform=(0,y.WQX)(ae.OD),this._ngZone=(0,y.WQX)(y.SKi),this._hosts=new Map,this._onInteraction=R=>{if(!(R.target instanceof HTMLElement))return;const H=R.target.closest(`[${qt}]`);H&&this._createRipple(H)},this._ngZone.runOutsideAngular(()=>{for(const R of _t)this._document?.addEventListener(R,this._onInteraction,qe)})}ngOnDestroy(){const R=this._hosts.keys();for(const P of R)this.destroyRipple(P);for(const P of _t)this._document?.removeEventListener(P,this._onInteraction,qe)}configureRipple(R,P){R.setAttribute(qt,""),(P.className||!R.hasAttribute(Oe))&&R.setAttribute(Oe,P.className||""),P.centered&&R.setAttribute(Nn,""),P.disabled&&R.setAttribute($n,"")}getRipple(R){return this._hosts.get(R)||this._createRipple(R)}setDisabled(R,P){const H=this._hosts.get(R);H?H.disabled=P:P?R.setAttribute($n,""):R.removeAttribute($n)}_createRipple(R){if(!this._document)return;const P=this._hosts.get(R);if(P)return P;R.querySelector(".mat-ripple")?.remove();const H=this._document.createElement("span");H.classList.add("mat-ripple",R.getAttribute(Oe)),R.append(H);const me=new et(new y.aKT(H),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return me._isInitialized=!0,me.trigger=R,me.centered=R.hasAttribute(Nn),me.disabled=R.hasAttribute($n),this.attachRipple(R,me),me}attachRipple(R,P){R.removeAttribute(qt),this._hosts.set(R,P)}destroyRipple(R){const P=this._hosts.get(R);P&&(P.ngOnDestroy(),this._hosts.delete(R))}static{this.\u0275fac=function(P){return new(P||bt)}}static{this.\u0275prov=y.jDH({token:bt,factory:bt.\u0275fac,providedIn:"root"})}}return bt})()},345:(hn,tt,B)=>{B.d(tt,{B7:()=>xt,Bb:()=>Hn,hE:()=>oe,sG:()=>un,up:()=>cr});var y=B(7705),ne=B(177);class _e extends ne.VF{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class J extends _e{static makeCurrent(){(0,ne.ZD)(new J)}onAndCancel(R,P,H){return R.addEventListener(P,H),()=>{R.removeEventListener(P,H)}}dispatchEvent(R,P){R.dispatchEvent(P)}remove(R){R.parentNode&&R.parentNode.removeChild(R)}createElement(R,P){return(P=P||this.getDefaultDocument()).createElement(R)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(R){return R.nodeType===Node.ELEMENT_NODE}isShadowRoot(R){return R instanceof DocumentFragment}getGlobalEventTarget(R,P){return"window"===P?window:"document"===P?R:"body"===P?R.body:null}getBaseHref(R){const P=function ae(){return se=se||document.querySelector("base"),se?se.getAttribute("href"):null}();return null==P?null:function Se(he){Ve=Ve||document.createElement("a"),Ve.setAttribute("href",he);const R=Ve.pathname;return"/"===R.charAt(0)?R:`/${R}`}(P)}resetBaseElement(){se=null}getUserAgent(){return window.navigator.userAgent}getCookie(R){return(0,ne._b)(document.cookie,R)}}let Ve,se=null,re=(()=>{class he{build(){return new XMLHttpRequest}static{this.\u0275fac=function(H){return new(H||he)}}static{this.\u0275prov=y.jDH({token:he,factory:he.\u0275fac})}}return he})();const ve=new y.nKC("EventManagerPlugins");let Be=(()=>{class he{constructor(P,H){this._zone=H,this._eventNameToPlugin=new Map,P.forEach(me=>{me.manager=this}),this._plugins=P.slice().reverse()}addEventListener(P,H,me){return this._findPluginFor(H).addEventListener(P,H,me)}getZone(){return this._zone}_findPluginFor(P){let H=this._eventNameToPlugin.get(P);if(H)return H;if(H=this._plugins.find(Ie=>Ie.supports(P)),!H)throw new y.wOt(5101,!1);return this._eventNameToPlugin.set(P,H),H}static{this.\u0275fac=function(H){return new(H||he)(y.KVO(ve),y.KVO(y.SKi))}}static{this.\u0275prov=y.jDH({token:he,factory:he.\u0275fac})}}return he})();class $e{constructor(R){this._doc=R}}const lt="ng-app-id";let Tt=(()=>{class he{constructor(P,H,me,Ie={}){this.doc=P,this.appId=H,this.nonce=me,this.platformId=Ie,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,ne.Vy)(Ie),this.resetHostNodes()}addStyles(P){for(const H of P)1===this.changeUsageCount(H,1)&&this.onStyleAdded(H)}removeStyles(P){for(const H of P)this.changeUsageCount(H,-1)<=0&&this.onStyleRemoved(H)}ngOnDestroy(){const P=this.styleNodesInDOM;P&&(P.forEach(H=>H.remove()),P.clear());for(const H of this.getAllStyles())this.onStyleRemoved(H);this.resetHostNodes()}addHost(P){this.hostNodes.add(P);for(const H of this.getAllStyles())this.addStyleToHost(P,H)}removeHost(P){this.hostNodes.delete(P)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(P){for(const H of this.hostNodes)this.addStyleToHost(H,P)}onStyleRemoved(P){const H=this.styleRef;H.get(P)?.elements?.forEach(me=>me.remove()),H.delete(P)}collectServerRenderedStyles(){const P=this.doc.head?.querySelectorAll(`style[${lt}="${this.appId}"]`);if(P?.length){const H=new Map;return P.forEach(me=>{null!=me.textContent&&H.set(me.textContent,me)}),H}return null}changeUsageCount(P,H){const me=this.styleRef;if(me.has(P)){const Ie=me.get(P);return Ie.usage+=H,Ie.usage}return me.set(P,{usage:H,elements:[]}),H}getStyleElement(P,H){const me=this.styleNodesInDOM,Ie=me?.get(H);if(Ie?.parentNode===P)return me.delete(H),Ie.removeAttribute(lt),Ie;{const ke=this.doc.createElement("style");return this.nonce&&ke.setAttribute("nonce",this.nonce),ke.textContent=H,this.platformIsServer&&ke.setAttribute(lt,this.appId),ke}}addStyleToHost(P,H){const me=this.getStyleElement(P,H);P.appendChild(me);const Ie=this.styleRef,ke=Ie.get(H)?.elements;ke?ke.push(me):Ie.set(H,{elements:[me],usage:1})}resetHostNodes(){const P=this.hostNodes;P.clear(),P.add(this.doc.head)}static{this.\u0275fac=function(H){return new(H||he)(y.KVO(ne.qQ),y.KVO(y.sZ2),y.KVO(y.BIS,8),y.KVO(y.Agw))}}static{this.\u0275prov=y.jDH({token:he,factory:he.\u0275fac})}}return he})();const Dt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Ft=/%COMP%/g,Ge=new y.nKC("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function dt(he,R){return R.map(P=>P.replace(Ft,he))}let xt=(()=>{class he{constructor(P,H,me,Ie,ke,fe,ie,Ae=null){this.eventManager=P,this.sharedStylesHost=H,this.appId=me,this.removeStylesOnCompDestroy=Ie,this.doc=ke,this.platformId=fe,this.ngZone=ie,this.nonce=Ae,this.rendererByCompId=new Map,this.platformIsServer=(0,ne.Vy)(fe),this.defaultRenderer=new Yt(P,ke,ie,this.platformIsServer)}createRenderer(P,H){if(!P||!H)return this.defaultRenderer;this.platformIsServer&&H.encapsulation===y.gXe.ShadowDom&&(H={...H,encapsulation:y.gXe.Emulated});const me=this.getOrCreateRenderer(P,H);return me instanceof Ht?me.applyToHost(P):me instanceof ht&&me.applyStyles(),me}getOrCreateRenderer(P,H){const me=this.rendererByCompId;let Ie=me.get(H.id);if(!Ie){const ke=this.doc,fe=this.ngZone,ie=this.eventManager,Ae=this.sharedStylesHost,rt=this.removeStylesOnCompDestroy,Gt=this.platformIsServer;switch(H.encapsulation){case y.gXe.Emulated:Ie=new Ht(ie,Ae,H,this.appId,rt,ke,fe,Gt);break;case y.gXe.ShadowDom:return new Lt(ie,Ae,P,H,ke,fe,this.nonce,Gt);default:Ie=new ht(ie,Ae,H,rt,ke,fe,Gt)}me.set(H.id,Ie)}return Ie}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(H){return new(H||he)(y.KVO(Be),y.KVO(Tt),y.KVO(y.sZ2),y.KVO(Ge),y.KVO(ne.qQ),y.KVO(y.Agw),y.KVO(y.SKi),y.KVO(y.BIS))}}static{this.\u0275prov=y.jDH({token:he,factory:he.\u0275fac})}}return he})();class Yt{constructor(R,P,H,me){this.eventManager=R,this.doc=P,this.ngZone=H,this.platformIsServer=me,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(R,P){return P?this.doc.createElementNS(Dt[P]||P,R):this.doc.createElement(R)}createComment(R){return this.doc.createComment(R)}createText(R){return this.doc.createTextNode(R)}appendChild(R,P){(qn(R)?R.content:R).appendChild(P)}insertBefore(R,P,H){R&&(qn(R)?R.content:R).insertBefore(P,H)}removeChild(R,P){R&&R.removeChild(P)}selectRootElement(R,P){let H="string"==typeof R?this.doc.querySelector(R):R;if(!H)throw new y.wOt(-5104,!1);return P||(H.textContent=""),H}parentNode(R){return R.parentNode}nextSibling(R){return R.nextSibling}setAttribute(R,P,H,me){if(me){P=me+":"+P;const Ie=Dt[me];Ie?R.setAttributeNS(Ie,P,H):R.setAttribute(P,H)}else R.setAttribute(P,H)}removeAttribute(R,P,H){if(H){const me=Dt[H];me?R.removeAttributeNS(me,P):R.removeAttribute(`${H}:${P}`)}else R.removeAttribute(P)}addClass(R,P){R.classList.add(P)}removeClass(R,P){R.classList.remove(P)}setStyle(R,P,H,me){me&(y.czy.DashCase|y.czy.Important)?R.style.setProperty(P,H,me&y.czy.Important?"important":""):R.style[P]=H}removeStyle(R,P,H){H&y.czy.DashCase?R.style.removeProperty(P):R.style[P]=""}setProperty(R,P,H){R[P]=H}setValue(R,P){R.nodeValue=P}listen(R,P,H){if("string"==typeof R&&!(R=(0,ne.QT)().getGlobalEventTarget(this.doc,R)))throw new Error(`Unsupported event target ${R} for event ${P}`);return this.eventManager.addEventListener(R,P,this.decoratePreventDefault(H))}decoratePreventDefault(R){return P=>{if("__ngUnwrap__"===P)return R;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>R(P)):R(P))&&P.preventDefault()}}}function qn(he){return"TEMPLATE"===he.tagName&&void 0!==he.content}class Lt extends Yt{constructor(R,P,H,me,Ie,ke,fe,ie){super(R,Ie,ke,ie),this.sharedStylesHost=P,this.hostEl=H,this.shadowRoot=H.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Ae=dt(me.id,me.styles);for(const rt of Ae){const Gt=document.createElement("style");fe&&Gt.setAttribute("nonce",fe),Gt.textContent=rt,this.shadowRoot.appendChild(Gt)}}nodeOrShadowRoot(R){return R===this.hostEl?this.shadowRoot:R}appendChild(R,P){return super.appendChild(this.nodeOrShadowRoot(R),P)}insertBefore(R,P,H){return super.insertBefore(this.nodeOrShadowRoot(R),P,H)}removeChild(R,P){return super.removeChild(this.nodeOrShadowRoot(R),P)}parentNode(R){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(R)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class ht extends Yt{constructor(R,P,H,me,Ie,ke,fe,ie){super(R,Ie,ke,fe),this.sharedStylesHost=P,this.removeStylesOnCompDestroy=me,this.styles=ie?dt(ie,H.styles):H.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class Ht extends ht{constructor(R,P,H,me,Ie,ke,fe,ie){const Ae=me+"-"+H.id;super(R,P,H,Ie,ke,fe,ie,Ae),this.contentAttr=function ze(he){return"_ngcontent-%COMP%".replace(Ft,he)}(Ae),this.hostAttr=function Ke(he){return"_nghost-%COMP%".replace(Ft,he)}(Ae)}applyToHost(R){this.applyStyles(),this.setAttribute(R,this.hostAttr,"")}createElement(R,P){const H=super.createElement(R,P);return super.setAttribute(H,this.contentAttr,""),H}}let kn=(()=>{class he extends $e{constructor(P){super(P)}supports(P){return!0}addEventListener(P,H,me){return P.addEventListener(H,me,!1),()=>this.removeEventListener(P,H,me)}removeEventListener(P,H,me){return P.removeEventListener(H,me)}static{this.\u0275fac=function(H){return new(H||he)(y.KVO(ne.qQ))}}static{this.\u0275prov=y.jDH({token:he,factory:he.\u0275fac})}}return he})();const ln=["alt","control","meta","shift"],Ot={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},gt={alt:he=>he.altKey,control:he=>he.ctrlKey,meta:he=>he.metaKey,shift:he=>he.shiftKey};let je=(()=>{class he extends $e{constructor(P){super(P)}supports(P){return null!=he.parseEventName(P)}addEventListener(P,H,me){const Ie=he.parseEventName(H),ke=he.eventCallback(Ie.fullKey,me,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,ne.QT)().onAndCancel(P,Ie.domEventName,ke))}static parseEventName(P){const H=P.toLowerCase().split("."),me=H.shift();if(0===H.length||"keydown"!==me&&"keyup"!==me)return null;const Ie=he._normalizeKey(H.pop());let ke="",fe=H.indexOf("code");if(fe>-1&&(H.splice(fe,1),ke="code."),ln.forEach(Ae=>{const rt=H.indexOf(Ae);rt>-1&&(H.splice(rt,1),ke+=Ae+".")}),ke+=Ie,0!=H.length||0===Ie.length)return null;const ie={};return ie.domEventName=me,ie.fullKey=ke,ie}static matchEventFullKeyCode(P,H){let me=Ot[P.key]||P.key,Ie="";return H.indexOf("code.")>-1&&(me=P.code,Ie="code."),!(null==me||!me)&&(me=me.toLowerCase()," "===me?me="space":"."===me&&(me="dot"),ln.forEach(ke=>{ke!==me&&(0,gt[ke])(P)&&(Ie+=ke+".")}),Ie+=me,Ie===H)}static eventCallback(P,H,me){return Ie=>{he.matchEventFullKeyCode(Ie,P)&&me.runGuarded(()=>H(Ie))}}static _normalizeKey(P){return"esc"===P?"escape":P}static{this.\u0275fac=function(H){return new(H||he)(y.KVO(ne.qQ))}}static{this.\u0275prov=y.jDH({token:he,factory:he.\u0275fac})}}return he})();const un=(0,y.oH4)(y.fpN,"browser",[{provide:y.Agw,useValue:ne.AJ},{provide:y.PLl,useValue:function pt(){J.makeCurrent()},multi:!0},{provide:ne.qQ,useFactory:function Mn(){return(0,y.TL$)(document),document},deps:[]}]),Rn=new y.nKC(""),zn=[{provide:y.e01,useClass:class De{addToWindow(R){y.JZv.getAngularTestability=(H,me=!0)=>{const Ie=R.findTestabilityInTree(H,me);if(null==Ie)throw new y.wOt(5103,!1);return Ie},y.JZv.getAllAngularTestabilities=()=>R.getAllTestabilities(),y.JZv.getAllAngularRootElements=()=>R.getAllRootElements(),y.JZv.frameworkStabilizers||(y.JZv.frameworkStabilizers=[]),y.JZv.frameworkStabilizers.push(H=>{const me=y.JZv.getAllAngularTestabilities();let Ie=me.length,ke=!1;const fe=function(ie){ke=ke||ie,Ie--,0==Ie&&H(ke)};me.forEach(ie=>{ie.whenStable(fe)})})}findTestabilityInTree(R,P,H){return null==P?null:R.getTestability(P)??(H?(0,ne.QT)().isShadowRoot(P)?this.findTestabilityInTree(R,P.host,!0):this.findTestabilityInTree(R,P.parentElement,!0):null)}},deps:[]},{provide:y.WHO,useClass:y.NYb,deps:[y.SKi,y.giA,y.e01]},{provide:y.NYb,useClass:y.NYb,deps:[y.SKi,y.giA,y.e01]}],pr=[{provide:y.H8p,useValue:"root"},{provide:y.zcH,useFactory:function It(){return new y.zcH},deps:[]},{provide:ve,useClass:kn,multi:!0,deps:[ne.qQ,y.SKi,y.Agw]},{provide:ve,useClass:je,multi:!0,deps:[ne.qQ]},xt,Tt,Be,{provide:y._9s,useExisting:xt},{provide:ne.N0,useClass:re,deps:[]},[]];let Hn=(()=>{class he{constructor(P){}static withServerTransition(P){return{ngModule:he,providers:[{provide:y.sZ2,useValue:P.appId}]}}static{this.\u0275fac=function(H){return new(H||he)(y.KVO(Rn,12))}}static{this.\u0275mod=y.$C({type:he})}static{this.\u0275inj=y.G2t({providers:[...pr,...zn],imports:[ne.MD,y.Hbi]})}}return he})(),oe=(()=>{class he{constructor(P){this._doc=P}getTitle(){return this._doc.title}setTitle(P){this._doc.title=P||""}static{this.\u0275fac=function(H){return new(H||he)(y.KVO(ne.qQ))}}static{this.\u0275prov=y.jDH({token:he,factory:function(H){let me=null;return me=H?new H:function Rt(){return new oe((0,y.KVO)(ne.qQ))}(),me},providedIn:"root"})}}return he})();typeof window<"u"&&window;let cr=(()=>{class he{static{this.\u0275fac=function(H){return new(H||he)}}static{this.\u0275prov=y.jDH({token:he,factory:function(H){let me=null;return me=H?new(H||he):y.KVO(st),me},providedIn:"root"})}}return he})(),st=(()=>{class he extends cr{constructor(P){super(),this._doc=P}sanitize(P,H){if(null==H)return null;switch(P){case y.WPN.NONE:return H;case y.WPN.HTML:return(0,y.ZF7)(H,"HTML")?(0,y.rcV)(H):(0,y.h9k)(this._doc,String(H)).toString();case y.WPN.STYLE:return(0,y.ZF7)(H,"Style")?(0,y.rcV)(H):H;case y.WPN.SCRIPT:if((0,y.ZF7)(H,"Script"))return(0,y.rcV)(H);throw new y.wOt(5200,!1);case y.WPN.URL:return(0,y.ZF7)(H,"URL")?(0,y.rcV)(H):(0,y.$MX)(String(H));case y.WPN.RESOURCE_URL:if((0,y.ZF7)(H,"ResourceURL"))return(0,y.rcV)(H);throw new y.wOt(5201,!1);default:throw new y.wOt(5202,!1)}}bypassSecurityTrustHtml(P){return(0,y.Kcf)(P)}bypassSecurityTrustStyle(P){return(0,y.cWb)(P)}bypassSecurityTrustScript(P){return(0,y.UyX)(P)}bypassSecurityTrustUrl(P){return(0,y.osQ)(P)}bypassSecurityTrustResourceUrl(P){return(0,y.e5t)(P)}static{this.\u0275fac=function(H){return new(H||he)(y.KVO(ne.qQ))}}static{this.\u0275prov=y.jDH({token:he,factory:function(H){let me=null;return me=H?new H:function jt(he){return new st(he.get(ne.qQ))}(y.KVO(y.zZn)),me},providedIn:"root"})}}return he})()},9012:(hn,tt,B)=>{B.d(tt,{wF:()=>Er,Ix:()=>fo,Wk:()=>ha,wQ:()=>mo,iI:()=>ss,n3:()=>Li});var y=B(7705),ne=B(4402),_e=B(8455),J=B(7673),se=B(4412),ae=B(4572);const Se=(0,B(1853).L)(x=>function(){x(this),this.name="EmptyError",this.message="no elements in sequence"});var De=B(8793),re=B(9030),ve=B(1203),Be=B(8810),$e=B(983),lt=B(17),Tt=B(1413),Dt=B(8359),Ft=B(177),Bt=B(6354),_n=B(5558),Xt=B(6697),be=B(9172),Ge=B(5964),ze=B(1397),Ke=B(9974),dt=B(4360);function xt(x){return(0,Ke.N)((S,k)=>{let D=!1;S.subscribe((0,dt._)(k,z=>{D=!0,k.next(z)},()=>{D||k.next(x),k.complete()}))})}function Yt(x=mn){return(0,Ke.N)((S,k)=>{let D=!1;S.subscribe((0,dt._)(k,z=>{D=!0,k.next(z)},()=>D?k.complete():k.error(x())))})}function mn(){return new Se}var vn=B(3669);function qn(x,S){const k=arguments.length>=2;return D=>D.pipe(x?(0,Ge.p)((z,te)=>x(z,te,D)):vn.D,(0,Xt.s)(1),k?xt(S):Yt(()=>new Se))}var Lt=B(274),ht=B(8141),Ht=B(9437);function Ot(x){return x<=0?()=>$e.w:(0,Ke.N)((S,k)=>{let D=[];S.subscribe((0,dt._)(k,z=>{D.push(z),x<D.length&&D.shift()},()=>{for(const z of D)k.next(z);k.complete()},void 0,()=>{D=null}))})}var ge=B(980),ce=B(9898),Pe=B(6977),Ct=B(6365),pt=B(345);const It="primary",Mn=Symbol("RouteTitle");class sr{constructor(S){this.params=S||{}}has(S){return Object.prototype.hasOwnProperty.call(this.params,S)}get(S){if(this.has(S)){const k=this.params[S];return Array.isArray(k)?k[0]:k}return null}getAll(S){if(this.has(S)){const k=this.params[S];return Array.isArray(k)?k:[k]}return[]}get keys(){return Object.keys(this.params)}}function un(x){return new sr(x)}function Rn(x,S,k){const D=k.path.split("/");if(D.length>x.length||"full"===k.pathMatch&&(S.hasChildren()||D.length<x.length))return null;const z={};for(let te=0;te<D.length;te++){const Te=D[te],Mt=x[te];if(Te.startsWith(":"))z[Te.substring(1)]=Mt;else if(Te!==Mt.path)return null}return{consumed:x.slice(0,D.length),posParams:z}}function pr(x,S){const k=x?Object.keys(x):void 0,D=S?Object.keys(S):void 0;if(!k||!D||k.length!=D.length)return!1;let z;for(let te=0;te<k.length;te++)if(z=k[te],!Hn(x[z],S[z]))return!1;return!0}function Hn(x,S){if(Array.isArray(x)&&Array.isArray(S)){if(x.length!==S.length)return!1;const k=[...x].sort(),D=[...S].sort();return k.every((z,te)=>D[te]===z)}return x===S}function fr(x){return x.length>0?x[x.length-1]:null}function mr(x){return(0,ne.A)(x)?x:(0,y.jNT)(x)?(0,_e.H)(Promise.resolve(x)):(0,J.of)(x)}const yn={exact:function Ce(x,S,k){if(!Hr(x.segments,S.segments)||!Qt(x.segments,S.segments,k)||x.numberOfChildren!==S.numberOfChildren)return!1;for(const D in S.children)if(!x.children[D]||!Ce(x.children[D],S.children[D],k))return!1;return!0},subset:Xe},Rt={exact:function xe(x,S){return pr(x,S)},subset:function et(x,S){return Object.keys(S).length<=Object.keys(x).length&&Object.keys(S).every(k=>Hn(x[k],S[k]))},ignored:()=>!0};function oe(x,S,k){return yn[k.paths](x.root,S.root,k.matrixParams)&&Rt[k.queryParams](x.queryParams,S.queryParams)&&!("exact"===k.fragment&&x.fragment!==S.fragment)}function Xe(x,S,k){return Nt(x,S,S.segments,k)}function Nt(x,S,k,D){if(x.segments.length>k.length){const z=x.segments.slice(0,k.length);return!(!Hr(z,k)||S.hasChildren()||!Qt(z,k,D))}if(x.segments.length===k.length){if(!Hr(x.segments,k)||!Qt(x.segments,k,D))return!1;for(const z in S.children)if(!x.children[z]||!Xe(x.children[z],S.children[z],D))return!1;return!0}{const z=k.slice(0,x.segments.length),te=k.slice(x.segments.length);return!!(Hr(x.segments,z)&&Qt(x.segments,z,D)&&x.children[It])&&Nt(x.children[It],S,te,D)}}function Qt(x,S,k){return S.every((D,z)=>Rt[k](x[z].parameters,D.parameters))}class At{constructor(S=new an([],{}),k={},D=null){this.root=S,this.queryParams=k,this.fragment=D}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=un(this.queryParams)),this._queryParamMap}toString(){return mi.serialize(this)}}class an{constructor(S,k){this.segments=S,this.children=k,this.parent=null,Object.values(k).forEach(D=>D.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Lr(this)}}class rn{constructor(S,k){this.path=S,this.parameters=k}get parameterMap(){return this._parameterMap||(this._parameterMap=un(this.parameters)),this._parameterMap}toString(){return Nn(this)}}function Hr(x,S){return x.length===S.length&&x.every((k,D)=>k.path===S[D].path)}let Vr=(()=>{class x{static{this.\u0275fac=function(D){return new(D||x)}}static{this.\u0275prov=y.jDH({token:x,factory:function(){return new On},providedIn:"root"})}}return x})();class On{parse(S){const k=new fe(S);return new At(k.parseRootSegment(),k.parseQueryParams(),k.parseFragment())}serialize(S){const k=`/${cr(S.root,!0)}`,D=function ar(x){const S=Object.keys(x).map(k=>{const D=x[k];return Array.isArray(D)?D.map(z=>`${st(k)}=${st(z)}`).join("&"):`${st(k)}=${st(D)}`}).filter(k=>!!k);return S.length?`?${S.join("&")}`:""}(S.queryParams);return`${k}${D}${"string"==typeof S.fragment?`#${function qe(x){return encodeURI(x)}(S.fragment)}`:""}`}}const mi=new On;function Lr(x){return x.segments.map(S=>Nn(S)).join("/")}function cr(x,S){if(!x.hasChildren())return Lr(x);if(S){const k=x.children[It]?cr(x.children[It],!1):"",D=[];return Object.entries(x.children).forEach(([z,te])=>{z!==It&&D.push(`${z}:${cr(te,!1)}`)}),D.length>0?`${k}(${D.join("//")})`:k}{const k=function Jt(x,S){let k=[];return Object.entries(x.children).forEach(([D,z])=>{D===It&&(k=k.concat(S(z,D)))}),Object.entries(x.children).forEach(([D,z])=>{D!==It&&(k=k.concat(S(z,D)))}),k}(x,(D,z)=>z===It?[cr(x.children[It],!1)]:[`${z}:${cr(D,!1)}`]);return 1===Object.keys(x.children).length&&null!=x.children[It]?`${Lr(x)}/${k[0]}`:`${Lr(x)}/(${k.join("//")})`}}function jt(x){return encodeURIComponent(x).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function st(x){return jt(x).replace(/%3B/gi,";")}function _t(x){return jt(x).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function qt(x){return decodeURIComponent(x)}function Oe(x){return qt(x.replace(/\+/g,"%20"))}function Nn(x){return`${_t(x.path)}${function $n(x){return Object.keys(x).map(S=>`;${_t(S)}=${_t(x[S])}`).join("")}(x.parameters)}`}const bt=/^[^\/()?;#]+/;function he(x){const S=x.match(bt);return S?S[0]:""}const R=/^[^\/()?;=#]+/,H=/^[^=?&#]+/,Ie=/^[^&#]+/;class fe{constructor(S){this.url=S,this.remaining=S}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new an([],{}):new an([],this.parseChildren())}parseQueryParams(){const S={};if(this.consumeOptional("?"))do{this.parseQueryParam(S)}while(this.consumeOptional("&"));return S}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const S=[];for(this.peekStartsWith("(")||S.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),S.push(this.parseSegment());let k={};this.peekStartsWith("/(")&&(this.capture("/"),k=this.parseParens(!0));let D={};return this.peekStartsWith("(")&&(D=this.parseParens(!1)),(S.length>0||Object.keys(k).length>0)&&(D[It]=new an(S,k)),D}parseSegment(){const S=he(this.remaining);if(""===S&&this.peekStartsWith(";"))throw new y.wOt(4009,!1);return this.capture(S),new rn(qt(S),this.parseMatrixParams())}parseMatrixParams(){const S={};for(;this.consumeOptional(";");)this.parseParam(S);return S}parseParam(S){const k=function P(x){const S=x.match(R);return S?S[0]:""}(this.remaining);if(!k)return;this.capture(k);let D="";if(this.consumeOptional("=")){const z=he(this.remaining);z&&(D=z,this.capture(D))}S[qt(k)]=qt(D)}parseQueryParam(S){const k=function me(x){const S=x.match(H);return S?S[0]:""}(this.remaining);if(!k)return;this.capture(k);let D="";if(this.consumeOptional("=")){const Te=function ke(x){const S=x.match(Ie);return S?S[0]:""}(this.remaining);Te&&(D=Te,this.capture(D))}const z=Oe(k),te=Oe(D);if(S.hasOwnProperty(z)){let Te=S[z];Array.isArray(Te)||(Te=[Te],S[z]=Te),Te.push(te)}else S[z]=te}parseParens(S){const k={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const D=he(this.remaining),z=this.remaining[D.length];if("/"!==z&&")"!==z&&";"!==z)throw new y.wOt(4010,!1);let te;D.indexOf(":")>-1?(te=D.slice(0,D.indexOf(":")),this.capture(te),this.capture(":")):S&&(te=It);const Te=this.parseChildren();k[te]=1===Object.keys(Te).length?Te[It]:new an([],Te),this.consumeOptional("//")}return k}peekStartsWith(S){return this.remaining.startsWith(S)}consumeOptional(S){return!!this.peekStartsWith(S)&&(this.remaining=this.remaining.substring(S.length),!0)}capture(S){if(!this.consumeOptional(S))throw new y.wOt(4011,!1)}}function ie(x){return x.segments.length>0?new an([],{[It]:x}):x}function Ae(x){const S={};for(const D of Object.keys(x.children)){const te=Ae(x.children[D]);if(D===It&&0===te.segments.length&&te.hasChildren())for(const[Te,Mt]of Object.entries(te.children))S[Te]=Mt;else(te.segments.length>0||te.hasChildren())&&(S[D]=te)}return function rt(x){if(1===x.numberOfChildren&&x.children[It]){const S=x.children[It];return new an(x.segments.concat(S.segments),S.children)}return x}(new an(x.segments,S))}function Gt(x){return x instanceof At}function Me(x){let S;const z=ie(function k(te){const Te={};for(const ft of te.children){const xn=k(ft);Te[ft.outlet]=xn}const Mt=new an(te.url,Te);return te===x&&(S=Mt),Mt}(x.root));return S??z}function Le(x,S,k,D){let z=x;for(;z.parent;)z=z.parent;if(0===S.length)return pn(z,z,z,k,D);const te=function gn(x){if("string"==typeof x[0]&&1===x.length&&"/"===x[0])return new Qn(!0,0,x);let S=0,k=!1;const D=x.reduce((z,te,Te)=>{if("object"==typeof te&&null!=te){if(te.outlets){const Mt={};return Object.entries(te.outlets).forEach(([ft,xn])=>{Mt[ft]="string"==typeof xn?xn.split("/"):xn}),[...z,{outlets:Mt}]}if(te.segmentPath)return[...z,te.segmentPath]}return"string"!=typeof te?[...z,te]:0===Te?(te.split("/").forEach((Mt,ft)=>{0==ft&&"."===Mt||(0==ft&&""===Mt?k=!0:".."===Mt?S++:""!=Mt&&z.push(Mt))}),z):[...z,te]},[]);return new Qn(k,S,D)}(S);if(te.toRoot())return pn(z,z,new an([],{}),k,D);const Te=function mt(x,S,k){if(x.isAbsolute)return new ti(S,!0,0);if(!k)return new ti(S,!1,NaN);if(null===k.parent)return new ti(k,!0,0);const D=Et(x.commands[0])?0:1;return function Je(x,S,k){let D=x,z=S,te=k;for(;te>z;){if(te-=z,D=D.parent,!D)throw new y.wOt(4005,!1);z=D.segments.length}return new ti(D,!1,z-te)}(k,k.segments.length-1+D,x.numberOfDoubleDots)}(te,z,x),Mt=Te.processChildren?Pn(Te.segmentGroup,Te.index,te.commands):nn(Te.segmentGroup,Te.index,te.commands);return pn(z,Te.segmentGroup,Mt,k,D)}function Et(x){return"object"==typeof x&&null!=x&&!x.outlets&&!x.segmentPath}function Zt(x){return"object"==typeof x&&null!=x&&x.outlets}function pn(x,S,k,D,z){let Te,te={};D&&Object.entries(D).forEach(([ft,xn])=>{te[ft]=Array.isArray(xn)?xn.map(ur=>`${ur}`):`${xn}`}),Te=x===S?k:on(x,S,k);const Mt=ie(Ae(Te));return new At(Mt,te,z)}function on(x,S,k){const D={};return Object.entries(x.children).forEach(([z,te])=>{D[z]=te===S?k:on(te,S,k)}),new an(x.segments,D)}class Qn{constructor(S,k,D){if(this.isAbsolute=S,this.numberOfDoubleDots=k,this.commands=D,S&&D.length>0&&Et(D[0]))throw new y.wOt(4003,!1);const z=D.find(Zt);if(z&&z!==fr(D))throw new y.wOt(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class ti{constructor(S,k,D){this.segmentGroup=S,this.processChildren=k,this.index=D}}function nn(x,S,k){if(x||(x=new an([],{})),0===x.segments.length&&x.hasChildren())return Pn(x,S,k);const D=function bn(x,S,k){let D=0,z=S;const te={match:!1,pathIndex:0,commandIndex:0};for(;z<x.segments.length;){if(D>=k.length)return te;const Te=x.segments[z],Mt=k[D];if(Zt(Mt))break;const ft=`${Mt}`,xn=D<k.length-1?k[D+1]:null;if(z>0&&void 0===ft)break;if(ft&&xn&&"object"==typeof xn&&void 0===xn.outlets){if(!_r(ft,xn,Te))return te;D+=2}else{if(!_r(ft,{},Te))return te;D++}z++}return{match:!0,pathIndex:z,commandIndex:D}}(x,S,k),z=k.slice(D.commandIndex);if(D.match&&D.pathIndex<x.segments.length){const te=new an(x.segments.slice(0,D.pathIndex),{});return te.children[It]=new an(x.segments.slice(D.pathIndex),x.children),Pn(te,0,z)}return D.match&&0===z.length?new an(x.segments,{}):D.match&&!x.hasChildren()?An(x,S,k):D.match?Pn(x,0,z):An(x,S,k)}function Pn(x,S,k){if(0===k.length)return new an(x.segments,{});{const D=function St(x){return Zt(x[0])?x[0].outlets:{[It]:x}}(k),z={};if(Object.keys(D).some(te=>te!==It)&&x.children[It]&&1===x.numberOfChildren&&0===x.children[It].segments.length){const te=Pn(x.children[It],S,k);return new an(x.segments,te.children)}return Object.entries(D).forEach(([te,Te])=>{"string"==typeof Te&&(Te=[Te]),null!==Te&&(z[te]=nn(x.children[te],S,Te))}),Object.entries(x.children).forEach(([te,Te])=>{void 0===D[te]&&(z[te]=Te)}),new an(x.segments,z)}}function An(x,S,k){const D=x.segments.slice(0,S);let z=0;for(;z<k.length;){const te=k[z];if(Zt(te)){const ft=br(te.outlets);return new an(D,ft)}if(0===z&&Et(k[0])){D.push(new rn(x.segments[S].path,Fr(k[0]))),z++;continue}const Te=Zt(te)?te.outlets[It]:`${te}`,Mt=z<k.length-1?k[z+1]:null;Te&&Mt&&Et(Mt)?(D.push(new rn(Te,Fr(Mt))),z+=2):(D.push(new rn(Te,{})),z++)}return new an(D,{})}function br(x){const S={};return Object.entries(x).forEach(([k,D])=>{"string"==typeof D&&(D=[D]),null!==D&&(S[k]=An(new an([],{}),0,D))}),S}function Fr(x){const S={};return Object.entries(x).forEach(([k,D])=>S[k]=`${D}`),S}function _r(x,S,k){return x==k.path&&pr(S,k.parameters)}const Ur="imperative";class ci{constructor(S,k){this.id=S,this.url=k}}class wo extends ci{constructor(S,k,D="imperative",z=null){super(S,k),this.type=0,this.navigationTrigger=D,this.restoredState=z}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Er extends ci{constructor(S,k,D){super(S,k),this.urlAfterRedirects=D,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Ei extends ci{constructor(S,k,D,z){super(S,k),this.reason=D,this.code=z,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class xi extends ci{constructor(S,k,D,z){super(S,k),this.reason=D,this.code=z,this.type=16}}class So extends ci{constructor(S,k,D,z){super(S,k),this.error=D,this.target=z,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class _i extends ci{constructor(S,k,D,z){super(S,k),this.urlAfterRedirects=D,this.state=z,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ac extends ci{constructor(S,k,D,z){super(S,k),this.urlAfterRedirects=D,this.state=z,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class wa extends ci{constructor(S,k,D,z,te){super(S,k),this.urlAfterRedirects=D,this.state=z,this.shouldActivate=te,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Ri extends ci{constructor(S,k,D,z){super(S,k),this.urlAfterRedirects=D,this.state=z,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ea extends ci{constructor(S,k,D,z){super(S,k),this.urlAfterRedirects=D,this.state=z,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class lo{constructor(S){this.route=S,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class oa{constructor(S){this.route=S,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Us{constructor(S){this.snapshot=S,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class jr{constructor(S){this.snapshot=S,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ci{constructor(S){this.snapshot=S,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class li{constructor(S){this.snapshot=S,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Pr{constructor(S,k,D){this.routerEvent=S,this.position=k,this.anchor=D,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Ps{}class jo{constructor(S){this.url=S}}class qs{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new vs,this.attachRef=null}}let vs=(()=>{class x{constructor(){this.contexts=new Map}onChildOutletCreated(k,D){const z=this.getOrCreateContext(k);z.outlet=D,this.contexts.set(k,z)}onChildOutletDestroyed(k){const D=this.getContext(k);D&&(D.outlet=null,D.attachRef=null)}onOutletDeactivated(){const k=this.contexts;return this.contexts=new Map,k}onOutletReAttached(k){this.contexts=k}getOrCreateContext(k){let D=this.getContext(k);return D||(D=new qs,this.contexts.set(k,D)),D}getContext(k){return this.contexts.get(k)||null}static{this.\u0275fac=function(D){return new(D||x)}}static{this.\u0275prov=y.jDH({token:x,factory:x.\u0275fac,providedIn:"root"})}}return x})();class qr{constructor(S){this._root=S}get root(){return this._root.value}parent(S){const k=this.pathFromRoot(S);return k.length>1?k[k.length-2]:null}children(S){const k=ks(S,this._root);return k?k.children.map(D=>D.value):[]}firstChild(S){const k=ks(S,this._root);return k&&k.children.length>0?k.children[0].value:null}siblings(S){const k=Yi(S,this._root);return k.length<2?[]:k[k.length-2].children.map(z=>z.value).filter(z=>z!==S)}pathFromRoot(S){return Yi(S,this._root).map(k=>k.value)}}function ks(x,S){if(x===S.value)return S;for(const k of S.children){const D=ks(x,k);if(D)return D}return null}function Yi(x,S){if(x===S.value)return[S];for(const k of S.children){const D=Yi(x,k);if(D.length)return D.unshift(S),D}return[]}class In{constructor(S,k){this.value=S,this.children=k}toString(){return`TreeNode(${this.value})`}}function xr(x){const S={};return x&&x.children.forEach(k=>S[k.value.outlet]=k),S}class ui extends qr{constructor(S,k){super(S),this.snapshot=k,Tr(this,S)}toString(){return this.snapshot.toString()}}function Ji(x,S){const k=function ki(x,S){const Te=new xo([],{},{},"",{},It,S,null,{});return new to("",new In(Te,[]))}(0,S),D=new se.t([new rn("",{})]),z=new se.t({}),te=new se.t({}),Te=new se.t({}),Mt=new se.t(""),ft=new es(D,z,Te,Mt,te,It,S,k.root);return ft.snapshot=k.root,new ui(new In(ft,[]),k)}class es{constructor(S,k,D,z,te,Te,Mt,ft){this.urlSubject=S,this.paramsSubject=k,this.queryParamsSubject=D,this.fragmentSubject=z,this.dataSubject=te,this.outlet=Te,this.component=Mt,this._futureSnapshot=ft,this.title=this.dataSubject?.pipe((0,Bt.T)(xn=>xn[Mn]))??(0,J.of)(void 0),this.url=S,this.params=k,this.queryParams=D,this.fragment=z,this.data=te}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Bt.T)(S=>un(S)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Bt.T)(S=>un(S)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Eo(x,S="emptyOnly"){const k=x.pathFromRoot;let D=0;if("always"!==S)for(D=k.length-1;D>=1;){const z=k[D],te=k[D-1];if(z.routeConfig&&""===z.routeConfig.path)D--;else{if(te.component)break;D--}}return function eo(x){return x.reduce((S,k)=>({params:{...S.params,...k.params},data:{...S.data,...k.data},resolve:{...k.data,...S.resolve,...k.routeConfig?.data,...k._resolvedData}}),{params:{},data:{},resolve:{}})}(k.slice(D))}class xo{get title(){return this.data?.[Mn]}constructor(S,k,D,z,te,Te,Mt,ft,xn){this.url=S,this.params=k,this.queryParams=D,this.fragment=z,this.data=te,this.outlet=Te,this.component=Mt,this.routeConfig=ft,this._resolve=xn}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=un(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=un(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(D=>D.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class to extends qr{constructor(S,k){super(k),this.url=S,Tr(this,k)}toString(){return fn(this._root)}}function Tr(x,S){S.value._routerState=x,S.children.forEach(k=>Tr(x,k))}function fn(x){const S=x.children.length>0?` { ${x.children.map(fn).join(", ")} } `:"";return`${x.value}${S}`}function Un(x){if(x.snapshot){const S=x.snapshot,k=x._futureSnapshot;x.snapshot=k,pr(S.queryParams,k.queryParams)||x.queryParamsSubject.next(k.queryParams),S.fragment!==k.fragment&&x.fragmentSubject.next(k.fragment),pr(S.params,k.params)||x.paramsSubject.next(k.params),function zn(x,S){if(x.length!==S.length)return!1;for(let k=0;k<x.length;++k)if(!pr(x[k],S[k]))return!1;return!0}(S.url,k.url)||x.urlSubject.next(k.url),pr(S.data,k.data)||x.dataSubject.next(k.data)}else x.snapshot=x._futureSnapshot,x.dataSubject.next(x._futureSnapshot.data)}function Or(x,S){const k=pr(x.params,S.params)&&function Bn(x,S){return Hr(x,S)&&x.every((k,D)=>pr(k.parameters,S[D].parameters))}(x.url,S.url);return k&&!(!x.parent!=!S.parent)&&(!x.parent||Or(x.parent,S.parent))}let Li=(()=>{class x{constructor(){this.activated=null,this._activatedRoute=null,this.name=It,this.activateEvents=new y.bkB,this.deactivateEvents=new y.bkB,this.attachEvents=new y.bkB,this.detachEvents=new y.bkB,this.parentContexts=(0,y.WQX)(vs),this.location=(0,y.WQX)(y.c1b),this.changeDetector=(0,y.WQX)(y.gRc),this.environmentInjector=(0,y.WQX)(y.uvJ),this.inputBinder=(0,y.WQX)(yi,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(k){if(k.name){const{firstChange:D,previousValue:z}=k.name;if(D)return;this.isTrackedInParentContexts(z)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(z)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(k){return this.parentContexts.getContext(k)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const k=this.parentContexts.getContext(this.name);k?.route&&(k.attachRef?this.attach(k.attachRef,k.route):this.activateWith(k.route,k.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new y.wOt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new y.wOt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new y.wOt(4012,!1);this.location.detach();const k=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(k.instance),k}attach(k,D){this.activated=k,this._activatedRoute=D,this.location.insert(k.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(k.instance)}deactivate(){if(this.activated){const k=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(k)}}activateWith(k,D){if(this.isActivated)throw new y.wOt(4013,!1);this._activatedRoute=k;const z=this.location,Te=k.snapshot.component,Mt=this.parentContexts.getOrCreateContext(this.name).children,ft=new no(k,Mt,z.injector);this.activated=z.createComponent(Te,{index:z.length,injector:ft,environmentInjector:D??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(D){return new(D||x)}}static{this.\u0275dir=y.FsC({type:x,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[y.OA$]})}}return x})();class no{constructor(S,k,D){this.route=S,this.childContexts=k,this.parent=D}get(S,k){return S===es?this.route:S===vs?this.childContexts:this.parent.get(S,k)}}const yi=new y.nKC("");let uo=(()=>{class x{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(k){this.unsubscribeFromRouteData(k),this.subscribeToRouteData(k)}unsubscribeFromRouteData(k){this.outletDataSubscriptions.get(k)?.unsubscribe(),this.outletDataSubscriptions.delete(k)}subscribeToRouteData(k){const{activatedRoute:D}=k,z=(0,ae.z)([D.queryParams,D.params,D.data]).pipe((0,_n.n)(([te,Te,Mt],ft)=>(Mt={...te,...Te,...Mt},0===ft?(0,J.of)(Mt):Promise.resolve(Mt)))).subscribe(te=>{if(!k.isActivated||!k.activatedComponentRef||k.activatedRoute!==D||null===D.component)return void this.unsubscribeFromRouteData(k);const Te=(0,y.HJs)(D.component);if(Te)for(const{templateName:Mt}of Te.inputs)k.activatedComponentRef.setInput(Mt,te[Mt]);else this.unsubscribeFromRouteData(k)});this.outletDataSubscriptions.set(k,z)}static{this.\u0275fac=function(D){return new(D||x)}}static{this.\u0275prov=y.jDH({token:x,factory:x.\u0275fac})}}return x})();function Fi(x,S,k){if(k&&x.shouldReuseRoute(S.value,k.value.snapshot)){const D=k.value;D._futureSnapshot=S.value;const z=function zo(x,S,k){return S.children.map(D=>{for(const z of k.children)if(x.shouldReuseRoute(D.value,z.value.snapshot))return Fi(x,D,z);return Fi(x,D)})}(x,S,k);return new In(D,z)}{if(x.shouldAttach(S.value)){const te=x.retrieve(S.value);if(null!==te){const Te=te.route;return Te.value._futureSnapshot=S.value,Te.children=S.children.map(Mt=>Fi(x,Mt)),Te}}const D=function Zn(x){return new es(new se.t(x.url),new se.t(x.params),new se.t(x.queryParams),new se.t(x.fragment),new se.t(x.data),x.outlet,x.component,x)}(S.value),z=S.children.map(te=>Fi(x,te));return new In(D,z)}}const Ro="ngNavigationCancelingError";function ts(x,S){const{redirectTo:k,navigationBehaviorOptions:D}=Gt(S)?{redirectTo:S,navigationBehaviorOptions:void 0}:S,z=Ho(!1,0,S);return z.url=k,z.navigationBehaviorOptions=D,z}function Ho(x,S,k){const D=new Error("NavigationCancelingError: "+(x||""));return D[Ro]=!0,D.cancellationCode=S,k&&(D.url=k),D}function ls(x){return x&&x[Ro]}let Ai=(()=>{class x{static{this.\u0275fac=function(D){return new(D||x)}}static{this.\u0275cmp=y.VBU({type:x,selectors:[["ng-component"]],standalone:!0,features:[y.aNF],decls:1,vars:0,template:function(D,z){1&D&&y.nrm(0,"router-outlet")},dependencies:[Li],encapsulation:2})}}return x})();function Ms(x){const S=x.children&&x.children.map(Ms),k=S?{...x,children:S}:{...x};return!k.component&&!k.loadComponent&&(S||k.loadChildren)&&k.outlet&&k.outlet!==It&&(k.component=Ai),k}function di(x){return x.outlet||It}function po(x){if(!x)return null;if(x.routeConfig?._injector)return x.routeConfig._injector;for(let S=x.parent;S;S=S.parent){const k=S.routeConfig;if(k?._loadedInjector)return k._loadedInjector;if(k?._injector)return k._injector}return null}class Cr{constructor(S,k,D,z,te){this.routeReuseStrategy=S,this.futureState=k,this.currState=D,this.forwardEvent=z,this.inputBindingEnabled=te}activate(S){const k=this.futureState._root,D=this.currState?this.currState._root:null;this.deactivateChildRoutes(k,D,S),Un(this.futureState.root),this.activateChildRoutes(k,D,S)}deactivateChildRoutes(S,k,D){const z=xr(k);S.children.forEach(te=>{const Te=te.value.outlet;this.deactivateRoutes(te,z[Te],D),delete z[Te]}),Object.values(z).forEach(te=>{this.deactivateRouteAndItsChildren(te,D)})}deactivateRoutes(S,k,D){const z=S.value,te=k?k.value:null;if(z===te)if(z.component){const Te=D.getContext(z.outlet);Te&&this.deactivateChildRoutes(S,k,Te.children)}else this.deactivateChildRoutes(S,k,D);else te&&this.deactivateRouteAndItsChildren(k,D)}deactivateRouteAndItsChildren(S,k){S.value.component&&this.routeReuseStrategy.shouldDetach(S.value.snapshot)?this.detachAndStoreRouteSubtree(S,k):this.deactivateRouteAndOutlet(S,k)}detachAndStoreRouteSubtree(S,k){const D=k.getContext(S.value.outlet),z=D&&S.value.component?D.children:k,te=xr(S);for(const Te of Object.keys(te))this.deactivateRouteAndItsChildren(te[Te],z);if(D&&D.outlet){const Te=D.outlet.detach(),Mt=D.children.onOutletDeactivated();this.routeReuseStrategy.store(S.value.snapshot,{componentRef:Te,route:S,contexts:Mt})}}deactivateRouteAndOutlet(S,k){const D=k.getContext(S.value.outlet),z=D&&S.value.component?D.children:k,te=xr(S);for(const Te of Object.keys(te))this.deactivateRouteAndItsChildren(te[Te],z);D&&(D.outlet&&(D.outlet.deactivate(),D.children.onOutletDeactivated()),D.attachRef=null,D.route=null)}activateChildRoutes(S,k,D){const z=xr(k);S.children.forEach(te=>{this.activateRoutes(te,z[te.value.outlet],D),this.forwardEvent(new li(te.value.snapshot))}),S.children.length&&this.forwardEvent(new jr(S.value.snapshot))}activateRoutes(S,k,D){const z=S.value,te=k?k.value:null;if(Un(z),z===te)if(z.component){const Te=D.getOrCreateContext(z.outlet);this.activateChildRoutes(S,k,Te.children)}else this.activateChildRoutes(S,k,D);else if(z.component){const Te=D.getOrCreateContext(z.outlet);if(this.routeReuseStrategy.shouldAttach(z.snapshot)){const Mt=this.routeReuseStrategy.retrieve(z.snapshot);this.routeReuseStrategy.store(z.snapshot,null),Te.children.onOutletReAttached(Mt.contexts),Te.attachRef=Mt.componentRef,Te.route=Mt.route.value,Te.outlet&&Te.outlet.attach(Mt.componentRef,Mt.route.value),Un(Mt.route.value),this.activateChildRoutes(S,null,Te.children)}else{const Mt=po(z.snapshot);Te.attachRef=null,Te.route=z,Te.injector=Mt,Te.outlet&&Te.outlet.activateWith(z,Te.injector),this.activateChildRoutes(S,null,Te.children)}}else this.activateChildRoutes(S,null,D)}}class $s{constructor(S){this.path=S,this.route=this.path[this.path.length-1]}}class gi{constructor(S,k){this.component=S,this.route=k}}function ni(x,S,k){const D=x._root;return ns(D,S?S._root:null,k,[D.value])}function ro(x,S){const k=Symbol(),D=S.get(x,k);return D===k?"function"!=typeof x||(0,y.LfX)(x)?S.get(x):x:D}function ns(x,S,k,D,z={canDeactivateChecks:[],canActivateChecks:[]}){const te=xr(S);return x.children.forEach(Te=>{(function io(x,S,k,D,z={canDeactivateChecks:[],canActivateChecks:[]}){const te=x.value,Te=S?S.value:null,Mt=k?k.getContext(x.value.outlet):null;if(Te&&te.routeConfig===Te.routeConfig){const ft=function cc(x,S,k){if("function"==typeof k)return k(x,S);switch(k){case"pathParamsChange":return!Hr(x.url,S.url);case"pathParamsOrQueryParamsChange":return!Hr(x.url,S.url)||!pr(x.queryParams,S.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Or(x,S)||!pr(x.queryParams,S.queryParams);default:return!Or(x,S)}}(Te,te,te.routeConfig.runGuardsAndResolvers);ft?z.canActivateChecks.push(new $s(D)):(te.data=Te.data,te._resolvedData=Te._resolvedData),ns(x,S,te.component?Mt?Mt.children:null:k,D,z),ft&&Mt&&Mt.outlet&&Mt.outlet.isActivated&&z.canDeactivateChecks.push(new gi(Mt.outlet.component,Te))}else Te&&sa(S,Mt,z),z.canActivateChecks.push(new $s(D)),ns(x,null,te.component?Mt?Mt.children:null:k,D,z)})(Te,te[Te.value.outlet],k,D.concat([Te.value]),z),delete te[Te.value.outlet]}),Object.entries(te).forEach(([Te,Mt])=>sa(Mt,k.getContext(Te),z)),z}function sa(x,S,k){const D=xr(x),z=x.value;Object.entries(D).forEach(([te,Te])=>{sa(Te,z.component?S?S.children.getContext(te):null:S,k)}),k.canDeactivateChecks.push(new gi(z.component&&S&&S.outlet&&S.outlet.isActivated?S.outlet.component:null,z))}function rs(x){return"function"==typeof x}function er(x){return x instanceof Se||"EmptyError"===x?.name}const Pi=Symbol("INITIAL_VALUE");function Po(){return(0,_n.n)(x=>(0,ae.z)(x.map(S=>S.pipe((0,Xt.s)(1),(0,be.Z)(Pi)))).pipe((0,Bt.T)(S=>{for(const k of S)if(!0!==k){if(k===Pi)return Pi;if(!1===k||k instanceof At)return k}return!0}),(0,Ge.p)(S=>S!==Pi),(0,Xt.s)(1)))}function is(x){return(0,ve.F)((0,ht.M)(S=>{if(Gt(S))throw ts(0,S)}),(0,Bt.T)(S=>!0===S))}class us{constructor(S){this.segmentGroup=S||null}}class Fa{constructor(S){this.urlTree=S}}function hi(x){return(0,Be.$)(new us(x))}function Es(x){return(0,Be.$)(new Fa(x))}class dc{constructor(S,k){this.urlSerializer=S,this.urlTree=k}noMatchError(S){return new y.wOt(4002,!1)}lineralizeSegments(S,k){let D=[],z=k.root;for(;;){if(D=D.concat(z.segments),0===z.numberOfChildren)return(0,J.of)(D);if(z.numberOfChildren>1||!z.children[It])return(0,Be.$)(new y.wOt(4e3,!1));z=z.children[It]}}applyRedirectCommands(S,k,D){return this.applyRedirectCreateUrlTree(k,this.urlSerializer.parse(k),S,D)}applyRedirectCreateUrlTree(S,k,D,z){const te=this.createSegmentGroup(S,k.root,D,z);return new At(te,this.createQueryParams(k.queryParams,this.urlTree.queryParams),k.fragment)}createQueryParams(S,k){const D={};return Object.entries(S).forEach(([z,te])=>{if("string"==typeof te&&te.startsWith(":")){const Mt=te.substring(1);D[z]=k[Mt]}else D[z]=te}),D}createSegmentGroup(S,k,D,z){const te=this.createSegments(S,k.segments,D,z);let Te={};return Object.entries(k.children).forEach(([Mt,ft])=>{Te[Mt]=this.createSegmentGroup(S,ft,D,z)}),new an(te,Te)}createSegments(S,k,D,z){return k.map(te=>te.path.startsWith(":")?this.findPosParam(S,te,z):this.findOrReturn(te,D))}findPosParam(S,k,D){const z=D[k.path.substring(1)];if(!z)throw new y.wOt(4001,!1);return z}findOrReturn(S,k){let D=0;for(const z of k){if(z.path===S.path)return k.splice(D),z;D++}return S}}const la={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function sl(x,S,k,D,z){const te=No(x,S,k);return te.matched?(D=function Co(x,S){return x.providers&&!x._injector&&(x._injector=(0,y.Ol2)(x.providers,S,`Route: ${x.path}`)),x._injector??S}(S,D),function Oo(x,S,k,D){const z=S.canMatch;if(!z||0===z.length)return(0,J.of)(!0);const te=z.map(Te=>{const Mt=ro(Te,x);return mr(function ee(x){return x&&rs(x.canMatch)}(Mt)?Mt.canMatch(S,k):x.runInContext(()=>Mt(S,k)))});return(0,J.of)(te).pipe(Po(),is())}(D,S,k).pipe((0,Bt.T)(Te=>!0===Te?te:{...la}))):(0,J.of)(te)}function No(x,S,k){if(""===S.path)return"full"===S.pathMatch&&(x.hasChildren()||k.length>0)?{...la}:{matched:!0,consumedSegments:[],remainingSegments:k,parameters:{},positionalParamSegments:{}};const z=(S.matcher||Rn)(k,x,S);if(!z)return{...la};const te={};Object.entries(z.posParams??{}).forEach(([Mt,ft])=>{te[Mt]=ft.path});const Te=z.consumed.length>0?{...te,...z.consumed[z.consumed.length-1].parameters}:te;return{matched:!0,consumedSegments:z.consumed,remainingSegments:k.slice(z.consumed.length),parameters:Te,positionalParamSegments:z.posParams??{}}}function ua(x,S,k,D){return k.length>0&&function Vs(x,S,k){return k.some(D=>Io(x,S,D)&&di(D)!==It)}(x,k,D)?{segmentGroup:new an(S,Ba(D,new an(k,x.children))),slicedSegments:[]}:0===k.length&&function hc(x,S,k){return k.some(D=>Io(x,S,D))}(x,k,D)?{segmentGroup:new an(x.segments,oo(x,0,k,D,x.children)),slicedSegments:k}:{segmentGroup:new an(x.segments,x.children),slicedSegments:k}}function oo(x,S,k,D,z){const te={};for(const Te of D)if(Io(x,k,Te)&&!z[di(Te)]){const Mt=new an([],{});te[di(Te)]=Mt}return{...z,...te}}function Ba(x,S){const k={};k[It]=S;for(const D of x)if(""===D.path&&di(D)!==It){const z=new an([],{});k[di(D)]=z}return k}function Io(x,S,k){return(!(x.hasChildren()||S.length>0)||"full"!==k.pathMatch)&&""===k.path}class fc{constructor(S,k,D,z,te,Te,Mt){this.injector=S,this.configLoader=k,this.rootComponentType=D,this.config=z,this.urlTree=te,this.paramsInheritanceStrategy=Te,this.urlSerializer=Mt,this.allowRedirects=!0,this.applyRedirects=new dc(this.urlSerializer,this.urlTree)}noMatchError(S){return new y.wOt(4002,!1)}recognize(){const S=ua(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,S,It).pipe((0,Ht.W)(k=>{if(k instanceof Fa)return this.allowRedirects=!1,this.urlTree=k.urlTree,this.match(k.urlTree);throw k instanceof us?this.noMatchError(k):k}),(0,Bt.T)(k=>{const D=new xo([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},It,this.rootComponentType,null,{}),z=new In(D,k),te=new to("",z),Te=function we(x,S,k=null,D=null){return Le(Me(x),S,k,D)}(D,[],this.urlTree.queryParams,this.urlTree.fragment);return Te.queryParams=this.urlTree.queryParams,te.url=this.urlSerializer.serialize(Te),this.inheritParamsAndData(te._root),{state:te,tree:Te}}))}match(S){return this.processSegmentGroup(this.injector,this.config,S.root,It).pipe((0,Ht.W)(D=>{throw D instanceof us?this.noMatchError(D):D}))}inheritParamsAndData(S){const k=S.value,D=Eo(k,this.paramsInheritanceStrategy);k.params=Object.freeze(D.params),k.data=Object.freeze(D.data),S.children.forEach(z=>this.inheritParamsAndData(z))}processSegmentGroup(S,k,D,z){return 0===D.segments.length&&D.hasChildren()?this.processChildren(S,k,D):this.processSegment(S,k,D,D.segments,z,!0)}processChildren(S,k,D){const z=[];for(const te of Object.keys(D.children))"primary"===te?z.unshift(te):z.push(te);return(0,_e.H)(z).pipe((0,Lt.H)(te=>{const Te=D.children[te],Mt=function ho(x,S){const k=x.filter(D=>di(D)===S);return k.push(...x.filter(D=>di(D)!==S)),k}(k,te);return this.processSegmentGroup(S,Mt,Te,te)}),function ln(x,S){return(0,Ke.N)(function kn(x,S,k,D,z){return(te,Te)=>{let Mt=k,ft=S,xn=0;te.subscribe((0,dt._)(Te,ur=>{const Br=xn++;ft=Mt?x(ft,ur,Br):(Mt=!0,ur),D&&Te.next(ft)},z&&(()=>{Mt&&Te.next(ft),Te.complete()})))}}(x,S,arguments.length>=2,!0))}((te,Te)=>(te.push(...Te),te)),xt(null),function gt(x,S){const k=arguments.length>=2;return D=>D.pipe(x?(0,Ge.p)((z,te)=>x(z,te,D)):vn.D,Ot(1),k?xt(S):Yt(()=>new Se))}(),(0,ze.Z)(te=>{if(null===te)return hi(D);const Te=Fc(te);return function vr(x){x.sort((S,k)=>S.value.outlet===It?-1:k.value.outlet===It?1:S.value.outlet.localeCompare(k.value.outlet))}(Te),(0,J.of)(Te)}))}processSegment(S,k,D,z,te,Te){return(0,_e.H)(k).pipe((0,Lt.H)(Mt=>this.processSegmentAgainstRoute(Mt._injector??S,k,Mt,D,z,te,Te).pipe((0,Ht.W)(ft=>{if(ft instanceof us)return(0,J.of)(null);throw ft}))),qn(Mt=>!!Mt),(0,Ht.W)(Mt=>{if(er(Mt))return function ds(x,S,k){return 0===S.length&&!x.children[k]}(D,z,te)?(0,J.of)([]):hi(D);throw Mt}))}processSegmentAgainstRoute(S,k,D,z,te,Te,Mt){return function Lc(x,S,k,D){return!!(di(x)===D||D!==It&&Io(S,k,x))&&("**"===x.path||No(S,x,k).matched)}(D,z,te,Te)?void 0===D.redirectTo?this.matchSegmentAgainstRoute(S,z,D,te,Te,Mt):Mt&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(S,z,k,D,te,Te):hi(z):hi(z)}expandSegmentAgainstRouteUsingRedirect(S,k,D,z,te,Te){return"**"===z.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(S,D,z,Te):this.expandRegularSegmentAgainstRouteUsingRedirect(S,k,D,z,te,Te)}expandWildCardWithParamsAgainstRouteUsingRedirect(S,k,D,z){const te=this.applyRedirects.applyRedirectCommands([],D.redirectTo,{});return D.redirectTo.startsWith("/")?Es(te):this.applyRedirects.lineralizeSegments(D,te).pipe((0,ze.Z)(Te=>{const Mt=new an(Te,{});return this.processSegment(S,k,Mt,Te,z,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(S,k,D,z,te,Te){const{matched:Mt,consumedSegments:ft,remainingSegments:xn,positionalParamSegments:ur}=No(k,z,te);if(!Mt)return hi(k);const Br=this.applyRedirects.applyRedirectCommands(ft,z.redirectTo,ur);return z.redirectTo.startsWith("/")?Es(Br):this.applyRedirects.lineralizeSegments(z,Br).pipe((0,ze.Z)(wr=>this.processSegment(S,D,k,wr.concat(xn),Te,!1)))}matchSegmentAgainstRoute(S,k,D,z,te,Te){let Mt;if("**"===D.path){const ft=z.length>0?fr(z).parameters:{},xn=new xo(z,ft,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Vl(D),di(D),D.component??D._loadedComponent??null,D,Bc(D));Mt=(0,J.of)({snapshot:xn,consumedSegments:[],remainingSegments:[]}),k.children={}}else Mt=sl(k,D,z,S).pipe((0,Bt.T)(({matched:ft,consumedSegments:xn,remainingSegments:ur,parameters:Br})=>ft?{snapshot:new xo(xn,Br,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Vl(D),di(D),D.component??D._loadedComponent??null,D,Bc(D)),consumedSegments:xn,remainingSegments:ur}:null));return Mt.pipe((0,_n.n)(ft=>null===ft?hi(k):this.getChildConfig(S=D._injector??S,D,z).pipe((0,_n.n)(({routes:xn})=>{const ur=D._loadedInjector??S,{snapshot:Br,consumedSegments:wr,remainingSegments:As}=ft,{segmentGroup:Ua,slicedSegments:To}=ua(k,wr,As,xn);if(0===To.length&&Ua.hasChildren())return this.processChildren(ur,xn,Ua).pipe((0,Bt.T)(Fs=>null===Fs?null:[new In(Br,Fs)]));if(0===xn.length&&0===To.length)return(0,J.of)([new In(Br,[])]);const Ti=di(D)===te;return this.processSegment(ur,xn,Ua,To,Ti?It:te,!0).pipe((0,Bt.T)(Fs=>[new In(Br,Fs)]))}))))}getChildConfig(S,k,D){return k.children?(0,J.of)({routes:k.children,injector:S}):k.loadChildren?void 0!==k._loadedRoutes?(0,J.of)({routes:k._loadedRoutes,injector:k._loadedInjector}):function Oi(x,S,k,D){const z=S.canLoad;if(void 0===z||0===z.length)return(0,J.of)(!0);const te=z.map(Te=>{const Mt=ro(Te,x);return mr(function aa(x){return x&&rs(x.canLoad)}(Mt)?Mt.canLoad(S,k):x.runInContext(()=>Mt(S,k)))});return(0,J.of)(te).pipe(Po(),is())}(S,k,D).pipe((0,ze.Z)(z=>z?this.configLoader.loadChildren(S,k).pipe((0,ht.M)(te=>{k._loadedRoutes=te.routes,k._loadedInjector=te.injector})):function Gs(x){return(0,Be.$)(Ho(!1,3))}())):(0,J.of)({routes:[],injector:S})}}function Nl(x){const S=x.value.routeConfig;return S&&""===S.path}function Fc(x){const S=[],k=new Set;for(const D of x){if(!Nl(D)){S.push(D);continue}const z=S.find(te=>D.value.routeConfig===te.value.routeConfig);void 0!==z?(z.children.push(...D.children),k.add(z)):S.push(D)}for(const D of k){const z=Fc(D.children);S.push(new In(D.value,z))}return S.filter(D=>!k.has(D))}function Vl(x){return x.data||{}}function Bc(x){return x.resolve||{}}function yc(x){return"string"==typeof x.title||null===x.title}function A(x){return(0,_n.n)(S=>{const k=x(S);return k?(0,_e.H)(k).pipe((0,Bt.T)(()=>S)):(0,J.of)(S)})}const Z=new y.nKC("ROUTES");let F=(()=>{class x{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,y.WQX)(y.Ql9)}loadComponent(k){if(this.componentLoaders.get(k))return this.componentLoaders.get(k);if(k._loadedComponent)return(0,J.of)(k._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(k);const D=mr(k.loadComponent()).pipe((0,Bt.T)(kt),(0,ht.M)(te=>{this.onLoadEndListener&&this.onLoadEndListener(k),k._loadedComponent=te}),(0,ge.j)(()=>{this.componentLoaders.delete(k)})),z=new lt.G(D,()=>new Tt.B).pipe((0,ce.B)());return this.componentLoaders.set(k,z),z}loadChildren(k,D){if(this.childrenLoaders.get(D))return this.childrenLoaders.get(D);if(D._loadedRoutes)return(0,J.of)({routes:D._loadedRoutes,injector:D._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(D);const te=function G(x,S,k,D){return mr(x.loadChildren()).pipe((0,Bt.T)(kt),(0,ze.Z)(z=>z instanceof y.Co$||Array.isArray(z)?(0,J.of)(z):(0,_e.H)(S.compileModuleAsync(z))),(0,Bt.T)(z=>{D&&D(x);let te,Te,Mt=!1;return Array.isArray(z)?(Te=z,!0):(te=z.create(k).injector,Te=te.get(Z,[],{optional:!0,self:!0}).flat()),{routes:Te.map(Ms),injector:te}}))}(D,this.compiler,k,this.onLoadEndListener).pipe((0,ge.j)(()=>{this.childrenLoaders.delete(D)})),Te=new lt.G(te,()=>new Tt.B).pipe((0,ce.B)());return this.childrenLoaders.set(D,Te),Te}static{this.\u0275fac=function(D){return new(D||x)}}static{this.\u0275prov=y.jDH({token:x,factory:x.\u0275fac,providedIn:"root"})}}return x})();function kt(x){return function Re(x){return x&&"object"==typeof x&&"default"in x}(x)?x.default:x}let Vt=(()=>{class x{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Tt.B,this.transitionAbortSubject=new Tt.B,this.configLoader=(0,y.WQX)(F),this.environmentInjector=(0,y.WQX)(y.uvJ),this.urlSerializer=(0,y.WQX)(Vr),this.rootContexts=(0,y.WQX)(vs),this.inputBindingEnabled=null!==(0,y.WQX)(yi,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,J.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=z=>this.events.next(new oa(z)),this.configLoader.onLoadStartListener=z=>this.events.next(new lo(z))}complete(){this.transitions?.complete()}handleNavigationRequest(k){const D=++this.navigationId;this.transitions?.next({...this.transitions.value,...k,id:D})}setupNavigations(k,D,z){return this.transitions=new se.t({id:0,currentUrlTree:D,currentRawUrl:D,currentBrowserUrl:D,extractedUrl:k.urlHandlingStrategy.extract(D),urlAfterRedirects:k.urlHandlingStrategy.extract(D),rawUrl:D,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Ur,restoredState:null,currentSnapshot:z.snapshot,targetSnapshot:null,currentRouterState:z,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,Ge.p)(te=>0!==te.id),(0,Bt.T)(te=>({...te,extractedUrl:k.urlHandlingStrategy.extract(te.rawUrl)})),(0,_n.n)(te=>{this.currentTransition=te;let Te=!1,Mt=!1;return(0,J.of)(te).pipe((0,ht.M)(ft=>{this.currentNavigation={id:ft.id,initialUrl:ft.rawUrl,extractedUrl:ft.extractedUrl,trigger:ft.source,extras:ft.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,_n.n)(ft=>{const xn=ft.currentBrowserUrl.toString(),ur=!k.navigated||ft.extractedUrl.toString()!==xn||xn!==ft.currentUrlTree.toString();if(!ur&&"reload"!==(ft.extras.onSameUrlNavigation??k.onSameUrlNavigation)){const wr="";return this.events.next(new xi(ft.id,this.urlSerializer.serialize(ft.rawUrl),wr,0)),ft.resolve(null),$e.w}if(k.urlHandlingStrategy.shouldProcessUrl(ft.rawUrl))return(0,J.of)(ft).pipe((0,_n.n)(wr=>{const As=this.transitions?.getValue();return this.events.next(new wo(wr.id,this.urlSerializer.serialize(wr.extractedUrl),wr.source,wr.restoredState)),As!==this.transitions?.getValue()?$e.w:Promise.resolve(wr)}),function jc(x,S,k,D,z,te){return(0,ze.Z)(Te=>function pc(x,S,k,D,z,te,Te="emptyOnly"){return new fc(x,S,k,D,z,Te,te).recognize()}(x,S,k,D,Te.extractedUrl,z,te).pipe((0,Bt.T)(({state:Mt,tree:ft})=>({...Te,targetSnapshot:Mt,urlAfterRedirects:ft}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,k.config,this.urlSerializer,k.paramsInheritanceStrategy),(0,ht.M)(wr=>{te.targetSnapshot=wr.targetSnapshot,te.urlAfterRedirects=wr.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:wr.urlAfterRedirects};const As=new _i(wr.id,this.urlSerializer.serialize(wr.extractedUrl),this.urlSerializer.serialize(wr.urlAfterRedirects),wr.targetSnapshot);this.events.next(As)}));if(ur&&k.urlHandlingStrategy.shouldProcessUrl(ft.currentRawUrl)){const{id:wr,extractedUrl:As,source:Ua,restoredState:To,extras:Ti}=ft,Fs=new wo(wr,this.urlSerializer.serialize(As),Ua,To);this.events.next(Fs);const wu=Ji(0,this.rootComponentType).snapshot;return this.currentTransition=te={...ft,targetSnapshot:wu,urlAfterRedirects:As,extras:{...Ti,skipLocationChange:!1,replaceUrl:!1}},(0,J.of)(te)}{const wr="";return this.events.next(new xi(ft.id,this.urlSerializer.serialize(ft.extractedUrl),wr,1)),ft.resolve(null),$e.w}}),(0,ht.M)(ft=>{const xn=new ac(ft.id,this.urlSerializer.serialize(ft.extractedUrl),this.urlSerializer.serialize(ft.urlAfterRedirects),ft.targetSnapshot);this.events.next(xn)}),(0,Bt.T)(ft=>(this.currentTransition=te={...ft,guards:ni(ft.targetSnapshot,ft.currentSnapshot,this.rootContexts)},te)),function ca(x,S){return(0,ze.Z)(k=>{const{targetSnapshot:D,currentSnapshot:z,guards:{canActivateChecks:te,canDeactivateChecks:Te}}=k;return 0===Te.length&&0===te.length?(0,J.of)({...k,guardsResult:!0}):function _u(x,S,k,D){return(0,_e.H)(x).pipe((0,ze.Z)(z=>function Ns(x,S,k,D,z){const te=S&&S.routeConfig?S.routeConfig.canDeactivate:null;if(!te||0===te.length)return(0,J.of)(!0);const Te=te.map(Mt=>{const ft=po(S)??z,xn=ro(Mt,ft);return mr(function V(x){return x&&rs(x.canDeactivate)}(xn)?xn.canDeactivate(x,S,k,D):ft.runInContext(()=>xn(x,S,k,D))).pipe(qn())});return(0,J.of)(Te).pipe(Po())}(z.component,z.route,k,S,D)),qn(z=>!0!==z,!0))}(Te,D,z,x).pipe((0,ze.Z)(Mt=>Mt&&function Vc(x){return"boolean"==typeof x}(Mt)?function ws(x,S,k,D){return(0,_e.H)(S).pipe((0,Lt.H)(z=>(0,De.x)(function Os(x,S){return null!==x&&S&&S(new Us(x)),(0,J.of)(!0)}(z.route.parent,D),function lc(x,S){return null!==x&&S&&S(new Ci(x)),(0,J.of)(!0)}(z.route,D),function uc(x,S,k){const D=S[S.length-1],te=S.slice(0,S.length-1).reverse().map(Te=>function Ws(x){const S=x.routeConfig?x.routeConfig.canActivateChild:null;return S&&0!==S.length?{node:x,guards:S}:null}(Te)).filter(Te=>null!==Te).map(Te=>(0,re.v)(()=>{const Mt=Te.guards.map(ft=>{const xn=po(Te.node)??k,ur=ro(ft,xn);return mr(function K(x){return x&&rs(x.canActivateChild)}(ur)?ur.canActivateChild(D,x):xn.runInContext(()=>ur(D,x))).pipe(qn())});return(0,J.of)(Mt).pipe(Po())}));return(0,J.of)(te).pipe(Po())}(x,z.path,k),function Ca(x,S,k){const D=S.routeConfig?S.routeConfig.canActivate:null;if(!D||0===D.length)return(0,J.of)(!0);const z=D.map(te=>(0,re.v)(()=>{const Te=po(S)??k,Mt=ro(te,Te);return mr(function q(x){return x&&rs(x.canActivate)}(Mt)?Mt.canActivate(S,x):Te.runInContext(()=>Mt(S,x))).pipe(qn())}));return(0,J.of)(z).pipe(Po())}(x,z.route,k))),qn(z=>!0!==z,!0))}(D,te,x,S):(0,J.of)(Mt)),(0,Bt.T)(Mt=>({...k,guardsResult:Mt})))})}(this.environmentInjector,ft=>this.events.next(ft)),(0,ht.M)(ft=>{if(te.guardsResult=ft.guardsResult,Gt(ft.guardsResult))throw ts(0,ft.guardsResult);const xn=new wa(ft.id,this.urlSerializer.serialize(ft.extractedUrl),this.urlSerializer.serialize(ft.urlAfterRedirects),ft.targetSnapshot,!!ft.guardsResult);this.events.next(xn)}),(0,Ge.p)(ft=>!!ft.guardsResult||(this.cancelNavigationTransition(ft,"",3),!1)),A(ft=>{if(ft.guards.canActivateChecks.length)return(0,J.of)(ft).pipe((0,ht.M)(xn=>{const ur=new Ri(xn.id,this.urlSerializer.serialize(xn.extractedUrl),this.urlSerializer.serialize(xn.urlAfterRedirects),xn.targetSnapshot);this.events.next(ur)}),(0,_n.n)(xn=>{let ur=!1;return(0,J.of)(xn).pipe(function Ks(x,S){return(0,ze.Z)(k=>{const{targetSnapshot:D,guards:{canActivateChecks:z}}=k;if(!z.length)return(0,J.of)(k);let te=0;return(0,_e.H)(z).pipe((0,Lt.H)(Te=>function Ll(x,S,k,D){const z=x.routeConfig,te=x._resolve;return void 0!==z?.title&&!yc(z)&&(te[Mn]=z.title),function Qs(x,S,k,D){const z=function da(x){return[...Object.keys(x),...Object.getOwnPropertySymbols(x)]}(x);if(0===z.length)return(0,J.of)({});const te={};return(0,_e.H)(z).pipe((0,ze.Z)(Te=>function Ls(x,S,k,D){const z=po(S)??D,te=ro(x,z);return mr(te.resolve?te.resolve(S,k):z.runInContext(()=>te(S,k)))}(x[Te],S,k,D).pipe(qn(),(0,ht.M)(Mt=>{te[Te]=Mt}))),Ot(1),function je(x){return(0,Bt.T)(()=>x)}(te),(0,Ht.W)(Te=>er(Te)?$e.w:(0,Be.$)(Te)))}(te,x,S,D).pipe((0,Bt.T)(Te=>(x._resolvedData=Te,x.data=Eo(x,k).resolve,z&&yc(z)&&(x.data[Mn]=z.title),null)))}(Te.route,D,x,S)),(0,ht.M)(()=>te++),Ot(1),(0,ze.Z)(Te=>te===z.length?(0,J.of)(k):$e.w))})}(k.paramsInheritanceStrategy,this.environmentInjector),(0,ht.M)({next:()=>ur=!0,complete:()=>{ur||this.cancelNavigationTransition(xn,"",2)}}))}),(0,ht.M)(xn=>{const ur=new Ea(xn.id,this.urlSerializer.serialize(xn.extractedUrl),this.urlSerializer.serialize(xn.urlAfterRedirects),xn.targetSnapshot);this.events.next(ur)}))}),A(ft=>{const xn=ur=>{const Br=[];ur.routeConfig?.loadComponent&&!ur.routeConfig._loadedComponent&&Br.push(this.configLoader.loadComponent(ur.routeConfig).pipe((0,ht.M)(wr=>{ur.component=wr}),(0,Bt.T)(()=>{})));for(const wr of ur.children)Br.push(...xn(wr));return Br};return(0,ae.z)(xn(ft.targetSnapshot.root)).pipe(xt(),(0,Xt.s)(1))}),A(()=>this.afterPreactivation()),(0,Bt.T)(ft=>{const xn=function $r(x,S,k){const D=Fi(x,S._root,k?k._root:void 0);return new ui(D,S)}(k.routeReuseStrategy,ft.targetSnapshot,ft.currentRouterState);return this.currentTransition=te={...ft,targetRouterState:xn},te}),(0,ht.M)(()=>{this.events.next(new Ps)}),((x,S,k,D)=>(0,Bt.T)(z=>(new Cr(S,z.targetRouterState,z.currentRouterState,k,D).activate(x),z)))(this.rootContexts,k.routeReuseStrategy,ft=>this.events.next(ft),this.inputBindingEnabled),(0,Xt.s)(1),(0,ht.M)({next:ft=>{Te=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Er(ft.id,this.urlSerializer.serialize(ft.extractedUrl),this.urlSerializer.serialize(ft.urlAfterRedirects))),k.titleStrategy?.updateTitle(ft.targetRouterState.snapshot),ft.resolve(!0)},complete:()=>{Te=!0}}),(0,Pe.Q)(this.transitionAbortSubject.pipe((0,ht.M)(ft=>{throw ft}))),(0,ge.j)(()=>{Te||Mt||this.cancelNavigationTransition(te,"",1),this.currentNavigation?.id===te.id&&(this.currentNavigation=null)}),(0,Ht.W)(ft=>{if(Mt=!0,ls(ft))this.events.next(new Ei(te.id,this.urlSerializer.serialize(te.extractedUrl),ft.message,ft.cancellationCode)),function Nr(x){return ls(x)&&Gt(x.url)}(ft)?this.events.next(new jo(ft.url)):te.resolve(!1);else{this.events.next(new So(te.id,this.urlSerializer.serialize(te.extractedUrl),ft,te.targetSnapshot??void 0));try{te.resolve(k.errorHandler(ft))}catch(xn){te.reject(xn)}}return $e.w}))}))}cancelNavigationTransition(k,D,z){const te=new Ei(k.id,this.urlSerializer.serialize(k.extractedUrl),D,z);this.events.next(te),k.resolve(!1)}static{this.\u0275fac=function(D){return new(D||x)}}static{this.\u0275prov=y.jDH({token:x,factory:x.\u0275fac,providedIn:"root"})}}return x})();function Vn(x){return x!==Ur}let wn=(()=>{class x{buildTitle(k){let D,z=k.root;for(;void 0!==z;)D=this.getResolvedTitleForRoute(z)??D,z=z.children.find(te=>te.outlet===It);return D}getResolvedTitleForRoute(k){return k.data[Mn]}static{this.\u0275fac=function(D){return new(D||x)}}static{this.\u0275prov=y.jDH({token:x,factory:function(){return(0,y.WQX)(Xn)},providedIn:"root"})}}return x})(),Xn=(()=>{class x extends wn{constructor(k){super(),this.title=k}updateTitle(k){const D=this.buildTitle(k);void 0!==D&&this.title.setTitle(D)}static{this.\u0275fac=function(D){return new(D||x)(y.KVO(pt.hE))}}static{this.\u0275prov=y.jDH({token:x,factory:x.\u0275fac,providedIn:"root"})}}return x})(),Mr=(()=>{class x{static{this.\u0275fac=function(D){return new(D||x)}}static{this.\u0275prov=y.jDH({token:x,factory:function(){return(0,y.WQX)(pi)},providedIn:"root"})}}return x})();class hr{shouldDetach(S){return!1}store(S,k){}shouldAttach(S){return!1}retrieve(S){return null}shouldReuseRoute(S,k){return S.routeConfig===k.routeConfig}}let pi=(()=>{class x extends hr{static{this.\u0275fac=function(){let k;return function(z){return(k||(k=y.xGo(x)))(z||x)}}()}static{this.\u0275prov=y.jDH({token:x,factory:x.\u0275fac,providedIn:"root"})}}return x})();const zr=new y.nKC("",{providedIn:"root",factory:()=>({})});let Wi=(()=>{class x{static{this.\u0275fac=function(D){return new(D||x)}}static{this.\u0275prov=y.jDH({token:x,factory:function(){return(0,y.WQX)(os)},providedIn:"root"})}}return x})(),os=(()=>{class x{shouldProcessUrl(k){return!0}extract(k){return k}merge(k,D){return k}static{this.\u0275fac=function(D){return new(D||x)}}static{this.\u0275prov=y.jDH({token:x,factory:x.\u0275fac,providedIn:"root"})}}return x})();var bi=function(x){return x[x.COMPLETE=0]="COMPLETE",x[x.FAILED=1]="FAILED",x[x.REDIRECTING=2]="REDIRECTING",x}(bi||{});function so(x,S){x.events.pipe((0,Ge.p)(k=>k instanceof Er||k instanceof Ei||k instanceof So||k instanceof xi),(0,Bt.T)(k=>k instanceof Er||k instanceof xi?bi.COMPLETE:k instanceof Ei&&(0===k.code||1===k.code)?bi.REDIRECTING:bi.FAILED),(0,Ge.p)(k=>k!==bi.REDIRECTING),(0,Xt.s)(1)).subscribe(()=>{S()})}function Ii(x){throw x}function xs(x,S,k){return S.parse("/")}const Gi={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},qo={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let fo=(()=>{class x{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,y.WQX)(y.H3F),this.isNgZoneEnabled=!1,this._events=new Tt.B,this.options=(0,y.WQX)(zr,{optional:!0})||{},this.pendingTasks=(0,y.WQX)(y.$K3),this.errorHandler=this.options.errorHandler||Ii,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||xs,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,y.WQX)(Wi),this.routeReuseStrategy=(0,y.WQX)(Mr),this.titleStrategy=(0,y.WQX)(wn),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,y.WQX)(Z,{optional:!0})?.flat()??[],this.navigationTransitions=(0,y.WQX)(Vt),this.urlSerializer=(0,y.WQX)(Vr),this.location=(0,y.WQX)(Ft.aZ),this.componentInputBindingEnabled=!!(0,y.WQX)(yi,{optional:!0}),this.eventsSubscription=new Dt.yU,this.isNgZoneEnabled=(0,y.WQX)(y.SKi)instanceof y.SKi&&y.SKi.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new At,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Ji(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(k=>{this.lastSuccessfulId=k.id,this.currentPageId=this.browserPageId},k=>{this.console.warn(`Unhandled Navigation Error: ${k}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const k=this.navigationTransitions.events.subscribe(D=>{try{const{currentTransition:z}=this.navigationTransitions;if(null===z)return void(gc(D)&&this._events.next(D));if(D instanceof wo)Vn(z.source)&&(this.browserUrlTree=z.extractedUrl);else if(D instanceof xi)this.rawUrlTree=z.rawUrl;else if(D instanceof _i){if("eager"===this.urlUpdateStrategy){if(!z.extras.skipLocationChange){const te=this.urlHandlingStrategy.merge(z.urlAfterRedirects,z.rawUrl);this.setBrowserUrl(te,z)}this.browserUrlTree=z.urlAfterRedirects}}else if(D instanceof Ps)this.currentUrlTree=z.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(z.urlAfterRedirects,z.rawUrl),this.routerState=z.targetRouterState,"deferred"===this.urlUpdateStrategy&&(z.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,z),this.browserUrlTree=z.urlAfterRedirects);else if(D instanceof Ei)0!==D.code&&1!==D.code&&(this.navigated=!0),(3===D.code||2===D.code)&&this.restoreHistory(z);else if(D instanceof jo){const te=this.urlHandlingStrategy.merge(D.url,z.currentRawUrl),Te={skipLocationChange:z.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Vn(z.source)};this.scheduleNavigation(te,Ur,null,Te,{resolve:z.resolve,reject:z.reject,promise:z.promise})}D instanceof So&&this.restoreHistory(z,!0),D instanceof Er&&(this.navigated=!0),gc(D)&&this._events.next(D)}catch(z){this.navigationTransitions.transitionAbortSubject.next(z)}});this.eventsSubscription.add(k)}resetRootComponentType(k){this.routerState.root.component=k,this.navigationTransitions.rootComponentType=k}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const k=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Ur,k)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(k=>{const D="popstate"===k.type?"popstate":"hashchange";"popstate"===D&&setTimeout(()=>{this.navigateToSyncWithBrowser(k.url,D,k.state)},0)}))}navigateToSyncWithBrowser(k,D,z){const te={replaceUrl:!0},Te=z?.navigationId?z:null;if(z){const ft={...z};delete ft.navigationId,delete ft.\u0275routerPageId,0!==Object.keys(ft).length&&(te.state=ft)}const Mt=this.parseUrl(k);this.scheduleNavigation(Mt,D,Te,te)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(k){this.config=k.map(Ms),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(k,D={}){const{relativeTo:z,queryParams:te,fragment:Te,queryParamsHandling:Mt,preserveFragment:ft}=D,xn=ft?this.currentUrlTree.fragment:Te;let Br,ur=null;switch(Mt){case"merge":ur={...this.currentUrlTree.queryParams,...te};break;case"preserve":ur=this.currentUrlTree.queryParams;break;default:ur=te||null}null!==ur&&(ur=this.removeEmptyProps(ur));try{Br=Me(z?z.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof k[0]||!k[0].startsWith("/"))&&(k=[]),Br=this.currentUrlTree.root}return Le(Br,k,ur,xn??null)}navigateByUrl(k,D={skipLocationChange:!1}){const z=Gt(k)?k:this.parseUrl(k),te=this.urlHandlingStrategy.merge(z,this.rawUrlTree);return this.scheduleNavigation(te,Ur,null,D)}navigate(k,D={skipLocationChange:!1}){return function oi(x){for(let S=0;S<x.length;S++)if(null==x[S])throw new y.wOt(4008,!1)}(k),this.navigateByUrl(this.createUrlTree(k,D),D)}serializeUrl(k){return this.urlSerializer.serialize(k)}parseUrl(k){let D;try{D=this.urlSerializer.parse(k)}catch(z){D=this.malformedUriErrorHandler(z,this.urlSerializer,k)}return D}isActive(k,D){let z;if(z=!0===D?{...Gi}:!1===D?{...qo}:D,Gt(k))return oe(this.currentUrlTree,k,z);const te=this.parseUrl(k);return oe(this.currentUrlTree,te,z)}removeEmptyProps(k){return Object.keys(k).reduce((D,z)=>{const te=k[z];return null!=te&&(D[z]=te),D},{})}scheduleNavigation(k,D,z,te,Te){if(this.disposed)return Promise.resolve(!1);let Mt,ft,xn;Te?(Mt=Te.resolve,ft=Te.reject,xn=Te.promise):xn=new Promise((Br,wr)=>{Mt=Br,ft=wr});const ur=this.pendingTasks.add();return so(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(ur))}),this.navigationTransitions.handleNavigationRequest({source:D,restoredState:z,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:k,extras:te,resolve:Mt,reject:ft,promise:xn,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),xn.catch(Br=>Promise.reject(Br))}setBrowserUrl(k,D){const z=this.urlSerializer.serialize(k);if(this.location.isCurrentPathEqualTo(z)||D.extras.replaceUrl){const Te={...D.extras.state,...this.generateNgRouterState(D.id,this.browserPageId)};this.location.replaceState(z,"",Te)}else{const te={...D.extras.state,...this.generateNgRouterState(D.id,this.browserPageId+1)};this.location.go(z,"",te)}}restoreHistory(k,D=!1){if("computed"===this.canceledNavigationResolution){const te=this.currentPageId-this.browserPageId;0!==te?this.location.historyGo(te):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===te&&(this.resetState(k),this.browserUrlTree=k.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(D&&this.resetState(k),this.resetUrlToCurrentUrlTree())}resetState(k){this.routerState=k.currentRouterState,this.currentUrlTree=k.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,k.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(k,D){return"computed"===this.canceledNavigationResolution?{navigationId:k,\u0275routerPageId:D}:{navigationId:k}}static{this.\u0275fac=function(D){return new(D||x)}}static{this.\u0275prov=y.jDH({token:x,factory:x.\u0275fac,providedIn:"root"})}}return x})();function gc(x){return!(x instanceof Ps||x instanceof jo)}let ha=(()=>{class x{constructor(k,D,z,te,Te,Mt){this.router=k,this.route=D,this.tabIndexAttribute=z,this.renderer=te,this.el=Te,this.locationStrategy=Mt,this.href=null,this.commands=null,this.onChanges=new Tt.B,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const ft=Te.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===ft||"area"===ft,this.isAnchorElement?this.subscription=k.events.subscribe(xn=>{xn instanceof Er&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(k){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",k)}ngOnChanges(k){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(k){null!=k?(this.commands=Array.isArray(k)?k:[k],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(k,D,z,te,Te){return!!(null===this.urlTree||this.isAnchorElement&&(0!==k||D||z||te||Te||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const k=null===this.href?null:(0,y.n$t)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",k)}applyAttributeValue(k,D){const z=this.renderer,te=this.el.nativeElement;null!==D?z.setAttribute(te,k,D):z.removeAttribute(te,k)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(D){return new(D||x)(y.rXU(fo),y.rXU(es),y.kS0("tabindex"),y.rXU(y.sFG),y.rXU(y.aKT),y.rXU(Ft.hb))}}static{this.\u0275dir=y.FsC({type:x,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(D,z){1&D&&y.bIt("click",function(Te){return z.onClick(Te.button,Te.ctrlKey,Te.shiftKey,Te.altKey,Te.metaKey)}),2&D&&y.BMQ("target",z.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",y.L39],skipLocationChange:["skipLocationChange","skipLocationChange",y.L39],replaceUrl:["replaceUrl","replaceUrl",y.L39],routerLink:"routerLink"},standalone:!0,features:[y.GFd,y.OA$]})}}return x})(),mo=(()=>{class x{get isActive(){return this._isActive}constructor(k,D,z,te,Te){this.router=k,this.element=D,this.renderer=z,this.cdr=te,this.link=Te,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new y.bkB,this.routerEventsSubscription=k.events.subscribe(Mt=>{Mt instanceof Er&&this.update()})}ngAfterContentInit(){(0,J.of)(this.links.changes,(0,J.of)(null)).pipe((0,Ct.U)()).subscribe(k=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const k=[...this.links.toArray(),this.link].filter(D=>!!D).map(D=>D.onChanges);this.linkInputChangesSubscription=(0,_e.H)(k).pipe((0,Ct.U)()).subscribe(D=>{this._isActive!==this.isLinkActive(this.router)(D)&&this.update()})}set routerLinkActive(k){const D=Array.isArray(k)?k:k.split(" ");this.classes=D.filter(z=>!!z)}ngOnChanges(k){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{const k=this.hasActiveLinks();this._isActive!==k&&(this._isActive=k,this.cdr.markForCheck(),this.classes.forEach(D=>{k?this.renderer.addClass(this.element.nativeElement,D):this.renderer.removeClass(this.element.nativeElement,D)}),k&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(k))})}isLinkActive(k){const D=function vu(x){return!!x.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return z=>!!z.urlTree&&k.isActive(z.urlTree,D)}hasActiveLinks(){const k=this.isLinkActive(this.router);return this.link&&k(this.link)||this.links.some(k)}static{this.\u0275fac=function(D){return new(D||x)(y.rXU(fo),y.rXU(y.aKT),y.rXU(y.sFG),y.rXU(y.gRc),y.rXU(ha,8))}}static{this.\u0275dir=y.FsC({type:x,selectors:[["","routerLinkActive",""]],contentQueries:function(D,z,te){if(1&D&&y.wni(te,ha,5),2&D){let Te;y.mGM(Te=y.lsd())&&(z.links=Te)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[y.OA$]})}}return x})();class vi{}let Vo=(()=>{class x{constructor(k,D,z,te,Te){this.router=k,this.injector=z,this.preloadingStrategy=te,this.loader=Te}setUpPreloading(){this.subscription=this.router.events.pipe((0,Ge.p)(k=>k instanceof Er),(0,Lt.H)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(k,D){const z=[];for(const te of D){te.providers&&!te._injector&&(te._injector=(0,y.Ol2)(te.providers,k,`Route: ${te.path}`));const Te=te._injector??k,Mt=te._loadedInjector??Te;(te.loadChildren&&!te._loadedRoutes&&void 0===te.canLoad||te.loadComponent&&!te._loadedComponent)&&z.push(this.preloadConfig(Te,te)),(te.children||te._loadedRoutes)&&z.push(this.processRoutes(Mt,te.children??te._loadedRoutes))}return(0,_e.H)(z).pipe((0,Ct.U)())}preloadConfig(k,D){return this.preloadingStrategy.preload(D,()=>{let z;z=D.loadChildren&&void 0===D.canLoad?this.loader.loadChildren(k,D):(0,J.of)(null);const te=z.pipe((0,ze.Z)(Te=>null===Te?(0,J.of)(void 0):(D._loadedRoutes=Te.routes,D._loadedInjector=Te.injector,this.processRoutes(Te.injector??k,Te.routes))));if(D.loadComponent&&!D._loadedComponent){const Te=this.loader.loadComponent(D);return(0,_e.H)([te,Te]).pipe((0,Ct.U)())}return te})}static{this.\u0275fac=function(D){return new(D||x)(y.KVO(fo),y.KVO(y.Ql9),y.KVO(y.uvJ),y.KVO(vi),y.KVO(F))}}static{this.\u0275prov=y.jDH({token:x,factory:x.\u0275fac,providedIn:"root"})}}return x})();const _c=new y.nKC("");let Fl=(()=>{class x{constructor(k,D,z,te,Te={}){this.urlSerializer=k,this.transitions=D,this.viewportScroller=z,this.zone=te,this.options=Te,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},Te.scrollPositionRestoration=Te.scrollPositionRestoration||"disabled",Te.anchorScrolling=Te.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(k=>{k instanceof wo?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=k.navigationTrigger,this.restoredId=k.restoredState?k.restoredState.navigationId:0):k instanceof Er?(this.lastId=k.id,this.scheduleScrollEvent(k,this.urlSerializer.parse(k.urlAfterRedirects).fragment)):k instanceof xi&&0===k.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(k,this.urlSerializer.parse(k.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(k=>{k instanceof Pr&&(k.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(k.position):k.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(k.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(k,D){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Pr(k,"popstate"===this.lastSource?this.store[this.restoredId]:null,D))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(D){y.QTQ()}}static{this.\u0275prov=y.jDH({token:x,factory:x.\u0275fac})}}return x})();function Zs(x,S){return{\u0275kind:x,\u0275providers:S}}function Yn(){const x=(0,y.WQX)(y.zZn);return S=>{const k=x.get(y.o8S);if(S!==k.components[0])return;const D=x.get(fo),z=x.get(hs);1===x.get(cl)&&D.initialNavigation(),x.get(Xs,null,y.$GK.Optional)?.setUpPreloading(),x.get(_c,null,y.$GK.Optional)?.init(),D.resetRootComponentType(k.componentTypes[0]),z.closed||(z.next(),z.complete(),z.unsubscribe())}}const hs=new y.nKC("",{factory:()=>new Tt.B}),cl=new y.nKC("",{providedIn:"root",factory:()=>1}),Xs=new y.nKC("");function kc(x){return Zs(0,[{provide:Xs,useExisting:Vo},{provide:vi,useExisting:x}])}const $t=new y.nKC("ROUTER_FORROOT_GUARD"),Kr=[Ft.aZ,{provide:Vr,useClass:On},fo,vs,{provide:es,useFactory:function al(x){return x.routerState.root},deps:[fo]},F,[]];function Mi(){return new y.NEm("Router",fo)}let ss=(()=>{class x{constructor(k){}static forRoot(k,D){return{ngModule:x,providers:[Kr,[],{provide:Z,multi:!0,useValue:k},{provide:$t,useFactory:Ar,deps:[[fo,new y.Xx1,new y.kdw]]},{provide:zr,useValue:D||{}},D?.useHash?{provide:Ft.hb,useClass:Ft.fw}:{provide:Ft.hb,useClass:Ft.Sm},{provide:_c,useFactory:()=>{const x=(0,y.WQX)(Ft.Xr),S=(0,y.WQX)(y.SKi),k=(0,y.WQX)(zr),D=(0,y.WQX)(Vt),z=(0,y.WQX)(Vr);return k.scrollOffset&&x.setOffset(k.scrollOffset),new Fl(z,D,x,S,k)}},D?.preloadingStrategy?kc(D.preloadingStrategy).\u0275providers:[],{provide:y.NEm,multi:!0,useFactory:Mi},D?.initialNavigation?bc(D):[],D?.bindToComponentInputs?Zs(8,[uo,{provide:yi,useExisting:uo}]).\u0275providers:[],[{provide:Ia,useFactory:Yn},{provide:y.iLQ,multi:!0,useExisting:Ia}]]}}static forChild(k){return{ngModule:x,providers:[{provide:Z,multi:!0,useValue:k}]}}static{this.\u0275fac=function(D){return new(D||x)(y.KVO($t,8))}}static{this.\u0275mod=y.$C({type:x})}static{this.\u0275inj=y.G2t({})}}return x})();function Ar(x){return"guarded"}function bc(x){return["disabled"===x.initialNavigation?Zs(3,[{provide:y.hnV,multi:!0,useFactory:()=>{const S=(0,y.WQX)(fo);return()=>{S.setUpLocationChangeListener()}}},{provide:cl,useValue:2}]).\u0275providers:[],"enabledBlocking"===x.initialNavigation?Zs(2,[{provide:cl,useValue:0},{provide:y.hnV,multi:!0,deps:[y.zZn],useFactory:S=>{const k=S.get(Ft.hj,Promise.resolve());return()=>k.then(()=>new Promise(D=>{const z=S.get(fo),te=S.get(hs);so(z,()=>{D(!0)}),S.get(Vt).afterPreactivation=()=>(D(!0),te.closed?(0,J.of)(void 0):te),z.initialNavigation()}))}}]).\u0275providers:[]]}const Ia=new y.nKC("")},7852:(hn,tt,B)=>{B.d(tt,{MF:()=>qt,j6:()=>Vr,xZ:()=>Lr,om:()=>Jt,Sx:()=>$n,Dk:()=>ar,Wp:()=>Oe,KO:()=>R});var y=B(467),ne=B(1362),_e=B(8041),J=B(1076);const se=(mt,Je)=>Je.some(St=>mt instanceof St);let ae,Ve;const re=new WeakMap,ve=new WeakMap,Be=new WeakMap,$e=new WeakMap,lt=new WeakMap;let Ft={get(mt,Je,St){if(mt instanceof IDBTransaction){if("done"===Je)return ve.get(mt);if("objectStoreNames"===Je)return mt.objectStoreNames||Be.get(mt);if("store"===Je)return St.objectStoreNames[1]?void 0:St.objectStore(St.objectStoreNames[0])}return be(mt[Je])},set:(mt,Je,St)=>(mt[Je]=St,!0),has:(mt,Je)=>mt instanceof IDBTransaction&&("done"===Je||"store"===Je)||Je in mt};function Xt(mt){return"function"==typeof mt?function _n(mt){return mt!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function De(){return Ve||(Ve=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(mt)?function(...Je){return mt.apply(Ge(this),Je),be(re.get(this))}:function(...Je){return be(mt.apply(Ge(this),Je))}:function(Je,...St){const nn=mt.call(Ge(this),Je,...St);return Be.set(nn,Je.sort?Je.sort():[Je]),be(nn)}}(mt):(mt instanceof IDBTransaction&&function Dt(mt){if(ve.has(mt))return;const Je=new Promise((St,nn)=>{const Pn=()=>{mt.removeEventListener("complete",bn),mt.removeEventListener("error",An),mt.removeEventListener("abort",An)},bn=()=>{St(),Pn()},An=()=>{nn(mt.error||new DOMException("AbortError","AbortError")),Pn()};mt.addEventListener("complete",bn),mt.addEventListener("error",An),mt.addEventListener("abort",An)});ve.set(mt,Je)}(mt),se(mt,function Se(){return ae||(ae=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(mt,Ft):mt)}function be(mt){if(mt instanceof IDBRequest)return function Tt(mt){const Je=new Promise((St,nn)=>{const Pn=()=>{mt.removeEventListener("success",bn),mt.removeEventListener("error",An)},bn=()=>{St(be(mt.result)),Pn()},An=()=>{nn(mt.error),Pn()};mt.addEventListener("success",bn),mt.addEventListener("error",An)});return Je.then(St=>{St instanceof IDBCursor&&re.set(St,mt)}).catch(()=>{}),lt.set(Je,mt),Je}(mt);if($e.has(mt))return $e.get(mt);const Je=Xt(mt);return Je!==mt&&($e.set(mt,Je),lt.set(Je,mt)),Je}const Ge=mt=>lt.get(mt),dt=["get","getKey","getAll","getAllKeys","count"],xt=["put","add","delete","clear"],Yt=new Map;function mn(mt,Je){if(!(mt instanceof IDBDatabase)||Je in mt||"string"!=typeof Je)return;if(Yt.get(Je))return Yt.get(Je);const St=Je.replace(/FromIndex$/,""),nn=Je!==St,Pn=xt.includes(St);if(!(St in(nn?IDBIndex:IDBObjectStore).prototype)||!Pn&&!dt.includes(St))return;const bn=function(){var An=(0,y.A)(function*(br,...Fr){const _r=this.transaction(br,Pn?"readwrite":"readonly");let Ur=_r.store;return nn&&(Ur=Ur.index(Fr.shift())),(yield Promise.all([Ur[St](...Fr),Pn&&_r.done]))[0]});return function(Fr){return An.apply(this,arguments)}}();return Yt.set(Je,bn),bn}!function Bt(mt){Ft=mt(Ft)}(mt=>({...mt,get:(Je,St,nn)=>mn(Je,St)||mt.get(Je,St,nn),has:(Je,St)=>!!mn(Je,St)||mt.has(Je,St)}));class vn{constructor(Je){this.container=Je}getPlatformInfoString(){return this.container.getProviders().map(St=>{if(function qn(mt){const Je=mt.getComponent();return"VERSION"===Je?.type}(St)){const nn=St.getImmediate();return`${nn.library}/${nn.version}`}return null}).filter(St=>St).join(" ")}}const Lt="@firebase/app",ht="0.10.13",Ht=new _e.Vy("@firebase/app"),Nt="[DEFAULT]",Qt={[Lt]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/data-connect":"fire-data-connect","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","@firebase/vertexai-preview":"fire-vertex","fire-js":"fire-js",firebase:"fire-js-all"},At=new Map,an=new Map,rn=new Map;function Bn(mt,Je){try{mt.container.addComponent(Je)}catch(St){Ht.debug(`Component ${Je.name} failed to register with FirebaseApp ${mt.name}`,St)}}function Jt(mt){const Je=mt.name;if(rn.has(Je))return Ht.debug(`There were multiple attempts to register component ${Je}.`),!1;rn.set(Je,mt);for(const St of At.values())Bn(St,mt);for(const St of an.values())Bn(St,mt);return!0}function Vr(mt,Je){const St=mt.container.getProvider("heartbeat").getImmediate({optional:!0});return St&&St.triggerHeartbeat(),mt.container.getProvider(Je)}function Lr(mt){return void 0!==mt.settings}const st=new J.FA("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class qe{constructor(Je,St,nn){this._isDeleted=!1,this._options=Object.assign({},Je),this._config=Object.assign({},St),this._name=St.name,this._automaticDataCollectionEnabled=St.automaticDataCollectionEnabled,this._container=nn,this.container.addComponent(new ne.uA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Je){this.checkDestroyed(),this._automaticDataCollectionEnabled=Je}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Je){this._isDeleted=Je}checkDestroyed(){if(this.isDeleted)throw st.create("app-deleted",{appName:this._name})}}const qt="10.14.1";function Oe(mt,Je={}){let St=mt;"object"!=typeof Je&&(Je={name:Je});const nn=Object.assign({name:Nt,automaticDataCollectionEnabled:!1},Je),Pn=nn.name;if("string"!=typeof Pn||!Pn)throw st.create("bad-app-name",{appName:String(Pn)});if(St||(St=(0,J.T9)()),!St)throw st.create("no-options");const bn=At.get(Pn);if(bn){if((0,J.bD)(St,bn.options)&&(0,J.bD)(nn,bn.config))return bn;throw st.create("duplicate-app",{appName:Pn})}const An=new ne.h1(Pn);for(const Fr of rn.values())An.addComponent(Fr);const br=new qe(St,nn,An);return At.set(Pn,br),br}function $n(mt=Nt){const Je=At.get(mt);if(!Je&&mt===Nt&&(0,J.T9)())return Oe();if(!Je)throw st.create("no-app",{appName:mt});return Je}function ar(){return Array.from(At.values())}function R(mt,Je,St){var nn;let Pn=null!==(nn=Qt[mt])&&void 0!==nn?nn:mt;St&&(Pn+=`-${St}`);const bn=Pn.match(/\s|\//),An=Je.match(/\s|\//);if(bn||An){const br=[`Unable to register library "${Pn}" with version "${Je}":`];return bn&&br.push(`library name "${Pn}" contains illegal characters (whitespace or "/")`),bn&&An&&br.push("and"),An&&br.push(`version name "${Je}" contains illegal characters (whitespace or "/")`),void Ht.warn(br.join(" "))}Jt(new ne.uA(`${Pn}-version`,()=>({library:Pn,version:Je}),"VERSION"))}const me="firebase-heartbeat-database",Ie=1,ke="firebase-heartbeat-store";let fe=null;function ie(){return fe||(fe=function ze(mt,Je,{blocked:St,upgrade:nn,blocking:Pn,terminated:bn}={}){const An=indexedDB.open(mt,Je),br=be(An);return nn&&An.addEventListener("upgradeneeded",Fr=>{nn(be(An.result),Fr.oldVersion,Fr.newVersion,be(An.transaction),Fr)}),St&&An.addEventListener("blocked",Fr=>St(Fr.oldVersion,Fr.newVersion,Fr)),br.then(Fr=>{bn&&Fr.addEventListener("close",()=>bn()),Pn&&Fr.addEventListener("versionchange",_r=>Pn(_r.oldVersion,_r.newVersion,_r))}).catch(()=>{}),br}(me,Ie,{upgrade:(mt,Je)=>{if(0===Je)try{mt.createObjectStore(ke)}catch(St){console.warn(St)}}}).catch(mt=>{throw st.create("idb-open",{originalErrorMessage:mt.message})})),fe}function rt(){return(rt=(0,y.A)(function*(mt){try{const St=(yield ie()).transaction(ke),nn=yield St.objectStore(ke).get(Me(mt));return yield St.done,nn}catch(Je){if(Je instanceof J.g)Ht.warn(Je.message);else{const St=st.create("idb-get",{originalErrorMessage:Je?.message});Ht.warn(St.message)}}})).apply(this,arguments)}function Gt(mt,Je){return we.apply(this,arguments)}function we(){return(we=(0,y.A)(function*(mt,Je){try{const nn=(yield ie()).transaction(ke,"readwrite");yield nn.objectStore(ke).put(Je,Me(mt)),yield nn.done}catch(St){if(St instanceof J.g)Ht.warn(St.message);else{const nn=st.create("idb-set",{originalErrorMessage:St?.message});Ht.warn(nn.message)}}})).apply(this,arguments)}function Me(mt){return`${mt.name}!${mt.options.appId}`}class Zt{constructor(Je){this.container=Je,this._heartbeatsCache=null;const St=this.container.getProvider("app").getImmediate();this._storage=new Qn(St),this._heartbeatsCachePromise=this._storage.read().then(nn=>(this._heartbeatsCache=nn,nn))}triggerHeartbeat(){var Je=this;return(0,y.A)(function*(){var St,nn;try{const bn=Je.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),An=pn();return null==(null===(St=Je._heartbeatsCache)||void 0===St?void 0:St.heartbeats)&&(Je._heartbeatsCache=yield Je._heartbeatsCachePromise,null==(null===(nn=Je._heartbeatsCache)||void 0===nn?void 0:nn.heartbeats))||Je._heartbeatsCache.lastSentHeartbeatDate===An||Je._heartbeatsCache.heartbeats.some(br=>br.date===An)?void 0:(Je._heartbeatsCache.heartbeats.push({date:An,agent:bn}),Je._heartbeatsCache.heartbeats=Je._heartbeatsCache.heartbeats.filter(br=>{const Fr=new Date(br.date).valueOf();return Date.now()-Fr<=2592e6}),Je._storage.overwrite(Je._heartbeatsCache))}catch(Pn){Ht.warn(Pn)}})()}getHeartbeatsHeader(){var Je=this;return(0,y.A)(function*(){var St;try{if(null===Je._heartbeatsCache&&(yield Je._heartbeatsCachePromise),null==(null===(St=Je._heartbeatsCache)||void 0===St?void 0:St.heartbeats)||0===Je._heartbeatsCache.heartbeats.length)return"";const nn=pn(),{heartbeatsToSend:Pn,unsentEntries:bn}=function on(mt,Je=1024){const St=[];let nn=mt.slice();for(const Pn of mt){const bn=St.find(An=>An.agent===Pn.agent);if(bn){if(bn.dates.push(Pn.date),gn(St)>Je){bn.dates.pop();break}}else if(St.push({agent:Pn.agent,dates:[Pn.date]}),gn(St)>Je){St.pop();break}nn=nn.slice(1)}return{heartbeatsToSend:St,unsentEntries:nn}}(Je._heartbeatsCache.heartbeats),An=(0,J.Uj)(JSON.stringify({version:2,heartbeats:Pn}));return Je._heartbeatsCache.lastSentHeartbeatDate=nn,bn.length>0?(Je._heartbeatsCache.heartbeats=bn,yield Je._storage.overwrite(Je._heartbeatsCache)):(Je._heartbeatsCache.heartbeats=[],Je._storage.overwrite(Je._heartbeatsCache)),An}catch(nn){return Ht.warn(nn),""}})()}}function pn(){return(new Date).toISOString().substring(0,10)}class Qn{constructor(Je){this.app=Je,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,y.A)(function*(){return!!(0,J.zW)()&&(0,J.eX)().then(()=>!0).catch(()=>!1)})()}read(){var Je=this;return(0,y.A)(function*(){if(yield Je._canUseIndexedDBPromise){const nn=yield function Ae(mt){return rt.apply(this,arguments)}(Je.app);return nn?.heartbeats?nn:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(Je){var St=this;return(0,y.A)(function*(){var nn;if(yield St._canUseIndexedDBPromise){const bn=yield St.read();return Gt(St.app,{lastSentHeartbeatDate:null!==(nn=Je.lastSentHeartbeatDate)&&void 0!==nn?nn:bn.lastSentHeartbeatDate,heartbeats:Je.heartbeats})}})()}add(Je){var St=this;return(0,y.A)(function*(){var nn;if(yield St._canUseIndexedDBPromise){const bn=yield St.read();return Gt(St.app,{lastSentHeartbeatDate:null!==(nn=Je.lastSentHeartbeatDate)&&void 0!==nn?nn:bn.lastSentHeartbeatDate,heartbeats:[...bn.heartbeats,...Je.heartbeats]})}})()}}function gn(mt){return(0,J.Uj)(JSON.stringify({version:2,heartbeats:mt})).length}!function ti(mt){Jt(new ne.uA("platform-logger",Je=>new vn(Je),"PRIVATE")),Jt(new ne.uA("heartbeat",Je=>new Zt(Je),"PRIVATE")),R(Lt,ht,mt),R(Lt,ht,"esm2017"),R("fire-js","")}("")},1362:(hn,tt,B)=>{B.d(tt,{h1:()=>Se,uA:()=>_e});var y=B(467),ne=B(1076);class _e{constructor(re,ve,Be){this.name=re,this.instanceFactory=ve,this.type=Be,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(re){return this.instantiationMode=re,this}setMultipleInstances(re){return this.multipleInstances=re,this}setServiceProps(re){return this.serviceProps=re,this}setInstanceCreatedCallback(re){return this.onInstanceCreated=re,this}}const J="[DEFAULT]";class se{constructor(re,ve){this.name=re,this.container=ve,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(re){const ve=this.normalizeInstanceIdentifier(re);if(!this.instancesDeferred.has(ve)){const Be=new ne.cY;if(this.instancesDeferred.set(ve,Be),this.isInitialized(ve)||this.shouldAutoInitialize())try{const $e=this.getOrInitializeService({instanceIdentifier:ve});$e&&Be.resolve($e)}catch{}}return this.instancesDeferred.get(ve).promise}getImmediate(re){var ve;const Be=this.normalizeInstanceIdentifier(re?.identifier),$e=null!==(ve=re?.optional)&&void 0!==ve&&ve;if(!this.isInitialized(Be)&&!this.shouldAutoInitialize()){if($e)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Be})}catch(lt){if($e)return null;throw lt}}getComponent(){return this.component}setComponent(re){if(re.name!==this.name)throw Error(`Mismatching Component ${re.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=re,this.shouldAutoInitialize()){if(function Ve(De){return"EAGER"===De.instantiationMode}(re))try{this.getOrInitializeService({instanceIdentifier:J})}catch{}for(const[ve,Be]of this.instancesDeferred.entries()){const $e=this.normalizeInstanceIdentifier(ve);try{const lt=this.getOrInitializeService({instanceIdentifier:$e});Be.resolve(lt)}catch{}}}}clearInstance(re=J){this.instancesDeferred.delete(re),this.instancesOptions.delete(re),this.instances.delete(re)}delete(){var re=this;return(0,y.A)(function*(){const ve=Array.from(re.instances.values());yield Promise.all([...ve.filter(Be=>"INTERNAL"in Be).map(Be=>Be.INTERNAL.delete()),...ve.filter(Be=>"_delete"in Be).map(Be=>Be._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(re=J){return this.instances.has(re)}getOptions(re=J){return this.instancesOptions.get(re)||{}}initialize(re={}){const{options:ve={}}=re,Be=this.normalizeInstanceIdentifier(re.instanceIdentifier);if(this.isInitialized(Be))throw Error(`${this.name}(${Be}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const $e=this.getOrInitializeService({instanceIdentifier:Be,options:ve});for(const[lt,Tt]of this.instancesDeferred.entries())Be===this.normalizeInstanceIdentifier(lt)&&Tt.resolve($e);return $e}onInit(re,ve){var Be;const $e=this.normalizeInstanceIdentifier(ve),lt=null!==(Be=this.onInitCallbacks.get($e))&&void 0!==Be?Be:new Set;lt.add(re),this.onInitCallbacks.set($e,lt);const Tt=this.instances.get($e);return Tt&&re(Tt,$e),()=>{lt.delete(re)}}invokeOnInitCallbacks(re,ve){const Be=this.onInitCallbacks.get(ve);if(Be)for(const $e of Be)try{$e(re,ve)}catch{}}getOrInitializeService({instanceIdentifier:re,options:ve={}}){let Be=this.instances.get(re);if(!Be&&this.component&&(Be=this.component.instanceFactory(this.container,{instanceIdentifier:(De=re,De===J?void 0:De),options:ve}),this.instances.set(re,Be),this.instancesOptions.set(re,ve),this.invokeOnInitCallbacks(Be,re),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,re,Be)}catch{}var De;return Be||null}normalizeInstanceIdentifier(re=J){return this.component?this.component.multipleInstances?re:J:re}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Se{constructor(re){this.name=re,this.providers=new Map}addComponent(re){const ve=this.getProvider(re.name);if(ve.isComponentSet())throw new Error(`Component ${re.name} has already been registered with ${this.name}`);ve.setComponent(re)}addOrOverwriteComponent(re){this.getProvider(re.name).isComponentSet()&&this.providers.delete(re.name),this.addComponent(re)}getProvider(re){if(this.providers.has(re))return this.providers.get(re);const ve=new se(re,this);return this.providers.set(re,ve),ve}getProviders(){return Array.from(this.providers.values())}}},8041:(hn,tt,B)=>{B.d(tt,{$b:()=>ne,Vy:()=>Ve});const y=[];var ne=function(re){return re[re.DEBUG=0]="DEBUG",re[re.VERBOSE=1]="VERBOSE",re[re.INFO=2]="INFO",re[re.WARN=3]="WARN",re[re.ERROR=4]="ERROR",re[re.SILENT=5]="SILENT",re}(ne||{});const _e={debug:ne.DEBUG,verbose:ne.VERBOSE,info:ne.INFO,warn:ne.WARN,error:ne.ERROR,silent:ne.SILENT},J=ne.INFO,se={[ne.DEBUG]:"log",[ne.VERBOSE]:"log",[ne.INFO]:"info",[ne.WARN]:"warn",[ne.ERROR]:"error"},ae=(re,ve,...Be)=>{if(ve<re.logLevel)return;const $e=(new Date).toISOString(),lt=se[ve];if(!lt)throw new Error(`Attempted to log a message with an invalid logType (value: ${ve})`);console[lt](`[${$e}]  ${re.name}:`,...Be)};class Ve{constructor(ve){this.name=ve,this._logLevel=J,this._logHandler=ae,this._userLogHandler=null,y.push(this)}get logLevel(){return this._logLevel}set logLevel(ve){if(!(ve in ne))throw new TypeError(`Invalid value "${ve}" assigned to \`logLevel\``);this._logLevel=ve}setLogLevel(ve){this._logLevel="string"==typeof ve?_e[ve]:ve}get logHandler(){return this._logHandler}set logHandler(ve){if("function"!=typeof ve)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=ve}get userLogHandler(){return this._userLogHandler}set userLogHandler(ve){this._userLogHandler=ve}debug(...ve){this._userLogHandler&&this._userLogHandler(this,ne.DEBUG,...ve),this._logHandler(this,ne.DEBUG,...ve)}log(...ve){this._userLogHandler&&this._userLogHandler(this,ne.VERBOSE,...ve),this._logHandler(this,ne.VERBOSE,...ve)}info(...ve){this._userLogHandler&&this._userLogHandler(this,ne.INFO,...ve),this._logHandler(this,ne.INFO,...ve)}warn(...ve){this._userLogHandler&&this._userLogHandler(this,ne.WARN,...ve),this._logHandler(this,ne.WARN,...ve)}error(...ve){this._userLogHandler&&this._userLogHandler(this,ne.ERROR,...ve),this._logHandler(this,ne.ERROR,...ve)}}},2214:(hn,tt,B)=>{B.d(tt,{Dk:()=>y.Dk,KO:()=>y.KO,Sx:()=>y.Sx,Wp:()=>y.Wp});var y=B(7852);(0,y.KO)("firebase","10.14.1","app")},8516:(hn,tt,B)=>{B.d(tt,{FEq:()=>Wk,Fhv:()=>K4,HxJ:()=>Hy,JBW:()=>nk,WGl:()=>D3,YDL:()=>Xk,flO:()=>P3,iUU:()=>Jc,lPX:()=>Fo,ntg:()=>r_,rjK:()=>dk,sEC:()=>wi,wB_:()=>$v,zO8:()=>bp,zWC:()=>Sb});var y=B(7705);const ne=["*"],wi=[["path",{d:"M17 21a1 1 0 0 0 1-1v-5.35c0-.457.316-.844.727-1.041a4 4 0 0 0-2.134-7.589 5 5 0 0 0-9.186 0 4 4 0 0 0-2.134 7.588c.411.198.727.585.727 1.041V20a1 1 0 0 0 1 1Z",key:"1qvrer"}],["path",{d:"M6 17h12",key:"1jwigz"}]],Jc=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Hy=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],bp=[["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}],["circle",{cx:"18.5",cy:"15.5",r:"2.5",key:"b5zd12"}],["path",{d:"M20.27 17.27 22 19",key:"1l4muz"}]],Fo=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],$v=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],K4=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M6.376 18.91a6 6 0 0 1 11.249.003",key:"hnjrf2"}],["circle",{cx:"12",cy:"11",r:"4",key:"1gt34v"}]],nk=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],dk=[["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M12 21v-9",key:"17s77i"}],["path",{d:"M12 8V3",key:"13r4qs"}],["path",{d:"M17 16h4",key:"h1uq16"}],["path",{d:"M19 12V3",key:"o1uvq1"}],["path",{d:"M19 21v-5",key:"qua636"}],["path",{d:"M3 14h4",key:"bcjad9"}],["path",{d:"M5 10V3",key:"cb8scm"}],["path",{d:"M5 21v-7",key:"1w1uti"}]],Wk=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Xk=[["path",{d:"M13.172 2a2 2 0 0 1 1.414.586l6.71 6.71a2.4 2.4 0 0 1 0 3.408l-4.592 4.592a2.4 2.4 0 0 1-3.408 0l-6.71-6.71A2 2 0 0 1 6 9.172V3a1 1 0 0 1 1-1z",key:"16rjxf"}],["path",{d:"M2 7v6.172a2 2 0 0 0 .586 1.414l6.71 6.71a2.4 2.4 0 0 0 3.191.193",key:"178nd4"}],["circle",{cx:"10.5",cy:"6.5",r:".5",fill:"currentColor",key:"12ikhr"}]],r_=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Sb=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]];var d_={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"};const tw=new y.nKC("LucideIcons",{factory:()=>new nw({})});class nw{constructor(sc){this.icons=sc}getIcon(sc){return this.hasIcon(sc)?this.icons[sc]:null}hasIcon(sc){return"object"==typeof this.icons&&sc in this.icons}}let I3=(()=>{class Mo{constructor(){this.color=d_.stroke,this.size=d_.width,this.strokeWidth=d_["stroke-width"],this.absoluteStrokeWidth=!1}}return Mo.\u0275fac=function(ii){return new(ii||Mo)},Mo.\u0275prov=y.jDH({token:Mo,factory:Mo.\u0275fac,providedIn:"root"}),Mo})();function T3(Mo,sc=3){return parseFloat(Mo.toFixed(sc)).toString(10)}let D3=(()=>{class Mo{constructor(ii,_s,il,m1,ol){this.elem=ii,this.renderer=_s,this.changeDetector=il,this.iconProviders=m1,this.iconConfig=ol,this.absoluteStrokeWidth=!1,this.defaultSize=d_.height}get size(){return this._size??this.iconConfig.size}set size(ii){ii?this._size=this.parseNumber(ii):delete this._size}get strokeWidth(){return this._strokeWidth??this.iconConfig.strokeWidth}set strokeWidth(ii){ii?this._strokeWidth=this.parseNumber(ii):delete this._strokeWidth}ngOnChanges(ii){if(ii.name||ii.img||ii.color||ii.size||ii.absoluteStrokeWidth||ii.strokeWidth||ii.class){this.color=this.color??this.iconConfig.color,this.size=this.parseNumber(this.size??this.iconConfig.size),this.strokeWidth=this.parseNumber(this.strokeWidth??this.iconConfig.strokeWidth),this.absoluteStrokeWidth=this.absoluteStrokeWidth??this.iconConfig.absoluteStrokeWidth;const _s=this.img??this.name;if("string"==typeof _s){const il=this.getIcon(this.toPascalCase(_s));if(!il)throw new Error(`The "${_s}" icon has not been provided by any available icon providers.`);this.replaceElement(il)}else{if(!Array.isArray(_s))throw new Error("No icon name or image has been provided.");this.replaceElement(_s)}}this.changeDetector.markForCheck()}replaceElement(ii){const _s={...d_,width:this.size,height:this.size,stroke:this.color??this.iconConfig.color,"stroke-width":this.absoluteStrokeWidth?T3(this.strokeWidth/(this.size/this.defaultSize)):this.strokeWidth.toString(10)},il=this.createElement(["svg",_s,ii]);il.classList.add("lucide"),"string"==typeof this.name&&il.classList.add(`lucide-${this.name.replace("_","-")}`),this.class&&il.classList.add(...this.class.split(/ /).map(ol=>ol.trim()).filter(ol=>ol.length>0));const m1=this.elem.nativeElement.childNodes;for(const ol of m1)this.renderer.removeChild(this.elem.nativeElement,ol);this.renderer.appendChild(this.elem.nativeElement,il)}toPascalCase(ii){return ii.replace(/(\w)([a-z0-9]*)(_|-|\s*)/g,(_s,il,m1)=>il.toUpperCase()+m1.toLowerCase())}parseNumber(ii){if("string"==typeof ii){const _s=parseInt(ii,10);if(isNaN(_s))throw new Error(`${ii} is not numeric.`);return _s}return ii}getIcon(ii){for(const _s of Array.isArray(this.iconProviders)?this.iconProviders:[this.iconProviders])if(_s.hasIcon(ii))return _s.getIcon(ii);return null}createElement([ii,_s,il=[]]){const m1=this.renderer.createElement(ii,"http://www.w3.org/2000/svg");return Object.keys(_s).forEach(ol=>{const rw="string"==typeof _s[ol]?_s[ol]:_s[ol].toString(10);this.renderer.setAttribute(m1,ol,rw)}),il.length&&il.forEach(ol=>{const rw=this.createElement(ol);this.renderer.appendChild(m1,rw)}),m1}}return Mo.\u0275fac=function(ii){return new(ii||Mo)(y.rXU(y.aKT),y.rXU(y.sFG),y.rXU(y.gRc),y.rXU(tw),y.rXU(I3))},Mo.\u0275cmp=y.VBU({type:Mo,selectors:[["lucide-angular"],["lucide-icon"],["i-lucide"],["span-lucide"]],inputs:{class:"class",name:"name",img:"img",color:"color",absoluteStrokeWidth:"absoluteStrokeWidth",size:"size",strokeWidth:"strokeWidth"},features:[y.OA$],ngContentSelectors:ne,decls:1,vars:0,template:function(ii,_s){1&ii&&(y.NAR(),y.SdG(0))},encapsulation:2}),Mo})();class S3{constructor(sc){this.icons=sc}}const R3=Mo=>new nw(Mo??{});let P3=(()=>{class Mo{static pick(ii){return{ngModule:Mo,providers:[{provide:tw,multi:!0,useValue:new nw(ii)},{provide:tw,multi:!0,useFactory:R3,deps:[[new y.Xx1,S3]]}]}}}return Mo.\u0275fac=function(ii){return new(ii||Mo)},Mo.\u0275mod=y.$C({type:Mo}),Mo.\u0275inj=y.G2t({imports:[[]]}),Mo})()},467:(hn,tt,B)=>{function y(_e,J,se,ae,Ve,Se,De){try{var re=_e[Se](De),ve=re.value}catch(Be){return void se(Be)}re.done?J(ve):Promise.resolve(ve).then(ae,Ve)}function ne(_e){return function(){var J=this,se=arguments;return new Promise(function(ae,Ve){var Se=_e.apply(J,se);function De(ve){y(Se,ae,Ve,De,re,"next",ve)}function re(ve){y(Se,ae,Ve,De,re,"throw",ve)}De(void 0)})}}B.d(tt,{A:()=>ne})},1635:(hn,tt,B)=>{function J(je,ge){var ce={};for(var Pe in je)Object.prototype.hasOwnProperty.call(je,Pe)&&ge.indexOf(Pe)<0&&(ce[Pe]=je[Pe]);if(null!=je&&"function"==typeof Object.getOwnPropertySymbols){var Ct=0;for(Pe=Object.getOwnPropertySymbols(je);Ct<Pe.length;Ct++)ge.indexOf(Pe[Ct])<0&&Object.prototype.propertyIsEnumerable.call(je,Pe[Ct])&&(ce[Pe[Ct]]=je[Pe[Ct]])}return ce}function Be(je,ge,ce,Pe){return new(ce||(ce=Promise))(function(pt,It){function Mn(Rn){try{un(Pe.next(Rn))}catch(zn){It(zn)}}function sr(Rn){try{un(Pe.throw(Rn))}catch(zn){It(zn)}}function un(Rn){Rn.done?pt(Rn.value):function Ct(pt){return pt instanceof ce?pt:new ce(function(It){It(pt)})}(Rn.value).then(Mn,sr)}un((Pe=Pe.apply(je,ge||[])).next())})}function be(je){return this instanceof be?(this.v=je,this):new be(je)}function Ge(je,ge,ce){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ct,Pe=ce.apply(je,ge||[]),pt=[];return Ct=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),Mn("next"),Mn("throw"),Mn("return",function It(Hn){return function(fr){return Promise.resolve(fr).then(Hn,zn)}}),Ct[Symbol.asyncIterator]=function(){return this},Ct;function Mn(Hn,fr){Pe[Hn]&&(Ct[Hn]=function(mr){return new Promise(function(yn,Rt){pt.push([Hn,mr,yn,Rt])>1||sr(Hn,mr)})},fr&&(Ct[Hn]=fr(Ct[Hn])))}function sr(Hn,fr){try{!function un(Hn){Hn.value instanceof be?Promise.resolve(Hn.value.v).then(Rn,zn):pr(pt[0][2],Hn)}(Pe[Hn](fr))}catch(mr){pr(pt[0][3],mr)}}function Rn(Hn){sr("next",Hn)}function zn(Hn){sr("throw",Hn)}function pr(Hn,fr){Hn(fr),pt.shift(),pt.length&&sr(pt[0][0],pt[0][1])}}function Ke(je){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ce,ge=je[Symbol.asyncIterator];return ge?ge.call(je):(je=function Dt(je){var ge="function"==typeof Symbol&&Symbol.iterator,ce=ge&&je[ge],Pe=0;if(ce)return ce.call(je);if(je&&"number"==typeof je.length)return{next:function(){return je&&Pe>=je.length&&(je=void 0),{value:je&&je[Pe++],done:!je}}};throw new TypeError(ge?"Object is not iterable.":"Symbol.iterator is not defined.")}(je),ce={},Pe("next"),Pe("throw"),Pe("return"),ce[Symbol.asyncIterator]=function(){return this},ce);function Pe(pt){ce[pt]=je[pt]&&function(It){return new Promise(function(Mn,sr){!function Ct(pt,It,Mn,sr){Promise.resolve(sr).then(function(un){pt({value:un,done:Mn})},It)}(Mn,sr,(It=je[pt](It)).done,It.value)})}}}B.d(tt,{AQ:()=>Ge,N3:()=>be,Tt:()=>J,sH:()=>Be,xN:()=>Ke}),"function"==typeof SuppressedError&&SuppressedError}},hn=>{hn(hn.s=5406)}]);