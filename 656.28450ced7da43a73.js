"use strict";(self.webpackChunkrigel=self.webpackChunkrigel||[]).push([[656],{9656:(B,b,n)=>{n.r(b),n.d(b,{ProveedoresPageModule:()=>Y});var h=n(7412),d=n(9417),p=n(177),f=n(5743),u=n(467),c=n(9173),g=n(8032),m=n.n(g),k=n(8359),E=n(4572),F=n(9172),j=n(152),e=n(7705);function P(t,a){if(1&t&&(e.j41(0,"option",80),e.EFF(1),e.k0s()),2&t){const o=a.$implicit;e.Y8G("value",o.id),e.R7$(1),e.JRh(o.nombre)}}function y(t,a){1&t&&(e.j41(0,"div",81)(1,"p",10),e.EFF(2,"No se encontraron proveedores con los filtros seleccionados."),e.k0s()())}function S(t,a){if(1&t&&(e.j41(0,"span",104),e.EFF(1),e.k0s()),2&t){const o=a.$implicit,i=e.XpG(2);e.R7$(1),e.SpI(" ",i.getProductName(o)," ")}}const R=function(t,a){return{"bg-info bg-opacity-10":t,"bg-warning bg-opacity-10":a}};function x(t,a){if(1&t&&(e.j41(0,"div",105)(1,"small",106),e.EFF(2),e.k0s()()),2&t){const o=e.XpG().$implicit;e.Y8G("ngClass",e.l_i(2,R,"SEPA"===o.metodoPago,"TRANSFERENCIA"===o.metodoPago)),e.R7$(2),e.SpI("M\xe9todo de Pago: ",o.metodoPago,"")}}function C(t,a){if(1&t){const o=e.RV6();e.j41(0,"div",82)(1,"div",83),e.bIt("click",function(){const s=e.eBV(o).$implicit,l=e.XpG();return e.Njj(l.verDetalleProveedor(s))}),e.j41(2,"div",84)(3,"div",85)(4,"div",26)(5,"div",86),e.nrm(6,"i",87),e.k0s(),e.j41(7,"div")(8,"h6",88),e.EFF(9),e.k0s(),e.j41(10,"small",10),e.EFF(11),e.k0s()()()(),e.j41(12,"div",89)(13,"div",90),e.nrm(14,"i",91),e.j41(15,"span"),e.EFF(16),e.k0s()(),e.j41(17,"div",90),e.nrm(18,"i",92),e.j41(19,"span"),e.EFF(20),e.k0s()(),e.j41(21,"div",90),e.nrm(22,"i",93),e.j41(23,"span"),e.EFF(24),e.k0s()(),e.j41(25,"div",26),e.nrm(26,"i",94),e.j41(27,"span"),e.EFF(28),e.k0s()()(),e.j41(29,"div",95)(30,"div",96)(31,"div",26),e.nrm(32,"i",97),e.j41(33,"div")(34,"small",98),e.EFF(35,"Pago: "),e.j41(36,"span"),e.EFF(37),e.k0s()()()()(),e.j41(38,"div",96)(39,"div",26),e.nrm(40,"i",99),e.j41(41,"div")(42,"small",98),e.EFF(43,"Productos:"),e.k0s(),e.j41(44,"div",100),e.DNE(45,S,2,1,"span",101),e.k0s()()()()(),e.j41(46,"div",102)(47,"small"),e.EFF(48),e.k0s()(),e.DNE(49,x,3,5,"div",103),e.k0s()()()}if(2&t){const o=a.$implicit;e.R7$(9),e.JRh(o.nombre),e.R7$(2),e.SpI("CIF: ",o.cif,""),e.R7$(5),e.SpI("Contacto: ",o.contacto.nombre,""),e.R7$(4),e.JRh(o.contacto.email),e.R7$(4),e.JRh(o.contacto.telefono),e.R7$(4),e.Lme("",o.direccion.calle,", ",o.direccion.ciudad,""),e.R7$(9),e.SpI("",o.plazoPago," d\xedas"),e.R7$(8),e.Y8G("ngForOf",o.productos),e.R7$(3),e.SpI("Descuento: ",o.descuento,"%"),e.R7$(1),e.Y8G("ngIf",o.metodoPago)}}function $(t,a){if(1&t&&(e.j41(0,"div")(1,"small",98),e.EFF(2,"IBAN"),e.k0s(),e.j41(3,"strong",131),e.EFF(4),e.k0s()()),2&t){const o=e.XpG(2);e.R7$(4),e.JRh(o.proveedorSeleccionado.iban)}}function N(t,a){if(1&t&&(e.j41(0,"span",134),e.nrm(1,"i",135),e.EFF(2),e.k0s()),2&t){const o=a.$implicit,i=e.XpG(3);e.R7$(2),e.SpI(" ",i.getProductName(o)," ")}}function I(t,a){if(1&t&&(e.j41(0,"div",132),e.DNE(1,N,3,1,"span",133),e.k0s()),2&t){const o=e.XpG(2);e.R7$(1),e.Y8G("ngForOf",o.proveedorSeleccionado.productos)}}function D(t,a){1&t&&(e.j41(0,"div",136),e.nrm(1,"i",137),e.j41(2,"p",29),e.EFF(3,"No hay productos asignados a este proveedor"),e.k0s()())}const w=function(t,a){return{"bg-info":t,"bg-warning":a}},G=function(t,a){return{"bi-bank":t,"bi-arrow-left-right":a}};function A(t,a){if(1&t&&(e.j41(0,"div",107)(1,"div",89)(2,"span",108),e.nrm(3,"i",109),e.EFF(4),e.k0s()(),e.j41(5,"div",110)(6,"div",8)(7,"h6",74),e.nrm(8,"i",111),e.EFF(9,"Informaci\xf3n de Contacto"),e.k0s(),e.j41(10,"div",112)(11,"div",50)(12,"div",26),e.nrm(13,"i",113),e.j41(14,"div")(15,"small",98),e.EFF(16,"Persona de contacto"),e.k0s(),e.j41(17,"strong"),e.EFF(18),e.k0s()()()(),e.j41(19,"div",114)(20,"div",26),e.nrm(21,"i",115),e.j41(22,"div")(23,"small",98),e.EFF(24,"Email"),e.k0s(),e.j41(25,"strong"),e.EFF(26),e.k0s()()()(),e.j41(27,"div",114)(28,"div",26),e.nrm(29,"i",116),e.j41(30,"div")(31,"small",98),e.EFF(32,"Tel\xe9fono"),e.k0s(),e.j41(33,"strong"),e.EFF(34),e.k0s()()()()()()(),e.j41(35,"div",112)(36,"div",114)(37,"div",117)(38,"div",8)(39,"h6",74),e.nrm(40,"i",118),e.EFF(41,"Datos de la Empresa"),e.k0s(),e.j41(42,"div",74)(43,"small",98),e.EFF(44,"Raz\xf3n Social"),e.k0s(),e.j41(45,"strong"),e.EFF(46),e.k0s()(),e.j41(47,"div",74)(48,"small",98),e.EFF(49,"Direcci\xf3n"),e.k0s(),e.j41(50,"strong"),e.EFF(51),e.k0s(),e.nrm(52,"br"),e.j41(53,"span"),e.EFF(54),e.k0s(),e.nrm(55,"br"),e.j41(56,"span"),e.EFF(57),e.k0s()(),e.DNE(58,$,5,1,"div",119),e.k0s()()(),e.j41(59,"div",114)(60,"div",117)(61,"div",8)(62,"h6",74),e.nrm(63,"i",120),e.EFF(64,"Condiciones Comerciales"),e.k0s(),e.j41(65,"div",112)(66,"div",96)(67,"div",121),e.nrm(68,"i",122),e.j41(69,"h4",29),e.EFF(70),e.k0s(),e.j41(71,"small",10),e.EFF(72,"d\xedas de pago"),e.k0s()()(),e.j41(73,"div",96)(74,"div",121),e.nrm(75,"i",123),e.j41(76,"h4",29),e.EFF(77),e.k0s(),e.j41(78,"small",10),e.EFF(79,"descuento"),e.k0s()()()(),e.j41(80,"div",124)(81,"small",125),e.EFF(82,"M\xe9todo de Pago"),e.k0s(),e.j41(83,"div",126),e.nrm(84,"i",109),e.j41(85,"strong",127),e.EFF(86),e.k0s()()()()()()(),e.j41(87,"div",128)(88,"div",8)(89,"h6",74),e.nrm(90,"i",99),e.EFF(91),e.k0s(),e.DNE(92,I,2,1,"div",129),e.DNE(93,D,4,0,"div",130),e.k0s()()()),2&t){const o=e.XpG();e.R7$(2),e.Y8G("ngClass",o.proveedorSeleccionado.activo?"bg-success":"bg-secondary"),e.R7$(1),e.Y8G("ngClass",o.proveedorSeleccionado.activo?"bi-check-circle-fill":"bi-x-circle-fill"),e.R7$(1),e.SpI(" ",o.proveedorSeleccionado.activo?"Activo":"Inactivo"," "),e.R7$(14),e.JRh(o.proveedorSeleccionado.contacto.nombre),e.R7$(8),e.JRh(o.proveedorSeleccionado.contacto.email),e.R7$(8),e.JRh(o.proveedorSeleccionado.contacto.telefono),e.R7$(12),e.JRh(o.proveedorSeleccionado.razonSocial),e.R7$(5),e.JRh(o.proveedorSeleccionado.direccion.calle),e.R7$(3),e.Lme("",o.proveedorSeleccionado.direccion.codigoPostal," ",o.proveedorSeleccionado.direccion.ciudad,""),e.R7$(3),e.JRh(o.proveedorSeleccionado.direccion.provincia),e.R7$(1),e.Y8G("ngIf",o.proveedorSeleccionado.iban),e.R7$(12),e.JRh(o.proveedorSeleccionado.plazoPago),e.R7$(7),e.SpI("",o.proveedorSeleccionado.descuento,"%"),e.R7$(6),e.Y8G("ngClass",e.l_i(20,w,"SEPA"===o.proveedorSeleccionado.metodoPago,"TRANSFERENCIA"===o.proveedorSeleccionado.metodoPago)),e.R7$(1),e.Y8G("ngClass",e.l_i(23,G,"SEPA"===o.proveedorSeleccionado.metodoPago,"TRANSFERENCIA"===o.proveedorSeleccionado.metodoPago)),e.R7$(2),e.JRh(o.proveedorSeleccionado.metodoPago),e.R7$(5),e.SpI("Productos Suministrados (",o.proveedorSeleccionado.productos.length||0,")"),e.R7$(1),e.Y8G("ngIf",o.proveedorSeleccionado.productos&&o.proveedorSeleccionado.productos.length>0),e.R7$(1),e.Y8G("ngIf",!o.proveedorSeleccionado.productos||0===o.proveedorSeleccionado.productos.length)}}function _(t,a){if(1&t&&(e.j41(0,"label",138),e.nrm(1,"input",139),e.EFF(2),e.k0s()),2&t){const o=a.index,i=e.XpG();e.Y8G("hidden",!i.shouldShowProduct(o)),e.R7$(1),e.Y8G("formControlName",o),e.R7$(1),e.SpI(" ",i.productos[o].nombre||"Producto sin nombre"," ")}}const T=[{path:"",component:(()=>{class t{constructor(o,i,r){this.fb=o,this.firestore=i,this.cdr=r,this.proveedores=[],this.filteredProveedores=[],this.productos=[],this.categorias=[],this.totalProductos=0,this.productosBajosEnStock=0,this.subscriptions=new k.yU,this.productSearch=new d.MJ(""),this.proveedorSearch=new d.MJ(""),this.categoryFilter=new d.MJ("all"),this.proveedorSeleccionado=null,this.proveedorForm=this.fb.group({id:[null],nombre:["",d.k0.required],cif:["",d.k0.required],razonSocial:["",d.k0.required],contacto:this.fb.group({nombre:["",d.k0.required],telefono:["",d.k0.required],email:["",[d.k0.required,d.k0.email]]}),direccion:this.fb.group({calle:["",d.k0.required],codigoPostal:["",d.k0.required],ciudad:["",d.k0.required],provincia:["",d.k0.required]}),iban:[""],plazoPago:[30,d.k0.min(0)],descuento:[0,[d.k0.min(0),d.k0.max(100)]],activo:[!0],metodoPago:["",d.k0.required],productos:this.fb.array([])})}ngOnInit(){this.cargarProveedores(),this.cargarProductos(),this.cargarCategorias();const o=document.getElementById("staticBackdrop");o&&(this.modal=new bootstrap.Modal(o));const i=document.getElementById("detalleProveedorModal");i&&(this.detalleModal=new bootstrap.Modal(i)),this.subscriptions.add(this.productSearch.valueChanges.subscribe(()=>{this.cdr.detectChanges()})),this.subscriptions.add((0,E.z)([this.proveedorSearch.valueChanges.pipe((0,F.Z)("")),this.categoryFilter.valueChanges.pipe((0,F.Z)("all"))]).pipe((0,j.B)(300)).subscribe(([r,s])=>{this.filterProveedores(r||"",s||"all")}))}ngOnDestroy(){this.subscriptions.unsubscribe()}get productosFormArray(){return this.proveedorForm.get("productos")}cargarProveedores(){const o=(0,c.collection)(this.firestore,"proveedores");this.subscriptions.add((0,c.collectionData)(o,{idField:"id"}).subscribe(i=>{this.proveedores=i,this.filteredProveedores=i}))}cargarProductos(){const o=(0,c.collection)(this.firestore,"productos");this.subscriptions.add((0,c.collectionData)(o,{idField:"id"}).subscribe(i=>{this.productos=i,this.totalProductos=i.length,this.productosBajosEnStock=i.filter(r=>!r.esCombinado&&void 0!==r.stock&&void 0!==r.stockMinimo&&r.stock<=r.stockMinimo).length,this.buildProductsFormArray()}))}cargarCategorias(){const o=(0,c.collection)(this.firestore,"categorias");this.subscriptions.add((0,c.collectionData)(o,{idField:"id"}).subscribe(i=>{this.categorias=i}))}filterProveedores(o,i){let r=[...this.proveedores];if(o&&(r=r.filter(s=>s.nombre.toLowerCase().includes(o.toLowerCase()))),i&&"all"!==i){const s=this.productos.filter(l=>l.categoriaId===i).map(l=>l.id);r=r.filter(l=>l.productos.some(v=>s.includes(v)))}this.filteredProveedores=r}buildProductsFormArray(){this.productosFormArray.clear(),this.productos.forEach(()=>{this.productosFormArray.push(new d.MJ(!1))})}shouldShowProduct(o){const i=this.productSearch.value?.toLowerCase()||"";return!i||this.productos[o].nombre.toLowerCase().includes(i)}guardarProveedor(){var o=this;return(0,u.A)(function*(){if(o.proveedorForm.invalid)return void m().fire("Error","Por favor, complete todos los campos requeridos.","error");const i=o.proveedorForm.value,r=o.productos.filter((l,v)=>o.productosFormArray.at(v).value).map(l=>l.id),s={...i,productos:r};m().showLoading();try{if(i.id){const l=(0,c.doc)(o.firestore,"proveedores",i.id);yield(0,c.updateDoc)(l,s),m().fire("\xa1Actualizado!","El proveedor ha sido actualizado.","success")}else s.fechaCreacion=(0,c.serverTimestamp)(),delete s.id,yield(0,c.addDoc)((0,c.collection)(o.firestore,"proveedores"),s),m().fire("\xa1Creado!","El nuevo proveedor ha sido guardado.","success");o.modal.hide(),o.resetForm()}catch(l){console.error("Error al guardar el proveedor:",l),m().fire("Error","Hubo un problema al guardar el proveedor.","error")}})()}editarProveedor(o){this.proveedorForm.reset(),this.proveedorForm.patchValue(o),this.productosFormArray.controls.forEach((i,r)=>{o.productos&&this.productos[r]&&o.productos.includes(this.productos[r].id)?i.setValue(!0):i.setValue(!1)}),this.modal.show()}eliminarProveedor(o){var i=this;return(0,u.A)(function*(){if((yield m().fire({title:"\xbfEst\xe1s seguro?",text:"Esta acci\xf3n no se puede deshacer.",icon:"warning",showCancelButton:!0,confirmButtonColor:"#dc3545",cancelButtonColor:"#6c757d",confirmButtonText:"S\xed, eliminar",cancelButtonText:"Cancelar"})).isConfirmed)try{yield(0,c.deleteDoc)((0,c.doc)(i.firestore,"proveedores",o)),m().fire("\xa1Eliminado!","El proveedor ha sido eliminado.","success")}catch(s){console.error("Error al eliminar el proveedor:",s),m().fire("Error","No se pudo eliminar el proveedor.","error")}})()}abrirModalNuevo(){this.resetForm(),this.modal.show()}resetForm(){this.proveedorForm.reset({nombre:"",cif:"",razonSocial:"",contacto:{nombre:"",telefono:"",email:""},direccion:{calle:"",codigoPostal:"",ciudad:"",provincia:""},iban:"",plazoPago:30,descuento:0,activo:!0,metodoPago:""}),this.productosFormArray&&this.productosFormArray.controls.forEach(o=>o.setValue(!1)),this.productSearch.setValue("")}getProductName(o){const i=this.productos.find(r=>r.id===o);return i?i.nombre:""}verDetalleProveedor(o){const i=this.productos.filter(r=>o.productos&&o.productos.includes(r.id)||r.proveedorId===o.id).map(r=>r.id);this.proveedorSeleccionado={...o,productos:i},this.detalleModal.show()}editarDesdeDetalle(){this.proveedorSeleccionado&&(this.detalleModal.hide(),this.editarProveedor(this.proveedorSeleccionado))}eliminarDesdeDetalle(){var o=this;return(0,u.A)(function*(){o.proveedorSeleccionado&&(o.detalleModal.hide(),yield o.eliminarProveedor(o.proveedorSeleccionado.id),o.proveedorSeleccionado=null)})()}static{this.\u0275fac=function(i){return new(i||t)(e.rXU(d.ok),e.rXU(c.Firestore),e.rXU(e.gRc))}}static{this.\u0275cmp=e.VBU({type:t,selectors:[["app-proveedores-page"]],decls:199,vars:16,consts:[[1,"row"],[1,"col-8"],[1,"col","text-end"],[1,"btn","btn-danger",3,"click"],[1,"bi","bi-plus-lg","me-2"],[1,"row","mt-4"],[1,"col-md-3"],[1,"card","border-0","shadow-sm"],[1,"card-body"],[1,"text-primary","mb-0"],[1,"text-muted"],[1,"text-danger","mb-0"],[1,"row","mt-3"],[1,"col"],[1,"card"],[1,"card-body","d-flex","gap-2"],["type","text","placeholder","Buscar proveedor...",1,"form-control",3,"formControl"],[1,"form-select",3,"formControl"],["value","all"],[3,"value",4,"ngFor","ngForOf"],["class","col-12 text-center",4,"ngIf"],["class","col-12 col-md-4 mb-4",4,"ngFor","ngForOf"],["id","detalleProveedorModal","data-bs-backdrop","static","data-bs-keyboard","false","tabindex","-1",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered","modal-lg"],[1,"modal-content"],[1,"modal-header","border-0","pb-0"],[1,"d-flex","align-items-center"],[1,"rounded-circle","me-3","d-flex","justify-content-center","align-items-center",2,"background-color","#03204c","width","56px","height","56px"],[1,"bi","bi-building-fill","text-white","fs-3"],[1,"mb-0"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],["class","modal-body pt-3",4,"ngIf"],[1,"modal-footer","border-0"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],[1,"bi","bi-x-lg","me-2"],["type","button",1,"btn","btn-primary",3,"click"],[1,"bi","bi-pencil-fill","me-2"],["type","button",1,"btn","btn-danger",3,"click"],[1,"bi","bi-trash3-fill","me-2"],["id","staticBackdrop","data-bs-backdrop","static","data-bs-keyboard","false","tabindex","-1","aria-labelledby","staticBackdropLabel","aria-hidden","true",1,"modal","fade"],[3,"formGroup","ngSubmit"],[1,"modal-header"],["id","staticBackdropLabel",1,"modal-title"],[1,"modal-body"],[1,"col-12","col-sm-6"],[1,"bi","bi-building"],[1,"row","mt-2"],[1,"text-danger"],["type","text","placeholder","Nombre del proveedor","formControlName","nombre",1,"form-control"],["type","text","placeholder","B12345678","formControlName","cif",1,"form-control"],[1,"col-12"],["type","text","placeholder","Distribuciones S.L.","formControlName","razonSocial",1,"form-control"],["formGroupName","contacto"],["type","text","placeholder","Carlos Mendoza","formControlName","nombre",1,"form-control"],["type","tel","placeholder","+34 91 123 4567","formControlName","telefono",1,"form-control"],["type","email","placeholder","contacto@proveedor.com","formControlName","email",1,"form-control"],[1,"form-check"],["type","checkbox","id","checkDefault","formControlName","activo",1,"form-check-input"],["for","checkDefault",1,"form-check-label"],[1,"bi","bi-geo-alt-fill"],["formGroupName","direccion"],["type","text","placeholder","Calle Gran Via, 15","formControlName","calle",1,"form-control"],["type","text","placeholder","28013","formControlName","codigoPostal",1,"form-control"],["type","text","placeholder","Madrid","formControlName","ciudad",1,"form-control"],["type","text","placeholder","Madrid","formControlName","provincia",1,"form-control"],["type","text","placeholder","ES91 2100 0418 4502 0005 1332","formControlName","iban",1,"form-control"],["type","number","placeholder","30","formControlName","plazoPago",1,"form-control"],["type","number","placeholder","5","formControlName","descuento",1,"form-control"],["for",""],["name","","id","","formControlName","metodoPago",1,"form-select"],["value","SEPA"],["value","TRANSFERENCIA"],[1,"my-4"],[1,"bi","bi-box-seam-fill"],[1,"mb-3"],["type","text","placeholder","Buscar producto...",1,"form-control",3,"formControl"],["formArrayName","productos",1,"list-group",2,"max-height","200px","overflow-y","auto"],["class","list-group-item",3,"hidden",4,"ngFor","ngForOf"],[1,"modal-footer"],["type","submit",1,"btn","btn-danger",3,"disabled"],[3,"value"],[1,"col-12","text-center"],[1,"col-12","col-md-4","mb-4"],[1,"card","shadow-sm","border-0","h-100",2,"cursor","pointer",3,"click"],[1,"card-body","p-4"],[1,"d-flex","justify-content-between","align-items-start","mb-4"],[1,"rounded-circle","me-3","d-flex","justify-content-center","align-items-center",2,"background-color","#03204c","width","48px","height","48px"],[1,"bi","bi-building-fill","text-white","fs-4"],[1,"mb-0","fw-bold"],[1,"mb-4"],[1,"d-flex","align-items-center","mb-2"],[1,"bi","bi-person-fill","me-2","text-primary"],[1,"bi","bi-envelope-fill","me-2","text-primary"],[1,"bi","bi-telephone-fill","me-2","text-primary"],[1,"bi","bi-geo-alt-fill","me-2","text-primary"],[1,"row","mb-3"],[1,"col-6"],[1,"bi","bi-calendar3","me-2","text-primary"],[1,"text-muted","d-block"],[1,"bi","bi-box-seam-fill","me-2","text-primary"],[1,"d-flex","flex-wrap","gap-1","mt-1"],["class","badge bg-light text-dark border",4,"ngFor","ngForOf"],[1,"bg-success","bg-opacity-10","text-success","px-3","py-2","rounded-1","mb-3"],["class","px-3 py-2 rounded-1",3,"ngClass",4,"ngIf"],[1,"badge","bg-light","text-dark","border"],[1,"px-3","py-2","rounded-1",3,"ngClass"],[1,"text-white","fw-bold"],[1,"modal-body","pt-3"],[1,"badge",3,"ngClass"],[1,"bi",3,"ngClass"],[1,"card","border-0","bg-light","mb-3"],[1,"bi","bi-person-circle","me-2","text-primary"],[1,"row","g-3"],[1,"bi","bi-person-fill","me-3","text-muted",2,"width","20px"],[1,"col-md-6"],[1,"bi","bi-envelope-fill","me-3","text-muted",2,"width","20px"],[1,"bi","bi-telephone-fill","me-3","text-muted",2,"width","20px"],[1,"card","border-0","bg-light","h-100"],[1,"bi","bi-building","me-2","text-primary"],[4,"ngIf"],[1,"bi","bi-cash-coin","me-2","text-primary"],[1,"text-center","p-3","bg-white","rounded"],[1,"bi","bi-calendar3","text-primary","fs-4","d-block","mb-2"],[1,"bi","bi-percent","text-success","fs-4","d-block","mb-2"],[1,"mt-3"],[1,"text-muted","d-block","mb-2"],[1,"badge","px-3","py-2","w-100",3,"ngClass"],[1,"text-white","ms-2"],[1,"card","border-0","bg-light","mt-3"],["class","d-flex flex-wrap gap-2",4,"ngIf"],["class","text-center text-muted py-3",4,"ngIf"],[1,"font-monospace"],[1,"d-flex","flex-wrap","gap-2"],["class","badge bg-white text-dark border px-3 py-2",4,"ngFor","ngForOf"],[1,"badge","bg-white","text-dark","border","px-3","py-2"],[1,"bi","bi-box","text-primary","me-1"],[1,"text-center","text-muted","py-3"],[1,"bi","bi-inbox","fs-1","d-block","mb-2"],[1,"list-group-item",3,"hidden"],["type","checkbox",1,"form-check-input","me-1",3,"formControlName"]],template:function(i,r){if(1&i&&(e.j41(0,"div",0)(1,"div",1)(2,"h5"),e.EFF(3,"Gesti\xf3n de Proveedores"),e.k0s(),e.j41(4,"span"),e.EFF(5,"Administra tus proveedores y contactos"),e.k0s()(),e.j41(6,"div",2)(7,"button",3),e.bIt("click",function(){return r.abrirModalNuevo()}),e.nrm(8,"i",4),e.EFF(9," Nuevo Proveedor "),e.k0s()()(),e.j41(10,"div",5)(11,"div",6)(12,"div",7)(13,"div",8)(14,"h1",9),e.EFF(15),e.k0s(),e.j41(16,"span",10),e.EFF(17,"Total Productos"),e.k0s()()()(),e.j41(18,"div",6)(19,"div",7)(20,"div",8)(21,"h1",11),e.EFF(22),e.k0s(),e.j41(23,"span",10),e.EFF(24,"Productos bajos en stock"),e.k0s()()()()(),e.j41(25,"div",12)(26,"div",13)(27,"div",14)(28,"div",15),e.nrm(29,"input",16),e.j41(30,"select",17)(31,"option",18),e.EFF(32,"Todas las categor\xedas"),e.k0s(),e.DNE(33,P,2,2,"option",19),e.k0s()()()()(),e.j41(34,"div",5),e.DNE(35,y,3,0,"div",20),e.DNE(36,C,50,11,"div",21),e.k0s(),e.j41(37,"div",22)(38,"div",23)(39,"div",24)(40,"div",25)(41,"div",26)(42,"div",27),e.nrm(43,"i",28),e.k0s(),e.j41(44,"div")(45,"h4",29),e.EFF(46),e.k0s(),e.j41(47,"small",10),e.EFF(48),e.k0s()()(),e.nrm(49,"button",30),e.k0s(),e.DNE(50,A,94,26,"div",31),e.j41(51,"div",32)(52,"button",33),e.nrm(53,"i",34),e.EFF(54,"Cerrar "),e.k0s(),e.j41(55,"button",35),e.bIt("click",function(){return r.editarDesdeDetalle()}),e.nrm(56,"i",36),e.EFF(57,"Editar "),e.k0s(),e.j41(58,"button",37),e.bIt("click",function(){return r.eliminarDesdeDetalle()}),e.nrm(59,"i",38),e.EFF(60,"Eliminar "),e.k0s()()()()(),e.j41(61,"div",39)(62,"div",23)(63,"div",24)(64,"form",40),e.bIt("ngSubmit",function(){return r.guardarProveedor()}),e.j41(65,"div",41)(66,"h4",42),e.EFF(67),e.k0s(),e.nrm(68,"button",30),e.k0s(),e.j41(69,"div",43)(70,"div",0)(71,"div",44)(72,"h6"),e.nrm(73,"i",45),e.EFF(74,"\xa0Informaci\xf3n de la Empresa"),e.k0s(),e.j41(75,"div",46)(76,"div",44)(77,"label"),e.EFF(78,"Nombre Comercial "),e.j41(79,"span",47),e.EFF(80,"*"),e.k0s()(),e.nrm(81,"input",48),e.k0s(),e.j41(82,"div",44)(83,"label"),e.EFF(84,"CIF "),e.j41(85,"span",47),e.EFF(86,"*"),e.k0s()(),e.nrm(87,"input",49),e.k0s()(),e.j41(88,"div",12)(89,"div",50)(90,"label"),e.EFF(91,"Raz\xf3n Social "),e.j41(92,"span",47),e.EFF(93,"*"),e.k0s()(),e.nrm(94,"input",51),e.k0s()(),e.j41(95,"div",52)(96,"div",12)(97,"div",44)(98,"label"),e.EFF(99,"Persona de Contacto "),e.j41(100,"span",47),e.EFF(101,"*"),e.k0s()(),e.nrm(102,"input",53),e.k0s(),e.j41(103,"div",44)(104,"label"),e.EFF(105,"Tel\xe9fono "),e.j41(106,"span",47),e.EFF(107,"*"),e.k0s()(),e.nrm(108,"input",54),e.k0s()(),e.j41(109,"div",12)(110,"div",50)(111,"label"),e.EFF(112,"Email "),e.j41(113,"span",47),e.EFF(114,"*"),e.k0s()(),e.nrm(115,"input",55),e.k0s()()(),e.j41(116,"div",12)(117,"div",13)(118,"div",56),e.nrm(119,"input",57),e.j41(120,"label",58),e.EFF(121,"Proveedor activo"),e.k0s()()()()(),e.j41(122,"div",44)(123,"h6"),e.nrm(124,"i",59),e.EFF(125,"\xa0Direcci\xf3n y Datos Fiscales"),e.k0s(),e.j41(126,"div",60)(127,"div",46)(128,"div",50)(129,"label"),e.EFF(130,"Direcci\xf3n "),e.j41(131,"span",47),e.EFF(132,"*"),e.k0s()(),e.nrm(133,"input",61),e.k0s()(),e.j41(134,"div",12)(135,"div",44)(136,"label"),e.EFF(137,"C\xf3digo Postal "),e.j41(138,"span",47),e.EFF(139,"*"),e.k0s()(),e.nrm(140,"input",62),e.k0s(),e.j41(141,"div",44)(142,"label"),e.EFF(143,"Ciudad "),e.j41(144,"span",47),e.EFF(145,"*"),e.k0s()(),e.nrm(146,"input",63),e.k0s()(),e.j41(147,"div",12)(148,"div",50)(149,"label"),e.EFF(150,"Provincia "),e.j41(151,"span",47),e.EFF(152,"*"),e.k0s()(),e.nrm(153,"input",64),e.k0s()()(),e.j41(154,"div",12)(155,"div",50)(156,"label"),e.EFF(157,"IBAN "),e.j41(158,"small",10),e.EFF(159,"(Opcional)"),e.k0s()(),e.nrm(160,"input",65),e.k0s()(),e.j41(161,"div",12)(162,"div",44)(163,"label"),e.EFF(164,"D\xedas de Pago"),e.k0s(),e.nrm(165,"input",66),e.k0s(),e.j41(166,"div",44)(167,"label"),e.EFF(168,"Descuentos "),e.j41(169,"small",10),e.EFF(170,"(%)"),e.k0s()(),e.nrm(171,"input",67),e.k0s()(),e.j41(172,"div",12)(173,"div",13)(174,"label",68),e.EFF(175,"Tipo de Pago"),e.k0s(),e.j41(176,"select",69)(177,"option",70),e.EFF(178,"SEPA"),e.k0s(),e.j41(179,"option",71),e.EFF(180,"TRANSFERENCIA"),e.k0s()()()()()(),e.nrm(181,"hr",72),e.j41(182,"div",0)(183,"div",50)(184,"h6"),e.nrm(185,"i",73),e.EFF(186,"\xa0Productos Suministrados"),e.k0s(),e.j41(187,"p",10),e.EFF(188,"Selecciona los productos que este proveedor suministra."),e.k0s(),e.j41(189,"div",74),e.nrm(190,"input",75),e.k0s(),e.j41(191,"div",76),e.DNE(192,_,3,3,"label",77),e.k0s()()()(),e.j41(193,"div",78)(194,"button",33),e.EFF(195,"Cancelar"),e.k0s(),e.j41(196,"button",79),e.EFF(197),e.k0s()()()()()(),e.EFF(198,">\n")),2&i){let s,l;e.R7$(15),e.JRh(r.totalProductos),e.R7$(7),e.JRh(r.productosBajosEnStock),e.R7$(7),e.Y8G("formControl",r.proveedorSearch),e.R7$(1),e.Y8G("formControl",r.categoryFilter),e.R7$(3),e.Y8G("ngForOf",r.categorias),e.R7$(2),e.Y8G("ngIf",0===r.filteredProveedores.length),e.R7$(1),e.Y8G("ngForOf",r.filteredProveedores),e.R7$(10),e.JRh(null==r.proveedorSeleccionado?null:r.proveedorSeleccionado.nombre),e.R7$(2),e.SpI("CIF: ",null==r.proveedorSeleccionado?null:r.proveedorSeleccionado.cif,""),e.R7$(2),e.Y8G("ngIf",r.proveedorSeleccionado),e.R7$(14),e.Y8G("formGroup",r.proveedorForm),e.R7$(3),e.SpI(" ",null!=(s=r.proveedorForm.get("id"))&&s.value?"Editar Proveedor":"Nuevo Proveedor"," "),e.R7$(123),e.Y8G("formControl",r.productSearch),e.R7$(2),e.Y8G("ngForOf",r.productosFormArray.controls),e.R7$(4),e.Y8G("disabled",r.proveedorForm.invalid),e.R7$(1),e.SpI(" ",null!=(l=r.proveedorForm.get("id"))&&l.value?"Actualizar Proveedor":"Crear Proveedor"," ")}},dependencies:[p.YU,p.Sq,p.bT,d.qT,d.xH,d.y7,d.me,d.Q0,d.Zm,d.wz,d.BC,d.cb,d.l_,d.j4,d.JD,d.$R,d.v8]})}}return t})()}];let M=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=e.$C({type:t})}static{this.\u0275inj=e.G2t({imports:[f.iI.forChild(T),f.iI]})}}return t})(),Y=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=e.$C({type:t})}static{this.\u0275inj=e.G2t({imports:[M,h.PrivateModule,p.MD,d.X1,d.YN]})}}return t})()}}]);