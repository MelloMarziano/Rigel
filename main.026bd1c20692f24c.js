"use strict";(self.webpackChunkrigel=self.webpackChunkrigel||[]).push([[792],{1076:(on,Ze,q)=>{q.d(Ze,{Am:()=>zt,FA:()=>It,Fy:()=>lt,Ku:()=>Ye,T9:()=>yt,Uj:()=>Ue,XA:()=>ut,ZQ:()=>Mt,bD:()=>Hn,c1:()=>Zt,cY:()=>He,eX:()=>me,g:()=>pt,jZ:()=>Rt,lV:()=>rt,nr:()=>Et,sr:()=>st,tD:()=>Br,u:()=>pe,yU:()=>Tn,zW:()=>Oe});const Y=function(te){const H=[];let Q=0;for(let _e=0;_e<te.length;_e++){let Te=te.charCodeAt(_e);Te<128?H[Q++]=Te:Te<2048?(H[Q++]=Te>>6|192,H[Q++]=63&Te|128):55296==(64512&Te)&&_e+1<te.length&&56320==(64512&te.charCodeAt(_e+1))?(Te=65536+((1023&Te)<<10)+(1023&te.charCodeAt(++_e)),H[Q++]=Te>>18|240,H[Q++]=Te>>12&63|128,H[Q++]=Te>>6&63|128,H[Q++]=63&Te|128):(H[Q++]=Te>>12|224,H[Q++]=Te>>6&63|128,H[Q++]=63&Te|128)}return H},le={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(te,H){if(!Array.isArray(te))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Q=H?this.byteToCharMapWebSafe_:this.byteToCharMap_,_e=[];for(let Te=0;Te<te.length;Te+=3){const ct=te[Te],Ut=Te+1<te.length,Wt=Ut?te[Te+1]:0,Jn=Te+2<te.length,Rn=Jn?te[Te+2]:0;let qr=(15&Wt)<<2|Rn>>6,Kn=63&Rn;Jn||(Kn=64,Ut||(qr=64)),_e.push(Q[ct>>2],Q[(3&ct)<<4|Wt>>4],Q[qr],Q[Kn])}return _e.join("")},encodeString(te,H){return this.HAS_NATIVE_SUPPORT&&!H?btoa(te):this.encodeByteArray(Y(te),H)},decodeString(te,H){return this.HAS_NATIVE_SUPPORT&&!H?atob(te):function(te){const H=[];let Q=0,_e=0;for(;Q<te.length;){const Te=te[Q++];if(Te<128)H[_e++]=String.fromCharCode(Te);else if(Te>191&&Te<224){const ct=te[Q++];H[_e++]=String.fromCharCode((31&Te)<<6|63&ct)}else if(Te>239&&Te<365){const Jn=((7&Te)<<18|(63&te[Q++])<<12|(63&te[Q++])<<6|63&te[Q++])-65536;H[_e++]=String.fromCharCode(55296+(Jn>>10)),H[_e++]=String.fromCharCode(56320+(1023&Jn))}else{const ct=te[Q++],Ut=te[Q++];H[_e++]=String.fromCharCode((15&Te)<<12|(63&ct)<<6|63&Ut)}}return H.join("")}(this.decodeStringToByteArray(te,H))},decodeStringToByteArray(te,H){this.init_();const Q=H?this.charToByteMapWebSafe_:this.charToByteMap_,_e=[];for(let Te=0;Te<te.length;){const ct=Q[te.charAt(Te++)],Wt=Te<te.length?Q[te.charAt(Te)]:0;++Te;const Rn=Te<te.length?Q[te.charAt(Te)]:64;++Te;const Kt=Te<te.length?Q[te.charAt(Te)]:64;if(++Te,null==ct||null==Wt||null==Rn||null==Kt)throw new Re;_e.push(ct<<2|Wt>>4),64!==Rn&&(_e.push(Wt<<4&240|Rn>>2),64!==Kt&&_e.push(Rn<<6&192|Kt))}return _e},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let te=0;te<this.ENCODED_VALS.length;te++)this.byteToCharMap_[te]=this.ENCODED_VALS.charAt(te),this.charToByteMap_[this.byteToCharMap_[te]]=te,this.byteToCharMapWebSafe_[te]=this.ENCODED_VALS_WEBSAFE.charAt(te),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[te]]=te,te>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(te)]=te,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(te)]=te)}}};class Re extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ue=function(te){return function(te){const H=Y(te);return le.encodeByteArray(H,!0)}(te).replace(/\./g,"")},pe=function(te){try{return le.decodeString(te,!0)}catch(H){console.error("base64Decode failed: ",H)}return null},Xt=()=>{try{return function nt(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const te=process.env.__FIREBASE_DEFAULTS__;return te?JSON.parse(te):void 0})()||(()=>{if(typeof document>"u")return;let te;try{te=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const H=te&&pe(te[1]);return H&&JSON.parse(H)})()}catch(te){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${te}`)}},Tn=te=>{const H=(te=>{var H,Q;return null===(Q=null===(H=Xt())||void 0===H?void 0:H.emulatorHosts)||void 0===Q?void 0:Q[te]})(te);if(!H)return;const Q=H.lastIndexOf(":");if(Q<=0||Q+1===H.length)throw new Error(`Invalid host ${H} with no separate hostname and port!`);const _e=parseInt(H.substring(Q+1),10);return"["===H[0]?[H.substring(1,Q-1),_e]:[H.substring(0,Q),_e]},yt=()=>{var te;return null===(te=Xt())||void 0===te?void 0:te.config},ut=te=>{var H;return null===(H=Xt())||void 0===H?void 0:H[`_${te}`]};class He{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((H,Q)=>{this.resolve=H,this.reject=Q})}wrapCallback(H){return(Q,_e)=>{Q?this.reject(Q):this.resolve(_e),"function"==typeof H&&(this.promise.catch(()=>{}),1===H.length?H(Q):H(Q,_e))}}}function lt(te,H){if(te.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const _e=H||"demo-project",Te=te.iat||0,ct=te.sub||te.user_id;if(!ct)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Ut=Object.assign({iss:`https://securetoken.google.com/${_e}`,aud:_e,iat:Te,exp:Te+3600,auth_time:Te,sub:ct,user_id:ct,firebase:{sign_in_provider:"custom",identities:{}}},te);return[Ue(JSON.stringify({alg:"none",type:"JWT"})),Ue(JSON.stringify(Ut)),""].join(".")}function Mt(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Rt(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Mt())}function Zt(){return typeof navigator<"u"&&"Cloudflare-Workers"===navigator.userAgent}function st(){const te="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof te&&void 0!==te.id}function rt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Et(){return!function cn(){var te;const H=null===(te=Xt())||void 0===te?void 0:te.forceEnvironment;if("node"===H)return!0;if("browser"===H)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Oe(){try{return"object"==typeof indexedDB}catch{return!1}}function me(){return new Promise((te,H)=>{try{let Q=!0;const _e="validate-browser-context-for-indexeddb-analytics-module",Te=self.indexedDB.open(_e);Te.onsuccess=()=>{Te.result.close(),Q||self.indexedDB.deleteDatabase(_e),te(!0)},Te.onupgradeneeded=()=>{Q=!1},Te.onerror=()=>{var ct;H((null===(ct=Te.error)||void 0===ct?void 0:ct.message)||"")}}catch(Q){H(Q)}})}class pt extends Error{constructor(H,Q,_e){super(Q),this.code=H,this.customData=_e,this.name="FirebaseError",Object.setPrototypeOf(this,pt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,It.prototype.create)}}class It{constructor(H,Q,_e){this.service=H,this.serviceName=Q,this.errors=_e}create(H,...Q){const _e=Q[0]||{},Te=`${this.service}/${H}`,ct=this.errors[H],Ut=ct?function Lt(te,H){return te.replace(an,(Q,_e)=>{const Te=H[_e];return null!=Te?String(Te):`<${_e}?>`})}(ct,_e):"Error";return new pt(Te,`${this.serviceName}: ${Ut} (${Te}).`,_e)}}const an=/\{\$([^}]+)}/g;function Hn(te,H){if(te===H)return!0;const Q=Object.keys(te),_e=Object.keys(H);for(const Te of Q){if(!_e.includes(Te))return!1;const ct=te[Te],Ut=H[Te];if(Ht(ct)&&Ht(Ut)){if(!Hn(ct,Ut))return!1}else if(ct!==Ut)return!1}for(const Te of _e)if(!Q.includes(Te))return!1;return!0}function Ht(te){return null!==te&&"object"==typeof te}function zt(te){const H=[];for(const[Q,_e]of Object.entries(te))Array.isArray(_e)?_e.forEach(Te=>{H.push(encodeURIComponent(Q)+"="+encodeURIComponent(Te))}):H.push(encodeURIComponent(Q)+"="+encodeURIComponent(_e));return H.length?"&"+H.join("&"):""}function Br(te,H){const Q=new zr(te,H);return Q.subscribe.bind(Q)}class zr{constructor(H,Q){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Q,this.task.then(()=>{H(this)}).catch(_e=>{this.error(_e)})}next(H){this.forEachObserver(Q=>{Q.next(H)})}error(H){this.forEachObserver(Q=>{Q.error(H)}),this.close(H)}complete(){this.forEachObserver(H=>{H.complete()}),this.close()}subscribe(H,Q,_e){let Te;if(void 0===H&&void 0===Q&&void 0===_e)throw new Error("Missing Observer.");Te=function Xn(te,H){if("object"!=typeof te||null===te)return!1;for(const Q of H)if(Q in te&&"function"==typeof te[Q])return!0;return!1}(H,["next","error","complete"])?H:{next:H,error:Q,complete:_e},void 0===Te.next&&(Te.next=Pn),void 0===Te.error&&(Te.error=Pn),void 0===Te.complete&&(Te.complete=Pn);const ct=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?Te.error(this.finalError):Te.complete()}catch{}}),this.observers.push(Te),ct}unsubscribeOne(H){void 0===this.observers||void 0===this.observers[H]||(delete this.observers[H],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(H){if(!this.finalized)for(let Q=0;Q<this.observers.length;Q++)this.sendOne(Q,H)}sendOne(H,Q){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[H])try{Q(this.observers[H])}catch(_e){typeof console<"u"&&console.error&&console.error(_e)}})}close(H){this.finalized||(this.finalized=!0,void 0!==H&&(this.finalError=H),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Pn(){}function Ye(te){return te&&te._delegate?te._delegate:te}},5558:(on,Ze,q)=>{var I=q(345),Ee=q(4341),$e=q(2559),Y=q(2598);const de=[{path:"private",loadChildren:()=>q.e(520).then(q.bind(q,4520)).then(f=>f.PrivateModule)},{path:"",redirectTo:"private",pathMatch:"full"}];let le=(()=>{class f{static{this.\u0275fac=function(h){return new(h||f)}}static{this.\u0275mod=Y.$C({type:f})}static{this.\u0275inj=Y.G2t({imports:[$e.iI.forRoot(de),$e.iI]})}}return f})(),Re=(()=>{class f{constructor(){this.title="Rigel"}static{this.\u0275fac=function(h){return new(h||f)}}static{this.\u0275cmp=Y.VBU({type:f,selectors:[["app-root"]],decls:1,vars:0,template:function(h,y){1&h&&Y.nrm(0,"router-outlet")},dependencies:[$e.n3]})}}return f})();const ot_firebase={apiKey:"AIzaSyCDRmcu80MmOuBfPmRYxfuy-GO1_Ue0-fg",authDomain:"rigel-9d30c.firebaseapp.com",projectId:"rigel-9d30c",storageBucket:"rigel-9d30c.firebasestorage.app",messagingSenderId:"747258352161",appId:"1:747258352161:web:dd77e892dc14b8edad4960"};var Ue=q(7673),pe=q(8455),Ie=q(1985),ze=q(274),gt=q(5964),nt=q(6354),Tt=q(980),sn=q(3177),mt=q(177);class Xt{}class tn{}class Tn{constructor(o){this.normalizedNames=new Map,this.lazyUpdate=null,o?"string"==typeof o?this.lazyInit=()=>{this.headers=new Map,o.split("\n").forEach(a=>{const h=a.indexOf(":");if(h>0){const y=a.slice(0,h),S=y.toLowerCase(),V=a.slice(h+1).trim();this.maybeSetNormalizedName(y,S),this.headers.has(S)?this.headers.get(S).push(V):this.headers.set(S,[V])}})}:typeof Headers<"u"&&o instanceof Headers?(this.headers=new Map,o.forEach((a,h)=>{this.setHeaderEntries(h,a)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(o).forEach(([a,h])=>{this.setHeaderEntries(a,h)})}:this.headers=new Map}has(o){return this.init(),this.headers.has(o.toLowerCase())}get(o){this.init();const a=this.headers.get(o.toLowerCase());return a&&a.length>0?a[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(o){return this.init(),this.headers.get(o.toLowerCase())||null}append(o,a){return this.clone({name:o,value:a,op:"a"})}set(o,a){return this.clone({name:o,value:a,op:"s"})}delete(o,a){return this.clone({name:o,value:a,op:"d"})}maybeSetNormalizedName(o,a){this.normalizedNames.has(a)||this.normalizedNames.set(a,o)}init(){this.lazyInit&&(this.lazyInit instanceof Tn?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(o=>this.applyUpdate(o)),this.lazyUpdate=null))}copyFrom(o){o.init(),Array.from(o.headers.keys()).forEach(a=>{this.headers.set(a,o.headers.get(a)),this.normalizedNames.set(a,o.normalizedNames.get(a))})}clone(o){const a=new Tn;return a.lazyInit=this.lazyInit&&this.lazyInit instanceof Tn?this.lazyInit:this,a.lazyUpdate=(this.lazyUpdate||[]).concat([o]),a}applyUpdate(o){const a=o.name.toLowerCase();switch(o.op){case"a":case"s":let h=o.value;if("string"==typeof h&&(h=[h]),0===h.length)return;this.maybeSetNormalizedName(o.name,a);const y=("a"===o.op?this.headers.get(a):void 0)||[];y.push(...h),this.headers.set(a,y);break;case"d":const S=o.value;if(S){let V=this.headers.get(a);if(!V)return;V=V.filter(Z=>-1===S.indexOf(Z)),0===V.length?(this.headers.delete(a),this.normalizedNames.delete(a)):this.headers.set(a,V)}else this.headers.delete(a),this.normalizedNames.delete(a)}}setHeaderEntries(o,a){const h=(Array.isArray(a)?a:[a]).map(S=>S.toString()),y=o.toLowerCase();this.headers.set(y,h),this.maybeSetNormalizedName(o,y)}forEach(o){this.init(),Array.from(this.normalizedNames.keys()).forEach(a=>o(this.normalizedNames.get(a),this.headers.get(a)))}}class ut{encodeKey(o){return Rt(o)}encodeValue(o){return Rt(o)}decodeKey(o){return decodeURIComponent(o)}decodeValue(o){return decodeURIComponent(o)}}const lt=/%(\d[a-f0-9])/gi,Mt={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Rt(f){return encodeURIComponent(f).replace(lt,(o,a)=>Mt[a]??o)}function cn(f){return`${f}`}class et{constructor(o={}){if(this.updates=null,this.cloneFrom=null,this.encoder=o.encoder||new ut,o.fromString){if(o.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function He(f,o){const a=new Map;return f.length>0&&f.replace(/^\?/,"").split("&").forEach(y=>{const S=y.indexOf("="),[V,Z]=-1==S?[o.decodeKey(y),""]:[o.decodeKey(y.slice(0,S)),o.decodeValue(y.slice(S+1))],ie=a.get(V)||[];ie.push(Z),a.set(V,ie)}),a}(o.fromString,this.encoder)}else o.fromObject?(this.map=new Map,Object.keys(o.fromObject).forEach(a=>{const h=o.fromObject[a],y=Array.isArray(h)?h.map(cn):[cn(h)];this.map.set(a,y)})):this.map=null}has(o){return this.init(),this.map.has(o)}get(o){this.init();const a=this.map.get(o);return a?a[0]:null}getAll(o){return this.init(),this.map.get(o)||null}keys(){return this.init(),Array.from(this.map.keys())}append(o,a){return this.clone({param:o,value:a,op:"a"})}appendAll(o){const a=[];return Object.keys(o).forEach(h=>{const y=o[h];Array.isArray(y)?y.forEach(S=>{a.push({param:h,value:S,op:"a"})}):a.push({param:h,value:y,op:"a"})}),this.clone(a)}set(o,a){return this.clone({param:o,value:a,op:"s"})}delete(o,a){return this.clone({param:o,value:a,op:"d"})}toString(){return this.init(),this.keys().map(o=>{const a=this.encoder.encodeKey(o);return this.map.get(o).map(h=>a+"="+this.encoder.encodeValue(h)).join("&")}).filter(o=>""!==o).join("&")}clone(o){const a=new et({encoder:this.encoder});return a.cloneFrom=this.cloneFrom||this,a.updates=(this.updates||[]).concat(o),a}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(o=>this.map.set(o,this.cloneFrom.map.get(o))),this.updates.forEach(o=>{switch(o.op){case"a":case"s":const a=("a"===o.op?this.map.get(o.param):void 0)||[];a.push(cn(o.value)),this.map.set(o.param,a);break;case"d":if(void 0===o.value){this.map.delete(o.param);break}{let h=this.map.get(o.param)||[];const y=h.indexOf(cn(o.value));-1!==y&&h.splice(y,1),h.length>0?this.map.set(o.param,h):this.map.delete(o.param)}}}),this.cloneFrom=this.updates=null)}}class Zt{constructor(){this.map=new Map}set(o,a){return this.map.set(o,a),this}get(o){return this.map.has(o)||this.map.set(o,o.defaultValue()),this.map.get(o)}delete(o){return this.map.delete(o),this}has(o){return this.map.has(o)}keys(){return this.map.keys()}}function rt(f){return typeof ArrayBuffer<"u"&&f instanceof ArrayBuffer}function Pt(f){return typeof Blob<"u"&&f instanceof Blob}function Jt(f){return typeof FormData<"u"&&f instanceof FormData}class Xe{constructor(o,a,h,y){let S;if(this.url=a,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=o.toUpperCase(),function st(f){switch(f){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||y?(this.body=void 0!==h?h:null,S=y):S=h,S&&(this.reportProgress=!!S.reportProgress,this.withCredentials=!!S.withCredentials,S.responseType&&(this.responseType=S.responseType),S.headers&&(this.headers=S.headers),S.context&&(this.context=S.context),S.params&&(this.params=S.params)),this.headers||(this.headers=new Tn),this.context||(this.context=new Zt),this.params){const V=this.params.toString();if(0===V.length)this.urlWithParams=a;else{const Z=a.indexOf("?");this.urlWithParams=a+(-1===Z?"?":Z<a.length-1?"&":"")+V}}else this.params=new et,this.urlWithParams=a}serializeBody(){return null===this.body?null:rt(this.body)||Pt(this.body)||Jt(this.body)||function pn(f){return typeof URLSearchParams<"u"&&f instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof et?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Jt(this.body)?null:Pt(this.body)?this.body.type||null:rt(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof et?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(o={}){const a=o.method||this.method,h=o.url||this.url,y=o.responseType||this.responseType,S=void 0!==o.body?o.body:this.body,V=void 0!==o.withCredentials?o.withCredentials:this.withCredentials,Z=void 0!==o.reportProgress?o.reportProgress:this.reportProgress;let ie=o.headers||this.headers,ve=o.params||this.params;const Fe=o.context??this.context;return void 0!==o.setHeaders&&(ie=Object.keys(o.setHeaders).reduce((tt,Bt)=>tt.set(Bt,o.setHeaders[Bt]),ie)),o.setParams&&(ve=Object.keys(o.setParams).reduce((tt,Bt)=>tt.set(Bt,o.setParams[Bt]),ve)),new Xe(a,h,S,{params:ve,headers:ie,context:Fe,reportProgress:Z,responseType:y,withCredentials:V})}}var Et=function(f){return f[f.Sent=0]="Sent",f[f.UploadProgress=1]="UploadProgress",f[f.ResponseHeader=2]="ResponseHeader",f[f.DownloadProgress=3]="DownloadProgress",f[f.Response=4]="Response",f[f.User=5]="User",f}(Et||{});class Oe{constructor(o,a=200,h="OK"){this.headers=o.headers||new Tn,this.status=void 0!==o.status?o.status:a,this.statusText=o.statusText||h,this.url=o.url||null,this.ok=this.status>=200&&this.status<300}}class me extends Oe{constructor(o={}){super(o),this.type=Et.ResponseHeader}clone(o={}){return new me({headers:o.headers||this.headers,status:void 0!==o.status?o.status:this.status,statusText:o.statusText||this.statusText,url:o.url||this.url||void 0})}}class ae extends Oe{constructor(o={}){super(o),this.type=Et.Response,this.body=void 0!==o.body?o.body:null}clone(o={}){return new ae({body:void 0!==o.body?o.body:this.body,headers:o.headers||this.headers,status:void 0!==o.status?o.status:this.status,statusText:o.statusText||this.statusText,url:o.url||this.url||void 0})}}class ge extends Oe{constructor(o){super(o,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${o.url||"(unknown url)"}`:`Http failure response for ${o.url||"(unknown url)"}: ${o.status} ${o.statusText}`,this.error=o.error||null}}function pt(f,o){return{body:o,headers:f.headers,context:f.context,observe:f.observe,params:f.params,reportProgress:f.reportProgress,responseType:f.responseType,withCredentials:f.withCredentials}}let It=(()=>{class f{constructor(a){this.handler=a}request(a,h,y={}){let S;if(a instanceof Xe)S=a;else{let ie,ve;ie=y.headers instanceof Tn?y.headers:new Tn(y.headers),y.params&&(ve=y.params instanceof et?y.params:new et({fromObject:y.params})),S=new Xe(a,h,void 0!==y.body?y.body:null,{headers:ie,context:y.context,params:ve,reportProgress:y.reportProgress,responseType:y.responseType||"json",withCredentials:y.withCredentials})}const V=(0,Ue.of)(S).pipe((0,ze.H)(ie=>this.handler.handle(ie)));if(a instanceof Xe||"events"===y.observe)return V;const Z=V.pipe((0,gt.p)(ie=>ie instanceof ae));switch(y.observe||"body"){case"body":switch(S.responseType){case"arraybuffer":return Z.pipe((0,nt.T)(ie=>{if(null!==ie.body&&!(ie.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return ie.body}));case"blob":return Z.pipe((0,nt.T)(ie=>{if(null!==ie.body&&!(ie.body instanceof Blob))throw new Error("Response is not a Blob.");return ie.body}));case"text":return Z.pipe((0,nt.T)(ie=>{if(null!==ie.body&&"string"!=typeof ie.body)throw new Error("Response is not a string.");return ie.body}));default:return Z.pipe((0,nt.T)(ie=>ie.body))}case"response":return Z;default:throw new Error(`Unreachable: unhandled observe type ${y.observe}}`)}}delete(a,h={}){return this.request("DELETE",a,h)}get(a,h={}){return this.request("GET",a,h)}head(a,h={}){return this.request("HEAD",a,h)}jsonp(a,h){return this.request("JSONP",a,{params:(new et).append(h,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(a,h={}){return this.request("OPTIONS",a,h)}patch(a,h,y={}){return this.request("PATCH",a,pt(y,h))}post(a,h,y={}){return this.request("POST",a,pt(y,h))}put(a,h,y={}){return this.request("PUT",a,pt(y,h))}static{this.\u0275fac=function(h){return new(h||f)(Y.KVO(Xt))}}static{this.\u0275prov=Y.jDH({token:f,factory:f.\u0275fac})}}return f})();function xn(f,o){return o(f)}function Kr(f,o){return(a,h)=>o.intercept(a,{handle:y=>f(y,h)})}const Ot=new Y.nKC(""),Wn=new Y.nKC(""),Cr=new Y.nKC("");function Hn(){let f=null;return(o,a)=>{null===f&&(f=((0,Y.WQX)(Ot,{optional:!0})??[]).reduceRight(Kr,xn));const h=(0,Y.WQX)(Y.$K3),y=h.add();return f(o,a).pipe((0,Tt.j)(()=>h.remove(y)))}}let Ht=(()=>{class f extends Xt{constructor(a,h){super(),this.backend=a,this.injector=h,this.chain=null,this.pendingTasks=(0,Y.WQX)(Y.$K3)}handle(a){if(null===this.chain){const y=Array.from(new Set([...this.injector.get(Wn),...this.injector.get(Cr,[])]));this.chain=y.reduceRight((S,V)=>function yr(f,o,a){return(h,y)=>a.runInContext(()=>o(h,S=>f(S,y)))}(S,V,this.injector),xn)}const h=this.pendingTasks.add();return this.chain(a,y=>this.backend.handle(y)).pipe((0,Tt.j)(()=>this.pendingTasks.remove(h)))}static{this.\u0275fac=function(h){return new(h||f)(Y.KVO(tn),Y.KVO(Y.uvJ))}}static{this.\u0275prov=Y.jDH({token:f,factory:f.\u0275fac})}}return f})();const Ln=/^\)\]\}',?\n/;let ir=(()=>{class f{constructor(a){this.xhrFactory=a}handle(a){if("JSONP"===a.method)throw new Y.wOt(-2800,!1);const h=this.xhrFactory;return(h.\u0275loadImpl?(0,pe.H)(h.\u0275loadImpl()):(0,Ue.of)(null)).pipe((0,sn.n)(()=>new Ie.c(S=>{const V=h.build();if(V.open(a.method,a.urlWithParams),a.withCredentials&&(V.withCredentials=!0),a.headers.forEach((Dt,Qt)=>V.setRequestHeader(Dt,Qt.join(","))),a.headers.has("Accept")||V.setRequestHeader("Accept","application/json, text/plain, */*"),!a.headers.has("Content-Type")){const Dt=a.detectContentTypeHeader();null!==Dt&&V.setRequestHeader("Content-Type",Dt)}if(a.responseType){const Dt=a.responseType.toLowerCase();V.responseType="json"!==Dt?Dt:"text"}const Z=a.serializeBody();let ie=null;const ve=()=>{if(null!==ie)return ie;const Dt=V.statusText||"OK",Qt=new Tn(V.getAllResponseHeaders()),ar=function Fs(f){return"responseURL"in f&&f.responseURL?f.responseURL:/^X-Request-URL:/m.test(f.getAllResponseHeaders())?f.getResponseHeader("X-Request-URL"):null}(V)||a.url;return ie=new me({headers:Qt,status:V.status,statusText:Dt,url:ar}),ie},Fe=()=>{let{headers:Dt,status:Qt,statusText:ar,url:Bn}=ve(),$n=null;204!==Qt&&($n=typeof V.response>"u"?V.responseText:V.response),0===Qt&&(Qt=$n?200:0);let qn=Qt>=200&&Qt<300;if("json"===a.responseType&&"string"==typeof $n){const lo=$n;$n=$n.replace(Ln,"");try{$n=""!==$n?JSON.parse($n):null}catch(uo){$n=lo,qn&&(qn=!1,$n={error:uo,text:$n})}}qn?(S.next(new ae({body:$n,headers:Dt,status:Qt,statusText:ar,url:Bn||void 0})),S.complete()):S.error(new ge({error:$n,headers:Dt,status:Qt,statusText:ar,url:Bn||void 0}))},tt=Dt=>{const{url:Qt}=ve(),ar=new ge({error:Dt,status:V.status||0,statusText:V.statusText||"Unknown Error",url:Qt||void 0});S.error(ar)};let Bt=!1;const jt=Dt=>{Bt||(S.next(ve()),Bt=!0);let Qt={type:Et.DownloadProgress,loaded:Dt.loaded};Dt.lengthComputable&&(Qt.total=Dt.total),"text"===a.responseType&&V.responseText&&(Qt.partialText=V.responseText),S.next(Qt)},xt=Dt=>{let Qt={type:Et.UploadProgress,loaded:Dt.loaded};Dt.lengthComputable&&(Qt.total=Dt.total),S.next(Qt)};return V.addEventListener("load",Fe),V.addEventListener("error",tt),V.addEventListener("timeout",tt),V.addEventListener("abort",tt),a.reportProgress&&(V.addEventListener("progress",jt),null!==Z&&V.upload&&V.upload.addEventListener("progress",xt)),V.send(Z),S.next({type:Et.Sent}),()=>{V.removeEventListener("error",tt),V.removeEventListener("abort",tt),V.removeEventListener("load",Fe),V.removeEventListener("timeout",tt),a.reportProgress&&(V.removeEventListener("progress",jt),null!==Z&&V.upload&&V.upload.removeEventListener("progress",xt)),V.readyState!==V.DONE&&V.abort()}})))}static{this.\u0275fac=function(h){return new(h||f)(Y.KVO(mt.N0))}}static{this.\u0275prov=Y.jDH({token:f,factory:f.\u0275fac})}}return f})();const jr=new Y.nKC("XSRF_ENABLED"),rn=new Y.nKC("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),hi=new Y.nKC("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class Bi{}let xe=(()=>{class f{constructor(a,h,y){this.doc=a,this.platform=h,this.cookieName=y,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const a=this.doc.cookie||"";return a!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,mt._b)(a,this.cookieName),this.lastCookieString=a),this.lastToken}static{this.\u0275fac=function(h){return new(h||f)(Y.KVO(mt.qQ),Y.KVO(Y.Agw),Y.KVO(rn))}}static{this.\u0275prov=Y.jDH({token:f,factory:f.\u0275fac})}}return f})();function yi(f,o){const a=f.url.toLowerCase();if(!(0,Y.WQX)(jr)||"GET"===f.method||"HEAD"===f.method||a.startsWith("http://")||a.startsWith("https://"))return o(f);const h=(0,Y.WQX)(Bi).getToken(),y=(0,Y.WQX)(hi);return null!=h&&!f.headers.has(y)&&(f=f.clone({headers:f.headers.set(y,h)})),o(f)}var vi=function(f){return f[f.Interceptors=0]="Interceptors",f[f.LegacyInterceptors=1]="LegacyInterceptors",f[f.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",f[f.NoXsrfProtection=3]="NoXsrfProtection",f[f.JsonpSupport=4]="JsonpSupport",f[f.RequestsMadeViaParent=5]="RequestsMadeViaParent",f[f.Fetch=6]="Fetch",f}(vi||{});function Si(f,o){return{\u0275kind:f,\u0275providers:o}}function Ye(...f){const o=[It,ir,Ht,{provide:Xt,useExisting:Ht},{provide:tn,useExisting:ir},{provide:Wn,useValue:yi,multi:!0},{provide:jr,useValue:!0},{provide:Bi,useClass:xe}];for(const a of f)o.push(...a.\u0275providers);return(0,Y.EmA)(o)}const H=new Y.nKC("LEGACY_INTERCEPTOR_FN");let Rn=(()=>{class f{static{this.\u0275fac=function(h){return new(h||f)}}static{this.\u0275mod=Y.$C({type:f})}static{this.\u0275inj=Y.G2t({providers:[Ye(Si(vi.LegacyInterceptors,[{provide:H,useFactory:Hn},{provide:Wn,useExisting:H,multi:!0}]))]})}}return f})();class ji{}class po{}const $i="*";function kt(f,o=null){return{type:2,steps:f,options:o}}function ln(f){return{type:6,styles:f,offset:null}}class lr{constructor(o=0,a=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=o+a}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(o=>o()),this._onDoneFns=[])}onStart(o){this._originalOnStartFns.push(o),this._onStartFns.push(o)}onDone(o){this._originalOnDoneFns.push(o),this._onDoneFns.push(o)}onDestroy(o){this._onDestroyFns.push(o)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(o=>o()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(o=>o()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(o){this._position=this.totalTime?o*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(o){const a="start"==o?this._onStartFns:this._onDoneFns;a.forEach(h=>h()),a.length=0}}class Hi{constructor(o){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=o;let a=0,h=0,y=0;const S=this.players.length;0==S?queueMicrotask(()=>this._onFinish()):this.players.forEach(V=>{V.onDone(()=>{++a==S&&this._onFinish()}),V.onDestroy(()=>{++h==S&&this._onDestroy()}),V.onStart(()=>{++y==S&&this._onStart()})}),this.totalTime=this.players.reduce((V,Z)=>Math.max(V,Z.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(o=>o()),this._onDoneFns=[])}init(){this.players.forEach(o=>o.init())}onStart(o){this._onStartFns.push(o)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(o=>o()),this._onStartFns=[])}onDone(o){this._onDoneFns.push(o)}onDestroy(o){this._onDestroyFns.push(o)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(o=>o.play())}pause(){this.players.forEach(o=>o.pause())}restart(){this.players.forEach(o=>o.restart())}finish(){this._onFinish(),this.players.forEach(o=>o.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(o=>o.destroy()),this._onDestroyFns.forEach(o=>o()),this._onDestroyFns=[])}reset(){this.players.forEach(o=>o.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(o){const a=o*this.totalTime;this.players.forEach(h=>{const y=h.totalTime?Math.min(1,a/h.totalTime):1;h.setPosition(y)})}getPosition(){const o=this.players.reduce((a,h)=>null===a||h.totalTime>a.totalTime?h:a,null);return null!=o?o.getPosition():0}beforeDestroy(){this.players.forEach(o=>{o.beforeDestroy&&o.beforeDestroy()})}triggerCallback(o){const a="start"==o?this._onStartFns:this._onDoneFns;a.forEach(h=>h()),a.length=0}}function fi(f){return new Y.wOt(3e3,!1)}function er(f){switch(f.length){case 0:return new lr;case 1:return f[0];default:return new Hi(f)}}function Nt(f,o,a=new Map,h=new Map){const y=[],S=[];let V=-1,Z=null;if(o.forEach(ie=>{const ve=ie.get("offset"),Fe=ve==V,tt=Fe&&Z||new Map;ie.forEach((Bt,jt)=>{let xt=jt,Dt=Bt;if("offset"!==jt)switch(xt=f.normalizePropertyName(xt,y),Dt){case"!":Dt=a.get(jt);break;case $i:Dt=h.get(jt);break;default:Dt=f.normalizeStyleValue(jt,xt,Dt,y)}tt.set(xt,Dt)}),Fe||S.push(tt),Z=tt,V=ve}),y.length)throw function go(f){return new Y.wOt(3502,!1)}();return S}function vn(f,o,a,h){switch(o){case"start":f.onStart(()=>h(a&&ur(a,"start",f)));break;case"done":f.onDone(()=>h(a&&ur(a,"done",f)));break;case"destroy":f.onDestroy(()=>h(a&&ur(a,"destroy",f)))}}function ur(f,o,a){const S=Oi(f.element,f.triggerName,f.fromState,f.toState,o||f.phaseName,a.totalTime??f.totalTime,!!a.disabled),V=f._data;return null!=V&&(S._data=V),S}function Oi(f,o,a,h,y="",S=0,V){return{element:f,triggerName:o,fromState:a,toState:h,phaseName:y,totalTime:S,disabled:!!V}}function Lr(f,o,a){let h=f.get(o);return h||f.set(o,h=a),h}function Hr(f){const o=f.indexOf(":");return[f.substring(1,o),f.slice(o+1)]}const os=(()=>typeof document>"u"?null:document.documentElement)();function fr(f){const o=f.parentNode||f.host||null;return o===os?null:o}let Qr=null,wn=!1;function kn(f,o){for(;o;){if(o===f)return!0;o=fr(o)}return!1}function as(f,o,a){if(a)return Array.from(f.querySelectorAll(o));const h=f.querySelector(o);return h?[h]:[]}let Ei=(()=>{class f{validateStyleProperty(a){return function Is(f){Qr||(Qr=function ss(){return typeof document<"u"?document.body:null}()||{},wn=!!Qr.style&&"WebkitAppearance"in Qr.style);let o=!0;return Qr.style&&!function Ao(f){return"ebkit"==f.substring(1,6)}(f)&&(o=f in Qr.style,!o&&wn&&(o="Webkit"+f.charAt(0).toUpperCase()+f.slice(1)in Qr.style)),o}(a)}matchesElement(a,h){return!1}containsElement(a,h){return kn(a,h)}getParentElement(a){return fr(a)}query(a,h,y){return as(a,h,y)}computeStyle(a,h,y){return y||""}animate(a,h,y,S,V,Z=[],ie){return new lr(y,S)}static{this.\u0275fac=function(h){return new(h||f)}}static{this.\u0275prov=Y.jDH({token:f,factory:f.\u0275fac})}}return f})(),Do=(()=>{class f{static{this.NOOP=new Ei}}return f})();const za=1e3,Zi="ng-enter",_n="ng-leave",qt="ng-trigger",Ji=".ng-trigger",aa="ng-animating",Ts=".ng-animating";function Er(f){if("number"==typeof f)return f;const o=f.match(/^(-?[\.\d]+)(m?s)/);return!o||o.length<2?0:qo(parseFloat(o[1]),o[2])}function qo(f,o){return"s"===o?f*za:f}function Ni(f,o,a){return f.hasOwnProperty("duration")?f:function _a(f,o,a){let y,S=0,V="";if("string"==typeof f){const Z=f.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===Z)return o.push(fi()),{duration:0,delay:0,easing:""};y=qo(parseFloat(Z[1]),Z[2]);const ie=Z[3];null!=ie&&(S=qo(parseFloat(ie),Z[4]));const ve=Z[5];ve&&(V=ve)}else y=f;if(!a){let Z=!1,ie=o.length;y<0&&(o.push(function Wo(){return new Y.wOt(3100,!1)}()),Z=!0),S<0&&(o.push(function is(){return new Y.wOt(3101,!1)}()),Z=!0),Z&&o.splice(ie,0,fi())}return{duration:y,delay:S,easing:V}}(f,o,a)}function ii(f,o={}){return Object.keys(f).forEach(a=>{o[a]=f[a]}),o}function ca(f){const o=new Map;return Object.keys(f).forEach(a=>{o.set(a,f[a])}),o}function Qo(f,o=new Map,a){if(a)for(let[h,y]of a)o.set(h,y);for(let[h,y]of f)o.set(h,y);return o}function Xr(f,o,a){o.forEach((h,y)=>{const S=W(y);a&&!a.has(y)&&a.set(y,f.style[S]),f.style[S]=h})}function Gi(f,o){o.forEach((a,h)=>{const y=W(h);f.style[y]=""})}function Fi(f){return Array.isArray(f)?1==f.length?f[0]:kt(f):f}const vo=new RegExp("{{\\s*(.+?)\\s*}}","g");function Vr(f){let o=[];if("string"==typeof f){let a;for(;a=vo.exec(f);)o.push(a[1]);vo.lastIndex=0}return o}function cs(f,o,a){const h=f.toString(),y=h.replace(vo,(S,V)=>{let Z=o[V];return null==Z&&(a.push(function Fo(f){return new Y.wOt(3003,!1)}()),Z=""),Z.toString()});return y==h?f:y}function Xo(f){const o=[];let a=f.next();for(;!a.done;)o.push(a.value),a=f.next();return o}const $=/-+([a-z0-9])/g;function W(f){return f.replace($,(...o)=>o[1].toUpperCase())}function Ft(f,o,a){switch(o.type){case 7:return f.visitTrigger(o,a);case 0:return f.visitState(o,a);case 1:return f.visitTransition(o,a);case 2:return f.visitSequence(o,a);case 3:return f.visitGroup(o,a);case 4:return f.visitAnimate(o,a);case 5:return f.visitKeyframes(o,a);case 6:return f.visitStyle(o,a);case 8:return f.visitReference(o,a);case 9:return f.visitAnimateChild(o,a);case 10:return f.visitAnimateRef(o,a);case 11:return f.visitQuery(o,a);case 12:return f.visitStagger(o,a);default:throw function Ls(f){return new Y.wOt(3004,!1)}()}}function En(f,o){return window.getComputedStyle(f)[o]}const Ro="*";function Zs(f,o){const a=[];return"string"==typeof f?f.split(/\s*,\s*/).forEach(h=>function vc(f,o,a){if(":"==f[0]){const ie=function Js(f,o){switch(f){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(a,h)=>parseFloat(h)>parseFloat(a);case":decrement":return(a,h)=>parseFloat(h)<parseFloat(a);default:return o.push(function kr(f){return new Y.wOt(3016,!1)}()),"* => *"}}(f,a);if("function"==typeof ie)return void o.push(ie);f=ie}const h=f.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==h||h.length<4)return a.push(function Pi(f){return new Y.wOt(3015,!1)}()),o;const y=h[1],S=h[2],V=h[3];o.push(ds(y,V));"<"==S[0]&&!(y==Ro&&V==Ro)&&o.push(ds(V,y))}(h,a,o)):a.push(f),a}const us=new Set(["true","1"]),pi=new Set(["false","0"]);function ds(f,o){const a=us.has(f)||pi.has(f),h=us.has(o)||pi.has(o);return(y,S)=>{let V=f==Ro||f==y,Z=o==Ro||o==S;return!V&&a&&"boolean"==typeof y&&(V=y?us.has(f):pi.has(f)),!Z&&h&&"boolean"==typeof S&&(Z=S?us.has(o):pi.has(o)),V&&Z}}const Au=new RegExp("s*:selfs*,?","g");function Rr(f,o,a,h){return new Ur(f).build(o,a,h)}class Ur{constructor(o){this._driver=o}build(o,a,h){const y=new Wa(a);return this._resetContextStyleTimingState(y),Ft(this,Fi(o),y)}_resetContextStyleTimingState(o){o.currentQuerySelector="",o.collectedStyles=new Map,o.collectedStyles.set("",new Map),o.currentTime=0}visitTrigger(o,a){let h=a.queryCount=0,y=a.depCount=0;const S=[],V=[];return"@"==o.name.charAt(0)&&a.errors.push(function so(){return new Y.wOt(3006,!1)}()),o.definitions.forEach(Z=>{if(this._resetContextStyleTimingState(a),0==Z.type){const ie=Z,ve=ie.name;ve.toString().split(/\s*,\s*/).forEach(Fe=>{ie.name=Fe,S.push(this.visitState(ie,a))}),ie.name=ve}else if(1==Z.type){const ie=this.visitTransition(Z,a);h+=ie.queryCount,y+=ie.depCount,V.push(ie)}else a.errors.push(function Or(){return new Y.wOt(3007,!1)}())}),{type:7,name:o.name,states:S,transitions:V,queryCount:h,depCount:y,options:null}}visitState(o,a){const h=this.visitStyle(o.styles,a),y=o.options&&o.options.params||null;if(h.containsDynamicStyles){const S=new Set,V=y||{};h.styles.forEach(Z=>{Z instanceof Map&&Z.forEach(ie=>{Vr(ie).forEach(ve=>{V.hasOwnProperty(ve)||S.add(ve)})})}),S.size&&(Xo(S.values()),a.errors.push(function xi(f,o){return new Y.wOt(3008,!1)}()))}return{type:0,name:o.name,style:h,options:y?{params:y}:null}}visitTransition(o,a){a.queryCount=0,a.depCount=0;const h=Ft(this,Fi(o.animation),a);return{type:1,matchers:Zs(o.expr,a.errors),animation:h,queryCount:a.queryCount,depCount:a.depCount,options:bo(o.options)}}visitSequence(o,a){return{type:2,steps:o.steps.map(h=>Ft(this,h,a)),options:bo(o.options)}}visitGroup(o,a){const h=a.currentTime;let y=0;const S=o.steps.map(V=>{a.currentTime=h;const Z=Ft(this,V,a);return y=Math.max(y,a.currentTime),Z});return a.currentTime=y,{type:3,steps:S,options:bo(o.options)}}visitAnimate(o,a){const h=function Zc(f,o){if(f.hasOwnProperty("duration"))return f;if("number"==typeof f)return da(Ni(f,o).duration,0,"");const a=f;if(a.split(/\s+/).some(S=>"{"==S.charAt(0)&&"{"==S.charAt(1))){const S=da(0,0,"");return S.dynamic=!0,S.strValue=a,S}const y=Ni(a,o);return da(y.duration,y.delay,y.easing)}(o.timings,a.errors);a.currentAnimateTimings=h;let y,S=o.styles?o.styles:ln({});if(5==S.type)y=this.visitKeyframes(S,a);else{let V=o.styles,Z=!1;if(!V){Z=!0;const ve={};h.easing&&(ve.easing=h.easing),V=ln(ve)}a.currentTime+=h.duration+h.delay;const ie=this.visitStyle(V,a);ie.isEmptyStep=Z,y=ie}return a.currentAnimateTimings=null,{type:4,timings:h,style:y,options:null}}visitStyle(o,a){const h=this._makeStyleAst(o,a);return this._validateStyleAst(h,a),h}_makeStyleAst(o,a){const h=[],y=Array.isArray(o.styles)?o.styles:[o.styles];for(let Z of y)"string"==typeof Z?Z===$i?h.push(Z):a.errors.push(new Y.wOt(3002,!1)):h.push(ca(Z));let S=!1,V=null;return h.forEach(Z=>{if(Z instanceof Map&&(Z.has("easing")&&(V=Z.get("easing"),Z.delete("easing")),!S))for(let ie of Z.values())if(ie.toString().indexOf("{{")>=0){S=!0;break}}),{type:6,styles:h,easing:V,offset:o.offset,containsDynamicStyles:S,options:null}}_validateStyleAst(o,a){const h=a.currentAnimateTimings;let y=a.currentTime,S=a.currentTime;h&&S>0&&(S-=h.duration+h.delay),o.styles.forEach(V=>{"string"!=typeof V&&V.forEach((Z,ie)=>{const ve=a.collectedStyles.get(a.currentQuerySelector),Fe=ve.get(ie);let tt=!0;Fe&&(S!=y&&S>=Fe.startTime&&y<=Fe.endTime&&(a.errors.push(function $a(f,o,a,h,y){return new Y.wOt(3010,!1)}()),tt=!1),S=Fe.startTime),tt&&ve.set(ie,{startTime:S,endTime:y}),a.options&&function ya(f,o,a){const h=o.params||{},y=Vr(f);y.length&&y.forEach(S=>{h.hasOwnProperty(S)||a.push(function ni(f){return new Y.wOt(3001,!1)}())})}(Z,a.options,a.errors)})})}visitKeyframes(o,a){const h={type:5,styles:[],options:null};if(!a.currentAnimateTimings)return a.errors.push(function Ko(){return new Y.wOt(3011,!1)}()),h;let S=0;const V=[];let Z=!1,ie=!1,ve=0;const Fe=o.steps.map(ar=>{const Bn=this._makeStyleAst(ar,a);let $n=null!=Bn.offset?Bn.offset:function Bo(f){if("string"==typeof f)return null;let o=null;if(Array.isArray(f))f.forEach(a=>{if(a instanceof Map&&a.has("offset")){const h=a;o=parseFloat(h.get("offset")),h.delete("offset")}});else if(f instanceof Map&&f.has("offset")){const a=f;o=parseFloat(a.get("offset")),a.delete("offset")}return o}(Bn.styles),qn=0;return null!=$n&&(S++,qn=Bn.offset=$n),ie=ie||qn<0||qn>1,Z=Z||qn<ve,ve=qn,V.push(qn),Bn});ie&&a.errors.push(function Mi(){return new Y.wOt(3012,!1)}()),Z&&a.errors.push(function Qs(){return new Y.wOt(3200,!1)}());const tt=o.steps.length;let Bt=0;S>0&&S<tt?a.errors.push(function sa(){return new Y.wOt(3202,!1)}()):0==S&&(Bt=1/(tt-1));const jt=tt-1,xt=a.currentTime,Dt=a.currentAnimateTimings,Qt=Dt.duration;return Fe.forEach((ar,Bn)=>{const $n=Bt>0?Bn==jt?1:Bt*Bn:V[Bn],qn=$n*Qt;a.currentTime=xt+Dt.delay+qn,Dt.duration=qn,this._validateStyleAst(ar,a),ar.offset=$n,h.styles.push(ar)}),h}visitReference(o,a){return{type:8,animation:Ft(this,Fi(o.animation),a),options:bo(o.options)}}visitAnimateChild(o,a){return a.depCount++,{type:9,options:bo(o.options)}}visitAnimateRef(o,a){return{type:10,animation:this.visitReference(o.animation,a),options:bo(o.options)}}visitQuery(o,a){const h=a.currentQuerySelector,y=o.options||{};a.queryCount++,a.currentQuery=o;const[S,V]=function ua(f){const o=!!f.split(/\s*,\s*/).find(a=>":self"==a);return o&&(f=f.replace(Au,"")),f=f.replace(/@\*/g,Ji).replace(/@\w+/g,a=>Ji+"-"+a.slice(1)).replace(/:animating/g,Ts),[f,o]}(o.selector);a.currentQuerySelector=h.length?h+" "+S:S,Lr(a.collectedStyles,a.currentQuerySelector,new Map);const Z=Ft(this,Fi(o.animation),a);return a.currentQuery=null,a.currentQuerySelector=h,{type:11,selector:S,limit:y.limit||0,optional:!!y.optional,includeSelf:V,animation:Z,originalSelector:o.selector,options:bo(o.options)}}visitStagger(o,a){a.currentQuery||a.errors.push(function $r(){return new Y.wOt(3013,!1)}());const h="full"===o.timings?{duration:0,delay:0,easing:"full"}:Ni(o.timings,a.errors,!0);return{type:12,animation:Ft(this,Fi(o.animation),a),timings:h,options:null}}}class Wa{constructor(o){this.errors=o,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function bo(f){return f?(f=ii(f)).params&&(f.params=function Cs(f){return f?ii(f):null}(f.params)):f={},f}function da(f,o,a){return{duration:f,delay:o,easing:a}}function ea(f,o,a,h,y,S,V=null,Z=!1){return{type:1,element:f,keyframes:o,preStyleProps:a,postStyleProps:h,duration:y,delay:S,totalTime:y+S,easing:V,subTimeline:Z}}class Vn{constructor(){this._map=new Map}get(o){return this._map.get(o)||[]}append(o,a){let h=this._map.get(o);h||this._map.set(o,h=[]),h.push(...a)}has(o){return this._map.has(o)}clear(){this._map.clear()}}const ta=new RegExp(":enter","g"),As=new RegExp(":leave","g");function qa(f,o,a,h,y,S=new Map,V=new Map,Z,ie,ve=[]){return(new Jc).buildKeyframes(f,o,a,h,y,S,V,Z,ie,ve)}class Jc{buildKeyframes(o,a,h,y,S,V,Z,ie,ve,Fe=[]){ve=ve||new Vn;const tt=new Vl(o,a,ve,y,S,Fe,[]);tt.options=ie;const Bt=ie.delay?Er(ie.delay):0;tt.currentTimeline.delayNextStep(Bt),tt.currentTimeline.setStyles([V],null,tt.errors,ie),Ft(this,h,tt);const jt=tt.timelines.filter(xt=>xt.containsAnimation());if(jt.length&&Z.size){let xt;for(let Dt=jt.length-1;Dt>=0;Dt--){const Qt=jt[Dt];if(Qt.element===a){xt=Qt;break}}xt&&!xt.allowOnlyTimelineStyles()&&xt.setStyles([Z],null,tt.errors,ie)}return jt.length?jt.map(xt=>xt.buildKeyframes()):[ea(a,[],[],[],0,Bt,"",!1)]}visitTrigger(o,a){}visitState(o,a){}visitTransition(o,a){}visitAnimateChild(o,a){const h=a.subInstructions.get(a.element);if(h){const y=a.createSubContext(o.options),S=a.currentTimeline.currentTime,V=this._visitSubInstructions(h,y,y.options);S!=V&&a.transformIntoNewTimeline(V)}a.previousNode=o}visitAnimateRef(o,a){const h=a.createSubContext(o.options);h.transformIntoNewTimeline(),this._applyAnimationRefDelays([o.options,o.animation.options],a,h),this.visitReference(o.animation,h),a.transformIntoNewTimeline(h.currentTimeline.currentTime),a.previousNode=o}_applyAnimationRefDelays(o,a,h){for(const y of o){const S=y?.delay;if(S){const V="number"==typeof S?S:Er(cs(S,y?.params??{},a.errors));h.delayNextStep(V)}}}_visitSubInstructions(o,a,h){let S=a.currentTimeline.currentTime;const V=null!=h.duration?Er(h.duration):null,Z=null!=h.delay?Er(h.delay):null;return 0!==V&&o.forEach(ie=>{const ve=a.appendInstructionToTimeline(ie,V,Z);S=Math.max(S,ve.duration+ve.delay)}),S}visitReference(o,a){a.updateOptions(o.options,!0),Ft(this,o.animation,a),a.previousNode=o}visitSequence(o,a){const h=a.subContextCount;let y=a;const S=o.options;if(S&&(S.params||S.delay)&&(y=a.createSubContext(S),y.transformIntoNewTimeline(),null!=S.delay)){6==y.previousNode.type&&(y.currentTimeline.snapshotCurrentStyles(),y.previousNode=el);const V=Er(S.delay);y.delayNextStep(V)}o.steps.length&&(o.steps.forEach(V=>Ft(this,V,y)),y.currentTimeline.applyStylesToKeyframe(),y.subContextCount>h&&y.transformIntoNewTimeline()),a.previousNode=o}visitGroup(o,a){const h=[];let y=a.currentTimeline.currentTime;const S=o.options&&o.options.delay?Er(o.options.delay):0;o.steps.forEach(V=>{const Z=a.createSubContext(o.options);S&&Z.delayNextStep(S),Ft(this,V,Z),y=Math.max(y,Z.currentTimeline.currentTime),h.push(Z.currentTimeline)}),h.forEach(V=>a.currentTimeline.mergeTimelineCollectedStyles(V)),a.transformIntoNewTimeline(y),a.previousNode=o}_visitTiming(o,a){if(o.dynamic){const h=o.strValue;return Ni(a.params?cs(h,a.params,a.errors):h,a.errors)}return{duration:o.duration,delay:o.delay,easing:o.easing}}visitAnimate(o,a){const h=a.currentAnimateTimings=this._visitTiming(o.timings,a),y=a.currentTimeline;h.delay&&(a.incrementTime(h.delay),y.snapshotCurrentStyles());const S=o.style;5==S.type?this.visitKeyframes(S,a):(a.incrementTime(h.duration),this.visitStyle(S,a),y.applyStylesToKeyframe()),a.currentAnimateTimings=null,a.previousNode=o}visitStyle(o,a){const h=a.currentTimeline,y=a.currentAnimateTimings;!y&&h.hasCurrentStyleProperties()&&h.forwardFrame();const S=y&&y.easing||o.easing;o.isEmptyStep?h.applyEmptyStep(S):h.setStyles(o.styles,S,a.errors,a.options),a.previousNode=o}visitKeyframes(o,a){const h=a.currentAnimateTimings,y=a.currentTimeline.duration,S=h.duration,Z=a.createSubContext().currentTimeline;Z.easing=h.easing,o.styles.forEach(ie=>{Z.forwardTime((ie.offset||0)*S),Z.setStyles(ie.styles,ie.easing,a.errors,a.options),Z.applyStylesToKeyframe()}),a.currentTimeline.mergeTimelineCollectedStyles(Z),a.transformIntoNewTimeline(y+S),a.previousNode=o}visitQuery(o,a){const h=a.currentTimeline.currentTime,y=o.options||{},S=y.delay?Er(y.delay):0;S&&(6===a.previousNode.type||0==h&&a.currentTimeline.hasCurrentStyleProperties())&&(a.currentTimeline.snapshotCurrentStyles(),a.previousNode=el);let V=h;const Z=a.invokeQuery(o.selector,o.originalSelector,o.limit,o.includeSelf,!!y.optional,a.errors);a.currentQueryTotal=Z.length;let ie=null;Z.forEach((ve,Fe)=>{a.currentQueryIndex=Fe;const tt=a.createSubContext(o.options,ve);S&&tt.delayNextStep(S),ve===a.element&&(ie=tt.currentTimeline),Ft(this,o.animation,tt),tt.currentTimeline.applyStylesToKeyframe(),V=Math.max(V,tt.currentTimeline.currentTime)}),a.currentQueryIndex=0,a.currentQueryTotal=0,a.transformIntoNewTimeline(V),ie&&(a.currentTimeline.mergeTimelineCollectedStyles(ie),a.currentTimeline.snapshotCurrentStyles()),a.previousNode=o}visitStagger(o,a){const h=a.parentContext,y=a.currentTimeline,S=o.timings,V=Math.abs(S.duration),Z=V*(a.currentQueryTotal-1);let ie=V*a.currentQueryIndex;switch(S.duration<0?"reverse":S.easing){case"reverse":ie=Z-ie;break;case"full":ie=h.currentStaggerTime}const Fe=a.currentTimeline;ie&&Fe.delayNextStep(ie);const tt=Fe.currentTime;Ft(this,o.animation,a),a.previousNode=o,h.currentStaggerTime=y.currentTime-tt+(y.startTime-h.currentTimeline.startTime)}}const el={};class Vl{constructor(o,a,h,y,S,V,Z,ie){this._driver=o,this.element=a,this.subInstructions=h,this._enterClassName=y,this._leaveClassName=S,this.errors=V,this.timelines=Z,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=el,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=ie||new fs(this._driver,a,0),Z.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(o,a){if(!o)return;const h=o;let y=this.options;null!=h.duration&&(y.duration=Er(h.duration)),null!=h.delay&&(y.delay=Er(h.delay));const S=h.params;if(S){let V=y.params;V||(V=this.options.params={}),Object.keys(S).forEach(Z=>{(!a||!V.hasOwnProperty(Z))&&(V[Z]=cs(S[Z],V,this.errors))})}}_copyOptions(){const o={};if(this.options){const a=this.options.params;if(a){const h=o.params={};Object.keys(a).forEach(y=>{h[y]=a[y]})}}return o}createSubContext(o=null,a,h){const y=a||this.element,S=new Vl(this._driver,y,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(y,h||0));return S.previousNode=this.previousNode,S.currentAnimateTimings=this.currentAnimateTimings,S.options=this._copyOptions(),S.updateOptions(o),S.currentQueryIndex=this.currentQueryIndex,S.currentQueryTotal=this.currentQueryTotal,S.parentContext=this,this.subContextCount++,S}transformIntoNewTimeline(o){return this.previousNode=el,this.currentTimeline=this.currentTimeline.fork(this.element,o),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(o,a,h){const y={duration:a??o.duration,delay:this.currentTimeline.currentTime+(h??0)+o.delay,easing:""},S=new Ds(this._driver,o.element,o.keyframes,o.preStyleProps,o.postStyleProps,y,o.stretchStartingKeyframe);return this.timelines.push(S),y}incrementTime(o){this.currentTimeline.forwardTime(this.currentTimeline.duration+o)}delayNextStep(o){o>0&&this.currentTimeline.delayNextStep(o)}invokeQuery(o,a,h,y,S,V){let Z=[];if(y&&Z.push(this.element),o.length>0){o=(o=o.replace(ta,"."+this._enterClassName)).replace(As,"."+this._leaveClassName);let ve=this._driver.query(this.element,o,1!=h);0!==h&&(ve=h<0?ve.slice(ve.length+h,ve.length):ve.slice(0,h)),Z.push(...ve)}return!S&&0==Z.length&&V.push(function Ha(f){return new Y.wOt(3014,!1)}()),Z}}class fs{constructor(o,a,h,y){this._driver=o,this.element=a,this.startTime=h,this._elementTimelineStylesLookup=y,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(a),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(a,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(o){const a=1===this._keyframes.size&&this._pendingStyles.size;this.duration||a?(this.forwardTime(this.currentTime+o),a&&this.snapshotCurrentStyles()):this.startTime+=o}fork(o,a){return this.applyStylesToKeyframe(),new fs(this._driver,o,a||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(o){this.applyStylesToKeyframe(),this.duration=o,this._loadKeyframe()}_updateStyle(o,a){this._localTimelineStyles.set(o,a),this._globalTimelineStyles.set(o,a),this._styleSummary.set(o,{time:this.currentTime,value:a})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(o){o&&this._previousKeyframe.set("easing",o);for(let[a,h]of this._globalTimelineStyles)this._backFill.set(a,h||$i),this._currentKeyframe.set(a,$i);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(o,a,h,y){a&&this._previousKeyframe.set("easing",a);const S=y&&y.params||{},V=function R(f,o){const a=new Map;let h;return f.forEach(y=>{if("*"===y){h=h||o.keys();for(let S of h)a.set(S,$i)}else Qo(y,a)}),a}(o,this._globalTimelineStyles);for(let[Z,ie]of V){const ve=cs(ie,S,h);this._pendingStyles.set(Z,ve),this._localTimelineStyles.has(Z)||this._backFill.set(Z,this._globalTimelineStyles.get(Z)??$i),this._updateStyle(Z,ve)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((o,a)=>{this._currentKeyframe.set(a,o)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((o,a)=>{this._currentKeyframe.has(a)||this._currentKeyframe.set(a,o)}))}snapshotCurrentStyles(){for(let[o,a]of this._localTimelineStyles)this._pendingStyles.set(o,a),this._updateStyle(o,a)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const o=[];for(let a in this._currentKeyframe)o.push(a);return o}mergeTimelineCollectedStyles(o){o._styleSummary.forEach((a,h)=>{const y=this._styleSummary.get(h);(!y||a.time>y.time)&&this._updateStyle(h,a.value)})}buildKeyframes(){this.applyStylesToKeyframe();const o=new Set,a=new Set,h=1===this._keyframes.size&&0===this.duration;let y=[];this._keyframes.forEach((Z,ie)=>{const ve=Qo(Z,new Map,this._backFill);ve.forEach((Fe,tt)=>{"!"===Fe?o.add(tt):Fe===$i&&a.add(tt)}),h||ve.set("offset",ie/this.duration),y.push(ve)});const S=o.size?Xo(o.values()):[],V=a.size?Xo(a.values()):[];if(h){const Z=y[0],ie=new Map(Z);Z.set("offset",0),ie.set("offset",1),y=[Z,ie]}return ea(this.element,y,S,V,this.duration,this.startTime,this.easing,!1)}}class Ds extends fs{constructor(o,a,h,y,S,V,Z=!1){super(o,a,V.delay),this.keyframes=h,this.preStyleProps=y,this.postStyleProps=S,this._stretchStartingKeyframe=Z,this.timings={duration:V.duration,delay:V.delay,easing:V.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let o=this.keyframes,{delay:a,duration:h,easing:y}=this.timings;if(this._stretchStartingKeyframe&&a){const S=[],V=h+a,Z=a/V,ie=Qo(o[0]);ie.set("offset",0),S.push(ie);const ve=Qo(o[0]);ve.set("offset",Du(Z)),S.push(ve);const Fe=o.length-1;for(let tt=1;tt<=Fe;tt++){let Bt=Qo(o[tt]);const jt=Bt.get("offset");Bt.set("offset",Du((a+jt*h)/V)),S.push(Bt)}h=V,a=0,y="",o=S}return ea(this.element,o,this.preStyleProps,this.postStyleProps,h,a,y,!0)}}function Du(f,o=3){const a=Math.pow(10,o-1);return Math.round(f*a)/a}class L{}const fe=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Ge extends L{normalizePropertyName(o,a){return W(o)}normalizeStyleValue(o,a,h,y){let S="";const V=h.toString().trim();if(fe.has(a)&&0!==h&&"0"!==h)if("number"==typeof h)S="px";else{const Z=h.match(/^[+-]?[\d\.]+([a-z]*)$/);Z&&0==Z[1].length&&y.push(function yc(f,o){return new Y.wOt(3005,!1)}())}return V+S}}function ft(f,o,a,h,y,S,V,Z,ie,ve,Fe,tt,Bt){return{type:0,element:f,triggerName:o,isRemovalTransition:y,fromState:a,fromStyles:S,toState:h,toStyles:V,timelines:Z,queriedElements:ie,preStyleProps:ve,postStyleProps:Fe,totalTime:tt,errors:Bt}}const un={};class yn{constructor(o,a,h){this._triggerName=o,this.ast=a,this._stateStyles=h}match(o,a,h,y){return function or(f,o,a,h,y){return f.some(S=>S(o,a,h,y))}(this.ast.matchers,o,a,h,y)}buildStyles(o,a,h){let y=this._stateStyles.get("*");return void 0!==o&&(y=this._stateStyles.get(o?.toString())||y),y?y.buildStyles(a,h):new Map}build(o,a,h,y,S,V,Z,ie,ve,Fe){const tt=[],Bt=this.ast.options&&this.ast.options.params||un,xt=this.buildStyles(h,Z&&Z.params||un,tt),Dt=ie&&ie.params||un,Qt=this.buildStyles(y,Dt,tt),ar=new Set,Bn=new Map,$n=new Map,qn="void"===y,lo={params:Zn(Dt,Bt),delay:this.ast.options?.delay},uo=Fe?[]:qa(o,a,this.ast.animation,S,V,xt,Qt,lo,ve,tt);let ho=0;if(uo.forEach(Ws=>{ho=Math.max(Ws.duration+Ws.delay,ho)}),tt.length)return ft(a,this._triggerName,h,y,qn,xt,Qt,[],[],Bn,$n,ho,tt);uo.forEach(Ws=>{const uc=Ws.element,Th=Lr(Bn,uc,new Set);Ws.preStyleProps.forEach(dc=>Th.add(dc));const Iu=Lr($n,uc,new Set);Ws.postStyleProps.forEach(dc=>Iu.add(dc)),uc!==a&&ar.add(uc)});const ro=Xo(ar.values());return ft(a,this._triggerName,h,y,qn,xt,Qt,uo,ro,Bn,$n,ho)}}function Zn(f,o){const a=ii(o);for(const h in f)f.hasOwnProperty(h)&&null!=f[h]&&(a[h]=f[h]);return a}class Yr{constructor(o,a,h){this.styles=o,this.defaultParams=a,this.normalizer=h}buildStyles(o,a){const h=new Map,y=ii(this.defaultParams);return Object.keys(o).forEach(S=>{const V=o[S];null!==V&&(y[S]=V)}),this.styles.styles.forEach(S=>{"string"!=typeof S&&S.forEach((V,Z)=>{V&&(V=cs(V,y,a));const ie=this.normalizer.normalizePropertyName(Z,a);V=this.normalizer.normalizeStyleValue(Z,ie,V,a),h.set(Z,V)})}),h}}class Li{constructor(o,a,h){this.name=o,this.ast=a,this._normalizer=h,this.transitionFactories=[],this.states=new Map,a.states.forEach(y=>{this.states.set(y.name,new Yr(y.style,y.options&&y.options.params||{},h))}),Ii(this.states,"true","1"),Ii(this.states,"false","0"),a.transitions.forEach(y=>{this.transitionFactories.push(new yn(o,y,this.states))}),this.fallbackTransition=function ps(f,o,a){return new yn(f,{type:1,animation:{type:2,steps:[],options:null},matchers:[(V,Z)=>!0],options:null,queryCount:0,depCount:0},o)}(o,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(o,a,h,y){return this.transitionFactories.find(V=>V.match(o,a,h,y))||null}matchStyles(o,a,h){return this.fallbackTransition.buildStyles(o,a,h)}}function Ii(f,o,a){f.has(o)?f.has(a)||f.set(a,f.get(o)):f.has(a)&&f.set(o,f.get(a))}const Eo=new Vn;class wi{constructor(o,a,h){this.bodyNode=o,this._driver=a,this._normalizer=h,this._animations=new Map,this._playersById=new Map,this.players=[]}register(o,a){const h=[],S=Rr(this._driver,a,h,[]);if(h.length)throw function Xs(f){return new Y.wOt(3503,!1)}();this._animations.set(o,S)}_buildPlayer(o,a,h){const y=o.element,S=Nt(this._normalizer,o.keyframes,a,h);return this._driver.animate(y,S,o.duration,o.delay,o.easing,[],!0)}create(o,a,h={}){const y=[],S=this._animations.get(o);let V;const Z=new Map;if(S?(V=qa(this._driver,a,S,Zi,_n,new Map,new Map,h,Eo,y),V.forEach(Fe=>{const tt=Lr(Z,Fe.element,new Map);Fe.postStyleProps.forEach(Bt=>tt.set(Bt,null))})):(y.push(function Vo(){return new Y.wOt(3300,!1)}()),V=[]),y.length)throw function Mn(f){return new Y.wOt(3504,!1)}();Z.forEach((Fe,tt)=>{Fe.forEach((Bt,jt)=>{Fe.set(jt,this._driver.computeStyle(tt,jt,$i))})});const ve=er(V.map(Fe=>{const tt=Z.get(Fe.element);return this._buildPlayer(Fe,new Map,tt)}));return this._playersById.set(o,ve),ve.onDestroy(()=>this.destroy(o)),this.players.push(ve),ve}destroy(o){const a=this._getPlayer(o);a.destroy(),this._playersById.delete(o);const h=this.players.indexOf(a);h>=0&&this.players.splice(h,1)}_getPlayer(o){const a=this._playersById.get(o);if(!a)throw function Nr(f){return new Y.wOt(3301,!1)}();return a}listen(o,a,h,y){const S=Oi(a,"","","");return vn(this._getPlayer(o),h,S,y),()=>{}}command(o,a,h,y){if("register"==h)return void this.register(o,y[0]);if("create"==h)return void this.create(o,a,y[0]||{});const S=this._getPlayer(o);switch(h){case"play":S.play();break;case"pause":S.pause();break;case"reset":S.reset();break;case"restart":S.restart();break;case"finish":S.finish();break;case"init":S.init();break;case"setPosition":S.setPosition(parseFloat(y[0]));break;case"destroy":this.destroy(o)}}}const co="ng-animate-queued",xo="ng-animate-disabled",Io=[],Ru={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Vs={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},dr="__ng_removed";class sr{get params(){return this.options.params}constructor(o,a=""){this.namespaceId=a;const h=o&&o.hasOwnProperty("value");if(this.value=function ba(f){return f??null}(h?o.value:o),h){const S=ii(o);delete S.value,this.options=S}else this.options={};this.options.params||(this.options.params={})}absorbOptions(o){const a=o.params;if(a){const h=this.options.params;Object.keys(a).forEach(y=>{null==h[y]&&(h[y]=a[y])})}}}const Dr="void",Qa=new sr(Dr);class Ic{constructor(o,a,h){this.id=o,this.hostElement=a,this._engine=h,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+o,Zo(a,this._hostClassName)}listen(o,a,h,y){if(!this._triggers.has(a))throw function br(f,o){return new Y.wOt(3302,!1)}();if(null==h||0==h.length)throw function zi(f){return new Y.wOt(3303,!1)}();if(!function ms(f){return"start"==f||"done"==f}(h))throw function Fr(f,o){return new Y.wOt(3400,!1)}();const S=Lr(this._elementListeners,o,[]),V={name:a,phase:h,callback:y};S.push(V);const Z=Lr(this._engine.statesByElement,o,new Map);return Z.has(a)||(Zo(o,qt),Zo(o,qt+"-"+a),Z.set(a,Qa)),()=>{this._engine.afterFlush(()=>{const ie=S.indexOf(V);ie>=0&&S.splice(ie,1),this._triggers.has(a)||Z.delete(a)})}}register(o,a){return!this._triggers.has(o)&&(this._triggers.set(o,a),!0)}_getTrigger(o){const a=this._triggers.get(o);if(!a)throw function Yi(f){return new Y.wOt(3401,!1)}();return a}trigger(o,a,h,y=!0){const S=this._getTrigger(a),V=new xu(this.id,a,o);let Z=this._engine.statesByElement.get(o);Z||(Zo(o,qt),Zo(o,qt+"-"+a),this._engine.statesByElement.set(o,Z=new Map));let ie=Z.get(a);const ve=new sr(h,this.id);if(!(h&&h.hasOwnProperty("value"))&&ie&&ve.absorbOptions(ie.options),Z.set(a,ve),ie||(ie=Qa),ve.value!==Dr&&ie.value===ve.value){if(!function ol(f,o){const a=Object.keys(f),h=Object.keys(o);if(a.length!=h.length)return!1;for(let y=0;y<a.length;y++){const S=a[y];if(!o.hasOwnProperty(S)||f[S]!==o[S])return!1}return!0}(ie.params,ve.params)){const Dt=[],Qt=S.matchStyles(ie.value,ie.params,Dt),ar=S.matchStyles(ve.value,ve.params,Dt);Dt.length?this._engine.reportError(Dt):this._engine.afterFlush(()=>{Gi(o,Qt),Xr(o,ar)})}return}const Bt=Lr(this._engine.playersByElement,o,[]);Bt.forEach(Dt=>{Dt.namespaceId==this.id&&Dt.triggerName==a&&Dt.queued&&Dt.destroy()});let jt=S.matchTransition(ie.value,ve.value,o,ve.params),xt=!1;if(!jt){if(!y)return;jt=S.fallbackTransition,xt=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:o,triggerName:a,transition:jt,fromState:ie,toState:ve,player:V,isFallbackTransition:xt}),xt||(Zo(o,co),V.onStart(()=>{Tc(o,co)})),V.onDone(()=>{let Dt=this.players.indexOf(V);Dt>=0&&this.players.splice(Dt,1);const Qt=this._engine.playersByElement.get(o);if(Qt){let ar=Qt.indexOf(V);ar>=0&&Qt.splice(ar,1)}}),this.players.push(V),Bt.push(V),V}deregister(o){this._triggers.delete(o),this._engine.statesByElement.forEach(a=>a.delete(o)),this._elementListeners.forEach((a,h)=>{this._elementListeners.set(h,a.filter(y=>y.name!=o))})}clearElementCache(o){this._engine.statesByElement.delete(o),this._elementListeners.delete(o);const a=this._engine.playersByElement.get(o);a&&(a.forEach(h=>h.destroy()),this._engine.playersByElement.delete(o))}_signalRemovalForInnerTriggers(o,a){const h=this._engine.driver.query(o,Ji,!0);h.forEach(y=>{if(y[dr])return;const S=this._engine.fetchNamespacesByElement(y);S.size?S.forEach(V=>V.triggerLeaveAnimation(y,a,!1,!0)):this.clearElementCache(y)}),this._engine.afterFlushAnimationsDone(()=>h.forEach(y=>this.clearElementCache(y)))}triggerLeaveAnimation(o,a,h,y){const S=this._engine.statesByElement.get(o),V=new Map;if(S){const Z=[];if(S.forEach((ie,ve)=>{if(V.set(ve,ie.value),this._triggers.has(ve)){const Fe=this.trigger(o,ve,Dr,y);Fe&&Z.push(Fe)}}),Z.length)return this._engine.markElementAsRemoved(this.id,o,!0,a,V),h&&er(Z).onDone(()=>this._engine.processLeaveNode(o)),!0}return!1}prepareLeaveAnimationListeners(o){const a=this._elementListeners.get(o),h=this._engine.statesByElement.get(o);if(a&&h){const y=new Set;a.forEach(S=>{const V=S.name;if(y.has(V))return;y.add(V);const ie=this._triggers.get(V).fallbackTransition,ve=h.get(V)||Qa,Fe=new sr(Dr),tt=new xu(this.id,V,o);this._engine.totalQueuedPlayers++,this._queue.push({element:o,triggerName:V,transition:ie,fromState:ve,toState:Fe,player:tt,isFallbackTransition:!0})})}}removeNode(o,a){const h=this._engine;if(o.childElementCount&&this._signalRemovalForInnerTriggers(o,a),this.triggerLeaveAnimation(o,a,!0))return;let y=!1;if(h.totalAnimations){const S=h.players.length?h.playersByQueriedElement.get(o):[];if(S&&S.length)y=!0;else{let V=o;for(;V=V.parentNode;)if(h.statesByElement.get(V)){y=!0;break}}}if(this.prepareLeaveAnimationListeners(o),y)h.markElementAsRemoved(this.id,o,!1,a);else{const S=o[dr];(!S||S===Ru)&&(h.afterFlush(()=>this.clearElementCache(o)),h.destroyInnerAnimations(o),h._onRemovalComplete(o,a))}}insertNode(o,a){Zo(o,this._hostClassName)}drainQueuedTransitions(o){const a=[];return this._queue.forEach(h=>{const y=h.player;if(y.destroyed)return;const S=h.element,V=this._elementListeners.get(S);V&&V.forEach(Z=>{if(Z.name==h.triggerName){const ie=Oi(S,h.triggerName,h.fromState.value,h.toState.value);ie._data=o,vn(h.player,Z.phase,ie,Z.callback)}}),y.markedForDestroy?this._engine.afterFlush(()=>{y.destroy()}):a.push(h)}),this._queue=[],a.sort((h,y)=>{const S=h.transition.ast.depCount,V=y.transition.ast.depCount;return 0==S||0==V?S-V:this._engine.driver.containsElement(h.element,y.element)?1:-1})}destroy(o){this.players.forEach(a=>a.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,o)}}class Yo{_onRemovalComplete(o,a){this.onRemovalComplete(o,a)}constructor(o,a,h){this.bodyNode=o,this.driver=a,this._normalizer=h,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(y,S)=>{}}get queuedPlayers(){const o=[];return this._namespaceList.forEach(a=>{a.players.forEach(h=>{h.queued&&o.push(h)})}),o}createNamespace(o,a){const h=new Ic(o,a,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,a)?this._balanceNamespaceList(h,a):(this.newHostElements.set(a,h),this.collectEnterElement(a)),this._namespaceLookup[o]=h}_balanceNamespaceList(o,a){const h=this._namespaceList,y=this.namespacesByHostElement;if(h.length-1>=0){let V=!1,Z=this.driver.getParentElement(a);for(;Z;){const ie=y.get(Z);if(ie){const ve=h.indexOf(ie);h.splice(ve+1,0,o),V=!0;break}Z=this.driver.getParentElement(Z)}V||h.unshift(o)}else h.push(o);return y.set(a,o),o}register(o,a){let h=this._namespaceLookup[o];return h||(h=this.createNamespace(o,a)),h}registerTrigger(o,a,h){let y=this._namespaceLookup[o];y&&y.register(a,h)&&this.totalAnimations++}destroy(o,a){o&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const h=this._fetchNamespace(o);this.namespacesByHostElement.delete(h.hostElement);const y=this._namespaceList.indexOf(h);y>=0&&this._namespaceList.splice(y,1),h.destroy(a),delete this._namespaceLookup[o]}))}_fetchNamespace(o){return this._namespaceLookup[o]}fetchNamespacesByElement(o){const a=new Set,h=this.statesByElement.get(o);if(h)for(let y of h.values())if(y.namespaceId){const S=this._fetchNamespace(y.namespaceId);S&&a.add(S)}return a}trigger(o,a,h,y){if(Wi(a)){const S=this._fetchNamespace(o);if(S)return S.trigger(a,h,y),!0}return!1}insertNode(o,a,h,y){if(!Wi(a))return;const S=a[dr];if(S&&S.setForRemoval){S.setForRemoval=!1,S.setForMove=!0;const V=this.collectedLeaveElements.indexOf(a);V>=0&&this.collectedLeaveElements.splice(V,1)}if(o){const V=this._fetchNamespace(o);V&&V.insertNode(a,h)}y&&this.collectEnterElement(a)}collectEnterElement(o){this.collectedEnterElements.push(o)}markElementAsDisabled(o,a){a?this.disabledNodes.has(o)||(this.disabledNodes.add(o),Zo(o,xo)):this.disabledNodes.has(o)&&(this.disabledNodes.delete(o),Tc(o,xo))}removeNode(o,a,h){if(Wi(a)){const y=o?this._fetchNamespace(o):null;y?y.removeNode(a,h):this.markElementAsRemoved(o,a,!1,h);const S=this.namespacesByHostElement.get(a);S&&S.id!==o&&S.removeNode(a,h)}else this._onRemovalComplete(a,h)}markElementAsRemoved(o,a,h,y,S){this.collectedLeaveElements.push(a),a[dr]={namespaceId:o,setForRemoval:y,hasAnimation:h,removedBeforeQueried:!1,previousTriggersValues:S}}listen(o,a,h,y,S){return Wi(a)?this._fetchNamespace(o).listen(a,h,y,S):()=>{}}_buildInstruction(o,a,h,y,S){return o.transition.build(this.driver,o.element,o.fromState.value,o.toState.value,h,y,o.fromState.options,o.toState.options,a,S)}destroyInnerAnimations(o){let a=this.driver.query(o,Ji,!0);a.forEach(h=>this.destroyActiveAnimationsForElement(h)),0!=this.playersByQueriedElement.size&&(a=this.driver.query(o,Ts,!0),a.forEach(h=>this.finishActiveQueriedAnimationOnElement(h)))}destroyActiveAnimationsForElement(o){const a=this.playersByElement.get(o);a&&a.forEach(h=>{h.queued?h.markedForDestroy=!0:h.destroy()})}finishActiveQueriedAnimationOnElement(o){const a=this.playersByQueriedElement.get(o);a&&a.forEach(h=>h.finish())}whenRenderingDone(){return new Promise(o=>{if(this.players.length)return er(this.players).onDone(()=>o());o()})}processLeaveNode(o){const a=o[dr];if(a&&a.setForRemoval){if(o[dr]=Ru,a.namespaceId){this.destroyInnerAnimations(o);const h=this._fetchNamespace(a.namespaceId);h&&h.clearElementCache(o)}this._onRemovalComplete(o,a.setForRemoval)}o.classList?.contains(xo)&&this.markElementAsDisabled(o,!1),this.driver.query(o,".ng-animate-disabled",!0).forEach(h=>{this.markElementAsDisabled(h,!1)})}flush(o=-1){let a=[];if(this.newHostElements.size&&(this.newHostElements.forEach((h,y)=>this._balanceNamespaceList(h,y)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let h=0;h<this.collectedEnterElements.length;h++)Zo(this.collectedEnterElements[h],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const h=[];try{a=this._flushAnimations(h,o)}finally{for(let y=0;y<h.length;y++)h[y]()}}else for(let h=0;h<this.collectedLeaveElements.length;h++)this.processLeaveNode(this.collectedLeaveElements[h]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(h=>h()),this._flushFns=[],this._whenQuietFns.length){const h=this._whenQuietFns;this._whenQuietFns=[],a.length?er(a).onDone(()=>{h.forEach(y=>y())}):h.forEach(y=>y())}}reportError(o){throw function _o(f){return new Y.wOt(3402,!1)}()}_flushAnimations(o,a){const h=new Vn,y=[],S=new Map,V=[],Z=new Map,ie=new Map,ve=new Map,Fe=new Set;this.disabledNodes.forEach(mn=>{Fe.add(mn);const Dn=this.driver.query(mn,".ng-animate-queued",!0);for(let Fn=0;Fn<Dn.length;Fn++)Fe.add(Dn[Fn])});const tt=this.bodyNode,Bt=Array.from(this.statesByElement.keys()),jt=Rs(Bt,this.collectedEnterElements),xt=new Map;let Dt=0;jt.forEach((mn,Dn)=>{const Fn=Zi+Dt++;xt.set(Dn,Fn),mn.forEach(Ir=>Zo(Ir,Fn))});const Qt=[],ar=new Set,Bn=new Set;for(let mn=0;mn<this.collectedLeaveElements.length;mn++){const Dn=this.collectedLeaveElements[mn],Fn=Dn[dr];Fn&&Fn.setForRemoval&&(Qt.push(Dn),ar.add(Dn),Fn.hasAnimation?this.driver.query(Dn,".ng-star-inserted",!0).forEach(Ir=>ar.add(Ir)):Bn.add(Dn))}const $n=new Map,qn=Rs(Bt,Array.from(ar));qn.forEach((mn,Dn)=>{const Fn=_n+Dt++;$n.set(Dn,Fn),mn.forEach(Ir=>Zo(Ir,Fn))}),o.push(()=>{jt.forEach((mn,Dn)=>{const Fn=xt.get(Dn);mn.forEach(Ir=>Tc(Ir,Fn))}),qn.forEach((mn,Dn)=>{const Fn=$n.get(Dn);mn.forEach(Ir=>Tc(Ir,Fn))}),Qt.forEach(mn=>{this.processLeaveNode(mn)})});const lo=[],uo=[];for(let mn=this._namespaceList.length-1;mn>=0;mn--)this._namespaceList[mn].drainQueuedTransitions(a).forEach(Fn=>{const Ir=Fn.player,To=Fn.element;if(lo.push(Ir),this.collectedEnterElements.length){const io=To[dr];if(io&&io.setForMove){if(io.previousTriggersValues&&io.previousTriggersValues.has(Fn.triggerName)){const Va=io.previousTriggersValues.get(Fn.triggerName),Ho=this.statesByElement.get(Fn.element);if(Ho&&Ho.has(Fn.triggerName)){const wu=Ho.get(Fn.triggerName);wu.value=Va,Ho.set(Fn.triggerName,wu)}}return void Ir.destroy()}}const pa=!tt||!this.driver.containsElement(tt,To),Ks=$n.get(To),ma=xt.get(To),di=this._buildInstruction(Fn,h,ma,Ks,pa);if(di.errors&&di.errors.length)return void uo.push(di);if(pa)return Ir.onStart(()=>Gi(To,di.fromStyles)),Ir.onDestroy(()=>Xr(To,di.toStyles)),void y.push(Ir);if(Fn.isFallbackTransition)return Ir.onStart(()=>Gi(To,di.fromStyles)),Ir.onDestroy(()=>Xr(To,di.toStyles)),void y.push(Ir);const La=[];di.timelines.forEach(io=>{io.stretchStartingKeyframe=!0,this.disabledNodes.has(io.element)||La.push(io)}),di.timelines=La,h.append(To,di.timelines),V.push({instruction:di,player:Ir,element:To}),di.queriedElements.forEach(io=>Lr(Z,io,[]).push(Ir)),di.preStyleProps.forEach((io,Va)=>{if(io.size){let Ho=ie.get(Va);Ho||ie.set(Va,Ho=new Set),io.forEach((wu,np)=>Ho.add(np))}}),di.postStyleProps.forEach((io,Va)=>{let Ho=ve.get(Va);Ho||ve.set(Va,Ho=new Set),io.forEach((wu,np)=>Ho.add(np))})});if(uo.length){const mn=[];uo.forEach(Dn=>{mn.push(function yo(f,o){return new Y.wOt(3505,!1)}())}),lo.forEach(Dn=>Dn.destroy()),this.reportError(mn)}const ho=new Map,ro=new Map;V.forEach(mn=>{const Dn=mn.element;h.has(Dn)&&(ro.set(Dn,Dn),this._beforeAnimationBuild(mn.player.namespaceId,mn.instruction,ho))}),y.forEach(mn=>{const Dn=mn.element;this._getPreviousPlayers(Dn,!1,mn.namespaceId,mn.triggerName,null).forEach(Ir=>{Lr(ho,Dn,[]).push(Ir),Ir.destroy()})});const Ws=Qt.filter(mn=>Nn(mn,ie,ve)),uc=new Map;wc(uc,this.driver,Bn,ve,$i).forEach(mn=>{Nn(mn,ie,ve)&&Ws.push(mn)});const Iu=new Map;jt.forEach((mn,Dn)=>{wc(Iu,this.driver,new Set(mn),ie,"!")}),Ws.forEach(mn=>{const Dn=uc.get(mn),Fn=Iu.get(mn);uc.set(mn,new Map([...Dn?.entries()??[],...Fn?.entries()??[]]))});const dc=[],bd=[],Fa={};V.forEach(mn=>{const{element:Dn,player:Fn,instruction:Ir}=mn;if(h.has(Dn)){if(Fe.has(Dn))return Fn.onDestroy(()=>Xr(Dn,Ir.toStyles)),Fn.disabled=!0,Fn.overrideTotalTime(Ir.totalTime),void y.push(Fn);let To=Fa;if(ro.size>1){let Ks=Dn;const ma=[];for(;Ks=Ks.parentNode;){const di=ro.get(Ks);if(di){To=di;break}ma.push(Ks)}ma.forEach(di=>ro.set(di,To))}const pa=this._buildAnimation(Fn.namespaceId,Ir,ho,S,Iu,uc);if(Fn.setRealPlayer(pa),To===Fa)dc.push(Fn);else{const Ks=this.playersByElement.get(To);Ks&&Ks.length&&(Fn.parentPlayer=er(Ks)),y.push(Fn)}}else Gi(Dn,Ir.fromStyles),Fn.onDestroy(()=>Xr(Dn,Ir.toStyles)),bd.push(Fn),Fe.has(Dn)&&y.push(Fn)}),bd.forEach(mn=>{const Dn=S.get(mn.element);if(Dn&&Dn.length){const Fn=er(Dn);mn.setRealPlayer(Fn)}}),y.forEach(mn=>{mn.parentPlayer?mn.syncPlayerEvents(mn.parentPlayer):mn.destroy()});for(let mn=0;mn<Qt.length;mn++){const Dn=Qt[mn],Fn=Dn[dr];if(Tc(Dn,_n),Fn&&Fn.hasAnimation)continue;let Ir=[];if(Z.size){let pa=Z.get(Dn);pa&&pa.length&&Ir.push(...pa);let Ks=this.driver.query(Dn,Ts,!0);for(let ma=0;ma<Ks.length;ma++){let di=Z.get(Ks[ma]);di&&di.length&&Ir.push(...di)}}const To=Ir.filter(pa=>!pa.destroyed);To.length?il(this,Dn,To):this.processLeaveNode(Dn)}return Qt.length=0,dc.forEach(mn=>{this.players.push(mn),mn.onDone(()=>{mn.destroy();const Dn=this.players.indexOf(mn);this.players.splice(Dn,1)}),mn.play()}),dc}afterFlush(o){this._flushFns.push(o)}afterFlushAnimationsDone(o){this._whenQuietFns.push(o)}_getPreviousPlayers(o,a,h,y,S){let V=[];if(a){const Z=this.playersByQueriedElement.get(o);Z&&(V=Z)}else{const Z=this.playersByElement.get(o);if(Z){const ie=!S||S==Dr;Z.forEach(ve=>{ve.queued||!ie&&ve.triggerName!=y||V.push(ve)})}}return(h||y)&&(V=V.filter(Z=>!(h&&h!=Z.namespaceId||y&&y!=Z.triggerName))),V}_beforeAnimationBuild(o,a,h){const S=a.element,V=a.isRemovalTransition?void 0:o,Z=a.isRemovalTransition?void 0:a.triggerName;for(const ie of a.timelines){const ve=ie.element,Fe=ve!==S,tt=Lr(h,ve,[]);this._getPreviousPlayers(ve,Fe,V,Z,a.toState).forEach(jt=>{const xt=jt.getRealPlayer();xt.beforeDestroy&&xt.beforeDestroy(),jt.destroy(),tt.push(jt)})}Gi(S,a.fromStyles)}_buildAnimation(o,a,h,y,S,V){const Z=a.triggerName,ie=a.element,ve=[],Fe=new Set,tt=new Set,Bt=a.timelines.map(xt=>{const Dt=xt.element;Fe.add(Dt);const Qt=Dt[dr];if(Qt&&Qt.removedBeforeQueried)return new lr(xt.duration,xt.delay);const ar=Dt!==ie,Bn=function Bl(f){const o=[];return ha(f,o),o}((h.get(Dt)||Io).map(ho=>ho.getRealPlayer())).filter(ho=>!!ho.element&&ho.element===Dt),$n=S.get(Dt),qn=V.get(Dt),lo=Nt(this._normalizer,xt.keyframes,$n,qn),uo=this._buildPlayer(xt,lo,Bn);if(xt.subTimeline&&y&&tt.add(Dt),ar){const ho=new xu(o,Z,Dt);ho.setRealPlayer(uo),ve.push(ho)}return uo});ve.forEach(xt=>{Lr(this.playersByQueriedElement,xt.element,[]).push(xt),xt.onDone(()=>function rl(f,o,a){let h=f.get(o);if(h){if(h.length){const y=h.indexOf(a);h.splice(y,1)}0==h.length&&f.delete(o)}return h}(this.playersByQueriedElement,xt.element,xt))}),Fe.forEach(xt=>Zo(xt,aa));const jt=er(Bt);return jt.onDestroy(()=>{Fe.forEach(xt=>Tc(xt,aa)),Xr(ie,a.toStyles)}),tt.forEach(xt=>{Lr(y,xt,[]).push(jt)}),jt}_buildPlayer(o,a,h){return a.length>0?this.driver.animate(o.element,a,o.duration,o.delay,o.easing,h):new lr(o.duration,o.delay)}}class xu{constructor(o,a,h){this.namespaceId=o,this.triggerName=a,this.element=h,this._player=new lr,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(o){this._containsRealPlayer||(this._player=o,this._queuedCallbacks.forEach((a,h)=>{a.forEach(y=>vn(o,h,void 0,y))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(o.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(o){this.totalTime=o}syncPlayerEvents(o){const a=this._player;a.triggerCallback&&o.onStart(()=>a.triggerCallback("start")),o.onDone(()=>this.finish()),o.onDestroy(()=>this.destroy())}_queueEvent(o,a){Lr(this._queuedCallbacks,o,[]).push(a)}onDone(o){this.queued&&this._queueEvent("done",o),this._player.onDone(o)}onStart(o){this.queued&&this._queueEvent("start",o),this._player.onStart(o)}onDestroy(o){this.queued&&this._queueEvent("destroy",o),this._player.onDestroy(o)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(o){this.queued||this._player.setPosition(o)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(o){const a=this._player;a.triggerCallback&&a.triggerCallback(o)}}function Wi(f){return f&&1===f.nodeType}function wo(f,o){const a=f.style.display;return f.style.display=o??"none",a}function wc(f,o,a,h,y){const S=[];a.forEach(ie=>S.push(wo(ie)));const V=[];h.forEach((ie,ve)=>{const Fe=new Map;ie.forEach(tt=>{const Bt=o.computeStyle(ve,tt,y);Fe.set(tt,Bt),(!Bt||0==Bt.length)&&(ve[dr]=Vs,V.push(ve))}),f.set(ve,Fe)});let Z=0;return a.forEach(ie=>wo(ie,S[Z++])),V}function Rs(f,o){const a=new Map;if(f.forEach(Z=>a.set(Z,[])),0==o.length)return a;const y=new Set(o),S=new Map;function V(Z){if(!Z)return 1;let ie=S.get(Z);if(ie)return ie;const ve=Z.parentNode;return ie=a.has(ve)?ve:y.has(ve)?1:V(ve),S.set(Z,ie),ie}return o.forEach(Z=>{const ie=V(Z);1!==ie&&a.get(ie).push(Z)}),a}function Zo(f,o){f.classList?.add(o)}function Tc(f,o){f.classList?.remove(o)}function il(f,o,a){er(a).onDone(()=>f.processLeaveNode(o))}function ha(f,o){for(let a=0;a<f.length;a++){const h=f[a];h instanceof Hi?ha(h.players,o):o.push(h)}}function Nn(f,o,a){const h=a.get(f);if(!h)return!1;let y=o.get(f);return y?h.forEach(S=>y.add(S)):o.set(f,h),a.delete(f),!0}class Cc{constructor(o,a,h){this.bodyNode=o,this._driver=a,this._normalizer=h,this._triggerCache={},this.onRemovalComplete=(y,S)=>{},this._transitionEngine=new Yo(o,a,h),this._timelineEngine=new wi(o,a,h),this._transitionEngine.onRemovalComplete=(y,S)=>this.onRemovalComplete(y,S)}registerTrigger(o,a,h,y,S){const V=o+"-"+y;let Z=this._triggerCache[V];if(!Z){const ie=[],Fe=Rr(this._driver,S,ie,[]);if(ie.length)throw function Xi(f,o){return new Y.wOt(3404,!1)}();Z=function Ar(f,o,a){return new Li(f,o,a)}(y,Fe,this._normalizer),this._triggerCache[V]=Z}this._transitionEngine.registerTrigger(a,y,Z)}register(o,a){this._transitionEngine.register(o,a)}destroy(o,a){this._transitionEngine.destroy(o,a)}onInsert(o,a,h,y){this._transitionEngine.insertNode(o,a,h,y)}onRemove(o,a,h){this._transitionEngine.removeNode(o,a,h)}disableAnimations(o,a){this._transitionEngine.markElementAsDisabled(o,a)}process(o,a,h,y){if("@"==h.charAt(0)){const[S,V]=Hr(h);this._timelineEngine.command(S,a,V,y)}else this._transitionEngine.trigger(o,a,h,y)}listen(o,a,h,y,S){if("@"==h.charAt(0)){const[V,Z]=Hr(h);return this._timelineEngine.listen(V,a,Z,S)}return this._transitionEngine.listen(o,a,h,y,S)}flush(o=-1){this._transitionEngine.flush(o)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(o){this._transitionEngine.afterFlushAnimationsDone(o)}}let Ph=(()=>{class f{static{this.initialStylesByElement=new WeakMap}constructor(a,h,y){this._element=a,this._startStyles=h,this._endStyles=y,this._state=0;let S=f.initialStylesByElement.get(a);S||f.initialStylesByElement.set(a,S=new Map),this._initialStyles=S}start(){this._state<1&&(this._startStyles&&Xr(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Xr(this._element,this._initialStyles),this._endStyles&&(Xr(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(f.initialStylesByElement.delete(this._element),this._startStyles&&(Gi(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Gi(this._element,this._endStyles),this._endStyles=null),Xr(this._element,this._initialStyles),this._state=3)}}return f})();function Ul(f){let o=null;return f.forEach((a,h)=>{(function sl(f){return"display"===f||"position"===f})(h)&&(o=o||new Map,o.set(h,a))}),o}class jl{constructor(o,a,h,y){this.element=o,this.keyframes=a,this.options=h,this._specialStyles=y,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=h.duration,this._delay=h.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(o=>o()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const o=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,o,this.options),this._finalKeyframe=o.length?o[o.length-1]:new Map;const a=()=>this._onFinish();this.domPlayer.addEventListener("finish",a),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",a)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(o){const a=[];return o.forEach(h=>{a.push(Object.fromEntries(h))}),a}_triggerWebAnimation(o,a,h){return o.animate(this._convertKeyframesToObject(a),h)}onStart(o){this._originalOnStartFns.push(o),this._onStartFns.push(o)}onDone(o){this._originalOnDoneFns.push(o),this._onDoneFns.push(o)}onDestroy(o){this._onDestroyFns.push(o)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(o=>o()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(o=>o()),this._onDestroyFns=[])}setPosition(o){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=o*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const o=new Map;this.hasStarted()&&this._finalKeyframe.forEach((h,y)=>{"offset"!==y&&o.set(y,this._finished?h:En(this.element,y))}),this.currentSnapshot=o}triggerCallback(o){const a="start"===o?this._onStartFns:this._onDoneFns;a.forEach(h=>h()),a.length=0}}class Ac{validateStyleProperty(o){return!0}validateAnimatableStyleProperty(o){return!0}matchesElement(o,a){return!1}containsElement(o,a){return kn(o,a)}getParentElement(o){return fr(o)}query(o,a,h){return as(o,a,h)}computeStyle(o,a,h){return window.getComputedStyle(o)[a]}animate(o,a,h,y,S,V=[]){const ie={duration:h,delay:y,fill:0==y?"both":"forwards"};S&&(ie.easing=S);const ve=new Map,Fe=V.filter(jt=>jt instanceof jl);(function re(f,o){return 0===f||0===o})(h,y)&&Fe.forEach(jt=>{jt.currentSnapshot.forEach((xt,Dt)=>ve.set(Dt,xt))});let tt=function ci(f){return f.length?f[0]instanceof Map?f:f.map(o=>ca(o)):[]}(a).map(jt=>Qo(jt));tt=function ye(f,o,a){if(a.size&&o.length){let h=o[0],y=[];if(a.forEach((S,V)=>{h.has(V)||y.push(V),h.set(V,S)}),y.length)for(let S=1;S<o.length;S++){let V=o[S];y.forEach(Z=>V.set(Z,En(f,Z)))}}return o}(o,tt,ve);const Bt=function Mh(f,o){let a=null,h=null;return Array.isArray(o)&&o.length?(a=Ul(o[0]),o.length>1&&(h=Ul(o[o.length-1]))):o instanceof Map&&(a=Ul(o)),a||h?new Ph(f,a,h):null}(o,tt);return new jl(o,tt,ie,Bt)}}let Ti=(()=>{class f extends ji{constructor(a,h){super(),this._nextAnimationId=0,this._renderer=a.createRenderer(h.body,{id:"0",encapsulation:Y.gXe.None,styles:[],data:{animation:[]}})}build(a){const h=this._nextAnimationId.toString();this._nextAnimationId++;const y=Array.isArray(a)?kt(a):a;return Dc(this._renderer,null,h,"register",[y]),new $l(h,this._renderer)}static{this.\u0275fac=function(h){return new(h||f)(Y.KVO(Y._9s),Y.KVO(mt.qQ))}}static{this.\u0275prov=Y.jDH({token:f,factory:f.\u0275fac})}}return f})();class $l extends po{constructor(o,a){super(),this._id=o,this._renderer=a}create(o,a){return new Mu(this._id,o,a||{},this._renderer)}}class Mu{constructor(o,a,h,y){this.id=o,this.element=a,this._renderer=y,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",h)}_listen(o,a){return this._renderer.listen(this.element,`@@${this.id}:${o}`,a)}_command(o,...a){return Dc(this._renderer,this.element,this.id,o,a)}onDone(o){this._listen("done",o)}onStart(o){this._listen("start",o)}onDestroy(o){this._listen("destroy",o)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(o){this._command("setPosition",o)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function Dc(f,o,a,h,y){return f.setProperty(o,`@@${a}:${h}`,y)}const Je="@.disabled";let pr=(()=>{class f{constructor(a,h,y){this.delegate=a,this.engine=h,this._zone=y,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,h.onRemovalComplete=(S,V)=>{const Z=V?.parentNode(S);Z&&V.removeChild(Z,S)}}createRenderer(a,h){const S=this.delegate.createRenderer(a,h);if(!(a&&h&&h.data&&h.data.animation)){let Fe=this._rendererCache.get(S);return Fe||(Fe=new Sc("",S,this.engine,()=>this._rendererCache.delete(S)),this._rendererCache.set(S,Fe)),Fe}const V=h.id,Z=h.id+"-"+this._currentId;this._currentId++,this.engine.register(Z,a);const ie=Fe=>{Array.isArray(Fe)?Fe.forEach(ie):this.engine.registerTrigger(V,Z,a,Fe.name,Fe)};return h.data.animation.forEach(ie),new Hl(this,Z,S,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(a,h,y){a>=0&&a<this._microtaskId?this._zone.run(()=>h(y)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(S=>{const[V,Z]=S;V(Z)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([h,y]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}static{this.\u0275fac=function(h){return new(h||f)(Y.KVO(Y._9s),Y.KVO(Cc),Y.KVO(Y.SKi))}}static{this.\u0275prov=Y.jDH({token:f,factory:f.\u0275fac})}}return f})();class Sc{constructor(o,a,h,y){this.namespaceId=o,this.delegate=a,this.engine=h,this._onDestroy=y}get data(){return this.delegate.data}destroyNode(o){this.delegate.destroyNode?.(o)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(o,a){return this.delegate.createElement(o,a)}createComment(o){return this.delegate.createComment(o)}createText(o){return this.delegate.createText(o)}appendChild(o,a){this.delegate.appendChild(o,a),this.engine.onInsert(this.namespaceId,a,o,!1)}insertBefore(o,a,h,y=!0){this.delegate.insertBefore(o,a,h),this.engine.onInsert(this.namespaceId,a,o,y)}removeChild(o,a,h){this.engine.onRemove(this.namespaceId,a,this.delegate)}selectRootElement(o,a){return this.delegate.selectRootElement(o,a)}parentNode(o){return this.delegate.parentNode(o)}nextSibling(o){return this.delegate.nextSibling(o)}setAttribute(o,a,h,y){this.delegate.setAttribute(o,a,h,y)}removeAttribute(o,a,h){this.delegate.removeAttribute(o,a,h)}addClass(o,a){this.delegate.addClass(o,a)}removeClass(o,a){this.delegate.removeClass(o,a)}setStyle(o,a,h,y){this.delegate.setStyle(o,a,h,y)}removeStyle(o,a,h){this.delegate.removeStyle(o,a,h)}setProperty(o,a,h){"@"==a.charAt(0)&&a==Je?this.disableAnimations(o,!!h):this.delegate.setProperty(o,a,h)}setValue(o,a){this.delegate.setValue(o,a)}listen(o,a,h){return this.delegate.listen(o,a,h)}disableAnimations(o,a){this.engine.disableAnimations(o,a)}}class Hl extends Sc{constructor(o,a,h,y,S){super(a,h,y,S),this.factory=o,this.namespaceId=a}setProperty(o,a,h){"@"==a.charAt(0)?"."==a.charAt(1)&&a==Je?this.disableAnimations(o,h=void 0===h||!!h):this.engine.process(this.namespaceId,o,a.slice(1),h):this.delegate.setProperty(o,a,h)}listen(o,a,h){if("@"==a.charAt(0)){const y=function Vi(f){switch(f){case"body":return document.body;case"document":return document;case"window":return window;default:return f}}(o);let S=a.slice(1),V="";return"@"!=S.charAt(0)&&([S,V]=function zl(f){const o=f.indexOf(".");return[f.substring(0,o),f.slice(o+1)]}(S)),this.engine.listen(this.namespaceId,y,S,V,Z=>{this.factory.scheduleListenerCallback(Z._data||-1,h,Z)})}return this.delegate.listen(o,a,h)}}const Us=[{provide:ji,useClass:Ti},{provide:L,useFactory:function Bs(){return new Ge}},{provide:Cc,useClass:(()=>{class f extends Cc{constructor(a,h,y,S){super(a.body,h,y)}ngOnDestroy(){this.flush()}static{this.\u0275fac=function(h){return new(h||f)(Y.KVO(mt.qQ),Y.KVO(Do),Y.KVO(L),Y.KVO(Y.o8S))}}static{this.\u0275prov=Y.jDH({token:f,factory:f.\u0275fac})}}return f})()},{provide:Y._9s,useFactory:function Pu(f,o,a){return new pr(f,o,a)},deps:[I.B7,Cc,Y.SKi]}],xc=[{provide:Do,useFactory:()=>new Ac},{provide:Y.bc$,useValue:"BrowserAnimations"},...Us],Gl=[{provide:Do,useClass:Ei},{provide:Y.bc$,useValue:"NoopAnimations"},...Us];let O,al=(()=>{class f{static withConfig(a){return{ngModule:f,providers:a.disableAnimations?Gl:xc}}static{this.\u0275fac=function(h){return new(h||f)}}static{this.\u0275mod=Y.$C({type:f})}static{this.\u0275inj=Y.G2t({providers:xc,imports:[I.Bb]})}}return f})();try{O=typeof Intl<"u"&&Intl.v8BreakIterator}catch{O=!1}let Vt,ui,B=(()=>{class f{constructor(a){this._platformId=a,this.isBrowser=this._platformId?(0,mt.UE)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!O)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static{this.\u0275fac=function(h){return new(h||f)(Y.KVO(Y.Agw))}}static{this.\u0275prov=Y.jDH({token:f,factory:f.\u0275fac,providedIn:"root"})}}return f})();function xr(f){return function Un(){if(null==Vt&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Vt=!0}))}finally{Vt=Vt||!1}return Vt}()?f:!!f.capture}function Ia(){if(null==ui){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return ui=!1,ui;if("scrollBehavior"in document.documentElement.style)ui=!0;else{const f=Element.prototype.scrollTo;ui=!!f&&!/\{\s*\[native code\]\s*\}/.test(f.toString())}}return ui}function xs(f){return f.composedPath?f.composedPath()[0]:f.target}function Pc(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}var Ms=q(1413),to=q(8359);q(8141);var Fd=q(152),nu=q(6697);function ru(f){return Array.isArray(f)?f:[f]}function no(f){return null==f?"":"string"==typeof f?f:`${f}px`}function Kh(f){return f instanceof Y.aKT?f.nativeElement:f}var vp=q(4572),bp=q(8793),Ld=q(9172),qu=q(6977);const Ep=new Set;let bl,qh=(()=>{class f{constructor(a,h){this._platform=a,this._nonce=h,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):U_}matchMedia(a){return(this._platform.WEBKIT||this._platform.BLINK)&&function B_(f,o){if(!Ep.has(f))try{bl||(bl=document.createElement("style"),o&&(bl.nonce=o),bl.setAttribute("type","text/css"),document.head.appendChild(bl)),bl.sheet&&(bl.sheet.insertRule(`@media ${f} {body{ }}`,0),Ep.add(f))}catch(a){console.error(a)}}(a,this._nonce),this._matchMedia(a)}static{this.\u0275fac=function(h){return new(h||f)(Y.KVO(B),Y.KVO(Y.BIS,8))}}static{this.\u0275prov=Y.jDH({token:f,factory:f.\u0275fac,providedIn:"root"})}}return f})();function U_(f){return{matches:"all"===f||""===f,media:f,addListener:()=>{},removeListener:()=>{}}}let El=(()=>{class f{constructor(a,h){this._mediaMatcher=a,this._zone=h,this._queries=new Map,this._destroySubject=new Ms.B}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(a){return Qh(ru(a)).some(y=>this._registerQuery(y).mql.matches)}observe(a){const y=Qh(ru(a)).map(V=>this._registerQuery(V).observable);let S=(0,vp.z)(y);return S=(0,bp.x)(S.pipe((0,nu.s)(1)),S.pipe(function Ku(f){return(0,gt.p)((o,a)=>f<=a)}(1),(0,Fd.B)(0))),S.pipe((0,nt.T)(V=>{const Z={matches:!1,breakpoints:{}};return V.forEach(({matches:ie,query:ve})=>{Z.matches=Z.matches||ie,Z.breakpoints[ve]=ie}),Z}))}_registerQuery(a){if(this._queries.has(a))return this._queries.get(a);const h=this._mediaMatcher.matchMedia(a),S={observable:new Ie.c(V=>{const Z=ie=>this._zone.run(()=>V.next(ie));return h.addListener(Z),()=>{h.removeListener(Z)}}).pipe((0,Ld.Z)(h),(0,nt.T)(({matches:V})=>({query:a,matches:V})),(0,qu.Q)(this._destroySubject)),mql:h};return this._queries.set(a,S),S}static{this.\u0275fac=function(h){return new(h||f)(Y.KVO(qh),Y.KVO(Y.SKi))}}static{this.\u0275prov=Y.jDH({token:f,factory:f.\u0275fac,providedIn:"root"})}}return f})();function Qh(f){return f.map(o=>o.split(",")).reduce((o,a)=>o.concat(a)).map(o=>o.trim())}const Gr="cdk-high-contrast-black-on-white",ts="cdk-high-contrast-white-on-black",ks="cdk-high-contrast-active";let Uc=(()=>{class f{constructor(a,h){this._platform=a,this._document=h,this._breakpointSubscription=(0,Y.WQX)(El).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const a=this._document.createElement("div");a.style.backgroundColor="rgb(1,2,3)",a.style.position="absolute",this._document.body.appendChild(a);const h=this._document.defaultView||window,y=h&&h.getComputedStyle?h.getComputedStyle(a):null,S=(y&&y.backgroundColor||"").replace(/ /g,"");switch(a.remove(),S){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const a=this._document.body.classList;a.remove(ks,Gr,ts),this._hasCheckedHighContrastMode=!0;const h=this.getHighContrastMode();1===h?a.add(ks,Gr):2===h&&a.add(ks,ts)}}static{this.\u0275fac=function(h){return new(h||f)(Y.KVO(B),Y.KVO(mt.qQ))}}static{this.\u0275prov=Y.jDH({token:f,factory:f.\u0275fac,providedIn:"root"})}}return f})();const cf=new Y.nKC("cdk-dir-doc",{providedIn:"root",factory:function Kd(){return(0,Y.WQX)(mt.qQ)}}),qd=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let ed=(()=>{class f{constructor(a){this.value="ltr",this.change=new Y.bkB,a&&(this.value=function Qd(f){const o=f?.toLowerCase()||"";return"auto"===o&&typeof navigator<"u"&&navigator?.language?qd.test(navigator.language)?"rtl":"ltr":"rtl"===o?"rtl":"ltr"}((a.body?a.body.dir:null)||(a.documentElement?a.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}static{this.\u0275fac=function(h){return new(h||f)(Y.KVO(cf,8))}}static{this.\u0275prov=Y.jDH({token:f,factory:f.\u0275fac,providedIn:"root"})}}return f})(),xa=(()=>{class f{static{this.\u0275fac=function(h){return new(h||f)}}static{this.\u0275mod=Y.$C({type:f})}static{this.\u0275inj=Y.G2t({})}}return f})();const ng=new Y.nKC("mat-sanity-checks",{providedIn:"root",factory:function uf(){return!0}});let jc=(()=>{class f{constructor(a,h,y){this._sanityChecks=h,this._document=y,this._hasDoneGlobalChecks=!1,a._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(a){return!Pc()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[a])}static{this.\u0275fac=function(h){return new(h||f)(Y.KVO(Uc),Y.KVO(ng,8),Y.KVO(mt.qQ))}}static{this.\u0275mod=Y.$C({type:f})}static{this.\u0275inj=Y.G2t({imports:[xa,xa]})}}return f})();const $c=xr({passive:!0,capture:!0});class pf{constructor(){this._events=new Map,this._delegateEventHandler=o=>{const a=xs(o);a&&this._events.get(o.type)?.forEach((h,y)=>{(y===a||y.contains(a))&&h.forEach(S=>S.handleEvent(o))})}}addHandler(o,a,h,y){const S=this._events.get(a);if(S){const V=S.get(h);V?V.add(y):S.set(h,new Set([y]))}else this._events.set(a,new Map([[h,new Set([y])]])),o.runOutsideAngular(()=>{document.addEventListener(a,this._delegateEventHandler,$c)})}removeHandler(o,a,h){const y=this._events.get(o);if(!y)return;const S=y.get(a);S&&(S.delete(h),0===S.size&&y.delete(a),0===y.size&&(this._events.delete(o),document.removeEventListener(o,this._delegateEventHandler,$c)))}}class mf{static{this._eventManager=new pf}constructor(o,a,h,y){this._target=o,this._ngZone=a,this._platform=y,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,y.isBrowser&&(this._containerElement=Kh(h))}fadeInRipple(o,a,h={}){const y=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),S={...od,...h.animation},V=h.radius||function kp(f,o,a){const h=Math.max(Math.abs(f-a.left),Math.abs(f-a.right)),y=Math.max(Math.abs(o-a.top),Math.abs(o-a.bottom));return Math.sqrt(h*h+y*y)}(o,a,y),Z=o-y.left,ie=a-y.top,ve=S.enterDuration,Fe=document.createElement("div");Fe.classList.add("mat-ripple-element"),Fe.style.left=Z-V+"px",Fe.style.top=ie-V+"px",Fe.style.height=2*V+"px",Fe.style.width=2*V+"px",null!=h.color&&(Fe.style.backgroundColor=h.color),Fe.style.transitionDuration=`${ve}ms`,this._containerElement.appendChild(Fe);const tt=window.getComputedStyle(Fe),jt=tt.transitionDuration,xt="none"===tt.transitionProperty||"0s"===jt||"0s, 0s"===jt||0===y.width&&0===y.height,Dt=new z_(this,Fe,h,xt);Fe.style.transform="scale3d(1, 1, 1)",Dt.state=0,h.persistent||(this._mostRecentTransientRipple=Dt);return!xt&&(ve||S.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const ar=()=>this._finishRippleTransition(Dt),Bn=()=>this._destroyRipple(Dt);Fe.addEventListener("transitionend",ar),Fe.addEventListener("transitioncancel",Bn)}),this._activeRipples.set(Dt,null),(xt||!ve)&&this._finishRippleTransition(Dt),Dt}fadeOutRipple(o){if(2===o.state||3===o.state)return;const a=o.element,h={...od,...o.config.animation};a.style.transitionDuration=`${h.exitDuration}ms`,a.style.opacity="0",o.state=2,(o._animationForciblyDisabledThroughCss||!h.exitDuration)&&this._finishRippleTransition(o)}fadeOutAll(){this._getActiveRipples().forEach(o=>o.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(o=>{o.config.persistent||o.fadeOut()})}setupTriggerEvents(o){const a=Kh(o);!this._platform.isBrowser||!a||a===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=a,Op.forEach(h=>{mf._eventManager.addHandler(this._ngZone,h,a,this)}))}handleEvent(o){"mousedown"===o.type?this._onMousedown(o):"touchstart"===o.type?this._onTouchStart(o):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{rc.forEach(a=>{this._triggerElement.addEventListener(a,this,Jd)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(o){0===o.state?this._startFadeOutTransition(o):2===o.state&&this._destroyRipple(o)}_startFadeOutTransition(o){const a=o===this._mostRecentTransientRipple,{persistent:h}=o.config;o.state=1,!h&&(!a||!this._isPointerDown)&&o.fadeOut()}_destroyRipple(o){const a=this._activeRipples.get(o)??null;this._activeRipples.delete(o),this._activeRipples.size||(this._containerRect=null),o===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),o.state=3,null!==a&&(o.element.removeEventListener("transitionend",a.onTransitionEnd),o.element.removeEventListener("transitioncancel",a.onTransitionCancel)),o.element.remove()}_onMousedown(o){const a=function af(f){return 0===f.buttons||0===f.detail}(o),h=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!a&&!h&&(this._isPointerDown=!0,this.fadeInRipple(o.clientX,o.clientY,this._target.rippleConfig))}_onTouchStart(o){if(!this._target.rippleDisabled&&!function Wd(f){const o=f.touches&&f.touches[0]||f.changedTouches&&f.changedTouches[0];return!(!o||-1!==o.identifier||null!=o.radiusX&&1!==o.radiusX||null!=o.radiusY&&1!==o.radiusY)}(o)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const a=o.changedTouches;if(a)for(let h=0;h<a.length;h++)this.fadeInRipple(a[h].clientX,a[h].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(o=>{!o.config.persistent&&(1===o.state||o.config.terminateOnPointerUp&&0===o.state)&&o.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const o=this._triggerElement;o&&(Op.forEach(a=>mf._eventManager.removeHandler(a,o,this)),this._pointerUpEventsRegistered&&rc.forEach(a=>o.removeEventListener(a,this,Jd)))}}let W_=(()=>{class f{static{this.\u0275fac=function(h){return new(h||f)}}static{this.\u0275mod=Y.$C({type:f})}static{this.\u0275inj=Y.G2t({imports:[jc,jc]})}}return f})(),bf=(()=>{class f{static{this.\u0275fac=function(h){return new(h||f)}}static{this.\u0275mod=Y.$C({type:f})}static{this.\u0275inj=Y.G2t({imports:[jc,W_,jc]})}}return f})();class Hp{attach(o){return this._attachedHost=o,o.attach(this)}detach(){let o=this._attachedHost;null!=o&&(this._attachedHost=null,o.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(o){this._attachedHost=o}}class bg extends Hp{constructor(o,a,h,y,S){super(),this.component=o,this.viewContainerRef=a,this.injector=h,this.componentFactoryResolver=y,this.projectableNodes=S}}class zp extends Hp{constructor(o,a,h,y){super(),this.templateRef=o,this.viewContainerRef=a,this.context=h,this.injector=y}get origin(){return this.templateRef.elementRef}attach(o,a=this.context){return this.context=a,super.attach(o)}detach(){return this.context=void 0,super.detach()}}class dy extends Hp{constructor(o){super(),this.element=o instanceof Y.aKT?o.nativeElement:o}}class Cl{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(o){return o instanceof bg?(this._attachedPortal=o,this.attachComponentPortal(o)):o instanceof zp?(this._attachedPortal=o,this.attachTemplatePortal(o)):this.attachDomPortal&&o instanceof dy?(this._attachedPortal=o,this.attachDomPortal(o)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(o){this._disposeFn=o}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class ah extends Cl{constructor(o,a,h,y,S){super(),this.outletElement=o,this._componentFactoryResolver=a,this._appRef=h,this._defaultInjector=y,this.attachDomPortal=V=>{const Z=V.element,ie=this._document.createComment("dom-portal");Z.parentNode.insertBefore(ie,Z),this.outletElement.appendChild(Z),this._attachedPortal=V,super.setDisposeFn(()=>{ie.parentNode&&ie.parentNode.replaceChild(Z,ie)})},this._document=S}attachComponentPortal(o){const h=(o.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(o.component);let y;return o.viewContainerRef?(y=o.viewContainerRef.createComponent(h,o.viewContainerRef.length,o.injector||o.viewContainerRef.injector,o.projectableNodes||void 0),this.setDisposeFn(()=>y.destroy())):(y=h.create(o.injector||this._defaultInjector||Y.zZn.NULL),this._appRef.attachView(y.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(y.hostView),y.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(y)),this._attachedPortal=o,y}attachTemplatePortal(o){let a=o.viewContainerRef,h=a.createEmbeddedView(o.templateRef,o.context,{injector:o.injector});return h.rootNodes.forEach(y=>this.outletElement.appendChild(y)),h.detectChanges(),this.setDisposeFn(()=>{let y=a.indexOf(h);-1!==y&&a.remove(y)}),this._attachedPortal=o,h}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(o){return o.hostView.rootNodes[0]}}let Zr=(()=>{class f{static{this.\u0275fac=function(h){return new(h||f)}}static{this.\u0275mod=Y.$C({type:f})}static{this.\u0275inj=Y.G2t({})}}return f})();var fy=q(8750),$v=q(1397),Ef=q(7441),ra=q(8071),Hv=q(6450);const zv=["addListener","removeListener"],Gv=["addEventListener","removeEventListener"],Ig=["on","off"];function Kp(f,o,a,h){if((0,ra.T)(a)&&(h=a,a=void 0),h)return Kp(f,o,a).pipe((0,Hv.I)(h));const[y,S]=function Wv(f){return(0,ra.T)(f.addEventListener)&&(0,ra.T)(f.removeEventListener)}(f)?Gv.map(V=>Z=>f[V](o,Z,a)):function my(f){return(0,ra.T)(f.addListener)&&(0,ra.T)(f.removeListener)}(f)?zv.map(py(f,o)):function lu(f){return(0,ra.T)(f.on)&&(0,ra.T)(f.off)}(f)?Ig.map(py(f,o)):[];if(!y&&(0,Ef.X)(f))return(0,$v.Z)(V=>Kp(V,o,a))((0,fy.Tg)(f));if(!y)throw new TypeError("Invalid event target");return new Ie.c(V=>{const Z=(...ie)=>V.next(1<ie.length?ie:ie[0]);return y(Z),()=>S(Z)})}function py(f,o){return a=>h=>f[a](o,h)}var Al=q(6780);const Pa={schedule(f){let o=requestAnimationFrame,a=cancelAnimationFrame;const{delegate:h}=Pa;h&&(o=h.requestAnimationFrame,a=h.cancelAnimationFrame);const y=o(S=>{a=void 0,f(S)});return new to.yU(()=>a?.(y))},requestAnimationFrame(...f){const{delegate:o}=Pa;return(o?.requestAnimationFrame||requestAnimationFrame)(...f)},cancelAnimationFrame(...f){const{delegate:o}=Pa;return(o?.cancelAnimationFrame||cancelAnimationFrame)(...f)},delegate:void 0};var uu=q(3604);new class wg extends uu.q{flush(o){let a;this._active=!0,o?a=o.id:(a=this._scheduled,this._scheduled=void 0);const{actions:h}=this;let y;o=o||h.shift();do{if(y=o.execute(o.state,o.delay))break}while((o=h[0])&&o.id===a&&h.shift());if(this._active=!1,y){for(;(o=h[0])&&o.id===a&&h.shift();)o.unsubscribe();throw y}}}(class Kv extends Al.R{constructor(o,a){super(o,a),this.scheduler=o,this.work=a}requestAsyncId(o,a,h=0){return null!==h&&h>0?super.requestAsyncId(o,a,h):(o.actions.push(this),o._scheduled||(o._scheduled=Pa.requestAnimationFrame(()=>o.flush(void 0))))}recycleAsyncId(o,a,h=0){var y;if(null!=h?h>0:this.delay>0)return super.recycleAsyncId(o,a,h);const{actions:S}=o;null!=a&&a===o._scheduled&&(null===(y=S[S.length-1])||void 0===y?void 0:y.id)!==a&&(Pa.cancelAnimationFrame(a),o._scheduled=void 0)}});let cd,qp=1;const oc={};function hu(f){return f in oc&&(delete oc[f],!0)}const Qp={setImmediate(f){const o=qp++;return oc[o]=!0,cd||(cd=Promise.resolve()),cd.then(()=>hu(o)&&f()),o},clearImmediate(f){hu(f)}},{setImmediate:fu,clearImmediate:ac}=Qp,pu={setImmediate(...f){const{delegate:o}=pu;return(o?.setImmediate||fu)(...f)},clearImmediate(f){const{delegate:o}=pu;return(o?.clearImmediate||ac)(f)},delegate:void 0};new class ld extends uu.q{flush(o){this._active=!0;const a=this._scheduled;this._scheduled=void 0;const{actions:h}=this;let y;o=o||h.shift();do{if(y=o.execute(o.state,o.delay))break}while((o=h[0])&&o.id===a&&h.shift());if(this._active=!1,y){for(;(o=h[0])&&o.id===a&&h.shift();)o.unsubscribe();throw y}}}(class ch extends Al.R{constructor(o,a){super(o,a),this.scheduler=o,this.work=a}requestAsyncId(o,a,h=0){return null!==h&&h>0?super.requestAsyncId(o,a,h):(o.actions.push(this),o._scheduled||(o._scheduled=pu.setImmediate(o.flush.bind(o,void 0))))}recycleAsyncId(o,a,h=0){var y;if(null!=h?h>0:this.delay>0)return super.recycleAsyncId(o,a,h);const{actions:S}=o;null!=a&&(null===(y=S[S.length-1])||void 0===y?void 0:y.id)!==a&&(pu.clearImmediate(a),o._scheduled===a&&(o._scheduled=void 0))}});var Dl=q(3236),Xp=q(9974),wf=q(4360),Cg=q(9470);function ud(f,o=Dl.E){return function mu(f){return(0,Xp.N)((o,a)=>{let h=!1,y=null,S=null,V=!1;const Z=()=>{if(S?.unsubscribe(),S=null,h){h=!1;const ve=y;y=null,a.next(ve)}V&&a.complete()},ie=()=>{S=null,V&&a.complete()};o.subscribe((0,wf._)(a,ve=>{h=!0,y=ve,S||(0,fy.Tg)(f(ve)).subscribe(S=(0,wf._)(a,Z,ie))},()=>{V=!0,(!h||!S||S.closed)&&a.complete()}))})}(()=>function Cf(f=0,o,a=Dl.b){let h=-1;return null!=o&&((0,Cg.m)(o)?a=o:h=o),new Ie.c(y=>{let S=function Tf(f){return f instanceof Date&&!isNaN(f)}(f)?+f-a.now():f;S<0&&(S=0);let V=0;return a.schedule(function(){y.closed||(y.next(V++),0<=h?this.schedule(void 0,h):y.complete())},S)})}(f,o))}let Df=(()=>{class f{constructor(a,h,y){this._ngZone=a,this._platform=h,this._scrolled=new Ms.B,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=y}register(a){this.scrollContainers.has(a)||this.scrollContainers.set(a,a.elementScrolled().subscribe(()=>this._scrolled.next(a)))}deregister(a){const h=this.scrollContainers.get(a);h&&(h.unsubscribe(),this.scrollContainers.delete(a))}scrolled(a=20){return this._platform.isBrowser?new Ie.c(h=>{this._globalSubscription||this._addGlobalListener();const y=a>0?this._scrolled.pipe(ud(a)).subscribe(h):this._scrolled.subscribe(h);return this._scrolledCount++,()=>{y.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,Ue.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((a,h)=>this.deregister(h)),this._scrolled.complete()}ancestorScrolled(a,h){const y=this.getAncestorScrollContainers(a);return this.scrolled(h).pipe((0,gt.p)(S=>!S||y.indexOf(S)>-1))}getAncestorScrollContainers(a){const h=[];return this.scrollContainers.forEach((y,S)=>{this._scrollableContainsElement(S,a)&&h.push(S)}),h}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(a,h){let y=Kh(h),S=a.getElementRef().nativeElement;do{if(y==S)return!0}while(y=y.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Kp(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}static{this.\u0275fac=function(h){return new(h||f)(Y.KVO(Y.SKi),Y.KVO(B),Y.KVO(mt.qQ,8))}}static{this.\u0275prov=Y.jDH({token:f,factory:f.\u0275fac,providedIn:"root"})}}return f})(),Dg=(()=>{class f{constructor(a,h,y){this._platform=a,this._change=new Ms.B,this._changeListener=S=>{this._change.next(S)},this._document=y,h.runOutsideAngular(()=>{if(a.isBrowser){const S=this._getWindow();S.addEventListener("resize",this._changeListener),S.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const a=this._getWindow();a.removeEventListener("resize",this._changeListener),a.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const a={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),a}getViewportRect(){const a=this.getViewportScrollPosition(),{width:h,height:y}=this.getViewportSize();return{top:a.top,left:a.left,bottom:a.top+y,right:a.left+h,height:y,width:h}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const a=this._document,h=this._getWindow(),y=a.documentElement,S=y.getBoundingClientRect();return{top:-S.top||a.body.scrollTop||h.scrollY||y.scrollTop||0,left:-S.left||a.body.scrollLeft||h.scrollX||y.scrollLeft||0}}change(a=20){return a>0?this._change.pipe(ud(a)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const a=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:a.innerWidth,height:a.innerHeight}:{width:0,height:0}}static{this.\u0275fac=function(h){return new(h||f)(Y.KVO(B),Y.KVO(Y.SKi),Y.KVO(mt.qQ,8))}}static{this.\u0275prov=Y.jDH({token:f,factory:f.\u0275fac,providedIn:"root"})}}return f})(),Rg=(()=>{class f{static{this.\u0275fac=function(h){return new(h||f)}}static{this.\u0275mod=Y.$C({type:f})}static{this.\u0275inj=Y.G2t({})}}return f})(),hh=(()=>{class f{static{this.\u0275fac=function(h){return new(h||f)}}static{this.\u0275mod=Y.$C({type:f})}static{this.\u0275inj=Y.G2t({imports:[xa,Rg,xa,Rg]})}}return f})();var Zv=q(7786);const gy=Ia();class fh{constructor(o,a){this._viewportRuler=o,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=a}attach(){}enable(){if(this._canBeEnabled()){const o=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=o.style.left||"",this._previousHTMLStyles.top=o.style.top||"",o.style.left=no(-this._previousScrollPosition.left),o.style.top=no(-this._previousScrollPosition.top),o.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const o=this._document.documentElement,h=o.style,y=this._document.body.style,S=h.scrollBehavior||"",V=y.scrollBehavior||"";this._isEnabled=!1,h.left=this._previousHTMLStyles.left,h.top=this._previousHTMLStyles.top,o.classList.remove("cdk-global-scrollblock"),gy&&(h.scrollBehavior=y.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),gy&&(h.scrollBehavior=S,y.scrollBehavior=V)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const a=this._document.body,h=this._viewportRuler.getViewportSize();return a.scrollHeight>h.height||a.scrollWidth>h.width}}class xg{constructor(o,a,h,y){this._scrollDispatcher=o,this._ngZone=a,this._viewportRuler=h,this._config=y,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(o){this._overlayRef=o}enable(){if(this._scrollSubscription)return;const o=this._scrollDispatcher.scrolled(0).pipe((0,gt.p)(a=>!a||!this._overlayRef.overlayElement.contains(a.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=o.subscribe(()=>{const a=this._viewportRuler.getViewportScrollPosition().top;Math.abs(a-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=o.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class Mg{enable(){}disable(){}attach(){}}function hd(f,o){return o.some(a=>f.bottom<a.top||f.top>a.bottom||f.right<a.left||f.left>a.right)}function Mf(f,o){return o.some(a=>f.top<a.top||f.bottom>a.bottom||f.left<a.left||f.right>a.right)}class Pg{constructor(o,a,h,y){this._scrollDispatcher=o,this._viewportRuler=a,this._ngZone=h,this._config=y,this._scrollSubscription=null}attach(o){this._overlayRef=o}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const a=this._overlayRef.overlayElement.getBoundingClientRect(),{width:h,height:y}=this._viewportRuler.getViewportSize();hd(a,[{width:h,height:y,bottom:y,right:h,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let Og=(()=>{class f{constructor(a,h,y,S){this._scrollDispatcher=a,this._viewportRuler=h,this._ngZone=y,this.noop=()=>new Mg,this.close=V=>new xg(this._scrollDispatcher,this._ngZone,this._viewportRuler,V),this.block=()=>new fh(this._viewportRuler,this._document),this.reposition=V=>new Pg(this._scrollDispatcher,this._viewportRuler,this._ngZone,V),this._document=S}static{this.\u0275fac=function(h){return new(h||f)(Y.KVO(Df),Y.KVO(Dg),Y.KVO(Y.SKi),Y.KVO(mt.qQ))}}static{this.\u0275prov=Y.jDH({token:f,factory:f.\u0275fac,providedIn:"root"})}}return f})();class Jp{constructor(o){if(this.scrollStrategy=new Mg,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,o){const a=Object.keys(o);for(const h of a)void 0!==o[h]&&(this[h]=o[h])}}}class eb{constructor(o,a){this.connectionPair=o,this.scrollableViewProperties=a}}let kg=(()=>{class f{constructor(a){this._attachedOverlays=[],this._document=a}ngOnDestroy(){this.detach()}add(a){this.remove(a),this._attachedOverlays.push(a)}remove(a){const h=this._attachedOverlays.indexOf(a);h>-1&&this._attachedOverlays.splice(h,1),0===this._attachedOverlays.length&&this.detach()}static{this.\u0275fac=function(h){return new(h||f)(Y.KVO(mt.qQ))}}static{this.\u0275prov=Y.jDH({token:f,factory:f.\u0275fac,providedIn:"root"})}}return f})(),yy=(()=>{class f extends kg{constructor(a,h){super(a),this._ngZone=h,this._keydownListener=y=>{const S=this._attachedOverlays;for(let V=S.length-1;V>-1;V--)if(S[V]._keydownEvents.observers.length>0){const Z=S[V]._keydownEvents;this._ngZone?this._ngZone.run(()=>Z.next(y)):Z.next(y);break}}}add(a){super.add(a),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}static{this.\u0275fac=function(h){return new(h||f)(Y.KVO(mt.qQ),Y.KVO(Y.SKi,8))}}static{this.\u0275prov=Y.jDH({token:f,factory:f.\u0275fac,providedIn:"root"})}}return f})(),ns=(()=>{class f extends kg{constructor(a,h,y){super(a),this._platform=h,this._ngZone=y,this._cursorStyleIsSet=!1,this._pointerDownListener=S=>{this._pointerDownEventTarget=xs(S)},this._clickListener=S=>{const V=xs(S),Z="click"===S.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:V;this._pointerDownEventTarget=null;const ie=this._attachedOverlays.slice();for(let ve=ie.length-1;ve>-1;ve--){const Fe=ie[ve];if(Fe._outsidePointerEvents.observers.length<1||!Fe.hasAttached())continue;if(Fe.overlayElement.contains(V)||Fe.overlayElement.contains(Z))break;const tt=Fe._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>tt.next(S)):tt.next(S)}}}add(a){if(super.add(a),!this._isAttached){const h=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(h)):this._addEventListeners(h),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=h.style.cursor,h.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const a=this._document.body;a.removeEventListener("pointerdown",this._pointerDownListener,!0),a.removeEventListener("click",this._clickListener,!0),a.removeEventListener("auxclick",this._clickListener,!0),a.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(a.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(a){a.addEventListener("pointerdown",this._pointerDownListener,!0),a.addEventListener("click",this._clickListener,!0),a.addEventListener("auxclick",this._clickListener,!0),a.addEventListener("contextmenu",this._clickListener,!0)}static{this.\u0275fac=function(h){return new(h||f)(Y.KVO(mt.qQ),Y.KVO(B),Y.KVO(Y.SKi,8))}}static{this.\u0275prov=Y.jDH({token:f,factory:f.\u0275fac,providedIn:"root"})}}return f})(),Sl=(()=>{class f{constructor(a,h){this._platform=h,this._document=a}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const a="cdk-overlay-container";if(this._platform.isBrowser||Pc()){const y=this._document.querySelectorAll(`.${a}[platform="server"], .${a}[platform="test"]`);for(let S=0;S<y.length;S++)y[S].remove()}const h=this._document.createElement("div");h.classList.add(a),Pc()?h.setAttribute("platform","test"):this._platform.isBrowser||h.setAttribute("platform","server"),this._document.body.appendChild(h),this._containerElement=h}static{this.\u0275fac=function(h){return new(h||f)(Y.KVO(mt.qQ),Y.KVO(B))}}static{this.\u0275prov=Y.jDH({token:f,factory:f.\u0275fac,providedIn:"root"})}}return f})();class tm{constructor(o,a,h,y,S,V,Z,ie,ve,Fe=!1){this._portalOutlet=o,this._host=a,this._pane=h,this._config=y,this._ngZone=S,this._keyboardDispatcher=V,this._document=Z,this._location=ie,this._outsideClickDispatcher=ve,this._animationsDisabled=Fe,this._backdropElement=null,this._backdropClick=new Ms.B,this._attachments=new Ms.B,this._detachments=new Ms.B,this._locationChanges=to.yU.EMPTY,this._backdropClickHandler=tt=>this._backdropClick.next(tt),this._backdropTransitionendHandler=tt=>{this._disposeBackdrop(tt.target)},this._keydownEvents=new Ms.B,this._outsidePointerEvents=new Ms.B,y.scrollStrategy&&(this._scrollStrategy=y.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=y.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(o){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const a=this._portalOutlet.attach(o);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe((0,nu.s)(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof a?.onDestroy&&a.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),a}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const o=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),o}dispose(){const o=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,o&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(o){o!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=o,this.hasAttached()&&(o.attach(this),this.updatePosition()))}updateSize(o){this._config={...this._config,...o},this._updateElementSize()}setDirection(o){this._config={...this._config,direction:o},this._updateElementDirection()}addPanelClass(o){this._pane&&this._toggleClasses(this._pane,o,!0)}removePanelClass(o){this._pane&&this._toggleClasses(this._pane,o,!1)}getDirection(){const o=this._config.direction;return o?"string"==typeof o?o:o.value:"ltr"}updateScrollStrategy(o){o!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=o,this.hasAttached()&&(o.attach(this),o.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const o=this._pane.style;o.width=no(this._config.width),o.height=no(this._config.height),o.minWidth=no(this._config.minWidth),o.minHeight=no(this._config.minHeight),o.maxWidth=no(this._config.maxWidth),o.maxHeight=no(this._config.maxHeight)}_togglePointerEvents(o){this._pane.style.pointerEvents=o?"":"none"}_attachBackdrop(){const o="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(o)})}):this._backdropElement.classList.add(o)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const o=this._backdropElement;if(o){if(this._animationsDisabled)return void this._disposeBackdrop(o);o.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{o.addEventListener("transitionend",this._backdropTransitionendHandler)}),o.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(o)},500))}}_toggleClasses(o,a,h){const y=ru(a||[]).filter(S=>!!S);y.length&&(h?o.classList.add(...y):o.classList.remove(...y))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const o=this._ngZone.onStable.pipe((0,qu.Q)((0,Zv.h)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),o.unsubscribe())})})}_disposeScrollStrategy(){const o=this._scrollStrategy;o&&(o.disable(),o.detach&&o.detach())}_disposeBackdrop(o){o&&(o.removeEventListener("click",this._backdropClickHandler),o.removeEventListener("transitionend",this._backdropTransitionendHandler),o.remove(),this._backdropElement===o&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const zc="cdk-overlay-connected-position-bounding-box",Rl=/([A-Za-z%]+)$/;class nm{get positions(){return this._preferredPositions}constructor(o,a,h,y,S){this._viewportRuler=a,this._document=h,this._platform=y,this._overlayContainer=S,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Ms.B,this._resizeSubscription=to.yU.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(o)}attach(o){this._validatePositions(),o.hostElement.classList.add(zc),this._overlayRef=o,this._boundingBox=o.hostElement,this._pane=o.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const o=this._originRect,a=this._overlayRect,h=this._viewportRect,y=this._containerRect,S=[];let V;for(let Z of this._preferredPositions){let ie=this._getOriginPoint(o,y,Z),ve=this._getOverlayPoint(ie,a,Z),Fe=this._getOverlayFit(ve,a,h,Z);if(Fe.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(Z,ie);this._canFitWithFlexibleDimensions(Fe,ve,h)?S.push({position:Z,origin:ie,overlayRect:a,boundingBoxRect:this._calculateBoundingBoxRect(ie,Z)}):(!V||V.overlayFit.visibleArea<Fe.visibleArea)&&(V={overlayFit:Fe,overlayPoint:ve,originPoint:ie,position:Z,overlayRect:a})}if(S.length){let Z=null,ie=-1;for(const ve of S){const Fe=ve.boundingBoxRect.width*ve.boundingBoxRect.height*(ve.position.weight||1);Fe>ie&&(ie=Fe,Z=ve)}return this._isPushed=!1,void this._applyPosition(Z.position,Z.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(V.position,V.originPoint);this._applyPosition(V.position,V.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&fd(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(zc),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const o=this._lastPosition;if(o){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const a=this._getOriginPoint(this._originRect,this._containerRect,o);this._applyPosition(o,a)}else this.apply()}withScrollableContainers(o){return this._scrollables=o,this}withPositions(o){return this._preferredPositions=o,-1===o.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(o){return this._viewportMargin=o,this}withFlexibleDimensions(o=!0){return this._hasFlexibleDimensions=o,this}withGrowAfterOpen(o=!0){return this._growAfterOpen=o,this}withPush(o=!0){return this._canPush=o,this}withLockedPosition(o=!0){return this._positionLocked=o,this}setOrigin(o){return this._origin=o,this}withDefaultOffsetX(o){return this._offsetX=o,this}withDefaultOffsetY(o){return this._offsetY=o,this}withTransformOriginOn(o){return this._transformOriginSelector=o,this}_getOriginPoint(o,a,h){let y,S;if("center"==h.originX)y=o.left+o.width/2;else{const V=this._isRtl()?o.right:o.left,Z=this._isRtl()?o.left:o.right;y="start"==h.originX?V:Z}return a.left<0&&(y-=a.left),S="center"==h.originY?o.top+o.height/2:"top"==h.originY?o.top:o.bottom,a.top<0&&(S-=a.top),{x:y,y:S}}_getOverlayPoint(o,a,h){let y,S;return y="center"==h.overlayX?-a.width/2:"start"===h.overlayX?this._isRtl()?-a.width:0:this._isRtl()?0:-a.width,S="center"==h.overlayY?-a.height/2:"top"==h.overlayY?0:-a.height,{x:o.x+y,y:o.y+S}}_getOverlayFit(o,a,h,y){const S=vy(a);let{x:V,y:Z}=o,ie=this._getOffset(y,"x"),ve=this._getOffset(y,"y");ie&&(V+=ie),ve&&(Z+=ve);let Bt=0-Z,jt=Z+S.height-h.height,xt=this._subtractOverflows(S.width,0-V,V+S.width-h.width),Dt=this._subtractOverflows(S.height,Bt,jt),Qt=xt*Dt;return{visibleArea:Qt,isCompletelyWithinViewport:S.width*S.height===Qt,fitsInViewportVertically:Dt===S.height,fitsInViewportHorizontally:xt==S.width}}_canFitWithFlexibleDimensions(o,a,h){if(this._hasFlexibleDimensions){const y=h.bottom-a.y,S=h.right-a.x,V=Gc(this._overlayRef.getConfig().minHeight),Z=Gc(this._overlayRef.getConfig().minWidth);return(o.fitsInViewportVertically||null!=V&&V<=y)&&(o.fitsInViewportHorizontally||null!=Z&&Z<=S)}return!1}_pushOverlayOnScreen(o,a,h){if(this._previousPushAmount&&this._positionLocked)return{x:o.x+this._previousPushAmount.x,y:o.y+this._previousPushAmount.y};const y=vy(a),S=this._viewportRect,V=Math.max(o.x+y.width-S.width,0),Z=Math.max(o.y+y.height-S.height,0),ie=Math.max(S.top-h.top-o.y,0),ve=Math.max(S.left-h.left-o.x,0);let Fe=0,tt=0;return Fe=y.width<=S.width?ve||-V:o.x<this._viewportMargin?S.left-h.left-o.x:0,tt=y.height<=S.height?ie||-Z:o.y<this._viewportMargin?S.top-h.top-o.y:0,this._previousPushAmount={x:Fe,y:tt},{x:o.x+Fe,y:o.y+tt}}_applyPosition(o,a){if(this._setTransformOrigin(o),this._setOverlayElementStyles(a,o),this._setBoundingBoxStyles(a,o),o.panelClass&&this._addPanelClasses(o.panelClass),this._lastPosition=o,this._positionChanges.observers.length){const h=this._getScrollVisibility(),y=new eb(o,h);this._positionChanges.next(y)}this._isInitialRender=!1}_setTransformOrigin(o){if(!this._transformOriginSelector)return;const a=this._boundingBox.querySelectorAll(this._transformOriginSelector);let h,y=o.overlayY;h="center"===o.overlayX?"center":this._isRtl()?"start"===o.overlayX?"right":"left":"start"===o.overlayX?"left":"right";for(let S=0;S<a.length;S++)a[S].style.transformOrigin=`${h} ${y}`}_calculateBoundingBoxRect(o,a){const h=this._viewportRect,y=this._isRtl();let S,V,Z,Fe,tt,Bt;if("top"===a.overlayY)V=o.y,S=h.height-V+this._viewportMargin;else if("bottom"===a.overlayY)Z=h.height-o.y+2*this._viewportMargin,S=h.height-Z+this._viewportMargin;else{const jt=Math.min(h.bottom-o.y+h.top,o.y),xt=this._lastBoundingBoxSize.height;S=2*jt,V=o.y-jt,S>xt&&!this._isInitialRender&&!this._growAfterOpen&&(V=o.y-xt/2)}if("end"===a.overlayX&&!y||"start"===a.overlayX&&y)Bt=h.width-o.x+this._viewportMargin,Fe=o.x-this._viewportMargin;else if("start"===a.overlayX&&!y||"end"===a.overlayX&&y)tt=o.x,Fe=h.right-o.x;else{const jt=Math.min(h.right-o.x+h.left,o.x),xt=this._lastBoundingBoxSize.width;Fe=2*jt,tt=o.x-jt,Fe>xt&&!this._isInitialRender&&!this._growAfterOpen&&(tt=o.x-xt/2)}return{top:V,left:tt,bottom:Z,right:Bt,width:Fe,height:S}}_setBoundingBoxStyles(o,a){const h=this._calculateBoundingBoxRect(o,a);!this._isInitialRender&&!this._growAfterOpen&&(h.height=Math.min(h.height,this._lastBoundingBoxSize.height),h.width=Math.min(h.width,this._lastBoundingBoxSize.width));const y={};if(this._hasExactPosition())y.top=y.left="0",y.bottom=y.right=y.maxHeight=y.maxWidth="",y.width=y.height="100%";else{const S=this._overlayRef.getConfig().maxHeight,V=this._overlayRef.getConfig().maxWidth;y.height=no(h.height),y.top=no(h.top),y.bottom=no(h.bottom),y.width=no(h.width),y.left=no(h.left),y.right=no(h.right),y.alignItems="center"===a.overlayX?"center":"end"===a.overlayX?"flex-end":"flex-start",y.justifyContent="center"===a.overlayY?"center":"bottom"===a.overlayY?"flex-end":"flex-start",S&&(y.maxHeight=no(S)),V&&(y.maxWidth=no(V))}this._lastBoundingBoxSize=h,fd(this._boundingBox.style,y)}_resetBoundingBoxStyles(){fd(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){fd(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(o,a){const h={},y=this._hasExactPosition(),S=this._hasFlexibleDimensions,V=this._overlayRef.getConfig();if(y){const Fe=this._viewportRuler.getViewportScrollPosition();fd(h,this._getExactOverlayY(a,o,Fe)),fd(h,this._getExactOverlayX(a,o,Fe))}else h.position="static";let Z="",ie=this._getOffset(a,"x"),ve=this._getOffset(a,"y");ie&&(Z+=`translateX(${ie}px) `),ve&&(Z+=`translateY(${ve}px)`),h.transform=Z.trim(),V.maxHeight&&(y?h.maxHeight=no(V.maxHeight):S&&(h.maxHeight="")),V.maxWidth&&(y?h.maxWidth=no(V.maxWidth):S&&(h.maxWidth="")),fd(this._pane.style,h)}_getExactOverlayY(o,a,h){let y={top:"",bottom:""},S=this._getOverlayPoint(a,this._overlayRect,o);return this._isPushed&&(S=this._pushOverlayOnScreen(S,this._overlayRect,h)),"bottom"===o.overlayY?y.bottom=this._document.documentElement.clientHeight-(S.y+this._overlayRect.height)+"px":y.top=no(S.y),y}_getExactOverlayX(o,a,h){let V,y={left:"",right:""},S=this._getOverlayPoint(a,this._overlayRect,o);return this._isPushed&&(S=this._pushOverlayOnScreen(S,this._overlayRect,h)),V=this._isRtl()?"end"===o.overlayX?"left":"right":"end"===o.overlayX?"right":"left","right"===V?y.right=this._document.documentElement.clientWidth-(S.x+this._overlayRect.width)+"px":y.left=no(S.x),y}_getScrollVisibility(){const o=this._getOriginRect(),a=this._pane.getBoundingClientRect(),h=this._scrollables.map(y=>y.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:Mf(o,h),isOriginOutsideView:hd(o,h),isOverlayClipped:Mf(a,h),isOverlayOutsideView:hd(a,h)}}_subtractOverflows(o,...a){return a.reduce((h,y)=>h-Math.max(y,0),o)}_getNarrowedViewportRect(){const o=this._document.documentElement.clientWidth,a=this._document.documentElement.clientHeight,h=this._viewportRuler.getViewportScrollPosition();return{top:h.top+this._viewportMargin,left:h.left+this._viewportMargin,right:h.left+o-this._viewportMargin,bottom:h.top+a-this._viewportMargin,width:o-2*this._viewportMargin,height:a-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(o,a){return"x"===a?null==o.offsetX?this._offsetX:o.offsetX:null==o.offsetY?this._offsetY:o.offsetY}_validatePositions(){}_addPanelClasses(o){this._pane&&ru(o).forEach(a=>{""!==a&&-1===this._appliedPanelClasses.indexOf(a)&&(this._appliedPanelClasses.push(a),this._pane.classList.add(a))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(o=>{this._pane.classList.remove(o)}),this._appliedPanelClasses=[])}_getOriginRect(){const o=this._origin;if(o instanceof Y.aKT)return o.nativeElement.getBoundingClientRect();if(o instanceof Element)return o.getBoundingClientRect();const a=o.width||0,h=o.height||0;return{top:o.y,bottom:o.y+h,left:o.x,right:o.x+a,height:h,width:a}}}function fd(f,o){for(let a in o)o.hasOwnProperty(a)&&(f[a]=o[a]);return f}function Gc(f){if("number"!=typeof f&&null!=f){const[o,a]=f.split(Rl);return a&&"px"!==a?null:parseFloat(o)}return f||null}function vy(f){return{top:Math.floor(f.top),right:Math.floor(f.right),bottom:Math.floor(f.bottom),left:Math.floor(f.left),width:Math.floor(f.width),height:Math.floor(f.height)}}const Ng="cdk-global-overlay-wrapper";class tb{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(o){const a=o.getConfig();this._overlayRef=o,this._width&&!a.width&&o.updateSize({width:this._width}),this._height&&!a.height&&o.updateSize({height:this._height}),o.hostElement.classList.add(Ng),this._isDisposed=!1}top(o=""){return this._bottomOffset="",this._topOffset=o,this._alignItems="flex-start",this}left(o=""){return this._xOffset=o,this._xPosition="left",this}bottom(o=""){return this._topOffset="",this._bottomOffset=o,this._alignItems="flex-end",this}right(o=""){return this._xOffset=o,this._xPosition="right",this}start(o=""){return this._xOffset=o,this._xPosition="start",this}end(o=""){return this._xOffset=o,this._xPosition="end",this}width(o=""){return this._overlayRef?this._overlayRef.updateSize({width:o}):this._width=o,this}height(o=""){return this._overlayRef?this._overlayRef.updateSize({height:o}):this._height=o,this}centerHorizontally(o=""){return this.left(o),this._xPosition="center",this}centerVertically(o=""){return this.top(o),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const o=this._overlayRef.overlayElement.style,a=this._overlayRef.hostElement.style,h=this._overlayRef.getConfig(),{width:y,height:S,maxWidth:V,maxHeight:Z}=h,ie=!("100%"!==y&&"100vw"!==y||V&&"100%"!==V&&"100vw"!==V),ve=!("100%"!==S&&"100vh"!==S||Z&&"100%"!==Z&&"100vh"!==Z),Fe=this._xPosition,tt=this._xOffset,Bt="rtl"===this._overlayRef.getConfig().direction;let jt="",xt="",Dt="";ie?Dt="flex-start":"center"===Fe?(Dt="center",Bt?xt=tt:jt=tt):Bt?"left"===Fe||"end"===Fe?(Dt="flex-end",jt=tt):("right"===Fe||"start"===Fe)&&(Dt="flex-start",xt=tt):"left"===Fe||"start"===Fe?(Dt="flex-start",jt=tt):("right"===Fe||"end"===Fe)&&(Dt="flex-end",xt=tt),o.position=this._cssPosition,o.marginLeft=ie?"0":jt,o.marginTop=ve?"0":this._topOffset,o.marginBottom=this._bottomOffset,o.marginRight=ie?"0":xt,a.justifyContent=Dt,a.alignItems=ve?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const o=this._overlayRef.overlayElement.style,a=this._overlayRef.hostElement,h=a.style;a.classList.remove(Ng),h.justifyContent=h.alignItems=o.marginTop=o.marginBottom=o.marginLeft=o.marginRight=o.position="",this._overlayRef=null,this._isDisposed=!0}}let yE=(()=>{class f{constructor(a,h,y,S){this._viewportRuler=a,this._document=h,this._platform=y,this._overlayContainer=S}global(){return new tb}flexibleConnectedTo(a){return new nm(a,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static{this.\u0275fac=function(h){return new(h||f)(Y.KVO(Dg),Y.KVO(mt.qQ),Y.KVO(B),Y.KVO(Sl))}}static{this.\u0275prov=Y.jDH({token:f,factory:f.\u0275fac,providedIn:"root"})}}return f})(),jo=0,Fg=(()=>{class f{constructor(a,h,y,S,V,Z,ie,ve,Fe,tt,Bt,jt){this.scrollStrategies=a,this._overlayContainer=h,this._componentFactoryResolver=y,this._positionBuilder=S,this._keyboardDispatcher=V,this._injector=Z,this._ngZone=ie,this._document=ve,this._directionality=Fe,this._location=tt,this._outsideClickDispatcher=Bt,this._animationsModuleType=jt}create(a){const h=this._createHostElement(),y=this._createPaneElement(h),S=this._createPortalOutlet(y),V=new Jp(a);return V.direction=V.direction||this._directionality.value,new tm(S,h,y,V,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(a){const h=this._document.createElement("div");return h.id="cdk-overlay-"+jo++,h.classList.add("cdk-overlay-pane"),a.appendChild(h),h}_createHostElement(){const a=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(a),a}_createPortalOutlet(a){return this._appRef||(this._appRef=this._injector.get(Y.o8S)),new ah(a,this._componentFactoryResolver,this._appRef,this._injector,this._document)}static{this.\u0275fac=function(h){return new(h||f)(Y.KVO(Og),Y.KVO(Sl),Y.KVO(Y.OM3),Y.KVO(yE),Y.KVO(yy),Y.KVO(Y.zZn),Y.KVO(Y.SKi),Y.KVO(mt.qQ),Y.KVO(ed),Y.KVO(mt.aZ),Y.KVO(ns),Y.KVO(Y.bc$,8))}}static{this.\u0275prov=Y.jDH({token:f,factory:f.\u0275fac,providedIn:"root"})}}return f})();const Iy={provide:new Y.nKC("cdk-connected-overlay-scroll-strategy"),deps:[Fg],useFactory:function Pf(f){return()=>f.scrollStrategies.reposition()}};let wy=(()=>{class f{static{this.\u0275fac=function(h){return new(h||f)}}static{this.\u0275mod=Y.$C({type:f})}static{this.\u0275inj=Y.G2t({providers:[Fg,Iy],imports:[xa,Zr,hh,hh]})}}return f})(),Dy=(()=>{class f{static{this.\u0275fac=function(h){return new(h||f)}}static{this.\u0275mod=Y.$C({type:f})}static{this.\u0275inj=Y.G2t({imports:[wy,Zr,mt.MD,bf,jc,jc]})}}return f})();var im=q(7440),Bg=q(2418),kf=q(5407),ub=q(4665),Ry=q(2214),Ug=q(467),md=q(7852),Nf=q(1076),IE=q(1362);const Ff="firebasestorage.googleapis.com";class Ki extends Nf.g{constructor(o,a,h=0){super(_u(o),`Firebase Storage: ${a} (${_u(o)})`),this.status_=h,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ki.prototype)}get status(){return this.status_}set status(o){this.status_=o}_codeEquals(o){return _u(o)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(o){this.customData.serverResponse=o,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var hn=function(f){return f.UNKNOWN="unknown",f.OBJECT_NOT_FOUND="object-not-found",f.BUCKET_NOT_FOUND="bucket-not-found",f.PROJECT_NOT_FOUND="project-not-found",f.QUOTA_EXCEEDED="quota-exceeded",f.UNAUTHENTICATED="unauthenticated",f.UNAUTHORIZED="unauthorized",f.UNAUTHORIZED_APP="unauthorized-app",f.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",f.INVALID_CHECKSUM="invalid-checksum",f.CANCELED="canceled",f.INVALID_EVENT_NAME="invalid-event-name",f.INVALID_URL="invalid-url",f.INVALID_DEFAULT_BUCKET="invalid-default-bucket",f.NO_DEFAULT_BUCKET="no-default-bucket",f.CANNOT_SLICE_BLOB="cannot-slice-blob",f.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",f.NO_DOWNLOAD_URL="no-download-url",f.INVALID_ARGUMENT="invalid-argument",f.INVALID_ARGUMENT_COUNT="invalid-argument-count",f.APP_DELETED="app-deleted",f.INVALID_ROOT_OPERATION="invalid-root-operation",f.INVALID_FORMAT="invalid-format",f.INTERNAL_ERROR="internal-error",f.UNSUPPORTED_ENVIRONMENT="unsupported-environment",f}(hn||{});function _u(f){return"storage/"+f}function _h(f){return new Ki(hn.INVALID_ARGUMENT,f)}function Hg(){return new Ki(hn.APP_DELETED,"The Firebase app was deleted.")}class Gs{constructor(o,a){this.bucket=o,this.path_=a}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const o=encodeURIComponent;return"/b/"+o(this.bucket)+"/o/"+o(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(o,a){let h;try{h=Gs.makeFromUrl(o,a)}catch{return new Gs(o,"")}if(""===h.path)return h;throw function jf(f){return new Ki(hn.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+f+"'.")}(o)}static makeFromUrl(o,a){let h=null;const y="([A-Za-z0-9.\\-_]+)",Z=new RegExp("^gs://"+y+"(/(.*))?$","i");function ve(qn){qn.path_=decodeURIComponent(qn.path)}const tt=a.replace(/[.]/g,"\\."),$n=[{regex:Z,indices:{bucket:1,path:3},postModify:function S(qn){"/"===qn.path.charAt(qn.path.length-1)&&(qn.path_=qn.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${tt}/v[A-Za-z0-9_]+/b/${y}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:ve},{regex:new RegExp(`^https?://${a===Ff?"(?:storage.googleapis.com|storage.cloud.google.com)":a}/${y}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:ve}];for(let qn=0;qn<$n.length;qn++){const lo=$n[qn],uo=lo.regex.exec(o);if(uo){let ro=uo[lo.indices.path];ro||(ro=""),h=new Gs(uo[lo.indices.bucket],ro),lo.postModify(h);break}}if(null==h)throw function am(f){return new Ki(hn.INVALID_URL,"Invalid URL '"+f+"'.")}(o);return h}}class My{constructor(o){this.promise_=Promise.reject(o)}getPromise(){return this.promise_}cancel(o=!1){}}function vh(f,o,a,h){if(h<o)throw _h(`Invalid value for '${f}'. Expected ${o} or greater.`);if(h>a)throw _h(`Invalid value for '${f}'. Expected ${a} or less.`)}var _d=function(f){return f[f.NO_ERROR=0]="NO_ERROR",f[f.NETWORK_ERROR=1]="NETWORK_ERROR",f[f.ABORT=2]="ABORT",f}(_d||{});class Oy{constructor(o,a,h,y,S,V,Z,ie,ve,Fe,tt,Bt=!0){this.url_=o,this.method_=a,this.headers_=h,this.body_=y,this.successCodes_=S,this.additionalRetryCodes_=V,this.callback_=Z,this.errorCallback_=ie,this.timeout_=ve,this.progressCallback_=Fe,this.connectionFactory_=tt,this.retry=Bt,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((jt,xt)=>{this.resolve_=jt,this.reject_=xt,this.start_()})}start_(){const a=(h,y)=>{const S=this.resolve_,V=this.reject_,Z=y.connection;if(y.wasSuccessCode)try{const ie=this.callback_(Z,Z.getResponse());!function Hf(f){return void 0!==f}(ie)?S():S(ie)}catch(ie){V(ie)}else if(null!==Z){const ie=function Vf(){return new Ki(hn.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}();ie.serverResponse=Z.getErrorText(),V(this.errorCallback_?this.errorCallback_(Z,ie):ie)}else V(y.canceled?this.appDelete_?Hg():function gh(){return new Ki(hn.CANCELED,"User canceled the upload/download.")}():function Uf(){return new Ki(hn.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}())};this.canceled_?a(0,new hm(!1,null,!0)):this.backoffId_=function zg(f,o,a){let h=1,y=null,S=null,V=!1,Z=0;function ie(){return 2===Z}let ve=!1;function Fe(...Qt){ve||(ve=!0,o.apply(null,Qt))}function tt(Qt){y=setTimeout(()=>{y=null,f(jt,ie())},Qt)}function Bt(){S&&clearTimeout(S)}function jt(Qt,...ar){if(ve)return void Bt();if(Qt)return Bt(),void Fe.call(null,Qt,...ar);if(ie()||V)return Bt(),void Fe.call(null,Qt,...ar);let $n;h<64&&(h*=2),1===Z?(Z=2,$n=0):$n=1e3*(h+Math.random()),tt($n)}let xt=!1;function Dt(Qt){xt||(xt=!0,Bt(),!ve&&(null!==y?(Qt||(Z=2),clearTimeout(y),tt(0)):Qt||(Z=1)))}return tt(0),S=setTimeout(()=>{V=!0,Dt(!0)},a),Dt}((h,y)=>{if(y)return void h(!1,new hm(!1,null,!0));const S=this.connectionFactory_();this.pendingConnection_=S;const V=Z=>{null!==this.progressCallback_&&this.progressCallback_(Z.loaded,Z.lengthComputable?Z.total:-1)};null!==this.progressCallback_&&S.addUploadProgressListener(V),S.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&S.removeUploadProgressListener(V),this.pendingConnection_=null;const Z=S.getErrorCode()===_d.NO_ERROR,ie=S.getStatus();if(!Z||function qg(f,o){const a=f>=500&&f<600,y=-1!==[408,429].indexOf(f),S=-1!==o.indexOf(f);return a||y||S}(ie,this.additionalRetryCodes_)&&this.retry){const Fe=S.getErrorCode()===_d.ABORT;return void h(!1,new hm(!1,null,Fe))}const ve=-1!==this.successCodes_.indexOf(ie);h(!0,new hm(ve,S))})},a,this.timeout_)}getPromise(){return this.promise_}cancel(o){this.canceled_=!0,this.appDelete_=o||!1,null!==this.backoffId_&&function Py(f){f(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class hm{constructor(o,a,h){this.wasSuccessCode=o,this.connection=a,this.canceled=!!h}}class Xc{constructor(o,a){this._service=o,this._location=a instanceof Gs?a:Gs.makeFromUrl(a,o.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(o,a){return new Xc(o,a)}get root(){const o=new Gs(this._location.bucket,"");return this._newRef(this._service,o)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return function Vy(f){const o=f.lastIndexOf("/",f.length-2);return-1===o?f:f.slice(o+1)}(this._location.path)}get storage(){return this._service}get parent(){const o=function Jg(f){if(0===f.length)return null;const o=f.lastIndexOf("/");return-1===o?"":f.slice(0,o)}(this._location.path);if(null===o)return null;const a=new Gs(this._location.bucket,o);return new Xc(this._service,a)}_throwIfRoot(o){if(""===this._location.path)throw function um(f){return new Ki(hn.INVALID_ROOT_OPERATION,"The operation '"+f+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(o)}}function vt(f,o){const a=o?.storageBucket;return null==a?null:Gs.makeFromBucketSpec(a,f)}class In{constructor(o,a,h,y,S){this.app=o,this._authProvider=a,this._appCheckProvider=h,this._url=y,this._firebaseVersion=S,this._bucket=null,this._host=Ff,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=y?Gs.makeFromBucketSpec(y,this._host):vt(this._host,this.app.options)}get host(){return this._host}set host(o){this._host=o,this._bucket=null!=this._url?Gs.makeFromBucketSpec(this._url,o):vt(o,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(o){vh("time",0,Number.POSITIVE_INFINITY,o),this._maxUploadRetryTime=o}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(o){vh("time",0,Number.POSITIVE_INFINITY,o),this._maxOperationRetryTime=o}_getAuthToken(){var o=this;return(0,Ug.A)(function*(){if(o._overrideAuthToken)return o._overrideAuthToken;const a=o._authProvider.getImmediate({optional:!0});if(a){const h=yield a.getToken();if(null!==h)return h.accessToken}return null})()}_getAppCheckToken(){var o=this;return(0,Ug.A)(function*(){const a=o._appCheckProvider.getImmediate({optional:!0});return a?(yield a.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(o=>o.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(o){return new Xc(this,o)}_makeRequest(o,a,h,y,S=!0){if(this._deleted)return new My(Hg());{const V=function pb(f,o,a,h,y,S,V=!0){const Z=function Kg(f){const o=encodeURIComponent;let a="?";for(const h in f)f.hasOwnProperty(h)&&(a=a+(o(h)+"=")+o(f[h])+"&");return a=a.slice(0,-1),a}(f.urlParams),ie=f.url+Z,ve=Object.assign({},f.headers);return function ky(f,o){o&&(f["X-Firebase-GMPID"]=o)}(ve,o),function hb(f,o){null!==o&&o.length>0&&(f.Authorization="Firebase "+o)}(ve,a),function Qg(f,o){f["X-Firebase-Storage-Version"]="webjs/"+(o??"AppManager")}(ve,S),function fb(f,o){null!==o&&(f["X-Firebase-AppCheck"]=o)}(ve,h),new Oy(ie,f.method,ve,f.body,f.successCodes,f.additionalRetryCodes,f.handler,f.errorHandler,f.timeout,f.progressCallback,y,V)}(o,this._appId,h,y,a,this._firebaseVersion,S);return this._requests.add(V),V.getPromise().then(()=>this._requests.delete(V),()=>this._requests.delete(V)),V}}makeRequestWithTokens(o,a){var h=this;return(0,Ug.A)(function*(){const[y,S]=yield Promise.all([h._getAuthToken(),h._getAppCheckToken()]);return h._makeRequest(o,a,y,S).getPromise()})()}}const gn="@firebase/storage",Mr="storage";function Ih(f=(0,md.Sx)(),o){f=(0,Nf.Ku)(f);const h=(0,md.j6)(f,Mr).getImmediate({identifier:o}),y=(0,Nf.yU)("storage");return y&&function o_(f,o,a,h={}){!function fn(f,o,a,h={}){f.host=`${o}:${a}`,f._protocol="http";const{mockUserToken:y}=h;y&&(f._overrideAuthToken="string"==typeof y?y:(0,Nf.Fy)(y,f.app.options.projectId))}(f,o,a,h)}(h,...y),h}function Ol(f,{instanceIdentifier:o}){const a=f.getProvider("app").getImmediate(),h=f.getProvider("auth-internal"),y=f.getProvider("app-check-internal");return new In(a,h,y,o,md.MF)}!function $o(){(0,md.om)(new IE.uA(Mr,Ol,"PUBLIC").setMultipleInstances(!0)),(0,md.KO)(gn,"0.13.2",""),(0,md.KO)(gn,"0.13.2","esm2017")}();class bu{constructor(o){return o}}const kl="storage",Eu=new Y.nKC("angularfire2.storage-instances");function Jf(f){return(o,a)=>{const h=o.runOutsideAngular(()=>f(a));return new bu(h)}}const Nl={provide:class Zf{constructor(){return(0,kf.CA)(kl)}},deps:[[new Y.Xx1,Eu]]},Em={provide:bu,useFactory:function s_(f,o){const a=(0,kf.lR)(kl,f,o);return a&&new bu(a)},deps:[[new Y.Xx1,Eu],im.XU]};let Im=(()=>{class f{constructor(){(0,Ry.KO)("angularfire",kf.xv.full,"gcs")}static \u0275fac=function(h){return new(h||f)};static \u0275mod=Y.$C({type:f});static \u0275inj=Y.G2t({providers:[Em,Nl]})}return f})();function wm(f,...o){return{ngModule:Im,providers:[{provide:Eu,useFactory:Jf(f),multi:!0,deps:[Y.SKi,Y.zZn,kf.u0,im.gL,[new Y.Xx1,ub.DF],[new Y.Xx1,kf.Jv],...o]}]}}const tv=(0,kf.S3)(Ih,!0);let iv=(()=>{class f{static{this.\u0275fac=function(h){return new(h||f)}}static{this.\u0275mod=Y.$C({type:f,bootstrap:[Re]})}static{this.\u0275inj=Y.G2t({imports:[I.Bb,le,Rn,$e.iI,Ee.YN,Ee.X1,Dy,al,(0,im.MW)(()=>(0,im.Wp)(ot_firebase)),(0,Bg.hV)(()=>(0,Bg.aU)()),wm(()=>tv())]})}}return f})();I.sG().bootstrapModule(iv).catch(f=>console.error(f))},4412:(on,Ze,q)=>{q.d(Ze,{t:()=>Ee});var I=q(1413);class Ee extends I.B{constructor(Y){super(),this._value=Y}get value(){return this.getValue()}_subscribe(Y){const de=super._subscribe(Y);return!de.closed&&Y.next(this._value),de}getValue(){const{hasError:Y,thrownError:de,_value:le}=this;if(Y)throw de;return this._throwIfClosed(),le}next(Y){super.next(this._value=Y)}}},1985:(on,Ze,q)=>{q.d(Ze,{c:()=>ot});var I=q(7707),Ee=q(8359),$e=q(3494),Y=q(1203),de=q(1026),le=q(8071),Re=q(9786);let ot=(()=>{class ze{constructor(nt){nt&&(this._subscribe=nt)}lift(nt){const Tt=new ze;return Tt.source=this,Tt.operator=nt,Tt}subscribe(nt,Tt,sn){const mt=function Ie(ze){return ze&&ze instanceof I.vU||function pe(ze){return ze&&(0,le.T)(ze.next)&&(0,le.T)(ze.error)&&(0,le.T)(ze.complete)}(ze)&&(0,Ee.Uv)(ze)}(nt)?nt:new I.Ms(nt,Tt,sn);return(0,Re.Y)(()=>{const{operator:Xt,source:tn}=this;mt.add(Xt?Xt.call(mt,tn):tn?this._subscribe(mt):this._trySubscribe(mt))}),mt}_trySubscribe(nt){try{return this._subscribe(nt)}catch(Tt){nt.error(Tt)}}forEach(nt,Tt){return new(Tt=Ue(Tt))((sn,mt)=>{const Xt=new I.Ms({next:tn=>{try{nt(tn)}catch(Tn){mt(Tn),Xt.unsubscribe()}},error:mt,complete:sn});this.subscribe(Xt)})}_subscribe(nt){var Tt;return null===(Tt=this.source)||void 0===Tt?void 0:Tt.subscribe(nt)}[$e.s](){return this}pipe(...nt){return(0,Y.m)(nt)(this)}toPromise(nt){return new(nt=Ue(nt))((Tt,sn)=>{let mt;this.subscribe(Xt=>mt=Xt,Xt=>sn(Xt),()=>Tt(mt))})}}return ze.create=gt=>new ze(gt),ze})();function Ue(ze){var gt;return null!==(gt=ze??de.$.Promise)&&void 0!==gt?gt:Promise}},1413:(on,Ze,q)=>{q.d(Ze,{B:()=>Re});var I=q(1985),Ee=q(8359);const Y=(0,q(1853).L)(Ue=>function(){Ue(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var de=q(7908),le=q(9786);let Re=(()=>{class Ue extends I.c{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(Ie){const ze=new ot(this,this);return ze.operator=Ie,ze}_throwIfClosed(){if(this.closed)throw new Y}next(Ie){(0,le.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const ze of this.currentObservers)ze.next(Ie)}})}error(Ie){(0,le.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=Ie;const{observers:ze}=this;for(;ze.length;)ze.shift().error(Ie)}})}complete(){(0,le.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:Ie}=this;for(;Ie.length;)Ie.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var Ie;return(null===(Ie=this.observers)||void 0===Ie?void 0:Ie.length)>0}_trySubscribe(Ie){return this._throwIfClosed(),super._trySubscribe(Ie)}_subscribe(Ie){return this._throwIfClosed(),this._checkFinalizedStatuses(Ie),this._innerSubscribe(Ie)}_innerSubscribe(Ie){const{hasError:ze,isStopped:gt,observers:nt}=this;return ze||gt?Ee.Kn:(this.currentObservers=null,nt.push(Ie),new Ee.yU(()=>{this.currentObservers=null,(0,de.o)(nt,Ie)}))}_checkFinalizedStatuses(Ie){const{hasError:ze,thrownError:gt,isStopped:nt}=this;ze?Ie.error(gt):nt&&Ie.complete()}asObservable(){const Ie=new I.c;return Ie.source=this,Ie}}return Ue.create=(pe,Ie)=>new ot(pe,Ie),Ue})();class ot extends Re{constructor(pe,Ie){super(),this.destination=pe,this.source=Ie}next(pe){var Ie,ze;null===(ze=null===(Ie=this.destination)||void 0===Ie?void 0:Ie.next)||void 0===ze||ze.call(Ie,pe)}error(pe){var Ie,ze;null===(ze=null===(Ie=this.destination)||void 0===Ie?void 0:Ie.error)||void 0===ze||ze.call(Ie,pe)}complete(){var pe,Ie;null===(Ie=null===(pe=this.destination)||void 0===pe?void 0:pe.complete)||void 0===Ie||Ie.call(pe)}_subscribe(pe){var Ie,ze;return null!==(ze=null===(Ie=this.source)||void 0===Ie?void 0:Ie.subscribe(pe))&&void 0!==ze?ze:Ee.Kn}}},7707:(on,Ze,q)=>{q.d(Ze,{Ms:()=>sn,vU:()=>ze});var I=q(8071),Ee=q(8359),$e=q(1026),Y=q(5334),de=q(5343);const le=Ue("C",void 0,void 0);function Ue(yt,ut,He){return{kind:yt,value:ut,error:He}}var pe=q(9270),Ie=q(9786);class ze extends Ee.yU{constructor(ut){super(),this.isStopped=!1,ut?(this.destination=ut,(0,Ee.Uv)(ut)&&ut.add(this)):this.destination=Tn}static create(ut,He,lt){return new sn(ut,He,lt)}next(ut){this.isStopped?tn(function ot(yt){return Ue("N",yt,void 0)}(ut),this):this._next(ut)}error(ut){this.isStopped?tn(function Re(yt){return Ue("E",void 0,yt)}(ut),this):(this.isStopped=!0,this._error(ut))}complete(){this.isStopped?tn(le,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(ut){this.destination.next(ut)}_error(ut){try{this.destination.error(ut)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const gt=Function.prototype.bind;function nt(yt,ut){return gt.call(yt,ut)}class Tt{constructor(ut){this.partialObserver=ut}next(ut){const{partialObserver:He}=this;if(He.next)try{He.next(ut)}catch(lt){mt(lt)}}error(ut){const{partialObserver:He}=this;if(He.error)try{He.error(ut)}catch(lt){mt(lt)}else mt(ut)}complete(){const{partialObserver:ut}=this;if(ut.complete)try{ut.complete()}catch(He){mt(He)}}}class sn extends ze{constructor(ut,He,lt){let Mt;if(super(),(0,I.T)(ut)||!ut)Mt={next:ut??void 0,error:He??void 0,complete:lt??void 0};else{let Rt;this&&$e.$.useDeprecatedNextContext?(Rt=Object.create(ut),Rt.unsubscribe=()=>this.unsubscribe(),Mt={next:ut.next&&nt(ut.next,Rt),error:ut.error&&nt(ut.error,Rt),complete:ut.complete&&nt(ut.complete,Rt)}):Mt=ut}this.destination=new Tt(Mt)}}function mt(yt){$e.$.useDeprecatedSynchronousErrorHandling?(0,Ie.l)(yt):(0,Y.m)(yt)}function tn(yt,ut){const{onStoppedNotification:He}=$e.$;He&&pe.f.setTimeout(()=>He(yt,ut))}const Tn={closed:!0,next:de.l,error:function Xt(yt){throw yt},complete:de.l}},8359:(on,Ze,q)=>{q.d(Ze,{Kn:()=>le,yU:()=>de,Uv:()=>Re});var I=q(8071);const $e=(0,q(1853).L)(Ue=>function(Ie){Ue(this),this.message=Ie?`${Ie.length} errors occurred during unsubscription:\n${Ie.map((ze,gt)=>`${gt+1}) ${ze.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=Ie});var Y=q(7908);class de{constructor(pe){this.initialTeardown=pe,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let pe;if(!this.closed){this.closed=!0;const{_parentage:Ie}=this;if(Ie)if(this._parentage=null,Array.isArray(Ie))for(const nt of Ie)nt.remove(this);else Ie.remove(this);const{initialTeardown:ze}=this;if((0,I.T)(ze))try{ze()}catch(nt){pe=nt instanceof $e?nt.errors:[nt]}const{_finalizers:gt}=this;if(gt){this._finalizers=null;for(const nt of gt)try{ot(nt)}catch(Tt){pe=pe??[],Tt instanceof $e?pe=[...pe,...Tt.errors]:pe.push(Tt)}}if(pe)throw new $e(pe)}}add(pe){var Ie;if(pe&&pe!==this)if(this.closed)ot(pe);else{if(pe instanceof de){if(pe.closed||pe._hasParent(this))return;pe._addParent(this)}(this._finalizers=null!==(Ie=this._finalizers)&&void 0!==Ie?Ie:[]).push(pe)}}_hasParent(pe){const{_parentage:Ie}=this;return Ie===pe||Array.isArray(Ie)&&Ie.includes(pe)}_addParent(pe){const{_parentage:Ie}=this;this._parentage=Array.isArray(Ie)?(Ie.push(pe),Ie):Ie?[Ie,pe]:pe}_removeParent(pe){const{_parentage:Ie}=this;Ie===pe?this._parentage=null:Array.isArray(Ie)&&(0,Y.o)(Ie,pe)}remove(pe){const{_finalizers:Ie}=this;Ie&&(0,Y.o)(Ie,pe),pe instanceof de&&pe._removeParent(this)}}de.EMPTY=(()=>{const Ue=new de;return Ue.closed=!0,Ue})();const le=de.EMPTY;function Re(Ue){return Ue instanceof de||Ue&&"closed"in Ue&&(0,I.T)(Ue.remove)&&(0,I.T)(Ue.add)&&(0,I.T)(Ue.unsubscribe)}function ot(Ue){(0,I.T)(Ue)?Ue():Ue.unsubscribe()}},1026:(on,Ze,q)=>{q.d(Ze,{$:()=>I});const I={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},4572:(on,Ze,q)=>{q.d(Ze,{z:()=>pe});var I=q(1985),Ee=q(3073),$e=q(8455),Y=q(3669),de=q(6450),le=q(9326),Re=q(8496),ot=q(4360),Ue=q(5225);function pe(...gt){const nt=(0,le.lI)(gt),Tt=(0,le.ms)(gt),{args:sn,keys:mt}=(0,Ee.D)(gt);if(0===sn.length)return(0,$e.H)([],nt);const Xt=new I.c(function Ie(gt,nt,Tt=Y.D){return sn=>{ze(nt,()=>{const{length:mt}=gt,Xt=new Array(mt);let tn=mt,Tn=mt;for(let yt=0;yt<mt;yt++)ze(nt,()=>{const ut=(0,$e.H)(gt[yt],nt);let He=!1;ut.subscribe((0,ot._)(sn,lt=>{Xt[yt]=lt,He||(He=!0,Tn--),Tn||sn.next(Tt(Xt.slice()))},()=>{--tn||sn.complete()}))},sn)},sn)}}(sn,nt,mt?tn=>(0,Re.e)(mt,tn):Y.D));return Tt?Xt.pipe((0,de.I)(Tt)):Xt}function ze(gt,nt,Tt){gt?(0,Ue.N)(Tt,gt,nt):nt()}},8793:(on,Ze,q)=>{q.d(Ze,{x:()=>de});var I=q(6365),$e=q(9326),Y=q(8455);function de(...le){return function Ee(){return(0,I.U)(1)}()((0,Y.H)(le,(0,$e.lI)(le)))}},983:(on,Ze,q)=>{q.d(Ze,{w:()=>Ee});const Ee=new(q(1985).c)(de=>de.complete())},8455:(on,Ze,q)=>{q.d(Ze,{H:()=>ut});var I=q(8750),Ee=q(941),$e=q(6745),le=q(1985),ot=q(4761),Ue=q(8071),pe=q(5225);function ze(He,lt){if(!He)throw new Error("Iterable cannot be null");return new le.c(Mt=>{(0,pe.N)(Mt,lt,()=>{const Rt=He[Symbol.asyncIterator]();(0,pe.N)(Mt,lt,()=>{Rt.next().then(cn=>{cn.done?Mt.complete():Mt.next(cn.value)})},0,!0)})})}var gt=q(5055),nt=q(9858),Tt=q(7441),sn=q(5397),mt=q(7953),Xt=q(591),tn=q(5196);function ut(He,lt){return lt?function yt(He,lt){if(null!=He){if((0,gt.l)(He))return function Y(He,lt){return(0,I.Tg)(He).pipe((0,$e._)(lt),(0,Ee.Q)(lt))}(He,lt);if((0,Tt.X)(He))return function Re(He,lt){return new le.c(Mt=>{let Rt=0;return lt.schedule(function(){Rt===He.length?Mt.complete():(Mt.next(He[Rt++]),Mt.closed||this.schedule())})})}(He,lt);if((0,nt.y)(He))return function de(He,lt){return(0,I.Tg)(He).pipe((0,$e._)(lt),(0,Ee.Q)(lt))}(He,lt);if((0,mt.T)(He))return ze(He,lt);if((0,sn.x)(He))return function Ie(He,lt){return new le.c(Mt=>{let Rt;return(0,pe.N)(Mt,lt,()=>{Rt=He[ot.l](),(0,pe.N)(Mt,lt,()=>{let cn,et;try{({value:cn,done:et}=Rt.next())}catch(zn){return void Mt.error(zn)}et?Mt.complete():Mt.next(cn)},0,!0)}),()=>(0,Ue.T)(Rt?.return)&&Rt.return()})}(He,lt);if((0,tn.U)(He))return function Tn(He,lt){return ze((0,tn.C)(He),lt)}(He,lt)}throw(0,Xt.L)(He)}(He,lt):(0,I.Tg)(He)}},8750:(on,Ze,q)=>{q.d(Ze,{Tg:()=>gt});var I=q(1635),Ee=q(7441),$e=q(9858),Y=q(1985),de=q(5055),le=q(7953),Re=q(591),ot=q(5397),Ue=q(5196),pe=q(8071),Ie=q(5334),ze=q(3494);function gt(yt){if(yt instanceof Y.c)return yt;if(null!=yt){if((0,de.l)(yt))return function nt(yt){return new Y.c(ut=>{const He=yt[ze.s]();if((0,pe.T)(He.subscribe))return He.subscribe(ut);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(yt);if((0,Ee.X)(yt))return function Tt(yt){return new Y.c(ut=>{for(let He=0;He<yt.length&&!ut.closed;He++)ut.next(yt[He]);ut.complete()})}(yt);if((0,$e.y)(yt))return function sn(yt){return new Y.c(ut=>{yt.then(He=>{ut.closed||(ut.next(He),ut.complete())},He=>ut.error(He)).then(null,Ie.m)})}(yt);if((0,le.T)(yt))return Xt(yt);if((0,ot.x)(yt))return function mt(yt){return new Y.c(ut=>{for(const He of yt)if(ut.next(He),ut.closed)return;ut.complete()})}(yt);if((0,Ue.U)(yt))return function tn(yt){return Xt((0,Ue.C)(yt))}(yt)}throw(0,Re.L)(yt)}function Xt(yt){return new Y.c(ut=>{(function Tn(yt,ut){var He,lt,Mt,Rt;return(0,I.sH)(this,void 0,void 0,function*(){try{for(He=(0,I.xN)(yt);!(lt=yield He.next()).done;)if(ut.next(lt.value),ut.closed)return}catch(cn){Mt={error:cn}}finally{try{lt&&!lt.done&&(Rt=He.return)&&(yield Rt.call(He))}finally{if(Mt)throw Mt.error}}ut.complete()})})(yt,ut).catch(He=>ut.error(He))})}},7786:(on,Ze,q)=>{q.d(Ze,{h:()=>le});var I=q(6365),Ee=q(8750),$e=q(983),Y=q(9326),de=q(8455);function le(...Re){const ot=(0,Y.lI)(Re),Ue=(0,Y.R0)(Re,1/0),pe=Re;return pe.length?1===pe.length?(0,Ee.Tg)(pe[0]):(0,I.U)(Ue)((0,de.H)(pe,ot)):$e.w}},7673:(on,Ze,q)=>{q.d(Ze,{of:()=>$e});var I=q(9326),Ee=q(8455);function $e(...Y){const de=(0,I.lI)(Y);return(0,Ee.H)(Y,de)}},4360:(on,Ze,q)=>{q.d(Ze,{_:()=>Ee});var I=q(7707);function Ee(Y,de,le,Re,ot){return new $e(Y,de,le,Re,ot)}class $e extends I.vU{constructor(de,le,Re,ot,Ue,pe){super(de),this.onFinalize=Ue,this.shouldUnsubscribe=pe,this._next=le?function(Ie){try{le(Ie)}catch(ze){de.error(ze)}}:super._next,this._error=ot?function(Ie){try{ot(Ie)}catch(ze){de.error(ze)}finally{this.unsubscribe()}}:super._error,this._complete=Re?function(){try{Re()}catch(Ie){de.error(Ie)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var de;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:le}=this;super.unsubscribe(),!le&&(null===(de=this.onFinalize)||void 0===de||de.call(this))}}}},274:(on,Ze,q)=>{q.d(Ze,{H:()=>$e});var I=q(1397),Ee=q(8071);function $e(Y,de){return(0,Ee.T)(de)?(0,I.Z)(Y,de,1):(0,I.Z)(Y,1)}},152:(on,Ze,q)=>{q.d(Ze,{B:()=>Y});var I=q(3236),Ee=q(9974),$e=q(4360);function Y(de,le=I.E){return(0,Ee.N)((Re,ot)=>{let Ue=null,pe=null,Ie=null;const ze=()=>{if(Ue){Ue.unsubscribe(),Ue=null;const nt=pe;pe=null,ot.next(nt)}};function gt(){const nt=Ie+de,Tt=le.now();if(Tt<nt)return Ue=this.schedule(void 0,nt-Tt),void ot.add(Ue);ze()}Re.subscribe((0,$e._)(ot,nt=>{pe=nt,Ie=le.now(),Ue||(Ue=le.schedule(gt,de),ot.add(Ue))},()=>{ze(),ot.complete()},void 0,()=>{pe=Ue=null}))})}},5964:(on,Ze,q)=>{q.d(Ze,{p:()=>$e});var I=q(9974),Ee=q(4360);function $e(Y,de){return(0,I.N)((le,Re)=>{let ot=0;le.subscribe((0,Ee._)(Re,Ue=>Y.call(de,Ue,ot++)&&Re.next(Ue)))})}},980:(on,Ze,q)=>{q.d(Ze,{j:()=>Ee});var I=q(9974);function Ee($e){return(0,I.N)((Y,de)=>{try{Y.subscribe(de)}finally{de.add($e)}})}},6354:(on,Ze,q)=>{q.d(Ze,{T:()=>$e});var I=q(9974),Ee=q(4360);function $e(Y,de){return(0,I.N)((le,Re)=>{let ot=0;le.subscribe((0,Ee._)(Re,Ue=>{Re.next(Y.call(de,Ue,ot++))}))})}},6365:(on,Ze,q)=>{q.d(Ze,{U:()=>$e});var I=q(1397),Ee=q(3669);function $e(Y=1/0){return(0,I.Z)(Ee.D,Y)}},1397:(on,Ze,q)=>{q.d(Ze,{Z:()=>ot});var I=q(6354),Ee=q(8750),$e=q(9974),Y=q(5225),de=q(4360),Re=q(8071);function ot(Ue,pe,Ie=1/0){return(0,Re.T)(pe)?ot((ze,gt)=>(0,I.T)((nt,Tt)=>pe(ze,nt,gt,Tt))((0,Ee.Tg)(Ue(ze,gt))),Ie):("number"==typeof pe&&(Ie=pe),(0,$e.N)((ze,gt)=>function le(Ue,pe,Ie,ze,gt,nt,Tt,sn){const mt=[];let Xt=0,tn=0,Tn=!1;const yt=()=>{Tn&&!mt.length&&!Xt&&pe.complete()},ut=lt=>Xt<ze?He(lt):mt.push(lt),He=lt=>{nt&&pe.next(lt),Xt++;let Mt=!1;(0,Ee.Tg)(Ie(lt,tn++)).subscribe((0,de._)(pe,Rt=>{gt?.(Rt),nt?ut(Rt):pe.next(Rt)},()=>{Mt=!0},void 0,()=>{if(Mt)try{for(Xt--;mt.length&&Xt<ze;){const Rt=mt.shift();Tt?(0,Y.N)(pe,Tt,()=>He(Rt)):He(Rt)}yt()}catch(Rt){pe.error(Rt)}}))};return Ue.subscribe((0,de._)(pe,ut,()=>{Tn=!0,yt()})),()=>{sn?.()}}(ze,gt,Ue,Ie)))}},941:(on,Ze,q)=>{q.d(Ze,{Q:()=>Y});var I=q(5225),Ee=q(9974),$e=q(4360);function Y(de,le=0){return(0,Ee.N)((Re,ot)=>{Re.subscribe((0,$e._)(ot,Ue=>(0,I.N)(ot,de,()=>ot.next(Ue),le),()=>(0,I.N)(ot,de,()=>ot.complete(),le),Ue=>(0,I.N)(ot,de,()=>ot.error(Ue),le)))})}},9172:(on,Ze,q)=>{q.d(Ze,{Z:()=>Y});var I=q(8793),Ee=q(9326),$e=q(9974);function Y(...de){const le=(0,Ee.lI)(de);return(0,$e.N)((Re,ot)=>{(le?(0,I.x)(de,Re,le):(0,I.x)(de,Re)).subscribe(ot)})}},6745:(on,Ze,q)=>{q.d(Ze,{_:()=>Ee});var I=q(9974);function Ee($e,Y=0){return(0,I.N)((de,le)=>{le.add($e.schedule(()=>de.subscribe(le),Y))})}},3177:(on,Ze,q)=>{q.d(Ze,{n:()=>Y});var I=q(8750),Ee=q(9974),$e=q(4360);function Y(de,le){return(0,Ee.N)((Re,ot)=>{let Ue=null,pe=0,Ie=!1;const ze=()=>Ie&&!Ue&&ot.complete();Re.subscribe((0,$e._)(ot,gt=>{Ue?.unsubscribe();let nt=0;const Tt=pe++;(0,I.Tg)(de(gt,Tt)).subscribe(Ue=(0,$e._)(ot,sn=>ot.next(le?le(gt,sn,Tt,nt++):sn),()=>{Ue=null,ze()}))},()=>{Ie=!0,ze()}))})}},6697:(on,Ze,q)=>{q.d(Ze,{s:()=>Y});var I=q(983),Ee=q(9974),$e=q(4360);function Y(de){return de<=0?()=>I.w:(0,Ee.N)((le,Re)=>{let ot=0;le.subscribe((0,$e._)(Re,Ue=>{++ot<=de&&(Re.next(Ue),de<=ot&&Re.complete())}))})}},6977:(on,Ze,q)=>{q.d(Ze,{Q:()=>de});var I=q(9974),Ee=q(4360),$e=q(8750),Y=q(5343);function de(le){return(0,I.N)((Re,ot)=>{(0,$e.Tg)(le).subscribe((0,Ee._)(ot,()=>ot.complete(),Y.l)),!ot.closed&&Re.subscribe(ot)})}},8141:(on,Ze,q)=>{q.d(Ze,{M:()=>de});var I=q(8071),Ee=q(9974),$e=q(4360),Y=q(3669);function de(le,Re,ot){const Ue=(0,I.T)(le)||Re||ot?{next:le,error:Re,complete:ot}:le;return Ue?(0,Ee.N)((pe,Ie)=>{var ze;null===(ze=Ue.subscribe)||void 0===ze||ze.call(Ue);let gt=!0;pe.subscribe((0,$e._)(Ie,nt=>{var Tt;null===(Tt=Ue.next)||void 0===Tt||Tt.call(Ue,nt),Ie.next(nt)},()=>{var nt;gt=!1,null===(nt=Ue.complete)||void 0===nt||nt.call(Ue),Ie.complete()},nt=>{var Tt;gt=!1,null===(Tt=Ue.error)||void 0===Tt||Tt.call(Ue,nt),Ie.error(nt)},()=>{var nt,Tt;gt&&(null===(nt=Ue.unsubscribe)||void 0===nt||nt.call(Ue)),null===(Tt=Ue.finalize)||void 0===Tt||Tt.call(Ue)}))}):Y.D}},6780:(on,Ze,q)=>{q.d(Ze,{R:()=>de});var I=q(8359);class Ee extends I.yU{constructor(Re,ot){super()}schedule(Re,ot=0){return this}}const $e={setInterval(le,Re,...ot){const{delegate:Ue}=$e;return Ue?.setInterval?Ue.setInterval(le,Re,...ot):setInterval(le,Re,...ot)},clearInterval(le){const{delegate:Re}=$e;return(Re?.clearInterval||clearInterval)(le)},delegate:void 0};var Y=q(7908);class de extends Ee{constructor(Re,ot){super(Re,ot),this.scheduler=Re,this.work=ot,this.pending=!1}schedule(Re,ot=0){var Ue;if(this.closed)return this;this.state=Re;const pe=this.id,Ie=this.scheduler;return null!=pe&&(this.id=this.recycleAsyncId(Ie,pe,ot)),this.pending=!0,this.delay=ot,this.id=null!==(Ue=this.id)&&void 0!==Ue?Ue:this.requestAsyncId(Ie,this.id,ot),this}requestAsyncId(Re,ot,Ue=0){return $e.setInterval(Re.flush.bind(Re,this),Ue)}recycleAsyncId(Re,ot,Ue=0){if(null!=Ue&&this.delay===Ue&&!1===this.pending)return ot;null!=ot&&$e.clearInterval(ot)}execute(Re,ot){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Ue=this._execute(Re,ot);if(Ue)return Ue;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Re,ot){let pe,Ue=!1;try{this.work(Re)}catch(Ie){Ue=!0,pe=Ie||new Error("Scheduled action threw falsy error")}if(Ue)return this.unsubscribe(),pe}unsubscribe(){if(!this.closed){const{id:Re,scheduler:ot}=this,{actions:Ue}=ot;this.work=this.state=this.scheduler=null,this.pending=!1,(0,Y.o)(Ue,this),null!=Re&&(this.id=this.recycleAsyncId(ot,Re,null)),this.delay=null,super.unsubscribe()}}}},3604:(on,Ze,q)=>{q.d(Ze,{q:()=>$e});const I={now:()=>(I.delegate||Date).now(),delegate:void 0};class Ee{constructor(de,le=Ee.now){this.schedulerActionCtor=de,this.now=le}schedule(de,le=0,Re){return new this.schedulerActionCtor(this,de).schedule(Re,le)}}Ee.now=I.now;class $e extends Ee{constructor(de,le=Ee.now){super(de,le),this.actions=[],this._active=!1}flush(de){const{actions:le}=this;if(this._active)return void le.push(de);let Re;this._active=!0;do{if(Re=de.execute(de.state,de.delay))break}while(de=le.shift());if(this._active=!1,Re){for(;de=le.shift();)de.unsubscribe();throw Re}}}},3236:(on,Ze,q)=>{q.d(Ze,{E:()=>$e,b:()=>Y});var I=q(6780);const $e=new(q(3604).q)(I.R),Y=$e},9270:(on,Ze,q)=>{q.d(Ze,{f:()=>I});const I={setTimeout(Ee,$e,...Y){const{delegate:de}=I;return de?.setTimeout?de.setTimeout(Ee,$e,...Y):setTimeout(Ee,$e,...Y)},clearTimeout(Ee){const{delegate:$e}=I;return($e?.clearTimeout||clearTimeout)(Ee)},delegate:void 0}},4761:(on,Ze,q)=>{q.d(Ze,{l:()=>Ee});const Ee=function I(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},3494:(on,Ze,q)=>{q.d(Ze,{s:()=>I});const I="function"==typeof Symbol&&Symbol.observable||"@@observable"},9326:(on,Ze,q)=>{q.d(Ze,{R0:()=>le,lI:()=>de,ms:()=>Y});var I=q(8071),Ee=q(9470);function $e(Re){return Re[Re.length-1]}function Y(Re){return(0,I.T)($e(Re))?Re.pop():void 0}function de(Re){return(0,Ee.m)($e(Re))?Re.pop():void 0}function le(Re,ot){return"number"==typeof $e(Re)?Re.pop():ot}},3073:(on,Ze,q)=>{q.d(Ze,{D:()=>de});const{isArray:I}=Array,{getPrototypeOf:Ee,prototype:$e,keys:Y}=Object;function de(Re){if(1===Re.length){const ot=Re[0];if(I(ot))return{args:ot,keys:null};if(function le(Re){return Re&&"object"==typeof Re&&Ee(Re)===$e}(ot)){const Ue=Y(ot);return{args:Ue.map(pe=>ot[pe]),keys:Ue}}}return{args:Re,keys:null}}},7908:(on,Ze,q)=>{function I(Ee,$e){if(Ee){const Y=Ee.indexOf($e);0<=Y&&Ee.splice(Y,1)}}q.d(Ze,{o:()=>I})},1853:(on,Ze,q)=>{function I(Ee){const Y=Ee(de=>{Error.call(de),de.stack=(new Error).stack});return Y.prototype=Object.create(Error.prototype),Y.prototype.constructor=Y,Y}q.d(Ze,{L:()=>I})},8496:(on,Ze,q)=>{function I(Ee,$e){return Ee.reduce((Y,de,le)=>(Y[de]=$e[le],Y),{})}q.d(Ze,{e:()=>I})},9786:(on,Ze,q)=>{q.d(Ze,{Y:()=>$e,l:()=>Y});var I=q(1026);let Ee=null;function $e(de){if(I.$.useDeprecatedSynchronousErrorHandling){const le=!Ee;if(le&&(Ee={errorThrown:!1,error:null}),de(),le){const{errorThrown:Re,error:ot}=Ee;if(Ee=null,Re)throw ot}}else de()}function Y(de){I.$.useDeprecatedSynchronousErrorHandling&&Ee&&(Ee.errorThrown=!0,Ee.error=de)}},5225:(on,Ze,q)=>{function I(Ee,$e,Y,de=0,le=!1){const Re=$e.schedule(function(){Y(),le?Ee.add(this.schedule(null,de)):this.unsubscribe()},de);if(Ee.add(Re),!le)return Re}q.d(Ze,{N:()=>I})},3669:(on,Ze,q)=>{function I(Ee){return Ee}q.d(Ze,{D:()=>I})},7441:(on,Ze,q)=>{q.d(Ze,{X:()=>I});const I=Ee=>Ee&&"number"==typeof Ee.length&&"function"!=typeof Ee},7953:(on,Ze,q)=>{q.d(Ze,{T:()=>Ee});var I=q(8071);function Ee($e){return Symbol.asyncIterator&&(0,I.T)($e?.[Symbol.asyncIterator])}},8071:(on,Ze,q)=>{function I(Ee){return"function"==typeof Ee}q.d(Ze,{T:()=>I})},5055:(on,Ze,q)=>{q.d(Ze,{l:()=>$e});var I=q(3494),Ee=q(8071);function $e(Y){return(0,Ee.T)(Y[I.s])}},5397:(on,Ze,q)=>{q.d(Ze,{x:()=>$e});var I=q(4761),Ee=q(8071);function $e(Y){return(0,Ee.T)(Y?.[I.l])}},9858:(on,Ze,q)=>{q.d(Ze,{y:()=>Ee});var I=q(8071);function Ee($e){return(0,I.T)($e?.then)}},5196:(on,Ze,q)=>{q.d(Ze,{C:()=>$e,U:()=>Y});var I=q(1635),Ee=q(8071);function $e(de){return(0,I.AQ)(this,arguments,function*(){const Re=de.getReader();try{for(;;){const{value:ot,done:Ue}=yield(0,I.N3)(Re.read());if(Ue)return yield(0,I.N3)(void 0);yield yield(0,I.N3)(ot)}}finally{Re.releaseLock()}})}function Y(de){return(0,Ee.T)(de?.getReader)}},9470:(on,Ze,q)=>{q.d(Ze,{m:()=>Ee});var I=q(8071);function Ee($e){return $e&&(0,I.T)($e.schedule)}},9974:(on,Ze,q)=>{q.d(Ze,{N:()=>$e,S:()=>Ee});var I=q(8071);function Ee(Y){return(0,I.T)(Y?.lift)}function $e(Y){return de=>{if(Ee(de))return de.lift(function(le){try{return Y(le,this)}catch(Re){this.error(Re)}});throw new TypeError("Unable to lift unknown Observable type")}}},6450:(on,Ze,q)=>{q.d(Ze,{I:()=>Y});var I=q(6354);const{isArray:Ee}=Array;function Y(de){return(0,I.T)(le=>function $e(de,le){return Ee(le)?de(...le):de(le)}(de,le))}},5343:(on,Ze,q)=>{function I(){}q.d(Ze,{l:()=>I})},1203:(on,Ze,q)=>{q.d(Ze,{F:()=>Ee,m:()=>$e});var I=q(3669);function Ee(...Y){return $e(Y)}function $e(Y){return 0===Y.length?I.D:1===Y.length?Y[0]:function(le){return Y.reduce((Re,ot)=>ot(Re),le)}}},5334:(on,Ze,q)=>{q.d(Ze,{m:()=>$e});var I=q(1026),Ee=q(9270);function $e(Y){Ee.f.setTimeout(()=>{const{onUnhandledError:de}=I.$;if(!de)throw Y;de(Y)})}},591:(on,Ze,q)=>{function I(Ee){return new TypeError(`You provided ${null!==Ee&&"object"==typeof Ee?"an invalid object":`'${Ee}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}q.d(Ze,{L:()=>I})},177:(on,Ze,q)=>{q.d(Ze,{AJ:()=>Nt,MD:()=>er,N0:()=>ss,QT:()=>$e,Sm:()=>Tt,Sq:()=>bi,UE:()=>Lr,VF:()=>de,Vy:()=>Hr,Xr:()=>Qr,YU:()=>On,ZD:()=>Y,_b:()=>kt,aZ:()=>mt,bT:()=>lr,fw:()=>sn,hb:()=>gt,hj:()=>ot,oe:()=>Yi,qQ:()=>le});var I=q(2598);let Ee=null;function $e(){return Ee}function Y(R){Ee||(Ee=R)}class de{}const le=new I.nKC("DocumentToken");let Re=(()=>{class R{historyGo(L){throw new Error("Not implemented")}static{this.\u0275fac=function(G){return new(G||R)}}static{this.\u0275prov=I.jDH({token:R,factory:function(){return(0,I.WQX)(Ue)},providedIn:"platform"})}}return R})();const ot=new I.nKC("Location Initialized");let Ue=(()=>{class R extends Re{constructor(){super(),this._doc=(0,I.WQX)(le),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return $e().getBaseHref(this._doc)}onPopState(L){const G=$e().getGlobalEventTarget(this._doc,"window");return G.addEventListener("popstate",L,!1),()=>G.removeEventListener("popstate",L)}onHashChange(L){const G=$e().getGlobalEventTarget(this._doc,"window");return G.addEventListener("hashchange",L,!1),()=>G.removeEventListener("hashchange",L)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(L){this._location.pathname=L}pushState(L,G,fe){this._history.pushState(L,G,fe)}replaceState(L,G,fe){this._history.replaceState(L,G,fe)}forward(){this._history.forward()}back(){this._history.back()}historyGo(L=0){this._history.go(L)}getState(){return this._history.state}static{this.\u0275fac=function(G){return new(G||R)}}static{this.\u0275prov=I.jDH({token:R,factory:function(){return new R},providedIn:"platform"})}}return R})();function pe(R,X){if(0==R.length)return X;if(0==X.length)return R;let L=0;return R.endsWith("/")&&L++,X.startsWith("/")&&L++,2==L?R+X.substring(1):1==L?R+X:R+"/"+X}function Ie(R){const X=R.match(/#|\?|$/),L=X&&X.index||R.length;return R.slice(0,L-("/"===R[L-1]?1:0))+R.slice(L)}function ze(R){return R&&"?"!==R[0]?"?"+R:R}let gt=(()=>{class R{historyGo(L){throw new Error("Not implemented")}static{this.\u0275fac=function(G){return new(G||R)}}static{this.\u0275prov=I.jDH({token:R,factory:function(){return(0,I.WQX)(Tt)},providedIn:"root"})}}return R})();const nt=new I.nKC("appBaseHref");let Tt=(()=>{class R extends gt{constructor(L,G){super(),this._platformLocation=L,this._removeListenerFns=[],this._baseHref=G??this._platformLocation.getBaseHrefFromDOM()??(0,I.WQX)(le).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(L){this._removeListenerFns.push(this._platformLocation.onPopState(L),this._platformLocation.onHashChange(L))}getBaseHref(){return this._baseHref}prepareExternalUrl(L){return pe(this._baseHref,L)}path(L=!1){const G=this._platformLocation.pathname+ze(this._platformLocation.search),fe=this._platformLocation.hash;return fe&&L?`${G}${fe}`:G}pushState(L,G,fe,Ge){const ft=this.prepareExternalUrl(fe+ze(Ge));this._platformLocation.pushState(L,G,ft)}replaceState(L,G,fe,Ge){const ft=this.prepareExternalUrl(fe+ze(Ge));this._platformLocation.replaceState(L,G,ft)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(L=0){this._platformLocation.historyGo?.(L)}static{this.\u0275fac=function(G){return new(G||R)(I.KVO(Re),I.KVO(nt,8))}}static{this.\u0275prov=I.jDH({token:R,factory:R.\u0275fac,providedIn:"root"})}}return R})(),sn=(()=>{class R extends gt{constructor(L,G){super(),this._platformLocation=L,this._baseHref="",this._removeListenerFns=[],null!=G&&(this._baseHref=G)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(L){this._removeListenerFns.push(this._platformLocation.onPopState(L),this._platformLocation.onHashChange(L))}getBaseHref(){return this._baseHref}path(L=!1){let G=this._platformLocation.hash;return null==G&&(G="#"),G.length>0?G.substring(1):G}prepareExternalUrl(L){const G=pe(this._baseHref,L);return G.length>0?"#"+G:G}pushState(L,G,fe,Ge){let ft=this.prepareExternalUrl(fe+ze(Ge));0==ft.length&&(ft=this._platformLocation.pathname),this._platformLocation.pushState(L,G,ft)}replaceState(L,G,fe,Ge){let ft=this.prepareExternalUrl(fe+ze(Ge));0==ft.length&&(ft=this._platformLocation.pathname),this._platformLocation.replaceState(L,G,ft)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(L=0){this._platformLocation.historyGo?.(L)}static{this.\u0275fac=function(G){return new(G||R)(I.KVO(Re),I.KVO(nt,8))}}static{this.\u0275prov=I.jDH({token:R,factory:R.\u0275fac})}}return R})(),mt=(()=>{class R{constructor(L){this._subject=new I.bkB,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=L;const G=this._locationStrategy.getBaseHref();this._basePath=function yt(R){if(new RegExp("^(https?:)?//").test(R)){const[,L]=R.split(/\/\/[^\/]+/);return L}return R}(Ie(Tn(G))),this._locationStrategy.onPopState(fe=>{this._subject.emit({url:this.path(!0),pop:!0,state:fe.state,type:fe.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(L=!1){return this.normalize(this._locationStrategy.path(L))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(L,G=""){return this.path()==this.normalize(L+ze(G))}normalize(L){return R.stripTrailingSlash(function tn(R,X){if(!R||!X.startsWith(R))return X;const L=X.substring(R.length);return""===L||["/",";","?","#"].includes(L[0])?L:X}(this._basePath,Tn(L)))}prepareExternalUrl(L){return L&&"/"!==L[0]&&(L="/"+L),this._locationStrategy.prepareExternalUrl(L)}go(L,G="",fe=null){this._locationStrategy.pushState(fe,"",L,G),this._notifyUrlChangeListeners(this.prepareExternalUrl(L+ze(G)),fe)}replaceState(L,G="",fe=null){this._locationStrategy.replaceState(fe,"",L,G),this._notifyUrlChangeListeners(this.prepareExternalUrl(L+ze(G)),fe)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(L=0){this._locationStrategy.historyGo?.(L)}onUrlChange(L){return this._urlChangeListeners.push(L),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(G=>{this._notifyUrlChangeListeners(G.url,G.state)})),()=>{const G=this._urlChangeListeners.indexOf(L);this._urlChangeListeners.splice(G,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(L="",G){this._urlChangeListeners.forEach(fe=>fe(L,G))}subscribe(L,G,fe){return this._subject.subscribe({next:L,error:G,complete:fe})}static{this.normalizeQueryParams=ze}static{this.joinWithSlash=pe}static{this.stripTrailingSlash=Ie}static{this.\u0275fac=function(G){return new(G||R)(I.KVO(gt))}}static{this.\u0275prov=I.jDH({token:R,factory:function(){return function Xt(){return new mt((0,I.KVO)(gt))}()},providedIn:"root"})}}return R})();function Tn(R){return R.replace(/\/index.html$/,"")}const ut={ADP:[void 0,void 0,0],AFN:[void 0,"\u060b",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058f",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20bc"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GHS:[void 0,"GH\u20b5"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202fCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var He=function(R){return R[R.Decimal=0]="Decimal",R[R.Percent=1]="Percent",R[R.Currency=2]="Currency",R[R.Scientific=3]="Scientific",R}(He||{}),et=function(R){return R[R.Decimal=0]="Decimal",R[R.Group=1]="Group",R[R.List=2]="List",R[R.PercentSign=3]="PercentSign",R[R.PlusSign=4]="PlusSign",R[R.MinusSign=5]="MinusSign",R[R.Exponential=6]="Exponential",R[R.SuperscriptingExponent=7]="SuperscriptingExponent",R[R.PerMille=8]="PerMille",R[R.Infinity=9]="Infinity",R[R.NaN=10]="NaN",R[R.TimeSeparator=11]="TimeSeparator",R[R.CurrencyDecimal=12]="CurrencyDecimal",R[R.CurrencyGroup=13]="CurrencyGroup",R}(et||{});function ae(R,X){const L=(0,I.H5H)(R),G=L[I.KH2.NumberSymbols][X];if(typeof G>"u"){if(X===et.CurrencyDecimal)return L[I.KH2.NumberSymbols][et.Decimal];if(X===et.CurrencyGroup)return L[I.KH2.NumberSymbols][et.Group]}return G}const Q=/^(\d+)?\.((\d+)(-(\d+))?)?$/,_e=22,Te=".",ct="0",Ut=";",Wt=",",Jn="#";function qr(R,X,L,G,fe){const ft=function Yn(R,X="-"){const L={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},G=R.split(Ut),fe=G[0],Ge=G[1],ft=-1!==fe.indexOf(Te)?fe.split(Te):[fe.substring(0,fe.lastIndexOf(ct)+1),fe.substring(fe.lastIndexOf(ct)+1)],un=ft[0],yn=ft[1]||"";L.posPre=un.substring(0,un.indexOf(Jn));for(let or=0;or<yn.length;or++){const Zn=yn.charAt(or);Zn===ct?L.minFrac=L.maxFrac=or+1:Zn===Jn?L.maxFrac=or+1:L.posSuf+=Zn}const gr=un.split(Wt);if(L.gSize=gr[1]?gr[1].length:0,L.lgSize=gr[2]||gr[1]?(gr[2]||gr[1]).length:0,Ge){const or=fe.length-L.posPre.length-L.posSuf.length,Zn=Ge.indexOf(Jn);L.negPre=Ge.substring(0,Zn).replace(/'/g,""),L.negSuf=Ge.slice(Zn+or).replace(/'/g,"")}else L.negPre=X+L.posPre,L.negSuf=L.posSuf;return L}(function ge(R,X){return(0,I.H5H)(R)[I.KH2.NumberFormats][X]}(X,He.Currency),ae(X,et.MinusSign));return ft.minFrac=function Wn(R){let X;const L=ut[R];return L&&(X=L[2]),"number"==typeof X?X:2}(G),ft.maxFrac=ft.minFrac,function Kt(R,X,L,G,fe,Ge,ft=!1){let un="",yn=!1;if(isFinite(R)){let gr=function Go(R){let G,fe,Ge,ft,un,X=Math.abs(R)+"",L=0;for((fe=X.indexOf(Te))>-1&&(X=X.replace(Te,"")),(Ge=X.search(/e/i))>0?(fe<0&&(fe=Ge),fe+=+X.slice(Ge+1),X=X.substring(0,Ge)):fe<0&&(fe=X.length),Ge=0;X.charAt(Ge)===ct;Ge++);if(Ge===(un=X.length))G=[0],fe=1;else{for(un--;X.charAt(un)===ct;)un--;for(fe-=Ge,G=[],ft=0;Ge<=un;Ge++,ft++)G[ft]=Number(X.charAt(Ge))}return fe>_e&&(G=G.splice(0,_e-1),L=fe-1,fe=1),{digits:G,exponent:L,integerLen:fe}}(R);ft&&(gr=function Ui(R){if(0===R.digits[0])return R;const X=R.digits.length-R.integerLen;return R.exponent?R.exponent+=2:(0===X?R.digits.push(0,0):1===X&&R.digits.push(0),R.integerLen+=2),R}(gr));let or=X.minInt,Zn=X.minFrac,Yr=X.maxFrac;if(Ge){const wi=Ge.match(Q);if(null===wi)throw new Error(`${Ge} is not a valid digit info`);const co=wi[1],Ss=wi[3],xo=wi[5];null!=co&&(or=po(co)),null!=Ss&&(Zn=po(Ss)),null!=xo?Yr=po(xo):null!=Ss&&Zn>Yr&&(Yr=Zn)}!function ji(R,X,L){if(X>L)throw new Error(`The minimum number of digits after fraction (${X}) is higher than the maximum (${L}).`);let G=R.digits,fe=G.length-R.integerLen;const Ge=Math.min(Math.max(X,fe),L);let ft=Ge+R.integerLen,un=G[ft];if(ft>0){G.splice(Math.max(R.integerLen,ft));for(let Zn=ft;Zn<G.length;Zn++)G[Zn]=0}else{fe=Math.max(0,fe),R.integerLen=1,G.length=Math.max(1,ft=Ge+1),G[0]=0;for(let Zn=1;Zn<ft;Zn++)G[Zn]=0}if(un>=5)if(ft-1<0){for(let Zn=0;Zn>ft;Zn--)G.unshift(0),R.integerLen++;G.unshift(1),R.integerLen++}else G[ft-1]++;for(;fe<Math.max(0,Ge);fe++)G.push(0);let yn=0!==Ge;const gr=X+R.integerLen,or=G.reduceRight(function(Zn,Yr,Ar,Li){return Li[Ar]=(Yr+=Zn)<10?Yr:Yr-10,yn&&(0===Li[Ar]&&Ar>=gr?Li.pop():yn=!1),Yr>=10?1:0},0);or&&(G.unshift(or),R.integerLen++)}(gr,Zn,Yr);let Ar=gr.digits,Li=gr.integerLen;const ps=gr.exponent;let Ii=[];for(yn=Ar.every(wi=>!wi);Li<or;Li++)Ar.unshift(0);for(;Li<0;Li++)Ar.unshift(0);Li>0?Ii=Ar.splice(Li,Ar.length):(Ii=Ar,Ar=[0]);const Eo=[];for(Ar.length>=X.lgSize&&Eo.unshift(Ar.splice(-X.lgSize,Ar.length).join(""));Ar.length>X.gSize;)Eo.unshift(Ar.splice(-X.gSize,Ar.length).join(""));Ar.length&&Eo.unshift(Ar.join("")),un=Eo.join(ae(L,G)),Ii.length&&(un+=ae(L,fe)+Ii.join("")),ps&&(un+=ae(L,et.Exponential)+"+"+ps)}else un=ae(L,et.Infinity);return un=R<0&&!yn?X.negPre+un+X.negSuf:X.posPre+un+X.posSuf,un}(R,ft,X,et.CurrencyGroup,et.CurrencyDecimal,fe).replace("\xa4",L).replace("\xa4","").trim()}function po(R){const X=parseInt(R);if(isNaN(X))throw new Error("Invalid integer literal when parsing "+R);return X}function kt(R,X){X=encodeURIComponent(X);for(const L of R.split(";")){const G=L.indexOf("="),[fe,Ge]=-1==G?[L,""]:[L.slice(0,G),L.slice(G+1)];if(fe.trim()===X)return decodeURIComponent(Ge)}return null}const ln=/\s+/,$t=[];let On=(()=>{class R{constructor(L,G,fe,Ge){this._iterableDiffers=L,this._keyValueDiffers=G,this._ngEl=fe,this._renderer=Ge,this.initialClasses=$t,this.stateMap=new Map}set klass(L){this.initialClasses=null!=L?L.trim().split(ln):$t}set ngClass(L){this.rawClass="string"==typeof L?L.trim().split(ln):L}ngDoCheck(){for(const G of this.initialClasses)this._updateState(G,!0);const L=this.rawClass;if(Array.isArray(L)||L instanceof Set)for(const G of L)this._updateState(G,!0);else if(null!=L)for(const G of Object.keys(L))this._updateState(G,!!L[G]);this._applyStateDiff()}_updateState(L,G){const fe=this.stateMap.get(L);void 0!==fe?(fe.enabled!==G&&(fe.changed=!0,fe.enabled=G),fe.touched=!0):this.stateMap.set(L,{enabled:G,changed:!0,touched:!0})}_applyStateDiff(){for(const L of this.stateMap){const G=L[0],fe=L[1];fe.changed?(this._toggleClass(G,fe.enabled),fe.changed=!1):fe.touched||(fe.enabled&&this._toggleClass(G,!1),this.stateMap.delete(G)),fe.touched=!1}}_toggleClass(L,G){(L=L.trim()).length>0&&L.split(ln).forEach(fe=>{G?this._renderer.addClass(this._ngEl.nativeElement,fe):this._renderer.removeClass(this._ngEl.nativeElement,fe)})}static{this.\u0275fac=function(G){return new(G||R)(I.rXU(I._q3),I.rXU(I.MKu),I.rXU(I.aKT),I.rXU(I.sFG))}}static{this.\u0275dir=I.FsC({type:R,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}}return R})();class Ri{constructor(X,L,G,fe){this.$implicit=X,this.ngForOf=L,this.index=G,this.count=fe}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let bi=(()=>{class R{set ngForOf(L){this._ngForOf=L,this._ngForOfDirty=!0}set ngForTrackBy(L){this._trackByFn=L}get ngForTrackBy(){return this._trackByFn}constructor(L,G,fe){this._viewContainer=L,this._template=G,this._differs=fe,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(L){L&&(this._template=L)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const L=this._ngForOf;!this._differ&&L&&(this._differ=this._differs.find(L).create(this.ngForTrackBy))}if(this._differ){const L=this._differ.diff(this._ngForOf);L&&this._applyChanges(L)}}_applyChanges(L){const G=this._viewContainer;L.forEachOperation((fe,Ge,ft)=>{if(null==fe.previousIndex)G.createEmbeddedView(this._template,new Ri(fe.item,this._ngForOf,-1,-1),null===ft?void 0:ft);else if(null==ft)G.remove(null===Ge?void 0:Ge);else if(null!==Ge){const un=G.get(Ge);G.move(un,ft),rs(un,fe)}});for(let fe=0,Ge=G.length;fe<Ge;fe++){const un=G.get(fe).context;un.index=fe,un.count=Ge,un.ngForOf=this._ngForOf}L.forEachIdentityChange(fe=>{rs(G.get(fe.currentIndex),fe)})}static ngTemplateContextGuard(L,G){return!0}static{this.\u0275fac=function(G){return new(G||R)(I.rXU(I.c1b),I.rXU(I.C4Q),I.rXU(I._q3))}}static{this.\u0275dir=I.FsC({type:R,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return R})();function rs(R,X){R.context.$implicit=X.item}let lr=(()=>{class R{constructor(L,G){this._viewContainer=L,this._context=new Hi,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=G}set ngIf(L){this._context.$implicit=this._context.ngIf=L,this._updateView()}set ngIfThen(L){mo("ngIfThen",L),this._thenTemplateRef=L,this._thenViewRef=null,this._updateView()}set ngIfElse(L){mo("ngIfElse",L),this._elseTemplateRef=L,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(L,G){return!0}static{this.\u0275fac=function(G){return new(G||R)(I.rXU(I.c1b),I.rXU(I.C4Q))}}static{this.\u0275dir=I.FsC({type:R,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return R})();class Hi{constructor(){this.$implicit=null,this.ngIf=null}}function mo(R,X){if(X&&!X.createEmbeddedView)throw new Error(`${R} must be a TemplateRef, but received '${(0,I.Tbb)(X)}'.`)}let Yi=(()=>{class R{constructor(L,G="USD"){this._locale=L,this._defaultCurrencyCode=G}transform(L,G=this._defaultCurrencyCode,fe="symbol",Ge,ft){if(!function _o(R){return!(null==R||""===R||R!=R)}(L))return null;ft=ft||this._locale,"boolean"==typeof fe&&(fe=fe?"symbol":"code");let un=G||this._defaultCurrencyCode;"code"!==fe&&(un="symbol"===fe||"symbol-narrow"===fe?function yr(R,X,L="en"){const G=function an(R){return(0,I.H5H)(R)[I.KH2.Currencies]}(L)[R]||ut[R]||[],fe=G[1];return"narrow"===X&&"string"==typeof fe?fe:G[0]||R}(un,"symbol"===fe?"wide":"narrow",ft):fe);try{return qr(function Es(R){if("string"==typeof R&&!isNaN(Number(R)-parseFloat(R)))return Number(R);if("number"!=typeof R)throw new Error(`${R} is not a number`);return R}(L),ft,un,G,Ge)}catch(yn){throw function xi(R,X){return new I.wOt(2100,!1)}()}}static{this.\u0275fac=function(G){return new(G||R)(I.rXU(I.xe9,16),I.rXU(I.Ocv,16))}}static{this.\u0275pipe=I.EJ8({name:"currency",type:R,pure:!0,standalone:!0})}}return R})();let er=(()=>{class R{static{this.\u0275fac=function(G){return new(G||R)}}static{this.\u0275mod=I.$C({type:R})}static{this.\u0275inj=I.G2t({})}}return R})();const Nt="browser",vn="server";function Lr(R){return R===Nt}function Hr(R){return R===vn}let Qr=(()=>{class R{static{this.\u0275prov=(0,I.jDH)({token:R,providedIn:"root",factory:()=>new wn((0,I.KVO)(le),window)})}}return R})();class wn{constructor(X,L){this.document=X,this.window=L,this.offset=()=>[0,0]}setOffset(X){this.offset=Array.isArray(X)?()=>X:X}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(X){this.supportsScrolling()&&this.window.scrollTo(X[0],X[1])}scrollToAnchor(X){if(!this.supportsScrolling())return;const L=function Is(R,X){const L=R.getElementById(X)||R.getElementsByName(X)[0];if(L)return L;if("function"==typeof R.createTreeWalker&&R.body&&"function"==typeof R.body.attachShadow){const G=R.createTreeWalker(R.body,NodeFilter.SHOW_ELEMENT);let fe=G.currentNode;for(;fe;){const Ge=fe.shadowRoot;if(Ge){const ft=Ge.getElementById(X)||Ge.querySelector(`[name="${X}"]`);if(ft)return ft}fe=G.nextNode()}}return null}(this.document,X);L&&(this.scrollToElement(L),L.focus())}setHistoryScrollRestoration(X){this.supportsScrolling()&&(this.window.history.scrollRestoration=X)}scrollToElement(X){const L=X.getBoundingClientRect(),G=L.left+this.window.pageXOffset,fe=L.top+this.window.pageYOffset,Ge=this.offset();this.window.scrollTo(G-Ge[0],fe-Ge[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class ss{}},2598:(on,Ze,q)=>{q.d(Ze,{bc$:()=>Al,iLQ:()=>a0,sZ2:()=>Kp,hnV:()=>GI,Hbi:()=>jA,o8S:()=>D_,BIS:()=>Pa,gRc:()=>AA,Ql9:()=>WC,OM3:()=>Zp,Ocv:()=>HC,Z63:()=>oh,aKT:()=>gu,uvJ:()=>Hc,zcH:()=>Rl,bkB:()=>xl,$GK:()=>nn,nKC:()=>rn,zZn:()=>ns,_q3:()=>f0,MKu:()=>p0,xe9:()=>sE,Co$:()=>W0,Vns:()=>Lm,NEm:()=>yA,SKi:()=>jo,Xx1:()=>Od,Agw:()=>lu,PLl:()=>my,rOR:()=>tE,sFG:()=>hh,_9s:()=>Rg,czy:()=>Yu,WPN:()=>ad,kdw:()=>kd,C4Q:()=>Rv,NYb:()=>pA,giA:()=>JI,xvI:()=>Jv,RxE:()=>fh,c1b:()=>iE,gXe:()=>kt,L39:()=>ZA,Ol2:()=>q0,w6W:()=>RT,oH4:()=>rw,Rfq:()=>ut,WQX:()=>Yn,QuC:()=>zi,EmA:()=>bf,fpN:()=>UA,HJs:()=>eD,O8t:()=>Yr,H3F:()=>WI,H8p:()=>ah,$K3:()=>KI,KH2:()=>w_,wOt:()=>et,WHO:()=>YI,e01:()=>ZI,lNU:()=>cn,h9k:()=>ty,$MX:()=>Vp,ZF7:()=>eh,Kcf:()=>Np,e5t:()=>Nv,UyX:()=>kv,cWb:()=>mg,osQ:()=>th,H5H:()=>Ua,mq5:()=>I_,JZv:()=>ir,LfX:()=>Ht,plB:()=>XE,jNT:()=>Bn,zjR:()=>$n,TL$:()=>z_,Tbb:()=>tn,rcV:()=>ic,Vt3:()=>r_,GFd:()=>Zy,OA$:()=>wi,Jv_:()=>G0,aNF:()=>Q0,R7$:()=>_u,BMQ:()=>k,HbH:()=>Tu,AVh:()=>lv,wni:()=>TI,VBU:()=>Ha,FsC:()=>Xs,jDH:()=>Ot,G2t:()=>Cr,$C:()=>Lo,EJ8:()=>Vo,rXU:()=>yu,nrm:()=>V,k0s:()=>S,j41:()=>y,RV6:()=>ar,xGo:()=>Bh,KVO:()=>Kn,kS0:()=>na,QTQ:()=>mh,bIt:()=>qn,lsd:()=>CI,XpG:()=>uc,nI1:()=>uI,bMT:()=>dI,SdG:()=>dc,NAR:()=>Iu,Y8G:()=>o,lJ4:()=>nI,eq3:()=>rI,l_i:()=>iI,mGM:()=>wI,Njj:()=>Hl,eBV:()=>Sc,n$t:()=>yg,xc7:()=>cv,DNE:()=>bs,EFF:()=>fv,JRh:()=>__,SpI:()=>pc,Lme:()=>y_});var I=q(1413),Ee=q(8359),$e=q(1985),Y=q(7786),de=q(4412),le=q(7673),Re=q(8750),ot=q(7707),Ue=q(9974);function pe(t={}){const{connector:n=(()=>new I.B),resetOnError:i=!0,resetOnComplete:c=!0,resetOnRefCountZero:d=!0}=t;return p=>{let E,C,P,U=0,J=!1,ue=!1;const De=()=>{C?.unsubscribe(),C=void 0},Ne=()=>{De(),E=P=void 0,J=ue=!1},ht=()=>{const St=E;Ne(),St?.unsubscribe()};return(0,Ue.N)((St,Yt)=>{U++,!ue&&!J&&De();const bn=P=P??n();Yt.add(()=>{U--,0===U&&!ue&&!J&&(C=Ie(ht,d))}),bn.subscribe(Yt),!E&&U>0&&(E=new ot.Ms({next:bt=>bn.next(bt),error:bt=>{ue=!0,De(),C=Ie(Ne,i,bt),bn.error(bt)},complete:()=>{J=!0,De(),C=Ie(Ne,c),bn.complete()}}),(0,Re.Tg)(St).subscribe(E))})(p)}}function Ie(t,n,...i){if(!0===n)return void t();if(!1===n)return;const c=new ot.Ms({next:()=>{c.unsubscribe(),t()}});return(0,Re.Tg)(n(...i)).subscribe(c)}var ze=q(3177),gt=q(3669),nt=q(4360);function sn(t,n){return t===n}function mt(t){for(let n in t)if(t[n]===mt)return n;throw Error("Could not find renamed property on target object.")}function Xt(t,n){for(const i in n)n.hasOwnProperty(i)&&!t.hasOwnProperty(i)&&(t[i]=n[i])}function tn(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(tn).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const n=t.toString();if(null==n)return""+n;const i=n.indexOf("\n");return-1===i?n:n.substring(0,i)}function Tn(t,n){return null==t||""===t?null===n?"":n:null==n||""===n?t:t+" "+n}const yt=mt({__forward_ref__:mt});function ut(t){return t.__forward_ref__=ut,t.toString=function(){return tn(this())},t}function He(t){return lt(t)?t():t}function lt(t){return"function"==typeof t&&t.hasOwnProperty(yt)&&t.__forward_ref__===ut}function Mt(t){return t&&!!t.\u0275providers}const cn="https://g.co/ng/security#xss";class et extends Error{constructor(n,i){super(function zn(t,n){return`NG0${Math.abs(t)}${n?": "+n:""}`}(n,i)),this.code=n}}function Zt(t){return"string"==typeof t?t:null==t?"":String(t)}function pn(t,n){throw new et(-201,!1)}function Sn(t,n){null==t&&function en(t,n,i,c){throw new Error(`ASSERTION ERROR: ${t}`+(null==c?"":` [Expected=> ${i} ${c} ${n} <=Actual]`))}(n,t,null,"!=")}function Ot(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Cr(t){return{providers:t.providers||[],imports:t.imports||[]}}function Hn(t){return Jr(t,rr)||Jr(t,Br)}function Ht(t){return null!==Hn(t)}function Jr(t,n){return t.hasOwnProperty(n)?t[n]:null}function Cn(t){return t&&(t.hasOwnProperty(wt)||t.hasOwnProperty(zr))?t[wt]:null}const rr=mt({\u0275prov:mt}),wt=mt({\u0275inj:mt}),Br=mt({ngInjectableDef:mt}),zr=mt({ngInjectorDef:mt});var nn=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(nn||{});let Xn;function Di(t){const n=Xn;return Xn=t,n}function Ln(t,n,i){const c=Hn(t);return c&&"root"==c.providedIn?void 0===c.value?c.value=c.factory():c.value:i&nn.Optional?null:void 0!==n?n:void pn(tn(t))}const ir=globalThis;class rn{constructor(n,i){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof i?this.__NG_ELEMENT_ID__=i:void 0!==i&&(this.\u0275prov=Ot({token:this,providedIn:i.providedIn||"root",factory:i.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Q={},_e="__NG_DI_FLAG__",Te="ngTempTokenPath",Ut=/\n/gm,Jn="__source";let Rn;function Kt(t){const n=Rn;return Rn=t,n}function qr(t,n=nn.Default){if(void 0===Rn)throw new et(-203,!1);return null===Rn?Ln(t,void 0,n):Rn.get(t,n&nn.Optional?null:void 0,n)}function Kn(t,n=nn.Default){return(function Pn(){return Xn}()||qr)(He(t),n)}function Yn(t,n=nn.Default){return Kn(t,Ui(n))}function Ui(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Go(t){const n=[];for(let i=0;i<t.length;i++){const c=He(t[i]);if(Array.isArray(c)){if(0===c.length)throw new et(900,!1);let d,p=nn.Default;for(let E=0;E<c.length;E++){const C=c[E],P=po(C);"number"==typeof P?-1===P?d=C.token:p|=P:d=C}n.push(Kn(d,p))}else n.push(Kn(c))}return n}function ji(t,n){return t[_e]=n,t.prototype[_e]=n,t}function po(t){return t[_e]}function Me(t){return{toString:t}.toString()}var at=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(at||{}),kt=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(kt||{});const ln={},$t=[],On=mt({\u0275cmp:mt}),cr=mt({\u0275dir:mt}),Pr=mt({\u0275pipe:mt}),Ri=mt({\u0275mod:mt}),bi=mt({\u0275fac:mt}),rs=mt({__NG_ELEMENT_ID__:mt}),ga=mt({__NG_ENV_ID__:mt});function lr(t,n,i){let c=t.length;for(;;){const d=t.indexOf(n,i);if(-1===d)return d;if(0===d||t.charCodeAt(d-1)<=32){const p=n.length;if(d+p===c||t.charCodeAt(d+p)<=32)return d}i=d+1}}function Hi(t,n,i){let c=0;for(;c<i.length;){const d=i[c];if("number"==typeof d){if(0!==d)break;c++;const p=i[c++],E=i[c++],C=i[c++];t.setAttribute(n,E,C,p)}else{const p=d,E=i[++c];oo(p)?t.setProperty(n,p,E):t.setAttribute(n,p,E),c++}}return c}function mo(t){return 3===t||4===t||6===t}function oo(t){return 64===t.charCodeAt(0)}function fi(t,n){if(null!==n&&0!==n.length)if(null===t||0===t.length)t=n.slice();else{let i=-1;for(let c=0;c<n.length;c++){const d=n[c];"number"==typeof d?i=d:0===i||Wo(t,i,d,null,-1===i||2===i?n[++c]:null)}}return t}function Wo(t,n,i,c,d){let p=0,E=t.length;if(-1===n)E=-1;else for(;p<t.length;){const C=t[p++];if("number"==typeof C){if(C===n){E=-1;break}if(C>n){E=p-1;break}}}for(;p<t.length;){const C=t[p];if("number"==typeof C)break;if(C===i){if(null===c)return void(null!==d&&(t[p+1]=d));if(c===t[p+1])return void(t[p+2]=d)}p++,null!==c&&p++,null!==d&&p++}-1!==E&&(t.splice(E,0,n),p=E+1),t.splice(p++,0,i),null!==c&&t.splice(p++,0,c),null!==d&&t.splice(p++,0,d)}const is="ng-template";function ni(t,n,i){let c=0,d=!0;for(;c<t.length;){let p=t[c++];if("string"==typeof p&&d){const E=t[c++];if(i&&"class"===p&&-1!==lr(E.toLowerCase(),n,0))return!0}else{if(1===p){for(;c<t.length&&"string"==typeof(p=t[c++]);)if(p.toLowerCase()===n)return!0;return!1}"number"==typeof p&&(d=!1)}}return!1}function Fo(t){return 4===t.type&&t.value!==is}function Ls(t,n,i){return n===(4!==t.type||i?t.value:is)}function yc(t,n,i){let c=4;const d=t.attrs||[],p=function vr(t){for(let n=0;n<t.length;n++)if(mo(t[n]))return n;return t.length}(d);let E=!1;for(let C=0;C<n.length;C++){const P=n[C];if("number"!=typeof P){if(!E)if(4&c){if(c=2|1&c,""!==P&&!Ls(t,P,i)||""===P&&1===n.length){if(so(c))return!1;E=!0}}else{const U=8&c?P:n[++C];if(8&c&&null!==t.attrs){if(!ni(t.attrs,U,i)){if(so(c))return!1;E=!0}continue}const ue=Or(8&c?"class":P,d,Fo(t),i);if(-1===ue){if(so(c))return!1;E=!0;continue}if(""!==U){let De;De=ue>p?"":d[ue+1].toLowerCase();const Ne=8&c?De:null;if(Ne&&-1!==lr(Ne,U,0)||2&c&&U!==De){if(so(c))return!1;E=!0}}}}else{if(!E&&!so(c)&&!so(P))return!1;if(E&&so(P))continue;E=!1,c=P|1&c}}return so(c)||E}function so(t){return 0==(1&t)}function Or(t,n,i,c){if(null===n)return-1;let d=0;if(c||!i){let p=!1;for(;d<n.length;){const E=n[d];if(E===t)return d;if(3===E||6===E)p=!0;else{if(1===E||2===E){let C=n[++d];for(;"string"==typeof C;)C=n[++d];continue}if(4===E)break;if(0===E){d+=4;continue}}d+=p?1:2}return-1}return function $a(t,n){let i=t.indexOf(4);if(i>-1)for(i++;i<t.length;){const c=t[i];if("number"==typeof c)return-1;if(c===n)return i;i++}return-1}(n,t)}function xi(t,n,i=!1){for(let c=0;c<n.length;c++)if(yc(t,n[c],i))return!0;return!1}function Ko(t,n){e:for(let i=0;i<n.length;i++){const c=n[i];if(t.length===c.length){for(let d=0;d<t.length;d++)if(t[d]!==c[d])continue e;return!0}}return!1}function Mi(t,n){return t?":not("+n.trim()+")":n}function Qs(t){let n=t[0],i=1,c=2,d="",p=!1;for(;i<t.length;){let E=t[i];if("string"==typeof E)if(2&c){const C=t[++i];d+="["+E+(C.length>0?'="'+C+'"':"")+"]"}else 8&c?d+="."+E:4&c&&(d+=" "+E);else""!==d&&!so(E)&&(n+=Mi(p,d),d=""),c=E,p=p||!so(c);i++}return""!==d&&(n+=Mi(p,d)),n}function Ha(t){return Me(()=>{const n=Yi(t),i={...n,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===at.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||kt.Emulated,styles:t.styles||$t,_:null,schemas:t.schemas||null,tView:null,id:""};_o(i);const c=t.dependencies;return i.directiveDefs=Es(c,!1),i.pipeDefs=Es(c,!0),i.id=function Ys(t){let n=0;const i=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const d of i)n=Math.imul(31,n)+d.charCodeAt(0)<<0;return n+=2147483648,"c"+n}(i),i})}function kr(t){return Mn(t)||Nr(t)}function Qi(t){return null!==t}function Lo(t){return Me(()=>({type:t.type,bootstrap:t.bootstrap||$t,declarations:t.declarations||$t,imports:t.imports||$t,exports:t.exports||$t,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function go(t,n){if(null==t)return ln;const i={};for(const c in t)if(t.hasOwnProperty(c)){let d=t[c],p=d;Array.isArray(d)&&(p=d[1],d=d[0]),i[d]=c,n&&(n[d]=p)}return i}function Xs(t){return Me(()=>{const n=Yi(t);return _o(n),n})}function Vo(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function Mn(t){return t[On]||null}function Nr(t){return t[cr]||null}function br(t){return t[Pr]||null}function zi(t){const n=Mn(t)||Nr(t)||br(t);return null!==n&&n.standalone}function Fr(t,n){const i=t[Ri]||null;if(!i&&!0===n)throw new Error(`Type ${tn(t)} does not have '\u0275mod' property.`);return i}function Yi(t){const n={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:n,inputTransforms:null,inputConfig:t.inputs||ln,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||$t,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:go(t.inputs,n),outputs:go(t.outputs)}}function _o(t){t.features?.forEach(n=>n(t))}function Es(t,n){if(!t)return null;const i=n?br:kr;return()=>("function"==typeof t?t():t).map(c=>i(c)).filter(Qi)}const er=0,Nt=1,vn=2,ur=3,Oi=4,Lr=5,Hr=6,os=7,fr=8,Ao=9,Qr=10,wn=11,Is=12,ws=13,ss=14,kn=15,as=16,mr=17,Ei=18,Do=19,za=20,ki=21,ao=22,Zi=23,_n=24,qt=25,aa=1,Ts=2,Er=7,Ni=9,ii=11;function ci(t){return Array.isArray(t)&&"object"==typeof t[aa]}function oi(t){return Array.isArray(t)&&!0===t[aa]}function Qo(t){return 0!=(4&t.flags)}function Xr(t){return t.componentOffset>-1}function Gi(t){return 1==(1&t.flags)}function Fi(t){return!!t.template}function ya(t){return 0!=(512&t[vn])}function pi(t,n){return t.hasOwnProperty(bi)?t[bi]:null}let Rr=null,hs=!1;function Ur(t){const n=Rr;return Rr=t,n}const ua={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function Wa(t){if(!Ka(t)||t.dirty){if(!t.producerMustRecompute(t)&&!Vn(t))return void(t.dirty=!1);t.producerRecomputeValue(t),t.dirty=!1}}function bo(t){t.dirty=!0,function Bo(t){if(void 0===t.liveConsumerNode)return;const n=hs;hs=!0;try{for(const i of t.liveConsumerNode)i.dirty||bo(i)}finally{hs=n}}(t),t.consumerMarkedDirty?.(t)}function da(t){return t&&(t.nextProducerIndex=0),Ur(t)}function ea(t,n){if(Ur(n),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(Ka(t))for(let i=t.nextProducerIndex;i<t.producerNode.length;i++)ta(t.producerNode[i],t.producerIndexOfThis[i]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Vn(t){As(t);for(let n=0;n<t.producerNode.length;n++){const i=t.producerNode[n],c=t.producerLastReadVersion[n];if(c!==i.version||(Wa(i),c!==i.version))return!0}return!1}function bc(t){if(As(t),Ka(t))for(let n=0;n<t.producerNode.length;n++)ta(t.producerNode[n],t.producerIndexOfThis[n]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function ta(t,n){if(function qa(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}(t),As(t),1===t.liveConsumerNode.length)for(let c=0;c<t.producerNode.length;c++)ta(t.producerNode[c],t.producerIndexOfThis[c]);const i=t.liveConsumerNode.length-1;if(t.liveConsumerNode[n]=t.liveConsumerNode[i],t.liveConsumerIndexOfThis[n]=t.liveConsumerIndexOfThis[i],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,n<t.liveConsumerNode.length){const c=t.liveConsumerIndexOfThis[n],d=t.liveConsumerNode[n];As(d),d.producerIndexOfThis[c]=n}}function Ka(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function As(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}let R=null;function Yr(t){const n=Ur(null);try{return t()}finally{Ur(n)}}const Li=()=>{},ps=(()=>({...ua,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule(t.ref)},hasRun:!1,cleanupFn:Li}))();class Eo{constructor(n,i,c){this.previousValue=n,this.currentValue=i,this.firstChange=c}isFirstChange(){return this.firstChange}}function wi(){return co}function co(t){return t.type.prototype.ngOnChanges&&(t.setInput=xo),Ss}function Ss(){const t=nl(this),n=t?.current;if(n){const i=t.previous;if(i===ln)t.previous=n;else for(let c in n)i[c]=n[c];t.current=null,this.ngOnChanges(n)}}function xo(t,n,i,c){const d=this.declaredInputs[i],p=nl(t)||function Su(t,n){return t[tl]=n}(t,{previous:ln,current:null}),E=p.current||(p.current={}),C=p.previous,P=C[d];E[d]=new Eo(P&&P.currentValue,n,C===ln),t[c]=n}wi.ngInherit=!0;const tl="__ngSimpleChanges__";function nl(t){return t[tl]||null}const Vs=function(t,n,i){};function Dr(t){for(;Array.isArray(t);)t=t[er];return t}function Ic(t,n){return Dr(n[t])}function Yo(t,n){return Dr(n[t.index])}function rl(t,n){return t.data[n]}function Wi(t,n){const i=n[t];return ci(i)?i:i[er]}function Rs(t,n){return null==n?null:t[n]}function Zo(t){t[mr]=0}function Tc(t){1024&t[vn]||(t[vn]|=1024,Bl(t,1))}function il(t){1024&t[vn]&&(t[vn]&=-1025,Bl(t,-1))}function Bl(t,n){let i=t[ur];if(null===i)return;i[Lr]+=n;let c=i;for(i=i[ur];null!==i&&(1===n&&1===c[Lr]||-1===n&&0===c[Lr]);)i[Lr]+=n,c=i,i=i[ur]}const Nn={lFrame:$s(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function jl(){return Nn.bindingsEnabled}function Ac(){return null!==Nn.skipHydrationRootTNode}function Je(){return Nn.lFrame.lView}function pr(){return Nn.lFrame.tView}function Sc(t){return Nn.lFrame.contextLView=t,t[fr]}function Hl(t){return Nn.lFrame.contextLView=null,t}function Vi(){let t=zl();for(;null!==t&&64===t.type;)t=t.parent;return t}function zl(){return Nn.lFrame.currentTNode}function Bs(t,n){const i=Nn.lFrame;i.currentTNode=t,i.isParent=n}function Pu(){return Nn.lFrame.isParent}function Us(){Nn.lFrame.isParent=!1}function T(){const t=Nn.lFrame;let n=t.bindingRootIndex;return-1===n&&(n=t.bindingRootIndex=t.tView.bindingStartIndex),n}function O(){return Nn.lFrame.bindingIndex++}function B(t){const n=Nn.lFrame,i=n.bindingIndex;return n.bindingIndex=n.bindingIndex+t,i}function Ke(t,n){const i=Nn.lFrame;i.bindingIndex=i.bindingRootIndex=t,Vt(n)}function Vt(t){Nn.lFrame.currentDirectiveIndex=t}function xr(){return Nn.lFrame.currentQueryIndex}function tr(t){Nn.lFrame.currentQueryIndex=t}function ui(t){const n=t[Nt];return 2===n.type?n.declTNode:1===n.type?t[Hr]:null}function Ia(t,n,i){if(i&nn.SkipSelf){let d=n,p=t;for(;!(d=d.parent,null!==d||i&nn.Host||(d=ui(p),null===d||(p=p[ss],10&d.type))););if(null===d)return!1;n=d,t=p}const c=Nn.lFrame=js();return c.currentTNode=n,c.lView=t,!0}function Xa(t){const n=js(),i=t[Nt];Nn.lFrame=n,n.currentTNode=i.firstChild,n.lView=t,n.tView=i,n.contextLView=t,n.bindingIndex=i.bindingStartIndex,n.inI18n=!1}function js(){const t=Nn.lFrame,n=null===t?null:t.child;return null===n?$s(t):n}function $s(t){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=n),n}function wa(){const t=Nn.lFrame;return Nn.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const Mc=wa;function xs(){const t=wa();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function to(){return Nn.lFrame.selectedIndex}function Ya(t){Nn.lFrame.selectedIndex=t}function mi(){const t=Nn.lFrame;return rl(t.tView,t.selectedIndex)}let Za=!0;function kh(){return Za}function Jo(t){Za=t}function cl(t,n){for(let i=n.directiveStart,c=n.directiveEnd;i<c;i++){const p=t.data[i].type.prototype,{ngAfterContentInit:E,ngAfterContentChecked:C,ngAfterViewInit:P,ngAfterViewChecked:U,ngOnDestroy:J}=p;E&&(t.contentHooks??=[]).push(-i,E),C&&((t.contentHooks??=[]).push(i,C),(t.contentCheckHooks??=[]).push(i,C)),P&&(t.viewHooks??=[]).push(-i,P),U&&((t.viewHooks??=[]).push(i,U),(t.viewCheckHooks??=[]).push(i,U)),null!=J&&(t.destroyHooks??=[]).push(i,J)}}function ll(t,n,i){Ja(t,n,3,i)}function ul(t,n,i,c){(3&t[vn])===i&&Ja(t,n,i,c)}function Nh(t,n){let i=t[vn];(3&i)===n&&(i&=8191,i+=1,t[vn]=i)}function Ja(t,n,i,c){const p=c??-1,E=n.length-1;let C=0;for(let P=void 0!==c?65535&t[mr]:0;P<E;P++)if("number"==typeof n[P+1]){if(C=n[P],null!=c&&C>=c)break}else n[P]<0&&(t[mr]+=65536),(C<p||-1==p)&&(gs(t,i,n,P),t[mr]=(4294901760&t[mr])+P+2),P++}function Oc(t,n){Vs(4,t,n);const i=Ur(null);try{n.call(t)}finally{Ur(i),Vs(5,t,n)}}function gs(t,n,i,c){const d=i[c]<0,p=i[c+1],C=t[d?-i[c]:i[c]];d?t[vn]>>13<t[mr]>>16&&(3&t[vn])===n&&(t[vn]+=8192,Oc(C,p)):Oc(C,p)}const Ta=-1;class dl{constructor(n,i,c){this.factory=n,this.resolving=!1,this.canSeeViewProviders=i,this.injectImpl=c}}function kc(t){return t!==Ta}function wd(t){return 32767&t}function Ca(t,n){let i=function Nu(t){return t>>16}(t),c=n;for(;i>0;)c=c[ss],i--;return c}let Fh=!0;function Aa(t){const n=Fh;return Fh=t,n}const Wl=255,ec=5;let Td=0;const Ps={};function Lu(t,n){const i=Kl(t,n);if(-1!==i)return i;const c=n[Nt];c.firstCreatePass&&(t.injectorIndex=n.length,fl(c.data,t),fl(n,null),fl(c.blueprint,null));const d=Cd(t,n),p=t.injectorIndex;if(kc(d)){const E=wd(d),C=Ca(d,n),P=C[Nt].data;for(let U=0;U<8;U++)n[p+U]=C[E+U]|P[E+U]}return n[p+8]=d,p}function fl(t,n){t.push(0,0,0,0,0,0,0,0,n)}function Kl(t,n){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===n[t.injectorIndex+8]?-1:t.injectorIndex}function Cd(t,n){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let i=0,c=null,d=n;for(;null!==d;){if(c=Rd(d),null===c)return Ta;if(i++,d=d[ss],-1!==c.injectorIndex)return c.injectorIndex|i<<16}return Ta}function Da(t,n,i){!function _s(t,n,i){let c;"string"==typeof i?c=i.charCodeAt(0)||0:i.hasOwnProperty(rs)&&(c=i[rs]),null==c&&(c=i[rs]=Td++);const d=c&Wl;n.data[t+(d>>ec)]|=1<<d}(t,n,i)}function dp(t,n,i){if(i&nn.Optional||void 0!==t)return t;pn()}function Fc(t,n,i,c){if(i&nn.Optional&&void 0===c&&(c=null),!(i&(nn.Self|nn.Host))){const d=t[Ao],p=Di(void 0);try{return d?d.get(n,c,i&nn.Optional):Ln(n,c,i&nn.Optional)}finally{Di(p)}}return dp(c,0,i)}function Ad(t,n,i,c=nn.Default,d){if(null!==t){if(2048&n[vn]&&!(c&nn.Self)){const E=function Bm(t,n,i,c,d){let p=t,E=n;for(;null!==p&&null!==E&&2048&E[vn]&&!(512&E[vn]);){const C=ql(p,E,i,c|nn.Self,Ps);if(C!==Ps)return C;let P=p.parent;if(!P){const U=E[za];if(U){const J=U.get(i,Ps,c);if(J!==Ps)return J}P=Rd(E),E=E[ss]}p=P}return d}(t,n,i,c,Ps);if(E!==Ps)return E}const p=ql(t,n,i,c,Ps);if(p!==Ps)return p}return Fc(n,i,c,d)}function ql(t,n,i,c,d){const p=function Lh(t){if("string"==typeof t)return t.charCodeAt(0)||0;const n=t.hasOwnProperty(rs)?t[rs]:void 0;return"number"==typeof n?n>=0?n&Wl:fp:n}(i);if("function"==typeof p){if(!Ia(n,t,c))return c&nn.Host?dp(d,0,c):Fc(n,i,c,d);try{let E;if(E=p(c),null!=E||c&nn.Optional)return E;pn()}finally{Mc()}}else if("number"==typeof p){let E=null,C=Kl(t,n),P=Ta,U=c&nn.Host?n[kn][Hr]:null;for((-1===C||c&nn.SkipSelf)&&(P=-1===C?Cd(t,n):n[C+8],P!==Ta&&Sd(c,!1)?(E=n[Nt],C=wd(P),n=Ca(P,n)):C=-1);-1!==C;){const J=n[Nt];if(Dd(p,C,J.data)){const ue=hp(C,n,i,E,c,U);if(ue!==Ps)return ue}P=n[C+8],P!==Ta&&Sd(c,n[Nt].data[C+8]===U)&&Dd(p,C,n)?(E=J,C=wd(P),n=Ca(P,n)):C=-1}}return d}function hp(t,n,i,c,d,p){const E=n[Nt],C=E.data[t+8],J=Hs(C,E,i,null==c?Xr(C)&&Fh:c!=E&&0!=(3&C.type),d&nn.Host&&p===C);return null!==J?pl(n,E,J,C):Ps}function Hs(t,n,i,c,d){const p=t.providerIndexes,E=n.data,C=1048575&p,P=t.directiveStart,J=p>>20,De=d?C+J:t.directiveEnd;for(let Ne=c?C:C+J;Ne<De;Ne++){const ht=E[Ne];if(Ne<P&&i===ht||Ne>=P&&ht.type===i)return Ne}if(d){const Ne=E[P];if(Ne&&Fi(Ne)&&Ne.type===i)return P}return null}function pl(t,n,i,c){let d=t[i];const p=n.data;if(function ap(t){return t instanceof dl}(d)){const E=d;E.resolving&&function rt(t,n){const i=n?`. Dependency path: ${n.join(" > ")} > ${t}`:"";throw new et(-200,`Circular dependency in DI detected for ${t}${i}`)}(function st(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Zt(t)}(p[i]));const C=Aa(E.canSeeViewProviders);E.resolving=!0;const U=E.injectImpl?Di(E.injectImpl):null;Ia(t,c,nn.Default);try{d=t[i]=E.factory(void 0,p,t,c),n.firstCreatePass&&i>=c.directiveStart&&function x_(t,n,i){const{ngOnChanges:c,ngOnInit:d,ngDoCheck:p}=n.type.prototype;if(c){const E=co(n);(i.preOrderHooks??=[]).push(t,E),(i.preOrderCheckHooks??=[]).push(t,E)}d&&(i.preOrderHooks??=[]).push(0-t,d),p&&((i.preOrderHooks??=[]).push(t,p),(i.preOrderCheckHooks??=[]).push(t,p))}(i,p[i],n)}finally{null!==U&&Di(U),Aa(C),E.resolving=!1,Mc()}}return d}function Dd(t,n,i){return!!(i[n+(t>>ec)]&1<<t)}function Sd(t,n){return!(t&nn.Self||t&nn.Host&&n)}class Mo{constructor(n,i){this._tNode=n,this._lView=i}get(n,i,c){return Ad(this._tNode,this._lView,n,Ui(c),i)}}function fp(){return new Mo(Vi(),Je())}function Bh(t){return Me(()=>{const n=t.prototype.constructor,i=n[bi]||Vu(n),c=Object.prototype;let d=Object.getPrototypeOf(t.prototype).constructor;for(;d&&d!==c;){const p=d[bi]||Vu(d);if(p&&p!==i)return p;d=Object.getPrototypeOf(d)}return p=>new p})}function Vu(t){return lt(t)?()=>{const n=Vu(He(t));return n&&n()}:pi(t)}function Rd(t){const n=t[Nt],i=n.type;return 2===i?n.declTNode:1===i?t[Hr]:null}function na(t){return function Nc(t,n){if("class"===n)return t.classes;if("style"===n)return t.styles;const i=t.attrs;if(i){const c=i.length;let d=0;for(;d<c;){const p=i[d];if(mo(p))break;if(0===p)d+=2;else if("number"==typeof p)for(d++;d<c&&"string"==typeof i[d];)d++;else{if(p===n)return i[d+1];d+=2}}}return null}(Vi(),t)}const gl="__parameters__";function Ql(t,n,i){return Me(()=>{const c=function Md(t){return function(...i){if(t){const c=t(...i);for(const d in c)this[d]=c[d]}}}(n);function d(...p){if(this instanceof d)return c.apply(this,p),this;const E=new d(...p);return C.annotation=E,C;function C(P,U,J){const ue=P.hasOwnProperty(gl)?P[gl]:Object.defineProperty(P,gl,{value:[]})[gl];for(;ue.length<=J;)ue.push(null);return(ue[J]=ue[J]||[]).push(E),P}}return i&&(d.prototype=Object.create(i.prototype)),d.prototype.ngMetadataName=t,d.annotationCls=d,d})}function Ra(t,n){t.forEach(i=>Array.isArray(i)?Ra(i,n):n(i))}function Yl(t,n,i){n>=t.length?t.push(i):t.splice(n,0,i)}function Zl(t,n){return n>=t.length-1?t.pop():t.splice(n,1)[0]}function yl(t,n){const i=[];for(let c=0;c<t;c++)i.push(n);return i}function es(t,n,i){let c=Vc(t,n);return c>=0?t[1|c]=i:(c=~c,function Wm(t,n,i,c){let d=t.length;if(d==n)t.push(i,c);else if(1===d)t.push(c,t[0]),t[0]=i;else{for(d--,t.push(t[d-1],t[d]);d>n;)t[d]=t[d-2],d--;t[n]=i,t[n+1]=c}}(t,c,n,i)),c}function Uu(t,n){const i=Vc(t,n);if(i>=0)return t[1|i]}function Vc(t,n){return function mp(t,n,i){let c=0,d=t.length>>i;for(;d!==c;){const p=c+(d-c>>1),E=t[p<<i];if(n===E)return p<<i;E>n?d=p:c=p+1}return~(d<<i)}(t,n,1)}const Od=ji(Ql("Optional"),8),kd=ji(Ql("SkipSelf"),4);function Xu(t){return 128==(128&t.flags)}var Yu=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Yu||{});const Hd=new Map;let ou=0;const Gd="__ngContext__";function ys(t,n){ci(n)?(t[Gd]=n[Do],function Km(t){Hd.set(t[Do],t)}(n)):t[Gd]=n}let g;function b(t,n){return g(t,n)}function K(t){const n=t[ur];return oi(n)?n[ur]:n}function We(t){return dn(t[Is])}function _t(t){return dn(t[Oi])}function dn(t){for(;null!==t&&!oi(t);)t=t[Oi];return t}function An(t,n,i,c,d){if(null!=c){let p,E=!1;oi(c)?p=c:ci(c)&&(E=!0,c=c[er]);const C=Dr(c);0===t&&null!==i?null==d?Rp(n,i,C):nd(n,i,C,d||null,!0):1===t&&null!==i?nd(n,i,C,d||null,!0):2===t?function Yd(t,n,i){const c=Xd(t,n);c&&function tg(t,n,i,c){t.removeChild(n,i,c)}(t,c,n,i)}(n,C,E):3===t&&n.destroyNode(C),null!=p&&function sg(t,n,i,c,d){const p=i[Er];p!==Dr(i)&&An(n,t,c,p,d);for(let C=ii;C<i.length;C++){const P=i[C];ff(P[Nt],P,t,n,c,p)}}(n,t,p,i,d)}}function ks(t,n,i){return t.createElement(n,i)}function ed(t,n){const i=t[Ni],c=i.indexOf(n);il(n),i.splice(c,1)}function Il(t,n){if(t.length<=ii)return;const i=ii+n,c=t[i];if(c){const d=c[as];null!==d&&d!==t&&ed(d,c),n>0&&(t[i-1][Oi]=c[Oi]);const p=Zl(t,ii+n);!function Uc(t,n){ff(t,n,n[wn],2,null,null),n[er]=null,n[Hr]=null}(c[Nt],c);const E=p[Ei];null!==E&&E.detachView(p[Nt]),c[ur]=null,c[Oi]=null,c[vn]&=-129}return c}function xa(t,n){if(!(256&n[vn])){const i=n[wn];n[Zi]&&bc(n[Zi]),n[_n]&&bc(n[_n]),i.destroyNode&&ff(t,n,i,3,null,null),function Kd(t){let n=t[Is];if(!n)return td(t[Nt],t);for(;n;){let i=null;if(ci(n))i=n[Is];else{const c=n[ii];c&&(i=c)}if(!i){for(;n&&!n[Oi]&&n!==t;)ci(n)&&td(n[Nt],n),n=n[ur];null===n&&(n=t),ci(n)&&td(n[Nt],n),i=n&&n[Oi]}n=i}}(n)}}function td(t,n){if(!(256&n[vn])){n[vn]&=-129,n[vn]|=256,function Zm(t,n){let i;if(null!=t&&null!=(i=t.destroyHooks))for(let c=0;c<i.length;c+=2){const d=n[i[c]];if(!(d instanceof dl)){const p=i[c+1];if(Array.isArray(p))for(let E=0;E<p.length;E+=2){const C=d[p[E]],P=p[E+1];Vs(4,C,P);try{P.call(C)}finally{Vs(5,C,P)}}else{Vs(4,d,p);try{p.call(d)}finally{Vs(5,d,p)}}}}}(t,n),function lf(t,n){const i=t.cleanup,c=n[os];if(null!==i)for(let p=0;p<i.length-1;p+=2)if("string"==typeof i[p]){const E=i[p+3];E>=0?c[E]():c[-E].unsubscribe(),p+=2}else i[p].call(c[i[p+1]]);null!==c&&(n[os]=null);const d=n[ki];if(null!==d){n[ki]=null;for(let p=0;p<d.length;p++)(0,d[p])()}}(t,n),1===n[Nt].type&&n[wn].destroy();const i=n[as];if(null!==i&&oi(n[ur])){i!==n[ur]&&ed(i,n);const c=n[Ei];null!==c&&c.detachView(t)}!function qm(t){Hd.delete(t[Do])}(n)}}function Jm(t,n,i){return function Sp(t,n,i){let c=n;for(;null!==c&&40&c.type;)c=(n=c).parent;if(null===c)return i[er];{const{componentOffset:d}=c;if(d>-1){const{encapsulation:p}=t.data[c.directiveStart+d];if(p===kt.None||p===kt.Emulated)return null}return Yo(c,i)}}(t,n.parent,i)}function nd(t,n,i,c,d){t.insertBefore(n,i,c,d)}function Rp(t,n,i){t.appendChild(n,i)}function eg(t,n,i,c,d){null!==c?nd(t,n,i,c,d):Rp(t,n,i)}function Xd(t,n){return t.parentNode(n)}function uf(t,n,i){return jc(t,n,i)}let rg,Zd,hg,pf,jc=function ng(t,n,i){return 40&t.type?Yo(t,i):null};function df(t,n,i,c){const d=Jm(t,c,n),p=n[wn],C=uf(c.parent||n[Hr],c,n);if(null!=d)if(Array.isArray(i))for(let P=0;P<i.length;P++)eg(p,d,i[P],C,!1);else eg(p,d,i,C,!1);void 0!==rg&&rg(p,c,n,i,d)}function rd(t,n){if(null!==n){const i=n.type;if(3&i)return Yo(n,t);if(4&i)return og(-1,t[n.index]);if(8&i){const c=n.child;if(null!==c)return rd(t,c);{const d=t[n.index];return oi(d)?og(-1,d):Dr(d)}}if(32&i)return b(n,t)()||Dr(t[n.index]);{const c=ig(t,n);return null!==c?Array.isArray(c)?c[0]:rd(K(t[kn]),c):rd(t,n.next)}}return null}function ig(t,n){return null!==n?t[kn][Hr].projection[n.projection]:null}function og(t,n){const i=ii+t+1;if(i<n.length){const c=n[i],d=c[Nt].firstChild;if(null!==d)return rd(c,d)}return n[Er]}function hf(t,n,i,c,d,p,E){for(;null!=i;){const C=c[i.index],P=i.type;if(E&&0===n&&(C&&ys(Dr(C),c),i.flags|=2),32!=(32&i.flags))if(8&P)hf(t,n,i.child,c,d,p,!1),An(n,t,d,C,p);else if(32&P){const U=b(i,c);let J;for(;J=U();)An(n,t,d,J,p);An(n,t,d,C,p)}else 16&P?H_(t,n,c,i,d,p):An(n,t,d,C,p);i=E?i.projectionNext:i.next}}function ff(t,n,i,c,d,p){hf(i,c,t.firstChild,n,d,p,!1)}function H_(t,n,i,c,d,p){const E=i[kn],P=E[Hr].projection[c.projection];if(Array.isArray(P))for(let U=0;U<P.length;U++)An(n,t,d,P[U],p);else{let U=P;const J=E[ur];Xu(c)&&(U.flags|=128),hf(t,n,U,J,d,p,!0)}}function id(t,n,i){""===i?t.removeAttribute(n,"class"):t.setAttribute(n,"class",i)}function lg(t,n,i){const{mergedAttrs:c,classes:d,styles:p}=i;null!==c&&Hi(t,n,c),null!==d&&id(t,n,d),null!==p&&function cg(t,n,i){t.setAttribute(n,"style",i)}(t,n,p)}function au(t){return function ug(){if(void 0===Zd&&(Zd=null,ir.trustedTypes))try{Zd=ir.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Zd}()?.createHTML(t)||t}function z_(t){hg=t}function Op(t){return function od(){if(void 0===pf&&(pf=null,ir.trustedTypes))try{pf=ir.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return pf}()?.createScriptURL(t)||t}class rc{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${cn})`}}class mf extends rc{getTypeName(){return"HTML"}}class kp extends rc{getTypeName(){return"Style"}}class G_ extends rc{getTypeName(){return"Script"}}class Ov extends rc{getTypeName(){return"URL"}}class W_ extends rc{getTypeName(){return"ResourceURL"}}function ic(t){return t instanceof rc?t.changingThisBreaksApplicationSecurity:t}function eh(t,n){const i=function pg(t){return t instanceof rc&&t.getTypeName()||null}(t);if(null!=i&&i!==n){if("ResourceURL"===i&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${i} (see ${cn})`)}return i===n}function Np(t){return new mf(t)}function mg(t){return new kp(t)}function kv(t){return new G_(t)}function th(t){return new Ov(t)}function Nv(t){return new W_(t)}class K_{constructor(n){this.inertDocumentHelper=n}getInertBodyElement(n){n="<body><remove></remove>"+n;try{const i=(new window.DOMParser).parseFromString(au(n),"text/html").body;return null===i?this.inertDocumentHelper.getInertBodyElement(n):(i.removeChild(i.firstChild),i)}catch{return null}}}class nh{constructor(n){this.defaultDoc=n,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(n){const i=this.inertDocument.createElement("template");return i.innerHTML=au(n),i}}const Lp=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Vp(t){return(t=String(t)).match(Lp)?t:"unsafe:"+t}function Tl(t){const n={};for(const i of t.split(","))n[i]=!0;return n}function gf(...t){const n={};for(const i of t)for(const c in i)i.hasOwnProperty(c)&&(n[c]=!0);return n}const Q_=Tl("area,br,col,hr,img,wbr"),Bp=Tl("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Up=Tl("rp,rt"),_f=gf(Q_,gf(Bp,Tl("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),gf(Up,Tl("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),gf(Up,Bp)),rh=Tl("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),sd=gf(rh,Tl("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Tl("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),J_=Tl("script,style,template");class gg{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(n){let i=n.firstChild,c=!0;for(;i;)if(i.nodeType===Node.ELEMENT_NODE?c=this.startElement(i):i.nodeType===Node.TEXT_NODE?this.chars(i.nodeValue):this.sanitizedSomething=!0,c&&i.firstChild)i=i.firstChild;else for(;i;){i.nodeType===Node.ELEMENT_NODE&&this.endElement(i);let d=this.checkClobberedElement(i,i.nextSibling);if(d){i=d;break}i=this.checkClobberedElement(i,i.parentNode)}return this.buf.join("")}startElement(n){const i=n.nodeName.toLowerCase();if(!_f.hasOwnProperty(i))return this.sanitizedSomething=!0,!J_.hasOwnProperty(i);this.buf.push("<"),this.buf.push(i);const c=n.attributes;for(let d=0;d<c.length;d++){const p=c.item(d),E=p.name,C=E.toLowerCase();if(!sd.hasOwnProperty(C)){this.sanitizedSomething=!0;continue}let P=p.value;rh[C]&&(P=Vp(P)),this.buf.push(" ",E,'="',jp(P),'"')}return this.buf.push(">"),!0}endElement(n){const i=n.nodeName.toLowerCase();_f.hasOwnProperty(i)&&!Q_.hasOwnProperty(i)&&(this.buf.push("</"),this.buf.push(i),this.buf.push(">"))}chars(n){this.buf.push(jp(n))}checkClobberedElement(n,i){if(i&&(n.compareDocumentPosition(i)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`);return i}}const ey=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,ih=/([^\#-~ |!])/g;function jp(t){return t.replace(/&/g,"&amp;").replace(ey,function(n){return"&#"+(1024*(n.charCodeAt(0)-55296)+(n.charCodeAt(1)-56320)+65536)+";"}).replace(ih,function(n){return"&#"+n.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let $p;function ty(t,n){let i=null;try{$p=$p||function Fp(t){const n=new nh(t);return function q_(){try{return!!(new window.DOMParser).parseFromString(au(""),"text/html")}catch{return!1}}()?new K_(n):n}(t);let c=n?String(n):"";i=$p.getInertBodyElement(c);let d=5,p=c;do{if(0===d)throw new Error("Failed to sanitize html because the input is unstable");d--,c=p,p=i.innerHTML,i=$p.getInertBodyElement(c)}while(c!==p);return au((new gg).sanitizeChildren(_g(i)||i))}finally{if(i){const c=_g(i)||i;for(;c.firstChild;)c.removeChild(c.firstChild)}}}function _g(t){return"content"in t&&function ny(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var ad=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(ad||{});function oy(t){const n=yf();return n?n.sanitize(ad.URL,t)||"":eh(t,"URL")?ic(t):Vp(Zt(t))}function sy(t){const n=yf();if(n)return Op(n.sanitize(ad.RESOURCE_URL,t)||"");if(eh(t,"ResourceURL"))return Op(ic(t));throw new et(904,!1)}function yg(t,n,i){return function ay(t,n){return"src"===n&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===n&&("base"===t||"link"===t)?sy:oy}(n,i)(t)}function yf(){const t=Je();return t&&t[Qr].sanitizer}const oh=new rn("ENVIRONMENT_INITIALIZER"),vg=new rn("INJECTOR",-1),vf=new rn("INJECTOR_DEF_TYPES");class _r{get(n,i=Q){if(i===Q){const c=new Error(`NullInjectorError: No provider for ${tn(n)}!`);throw c.name="NullInjectorError",c}return i}}function bf(t){return{\u0275providers:t}}function ly(...t){return{\u0275providers:sh(0,t),\u0275fromNgModule:!0}}function sh(t,...n){const i=[],c=new Set;let d;const p=E=>{i.push(E)};return Ra(n,E=>{const C=E;Oo(C,p,[],c)&&(d||=[],d.push(C))}),void 0!==d&&uy(d,p),i}function uy(t,n){for(let i=0;i<t.length;i++){const{ngModule:c,providers:d}=t[i];Ma(d,p=>{n(p,c)})}}function Oo(t,n,i,c){if(!(t=He(t)))return!1;let d=null,p=Cn(t);const E=!p&&Mn(t);if(p||E){if(E&&!E.standalone)return!1;d=t}else{const P=t.ngModule;if(p=Cn(P),!p)return!1;d=P}const C=c.has(d);if(E){if(C)return!1;if(c.add(d),E.dependencies){const P="function"==typeof E.dependencies?E.dependencies():E.dependencies;for(const U of P)Oo(U,n,i,c)}}else{if(!p)return!1;{if(null!=p.imports&&!C){let U;c.add(d);try{Ra(p.imports,J=>{Oo(J,n,i,c)&&(U||=[],U.push(J))})}finally{}void 0!==U&&uy(U,n)}if(!C){const U=pi(d)||(()=>new d);n({provide:d,useFactory:U,deps:$t},d),n({provide:vf,useValue:d,multi:!0},d),n({provide:oh,useValue:()=>Kn(d),multi:!0},d)}const P=p.providers;if(null!=P&&!C){const U=t;Ma(P,J=>{n(J,U)})}}}return d!==t&&void 0!==t.providers}function Ma(t,n){for(let i of t)Mt(i)&&(i=i.\u0275providers),Array.isArray(i)?Ma(i,n):n(i)}const Hp=mt({provide:String,useValue:mt});function bg(t){return null!==t&&"object"==typeof t&&Hp in t}function Cl(t){return"function"==typeof t}const ah=new rn("Set Injector scope."),Gp={},fE={};let si;function Eg(){return void 0===si&&(si=new _r),si}class Hc{}class Zr extends Hc{get destroyed(){return this._destroyed}constructor(n,i,c,d){super(),this.parent=i,this.source=c,this.scopes=d,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Ig(n,E=>this.processProvider(E)),this.records.set(vg,ra(void 0,this)),d.has("environment")&&this.records.set(Hc,ra(void 0,this));const p=this.records.get(ah);null!=p&&"string"==typeof p.value&&this.scopes.add(p.value),this.injectorDefTypes=new Set(this.get(vf.multi,$t,nn.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const i of this._ngOnDestroyHooks)i.ngOnDestroy();const n=this._onDestroyHooks;this._onDestroyHooks=[];for(const i of n)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(n){return this.assertNotDestroyed(),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){this.assertNotDestroyed();const i=Kt(this),c=Di(void 0);try{return n()}finally{Kt(i),Di(c)}}get(n,i=Q,c=nn.Default){if(this.assertNotDestroyed(),n.hasOwnProperty(ga))return n[ga](this);c=Ui(c);const p=Kt(this),E=Di(void 0);try{if(!(c&nn.SkipSelf)){let P=this.records.get(n);if(void 0===P){const U=function Gv(t){return"function"==typeof t||"object"==typeof t&&t instanceof rn}(n)&&Hn(n);P=U&&this.injectableDefInScope(U)?ra(Wp(n),Gp):null,this.records.set(n,P)}if(null!=P)return this.hydrate(n,P)}return(c&nn.Self?Eg():this.parent).get(n,i=c&nn.Optional&&i===Q?null:i)}catch(C){if("NullInjectorError"===C.name){if((C[Te]=C[Te]||[]).unshift(tn(n)),p)throw C;return function $i(t,n,i,c){const d=t[Te];throw n[Jn]&&d.unshift(n[Jn]),t.message=function Qe(t,n,i,c=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let d=tn(n);if(Array.isArray(n))d=n.map(tn).join(" -> ");else if("object"==typeof n){let p=[];for(let E in n)if(n.hasOwnProperty(E)){let C=n[E];p.push(E+":"+("string"==typeof C?JSON.stringify(C):tn(C)))}d=`{${p.join(", ")}}`}return`${i}${c?"("+c+")":""}[${d}]: ${t.replace(Ut,"\n  ")}`}("\n"+t.message,d,i,c),t.ngTokenPath=d,t[Te]=null,t}(C,n,"R3InjectorError",this.source)}throw C}finally{Di(E),Kt(p)}}resolveInjectorInitializers(){const n=Kt(this),i=Di(void 0);try{const d=this.get(oh.multi,$t,nn.Self);for(const p of d)p()}finally{Kt(n),Di(i)}}toString(){const n=[],i=this.records;for(const c of i.keys())n.push(tn(c));return`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new et(205,!1)}processProvider(n){let i=Cl(n=He(n))?n:He(n&&n.provide);const c=function $v(t){return bg(t)?ra(void 0,t.useValue):ra(Ef(t),Gp)}(n);if(Cl(n)||!0!==n.multi)this.records.get(i);else{let d=this.records.get(i);d||(d=ra(void 0,Gp,!0),d.factory=()=>Go(d.multi),this.records.set(i,d)),i=n,d.multi.push(n)}this.records.set(i,c)}hydrate(n,i){return i.value===Gp&&(i.value=fE,i.value=i.factory()),"object"==typeof i.value&&i.value&&function zv(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(i.value)&&this._ngOnDestroyHooks.add(i.value),i.value}injectableDefInScope(n){if(!n.providedIn)return!1;const i=He(n.providedIn);return"string"==typeof i?"any"===i||this.scopes.has(i):this.injectorDefTypes.has(i)}removeOnDestroy(n){const i=this._onDestroyHooks.indexOf(n);-1!==i&&this._onDestroyHooks.splice(i,1)}}function Wp(t){const n=Hn(t),i=null!==n?n.factory:pi(t);if(null!==i)return i;if(t instanceof rn)throw new et(204,!1);if(t instanceof Function)return function fy(t){const n=t.length;if(n>0)throw yl(n,"?"),new et(204,!1);const i=function zt(t){return t&&(t[rr]||t[Br])||null}(t);return null!==i?()=>i.factory(t):()=>new t}(t);throw new et(204,!1)}function Ef(t,n,i){let c;if(Cl(t)){const d=He(t);return pi(d)||Wp(d)}if(bg(t))c=()=>He(t.useValue);else if(function dy(t){return!(!t||!t.useFactory)}(t))c=()=>t.useFactory(...Go(t.deps||[]));else if(function zp(t){return!(!t||!t.useExisting)}(t))c=()=>Kn(He(t.useExisting));else{const d=He(t&&(t.useClass||t.provide));if(!function Hv(t){return!!t.deps}(t))return pi(d)||Wp(d);c=()=>new d(...Go(t.deps))}return c}function ra(t,n,i=!1){return{factory:t,value:n,multi:i?[]:void 0}}function Ig(t,n){for(const i of t)Array.isArray(i)?Ig(i,n):i&&Mt(i)?Ig(i.\u0275providers,n):n(i)}const Kp=new rn("AppId",{providedIn:"root",factory:()=>py}),py="ng",my=new rn("Platform Initializer"),lu=new rn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Al=new rn("AnimationModuleType"),Pa=new rn("CSP nonce",{providedIn:"root",factory:()=>function $c(){if(void 0!==hg)return hg;if(typeof document<"u")return document;throw new et(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let wf=(t,n,i)=>null;function Tf(t,n,i=!1){return wf(t,n,i)}class dh{}class Dg{}class pE{resolveComponentFactory(n){throw function Sf(t){const n=Error(`No component factory found for ${tn(t)}.`);return n.ngComponent=t,n}(n)}}let Zp=(()=>{class t{static{this.NULL=new pE}}return t})();function Sg(){return xf(Vi(),Je())}function xf(t,n){return new gu(Yo(t,n))}let gu=(()=>{class t{constructor(i){this.nativeElement=i}static{this.__NG_ELEMENT_ID__=Sg}}return t})();function mE(t){return t instanceof gu?t.nativeElement:t}class Rg{}let hh=(()=>{class t{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>function Zv(){const t=Je(),i=Wi(Vi().index,t);return(ci(i)?i:t)[wn]}()}}return t})(),gy=(()=>{class t{static{this.\u0275prov=Ot({token:t,providedIn:"root",factory:()=>null})}}return t})();class fh{constructor(n){this.full=n,this.major=n.split(".")[0],this.minor=n.split(".")[1],this.patch=n.split(".").slice(2).join(".")}}const Jv=new fh("16.2.12"),xg={};function kg(t,n=null,i=null,c){const d=yy(t,n,i,c);return d.resolveInjectorInitializers(),d}function yy(t,n=null,i=null,c,d=new Set){const p=[i||$t,ly(t)];return c=c||("object"==typeof t?void 0:tn(t)),new Zr(p,n||Eg(),c||null,d)}let ns=(()=>{class t{static{this.THROW_IF_NOT_FOUND=Q}static{this.NULL=new _r}static create(i,c){if(Array.isArray(i))return kg({name:""},c,i,"");{const d=i.name??"";return kg({name:d},i.parent,i.providers,d)}}static{this.\u0275prov=Ot({token:t,providedIn:"any",factory:()=>Kn(vg)})}static{this.__NG_ELEMENT_ID__=-1}}return t})();function zc(t){return t.ngOriginalError}class Rl{constructor(){this._console=console}handleError(n){const i=this._findOriginalError(n);this._console.error("ERROR",n),i&&this._console.error("ORIGINAL ERROR",i)}_findOriginalError(n){let i=n&&zc(n);for(;i&&zc(i);)i=zc(i);return i||null}}function by(t){return n=>{setTimeout(t,void 0,n)}}const xl=class vy extends I.B{constructor(n=!1){super(),this.__isAsync=n}emit(n){super.next(n)}subscribe(n,i,c){let d=n,p=i||(()=>null),E=c;if(n&&"object"==typeof n){const P=n;d=P.next?.bind(P),p=P.error?.bind(P),E=P.complete?.bind(P)}this.__isAsync&&(p=by(p),d&&(d=by(d)),E&&(E=by(E)));const C=super.subscribe({next:d,error:p,complete:E});return n instanceof Ee.yU&&n.add(C),C}};function Ng(...t){}class jo{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:i=!1,shouldCoalesceRunChangeDetection:c=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new xl(!1),this.onMicrotaskEmpty=new xl(!1),this.onStable=new xl(!1),this.onError=new xl(!1),typeof Zone>"u")throw new et(908,!1);Zone.assertZonePatched();const d=this;d._nesting=0,d._outer=d._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(d._inner=d._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(d._inner=d._inner.fork(Zone.longStackTraceZoneSpec)),d.shouldCoalesceEventChangeDetection=!c&&i,d.shouldCoalesceRunChangeDetection=c,d.lastRequestAnimationFrameId=-1,d.nativeRequestAnimationFrame=function tb(){const t="function"==typeof ir.requestAnimationFrame;let n=ir[t?"requestAnimationFrame":"setTimeout"],i=ir[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&n&&i){const c=n[Zone.__symbol__("OriginalDelegate")];c&&(n=c);const d=i[Zone.__symbol__("OriginalDelegate")];d&&(i=d)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:i}}().nativeRequestAnimationFrame,function vE(t){const n=()=>{!function Ey(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(ir,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,pd(t),t.isCheckStableRunning=!0,Lg(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),pd(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(i,c,d,p,E,C)=>{if(function nb(t){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0].data?.__ignore_ng_zone__}(C))return i.invokeTask(d,p,E,C);try{return Pf(t),i.invokeTask(d,p,E,C)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===p.type||t.shouldCoalesceRunChangeDetection)&&n(),Iy(t)}},onInvoke:(i,c,d,p,E,C,P)=>{try{return Pf(t),i.invoke(d,p,E,C,P)}finally{t.shouldCoalesceRunChangeDetection&&n(),Iy(t)}},onHasTask:(i,c,d,p)=>{i.hasTask(d,p),c===d&&("microTask"==p.change?(t._hasPendingMicrotasks=p.microTask,pd(t),Lg(t)):"macroTask"==p.change&&(t.hasPendingMacrotasks=p.macroTask))},onHandleError:(i,c,d,p)=>(i.handleError(d,p),t.runOutsideAngular(()=>t.onError.emit(p)),!1)})}(d)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!jo.isInAngularZone())throw new et(909,!1)}static assertNotInAngularZone(){if(jo.isInAngularZone())throw new et(909,!1)}run(n,i,c){return this._inner.run(n,i,c)}runTask(n,i,c,d){const p=this._inner,E=p.scheduleEventTask("NgZoneEvent: "+d,n,Fg,Ng,Ng);try{return p.runTask(E,i,c)}finally{p.cancelTask(E)}}runGuarded(n,i,c){return this._inner.runGuarded(n,i,c)}runOutsideAngular(n){return this._outer.run(n)}}const Fg={};function Lg(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function pd(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function Pf(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Iy(t){t._nesting--,Lg(t)}class wy{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new xl,this.onMicrotaskEmpty=new xl,this.onStable=new xl,this.onError=new xl}run(n,i,c){return n.apply(i,c)}runGuarded(n,i,c){return n.apply(i,c)}runOutsideAngular(n){return n()}runTask(n,i,c,d){return n.apply(i,c)}}const Ty=new rn("",{providedIn:"root",factory:Cy});function Cy(){const t=Yn(jo);let n=!0;const i=new $e.c(d=>{n=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{d.next(n),d.complete()})}),c=new $e.c(d=>{let p;t.runOutsideAngular(()=>{p=t.onStable.subscribe(()=>{jo.assertNotInAngularZone(),queueMicrotask(()=>{!n&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(n=!0,d.next(!0))})})});const E=t.onUnstable.subscribe(()=>{jo.assertInAngularZone(),n&&(n=!1,t.runOutsideAngular(()=>{d.next(!1)}))});return()=>{p.unsubscribe(),E.unsubscribe()}});return(0,Y.h)(i,c.pipe(pe()))}function Ml(t){return t instanceof Function?t():t}let Vg=(()=>{class t{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static{this.\u0275prov=Ot({token:t,providedIn:"root",factory:()=>new t})}}return t})();function Oa(t){for(;t;){t[vn]|=64;const n=K(t);if(ya(t)&&!n)return t;t=n}return null}const Sy=new rn("",{providedIn:"root",factory:()=>!1});let Ff=null;function Lf(t,n){return t[n]??Ki()}function om(t,n){const i=Ki();i.producerNode?.length&&(t[n]=Ff,i.lView=t,Ff=xy())}const db={...ua,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Oa(t.lView)},lView:null};function xy(){return Object.create(db)}function Ki(){return Ff??=xy(),Ff}const hn={};function _u(t){Vf(pr(),Je(),to()+t,!1)}function Vf(t,n,i,c){if(!c)if(3==(3&n[vn])){const p=t.preOrderCheckHooks;null!==p&&ll(n,p,i)}else{const p=t.preOrderHooks;null!==p&&ul(n,p,0,i)}Ya(i)}function yu(t,n=nn.Default){const i=Je();return null===i?Kn(t,n):Ad(Vi(),i,He(t),n)}function mh(){throw new Error("invalid")}function Bf(t,n,i,c,d,p,E,C,P,U,J){const ue=n.blueprint.slice();return ue[er]=d,ue[vn]=140|c,(null!==U||t&&2048&t[vn])&&(ue[vn]|=2048),Zo(ue),ue[ur]=ue[ss]=t,ue[fr]=i,ue[Qr]=E||t&&t[Qr],ue[wn]=C||t&&t[wn],ue[Ao]=P||t&&t[Ao]||null,ue[Hr]=p,ue[Do]=function tf(){return ou++}(),ue[ao]=J,ue[za]=U,ue[kn]=2==n.type?t[kn]:ue,ue}function Pl(t,n,i,c,d){let p=t.data[n];if(null===p)p=function Uf(t,n,i,c,d){const p=zl(),E=Pu(),P=t.data[n]=function My(t,n,i,c,d,p){let E=n?n.injectorIndex:-1,C=0;return Ac()&&(C|=128),{type:i,index:c,insertBeforeIndex:null,injectorIndex:E,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:C,providerIndexes:0,value:d,attrs:p,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,E?p:p&&p.parent,i,n,c,d);return null===t.firstChild&&(t.firstChild=P),null!==p&&(E?null==p.child&&null!==P.parent&&(p.child=P):null===p.next&&(p.next=P,P.prev=p)),P}(t,n,i,c,d),function ne(){return Nn.lFrame.inI18n}()&&(p.flags|=32);else if(64&p.type){p.type=i,p.value=c,p.attrs=d;const E=function Rc(){const t=Nn.lFrame,n=t.currentTNode;return t.isParent?n:n.parent}();p.injectorIndex=null===E?-1:E.injectorIndex}return Bs(p,!0),p}function gh(t,n,i,c){if(0===i)return-1;const d=n.length;for(let p=0;p<i;p++)n.push(c),t.blueprint.push(c),t.data.push(null);return d}function am(t,n,i,c,d){const p=Lf(n,Zi),E=to(),C=2&c;try{Ya(-1),C&&n.length>qt&&Vf(t,n,qt,!1),Vs(C?2:0,d);const U=C?p:null,J=da(U);try{null!==U&&(U.dirty=!1),i(c,d)}finally{ea(U,J)}}finally{C&&null===n[Zi]&&om(n,Zi),Ya(E),Vs(C?3:1,d)}}function jf(t,n,i){if(Qo(n)){const c=Ur(null);try{const p=n.directiveEnd;for(let E=n.directiveStart;E<p;E++){const C=t.data[E];C.contentQueries&&C.contentQueries(1,i[E],E)}}finally{Ur(c)}}}function cm(t,n,i){jl()&&(function qg(t,n,i,c){const d=i.directiveStart,p=i.directiveEnd;Xr(i)&&function gb(t,n,i){const c=Yo(n,t),d=jg(i);let E=16;i.signals?E=4096:i.onPush&&(E=64);const C=Gf(t,Bf(t,d,null,E,c,n,null,t[Qr].rendererFactory.createRenderer(c,i),null,null,null));t[n.index]=C}(n,i,t.data[d+i.componentOffset]),t.firstCreatePass||Lu(i,n),ys(c,n);const E=i.initialInputs;for(let C=d;C<p;C++){const P=t.data[C],U=pl(n,t,C,i);ys(U,n),null!==E&&ka(0,C-d,U,P,0,E),Fi(P)&&(Wi(i.index,n)[fr]=pl(n,t,C,i))}}(t,n,i,Yo(i,n)),64==(64&i.flags)&&Oy(t,n,i))}function gd(t,n,i=Yo){const c=n.localNames;if(null!==c){let d=n.index+1;for(let p=0;p<c.length;p+=2){const E=c[p+1],C=-1===E?i(n,t):t[E];t[d++]=C}}}function jg(t){const n=t.tView;return null===n||n.incompleteFirstPass?t.tView=lm(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):n}function lm(t,n,i,c,d,p,E,C,P,U,J){const ue=qt+c,De=ue+d,Ne=function $g(t,n){const i=[];for(let c=0;c<n;c++)i.push(c<t?null:hn);return i}(ue,De),ht="function"==typeof U?U():U;return Ne[Nt]={type:t,blueprint:Ne,template:i,queries:null,viewQuery:C,declTNode:n,data:Ne.slice().fill(null,ue),bindingStartIndex:ue,expandoStartIndex:De,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof p?p():p,pipeRegistry:"function"==typeof E?E():E,firstChild:null,schemas:P,consts:ht,incompleteFirstPass:!1,ssrId:J}}let um=t=>null;function zg(t,n,i,c){for(let d in t)if(t.hasOwnProperty(d)){i=null===i?{}:i;const p=t[d];null===c?Py(i,n,d,p):c.hasOwnProperty(d)&&Py(i,n,c[d],p)}return i}function Py(t,n,i,c){t.hasOwnProperty(i)?t[i].push(n,c):t[i]=[n,c]}function vh(t,n,i,c){if(jl()){const d=null===c?null:{"":-1},p=function hb(t,n){const i=t.directiveRegistry;let c=null,d=null;if(i)for(let p=0;p<i.length;p++){const E=i[p];if(xi(n,E.selectors,!1))if(c||(c=[]),Fi(E))if(null!==E.findHostDirectiveDefs){const C=[];d=d||new Map,E.findHostDirectiveDefs(E,C,d),c.unshift(...C,E),Qg(t,n,C.length)}else c.unshift(E),Qg(t,n,0);else d=d||new Map,E.findHostDirectiveDefs?.(E,c,d),c.push(E)}return null===c?null:[c,d]}(t,i);let E,C;null===p?E=C=null:[E,C]=p,null!==E&&cc(t,n,i,E,d,C),d&&function ky(t,n,i){if(n){const c=t.localNames=[];for(let d=0;d<n.length;d+=2){const p=i[n[d+1]];if(null==p)throw new et(-301,!1);c.push(n[d],p)}}}(i,c,d)}i.mergedAttrs=fi(i.mergedAttrs,i.attrs)}function cc(t,n,i,c,d,p){for(let U=0;U<c.length;U++)Da(Lu(i,n),t,c[U].type);!function pb(t,n,i){t.flags|=1,t.directiveStart=n,t.directiveEnd=n+i,t.providerIndexes=n}(i,t.data.length,c.length);for(let U=0;U<c.length;U++){const J=c[U];J.providersResolver&&J.providersResolver(J)}let E=!1,C=!1,P=gh(t,n,c.length,null);for(let U=0;U<c.length;U++){const J=c[U];i.mergedAttrs=fi(i.mergedAttrs,J.hostAttrs),mb(t,i,n,P,J),fb(P,J,d),null!==J.contentQueries&&(i.flags|=4),(null!==J.hostBindings||null!==J.hostAttrs||0!==J.hostVars)&&(i.flags|=64);const ue=J.type.prototype;!E&&(ue.ngOnChanges||ue.ngOnInit||ue.ngDoCheck)&&((t.preOrderHooks??=[]).push(i.index),E=!0),!C&&(ue.ngOnChanges||ue.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(i.index),C=!0),P++}!function Hf(t,n,i){const d=n.directiveEnd,p=t.data,E=n.attrs,C=[];let P=null,U=null;for(let J=n.directiveStart;J<d;J++){const ue=p[J],De=i?i.get(ue):null,ht=De?De.outputs:null;P=zg(ue.inputs,J,P,De?De.inputs:null),U=zg(ue.outputs,J,U,ht);const St=null===P||null===E||Fo(n)?null:Ny(P,J,E);C.push(St)}null!==P&&(P.hasOwnProperty("class")&&(n.flags|=8),P.hasOwnProperty("style")&&(n.flags|=16)),n.initialInputs=C,n.inputs=P,n.outputs=U}(t,i,p)}function Oy(t,n,i){const c=i.directiveStart,d=i.directiveEnd,p=i.index,E=function je(){return Nn.lFrame.currentDirectiveIndex}();try{Ya(p);for(let C=c;C<d;C++){const P=t.data[C],U=n[C];Vt(C),(null!==P.hostBindings||0!==P.hostVars||null!==P.hostAttrs)&&hm(P,U)}}finally{Ya(-1),Vt(E)}}function hm(t,n){null!==t.hostBindings&&t.hostBindings(1,n)}function Qg(t,n,i){n.componentOffset=i,(t.components??=[]).push(n.index)}function fb(t,n,i){if(i){if(n.exportAs)for(let c=0;c<n.exportAs.length;c++)i[n.exportAs[c]]=t;Fi(n)&&(i[""]=t)}}function mb(t,n,i,c,d){t.data[c]=d;const p=d.factory||(d.factory=pi(d.type)),E=new dl(p,Fi(d),yu);t.blueprint[c]=E,i[c]=E,function Kg(t,n,i,c,d){const p=d.hostBindings;if(p){let E=t.hostBindingOpCodes;null===E&&(E=t.hostBindingOpCodes=[]);const C=~n.index;(function _d(t){let n=t.length;for(;n>0;){const i=t[--n];if("number"==typeof i&&i<0)return i}return 0})(E)!=C&&E.push(C),E.push(i,c,p)}}(t,n,c,gh(t,i,d.hostVars,hn),d)}function Wc(t,n,i,c,d,p){const E=Yo(t,n);!function Xg(t,n,i,c,d,p,E){if(null==p)t.removeAttribute(n,d,i);else{const C=null==E?Zt(p):E(p,c||"",d);t.setAttribute(n,d,C,i)}}(n[wn],E,p,t.value,i,c,d)}function ka(t,n,i,c,d,p){const E=p[n];if(null!==E)for(let C=0;C<E.length;)fm(c,i,E[C++],E[C++],E[C++])}function fm(t,n,i,c,d){const p=Ur(null);try{const E=t.inputTransforms;null!==E&&E.hasOwnProperty(c)&&(d=E[c].call(n,d)),null!==t.setInput?t.setInput(n,d,i,c):n[c]=d}finally{Ur(p)}}function Ny(t,n,i){let c=null,d=0;for(;d<i.length;){const p=i[d];if(0!==p)if(5!==p){if("number"==typeof p)break;if(t.hasOwnProperty(p)){null===c&&(c=[]);const E=t[p];for(let C=0;C<E.length;C+=2)if(E[C]===n){c.push(p,E[C+1],i[d+1]);break}}d+=2}else d+=2;else d+=4}return c}function Yg(t,n,i,c){return[t,!0,!1,n,null,0,c,i,null,null,null]}function Fy(t,n){const i=t.contentQueries;if(null!==i)for(let c=0;c<i.length;c+=2){const p=i[c+1];if(-1!==p){const E=t.data[p];tr(i[c]),E.contentQueries(2,n[p],p)}}}function Gf(t,n){return t[Is]?t[ws][Oi]=n:t[Is]=n,t[ws]=n,n}function pm(t,n,i){tr(0);const c=Ur(null);try{n(t,i)}finally{Ur(c)}}function Zg(t){return t[os]||(t[os]=[])}function Ly(t){return t.cleanup||(t.cleanup=[])}function mm(t,n){const i=t[Ao],c=i?i.get(Rl,null):null;c&&c.handleError(n)}function Jg(t,n,i,c,d){for(let p=0;p<i.length;){const E=i[p++],C=i[p++];fm(t.data[E],n[E],c,C,d)}}function qc(t,n,i){const c=Ic(n,t);!function Gr(t,n,i){t.setValue(n,i)}(t[wn],c,i)}function Vy(t,n){const i=Wi(n,t),c=i[Nt];!function _b(t,n){for(let i=n.length;i<t.blueprint.length;i++)n.push(t.blueprint[i])}(c,i);const d=i[er];null!==d&&null===i[ao]&&(i[ao]=Tf(d,i[Ao])),vs(c,i,i[fr])}function vs(t,n,i){Xa(n);try{const c=t.viewQuery;null!==c&&pm(1,c,i);const d=t.template;null!==d&&am(t,n,d,1,i),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Fy(t,n),t.staticViewQueries&&pm(2,t.viewQuery,i);const p=t.components;null!==p&&function Wf(t,n){for(let i=0;i<n.length;i++)Vy(t,n[i])}(n,p)}catch(c){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),c}finally{n[vn]&=-5,xs()}}let By=(()=>{class t{constructor(){this.all=new Set,this.queue=new Map}create(i,c,d){const p=typeof Zone>"u"?null:Zone.current,E=function Ar(t,n,i){const c=Object.create(ps);i&&(c.consumerAllowSignalWrites=!0),c.fn=t,c.schedule=n;const d=E=>{c.cleanupFn=E};return c.ref={notify:()=>bo(c),run:()=>{if(c.dirty=!1,c.hasRun&&!Vn(c))return;c.hasRun=!0;const E=da(c);try{c.cleanupFn(),c.cleanupFn=Li,c.fn(d)}finally{ea(c,E)}},cleanup:()=>c.cleanupFn()},c.ref}(i,U=>{this.all.has(U)&&this.queue.set(U,p)},d);let C;this.all.add(E),E.notify();const P=()=>{E.cleanup(),C?.(),this.all.delete(E),this.queue.delete(E)};return C=c?.onDestroy(P),{destroy:P}}flush(){if(0!==this.queue.size)for(const[i,c]of this.queue)this.queue.delete(i),c?c.run(()=>i.run()):i.run()}get isQueueEmpty(){return 0===this.queue.size}static{this.\u0275prov=Ot({token:t,providedIn:"root",factory:()=>new t})}}return t})();function gm(t,n,i){let c=i?t.styles:null,d=i?t.classes:null,p=0;if(null!==n)for(let E=0;E<n.length;E++){const C=n[E];"number"==typeof C?p=C:1==p?d=Tn(d,C):2==p&&(c=Tn(c,C+": "+n[++E]+";"))}i?t.styles=c:t.stylesWithoutHost=c,i?t.classes=d:t.classesWithoutHost=d}function qf(t,n,i,c,d=!1){for(;null!==i;){const p=n[i.index];null!==p&&c.push(Dr(p)),oi(p)&&e_(p,c);const E=i.type;if(8&E)qf(t,n,i.child,c);else if(32&E){const C=b(i,n);let P;for(;P=C();)c.push(P)}else if(16&E){const C=ig(n,i);if(Array.isArray(C))c.push(...C);else{const P=K(n[kn]);qf(P[Nt],P,C,c,!0)}}i=d?i.projectionNext:i.next}return c}function e_(t,n){for(let i=ii;i<t.length;i++){const c=t[i],d=c[Nt].firstChild;null!==d&&qf(c[Nt],c,d,n)}t[Er]!==t[er]&&n.push(t[Er])}function _m(t,n,i,c=!0){const d=n[Qr],p=d.rendererFactory,E=d.afterRenderEventManager;p.begin?.(),E?.begin();try{t_(t,n,t.template,i)}catch(P){throw c&&mm(n,P),P}finally{p.end?.(),d.effectManager?.flush(),E?.end()}}function t_(t,n,i,c){const d=n[vn];if(256!=(256&d)){n[Qr].effectManager?.flush(),Xa(n);try{Zo(n),function w(t){return Nn.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==i&&am(t,n,i,2,c);const E=3==(3&d);if(E){const U=t.preOrderCheckHooks;null!==U&&ll(n,U,null)}else{const U=t.preOrderHooks;null!==U&&ul(n,U,0,null),Nh(n,0)}if(function yb(t){for(let n=We(t);null!==n;n=_t(n)){if(!n[Ts])continue;const i=n[Ni];for(let c=0;c<i.length;c++){Tc(i[c])}}}(n),$y(n,2),null!==t.contentQueries&&Fy(t,n),E){const U=t.contentCheckHooks;null!==U&&ll(n,U)}else{const U=t.contentHooks;null!==U&&ul(n,U,1),Nh(n,1)}!function sm(t,n){const i=t.hostBindingOpCodes;if(null===i)return;const c=Lf(n,_n);try{for(let d=0;d<i.length;d++){const p=i[d];if(p<0)Ya(~p);else{const E=p,C=i[++d],P=i[++d];Ke(C,E),c.dirty=!1;const U=da(c);try{P(2,n[E])}finally{ea(c,U)}}}}finally{null===n[_n]&&om(n,_n),Ya(-1)}}(t,n);const C=t.components;null!==C&&Qf(n,C,0);const P=t.viewQuery;if(null!==P&&pm(2,P,c),E){const U=t.viewCheckHooks;null!==U&&ll(n,U)}else{const U=t.viewHooks;null!==U&&ul(n,U,2),Nh(n,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),n[vn]&=-73,il(n)}finally{xs()}}}function $y(t,n){for(let i=We(t);null!==i;i=_t(i))for(let c=ii;c<i.length;c++)lc(i[c],n)}function Qc(t,n,i){lc(Wi(n,t),i)}function lc(t,n){if(!function wo(t){return 128==(128&t[vn])}(t))return;const i=t[Nt],c=t[vn];if(80&c&&0===n||1024&c||2===n)t_(i,t,i.template,t[fr]);else if(t[Lr]>0){$y(t,1);const d=i.components;null!==d&&Qf(t,d,1)}}function Qf(t,n,i){for(let c=0;c<n.length;c++)Qc(t,n[c],i)}class Xf{get rootNodes(){const n=this._lView,i=n[Nt];return qf(i,n,i.firstChild,[])}constructor(n,i){this._lView=n,this._cdRefInjectingView=i,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[fr]}set context(n){this._lView[fr]=n}get destroyed(){return 256==(256&this._lView[vn])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[ur];if(oi(n)){const i=n[8],c=i?i.indexOf(this):-1;c>-1&&(Il(n,c),Zl(i,c))}this._attachedToViewContainer=!1}xa(this._lView[Nt],this._lView)}onDestroy(n){!function ha(t,n){if(256==(256&t[vn]))throw new et(911,!1);null===t[ki]&&(t[ki]=[]),t[ki].push(n)}(this._lView,n)}markForCheck(){Oa(this._cdRefInjectingView||this._lView)}detach(){this._lView[vn]&=-129}reattach(){this._lView[vn]|=128}detectChanges(){_m(this._lView[Nt],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new et(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function cf(t,n){ff(t,n,n[wn],2,null,null)}(this._lView[Nt],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new et(902,!1);this._appRef=n}}class Hy extends Xf{constructor(n){super(n),this._view=n}detectChanges(){const n=this._view;_m(n[Nt],n,n[fr],!1)}checkNoChanges(){}get context(){return null}}class yd extends Zp{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const i=Mn(n);return new Eh(i,this.ngModule)}}function bh(t){const n=[];for(let i in t)t.hasOwnProperty(i)&&n.push({propName:t[i],templateName:i});return n}class vb{constructor(n,i){this.injector=n,this.parentInjector=i}get(n,i,c){c=Ui(c);const d=this.injector.get(n,xg,c);return d!==xg||i===xg?d:this.parentInjector.get(n,i,c)}}class Eh extends Dg{get inputs(){const n=this.componentDef,i=n.inputTransforms,c=bh(n.inputs);if(null!==i)for(const d of c)i.hasOwnProperty(d.propName)&&(d.transform=i[d.propName]);return c}get outputs(){return bh(this.componentDef.outputs)}constructor(n,i){super(),this.componentDef=n,this.ngModule=i,this.componentType=n.type,this.selector=function sa(t){return t.map(Qs).join(",")}(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!i}create(n,i,c,d){let p=(d=d||this.ngModule)instanceof Hc?d:d?.injector;p&&null!==this.componentDef.getStandaloneInjector&&(p=this.componentDef.getStandaloneInjector(p)||p);const E=p?new vb(n,p):n,C=E.get(Rg,null);if(null===C)throw new et(407,!1);const ue={rendererFactory:C,sanitizer:E.get(gy,null),effectManager:E.get(By,null),afterRenderEventManager:E.get(Vg,null)},De=C.createRenderer(null,this.componentDef),Ne=this.componentDef.selectors[0][0]||"div",ht=c?function _h(t,n,i,c){const p=c.get(Sy,!1)||i===kt.ShadowDom,E=t.selectRootElement(n,p);return function Hg(t){um(t)}(E),E}(De,c,this.componentDef.encapsulation,E):ks(De,Ne,function zy(t){const n=t.toLowerCase();return"svg"===n?"svg":"math"===n?"math":null}(Ne)),bn=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let bt=null;null!==ht&&(bt=Tf(ht,E,!0));const nr=lm(0,null,null,1,0,null,null,null,null,null,null),wr=Bf(null,nr,null,bn,null,null,ue,De,E,null,bt);let Ai,_c;Xa(wr);try{const xh=this.componentDef;let S_,g0=null;xh.findHostDirectiveDefs?(S_=[],g0=new Map,xh.findHostDirectiveDefs(xh,S_,g0),S_.push(xh)):S_=[xh];const tD=function Eb(t,n){const i=t[Nt],c=qt;return t[c]=n,Pl(i,c,2,"#host",null)}(wr,ht),nD=function Ib(t,n,i,c,d,p,E){const C=d[Nt];!function wb(t,n,i,c){for(const d of t)n.mergedAttrs=fi(n.mergedAttrs,d.hostAttrs);null!==n.mergedAttrs&&(gm(n,n.mergedAttrs,!0),null!==i&&lg(c,i,n))}(c,t,n,E);let P=null;null!==n&&(P=Tf(n,d[Ao]));const U=p.rendererFactory.createRenderer(n,i);let J=16;i.signals?J=4096:i.onPush&&(J=64);const ue=Bf(d,jg(i),null,J,d[t.index],t,p,U,null,null,P);return C.firstCreatePass&&Qg(C,t,c.length-1),Gf(d,ue),d[t.index]=ue}(tD,ht,xh,S_,wr,ue,De);_c=rl(nr,qt),ht&&function Wy(t,n,i,c){if(c)Hi(t,i,["ng-version",Jv.full]);else{const{attrs:d,classes:p}=function $r(t){const n=[],i=[];let c=1,d=2;for(;c<t.length;){let p=t[c];if("string"==typeof p)2===d?""!==p&&n.push(p,t[++c]):8===d&&i.push(p);else{if(!so(d))break;d=p}c++}return{attrs:n,classes:i}}(n.selectors[0]);d&&Hi(t,i,d),p&&p.length>0&&id(t,i,p.join(" "))}}(De,xh,ht,c),void 0!==i&&function ym(t,n,i){const c=t.projection=[];for(let d=0;d<n.length;d++){const p=i[d];c.push(null!=p?Array.from(p):null)}}(_c,this.ngContentSelectors,i),Ai=function Gy(t,n,i,c,d,p){const E=Vi(),C=d[Nt],P=Yo(E,d);cc(C,d,E,i,null,c);for(let J=0;J<i.length;J++)ys(pl(d,C,E.directiveStart+J,E),d);Oy(C,d,E),P&&ys(P,d);const U=pl(d,C,E.directiveStart+E.componentOffset,E);if(t[fr]=d[fr]=U,null!==p)for(const J of p)J(U,n);return jf(C,E,t),U}(nD,xh,S_,g0,wr,[n_]),vs(nr,wr,null)}finally{xs()}return new bb(this.componentType,Ai,xf(_c,wr),wr,_c)}}class bb extends dh{constructor(n,i,c,d,p){super(),this.location=c,this._rootLView=d,this._tNode=p,this.previousInputValues=null,this.instance=i,this.hostView=this.changeDetectorRef=new Hy(d),this.componentType=n}setInput(n,i){const c=this._tNode.inputs;let d;if(null!==c&&(d=c[n])){if(this.previousInputValues??=new Map,this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),i))return;const p=this._rootLView;Jg(p[Nt],p,d,n,i),this.previousInputValues.set(n,i),Oa(Wi(this._tNode.index,p))}}get injector(){return new Mo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}function n_(){const t=Vi();cl(Je()[Nt],t)}function r_(t){let n=function Ky(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),i=!0;const c=[t];for(;n;){let d;if(Fi(t))d=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new et(903,!1);d=n.\u0275dir}if(d){if(i){c.push(d);const E=t;E.inputs=vm(t.inputs),E.inputTransforms=vm(t.inputTransforms),E.declaredInputs=vm(t.declaredInputs),E.outputs=vm(t.outputs);const C=d.hostBindings;C&&i_(t,C);const P=d.viewQuery,U=d.contentQueries;if(P&&TE(t,P),U&&oa(t,U),Xt(t.inputs,d.inputs),Xt(t.declaredInputs,d.declaredInputs),Xt(t.outputs,d.outputs),null!==d.inputTransforms&&(null===E.inputTransforms&&(E.inputTransforms={}),Xt(E.inputTransforms,d.inputTransforms)),Fi(d)&&d.data.animation){const J=t.data;J.animation=(J.animation||[]).concat(d.data.animation)}}const p=d.features;if(p)for(let E=0;E<p.length;E++){const C=p[E];C&&C.ngInherit&&C(t),C===r_&&(i=!1)}}n=Object.getPrototypeOf(n)}!function qy(t){let n=0,i=null;for(let c=t.length-1;c>=0;c--){const d=t[c];d.hostVars=n+=d.hostVars,d.hostAttrs=fi(d.hostAttrs,i=fi(i,d.hostAttrs))}}(c)}function vm(t){return t===ln?{}:t===$t?[]:t}function TE(t,n){const i=t.viewQuery;t.viewQuery=i?(c,d)=>{n(c,d),i(c,d)}:n}function oa(t,n){const i=t.contentQueries;t.contentQueries=i?(c,d,p)=>{n(c,d,p),i(c,d,p)}:n}function i_(t,n){const i=t.hostBindings;t.hostBindings=i?(c,d)=>{n(c,d),i(c,d)}:n}function Zy(t){const n=t.inputConfig,i={};for(const c in n)if(n.hasOwnProperty(c)){const d=n[c];Array.isArray(d)&&d[2]&&(i[c]=d[2])}t.inputTransforms=i}function Xc(t){return!!l(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function l(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function r(t,n,i){return t[n]=i}function u(t,n,i){return!Object.is(t[n],i)&&(t[n]=i,!0)}function m(t,n,i,c){const d=u(t,n,i);return u(t,n+1,c)||d}function k(t,n,i,c){const d=Je();return u(d,O(),n)&&(pr(),Wc(mi(),d,t,n,i,c)),k}function ce(t,n,i,c,d,p){const C=m(t,function M(){return Nn.lFrame.bindingIndex}(),i,d);return B(2),C?n+Zt(i)+c+Zt(d)+p:hn}function bs(t,n,i,c,d,p,E,C){const P=Je(),U=pr(),J=t+qt,ue=U.firstCreatePass?function u_(t,n,i,c,d,p,E,C,P){const U=n.consts,J=Pl(n,t,4,E||null,Rs(U,C));vh(n,i,J,Rs(U,P)),cl(n,J);const ue=J.tView=lm(2,J,c,d,p,n.directiveRegistry,n.pipeRegistry,null,n.schemas,U,null);return null!==n.queries&&(n.queries.template(n,J),ue.queries=n.queries.embeddedTView(J)),J}(J,U,P,n,i,c,d,p,E):U.data[J];Bs(ue,!1);const De=Ns(U,P,ue,t);kh()&&df(U,P,De,ue),ys(De,P),Gf(P,P[J]=Yg(De,P,De,ue)),Gi(ue)&&cm(U,P,ue),null!=E&&gd(P,ue,C)}let Ns=function tp(t,n,i,c){return Jo(!0),n[wn].createComment("")};function o(t,n,i){const c=Je();return u(c,O(),n)&&function ia(t,n,i,c,d,p,E,C){const P=Yo(n,i);let J,U=n.inputs;!C&&null!=U&&(J=U[c])?(Jg(t,i,J,c,d),Xr(n)&&function dm(t,n){const i=Wi(n,t);16&i[vn]||(i[vn]|=64)}(i,n.index)):3&n.type&&(c=function Gg(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(c),d=null!=E?E(d,n.value||"",c):d,p.setProperty(P,c,d))}(pr(),mi(),c,t,n,c[wn],i,!1),o}function a(t,n,i,c,d){const E=d?"class":"style";Jg(t,i,n.inputs[E],E,c)}function y(t,n,i,c){const d=Je(),p=pr(),E=qt+t,C=d[wn],P=p.firstCreatePass?function h(t,n,i,c,d,p){const E=n.consts,P=Pl(n,t,2,c,Rs(E,d));return vh(n,i,P,Rs(E,p)),null!==P.attrs&&gm(P,P.attrs,!1),null!==P.mergedAttrs&&gm(P,P.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,P),P}(E,p,d,n,i,c):p.data[E],U=Z(p,d,P,C,n,t);d[E]=U;const J=Gi(P);return Bs(P,!0),lg(C,U,P),32!=(32&P.flags)&&kh()&&df(p,d,U,P),0===function Ph(){return Nn.lFrame.elementDepthCount}()&&ys(U,d),function Ul(){Nn.lFrame.elementDepthCount++}(),J&&(cm(p,d,P),jf(p,P,d)),null!==c&&gd(d,P),y}function S(){let t=Vi();Pu()?Us():(t=t.parent,Bs(t,!1));const n=t;(function Ti(t){return Nn.skipHydrationRootTNode===t})(n)&&function Ea(){Nn.skipHydrationRootTNode=null}(),function sl(){Nn.lFrame.elementDepthCount--}();const i=pr();return i.firstCreatePass&&(cl(i,t),Qo(t)&&i.queries.elementEnd(t)),null!=n.classesWithoutHost&&function lp(t){return 0!=(8&t.flags)}(n)&&a(i,n,Je(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function up(t){return 0!=(16&t.flags)}(n)&&a(i,n,Je(),n.stylesWithoutHost,!1),S}function V(t,n,i,c){return y(t,n,i,c),S(),V}let Z=(t,n,i,c,d,p)=>(Jo(!0),ks(c,d,function ku(){return Nn.lFrame.currentNamespace}()));function ar(){return Je()}function Bn(t){return!!t&&"function"==typeof t.then}function $n(t){return!!t&&"function"==typeof t.subscribe}function qn(t,n,i,c){const d=Je(),p=pr(),E=Vi();return function ho(t,n,i,c,d,p,E){const C=Gi(c),U=t.firstCreatePass&&Ly(t),J=n[fr],ue=Zg(n);let De=!0;if(3&c.type||E){const St=Yo(c,n),Yt=E?E(St):St,bn=ue.length,bt=E?wr=>E(Dr(wr[c.index])):c.index;let nr=null;if(!E&&C&&(nr=function uo(t,n,i,c){const d=t.cleanup;if(null!=d)for(let p=0;p<d.length-1;p+=2){const E=d[p];if(E===i&&d[p+1]===c){const C=n[os],P=d[p+2];return C.length>P?C[P]:null}"string"==typeof E&&(p+=2)}return null}(t,n,d,c.index)),null!==nr)(nr.__ngLastListenerFn__||nr).__ngNextListenerFn__=p,nr.__ngLastListenerFn__=p,De=!1;else{p=Ws(c,n,J,p,!1);const wr=i.listen(Yt,d,p);ue.push(p,wr),U&&U.push(d,bt,bn,bn+1)}}else p=Ws(c,n,J,p,!1);const Ne=c.outputs;let ht;if(De&&null!==Ne&&(ht=Ne[d])){const St=ht.length;if(St)for(let Yt=0;Yt<St;Yt+=2){const Ai=n[ht[Yt]][ht[Yt+1]].subscribe(p),_c=ue.length;ue.push(p,Ai),U&&U.push(d,c.index,_c,-(_c+1))}}}(p,d,d[wn],E,t,n,c),qn}function ro(t,n,i,c){try{return Vs(6,n,i),!1!==i(c)}catch(d){return mm(t,d),!1}finally{Vs(7,n,i)}}function Ws(t,n,i,c,d){return function p(E){if(E===Function)return c;Oa(t.componentOffset>-1?Wi(t.index,n):n);let P=ro(n,i,c,E),U=p.__ngNextListenerFn__;for(;U;)P=ro(n,i,U,E)&&P,U=U.__ngNextListenerFn__;return d&&!1===P&&E.preventDefault(),P}}function uc(t=1){return function Pc(t){return(Nn.lFrame.contextLView=function Ms(t,n){for(;t>0;)n=n[ss],t--;return n}(t,Nn.lFrame.contextLView))[fr]}(t)}function Th(t,n){let i=null;const c=function ri(t){const n=t.attrs;if(null!=n){const i=n.indexOf(5);if(!(1&i))return n[i+1]}return null}(t);for(let d=0;d<n.length;d++){const p=n[d];if("*"!==p){if(null===c?xi(t,p,!0):Ko(c,p))return d}else i=d}return i}function Iu(t){const n=Je()[kn][Hr];if(!n.projection){const c=n.projection=yl(t?t.length:1,null),d=c.slice();let p=n.child;for(;null!==p;){const E=t?Th(p,t):0;null!==E&&(d[E]?d[E].projectionNext=p:c[E]=p,d[E]=p),p=p.next}}}function dc(t,n=0,i){const c=Je(),d=pr(),p=Pl(d,qt+t,16,null,i||null);null===p.projection&&(p.projection=n),Us(),(!c[ao]||Ac())&&32!=(32&p.flags)&&function Pp(t,n,i){H_(n[wn],0,n,i,Jm(t,i,n),uf(i.parent||n[Hr],i,n))}(d,c,p)}function di(t,n){return t<<17|n<<2}function La(t){return t>>17&32767}function Va(t){return 2|t}function Ho(t){return(131068&t)>>2}function wu(t,n){return-131069&t|n<<2}function d_(t){return 1|t}function Fb(t,n,i,c,d){const p=t[i+1],E=null===n;let C=c?La(p):Ho(p),P=!1;for(;0!==C&&(!1===P||E);){const J=t[C+1];DE(t[C],n)&&(P=!0,t[C+1]=c?d_(J):Va(J)),C=c?La(J):Ho(J)}P&&(t[i+1]=c?Va(p):d_(p))}function DE(t,n){return null===t||null==n||(Array.isArray(t)?t[1]:t)===n||!(!Array.isArray(t)||"string"!=typeof n)&&Vc(t,n)>=0}const zo={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function ov(t){return t.substring(zo.key,zo.keyEnd)}function Fl(t,n){const i=zo.textEnd;return i===n?-1:(n=zo.keyEnd=function f_(t,n,i){for(;n<i&&t.charCodeAt(n)>32;)n++;return n}(t,zo.key=n,i),ai(t,n,i))}function ai(t,n,i){for(;n<i&&t.charCodeAt(n)<=32;)n++;return n}function cv(t,n,i){return hc(t,n,i,!1),cv}function lv(t,n){return hc(t,n,null,!0),lv}function Tu(t){!function fc(t,n,i,c){const d=pr(),p=B(2);d.firstUpdatePass&&Lb(d,null,p,c);const E=Je();if(i!==hn&&u(E,p,i)){const C=d.data[to()];if(Vb(C,c)&&!Dh(d,p)){let P=c?C.classesWithoutHost:C.stylesWithoutHost;null!==P&&(i=Tn(P,i||"")),a(d,C,E,i,c)}else!function Pm(t,n,i,c,d,p,E,C){d===hn&&(d=$t);let P=0,U=0,J=0<d.length?d[0]:null,ue=0<p.length?p[0]:null;for(;null!==J||null!==ue;){const De=P<d.length?d[P+1]:void 0,Ne=U<p.length?p[U+1]:void 0;let St,ht=null;J===ue?(P+=2,U+=2,De!==Ne&&(ht=ue,St=Ne)):null===ue||null!==J&&J<ue?(P+=2,ht=J):(U+=2,ht=ue,St=Ne),null!==ht&&hv(t,n,i,c,ht,St,E,C),J=P<d.length?d[P]:null,ue=U<p.length?p[U]:null}}(d,C,E,E[wn],E[p+1],E[p+1]=function p_(t,n,i){if(null==i||""===i)return $t;const c=[],d=ic(i);if(Array.isArray(d))for(let p=0;p<d.length;p++)t(c,d[p],!0);else if("object"==typeof d)for(const p in d)d.hasOwnProperty(p)&&t(c,p,d[p]);else"string"==typeof d&&n(c,d);return c}(t,n,i),c,p)}}(Mm,Yc,t,!0)}function Yc(t,n){for(let i=function Ah(t){return function sv(t){zo.key=0,zo.keyEnd=0,zo.value=0,zo.valueEnd=0,zo.textEnd=t.length}(t),Fl(t,ai(t,0,zo.textEnd))}(n);i>=0;i=Fl(n,i))es(t,ov(n),!0)}function hc(t,n,i,c){const d=Je(),p=pr(),E=B(2);p.firstUpdatePass&&Lb(p,t,E,c),n!==hn&&u(d,E,n)&&hv(p,p.data[to()],d,d[wn],t,d[E+1]=function OE(t,n){return null==t||""===t||("string"==typeof n?t+=n:"object"==typeof t&&(t=tn(ic(t)))),t}(n,i),c,E)}function Dh(t,n){return n>=t.expandoStartIndex}function Lb(t,n,i,c){const d=t.data;if(null===d[i+1]){const p=d[to()],E=Dh(t,i);Vb(p,c)&&null===n&&!E&&(n=!1),n=function xE(t,n,i,c){const d=function Un(t){const n=Nn.lFrame.currentDirectiveIndex;return-1===n?null:t[n]}(t);let p=c?n.residualClasses:n.residualStyles;if(null===d)0===(c?n.classBindings:n.styleBindings)&&(i=Cu(i=uv(null,t,n,i,c),n.attrs,c),p=null);else{const E=n.directiveStylingLast;if(-1===E||t[E]!==d)if(i=uv(d,t,n,i,c),null===p){let P=function ME(t,n,i){const c=i?n.classBindings:n.styleBindings;if(0!==Ho(c))return t[La(c)]}(t,n,c);void 0!==P&&Array.isArray(P)&&(P=uv(null,t,n,P[1],c),P=Cu(P,n.attrs,c),function Ed(t,n,i,c){t[La(i?n.classBindings:n.styleBindings)]=c}(t,n,c,P))}else p=function PE(t,n,i){let c;const d=n.directiveEnd;for(let p=1+n.directiveStylingLast;p<d;p++)c=Cu(c,t[p].hostAttrs,i);return Cu(c,n.attrs,i)}(t,n,c)}return void 0!==p&&(c?n.residualClasses=p:n.residualStyles=p),i}(d,p,n,c),function kb(t,n,i,c,d,p){let E=p?n.classBindings:n.styleBindings,C=La(E),P=Ho(E);t[c]=i;let J,U=!1;if(Array.isArray(i)?(J=i[1],(null===J||Vc(i,J)>0)&&(U=!0)):J=i,d)if(0!==P){const De=La(t[C+1]);t[c+1]=di(De,C),0!==De&&(t[De+1]=wu(t[De+1],c)),t[C+1]=function io(t,n){return 131071&t|n<<17}(t[C+1],c)}else t[c+1]=di(C,0),0!==C&&(t[C+1]=wu(t[C+1],c)),C=c;else t[c+1]=di(P,0),0===C?C=c:t[P+1]=wu(t[P+1],c),P=c;U&&(t[c+1]=Va(t[c+1])),Fb(t,J,c,!0),Fb(t,J,c,!1),function Nb(t,n,i,c,d){const p=d?t.residualClasses:t.residualStyles;null!=p&&"string"==typeof n&&Vc(p,n)>=0&&(i[c+1]=d_(i[c+1]))}(n,J,t,c,p),E=di(C,P),p?n.classBindings=E:n.styleBindings=E}(d,p,n,i,E,c)}}function uv(t,n,i,c,d){let p=null;const E=i.directiveEnd;let C=i.directiveStylingLast;for(-1===C?C=i.directiveStart:C++;C<E&&(p=n[C],c=Cu(c,p.hostAttrs,d),p!==t);)C++;return null!==t&&(i.directiveStylingLast=C),c}function Cu(t,n,i){const c=i?1:2;let d=-1;if(null!==n)for(let p=0;p<n.length;p++){const E=n[p];"number"==typeof E?d=E:d===c&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),es(t,E,!!i||n[++p]))}return void 0===t?null:t}function Mm(t,n,i){const c=String(n);""!==c&&!c.includes(" ")&&es(t,c,i)}function hv(t,n,i,c,d,p,E,C){if(!(3&n.type))return;const P=t.data,U=P[C+1],J=function np(t){return 1==(1&t)}(U)?m_(P,n,i,d,Ho(U),E):void 0;qi(J)||(qi(p)||function Ch(t){return 2==(2&t)}(U)&&(p=m_(P,null,i,d,C,E)),function ag(t,n,i,c,d){if(n)d?t.addClass(i,c):t.removeClass(i,c);else{let p=-1===c.indexOf("-")?void 0:Yu.DashCase;null==d?t.removeStyle(i,c,p):("string"==typeof d&&d.endsWith("!important")&&(d=d.slice(0,-10),p|=Yu.Important),t.setStyle(i,c,d,p))}}(c,E,Ic(to(),i),d,p))}function m_(t,n,i,c,d,p){const E=null===n;let C;for(;d>0;){const P=t[d],U=Array.isArray(P),J=U?P[1]:P,ue=null===J;let De=i[d+1];De===hn&&(De=ue?$t:void 0);let Ne=ue?Uu(De,c):J===c?De:void 0;if(U&&!qi(Ne)&&(Ne=Uu(P,c)),qi(Ne)&&(C=Ne,E))return C;const ht=t[d+1];d=E?La(ht):Ho(ht)}if(null!==n){let P=p?n.residualClasses:n.residualStyles;null!=P&&(C=Uu(P,c))}return C}function qi(t){return void 0!==t}function Vb(t,n){return 0!=(t.flags&(n?8:16))}function fv(t,n=""){const i=Je(),c=pr(),d=t+qt,p=c.firstCreatePass?Pl(c,d,1,n,null):c.data[d],E=pv(c,i,p,n,t);i[d]=E,kh()&&df(c,i,E,p),Bs(p,!1)}let pv=(t,n,i,c,d)=>(Jo(!0),function jn(t,n){return t.createText(n)}(n[wn],c));function __(t){return pc("",t,""),__}function pc(t,n,i){const c=Je(),d=function ee(t,n,i,c){return u(t,O(),i)?n+Zt(i)+c:hn}(c,t,n,i);return d!==hn&&qc(c,to(),d),pc}function y_(t,n,i,c,d){const p=Je(),E=ce(p,t,n,i,c,d);return E!==hn&&qc(p,to(),E),y_}const fo=void 0;var qs=["en",[["a","p"],["AM","PM"],fo],[["AM","PM"],fo,fo],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],fo,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],fo,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",fo,"{1} 'at' {0}",fo],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Wr(t){const i=Math.floor(Math.abs(t)),c=t.toString().replace(/^[^.]*\.?/,"").length;return 1===i&&0===c?1:5}];let No={};function Ua(t){const n=function xw(t){return t.toLowerCase().replace(/_/g,"-")}(t);let i=y0(n);if(i)return i;const c=n.split("-")[0];if(i=y0(c),i)return i;if("en"===c)return qs;throw new et(701,!1)}function I_(t){return Ua(t)[w_.PluralCase]}function y0(t){return t in No||(No[t]=ir.ng&&ir.ng.common&&ir.ng.common.locales&&ir.ng.common.locales[t]),No[t]}var w_=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(w_||{});const T_="en-US";let v0=T_;function LE(t,n,i,c,d){if(t=He(t),Array.isArray(t))for(let p=0;p<t.length;p++)LE(t[p],n,i,c,d);else{const p=pr(),E=Je(),C=Vi();let P=Cl(t)?t:He(t.provide);const U=Ef(t),J=1048575&C.providerIndexes,ue=C.directiveStart,De=C.providerIndexes>>20;if(Cl(t)||!t.multi){const Ne=new dl(U,d,yu),ht=BE(P,n,d?J:J+De,ue);-1===ht?(Da(Lu(C,E),p,P),VE(p,t,n.length),n.push(P),C.directiveStart++,C.directiveEnd++,d&&(C.providerIndexes+=1048576),i.push(Ne),E.push(Ne)):(i[ht]=Ne,E[ht]=Ne)}else{const Ne=BE(P,n,J+De,ue),ht=BE(P,n,J,J+De),Yt=ht>=0&&i[ht];if(d&&!Yt||!d&&!(Ne>=0&&i[Ne])){Da(Lu(C,E),p,P);const bn=function ST(t,n,i,c,d){const p=new dl(t,i,yu);return p.multi=[],p.index=n,p.componentProviders=0,z0(p,d,c&&!i),p}(d?DT:AT,i.length,d,c,U);!d&&Yt&&(i[ht].providerFactory=bn),VE(p,t,n.length,0),n.push(P),C.directiveStart++,C.directiveEnd++,d&&(C.providerIndexes+=1048576),i.push(bn),E.push(bn)}else VE(p,t,Ne>-1?Ne:ht,z0(i[d?ht:Ne],U,!d&&c));!d&&c&&Yt&&i[ht].componentProviders++}}}function VE(t,n,i,c){const d=Cl(n),p=function hy(t){return!!t.useClass}(n);if(d||p){const P=(p?He(n.useClass):n).prototype.ngOnDestroy;if(P){const U=t.destroyHooks||(t.destroyHooks=[]);if(!d&&n.multi){const J=U.indexOf(i);-1===J?U.push(i,[c,P]):U[J+1].push(c,P)}else U.push(i,P)}}}function z0(t,n,i){return i&&t.componentProviders++,t.multi.push(n)-1}function BE(t,n,i,c){for(let d=i;d<c;d++)if(n[d]===t)return d;return-1}function AT(t,n,i,c){return UE(this.multi,[])}function DT(t,n,i,c){const d=this.multi;let p;if(this.providerFactory){const E=this.providerFactory.componentProviders,C=pl(i,i[Nt],this.providerFactory.index,c);p=C.slice(0,E),UE(d,p);for(let P=E;P<C.length;P++)p.push(C[P])}else p=[],UE(d,p);return p}function UE(t,n){for(let i=0;i<t.length;i++)n.push((0,t[i])());return n}function G0(t,n=[]){return i=>{i.providersResolver=(c,d)=>function CT(t,n,i){const c=pr();if(c.firstCreatePass){const d=Fi(t);LE(i,c.data,c.blueprint,d,!0),LE(n,c.data,c.blueprint,d,!1)}}(c,d?d(t):t,n)}}class Lm{}class W0{}function RT(t,n){return new jE(t,n??null,[])}class jE extends Lm{constructor(n,i,c){super(),this._parent=i,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new yd(this);const d=Fr(n);this._bootstrapComponents=Ml(d.bootstrap),this._r3Injector=yy(n,i,[{provide:Lm,useValue:this},{provide:Zp,useValue:this.componentFactoryResolver},...c],tn(n),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(n)}get injector(){return this._r3Injector}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(i=>i()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class $E extends W0{constructor(n){super(),this.moduleType=n}create(n){return new jE(this.moduleType,n,[])}}class K0 extends Lm{constructor(n){super(),this.componentFactoryResolver=new yd(this),this.instance=null;const i=new Zr([...n.providers,{provide:Lm,useValue:this},{provide:Zp,useValue:this.componentFactoryResolver}],n.parent||Eg(),n.debugName,new Set(["environment"]));this.injector=i,n.runEnvironmentInitializers&&i.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}}function q0(t,n,i=null){return new K0({providers:t,parent:n,debugName:i,runEnvironmentInitializers:!0}).injector}let MT=(()=>{class t{constructor(i){this._injector=i,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(i){if(!i.standalone)return null;if(!this.cachedInjectors.has(i)){const c=sh(0,i.type),d=c.length>0?q0([c],this._injector,`Standalone[${i.type.name}]`):null;this.cachedInjectors.set(i,d)}return this.cachedInjectors.get(i)}ngOnDestroy(){try{for(const i of this.cachedInjectors.values())null!==i&&i.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=Ot({token:t,providedIn:"environment",factory:()=>new t(Kn(Hc))})}}return t})();function Q0(t){t.getStandaloneInjector=n=>n.get(MT).getOrCreateStandaloneInjector(t)}function nI(t,n,i){const c=T()+t,d=Je();return d[c]===hn?r(d,c,i?n.call(i):n()):function s(t,n){return t[n]}(d,c)}function rI(t,n,i,c){return oI(Je(),T(),t,n,i,c)}function iI(t,n,i,c,d){return function sI(t,n,i,c,d,p,E){const C=n+i;return m(t,C,d,p)?r(t,C+2,E?c.call(E,d,p):c(d,p)):Dv(t,C+2)}(Je(),T(),t,n,i,c,d)}function Dv(t,n){const i=t[n];return i===hn?void 0:i}function oI(t,n,i,c,d,p){const E=n+i;return u(t,E,d)?r(t,E+1,p?c.call(p,d):c(d)):Dv(t,E+1)}function uI(t,n){const i=pr();let c;const d=t+qt;i.firstCreatePass?(c=function KT(t,n){if(n)for(let i=n.length-1;i>=0;i--){const c=n[i];if(t===c.name)return c}}(n,i.pipeRegistry),i.data[d]=c,c.onDestroy&&(i.destroyHooks??=[]).push(d,c.onDestroy)):c=i.data[d];const p=c.factory||(c.factory=pi(c.type)),C=Di(yu);try{const P=Aa(!1),U=p();return Aa(P),function iv(t,n,i,c){i>=t.data.length&&(t.data[i]=null,t.blueprint[i]=null),n[i]=c}(i,Je(),d,U),U}finally{Di(C)}}function dI(t,n,i){const c=t+qt,d=Je(),p=function ba(t,n){return t[n]}(d,c);return function Sv(t,n){return t[Nt].data[n].pure}(d,c)?oI(d,T(),n,p.transform,i,p):p.transform(i)}function ZT(){return this._results[Symbol.iterator]()}class tE{get changes(){return this._changes||(this._changes=new xl)}constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const i=tE.prototype;i[Symbol.iterator]||(i[Symbol.iterator]=ZT)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,i){return this._results.reduce(n,i)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,i){const c=this;c.dirty=!1;const d=function Os(t){return t.flat(Number.POSITIVE_INFINITY)}(n);(this._changesDetected=!function Uh(t,n,i){if(t.length!==n.length)return!1;for(let c=0;c<t.length;c++){let d=t[c],p=n[c];if(i&&(d=i(d),p=i(p)),p!==d)return!1}return!0}(c._results,d,i))&&(c._results=d,c.length=d.length,c.last=d[this.length-1],c.first=d[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function eC(t,n,i,c=!0){const d=n[Nt];if(function qd(t,n,i,c){const d=ii+c,p=i.length;c>0&&(i[d-1][Oi]=n),c<p-ii?(n[Oi]=i[d],Yl(i,ii+c,n)):(i.push(n),n[Oi]=null),n[ur]=i;const E=n[as];null!==E&&i!==E&&function Qd(t,n){const i=t[Ni];n[kn]!==n[ur][ur][kn]&&(t[Ts]=!0),null===i?t[Ni]=[n]:i.push(n)}(E,n);const C=n[Ei];null!==C&&C.insertView(t),n[vn]|=128}(d,n,t,i),c){const p=og(i,t),E=n[wn],C=Xd(E,t[Er]);null!==C&&function Ju(t,n,i,c,d,p){c[er]=d,c[Hr]=n,ff(t,c,i,1,d,p)}(d,t[Hr],E,n,C,p)}}let Rv=(()=>{class t{static{this.__NG_ELEMENT_ID__=rC}}return t})();const tC=Rv,nC=class extends tC{constructor(n,i,c){super(),this._declarationLView=n,this._declarationTContainer=i,this.elementRef=c}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,i){return this.createEmbeddedViewImpl(n,i)}createEmbeddedViewImpl(n,i,c){const d=function JT(t,n,i,c){const d=n.tView,C=Bf(t,d,i,4096&t[vn]?4096:16,null,n,null,null,null,c?.injector??null,c?.hydrationInfo??null);C[as]=t[n.index];const U=t[Ei];return null!==U&&(C[Ei]=U.createEmbeddedView(d)),vs(d,C,i),C}(this._declarationLView,this._declarationTContainer,n,{injector:i,hydrationInfo:c});return new Xf(d)}};function rC(){return nE(Vi(),Je())}function nE(t,n){return 4&t.type?new nC(n,t,xf(t,n)):null}let iE=(()=>{class t{static{this.__NG_ELEMENT_ID__=lC}}return t})();function lC(){return yI(Vi(),Je())}const uC=iE,gI=class extends uC{constructor(n,i,c){super(),this._lContainer=n,this._hostTNode=i,this._hostLView=c}get element(){return xf(this._hostTNode,this._hostLView)}get injector(){return new Mo(this._hostTNode,this._hostLView)}get parentInjector(){const n=Cd(this._hostTNode,this._hostLView);if(kc(n)){const i=Ca(n,this._hostLView),c=wd(n);return new Mo(i[Nt].data[c+8],i)}return new Mo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const i=_I(this._lContainer);return null!==i&&i[n]||null}get length(){return this._lContainer.length-ii}createEmbeddedView(n,i,c){let d,p;"number"==typeof c?d=c:null!=c&&(d=c.index,p=c.injector);const C=n.createEmbeddedViewImpl(i||{},p,null);return this.insertImpl(C,d,false),C}createComponent(n,i,c,d,p){const E=n&&!function Xl(t){return"function"==typeof t}(n);let C;if(E)C=i;else{const St=i||{};C=St.index,c=St.injector,d=St.projectableNodes,p=St.environmentInjector||St.ngModuleRef}const P=E?n:new Eh(Mn(n)),U=c||this.parentInjector;if(!p&&null==P.ngModule){const Yt=(E?U:this.parentInjector).get(Hc,null);Yt&&(p=Yt)}Mn(P.componentType??{});const Ne=P.create(U,d,null,p);return this.insertImpl(Ne.hostView,C,false),Ne}insert(n,i){return this.insertImpl(n,i,!1)}insertImpl(n,i,c){const d=n._lView;if(function wc(t){return oi(t[ur])}(d)){const P=this.indexOf(n);if(-1!==P)this.detach(P);else{const U=d[ur],J=new gI(U,U[Hr],U[ur]);J.detach(J.indexOf(n))}}const E=this._adjustIndex(i),C=this._lContainer;return eC(C,d,E,!c),n.attachToViewContainerRef(),Yl(zE(C),E,n),n}move(n,i){return this.insert(n,i)}indexOf(n){const i=_I(this._lContainer);return null!==i?i.indexOf(n):-1}remove(n){const i=this._adjustIndex(n,-1),c=Il(this._lContainer,i);c&&(Zl(zE(this._lContainer),i),xa(c[Nt],c))}detach(n){const i=this._adjustIndex(n,-1),c=Il(this._lContainer,i);return c&&null!=Zl(zE(this._lContainer),i)?new Xf(c):null}_adjustIndex(n,i=0){return n??this.length+i}};function _I(t){return t[8]}function zE(t){return t[8]||(t[8]=[])}function yI(t,n){let i;const c=n[t.index];return oi(c)?i=c:(i=Yg(c,n,null,t),n[t.index]=i,Gf(n,i)),vI(i,n,t,c),new gI(i,t,n)}let vI=function bI(t,n,i,c){if(t[Er])return;let d;d=8&i.type?Dr(c):function dC(t,n){const i=t[wn],c=i.createComment(""),d=Yo(n,t);return nd(i,Xd(i,d),c,function Pv(t,n){return t.nextSibling(n)}(i,d),!1),c}(n,i),t[Er]=d};class GE{constructor(n){this.queryList=n,this.matches=null}clone(){return new GE(this.queryList)}setDirty(){this.queryList.setDirty()}}class WE{constructor(n=[]){this.queries=n}createEmbeddedView(n){const i=n.queries;if(null!==i){const c=null!==n.contentQueries?n.contentQueries[0]:i.length,d=[];for(let p=0;p<c;p++){const E=i.getByIndex(p);d.push(this.queries[E.indexInDeclarationView].clone())}return new WE(d)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let i=0;i<this.queries.length;i++)null!==SI(n,i).matches&&this.queries[i].setDirty()}}class EI{constructor(n,i,c=null){this.predicate=n,this.flags=i,this.read=c}}class KE{constructor(n=[]){this.queries=n}elementStart(n,i){for(let c=0;c<this.queries.length;c++)this.queries[c].elementStart(n,i)}elementEnd(n){for(let i=0;i<this.queries.length;i++)this.queries[i].elementEnd(n)}embeddedTView(n){let i=null;for(let c=0;c<this.length;c++){const d=null!==i?i.length:0,p=this.getByIndex(c).embeddedTView(n,d);p&&(p.indexInDeclarationView=c,null!==i?i.push(p):i=[p])}return null!==i?new KE(i):null}template(n,i){for(let c=0;c<this.queries.length;c++)this.queries[c].template(n,i)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class qE{constructor(n,i=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=i}elementStart(n,i){this.isApplyingToNode(i)&&this.matchTNode(n,i)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,i){this.elementStart(n,i)}embeddedTView(n,i){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,i),new qE(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const i=this._declarationNodeIndex;let c=n.parent;for(;null!==c&&8&c.type&&c.index!==i;)c=c.parent;return i===(null!==c?c.index:-1)}return this._appliesToNextNode}matchTNode(n,i){const c=this.metadata.predicate;if(Array.isArray(c))for(let d=0;d<c.length;d++){const p=c[d];this.matchTNodeWithReadOption(n,i,pC(i,p)),this.matchTNodeWithReadOption(n,i,Hs(i,n,p,!1,!1))}else c===Rv?4&i.type&&this.matchTNodeWithReadOption(n,i,-1):this.matchTNodeWithReadOption(n,i,Hs(i,n,c,!1,!1))}matchTNodeWithReadOption(n,i,c){if(null!==c){const d=this.metadata.read;if(null!==d)if(d===gu||d===iE||d===Rv&&4&i.type)this.addMatch(i.index,-2);else{const p=Hs(i,n,d,!1,!1);null!==p&&this.addMatch(i.index,p)}else this.addMatch(i.index,c)}}addMatch(n,i){null===this.matches?this.matches=[n,i]:this.matches.push(n,i)}}function pC(t,n){const i=t.localNames;if(null!==i)for(let c=0;c<i.length;c+=2)if(i[c]===n)return i[c+1];return null}function gC(t,n,i,c){return-1===i?function mC(t,n){return 11&t.type?xf(t,n):4&t.type?nE(t,n):null}(n,t):-2===i?function _C(t,n,i){return i===gu?xf(n,t):i===Rv?nE(n,t):i===iE?yI(n,t):void 0}(t,n,c):pl(t,t[Nt],i,n)}function II(t,n,i,c){const d=n[Ei].queries[c];if(null===d.matches){const p=t.data,E=i.matches,C=[];for(let P=0;P<E.length;P+=2){const U=E[P];C.push(U<0?null:gC(n,p[U],E[P+1],i.metadata.read))}d.matches=C}return d.matches}function QE(t,n,i,c){const d=t.queries.getByIndex(i),p=d.matches;if(null!==p){const E=II(t,n,d,i);for(let C=0;C<p.length;C+=2){const P=p[C];if(P>0)c.push(E[C/2]);else{const U=p[C+1],J=n[-P];for(let ue=ii;ue<J.length;ue++){const De=J[ue];De[as]===De[ur]&&QE(De[Nt],De,U,c)}if(null!==J[Ni]){const ue=J[Ni];for(let De=0;De<ue.length;De++){const Ne=ue[De];QE(Ne[Nt],Ne,U,c)}}}}}return c}function wI(t){const n=Je(),i=pr(),c=xr();tr(c+1);const d=SI(i,c);if(t.dirty&&function ms(t){return 4==(4&t[vn])}(n)===(2==(2&d.metadata.flags))){if(null===d.matches)t.reset([]);else{const p=d.crossesNgTemplate?QE(i,n,c,[]):II(i,n,d,c);t.reset(p,mE),t.notifyOnChanges()}return!0}return!1}function TI(t,n,i,c){const d=pr();if(d.firstCreatePass){const p=Vi();(function DI(t,n,i){null===t.queries&&(t.queries=new KE),t.queries.track(new qE(n,i))})(d,new EI(n,i,c),p.index),function bC(t,n){const i=t.contentQueries||(t.contentQueries=[]);n!==(i.length?i[i.length-1]:-1)&&i.push(t.queries.length-1,n)}(d,t),2==(2&i)&&(d.staticContentQueries=!0)}!function AI(t,n,i){const c=new tE(4==(4&i));(function Gs(t,n,i,c){const d=Zg(n);d.push(i),t.firstCreatePass&&Ly(t).push(c,d.length-1)})(t,n,c,c.destroy),null===n[Ei]&&(n[Ei]=new WE),n[Ei].queries.push(new GE(c))}(d,Je(),i)}function CI(){return function vC(t,n){return t[Ei].queries[n].queryList}(Je(),xr())}function SI(t,n){return t.queries.getByIndex(n)}function XE(t){return!!Fr(t)}const GI=new rn("Application Initializer");let t0=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,c)=>{this.resolve=i,this.reject=c}),this.appInits=Yn(GI,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const i=[];for(const d of this.appInits){const p=d();if(Bn(p))i.push(p);else if($n(p)){const E=new Promise((C,P)=>{p.subscribe({complete:C,error:P})});i.push(E)}}const c=()=>{this.done=!0,this.resolve()};Promise.all(i).then(()=>{c()}).catch(d=>{this.reject(d)}),0===i.length&&c(),this.initialized=!0}static{this.\u0275fac=function(c){return new(c||t)}}static{this.\u0275prov=Ot({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),WI=(()=>{class t{log(i){console.log(i)}warn(i){console.warn(i)}static{this.\u0275fac=function(c){return new(c||t)}}static{this.\u0275prov=Ot({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})();const sE=new rn("LocaleId",{providedIn:"root",factory:()=>Yn(sE,nn.Optional|nn.SkipSelf)||function $C(){return typeof $localize<"u"&&$localize.locale||T_}()}),HC=new rn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let KI=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new de.t(!1)}add(){this.hasPendingTasks.next(!0);const i=this.taskId++;return this.pendingTasks.add(i),i}remove(i){this.pendingTasks.delete(i),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static{this.\u0275fac=function(c){return new(c||t)}}static{this.\u0275prov=Ot({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();class GC{constructor(n,i){this.ngModuleFactory=n,this.componentFactories=i}}let WC=(()=>{class t{compileModuleSync(i){return new $E(i)}compileModuleAsync(i){return Promise.resolve(this.compileModuleSync(i))}compileModuleAndAllComponentsSync(i){const c=this.compileModuleSync(i),p=Ml(Fr(i).declarations).reduce((E,C)=>{const P=Mn(C);return P&&E.push(new Eh(P)),E},[]);return new GC(c,p)}compileModuleAndAllComponentsAsync(i){return Promise.resolve(this.compileModuleAndAllComponentsSync(i))}clearCache(){}clearCacheFor(i){}getModuleId(i){}static{this.\u0275fac=function(c){return new(c||t)}}static{this.\u0275prov=Ot({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();const YI=new rn(""),ZI=new rn("");let o0,pA=(()=>{class t{constructor(i,c,d){this._ngZone=i,this.registry=c,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,o0||(function mA(t){o0=t}(d),d.addToWindow(c)),this._watchAngularEvents(),i.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{jo.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let i=this._callbacks.pop();clearTimeout(i.timeoutId),i.doneCb(this._didWork)}this._didWork=!1});else{let i=this.getPendingTasks();this._callbacks=this._callbacks.filter(c=>!c.updateCb||!c.updateCb(i)||(clearTimeout(c.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(i=>({source:i.source,creationLocation:i.creationLocation,data:i.data})):[]}addCallback(i,c,d){let p=-1;c&&c>0&&(p=setTimeout(()=>{this._callbacks=this._callbacks.filter(E=>E.timeoutId!==p),i(this._didWork,this.getPendingTasks())},c)),this._callbacks.push({doneCb:i,timeoutId:p,updateCb:d})}whenStable(i,c,d){if(d&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(i,c,d),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(i){this.registry.registerApplication(i,this)}unregisterApplication(i){this.registry.unregisterApplication(i)}findProviders(i,c,d){return[]}static{this.\u0275fac=function(c){return new(c||t)(Kn(jo),Kn(JI),Kn(ZI))}}static{this.\u0275prov=Ot({token:t,factory:t.\u0275fac})}}return t})(),JI=(()=>{class t{constructor(){this._applications=new Map}registerApplication(i,c){this._applications.set(i,c)}unregisterApplication(i){this._applications.delete(i)}unregisterAllApplications(){this._applications.clear()}getTestability(i){return this._applications.get(i)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(i,c=!0){return o0?.findTestabilityInTree(this,i,c)??null}static{this.\u0275fac=function(c){return new(c||t)}}static{this.\u0275prov=Ot({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})(),op=null;const ew=new rn("AllowMultipleToken"),s0=new rn("PlatformDestroyListeners"),a0=new rn("appBootstrapListener");class yA{constructor(n,i){this.name=n,this.token=i}}function rw(t,n,i=[]){const c=`Platform: ${n}`,d=new rn(c);return(p=[])=>{let E=c0();if(!E||E.injector.get(ew,!1)){const C=[...i,...p,{provide:d,useValue:!0}];t?t(C):function vA(t){if(op&&!op.get(ew,!1))throw new et(400,!1);(function tw(){!function L(t){R=t}(()=>{throw new et(600,!1)})})(),op=t;const n=t.get(ow);(function nw(t){t.get(my,null)?.forEach(i=>i())})(t)}(function iw(t=[],n){return ns.create({name:n,providers:[{provide:ah,useValue:"platform"},{provide:s0,useValue:new Set([()=>op=null])},...t]})}(C,c))}return function EA(t){const n=c0();if(!n)throw new et(401,!1);return n}()}}function c0(){return op?.get(ow)??null}let ow=(()=>{class t{constructor(i){this._injector=i,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(i,c){const d=function IA(t="zone.js",n){return"noop"===t?new wy:"zone.js"===t?new jo(n):t}(c?.ngZone,function sw(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:c?.ngZoneEventCoalescing,runCoalescing:c?.ngZoneRunCoalescing}));return d.run(()=>{const p=function xT(t,n,i){return new jE(t,n,i)}(i.moduleType,this.injector,function dw(t){return[{provide:jo,useFactory:t},{provide:oh,multi:!0,useFactory:()=>{const n=Yn(TA,{optional:!0});return()=>n.initialize()}},{provide:uw,useFactory:wA},{provide:Ty,useFactory:Cy}]}(()=>d)),E=p.injector.get(Rl,null);return d.runOutsideAngular(()=>{const C=d.onError.subscribe({next:P=>{E.handleError(P)}});p.onDestroy(()=>{cE(this._modules,p),C.unsubscribe()})}),function aw(t,n,i){try{const c=i();return Bn(c)?c.catch(d=>{throw n.runOutsideAngular(()=>t.handleError(d)),d}):c}catch(c){throw n.runOutsideAngular(()=>t.handleError(c)),c}}(E,d,()=>{const C=p.injector.get(t0);return C.runInitializers(),C.donePromise.then(()=>(function b0(t){Sn(t,"Expected localeId to be defined"),"string"==typeof t&&(v0=t.toLowerCase().replace(/_/g,"-"))}(p.injector.get(sE,T_)||T_),this._moduleDoBootstrap(p),p))})})}bootstrapModule(i,c=[]){const d=cw({},c);return function gA(t,n,i){const c=new $E(i);return Promise.resolve(c)}(0,0,i).then(p=>this.bootstrapModuleFactory(p,d))}_moduleDoBootstrap(i){const c=i.injector.get(D_);if(i._bootstrapComponents.length>0)i._bootstrapComponents.forEach(d=>c.bootstrap(d));else{if(!i.instance.ngDoBootstrap)throw new et(-403,!1);i.instance.ngDoBootstrap(c)}this._modules.push(i)}onDestroy(i){this._destroyListeners.push(i)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new et(404,!1);this._modules.slice().forEach(c=>c.destroy()),this._destroyListeners.forEach(c=>c());const i=this._injector.get(s0,null);i&&(i.forEach(c=>c()),i.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static{this.\u0275fac=function(c){return new(c||t)(Kn(ns))}}static{this.\u0275prov=Ot({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})();function cw(t,n){return Array.isArray(n)?n.reduce(cw,t):{...t,...n}}let D_=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Yn(uw),this.zoneIsStable=Yn(Ty),this.componentTypes=[],this.components=[],this.isStable=Yn(KI).hasPendingTasks.pipe((0,ze.n)(i=>i?(0,le.of)(!1):this.zoneIsStable),function Tt(t,n=gt.D){return t=t??sn,(0,Ue.N)((i,c)=>{let d,p=!0;i.subscribe((0,nt._)(c,E=>{const C=n(E);(p||!t(d,C))&&(p=!1,d=C,c.next(E))}))})}(),pe()),this._injector=Yn(Hc)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(i,c){const d=i instanceof Dg;if(!this._injector.get(t0).done)throw!d&&zi(i),new et(405,!1);let E;E=d?i:this._injector.get(Zp).resolveComponentFactory(i),this.componentTypes.push(E.componentType);const C=function _A(t){return t.isBoundToModule}(E)?void 0:this._injector.get(Lm),U=E.create(ns.NULL,[],c||E.selector,C),J=U.location.nativeElement,ue=U.injector.get(YI,null);return ue?.registerApplication(J),U.onDestroy(()=>{this.detachView(U.hostView),cE(this.components,U),ue?.unregisterApplication(J)}),this._loadComponent(U),U}tick(){if(this._runningTick)throw new et(101,!1);try{this._runningTick=!0;for(let i of this._views)i.detectChanges()}catch(i){this.internalErrorHandler(i)}finally{this._runningTick=!1}}attachView(i){const c=i;this._views.push(c),c.attachToAppRef(this)}detachView(i){const c=i;cE(this._views,c),c.detachFromAppRef()}_loadComponent(i){this.attachView(i.hostView),this.tick(),this.components.push(i);const c=this._injector.get(a0,[]);c.push(...this._bootstrapListeners),c.forEach(d=>d(i))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(i=>i()),this._views.slice().forEach(i=>i.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(i){return this._destroyListeners.push(i),()=>cE(this._destroyListeners,i)}destroy(){if(this._destroyed)throw new et(406,!1);const i=this._injector;i.destroy&&!i.destroyed&&i.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(c){return new(c||t)}}static{this.\u0275prov=Ot({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function cE(t,n){const i=t.indexOf(n);i>-1&&t.splice(i,1)}const uw=new rn("",{providedIn:"root",factory:()=>Yn(Rl).handleError.bind(void 0)});function wA(){const t=Yn(jo),n=Yn(Rl);return i=>t.runOutsideAngular(()=>n.handleError(i))}let TA=(()=>{class t{constructor(){this.zone=Yn(jo),this.applicationRef=Yn(D_)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(c){return new(c||t)}}static{this.\u0275prov=Ot({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();let AA=(()=>{class t{static{this.__NG_ELEMENT_ID__=DA}}return t})();function DA(t){return function SA(t,n,i){if(Xr(t)&&!i){const c=Wi(t.index,n);return new Xf(c,c)}return 47&t.type?new Xf(n[kn],n):null}(Vi(),Je(),16==(16&t))}class gw{constructor(){}supports(n){return Xc(n)}create(n){return new OA(n)}}const PA=(t,n)=>n;class OA{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||PA}forEachItem(n){let i;for(i=this._itHead;null!==i;i=i._next)n(i)}forEachOperation(n){let i=this._itHead,c=this._removalsHead,d=0,p=null;for(;i||c;){const E=!c||i&&i.currentIndex<yw(c,d,p)?i:c,C=yw(E,d,p),P=E.currentIndex;if(E===c)d--,c=c._nextRemoved;else if(i=i._next,null==E.previousIndex)d++;else{p||(p=[]);const U=C-d,J=P-d;if(U!=J){for(let De=0;De<U;De++){const Ne=De<p.length?p[De]:p[De]=0,ht=Ne+De;J<=ht&&ht<U&&(p[De]=Ne+1)}p[E.previousIndex]=J-U}}C!==P&&n(E,C,P)}}forEachPreviousItem(n){let i;for(i=this._previousItHead;null!==i;i=i._nextPrevious)n(i)}forEachAddedItem(n){let i;for(i=this._additionsHead;null!==i;i=i._nextAdded)n(i)}forEachMovedItem(n){let i;for(i=this._movesHead;null!==i;i=i._nextMoved)n(i)}forEachRemovedItem(n){let i;for(i=this._removalsHead;null!==i;i=i._nextRemoved)n(i)}forEachIdentityChange(n){let i;for(i=this._identityChangesHead;null!==i;i=i._nextIdentityChange)n(i)}diff(n){if(null==n&&(n=[]),!Xc(n))throw new et(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let d,p,E,i=this._itHead,c=!1;if(Array.isArray(n)){this.length=n.length;for(let C=0;C<this.length;C++)p=n[C],E=this._trackByFn(C,p),null!==i&&Object.is(i.trackById,E)?(c&&(i=this._verifyReinsertion(i,p,E,C)),Object.is(i.item,p)||this._addIdentityChange(i,p)):(i=this._mismatch(i,p,E,C),c=!0),i=i._next}else d=0,function Sb(t,n){if(Array.isArray(t))for(let i=0;i<t.length;i++)n(t[i]);else{const i=t[Symbol.iterator]();let c;for(;!(c=i.next()).done;)n(c.value)}}(n,C=>{E=this._trackByFn(d,C),null!==i&&Object.is(i.trackById,E)?(c&&(i=this._verifyReinsertion(i,C,E,d)),Object.is(i.item,C)||this._addIdentityChange(i,C)):(i=this._mismatch(i,C,E,d),c=!0),i=i._next,d++}),this.length=d;return this._truncate(i),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,i,c,d){let p;return null===n?p=this._itTail:(p=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null))?(Object.is(n.item,i)||this._addIdentityChange(n,i),this._reinsertAfter(n,p,d)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(c,d))?(Object.is(n.item,i)||this._addIdentityChange(n,i),this._moveAfter(n,p,d)):n=this._addAfter(new kA(i,c),p,d),n}_verifyReinsertion(n,i,c,d){let p=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null);return null!==p?n=this._reinsertAfter(p,n._prev,d):n.currentIndex!=d&&(n.currentIndex=d,this._addToMoves(n,d)),n}_truncate(n){for(;null!==n;){const i=n._next;this._addToRemovals(this._unlink(n)),n=i}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,i,c){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const d=n._prevRemoved,p=n._nextRemoved;return null===d?this._removalsHead=p:d._nextRemoved=p,null===p?this._removalsTail=d:p._prevRemoved=d,this._insertAfter(n,i,c),this._addToMoves(n,c),n}_moveAfter(n,i,c){return this._unlink(n),this._insertAfter(n,i,c),this._addToMoves(n,c),n}_addAfter(n,i,c){return this._insertAfter(n,i,c),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,i,c){const d=null===i?this._itHead:i._next;return n._next=d,n._prev=i,null===d?this._itTail=n:d._prev=n,null===i?this._itHead=n:i._next=n,null===this._linkedRecords&&(this._linkedRecords=new _w),this._linkedRecords.put(n),n.currentIndex=c,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const i=n._prev,c=n._next;return null===i?this._itHead=c:i._next=c,null===c?this._itTail=i:c._prev=i,n}_addToMoves(n,i){return n.previousIndex===i||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new _w),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,i){return n.item=i,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class kA{constructor(n,i){this.item=n,this.trackById=i,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class NA{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,i){let c;for(c=this._head;null!==c;c=c._nextDup)if((null===i||i<=c.currentIndex)&&Object.is(c.trackById,n))return c;return null}remove(n){const i=n._prevDup,c=n._nextDup;return null===i?this._head=c:i._nextDup=c,null===c?this._tail=i:c._prevDup=i,null===this._head}}class _w{constructor(){this.map=new Map}put(n){const i=n.trackById;let c=this.map.get(i);c||(c=new NA,this.map.set(i,c)),c.add(n)}get(n,i){const d=this.map.get(n);return d?d.get(n,i):null}remove(n){const i=n.trackById;return this.map.get(i).remove(n)&&this.map.delete(i),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function yw(t,n,i){const c=t.previousIndex;if(null===c)return c;let d=0;return i&&c<i.length&&(d=i[c]),c+n+d}class vw{constructor(){}supports(n){return n instanceof Map||l(n)}create(){return new FA}}class FA{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(n){let i;for(i=this._mapHead;null!==i;i=i._next)n(i)}forEachPreviousItem(n){let i;for(i=this._previousMapHead;null!==i;i=i._nextPrevious)n(i)}forEachChangedItem(n){let i;for(i=this._changesHead;null!==i;i=i._nextChanged)n(i)}forEachAddedItem(n){let i;for(i=this._additionsHead;null!==i;i=i._nextAdded)n(i)}forEachRemovedItem(n){let i;for(i=this._removalsHead;null!==i;i=i._nextRemoved)n(i)}diff(n){if(n){if(!(n instanceof Map||l(n)))throw new et(900,!1)}else n=new Map;return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let i=this._mapHead;if(this._appendAfter=null,this._forEach(n,(c,d)=>{if(i&&i.key===d)this._maybeAddToChanges(i,c),this._appendAfter=i,i=i._next;else{const p=this._getOrCreateRecordForKey(d,c);i=this._insertBeforeOrAppend(i,p)}}),i){i._prev&&(i._prev._next=null),this._removalsHead=i;for(let c=i;null!==c;c=c._nextRemoved)c===this._mapHead&&(this._mapHead=null),this._records.delete(c.key),c._nextRemoved=c._next,c.previousValue=c.currentValue,c.currentValue=null,c._prev=null,c._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,i){if(n){const c=n._prev;return i._next=n,i._prev=c,n._prev=i,c&&(c._next=i),n===this._mapHead&&(this._mapHead=i),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=i,i._prev=this._appendAfter):this._mapHead=i,this._appendAfter=i,null}_getOrCreateRecordForKey(n,i){if(this._records.has(n)){const d=this._records.get(n);this._maybeAddToChanges(d,i);const p=d._prev,E=d._next;return p&&(p._next=E),E&&(E._prev=p),d._next=null,d._prev=null,d}const c=new LA(n);return this._records.set(n,c),c.currentValue=i,this._addToAdditions(c),c}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;null!==n;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;null!=n;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,i){Object.is(i,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=i,this._addToChanges(n))}_addToAdditions(n){null===this._additionsHead?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){null===this._changesHead?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,i){n instanceof Map?n.forEach(i):Object.keys(n).forEach(c=>i(n[c],c))}}class LA{constructor(n){this.key=n,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function bw(){return new f0([new gw])}let f0=(()=>{class t{static{this.\u0275prov=Ot({token:t,providedIn:"root",factory:bw})}constructor(i){this.factories=i}static create(i,c){if(null!=c){const d=c.factories.slice();i=i.concat(d)}return new t(i)}static extend(i){return{provide:t,useFactory:c=>t.create(i,c||bw()),deps:[[t,new kd,new Od]]}}find(i){const c=this.factories.find(d=>d.supports(i));if(null!=c)return c;throw new et(901,!1)}}return t})();function Ew(){return new p0([new vw])}let p0=(()=>{class t{static{this.\u0275prov=Ot({token:t,providedIn:"root",factory:Ew})}constructor(i){this.factories=i}static create(i,c){if(c){const d=c.factories.slice();i=i.concat(d)}return new t(i)}static extend(i){return{provide:t,useFactory:c=>t.create(i,c||Ew()),deps:[[t,new kd,new Od]]}}find(i){const c=this.factories.find(d=>d.supports(i));if(c)return c;throw new et(901,!1)}}return t})();const UA=rw(null,"core",[]);let jA=(()=>{class t{constructor(i){}static{this.\u0275fac=function(c){return new(c||t)(Kn(D_))}}static{this.\u0275mod=Lo({type:t})}static{this.\u0275inj=Cr({})}}return t})();function ZA(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}function eD(t){const n=Mn(t);if(!n)return null;const i=new Eh(n);return{get selector(){return i.selector},get type(){return i.componentType},get inputs(){return i.inputs},get outputs(){return i.outputs},get ngContentSelectors(){return i.ngContentSelectors},get isStandalone(){return n.standalone},get isSignal(){return n.signals}}}},7440:(on,Ze,q)=>{q.d(Ze,{MW:()=>gt,Wp:()=>mt,XU:()=>Y,gL:()=>de});var I=q(2214),Ee=q(2598),$e=q(5407);class Y{constructor(ut){return ut}}class de{constructor(){return(0,I.Dk)()}}const ot=new Ee.nKC("angularfire2._apps"),Ue={provide:Y,useFactory:function Re(yt){return yt&&1===yt.length?yt[0]:new Y((0,I.Sx)())},deps:[[new Ee.Xx1,ot]]},pe={provide:de,deps:[[new Ee.Xx1,ot]]};function Ie(yt){return(ut,He)=>{const lt=ut.runOutsideAngular(()=>yt(He));return new Y(lt)}}let ze=(()=>{class yt{constructor(He){(0,I.KO)("angularfire",$e.xv.full,"core"),(0,I.KO)("angularfire",$e.xv.full,"app"),(0,I.KO)("angular",Ee.xvI.full,He.toString())}static \u0275fac=function(lt){return new(lt||yt)(Ee.KVO(Ee.Agw))};static \u0275mod=Ee.$C({type:yt});static \u0275inj=Ee.G2t({providers:[Ue,pe]})}return yt})();function gt(yt,...ut){return{ngModule:ze,providers:[{provide:ot,useFactory:Ie(yt),multi:!0,deps:[Ee.SKi,Ee.zZn,$e.u0,...ut]}]}}const mt=(0,$e.S3)(I.Wp,!0)},4665:(on,Ze,q)=>{q.d(Ze,{DF:()=>tc});var I=q(5407),de=(q(2598),q(7440),q(2214),q(467)),le=q(7852),Re=q(1076),ot=q(8041),Ue=q(1635),pe=q(1362);const tn=function mt(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Tn=new Re.FA("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),ut=new ot.Vy("@firebase/auth");function lt(A,...g){ut.logLevel<=ot.$b.ERROR&&ut.error(`Auth (${le.MF}): ${A}`,...g)}function Mt(A,...g){throw Zt(A,...g)}function Rt(A,...g){return Zt(A,...g)}function cn(A,g,b){const x=Object.assign(Object.assign({},tn()),{[g]:b});return new Re.FA("auth","Firebase",x).create(g,{appName:A.name})}function et(A){return cn(A,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Zt(A,...g){if("string"!=typeof A){const b=g[0],x=[...g.slice(1)];return x[0]&&(x[0].appName=A.name),A._errorFactory.create(b,...x)}return Tn.create(A,...g)}function st(A,g,...b){if(!A)throw Zt(g,...b)}function rt(A){const g="INTERNAL ASSERTION FAILED: "+A;throw lt(g),new Error(g)}function Pt(A,g){A||rt(g)}function Xe(){var A;return typeof self<"u"&&(null===(A=self.location)||void 0===A?void 0:A.protocol)||null}class me{constructor(g,b){this.shortDelay=g,this.longDelay=b,Pt(b>g,"Short delay should be less than long delay!"),this.isMobile=(0,Re.jZ)()||(0,Re.lV)()}get(){return function Et(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function pn(){return"http:"===Xe()||"https:"===Xe()}()||(0,Re.sr)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}class ge{static initialize(g,b,x){this.fetchImpl=g,b&&(this.headersImpl=b),x&&(this.responseImpl=x)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void rt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void rt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void rt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const pt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},It=new me(3e4,6e4);function Lt(A,g){return A.tenantId&&!g.tenantId?Object.assign(Object.assign({},g),{tenantId:A.tenantId}):g}function an(A,g,b,x){return Tr.apply(this,arguments)}function Tr(){return(Tr=(0,de.A)(function*(A,g,b,x,K={}){return Ct(A,K,(0,de.A)(function*(){let se={},Se={};x&&("GET"===g?Se=x:se={body:JSON.stringify(x)});const We=(0,Re.Am)(Object.assign({key:A.config.apiKey},Se)).slice(1),_t=yield A._getAdditionalHeaders();_t["Content-Type"]="application/json",A.languageCode&&(_t["X-Firebase-Locale"]=A.languageCode);const dn=Object.assign({method:g,headers:_t},se);return(0,Re.c1)()||(dn.referrerPolicy="no-referrer"),ge.fetch()(xn(A,A.config.apiHost,b,We),dn)}))})).apply(this,arguments)}function Ct(A,g,b){return Qn.apply(this,arguments)}function Qn(){return(Qn=(0,de.A)(function*(A,g,b){A._canInitEmulator=!1;const x=Object.assign(Object.assign({},pt),g);try{const K=new yr(A),se=yield Promise.race([b(),K.promise]);K.clearNetworkTimeout();const Se=yield se.json();if("needConfirmation"in Se)throw Ot(A,"account-exists-with-different-credential",Se);if(se.ok&&!("errorMessage"in Se))return Se;{const We=se.ok?Se.errorMessage:Se.error.message,[_t,dn]=We.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===_t)throw Ot(A,"credential-already-in-use",Se);if("EMAIL_EXISTS"===_t)throw Ot(A,"email-already-in-use",Se);if("USER_DISABLED"===_t)throw Ot(A,"user-disabled",Se);const An=x[_t]||_t.toLowerCase().replace(/[_\s]+/g,"-");if(dn)throw cn(A,An,dn);Mt(A,An)}}catch(K){if(K instanceof Re.g)throw K;Mt(A,"network-request-failed",{message:String(K)})}})).apply(this,arguments)}function xn(A,g,b,x){const K=`${g}${b}?${x}`;return A.config.emulator?function ae(A,g){Pt(A.emulator,"Emulator should always be set here");const{url:b}=A.emulator;return g?`${b}${g.startsWith("/")?g.slice(1):g}`:b}(A.config,K):`${A.config.apiScheme}://${K}`}class yr{constructor(g){this.auth=g,this.timer=null,this.promise=new Promise((b,x)=>{this.timer=setTimeout(()=>x(Rt(this.auth,"network-request-failed")),It.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Ot(A,g,b){const x={appName:A.name};b.email&&(x.email=b.email),b.phoneNumber&&(x.phoneNumber=b.phoneNumber);const K=Rt(A,g,x);return K.customData._tokenResponse=b,K}function wt(){return(wt=(0,de.A)(function*(A,g){return an(A,"POST","/v1/accounts:delete",g)})).apply(this,arguments)}function nn(A,g){return Xn.apply(this,arguments)}function Xn(){return(Xn=(0,de.A)(function*(A,g){return an(A,"POST","/v1/accounts:lookup",g)})).apply(this,arguments)}function Pn(A){if(A)try{const g=new Date(Number(A));if(!isNaN(g.getTime()))return g.toUTCString()}catch{}}function Fs(){return(Fs=(0,de.A)(function*(A,g=!1){const b=(0,Re.Ku)(A),x=yield b.getIdToken(g),K=jr(x);st(K&&K.exp&&K.auth_time&&K.iat,b.auth,"internal-error");const se="object"==typeof K.firebase?K.firebase:void 0,Se=se?.sign_in_provider;return{claims:K,token:x,authTime:Pn(ir(K.auth_time)),issuedAtTime:Pn(ir(K.iat)),expirationTime:Pn(ir(K.exp)),signInProvider:Se||null,signInSecondFactor:se?.sign_in_second_factor||null}})).apply(this,arguments)}function ir(A){return 1e3*Number(A)}function jr(A){const[g,b,x]=A.split(".");if(void 0===g||void 0===b||void 0===x)return lt("JWT malformed, contained fewer than 3 sections"),null;try{const K=(0,Re.u)(b);return K?JSON.parse(K):(lt("Failed to decode base64 JWT payload"),null)}catch(K){return lt("Caught error parsing JWT payload as JSON",K?.toString()),null}}function Co(A){const g=jr(A);return st(g,"internal-error"),st(typeof g.exp<"u","internal-error"),st(typeof g.iat<"u","internal-error"),Number(g.exp)-Number(g.iat)}function rn(A,g){return _i.apply(this,arguments)}function _i(){return(_i=(0,de.A)(function*(A,g,b=!1){if(b)return g;try{return yield g}catch(x){throw x instanceof Re.g&&function hi({code:A}){return"auth/user-disabled"===A||"auth/user-token-expired"===A}(x)&&A.auth.currentUser===A&&(yield A.auth.signOut()),x}})).apply(this,arguments)}class Bi{constructor(g){this.user=g,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(g){var b;if(g){const x=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),x}{this.errorBackoff=3e4;const K=(null!==(b=this.user.stsTokenManager.expirationTime)&&void 0!==b?b:0)-Date.now()-3e5;return Math.max(0,K)}}schedule(g=!1){var b=this;if(!this.isRunning)return;const x=this.getInterval(g);this.timerId=setTimeout((0,de.A)(function*(){yield b.iteration()}),x)}iteration(){var g=this;return(0,de.A)(function*(){try{yield g.user.getIdToken(!0)}catch(b){return void("auth/network-request-failed"===b?.code&&g.schedule(!0))}g.schedule()})()}}class xe{constructor(g,b){this.createdAt=g,this.lastLoginAt=b,this._initializeTime()}_initializeTime(){this.lastSignInTime=Pn(this.lastLoginAt),this.creationTime=Pn(this.createdAt)}_copy(g){this.createdAt=g.createdAt,this.lastLoginAt=g.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function yi(A){return Sr.apply(this,arguments)}function Sr(){return(Sr=(0,de.A)(function*(A){var g;const b=A.auth,x=yield A.getIdToken(),K=yield rn(A,nn(b,{idToken:x}));st(K?.users.length,b,"internal-error");const se=K.users[0];A._notifyReloadListener(se);const Se=null!==(g=se.providerUserInfo)&&void 0!==g&&g.length?te(se.providerUserInfo):[],We=function Ye(A,g){return[...A.filter(x=>!g.some(K=>K.providerId===x.providerId)),...g]}(A.providerData,Se),An=!!A.isAnonymous&&!(A.email&&se.passwordHash||We?.length),jn={uid:se.localId,displayName:se.displayName||null,photoURL:se.photoUrl||null,email:se.email||null,emailVerified:se.emailVerified||!1,phoneNumber:se.phoneNumber||null,tenantId:se.tenantId||null,providerData:We,metadata:new xe(se.createdAt,se.lastLoginAt),isAnonymous:An};Object.assign(A,jn)})).apply(this,arguments)}function Si(){return(Si=(0,de.A)(function*(A){const g=(0,Re.Ku)(A);yield yi(g),yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)})).apply(this,arguments)}function te(A){return A.map(g=>{var{providerId:b}=g,x=(0,Ue.Tt)(g,["providerId"]);return{providerId:b,uid:x.rawId||"",displayName:x.displayName||null,email:x.email||null,phoneNumber:x.phoneNumber||null,photoURL:x.photoUrl||null}})}function Q(){return(Q=(0,de.A)(function*(A,g){const b=yield Ct(A,{},(0,de.A)(function*(){const x=(0,Re.Am)({grant_type:"refresh_token",refresh_token:g}).slice(1),{tokenApiHost:K,apiKey:se}=A.config,Se=xn(A,K,"/v1/token",`key=${se}`),We=yield A._getAdditionalHeaders();return We["Content-Type"]="application/x-www-form-urlencoded",ge.fetch()(Se,{method:"POST",headers:We,body:x})}));return{accessToken:b.access_token,expiresIn:b.expires_in,refreshToken:b.refresh_token}})).apply(this,arguments)}function Te(){return(Te=(0,de.A)(function*(A,g){return an(A,"POST","/v2/accounts:revokeToken",Lt(A,g))})).apply(this,arguments)}class ct{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(g){st(g.idToken,"internal-error"),st(typeof g.idToken<"u","internal-error"),st(typeof g.refreshToken<"u","internal-error");const b="expiresIn"in g&&typeof g.expiresIn<"u"?Number(g.expiresIn):Co(g.idToken);this.updateTokensAndExpiration(g.idToken,g.refreshToken,b)}updateFromIdToken(g){st(0!==g.length,"internal-error");const b=Co(g);this.updateTokensAndExpiration(g,null,b)}getToken(g){var b=this;return(0,de.A)(function*(x,K=!1){return K||!b.accessToken||b.isExpired?(st(b.refreshToken,x,"user-token-expired"),b.refreshToken?(yield b.refresh(x,b.refreshToken),b.accessToken):null):b.accessToken}).apply(this,arguments)}clearRefreshToken(){this.refreshToken=null}refresh(g,b){var x=this;return(0,de.A)(function*(){const{accessToken:K,refreshToken:se,expiresIn:Se}=yield function H(A,g){return Q.apply(this,arguments)}(g,b);x.updateTokensAndExpiration(K,se,Number(Se))})()}updateTokensAndExpiration(g,b,x){this.refreshToken=b||null,this.accessToken=g||null,this.expirationTime=Date.now()+1e3*x}static fromJSON(g,b){const{refreshToken:x,accessToken:K,expirationTime:se}=b,Se=new ct;return x&&(st("string"==typeof x,"internal-error",{appName:g}),Se.refreshToken=x),K&&(st("string"==typeof K,"internal-error",{appName:g}),Se.accessToken=K),se&&(st("number"==typeof se,"internal-error",{appName:g}),Se.expirationTime=se),Se}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(g){this.accessToken=g.accessToken,this.refreshToken=g.refreshToken,this.expirationTime=g.expirationTime}_clone(){return Object.assign(new ct,this.toJSON())}_performRefresh(){return rt("not implemented")}}function Ut(A,g){st("string"==typeof A||typeof A>"u","internal-error",{appName:g})}class Wt{constructor(g){var{uid:b,auth:x,stsTokenManager:K}=g,se=(0,Ue.Tt)(g,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Bi(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=b,this.auth=x,this.stsTokenManager=K,this.accessToken=K.accessToken,this.displayName=se.displayName||null,this.email=se.email||null,this.emailVerified=se.emailVerified||!1,this.phoneNumber=se.phoneNumber||null,this.photoURL=se.photoURL||null,this.isAnonymous=se.isAnonymous||!1,this.tenantId=se.tenantId||null,this.providerData=se.providerData?[...se.providerData]:[],this.metadata=new xe(se.createdAt||void 0,se.lastLoginAt||void 0)}getIdToken(g){var b=this;return(0,de.A)(function*(){const x=yield rn(b,b.stsTokenManager.getToken(b.auth,g));return st(x,b.auth,"internal-error"),b.accessToken!==x&&(b.accessToken=x,yield b.auth._persistUserIfCurrent(b),b.auth._notifyListenersIfCurrent(b)),x})()}getIdTokenResult(g){return function Ln(A){return Fs.apply(this,arguments)}(this,g)}reload(){return function vi(A){return Si.apply(this,arguments)}(this)}_assign(g){this!==g&&(st(this.uid===g.uid,this.auth,"internal-error"),this.displayName=g.displayName,this.photoURL=g.photoURL,this.email=g.email,this.emailVerified=g.emailVerified,this.phoneNumber=g.phoneNumber,this.isAnonymous=g.isAnonymous,this.tenantId=g.tenantId,this.providerData=g.providerData.map(b=>Object.assign({},b)),this.metadata._copy(g.metadata),this.stsTokenManager._assign(g.stsTokenManager))}_clone(g){const b=new Wt(Object.assign(Object.assign({},this),{auth:g,stsTokenManager:this.stsTokenManager._clone()}));return b.metadata._copy(this.metadata),b}_onReload(g){st(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=g,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(g){this.reloadListener?this.reloadListener(g):this.reloadUserInfo=g}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(g){var b=this;return(0,de.A)(function*(x,K=!1){let se=!1;x.idToken&&x.idToken!==b.stsTokenManager.accessToken&&(b.stsTokenManager.updateFromServerResponse(x),se=!0),K&&(yield yi(b)),yield b.auth._persistUserIfCurrent(b),se&&b.auth._notifyListenersIfCurrent(b)}).apply(this,arguments)}delete(){var g=this;return(0,de.A)(function*(){if((0,le.xZ)(g.auth.app))return Promise.reject(et(g.auth));const b=yield g.getIdToken();return yield rn(g,function rr(A,g){return wt.apply(this,arguments)}(g.auth,{idToken:b})),g.stsTokenManager.clearRefreshToken(),g.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(g=>Object.assign({},g)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(g,b){var x,K,se,Se,We,_t,dn,An;const jn=null!==(x=b.displayName)&&void 0!==x?x:void 0,Gr=null!==(K=b.email)&&void 0!==K?K:void 0,ts=null!==(se=b.phoneNumber)&&void 0!==se?se:void 0,ks=null!==(Se=b.photoURL)&&void 0!==Se?Se:void 0,Uc=null!==(We=b.tenantId)&&void 0!==We?We:void 0,Ju=null!==(_t=b._redirectEventId)&&void 0!==_t?_t:void 0,cf=null!==(dn=b.createdAt)&&void 0!==dn?dn:void 0,Kd=null!==(An=b.lastLoginAt)&&void 0!==An?An:void 0,{uid:qd,emailVerified:Qd,isAnonymous:ed,providerData:Il,stsTokenManager:xa}=b;st(qd&&xa,g,"internal-error");const td=ct.fromJSON(this.name,xa);st("string"==typeof qd,g,"internal-error"),Ut(jn,g.name),Ut(Gr,g.name),st("boolean"==typeof Qd,g,"internal-error"),st("boolean"==typeof ed,g,"internal-error"),Ut(ts,g.name),Ut(ks,g.name),Ut(Uc,g.name),Ut(Ju,g.name),Ut(cf,g.name),Ut(Kd,g.name);const lf=new Wt({uid:qd,auth:g,email:Gr,emailVerified:Qd,displayName:jn,isAnonymous:ed,photoURL:ks,phoneNumber:ts,tenantId:Uc,stsTokenManager:td,createdAt:cf,lastLoginAt:Kd});return Il&&Array.isArray(Il)&&(lf.providerData=Il.map(Zm=>Object.assign({},Zm))),Ju&&(lf._redirectEventId=Ju),lf}static _fromIdTokenResponse(g,b){return(0,de.A)(function*(x,K,se=!1){const Se=new ct;Se.updateFromServerResponse(K);const We=new Wt({uid:K.localId,auth:x,stsTokenManager:Se,isAnonymous:se});return yield yi(We),We}).apply(this,arguments)}static _fromGetAccountInfoResponse(g,b,x){return(0,de.A)(function*(){const K=b.users[0];st(void 0!==K.localId,"internal-error");const se=void 0!==K.providerUserInfo?te(K.providerUserInfo):[],Se=!(K.email&&K.passwordHash||se?.length),We=new ct;We.updateFromIdToken(x);const _t=new Wt({uid:K.localId,auth:g,stsTokenManager:We,isAnonymous:Se}),dn={uid:K.localId,displayName:K.displayName||null,photoURL:K.photoUrl||null,email:K.email||null,emailVerified:K.emailVerified||!1,phoneNumber:K.phoneNumber||null,tenantId:K.tenantId||null,providerData:se,metadata:new xe(K.createdAt,K.lastLoginAt),isAnonymous:!(K.email&&K.passwordHash||se?.length)};return Object.assign(_t,dn),_t})()}}const Jn=new Map;function Rn(A){Pt(A instanceof Function,"Expected a class definition");let g=Jn.get(A);return g?(Pt(g instanceof A,"Instance stored in cache mismatched with class"),g):(g=new A,Jn.set(A,g),g)}const Kt=(()=>{class A{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,de.A)(function*(){return!0})()}_set(b,x){var K=this;return(0,de.A)(function*(){K.storage[b]=x})()}_get(b){var x=this;return(0,de.A)(function*(){const K=x.storage[b];return void 0===K?null:K})()}_remove(b){var x=this;return(0,de.A)(function*(){delete x.storage[b]})()}_addListener(b,x){}_removeListener(b,x){}}return A.type="NONE",A})();function qr(A,g,b){return`firebase:${A}:${g}:${b}`}class Kn{constructor(g,b,x){this.persistence=g,this.auth=b,this.userKey=x;const{config:K,name:se}=this.auth;this.fullUserKey=qr(this.userKey,K.apiKey,se),this.fullPersistenceKey=qr("persistence",K.apiKey,se),this.boundEventHandler=b._onStorageEvent.bind(b),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(g){return this.persistence._set(this.fullUserKey,g.toJSON())}getCurrentUser(){var g=this;return(0,de.A)(function*(){const b=yield g.persistence._get(g.fullUserKey);return b?Wt._fromJSON(g.auth,b):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(g){var b=this;return(0,de.A)(function*(){if(b.persistence===g)return;const x=yield b.getCurrentUser();return yield b.removeCurrentUser(),b.persistence=g,x?b.setCurrentUser(x):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(g,b){return(0,de.A)(function*(x,K,se="authUser"){if(!K.length)return new Kn(Rn(Kt),x,se);const Se=(yield Promise.all(K.map(function(){var jn=(0,de.A)(function*(Gr){if(yield Gr._isAvailable())return Gr});return function(Gr){return jn.apply(this,arguments)}}()))).filter(jn=>jn);let We=Se[0]||Rn(Kt);const _t=qr(se,x.config.apiKey,x.name);let dn=null;for(const jn of K)try{const Gr=yield jn._get(_t);if(Gr){const ts=Wt._fromJSON(x,Gr);jn!==We&&(dn=ts),We=jn;break}}catch{}const An=Se.filter(jn=>jn._shouldAllowMigration);return We._shouldAllowMigration&&An.length?(We=An[0],dn&&(yield We._set(_t,dn.toJSON())),yield Promise.all(K.map(function(){var jn=(0,de.A)(function*(Gr){if(Gr!==We)try{yield Gr._remove(_t)}catch{}});return function(Gr){return jn.apply(this,arguments)}}())),new Kn(We,x,se)):new Kn(We,x,se)}).apply(this,arguments)}}function ti(A){const g=A.toLowerCase();if(g.includes("opera/")||g.includes("opr/")||g.includes("opios/"))return"Opera";if(function ji(A=(0,Re.ZQ)()){return/iemobile/i.test(A)}(g))return"IEMobile";if(g.includes("msie")||g.includes("trident/"))return"IE";if(g.includes("edge/"))return"Edge";if(function Yn(A=(0,Re.ZQ)()){return/firefox\//i.test(A)}(g))return"Firefox";if(g.includes("silk/"))return"Silk";if(function $i(A=(0,Re.ZQ)()){return/blackberry/i.test(A)}(g))return"Blackberry";if(function Qe(A=(0,Re.ZQ)()){return/webos/i.test(A)}(g))return"Webos";if(function Ui(A=(0,Re.ZQ)()){const g=A.toLowerCase();return g.includes("safari/")&&!g.includes("chrome/")&&!g.includes("crios/")&&!g.includes("android")}(g))return"Safari";if((g.includes("chrome/")||function Go(A=(0,Re.ZQ)()){return/crios\//i.test(A)}(g))&&!g.includes("edge/"))return"Chrome";if(function po(A=(0,Re.ZQ)()){return/android/i.test(A)}(g))return"Android";{const x=A.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===x?.length)return x[1]}return"Other"}function On(A,g=[]){let b;switch(A){case"Browser":b=ti((0,Re.ZQ)());break;case"Worker":b=`${ti((0,Re.ZQ)())}-${A}`;break;default:b=A}const x=g.length?g.join(","):"FirebaseCore-web";return`${b}/JsCore/${le.MF}/${x}`}class cr{constructor(g){this.auth=g,this.queue=[]}pushCallback(g,b){const x=se=>new Promise((Se,We)=>{try{Se(g(se))}catch(_t){We(_t)}});x.onAbort=b,this.queue.push(x);const K=this.queue.length-1;return()=>{this.queue[K]=()=>Promise.resolve()}}runMiddleware(g){var b=this;return(0,de.A)(function*(){if(b.auth.currentUser===g)return;const x=[];try{for(const K of b.queue)yield K(g),K.onAbort&&x.push(K.onAbort)}catch(K){x.reverse();for(const se of x)try{se()}catch{}throw b.auth._errorFactory.create("login-blocked",{originalMessage:K?.message})}})()}}function Ri(){return(Ri=(0,de.A)(function*(A,g={}){return an(A,"GET","/v2/passwordPolicy",Lt(A,g))})).apply(this,arguments)}class rs{constructor(g){var b,x,K,se;const Se=g.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(b=Se.minPasswordLength)&&void 0!==b?b:6,Se.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=Se.maxPasswordLength),void 0!==Se.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=Se.containsLowercaseCharacter),void 0!==Se.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=Se.containsUppercaseCharacter),void 0!==Se.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=Se.containsNumericCharacter),void 0!==Se.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=Se.containsNonAlphanumericCharacter),this.enforcementState=g.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(K=null===(x=g.allowedNonAlphanumericCharacters)||void 0===x?void 0:x.join(""))&&void 0!==K?K:"",this.forceUpgradeOnSignin=null!==(se=g.forceUpgradeOnSignin)&&void 0!==se&&se,this.schemaVersion=g.schemaVersion}validatePassword(g){var b,x,K,se,Se,We;const _t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(g,_t),this.validatePasswordCharacterOptions(g,_t),_t.isValid&&(_t.isValid=null===(b=_t.meetsMinPasswordLength)||void 0===b||b),_t.isValid&&(_t.isValid=null===(x=_t.meetsMaxPasswordLength)||void 0===x||x),_t.isValid&&(_t.isValid=null===(K=_t.containsLowercaseLetter)||void 0===K||K),_t.isValid&&(_t.isValid=null===(se=_t.containsUppercaseLetter)||void 0===se||se),_t.isValid&&(_t.isValid=null===(Se=_t.containsNumericCharacter)||void 0===Se||Se),_t.isValid&&(_t.isValid=null===(We=_t.containsNonAlphanumericCharacter)||void 0===We||We),_t}validatePasswordLengthOptions(g,b){const x=this.customStrengthOptions.minPasswordLength,K=this.customStrengthOptions.maxPasswordLength;x&&(b.meetsMinPasswordLength=g.length>=x),K&&(b.meetsMaxPasswordLength=g.length<=K)}validatePasswordCharacterOptions(g,b){let x;this.updatePasswordCharacterOptionsStatuses(b,!1,!1,!1,!1);for(let K=0;K<g.length;K++)x=g.charAt(K),this.updatePasswordCharacterOptionsStatuses(b,x>="a"&&x<="z",x>="A"&&x<="Z",x>="0"&&x<="9",this.allowedNonAlphanumericCharacters.includes(x))}updatePasswordCharacterOptionsStatuses(g,b,x,K,se){this.customStrengthOptions.containsLowercaseLetter&&(g.containsLowercaseLetter||(g.containsLowercaseLetter=b)),this.customStrengthOptions.containsUppercaseLetter&&(g.containsUppercaseLetter||(g.containsUppercaseLetter=x)),this.customStrengthOptions.containsNumericCharacter&&(g.containsNumericCharacter||(g.containsNumericCharacter=K)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(g.containsNonAlphanumericCharacter||(g.containsNonAlphanumericCharacter=se))}}class ga{constructor(g,b,x,K){this.app=g,this.heartbeatServiceProvider=b,this.appCheckServiceProvider=x,this.config=K,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Hi(this),this.idTokenSubscription=new Hi(this),this.beforeStateQueue=new cr(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Tn,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=g.name,this.clientVersion=K.sdkClientVersion}_initializeWithPersistence(g,b){var x=this;return b&&(this._popupRedirectResolver=Rn(b)),this._initializationPromise=this.queue((0,de.A)(function*(){var K,se;if(!x._deleted&&(x.persistenceManager=yield Kn.create(x,g),!x._deleted)){if(null!==(K=x._popupRedirectResolver)&&void 0!==K&&K._shouldInitProactively)try{yield x._popupRedirectResolver._initialize(x)}catch{}yield x.initializeCurrentUser(b),x.lastNotifiedUid=(null===(se=x.currentUser)||void 0===se?void 0:se.uid)||null,!x._deleted&&(x._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var g=this;return(0,de.A)(function*(){if(g._deleted)return;const b=yield g.assertedPersistence.getCurrentUser();if(g.currentUser||b){if(g.currentUser&&b&&g.currentUser.uid===b.uid)return g._currentUser._assign(b),void(yield g.currentUser.getIdToken());yield g._updateCurrentUser(b,!0)}})()}initializeCurrentUserFromIdToken(g){var b=this;return(0,de.A)(function*(){try{const x=yield nn(b,{idToken:g}),K=yield Wt._fromGetAccountInfoResponse(b,x,g);yield b.directlySetCurrentUser(K)}catch(x){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",x),yield b.directlySetCurrentUser(null)}})()}initializeCurrentUser(g){var b=this;return(0,de.A)(function*(){var x;if((0,le.xZ)(b.app)){const We=b.app.settings.authIdToken;return We?new Promise(_t=>{setTimeout(()=>b.initializeCurrentUserFromIdToken(We).then(_t,_t))}):b.directlySetCurrentUser(null)}const K=yield b.assertedPersistence.getCurrentUser();let se=K,Se=!1;if(g&&b.config.authDomain){yield b.getOrInitRedirectPersistenceManager();const We=null===(x=b.redirectUser)||void 0===x?void 0:x._redirectEventId,_t=se?._redirectEventId,dn=yield b.tryRedirectSignIn(g);(!We||We===_t)&&dn?.user&&(se=dn.user,Se=!0)}if(!se)return b.directlySetCurrentUser(null);if(!se._redirectEventId){if(Se)try{yield b.beforeStateQueue.runMiddleware(se)}catch(We){se=K,b._popupRedirectResolver._overrideRedirectResult(b,()=>Promise.reject(We))}return se?b.reloadAndSetCurrentUserOrClear(se):b.directlySetCurrentUser(null)}return st(b._popupRedirectResolver,b,"argument-error"),yield b.getOrInitRedirectPersistenceManager(),b.redirectUser&&b.redirectUser._redirectEventId===se._redirectEventId?b.directlySetCurrentUser(se):b.reloadAndSetCurrentUserOrClear(se)})()}tryRedirectSignIn(g){var b=this;return(0,de.A)(function*(){let x=null;try{x=yield b._popupRedirectResolver._completeRedirectFn(b,g,!0)}catch{yield b._setRedirectUser(null)}return x})()}reloadAndSetCurrentUserOrClear(g){var b=this;return(0,de.A)(function*(){try{yield yi(g)}catch(x){if("auth/network-request-failed"!==x?.code)return b.directlySetCurrentUser(null)}return b.directlySetCurrentUser(g)})()}useDeviceLanguage(){this.languageCode=function Oe(){if(typeof navigator>"u")return null;const A=navigator;return A.languages&&A.languages[0]||A.language||null}()}_delete(){var g=this;return(0,de.A)(function*(){g._deleted=!0})()}updateCurrentUser(g){var b=this;return(0,de.A)(function*(){if((0,le.xZ)(b.app))return Promise.reject(et(b));const x=g?(0,Re.Ku)(g):null;return x&&st(x.auth.config.apiKey===b.config.apiKey,b,"invalid-user-token"),b._updateCurrentUser(x&&x._clone(b))})()}_updateCurrentUser(g){var b=this;return(0,de.A)(function*(x,K=!1){if(!b._deleted)return x&&st(b.tenantId===x.tenantId,b,"tenant-id-mismatch"),K||(yield b.beforeStateQueue.runMiddleware(x)),b.queue((0,de.A)(function*(){yield b.directlySetCurrentUser(x),b.notifyAuthListeners()}))}).apply(this,arguments)}signOut(){var g=this;return(0,de.A)(function*(){return(0,le.xZ)(g.app)?Promise.reject(et(g)):(yield g.beforeStateQueue.runMiddleware(null),(g.redirectPersistenceManager||g._popupRedirectResolver)&&(yield g._setRedirectUser(null)),g._updateCurrentUser(null,!0))})()}setPersistence(g){var b=this;return(0,le.xZ)(this.app)?Promise.reject(et(this)):this.queue((0,de.A)(function*(){yield b.assertedPersistence.setPersistence(Rn(g))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(g){var b=this;return(0,de.A)(function*(){b._getPasswordPolicyInternal()||(yield b._updatePasswordPolicy());const x=b._getPasswordPolicyInternal();return x.schemaVersion!==b.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(b._errorFactory.create("unsupported-password-policy-schema-version",{})):x.validatePassword(g)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var g=this;return(0,de.A)(function*(){const b=yield function Pr(A){return Ri.apply(this,arguments)}(g),x=new rs(b);null===g.tenantId?g._projectPasswordPolicy=x:g._tenantPasswordPolicies[g.tenantId]=x})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(g){this._errorFactory=new Re.FA("auth","Firebase",g())}onAuthStateChanged(g,b,x){return this.registerStateListener(this.authStateSubscription,g,b,x)}beforeAuthStateChanged(g,b){return this.beforeStateQueue.pushCallback(g,b)}onIdTokenChanged(g,b,x){return this.registerStateListener(this.idTokenSubscription,g,b,x)}authStateReady(){return new Promise((g,b)=>{if(this.currentUser)g();else{const x=this.onAuthStateChanged(()=>{x(),g()},b)}})}revokeAccessToken(g){var b=this;return(0,de.A)(function*(){if(b.currentUser){const x=yield b.currentUser.getIdToken(),K={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:g,idToken:x};null!=b.tenantId&&(K.tenantId=b.tenantId),yield function _e(A,g){return Te.apply(this,arguments)}(b,K)}})()}toJSON(){var g;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(g=this._currentUser)||void 0===g?void 0:g.toJSON()}}_setRedirectUser(g,b){var x=this;return(0,de.A)(function*(){const K=yield x.getOrInitRedirectPersistenceManager(b);return null===g?K.removeCurrentUser():K.setCurrentUser(g)})()}getOrInitRedirectPersistenceManager(g){var b=this;return(0,de.A)(function*(){if(!b.redirectPersistenceManager){const x=g&&Rn(g)||b._popupRedirectResolver;st(x,b,"argument-error"),b.redirectPersistenceManager=yield Kn.create(b,[Rn(x._redirectPersistence)],"redirectUser"),b.redirectUser=yield b.redirectPersistenceManager.getCurrentUser()}return b.redirectPersistenceManager})()}_redirectUserForId(g){var b=this;return(0,de.A)(function*(){var x,K;return b._isInitialized&&(yield b.queue((0,de.A)(function*(){}))),(null===(x=b._currentUser)||void 0===x?void 0:x._redirectEventId)===g?b._currentUser:(null===(K=b.redirectUser)||void 0===K?void 0:K._redirectEventId)===g?b.redirectUser:null})()}_persistUserIfCurrent(g){var b=this;return(0,de.A)(function*(){if(g===b.currentUser)return b.queue((0,de.A)(function*(){return b.directlySetCurrentUser(g)}))})()}_notifyListenersIfCurrent(g){g===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var g,b;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const x=null!==(b=null===(g=this.currentUser)||void 0===g?void 0:g.uid)&&void 0!==b?b:null;this.lastNotifiedUid!==x&&(this.lastNotifiedUid=x,this.authStateSubscription.next(this.currentUser))}registerStateListener(g,b,x,K){if(this._deleted)return()=>{};const se="function"==typeof b?b:b.next.bind(b);let Se=!1;const We=this._isInitialized?Promise.resolve():this._initializationPromise;if(st(We,this,"internal-error"),We.then(()=>{Se||se(this.currentUser)}),"function"==typeof b){const _t=g.addObserver(b,x,K);return()=>{Se=!0,_t()}}{const _t=g.addObserver(b);return()=>{Se=!0,_t()}}}directlySetCurrentUser(g){var b=this;return(0,de.A)(function*(){b.currentUser&&b.currentUser!==g&&b._currentUser._stopProactiveRefresh(),g&&b.isProactiveRefreshEnabled&&g._startProactiveRefresh(),b.currentUser=g,g?yield b.assertedPersistence.setCurrentUser(g):yield b.assertedPersistence.removeCurrentUser()})()}queue(g){return this.operations=this.operations.then(g,g),this.operations}get assertedPersistence(){return st(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(g){!g||this.frameworks.includes(g)||(this.frameworks.push(g),this.frameworks.sort(),this.clientVersion=On(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var g=this;return(0,de.A)(function*(){var b;const x={"X-Client-Version":g.clientVersion};g.app.options.appId&&(x["X-Firebase-gmpid"]=g.app.options.appId);const K=yield null===(b=g.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===b?void 0:b.getHeartbeatsHeader();K&&(x["X-Firebase-Client"]=K);const se=yield g._getAppCheckToken();return se&&(x["X-Firebase-AppCheck"]=se),x})()}_getAppCheckToken(){var g=this;return(0,de.A)(function*(){var b;const x=yield null===(b=g.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===b?void 0:b.getToken();return x?.error&&function He(A,...g){ut.logLevel<=ot.$b.WARN&&ut.warn(`Auth (${le.MF}): ${A}`,...g)}(`Error while retrieving App Check token: ${x.error}`),x?.token})()}}class Hi{constructor(g){this.auth=g,this.observer=null,this.addObserver=(0,Re.tD)(b=>this.observer=b)}get next(){return st(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let mo={loadJS:()=>(0,de.A)(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};(function Fo(A){return`__${A}${Math.floor(1e6*Math.random())}`})("rcb"),new me(3e4,6e4),new me(2e3,1e4),new me(3e4,6e4),new me(5e3,15e3),encodeURIComponent("fac");var Jl="@firebase/auth";class Od{constructor(g){this.auth=g,this.internalListeners=new Map}getUid(){var g;return this.assertAuthConfigured(),(null===(g=this.auth.currentUser)||void 0===g?void 0:g.uid)||null}getToken(g){var b=this;return(0,de.A)(function*(){return b.assertAuthConfigured(),yield b.auth._initializationPromise,b.auth.currentUser?{accessToken:yield b.auth.currentUser.getIdToken(g)}:null})()}addAuthTokenListener(g){if(this.assertAuthConfigured(),this.internalListeners.has(g))return;const b=this.auth.onIdTokenChanged(x=>{g(x?.stsTokenManager.accessToken||null)});this.internalListeners.set(g,b),this.updateProactiveRefresh()}removeAuthTokenListener(g){this.assertAuthConfigured();const b=this.internalListeners.get(g);b&&(this.internalListeners.delete(g),b(),this.updateProactiveRefresh())}assertAuthConfigured(){st(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,Re.XA)("authIdTokenMaxAge"),function oo(A){mo=A}({loadJS:A=>new Promise((g,b)=>{const x=document.createElement("script");x.setAttribute("src",A),x.onload=g,x.onerror=K=>{const se=Rt("internal-error");se.customData=K,b(se)},x.type="text/javascript",x.charset="UTF-8",function Wu(){var A,g;return null!==(g=null===(A=document.getElementsByTagName("head"))||void 0===A?void 0:A[0])&&void 0!==g?g:document}().appendChild(x)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function kd(A){(0,le.om)(new pe.uA("auth",(g,{options:b})=>{const x=g.getProvider("app").getImmediate(),K=g.getProvider("heartbeat"),se=g.getProvider("app-check-internal"),{apiKey:Se,authDomain:We}=x.options;st(Se&&!Se.includes(":"),"invalid-api-key",{appName:x.name});const _t={apiKey:Se,authDomain:We,clientPlatform:A,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:On(A)},dn=new ga(x,K,se,_t);return function Qs(A,g){const b=g?.persistence||[],x=(Array.isArray(b)?b:[b]).map(Rn);g?.errorMap&&A._updateErrorMap(g.errorMap),A._initializeWithPersistence(x,g?.popupRedirectResolver)}(dn,b),dn},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((g,b,x)=>{g.getProvider("auth-internal").initialize()})),(0,le.om)(new pe.uA("auth-internal",g=>{const b=function lr(A){return(0,Re.Ku)(A)}(g.getProvider("auth").getImmediate());return new Od(b)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,le.KO)(Jl,"1.7.9",function Hh(A){switch(A){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(A)),(0,le.KO)(Jl,"1.7.9","esm2017")}("Browser");class tc{constructor(){return(0,I.CA)("auth")}}},2418:(on,Ze,q)=>{q.d(Ze,{_7:()=>Hf,gS:()=>ka,rJ:()=>Zg,xs:()=>ky,kd:()=>qc,H9:()=>Wf,aU:()=>Hy,hV:()=>qg,O5:()=>vd,mZ:()=>Ab});var gt,nt,I=q(5407),Ee=q(2598),$e=q(7440),Y=q(4665),de=q(2214),le=q(467),Re=q(7852),ot=q(1362),Ue=q(8041),pe=q(1076),Ie=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ze={};(function(){var l;function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function u(Pe,be,Ae){Ae||(Ae=0);var ke=Array(16);if("string"==typeof be)for(var Le=0;16>Le;++Le)ke[Le]=be.charCodeAt(Ae++)|be.charCodeAt(Ae++)<<8|be.charCodeAt(Ae++)<<16|be.charCodeAt(Ae++)<<24;else for(Le=0;16>Le;++Le)ke[Le]=be[Ae++]|be[Ae++]<<8|be[Ae++]<<16|be[Ae++]<<24;var qe=Pe.g[3],Ce=(be=Pe.g[0])+(qe^(Ae=Pe.g[1])&((Le=Pe.g[2])^qe))+ke[0]+3614090360&4294967295;Ce=(Ae=(Le=(qe=(be=(Ae=(Le=(qe=(be=(Ae=(Le=(qe=(be=(Ae=(Le=(qe=(be=(Ae=(Le=(qe=(be=(Ae=(Le=(qe=(be=(Ae=(Le=(qe=(be=(Ae=(Le=(qe=(be=(Ae=(Le=(qe=(be=(Ae=(Le=(qe=(be=(Ae=(Le=(qe=(be=(Ae=(Le=(qe=(be=(Ae=(Le=(qe=(be=(Ae=(Le=(qe=(be=(Ae=(Le=(qe=(be=Ae+(Ce<<7&4294967295|Ce>>>25))+((Ce=qe+(Le^be&(Ae^Le))+ke[1]+3905402710&4294967295)<<12&4294967295|Ce>>>20))+((Ce=Le+(Ae^qe&(be^Ae))+ke[2]+606105819&4294967295)<<17&4294967295|Ce>>>15))+((Ce=Ae+(be^Le&(qe^be))+ke[3]+3250441966&4294967295)<<22&4294967295|Ce>>>10))+((Ce=be+(qe^Ae&(Le^qe))+ke[4]+4118548399&4294967295)<<7&4294967295|Ce>>>25))+((Ce=qe+(Le^be&(Ae^Le))+ke[5]+1200080426&4294967295)<<12&4294967295|Ce>>>20))+((Ce=Le+(Ae^qe&(be^Ae))+ke[6]+2821735955&4294967295)<<17&4294967295|Ce>>>15))+((Ce=Ae+(be^Le&(qe^be))+ke[7]+4249261313&4294967295)<<22&4294967295|Ce>>>10))+((Ce=be+(qe^Ae&(Le^qe))+ke[8]+1770035416&4294967295)<<7&4294967295|Ce>>>25))+((Ce=qe+(Le^be&(Ae^Le))+ke[9]+2336552879&4294967295)<<12&4294967295|Ce>>>20))+((Ce=Le+(Ae^qe&(be^Ae))+ke[10]+4294925233&4294967295)<<17&4294967295|Ce>>>15))+((Ce=Ae+(be^Le&(qe^be))+ke[11]+2304563134&4294967295)<<22&4294967295|Ce>>>10))+((Ce=be+(qe^Ae&(Le^qe))+ke[12]+1804603682&4294967295)<<7&4294967295|Ce>>>25))+((Ce=qe+(Le^be&(Ae^Le))+ke[13]+4254626195&4294967295)<<12&4294967295|Ce>>>20))+((Ce=Le+(Ae^qe&(be^Ae))+ke[14]+2792965006&4294967295)<<17&4294967295|Ce>>>15))+((Ce=Ae+(be^Le&(qe^be))+ke[15]+1236535329&4294967295)<<22&4294967295|Ce>>>10))+((Ce=be+(Le^qe&(Ae^Le))+ke[1]+4129170786&4294967295)<<5&4294967295|Ce>>>27))+((Ce=qe+(Ae^Le&(be^Ae))+ke[6]+3225465664&4294967295)<<9&4294967295|Ce>>>23))+((Ce=Le+(be^Ae&(qe^be))+ke[11]+643717713&4294967295)<<14&4294967295|Ce>>>18))+((Ce=Ae+(qe^be&(Le^qe))+ke[0]+3921069994&4294967295)<<20&4294967295|Ce>>>12))+((Ce=be+(Le^qe&(Ae^Le))+ke[5]+3593408605&4294967295)<<5&4294967295|Ce>>>27))+((Ce=qe+(Ae^Le&(be^Ae))+ke[10]+38016083&4294967295)<<9&4294967295|Ce>>>23))+((Ce=Le+(be^Ae&(qe^be))+ke[15]+3634488961&4294967295)<<14&4294967295|Ce>>>18))+((Ce=Ae+(qe^be&(Le^qe))+ke[4]+3889429448&4294967295)<<20&4294967295|Ce>>>12))+((Ce=be+(Le^qe&(Ae^Le))+ke[9]+568446438&4294967295)<<5&4294967295|Ce>>>27))+((Ce=qe+(Ae^Le&(be^Ae))+ke[14]+3275163606&4294967295)<<9&4294967295|Ce>>>23))+((Ce=Le+(be^Ae&(qe^be))+ke[3]+4107603335&4294967295)<<14&4294967295|Ce>>>18))+((Ce=Ae+(qe^be&(Le^qe))+ke[8]+1163531501&4294967295)<<20&4294967295|Ce>>>12))+((Ce=be+(Le^qe&(Ae^Le))+ke[13]+2850285829&4294967295)<<5&4294967295|Ce>>>27))+((Ce=qe+(Ae^Le&(be^Ae))+ke[2]+4243563512&4294967295)<<9&4294967295|Ce>>>23))+((Ce=Le+(be^Ae&(qe^be))+ke[7]+1735328473&4294967295)<<14&4294967295|Ce>>>18))+((Ce=Ae+(qe^be&(Le^qe))+ke[12]+2368359562&4294967295)<<20&4294967295|Ce>>>12))+((Ce=be+(Ae^Le^qe)+ke[5]+4294588738&4294967295)<<4&4294967295|Ce>>>28))+((Ce=qe+(be^Ae^Le)+ke[8]+2272392833&4294967295)<<11&4294967295|Ce>>>21))+((Ce=Le+(qe^be^Ae)+ke[11]+1839030562&4294967295)<<16&4294967295|Ce>>>16))+((Ce=Ae+(Le^qe^be)+ke[14]+4259657740&4294967295)<<23&4294967295|Ce>>>9))+((Ce=be+(Ae^Le^qe)+ke[1]+2763975236&4294967295)<<4&4294967295|Ce>>>28))+((Ce=qe+(be^Ae^Le)+ke[4]+1272893353&4294967295)<<11&4294967295|Ce>>>21))+((Ce=Le+(qe^be^Ae)+ke[7]+4139469664&4294967295)<<16&4294967295|Ce>>>16))+((Ce=Ae+(Le^qe^be)+ke[10]+3200236656&4294967295)<<23&4294967295|Ce>>>9))+((Ce=be+(Ae^Le^qe)+ke[13]+681279174&4294967295)<<4&4294967295|Ce>>>28))+((Ce=qe+(be^Ae^Le)+ke[0]+3936430074&4294967295)<<11&4294967295|Ce>>>21))+((Ce=Le+(qe^be^Ae)+ke[3]+3572445317&4294967295)<<16&4294967295|Ce>>>16))+((Ce=Ae+(Le^qe^be)+ke[6]+76029189&4294967295)<<23&4294967295|Ce>>>9))+((Ce=be+(Ae^Le^qe)+ke[9]+3654602809&4294967295)<<4&4294967295|Ce>>>28))+((Ce=qe+(be^Ae^Le)+ke[12]+3873151461&4294967295)<<11&4294967295|Ce>>>21))+((Ce=Le+(qe^be^Ae)+ke[15]+530742520&4294967295)<<16&4294967295|Ce>>>16))+((Ce=Ae+(Le^qe^be)+ke[2]+3299628645&4294967295)<<23&4294967295|Ce>>>9))+((Ce=be+(Le^(Ae|~qe))+ke[0]+4096336452&4294967295)<<6&4294967295|Ce>>>26))+((Ce=qe+(Ae^(be|~Le))+ke[7]+1126891415&4294967295)<<10&4294967295|Ce>>>22))+((Ce=Le+(be^(qe|~Ae))+ke[14]+2878612391&4294967295)<<15&4294967295|Ce>>>17))+((Ce=Ae+(qe^(Le|~be))+ke[5]+4237533241&4294967295)<<21&4294967295|Ce>>>11))+((Ce=be+(Le^(Ae|~qe))+ke[12]+1700485571&4294967295)<<6&4294967295|Ce>>>26))+((Ce=qe+(Ae^(be|~Le))+ke[3]+2399980690&4294967295)<<10&4294967295|Ce>>>22))+((Ce=Le+(be^(qe|~Ae))+ke[10]+4293915773&4294967295)<<15&4294967295|Ce>>>17))+((Ce=Ae+(qe^(Le|~be))+ke[1]+2240044497&4294967295)<<21&4294967295|Ce>>>11))+((Ce=be+(Le^(Ae|~qe))+ke[8]+1873313359&4294967295)<<6&4294967295|Ce>>>26))+((Ce=qe+(Ae^(be|~Le))+ke[15]+4264355552&4294967295)<<10&4294967295|Ce>>>22))+((Ce=Le+(be^(qe|~Ae))+ke[6]+2734768916&4294967295)<<15&4294967295|Ce>>>17))+((Ce=Ae+(qe^(Le|~be))+ke[13]+1309151649&4294967295)<<21&4294967295|Ce>>>11))+((qe=(be=Ae+((Ce=be+(Le^(Ae|~qe))+ke[4]+4149444226&4294967295)<<6&4294967295|Ce>>>26))+((Ce=qe+(Ae^(be|~Le))+ke[11]+3174756917&4294967295)<<10&4294967295|Ce>>>22))^((Le=qe+((Ce=Le+(be^(qe|~Ae))+ke[2]+718787259&4294967295)<<15&4294967295|Ce>>>17))|~be))+ke[9]+3951481745&4294967295,Pe.g[0]=Pe.g[0]+be&4294967295,Pe.g[1]=Pe.g[1]+(Le+(Ce<<21&4294967295|Ce>>>11))&4294967295,Pe.g[2]=Pe.g[2]+Le&4294967295,Pe.g[3]=Pe.g[3]+qe&4294967295}function v(Pe,be){this.h=be;for(var Ae=[],ke=!0,Le=Pe.length-1;0<=Le;Le--){var qe=0|Pe[Le];ke&&qe==be||(Ae[Le]=qe,ke=!1)}this.g=Ae}(function e(Pe,be){function Ae(){}Ae.prototype=be.prototype,Pe.D=be.prototype,Pe.prototype=new Ae,Pe.prototype.constructor=Pe,Pe.C=function(ke,Le,qe){for(var Ce=Array(arguments.length-2),vu=2;vu<arguments.length;vu++)Ce[vu-2]=arguments[vu];return be.prototype[Le].apply(ke,Ce)}})(s,function r(){this.blockSize=-1}),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},s.prototype.u=function(Pe,be){void 0===be&&(be=Pe.length);for(var Ae=be-this.blockSize,ke=this.B,Le=this.h,qe=0;qe<be;){if(0==Le)for(;qe<=Ae;)u(this,Pe,qe),qe+=this.blockSize;if("string"==typeof Pe){for(;qe<be;)if(ke[Le++]=Pe.charCodeAt(qe++),Le==this.blockSize){u(this,ke),Le=0;break}}else for(;qe<be;)if(ke[Le++]=Pe[qe++],Le==this.blockSize){u(this,ke),Le=0;break}}this.h=Le,this.o+=be},s.prototype.v=function(){var Pe=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);Pe[0]=128;for(var be=1;be<Pe.length-8;++be)Pe[be]=0;var Ae=8*this.o;for(be=Pe.length-8;be<Pe.length;++be)Pe[be]=255&Ae,Ae/=256;for(this.u(Pe),Pe=Array(16),be=Ae=0;4>be;++be)for(var ke=0;32>ke;ke+=8)Pe[Ae++]=this.g[be]>>>ke&255;return Pe};var D={};function k(Pe){return-128<=Pe&&128>Pe?function m(Pe,be){var Ae=D;return Object.prototype.hasOwnProperty.call(Ae,Pe)?Ae[Pe]:Ae[Pe]=be(Pe)}(Pe,function(be){return new v([0|be],0>be?-1:0)}):new v([0|Pe],0>Pe?-1:0)}function j(Pe){if(isNaN(Pe)||!isFinite(Pe))return ce;if(0>Pe)return vt(j(-Pe));for(var be=[],Ae=1,ke=0;Pe>=Ae;ke++)be[ke]=Pe/Ae|0,Ae*=4294967296;return new v(be,0)}var ce=k(0),we=k(1),Ve=k(16777216);function dt(Pe){if(0!=Pe.h)return!1;for(var be=0;be<Pe.g.length;be++)if(0!=Pe.g[be])return!1;return!0}function At(Pe){return-1==Pe.h}function vt(Pe){for(var be=Pe.g.length,Ae=[],ke=0;ke<be;ke++)Ae[ke]=~Pe.g[ke];return new v(Ae,~Pe.h).add(we)}function fn(Pe,be){return Pe.add(vt(be))}function In(Pe,be){for(;(65535&Pe[be])!=Pe[be];)Pe[be+1]+=Pe[be]>>>16,Pe[be]&=65535,be++}function gn(Pe,be){this.g=Pe,this.h=be}function Gn(Pe,be){if(dt(be))throw Error("division by zero");if(dt(Pe))return new gn(ce,ce);if(At(Pe))return be=Gn(vt(Pe),be),new gn(vt(be.g),vt(be.h));if(At(be))return be=Gn(Pe,vt(be)),new gn(vt(be.g),be.h);if(30<Pe.g.length){if(At(Pe)||At(be))throw Error("slowDivide_ only works with positive integers.");for(var Ae=we,ke=be;0>=ke.l(Pe);)Ae=Mr(Ae),ke=Mr(ke);var Le=hr(Ae,1),qe=hr(ke,1);for(ke=hr(ke,2),Ae=hr(Ae,2);!dt(ke);){var Ce=qe.add(ke);0>=Ce.l(Pe)&&(Le=Le.add(Ae),qe=Ce),ke=hr(ke,1),Ae=hr(Ae,1)}return be=fn(Pe,Le.j(be)),new gn(Le,be)}for(Le=ce;0<=Pe.l(be);){for(Ae=Math.max(1,Math.floor(Pe.m()/be.m())),ke=48>=(ke=Math.ceil(Math.log(Ae)/Math.LN2))?1:Math.pow(2,ke-48),Ce=(qe=j(Ae)).j(be);At(Ce)||0<Ce.l(Pe);)Ce=(qe=j(Ae-=ke)).j(be);dt(qe)&&(qe=we),Le=Le.add(qe),Pe=fn(Pe,Ce)}return new gn(Le,Pe)}function Mr(Pe){for(var be=Pe.g.length+1,Ae=[],ke=0;ke<be;ke++)Ae[ke]=Pe.i(ke)<<1|Pe.i(ke-1)>>>31;return new v(Ae,Pe.h)}function hr(Pe,be){var Ae=be>>5;be%=32;for(var ke=Pe.g.length-Ae,Le=[],qe=0;qe<ke;qe++)Le[qe]=0<be?Pe.i(qe+Ae)>>>be|Pe.i(qe+Ae+1)<<32-be:Pe.i(qe+Ae);return new v(Le,Pe.h)}(l=v.prototype).m=function(){if(At(this))return-vt(this).m();for(var Pe=0,be=1,Ae=0;Ae<this.g.length;Ae++){var ke=this.i(Ae);Pe+=(0<=ke?ke:4294967296+ke)*be,be*=4294967296}return Pe},l.toString=function(Pe){if(2>(Pe=Pe||10)||36<Pe)throw Error("radix out of range: "+Pe);if(dt(this))return"0";if(At(this))return"-"+vt(this).toString(Pe);for(var be=j(Math.pow(Pe,6)),Ae=this,ke="";;){var Le=Gn(Ae,be).g,qe=((0<(Ae=fn(Ae,Le.j(be))).g.length?Ae.g[0]:Ae.h)>>>0).toString(Pe);if(dt(Ae=Le))return qe+ke;for(;6>qe.length;)qe="0"+qe;ke=qe+ke}},l.i=function(Pe){return 0>Pe?0:Pe<this.g.length?this.g[Pe]:this.h},l.l=function(Pe){return At(Pe=fn(this,Pe))?-1:dt(Pe)?0:1},l.abs=function(){return At(this)?vt(this):this},l.add=function(Pe){for(var be=Math.max(this.g.length,Pe.g.length),Ae=[],ke=0,Le=0;Le<=be;Le++){var qe=ke+(65535&this.i(Le))+(65535&Pe.i(Le)),Ce=(qe>>>16)+(this.i(Le)>>>16)+(Pe.i(Le)>>>16);ke=Ce>>>16,Ae[Le]=(Ce&=65535)<<16|(qe&=65535)}return new v(Ae,-2147483648&Ae[Ae.length-1]?-1:0)},l.j=function(Pe){if(dt(this)||dt(Pe))return ce;if(At(this))return At(Pe)?vt(this).j(vt(Pe)):vt(vt(this).j(Pe));if(At(Pe))return vt(this.j(vt(Pe)));if(0>this.l(Ve)&&0>Pe.l(Ve))return j(this.m()*Pe.m());for(var be=this.g.length+Pe.g.length,Ae=[],ke=0;ke<2*be;ke++)Ae[ke]=0;for(ke=0;ke<this.g.length;ke++)for(var Le=0;Le<Pe.g.length;Le++){var qe=this.i(ke)>>>16,Ce=65535&this.i(ke),vu=Pe.i(Le)>>>16,Yf=65535&Pe.i(Le);Ae[2*ke+2*Le]+=Ce*Yf,In(Ae,2*ke+2*Le),Ae[2*ke+2*Le+1]+=qe*Yf,In(Ae,2*ke+2*Le+1),Ae[2*ke+2*Le+1]+=Ce*vu,In(Ae,2*ke+2*Le+1),Ae[2*ke+2*Le+2]+=qe*vu,In(Ae,2*ke+2*Le+2)}for(ke=0;ke<be;ke++)Ae[ke]=Ae[2*ke+1]<<16|Ae[2*ke];for(ke=be;ke<2*be;ke++)Ae[ke]=0;return new v(Ae,0)},l.A=function(Pe){return Gn(this,Pe).h},l.and=function(Pe){for(var be=Math.max(this.g.length,Pe.g.length),Ae=[],ke=0;ke<be;ke++)Ae[ke]=this.i(ke)&Pe.i(ke);return new v(Ae,this.h&Pe.h)},l.or=function(Pe){for(var be=Math.max(this.g.length,Pe.g.length),Ae=[],ke=0;ke<be;ke++)Ae[ke]=this.i(ke)|Pe.i(ke);return new v(Ae,this.h|Pe.h)},l.xor=function(Pe){for(var be=Math.max(this.g.length,Pe.g.length),Ae=[],ke=0;ke<be;ke++)Ae[ke]=this.i(ke)^Pe.i(ke);return new v(Ae,this.h^Pe.h)},s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,nt=ze.Md5=s,v.prototype.add=v.prototype.add,v.prototype.multiply=v.prototype.j,v.prototype.modulo=v.prototype.A,v.prototype.compare=v.prototype.l,v.prototype.toNumber=v.prototype.m,v.prototype.toString=v.prototype.toString,v.prototype.getBits=v.prototype.i,v.fromNumber=j,v.fromString=function ee(Pe,be){if(0==Pe.length)throw Error("number format error: empty string");if(2>(be=be||10)||36<be)throw Error("radix out of range: "+be);if("-"==Pe.charAt(0))return vt(ee(Pe.substring(1),be));if(0<=Pe.indexOf("-"))throw Error('number format error: interior "-" character');for(var Ae=j(Math.pow(be,8)),ke=ce,Le=0;Le<Pe.length;Le+=8){var qe=Math.min(8,Pe.length-Le),Ce=parseInt(Pe.substring(Le,Le+qe),be);8>qe?(qe=j(Math.pow(be,qe)),ke=ke.j(qe).add(j(Ce))):ke=(ke=ke.j(Ae)).add(j(Ce))}return ke},gt=ze.Integer=v}).apply(typeof Ie<"u"?Ie:typeof self<"u"?self:typeof window<"u"?window:{});var mt,tn,Tn,yt,ut,He,lt,Mt,Tt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},sn={};(function(){var l,e="function"==typeof Object.defineProperties?Object.defineProperty:function(_,F,z){return _==Array.prototype||_==Object.prototype||(_[F]=z.value),_},s=function r(_){_=["object"==typeof globalThis&&globalThis,_,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof Tt&&Tt];for(var F=0;F<_.length;++F){var z=_[F];if(z&&z.Math==Math)return z}throw Error("Cannot find global object")}(this);!function u(_,F){if(F)e:{var z=s;_=_.split(".");for(var oe=0;oe<_.length-1;oe++){var Be=_[oe];if(!(Be in z))break e;z=z[Be]}(F=F(oe=z[_=_[_.length-1]]))!=oe&&null!=F&&e(z,_,{configurable:!0,writable:!0,value:F})}}("Array.prototype.values",function(_){return _||function(){return function m(_,F){_ instanceof String&&(_+="");var z=0,oe=!1,Be={next:function(){if(!oe&&z<_.length){var it=z++;return{value:F(it,_[it]),done:!1}}return oe=!0,{done:!0,value:void 0}}};return Be[Symbol.iterator]=function(){return Be},Be}(this,function(F,z){return z})}});var v=v||{},D=this||self;function k(_){var F=typeof _;return"array"==(F="object"!=F?F:_?Array.isArray(_)?"array":F:"null")||"object"==F&&"number"==typeof _.length}function j(_){var F=typeof _;return"object"==F&&null!=_||"function"==F}function ee(_,F,z){return _.call.apply(_.bind,arguments)}function ce(_,F,z){if(!_)throw Error();if(2<arguments.length){var oe=Array.prototype.slice.call(arguments,2);return function(){var Be=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Be,oe),_.apply(F,Be)}}return function(){return _.apply(F,arguments)}}function we(_,F,z){return(we=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ee:ce).apply(null,arguments)}function Ve(_,F){var z=Array.prototype.slice.call(arguments,1);return function(){var oe=z.slice();return oe.push.apply(oe,arguments),_.apply(this,oe)}}function dt(_,F){function z(){}z.prototype=F.prototype,_.aa=F.prototype,_.prototype=new z,_.prototype.constructor=_,_.Qb=function(oe,Be,it){for(var Gt=Array(arguments.length-2),gi=2;gi<arguments.length;gi++)Gt[gi-2]=arguments[gi];return F.prototype[Be].apply(oe,Gt)}}function At(_){const F=_.length;if(0<F){const z=Array(F);for(let oe=0;oe<F;oe++)z[oe]=_[oe];return z}return[]}function vt(_,F){for(let z=1;z<arguments.length;z++){const oe=arguments[z];if(k(oe)){const Be=_.length||0,it=oe.length||0;_.length=Be+it;for(let Gt=0;Gt<it;Gt++)_[Be+Gt]=oe[Gt]}else _.push(oe)}}function In(_){return/^[\s\xa0]*$/.test(_)}function gn(){var _=D.navigator;return _&&(_=_.userAgent)?_:""}function Gn(_){return Gn[" "](_),_}Gn[" "]=function(){};var Mr=!(-1==gn().indexOf("Gecko")||-1!=gn().toLowerCase().indexOf("webkit")&&-1==gn().indexOf("Edge")||-1!=gn().indexOf("Trident")||-1!=gn().indexOf("MSIE")||-1!=gn().indexOf("Edge"));function hr(_,F,z){for(const oe in _)F.call(z,_[oe],oe,_)}function be(_){const F={};for(const z in _)F[z]=_[z];return F}const Ae="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ke(_,F){let z,oe;for(let Be=1;Be<arguments.length;Be++){for(z in oe=arguments[Be],oe)_[z]=oe[z];for(let it=0;it<Ae.length;it++)z=Ae[it],Object.prototype.hasOwnProperty.call(oe,z)&&(_[z]=oe[z])}}function Le(_){var F=1;_=_.split(":");const z=[];for(;0<F&&_.length;)z.push(_.shift()),F--;return _.length&&z.push(_.join(":")),z}function qe(_){D.setTimeout(()=>{throw _},0)}function Ce(){var _=o_;let F=null;return _.g&&(F=_.g,_.g=_.g.next,_.g||(_.h=null),F.next=null),F}var Yf=new class fn{constructor(F,z){this.i=F,this.j=z,this.h=0,this.g=null}get(){let F;return 0<this.h?(this.h--,F=this.g,this.g=F.next,F.next=null):F=this.i(),F}}(()=>new Rb,_=>_.reset());class Rb{constructor(){this.next=this.g=this.h=null}set(F,z){this.h=F,this.g=z,this.next=null}reset(){this.next=this.g=this.h=null}}let bm,Ih=!1,o_=new class vu{constructor(){this.h=this.g=null}add(F,z){const oe=Yf.get();oe.set(F,z),this.h?this.h.next=oe:this.g=oe,this.h=oe}},Jy=()=>{const _=D.Promise.resolve(void 0);bm=()=>{_.then(xb)}};var xb=()=>{for(var _;_=Ce();){try{_.h.call(_.g)}catch(z){qe(z)}var F=Yf;F.j(_),100>F.h&&(F.h++,_.next=F.g,F.g=_)}Ih=!1};function Ol(){this.s=this.s,this.C=this.C}function $o(_,F){this.type=_,this.g=this.target=F,this.defaultPrevented=!1}Ol.prototype.s=!1,Ol.prototype.ma=function(){this.s||(this.s=!0,this.N())},Ol.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},$o.prototype.h=function(){this.defaultPrevented=!0};var bu=function(){if(!D.addEventListener||!Object.defineProperty)return!1;var _=!1,F=Object.defineProperty({},"passive",{get:function(){_=!0}});try{const z=()=>{};D.addEventListener("test",z,F),D.removeEventListener("test",z,F)}catch{}return _}();function kl(_,F){if($o.call(this,_?_.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,_){var z=this.type=_.type,oe=_.changedTouches&&_.changedTouches.length?_.changedTouches[0]:null;if(this.target=_.target||_.srcElement,this.g=F,F=_.relatedTarget){if(Mr){e:{try{Gn(F.nodeName);var Be=!0;break e}catch{}Be=!1}Be||(F=null)}}else"mouseover"==z?F=_.fromElement:"mouseout"==z&&(F=_.toElement);this.relatedTarget=F,oe?(this.clientX=void 0!==oe.clientX?oe.clientX:oe.pageX,this.clientY=void 0!==oe.clientY?oe.clientY:oe.pageY,this.screenX=oe.screenX||0,this.screenY=oe.screenY||0):(this.clientX=void 0!==_.clientX?_.clientX:_.pageX,this.clientY=void 0!==_.clientY?_.clientY:_.pageY,this.screenX=_.screenX||0,this.screenY=_.screenY||0),this.button=_.button,this.key=_.key||"",this.ctrlKey=_.ctrlKey,this.altKey=_.altKey,this.shiftKey=_.shiftKey,this.metaKey=_.metaKey,this.pointerId=_.pointerId||0,this.pointerType="string"==typeof _.pointerType?_.pointerType:Zf[_.pointerType]||"",this.state=_.state,this.i=_,_.defaultPrevented&&kl.aa.h.call(this)}}dt(kl,$o);var Zf={2:"touch",3:"pen",4:"mouse"};kl.prototype.h=function(){kl.aa.h.call(this);var _=this.i;_.preventDefault?_.preventDefault():_.returnValue=!1};var wh="closure_listenable_"+(1e6*Math.random()|0),Eu=0;function s_(_,F,z,oe,Be){this.listener=_,this.proxy=null,this.src=F,this.type=z,this.capture=!!oe,this.ha=Be,this.key=++Eu,this.da=this.fa=!1}function Jf(_){_.da=!0,_.listener=null,_.proxy=null,_.src=null,_.ha=null}function Nl(_){this.src=_,this.g={},this.h=0}function Em(_,F){var z=F.type;if(z in _.g){var it,oe=_.g[z],Be=Array.prototype.indexOf.call(oe,F,void 0);(it=0<=Be)&&Array.prototype.splice.call(oe,Be,1),it&&(Jf(F),0==_.g[z].length&&(delete _.g[z],_.h--))}}function Im(_,F,z,oe){for(var Be=0;Be<_.length;++Be){var it=_[Be];if(!it.da&&it.listener==F&&it.capture==!!z&&it.ha==oe)return Be}return-1}Nl.prototype.add=function(_,F,z,oe,Be){var it=_.toString();(_=this.g[it])||(_=this.g[it]=[],this.h++);var Gt=Im(_,F,oe,Be);return-1<Gt?(F=_[Gt],z||(F.fa=!1)):((F=new s_(F,this.src,it,!!oe,Be)).fa=z,_.push(F)),F};var wm="closure_lm_"+(1e6*Math.random()|0),a_={};function Tm(_,F,z,oe,Be){if(oe&&oe.once)return Mb(_,F,z,oe,Be);if(Array.isArray(F)){for(var it=0;it<F.length;it++)Tm(_,F[it],z,oe,Be);return null}return z=u_(z),_&&_[wh]?_.K(F,z,j(oe)?!!oe.capture:!!oe,Be):ep(_,F,z,!1,oe,Be)}function ep(_,F,z,oe,Be,it){if(!F)throw Error("Invalid event type");var Gt=j(Be)?!!Be.capture:!!Be,gi=Dm(_);if(gi||(_[wm]=gi=new Nl(_)),(z=gi.add(F,z,oe,Gt,it)).proxy)return z;if(oe=function Cm(){const F=tv;return function _(z){return F.call(_.src,_.listener,z)}}(),z.proxy=oe,oe.src=_,oe.listener=z,_.addEventListener)bu||(Be=Gt),void 0===Be&&(Be=!1),_.addEventListener(F.toString(),oe,Be);else if(_.attachEvent)_.attachEvent(Am(F.toString()),oe);else{if(!_.addListener||!_.removeListener)throw Error("addEventListener and attachEvent are unavailable.");_.addListener(oe)}return z}function Mb(_,F,z,oe,Be){if(Array.isArray(F)){for(var it=0;it<F.length;it++)Mb(_,F[it],z,oe,Be);return null}return z=u_(z),_&&_[wh]?_.L(F,z,j(oe)?!!oe.capture:!!oe,Be):ep(_,F,z,!0,oe,Be)}function ev(_,F,z,oe,Be){if(Array.isArray(F))for(var it=0;it<F.length;it++)ev(_,F[it],z,oe,Be);else oe=j(oe)?!!oe.capture:!!oe,z=u_(z),_&&_[wh]?(_=_.i,(F=String(F).toString())in _.g&&-1<(z=Im(it=_.g[F],z,oe,Be))&&(Jf(it[z]),Array.prototype.splice.call(it,z,1),0==it.length&&(delete _.g[F],_.h--))):_&&(_=Dm(_))&&(F=_.g[F.toString()],_=-1,F&&(_=Im(F,z,oe,Be)),(z=-1<_?F[_]:null)&&c_(z))}function c_(_){if("number"!=typeof _&&_&&!_.da){var F=_.src;if(F&&F[wh])Em(F.i,_);else{var z=_.type,oe=_.proxy;F.removeEventListener?F.removeEventListener(z,oe,_.capture):F.detachEvent?F.detachEvent(Am(z),oe):F.addListener&&F.removeListener&&F.removeListener(oe),(z=Dm(F))?(Em(z,_),0==z.h&&(z.src=null,F[wm]=null)):Jf(_)}}}function Am(_){return _ in a_?a_[_]:a_[_]="on"+_}function tv(_,F){if(_.da)_=!0;else{F=new kl(F,this);var z=_.listener,oe=_.ha||_.src;_.fa&&c_(_),_=z.call(oe,F)}return _}function Dm(_){return(_=_[wm])instanceof Nl?_:null}var l_="__closure_events_fn_"+(1e9*Math.random()>>>0);function u_(_){return"function"==typeof _?_:(_[l_]||(_[l_]=function(F){return _.handleEvent(F)}),_[l_])}function bs(){Ol.call(this),this.i=new Nl(this),this.M=this,this.F=null}function Ns(_,F){var z,oe=_.F;if(oe)for(z=[];oe;oe=oe.F)z.push(oe);if(_=_.M,oe=F.type||F,"string"==typeof F)F=new $o(F,_);else if(F instanceof $o)F.target=F.target||_;else{var Be=F;ke(F=new $o(oe,_),Be)}if(Be=!0,z)for(var it=z.length-1;0<=it;it--){var Gt=F.g=z[it];Be=tp(Gt,oe,!0,F)&&Be}if(Be=tp(Gt=F.g=_,oe,!0,F)&&Be,Be=tp(Gt,oe,!1,F)&&Be,z)for(it=0;it<z.length;it++)Be=tp(Gt=F.g=z[it],oe,!1,F)&&Be}function tp(_,F,z,oe){if(!(F=_.i.g[String(F)]))return!0;F=F.concat();for(var Be=!0,it=0;it<F.length;++it){var Gt=F[it];if(Gt&&!Gt.da&&Gt.capture==z){var gi=Gt.listener,fo=Gt.ha||Gt.src;Gt.fa&&Em(_.i,Gt),Be=!1!==gi.call(fo,oe)&&Be}}return Be&&!oe.defaultPrevented}function nv(_,F,z){if("function"==typeof _)z&&(_=we(_,z));else{if(!_||"function"!=typeof _.handleEvent)throw Error("Invalid listener argument");_=we(_.handleEvent,_)}return 2147483647<Number(F)?-1:D.setTimeout(_,F||0)}function rv(_){_.g=nv(()=>{_.g=null,_.i&&(_.i=!1,rv(_))},_.l);const F=_.h;_.h=null,_.m.apply(null,F)}dt(bs,Ol),bs.prototype[wh]=!0,bs.prototype.removeEventListener=function(_,F,z,oe){ev(this,_,F,z,oe)},bs.prototype.N=function(){if(bs.aa.N.call(this),this.i){var F,_=this.i;for(F in _.g){for(var z=_.g[F],oe=0;oe<z.length;oe++)Jf(z[oe]);delete _.g[F],_.h--}}this.F=null},bs.prototype.K=function(_,F,z,oe){return this.i.add(String(_),F,!1,z,oe)},bs.prototype.L=function(_,F,z,oe){return this.i.add(String(_),F,!0,z,oe)};class iv extends Ol{constructor(F,z){super(),this.m=F,this.l=z,this.h=null,this.i=!1,this.g=null}j(F){this.h=arguments,this.g?this.i=!0:rv(this)}N(){super.N(),this.g&&(D.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function f(_){Ol.call(this),this.h=_,this.g={}}dt(f,Ol);var o=[];function a(_){hr(_.g,function(F,z){this.g.hasOwnProperty(z)&&c_(F)},_),_.g={}}f.prototype.N=function(){f.aa.N.call(this),a(this)},f.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var h=D.JSON.stringify,y=D.JSON.parse,S=class{stringify(_){return D.JSON.stringify(_,void 0)}parse(_){return D.JSON.parse(_,void 0)}};function V(){}function ie(){}V.prototype.h=null;var ve={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Fe(){$o.call(this,"d")}function tt(){$o.call(this,"c")}dt(Fe,$o),dt(tt,$o);var Bt={},jt=null;function xt(){return jt=jt||new bs}function Dt(_){$o.call(this,Bt.La,_)}function Qt(_){const F=xt();Ns(F,new Dt(F))}function ar(_,F){$o.call(this,Bt.STAT_EVENT,_),this.stat=F}function Bn(_){const F=xt();Ns(F,new ar(F,_))}function $n(_,F){$o.call(this,Bt.Ma,_),this.size=F}function qn(_,F){if("function"!=typeof _)throw Error("Fn must not be null and must be a function");return D.setTimeout(function(){_()},F)}function lo(){this.g=!0}function ro(_,F,z,oe){_.info(function(){return"XMLHTTP TEXT ("+F+"): "+function uc(_,F){if(!_.g)return F;if(!F)return null;try{var z=JSON.parse(F);if(z)for(_=0;_<z.length;_++)if(Array.isArray(z[_])){var oe=z[_];if(!(2>oe.length)){var Be=oe[1];if(Array.isArray(Be)&&!(1>Be.length)){var it=Be[0];if("noop"!=it&&"stop"!=it&&"close"!=it)for(var Gt=1;Gt<Be.length;Gt++)Be[Gt]=""}}}return h(z)}catch{return F}}(_,z)+(oe?" "+oe:"")})}Bt.La="serverreachability",dt(Dt,$o),Bt.STAT_EVENT="statevent",dt(ar,$o),Bt.Ma="timingevent",dt($n,$o),lo.prototype.xa=function(){this.g=!1},lo.prototype.info=function(){};var dc,Th={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Iu={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function bd(){}function Fa(_,F,z,oe){this.j=_,this.i=F,this.l=z,this.R=oe||1,this.U=new f(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new mn}function mn(){this.i=null,this.g="",this.h=!1}dt(bd,V),bd.prototype.g=function(){return new XMLHttpRequest},bd.prototype.i=function(){return{}},dc=new bd;var Dn={},Fn={};function Ir(_,F,z){_.L=1,_.v=f_(Fl(F)),_.m=z,_.P=!0,To(_,null)}function To(_,F){_.F=Date.now(),ma(_),_.A=Fl(_.v);var z=_.A,oe=_.R;Array.isArray(oe)||(oe=[String(oe)]),fc(z.i,"t",oe),_.C=0,z=_.j.J,_.h=new mn,_.g=Qb(_.j,z?F:null,!_.m),0<_.O&&(_.M=new iv(we(_.Y,_,_.g),_.O)),F=_.U,z=_.g,oe=_.ca;var Be="readystatechange";Array.isArray(Be)||(Be&&(o[0]=Be.toString()),Be=o);for(var it=0;it<Be.length;it++){var Gt=Tm(z,Be[it],oe||F.handleEvent,!1,F.h||F);if(!Gt)break;F.g[Gt.key]=Gt}F=_.H?be(_.H):{},_.m?(_.u||(_.u="POST"),F["Content-Type"]="application/x-www-form-urlencoded",_.g.ea(_.A,_.u,_.m,F)):(_.u="GET",_.g.ea(_.A,_.u,null,F)),Qt(),function uo(_,F,z,oe,Be,it){_.info(function(){if(_.g)if(it)for(var Gt="",gi=it.split("&"),fo=0;fo<gi.length;fo++){var Wr=gi[fo].split("=");if(1<Wr.length){var qs=Wr[0];Wr=Wr[1];var No=qs.split("_");Gt=2<=No.length&&"type"==No[1]?Gt+(qs+"=")+Wr+"&":Gt+(qs+"=redacted&")}}else Gt=null;else Gt=it;return"XMLHTTP REQ ("+oe+") [attempt "+Be+"]: "+F+"\n"+z+"\n"+Gt})}(_.i,_.u,_.A,_.l,_.R,_.m)}function pa(_){return!!_.g&&"GET"==_.u&&2!=_.L&&_.j.Ca}function Ks(_,F){var z=_.C,oe=F.indexOf("\n",z);return-1==oe?Fn:(z=Number(F.substring(z,oe)),isNaN(z)?Dn:(oe+=1)+z>F.length?Fn:(F=F.slice(oe,oe+z),_.C=oe+z,F))}function ma(_){_.S=Date.now()+_.I,di(_,_.I)}function di(_,F){if(null!=_.B)throw Error("WatchDog timer not null");_.B=qn(we(_.ba,_),F)}function La(_){_.B&&(D.clearTimeout(_.B),_.B=null)}function Ch(_){0==_.j.G||_.J||Gb(_.j,_)}function io(_){La(_);var F=_.M;F&&"function"==typeof F.ma&&F.ma(),_.M=null,a(_.U),_.g&&(F=_.g,_.g=null,F.abort(),F.ma())}function Va(_,F){try{var z=_.j;if(0!=z.G&&(z.g==_||Pb(z.h,_)))if(!_.K&&Pb(z.h,_)&&3==z.G){try{var oe=z.Da.g.parse(F)}catch{oe=null}if(Array.isArray(oe)&&3==oe.length){var Be=oe;if(0==Be[0]){e:if(!z.u){if(z.g){if(!(z.g.F+3e3<_.F))break e;b_(z),Om(z)}_v(z),Bn(18)}}else z.za=Be[1],0<z.za-z.T&&37500>Be[2]&&z.F&&0==z.v&&!z.C&&(z.C=qn(we(z.Za,z),6e3));if(1>=d_(z.h)&&z.ca){try{z.ca()}catch{}z.ca=void 0}}else Sh(z,11)}else if((_.K||z.g==_)&&b_(z),!In(F))for(Be=z.Da.g.parse(F),F=0;F<Be.length;F++){let Wr=Be[F];if(z.T=Wr[0],Wr=Wr[1],2==z.G)if("c"==Wr[0]){z.K=Wr[1],z.ia=Wr[2];const qs=Wr[3];null!=qs&&(z.la=qs,z.j.info("VER="+z.la));const No=Wr[4];null!=No&&(z.Aa=No,z.j.info("SVER="+z.Aa));const Fm=Wr[5];null!=Fm&&"number"==typeof Fm&&0<Fm&&(z.L=oe=1.5*Fm,z.j.info("backChannelRequestTimeoutMs_="+oe)),oe=z;const Ua=_.g;if(Ua){const Ev=Ua.g?Ua.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ev){var it=oe.h;it.g||-1==Ev.indexOf("spdy")&&-1==Ev.indexOf("quic")&&-1==Ev.indexOf("h2")||(it.j=it.l,it.g=new Set,it.h&&(Ob(it,it.h),it.h=null))}if(oe.D){const I_=Ua.g?Ua.g.getResponseHeader("X-HTTP-Session-Id"):null;I_&&(oe.ya=I_,ai(oe.I,oe.D,I_))}}z.G=3,z.l&&z.l.ua(),z.ba&&(z.R=Date.now()-_.F,z.j.info("Handshake RTT: "+z.R+"ms"));var Gt=_;if((oe=z).qa=qb(oe,oe.J?oe.ia:null,oe.W),Gt.K){kb(oe.h,Gt);var gi=Gt,fo=oe.L;fo&&(gi.I=fo),gi.B&&(La(gi),ma(gi)),oe.g=Gt}else Hb(oe);0<z.i.length&&km(z)}else"stop"!=Wr[0]&&"close"!=Wr[0]||Sh(z,7);else 3==z.G&&("stop"==Wr[0]||"close"==Wr[0]?"stop"==Wr[0]?Sh(z,7):v_(z):"noop"!=Wr[0]&&z.l&&z.l.ta(Wr),z.v=0)}Qt()}catch{}}function wu(_){this.l=_||10,_=D.PerformanceNavigationTiming?0<(_=D.performance.getEntriesByType("navigation")).length&&("hq"==_[0].nextHopProtocol||"h2"==_[0].nextHopProtocol):!!(D.chrome&&D.chrome.loadTimes&&D.chrome.loadTimes()&&D.chrome.loadTimes().wasFetchedViaSpdy),this.j=_?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function np(_){return!!_.h||!!_.g&&_.g.size>=_.j}function d_(_){return _.h?1:_.g?_.g.size:0}function Pb(_,F){return _.h?_.h==F:!!_.g&&_.g.has(F)}function Ob(_,F){_.g?_.g.add(F):_.h=F}function kb(_,F){_.h&&_.h==F?_.h=null:_.g&&_.g.has(F)&&_.g.delete(F)}function Nb(_){if(null!=_.h)return _.i.concat(_.h.D);if(null!=_.g&&0!==_.g.size){let F=_.i;for(const z of _.g.values())F=F.concat(z.D);return F}return At(_.i)}function zo(_,F){if(_.forEach&&"function"==typeof _.forEach)_.forEach(F,void 0);else if(k(_)||"string"==typeof _)Array.prototype.forEach.call(_,F,void 0);else for(var z=function DE(_){if(_.na&&"function"==typeof _.na)return _.na();if(!_.V||"function"!=typeof _.V){if(typeof Map<"u"&&_ instanceof Map)return Array.from(_.keys());if(!(typeof Set<"u"&&_ instanceof Set)){if(k(_)||"string"==typeof _){var F=[];_=_.length;for(var z=0;z<_;z++)F.push(z);return F}F=[],z=0;for(const oe in _)F[z++]=oe;return F}}}(_),oe=function Fb(_){if(_.V&&"function"==typeof _.V)return _.V();if(typeof Map<"u"&&_ instanceof Map||typeof Set<"u"&&_ instanceof Set)return Array.from(_.values());if("string"==typeof _)return _.split("");if(k(_)){for(var F=[],z=_.length,oe=0;oe<z;oe++)F.push(_[oe]);return F}for(oe in F=[],z=0,_)F[z++]=_[oe];return F}(_),Be=oe.length,it=0;it<Be;it++)F.call(void 0,oe[it],z&&z[it],_)}Fa.prototype.ca=function(_){_=_.target;const F=this.M;F&&3==pc(_)?F.j():this.Y(_)},Fa.prototype.Y=function(_){try{if(_==this.g)e:{const No=pc(this.g);var F=this.g.Ba();if(this.g.Z(),!(3>No)&&(3!=No||this.g&&(this.h.h||this.g.oa()||y_(this.g)))){this.J||4!=No||7==F||Qt(),La(this);var z=this.g.Z();this.X=z;t:if(pa(this)){var oe=y_(this.g);_="";var Be=oe.length,it=4==pc(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){io(this),Ch(this);var Gt="";break t}this.h.i=new D.TextDecoder}for(F=0;F<Be;F++)this.h.h=!0,_+=this.h.i.decode(oe[F],{stream:!(it&&F==Be-1)});oe.length=0,this.h.g+=_,this.C=0,Gt=this.h.g}else Gt=this.g.oa();if(this.o=200==z,function ho(_,F,z,oe,Be,it,Gt){_.info(function(){return"XMLHTTP RESP ("+oe+") [ attempt "+Be+"]: "+F+"\n"+z+"\n"+it+" "+Gt})}(this.i,this.u,this.A,this.l,this.R,No,z),this.o){if(this.T&&!this.K){t:{if(this.g){var gi,fo=this.g;if((gi=fo.g?fo.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!In(gi)){var Wr=gi;break t}}Wr=null}if(!(z=Wr)){this.o=!1,this.s=3,Bn(12),io(this),Ch(this);break e}ro(this.i,this.l,z,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Va(this,z)}if(this.P){let Ua;for(z=!0;!this.J&&this.C<Gt.length;){if(Ua=Ks(this,Gt),Ua==Fn){4==No&&(this.s=4,Bn(14),z=!1),ro(this.i,this.l,null,"[Incomplete Response]");break}if(Ua==Dn){this.s=4,Bn(15),ro(this.i,this.l,Gt,"[Invalid Chunk]"),z=!1;break}ro(this.i,this.l,Ua,null),Va(this,Ua)}if(pa(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=No||0!=Gt.length||this.h.h||(this.s=1,Bn(16),z=!1),this.o=this.o&&z,z){if(0<Gt.length&&!this.W){this.W=!0;var qs=this.j;qs.g==this&&qs.ba&&!qs.M&&(qs.j.info("Great, no buffering proxy detected. Bytes received: "+Gt.length),yv(qs),qs.M=!0,Bn(11))}}else ro(this.i,this.l,Gt,"[Invalid Chunked Response]"),io(this),Ch(this)}else ro(this.i,this.l,Gt,null),Va(this,Gt);4==No&&io(this),this.o&&!this.J&&(4==No?Gb(this.j,this):(this.o=!1,ma(this)))}else(function Ub(_){const F={};_=(_.g&&2<=pc(_)&&_.g.getAllResponseHeaders()||"").split("\r\n");for(let oe=0;oe<_.length;oe++){if(In(_[oe]))continue;var z=Le(_[oe]);const Be=z[0];if("string"!=typeof(z=z[1]))continue;z=z.trim();const it=F[Be]||[];F[Be]=it,it.push(z)}!function Pe(_,F){for(const z in _)F.call(void 0,_[z],z,_)}(F,function(oe){return oe.join(", ")})})(this.g),400==z&&0<Gt.indexOf("Unknown SID")?(this.s=3,Bn(12)):(this.s=0,Bn(13)),io(this),Ch(this)}}}catch{}},Fa.prototype.cancel=function(){this.J=!0,io(this)},Fa.prototype.ba=function(){this.B=null;const _=Date.now();0<=_-this.S?(function Ws(_,F){_.info(function(){return"TIMEOUT: "+F})}(this.i,this.A),2!=this.L&&(Qt(),Bn(17)),io(this),this.s=2,Ch(this)):di(this,this.S-_)},wu.prototype.cancel=function(){if(this.i=Nb(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const _ of this.g.values())_.cancel();this.g.clear()}};var ov=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ah(_){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,_ instanceof Ah){this.h=_.h,h_(this,_.j),this.o=_.o,this.g=_.g,Sm(this,_.s),this.l=_.l;var F=_.i,z=new xm;z.i=F.i,F.g&&(z.g=new Map(F.g),z.h=F.h),sv(this,z),this.m=_.m}else _&&(F=String(_).match(ov))?(this.h=!1,h_(this,F[1]||"",!0),this.o=Rm(F[2]||""),this.g=Rm(F[3]||"",!0),Sm(this,F[4]),this.l=Rm(F[5]||"",!0),sv(this,F[6]||"",!0),this.m=Rm(F[7]||"")):(this.h=!1,this.i=new xm(null,this.h))}function Fl(_){return new Ah(_)}function h_(_,F,z){_.j=z?Rm(F,!0):F,_.j&&(_.j=_.j.replace(/:$/,""))}function Sm(_,F){if(F){if(F=Number(F),isNaN(F)||0>F)throw Error("Bad port number "+F);_.s=F}else _.s=null}function sv(_,F,z){F instanceof xm?(_.i=F,function Lb(_,F){F&&!_.j&&(Tu(_),_.i=null,_.g.forEach(function(z,oe){var Be=oe.toLowerCase();oe!=Be&&(Yc(this,oe),fc(this,Be,z))},_)),_.j=F}(_.i,_.h)):(z||(F=rp(F,lv)),_.i=new xm(F,_.h))}function ai(_,F,z){_.i.set(F,z)}function f_(_){return ai(_,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),_}function Rm(_,F){return _?F?decodeURI(_.replace(/%25/g,"%2525")):decodeURIComponent(_):""}function rp(_,F,z){return"string"==typeof _?(_=encodeURI(_).replace(F,RE),z&&(_=_.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_):null}function RE(_){return"%"+((_=_.charCodeAt(0))>>4&15).toString(16)+(15&_).toString(16)}Ah.prototype.toString=function(){var _=[],F=this.j;F&&_.push(rp(F,av,!0),":");var z=this.g;return(z||"file"==F)&&(_.push("//"),(F=this.o)&&_.push(rp(F,av,!0),"@"),_.push(encodeURIComponent(String(z)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(z=this.s)&&_.push(":",String(z))),(z=this.l)&&(this.g&&"/"!=z.charAt(0)&&_.push("/"),_.push(rp(z,"/"==z.charAt(0)?cv:_0,!0))),(z=this.i.toString())&&_.push("?",z),(z=this.m)&&_.push("#",rp(z,Ll)),_.join("")};var _,av=/[#\/\?@]/g,_0=/[#\?:]/g,cv=/[#\?]/g,lv=/[#\?@]/g,Ll=/#/g;function xm(_,F){this.h=this.g=null,this.i=_||null,this.j=!!F}function Tu(_){_.g||(_.g=new Map,_.h=0,_.i&&function SE(_,F){if(_){_=_.split("&");for(var z=0;z<_.length;z++){var oe=_[z].indexOf("="),Be=null;if(0<=oe){var it=_[z].substring(0,oe);Be=_[z].substring(oe+1)}else it=_[z];F(it,Be?decodeURIComponent(Be.replace(/\+/g," ")):"")}}}(_.i,function(F,z){_.add(decodeURIComponent(F.replace(/\+/g," ")),z)}))}function Yc(_,F){Tu(_),F=Dh(_,F),_.g.has(F)&&(_.i=null,_.h-=_.g.get(F).length,_.g.delete(F))}function hc(_,F){return Tu(_),F=Dh(_,F),_.g.has(F)}function fc(_,F,z){Yc(_,F),0<z.length&&(_.i=null,_.g.set(Dh(_,F),At(z)),_.h+=z.length)}function Dh(_,F){return F=String(F),_.j&&(F=F.toLowerCase()),F}function Ed(_,F,z,oe,Be){try{Be&&(Be.onload=null,Be.onerror=null,Be.onabort=null,Be.ontimeout=null),oe(z)}catch{}}function PE(){this.g=new S}function uv(_,F,z){const oe=z||"";try{zo(_,function(Be,it){let Gt=Be;j(Be)&&(Gt=h(Be)),F.push(oe+it+"="+encodeURIComponent(Gt))})}catch(Be){throw F.push(oe+"type="+encodeURIComponent("_badmap")),Be}}function Cu(_){this.l=_.Ub||null,this.j=_.eb||!1}function p_(_,F){bs.call(this),this.D=_,this.o=F,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function dv(_){_.j.read().then(_.Pa.bind(_)).catch(_.ga.bind(_))}function Mm(_){_.readyState=4,_.l=null,_.j=null,_.v=null,Pm(_)}function Pm(_){_.onreadystatechange&&_.onreadystatechange.call(_)}function hv(_){let F="";return hr(_,function(z,oe){F+=oe,F+=":",F+=z,F+="\r\n"}),F}function m_(_,F,z){e:{for(oe in z){var oe=!1;break e}oe=!0}oe||(z=hv(z),"string"==typeof _?null!=z&&encodeURIComponent(String(z)):ai(_,F,z))}function qi(_){bs.call(this),this.headers=new Map,this.o=_||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(l=xm.prototype).add=function(_,F){Tu(this),this.i=null,_=Dh(this,_);var z=this.g.get(_);return z||this.g.set(_,z=[]),z.push(F),this.h+=1,this},l.forEach=function(_,F){Tu(this),this.g.forEach(function(z,oe){z.forEach(function(Be){_.call(F,Be,oe,this)},this)},this)},l.na=function(){Tu(this);const _=Array.from(this.g.values()),F=Array.from(this.g.keys()),z=[];for(let oe=0;oe<F.length;oe++){const Be=_[oe];for(let it=0;it<Be.length;it++)z.push(F[oe])}return z},l.V=function(_){Tu(this);let F=[];if("string"==typeof _)hc(this,_)&&(F=F.concat(this.g.get(Dh(this,_))));else{_=Array.from(this.g.values());for(let z=0;z<_.length;z++)F=F.concat(_[z])}return F},l.set=function(_,F){return Tu(this),this.i=null,hc(this,_=Dh(this,_))&&(this.h-=this.g.get(_).length),this.g.set(_,[F]),this.h+=1,this},l.get=function(_,F){return _&&0<(_=this.V(_)).length?String(_[0]):F},l.toString=function(){if(this.i)return this.i;if(!this.g)return"";const _=[],F=Array.from(this.g.keys());for(var z=0;z<F.length;z++){var oe=F[z];const it=encodeURIComponent(String(oe)),Gt=this.V(oe);for(oe=0;oe<Gt.length;oe++){var Be=it;""!==Gt[oe]&&(Be+="="+encodeURIComponent(String(Gt[oe]))),_.push(Be)}}return this.i=_.join("&")},dt(Cu,V),Cu.prototype.g=function(){return new p_(this.l,this.j)},Cu.prototype.i=(_={},function(){return _}),dt(p_,bs),(l=p_.prototype).open=function(_,F){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=_,this.A=F,this.readyState=1,Pm(this)},l.send=function(_){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const F={headers:this.u,method:this.B,credentials:this.m,cache:void 0};_&&(F.body=_),(this.D||D).fetch(new Request(this.A,F)).then(this.Sa.bind(this),this.ga.bind(this))},l.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Mm(this)),this.readyState=0},l.Sa=function(_){if(this.g&&(this.l=_,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=_.headers,this.readyState=2,Pm(this)),this.g&&(this.readyState=3,Pm(this),this.g)))if("arraybuffer"===this.responseType)_.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof D.ReadableStream<"u"&&"body"in _){if(this.j=_.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;dv(this)}else _.text().then(this.Ra.bind(this),this.ga.bind(this))},l.Pa=function(_){if(this.g){if(this.o&&_.value)this.response.push(_.value);else if(!this.o){var F=_.value?_.value:new Uint8Array(0);(F=this.v.decode(F,{stream:!_.done}))&&(this.response=this.responseText+=F)}_.done?Mm(this):Pm(this),3==this.readyState&&dv(this)}},l.Ra=function(_){this.g&&(this.response=this.responseText=_,Mm(this))},l.Qa=function(_){this.g&&(this.response=_,Mm(this))},l.ga=function(){this.g&&Mm(this)},l.setRequestHeader=function(_,F){this.u.append(_,F)},l.getResponseHeader=function(_){return this.h&&this.h.get(_.toLowerCase())||""},l.getAllResponseHeaders=function(){if(!this.h)return"";const _=[],F=this.h.entries();for(var z=F.next();!z.done;)_.push((z=z.value)[0]+": "+z[1]),z=F.next();return _.join("\r\n")},Object.defineProperty(p_.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(_){this.m=_?"include":"same-origin"}}),dt(qi,bs);var OE=/^https?$/i,Vb=["POST","PUT"];function fv(_,F){_.h=!1,_.g&&(_.j=!0,_.g.abort(),_.j=!1),_.l=F,_.m=5,pv(_),g_(_)}function pv(_){_.A||(_.A=!0,Ns(_,"complete"),Ns(_,"error"))}function Bb(_){if(_.h&&typeof v<"u"&&(!_.v[1]||4!=pc(_)||2!=_.Z()))if(_.u&&4==pc(_))nv(_.Ea,0,_);else if(Ns(_,"readystatechange"),4==pc(_)){_.h=!1;try{const Gt=_.Z();e:switch(Gt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var F=!0;break e;default:F=!1}var z;if(!(z=F)){var oe;if(oe=0===Gt){var Be=String(_.D).match(ov)[1]||null;!Be&&D.self&&D.self.location&&(Be=D.self.location.protocol.slice(0,-1)),oe=!OE.test(Be?Be.toLowerCase():"")}z=oe}if(z)Ns(_,"complete"),Ns(_,"success");else{_.m=6;try{var it=2<pc(_)?_.g.statusText:""}catch{it=""}_.l=it+" ["+_.Z()+"]",pv(_)}}finally{g_(_)}}}function g_(_,F){if(_.g){__(_);const z=_.g,oe=_.v[0]?()=>{}:null;_.g=null,_.v=null,F||Ns(_,"ready");try{z.onreadystatechange=oe}catch{}}}function __(_){_.I&&(D.clearTimeout(_.I),_.I=null)}function pc(_){return _.g?_.g.readyState:0}function y_(_){try{if(!_.g)return null;if("response"in _.g)return _.g.response;switch(_.H){case"":case"text":return _.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in _.g)return _.g.mozResponseArrayBuffer}return null}catch{return null}}function ip(_,F,z){return z&&z.internalChannelParams&&z.internalChannelParams[_]||F}function mv(_){this.Aa=0,this.i=[],this.j=new lo,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ip("failFast",!1,_),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ip("baseRetryDelayMs",5e3,_),this.cb=ip("retryDelaySeedMs",1e4,_),this.Wa=ip("forwardChannelMaxRetries",2,_),this.wa=ip("forwardChannelRequestTimeoutMs",2e4,_),this.pa=_&&_.xmlHttpFactory||void 0,this.Xa=_&&_.Tb||void 0,this.Ca=_&&_.useFetchStreams||!1,this.L=void 0,this.J=_&&_.supportsCrossDomainXhr||!1,this.K="",this.h=new wu(_&&_.concurrentRequestLimit),this.Da=new PE,this.P=_&&_.fastHandshake||!1,this.O=_&&_.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=_&&_.Rb||!1,_&&_.xa&&this.j.xa(),_&&_.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&_&&_.detectBufferingProxy||!1,this.ja=void 0,_&&_.longPollingTimeout&&0<_.longPollingTimeout&&(this.ja=_.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function v_(_){if(gv(_),3==_.G){var F=_.U++,z=Fl(_.I);if(ai(z,"SID",_.K),ai(z,"RID",F),ai(z,"TYPE","terminate"),Nm(_,z),(F=new Fa(_,_.j,F)).L=2,F.v=f_(Fl(z)),z=!1,D.navigator&&D.navigator.sendBeacon)try{z=D.navigator.sendBeacon(F.v.toString(),"")}catch{}!z&&D.Image&&((new Image).src=F.v,z=!0),z||(F.g=Qb(F.j,null),F.g.ea(F.v)),F.F=Date.now(),ma(F)}Kb(_)}function Om(_){_.g&&(yv(_),_.g.cancel(),_.g=null)}function gv(_){Om(_),_.u&&(D.clearTimeout(_.u),_.u=null),b_(_),_.h.cancel(),_.s&&("number"==typeof _.s&&D.clearTimeout(_.s),_.s=null)}function km(_){if(!np(_.h)&&!_.s){_.s=!0;var F=_.Ga;bm||Jy(),Ih||(bm(),Ih=!0),o_.add(F,_),_.B=0}}function jb(_,F){var z;z=F?F.l:_.U++;const oe=Fl(_.I);ai(oe,"SID",_.K),ai(oe,"RID",z),ai(oe,"AID",_.T),Nm(_,oe),_.m&&_.o&&m_(oe,_.m,_.o),z=new Fa(_,_.j,z,_.B+1),null===_.m&&(z.H=_.o),F&&(_.i=F.D.concat(_.i)),F=$b(_,z,1e3),z.I=Math.round(.5*_.wa)+Math.round(.5*_.wa*Math.random()),Ob(_.h,z),Ir(z,oe,F)}function Nm(_,F){_.H&&hr(_.H,function(z,oe){ai(F,oe,z)}),_.l&&zo({},function(z,oe){ai(F,oe,z)})}function $b(_,F,z){z=Math.min(_.i.length,z);var oe=_.l?we(_.l.Na,_.l,_):null;e:{var Be=_.i;let it=-1;for(;;){const Gt=["count="+z];-1==it?0<z?(it=Be[0].g,Gt.push("ofs="+it)):it=0:Gt.push("ofs="+it);let gi=!0;for(let fo=0;fo<z;fo++){let Wr=Be[fo].g;const qs=Be[fo].map;if(Wr-=it,0>Wr)it=Math.max(0,Be[fo].g-100),gi=!1;else try{uv(qs,Gt,"req"+Wr+"_")}catch{oe&&oe(qs)}}if(gi){oe=Gt.join("&");break e}}}return _=_.i.splice(0,z),F.D=_,oe}function Hb(_){if(!_.g&&!_.u){_.Y=1;var F=_.Fa;bm||Jy(),Ih||(bm(),Ih=!0),o_.add(F,_),_.v=0}}function _v(_){return!(_.g||_.u||3<=_.v||(_.Y++,_.u=qn(we(_.Fa,_),Wb(_,_.v)),_.v++,0))}function yv(_){null!=_.A&&(D.clearTimeout(_.A),_.A=null)}function zb(_){_.g=new Fa(_,_.j,"rpc",_.Y),null===_.m&&(_.g.H=_.o),_.g.O=0;var F=Fl(_.qa);ai(F,"RID","rpc"),ai(F,"SID",_.K),ai(F,"AID",_.T),ai(F,"CI",_.F?"0":"1"),!_.F&&_.ja&&ai(F,"TO",_.ja),ai(F,"TYPE","xmlhttp"),Nm(_,F),_.m&&_.o&&m_(F,_.m,_.o),_.L&&(_.g.I=_.L);var z=_.g;_=_.ia,z.L=1,z.v=f_(Fl(F)),z.m=null,z.P=!0,To(z,_)}function b_(_){null!=_.C&&(D.clearTimeout(_.C),_.C=null)}function Gb(_,F){var z=null;if(_.g==F){b_(_),yv(_),_.g=null;var oe=2}else{if(!Pb(_.h,F))return;z=F.D,kb(_.h,F),oe=1}if(0!=_.G)if(F.o)if(1==oe){z=F.m?F.m.length:0,F=Date.now()-F.F;var Be=_.B;Ns(oe=xt(),new $n(oe,z)),km(_)}else Hb(_);else if(3==(Be=F.s)||0==Be&&0<F.X||!(1==oe&&function kE(_,F){return!(d_(_.h)>=_.h.j-(_.s?1:0)||(_.s?(_.i=F.D.concat(_.i),0):1==_.G||2==_.G||_.B>=(_.Va?0:_.Wa)||(_.s=qn(we(_.Ga,_,F),Wb(_,_.B)),_.B++,0)))}(_,F)||2==oe&&_v(_)))switch(z&&0<z.length&&(F=_.h,F.i=F.i.concat(z)),Be){case 1:Sh(_,5);break;case 4:Sh(_,10);break;case 3:Sh(_,6);break;default:Sh(_,2)}}function Wb(_,F){let z=_.Ta+Math.floor(Math.random()*_.cb);return _.isActive()||(z*=2),z*F}function Sh(_,F){if(_.j.info("Error code "+F),2==F){var z=we(_.fb,_),oe=_.Xa;const Be=!oe;oe=new Ah(oe||"//www.google.com/images/cleardot.gif"),D.location&&"http"==D.location.protocol||h_(oe,"https"),f_(oe),Be?function xE(_,F){const z=new lo;if(D.Image){const oe=new Image;oe.onload=Ve(Ed,z,"TestLoadImage: loaded",!0,F,oe),oe.onerror=Ve(Ed,z,"TestLoadImage: error",!1,F,oe),oe.onabort=Ve(Ed,z,"TestLoadImage: abort",!1,F,oe),oe.ontimeout=Ve(Ed,z,"TestLoadImage: timeout",!1,F,oe),D.setTimeout(function(){oe.ontimeout&&oe.ontimeout()},1e4),oe.src=_}else F(!1)}(oe.toString(),z):function ME(_,F){new lo;const oe=new AbortController,Be=setTimeout(()=>{oe.abort(),Ed(0,0,!1,F)},1e4);fetch(_,{signal:oe.signal}).then(it=>{clearTimeout(Be),Ed(0,0,!!it.ok,F)}).catch(()=>{clearTimeout(Be),Ed(0,0,!1,F)})}(oe.toString(),z)}else Bn(2);_.G=0,_.l&&_.l.sa(F),Kb(_),gv(_)}function Kb(_){if(_.G=0,_.ka=[],_.l){const F=Nb(_.h);(0!=F.length||0!=_.i.length)&&(vt(_.ka,F),vt(_.ka,_.i),_.h.i.length=0,At(_.i),_.i.length=0),_.l.ra()}}function qb(_,F,z){var oe=z instanceof Ah?Fl(z):new Ah(z);if(""!=oe.g)F&&(oe.g=F+"."+oe.g),Sm(oe,oe.s);else{var Be=D.location;oe=Be.protocol,F=F?F+"."+Be.hostname:Be.hostname,Be=+Be.port;var it=new Ah(null);oe&&h_(it,oe),F&&(it.g=F),Be&&Sm(it,Be),z&&(it.l=z),oe=it}return F=_.ya,(z=_.D)&&F&&ai(oe,z,F),ai(oe,"VER",_.la),Nm(_,oe),oe}function Qb(_,F,z){if(F&&!_.J)throw Error("Can't create secondary domain capable XhrIo object.");return(F=new qi(_.Ca&&!_.pa?new Cu({eb:z}):_.pa)).Ha(_.J),F}function Xb(){}function E_(){}function Ba(_,F){bs.call(this),this.g=new mv(F),this.l=_,this.h=F&&F.messageUrlParams||null,_=F&&F.messageHeaders||null,F&&F.clientProtocolHeaderRequired&&(_?_["X-Client-Protocol"]="webchannel":_={"X-Client-Protocol":"webchannel"}),this.g.o=_,_=F&&F.initMessageHeaders||null,F&&F.messageContentType&&(_?_["X-WebChannel-Content-Type"]=F.messageContentType:_={"X-WebChannel-Content-Type":F.messageContentType}),F&&F.va&&(_?_["X-WebChannel-Client-Profile"]=F.va:_={"X-WebChannel-Client-Profile":F.va}),this.g.S=_,(_=F&&F.Sb)&&!In(_)&&(this.g.m=_),this.v=F&&F.supportsCrossDomainXhr||!1,this.u=F&&F.sendRawJson||!1,(F=F&&F.httpSessionIdParam)&&!In(F)&&(this.g.D=F,null!==(_=this.h)&&F in _&&F in(_=this.h)&&delete _[F]),this.j=new Rh(this)}function vv(_){Fe.call(this),_.__headers__&&(this.headers=_.__headers__,this.statusCode=_.__status__,delete _.__headers__,delete _.__status__);var F=_.__sm__;if(F){e:{for(const z in F){_=z;break e}_=void 0}(this.i=_)&&(_=this.i,F=null!==F&&_ in F?F[_]:void 0),this.data=F}else this.data=_}function bv(){tt.call(this),this.status=1}function Rh(_){this.g=_}(l=qi.prototype).Ha=function(_){this.J=_},l.ea=function(_,F,z,oe){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+_);F=F?F.toUpperCase():"GET",this.D=_,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():dc.g(),this.v=function Z(_){return _.h||(_.h=_.i())}(this.o?this.o:dc),this.g.onreadystatechange=we(this.Ea,this);try{this.B=!0,this.g.open(F,String(_),!0),this.B=!1}catch(it){return void fv(this,it)}if(_=z||"",z=new Map(this.headers),oe)if(Object.getPrototypeOf(oe)===Object.prototype)for(var Be in oe)z.set(Be,oe[Be]);else{if("function"!=typeof oe.keys||"function"!=typeof oe.get)throw Error("Unknown input type for opt_headers: "+String(oe));for(const it of oe.keys())z.set(it,oe.get(it))}oe=Array.from(z.keys()).find(it=>"content-type"==it.toLowerCase()),Be=D.FormData&&_ instanceof D.FormData,!(0<=Array.prototype.indexOf.call(Vb,F,void 0))||oe||Be||z.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[it,Gt]of z)this.g.setRequestHeader(it,Gt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{__(this),this.u=!0,this.g.send(_),this.u=!1}catch(it){fv(this,it)}},l.abort=function(_){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=_||7,Ns(this,"complete"),Ns(this,"abort"),g_(this))},l.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),g_(this,!0)),qi.aa.N.call(this)},l.Ea=function(){this.s||(this.B||this.u||this.j?Bb(this):this.bb())},l.bb=function(){Bb(this)},l.isActive=function(){return!!this.g},l.Z=function(){try{return 2<pc(this)?this.g.status:-1}catch{return-1}},l.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},l.Oa=function(_){if(this.g){var F=this.g.responseText;return _&&0==F.indexOf(_)&&(F=F.substring(_.length)),y(F)}},l.Ba=function(){return this.m},l.Ka=function(){return"string"==typeof this.l?this.l:String(this.l)},(l=mv.prototype).la=8,l.G=1,l.connect=function(_,F,z,oe){Bn(0),this.W=_,this.H=F||{},z&&void 0!==oe&&(this.H.OSID=z,this.H.OAID=oe),this.F=this.X,this.I=qb(this,null,this.W),km(this)},l.Ga=function(_){if(this.s)if(this.s=null,1==this.G){if(!_){this.U=Math.floor(1e5*Math.random()),_=this.U++;const Be=new Fa(this,this.j,_);let it=this.o;if(this.S&&(it?(it=be(it),ke(it,this.S)):it=this.S),null!==this.m||this.O||(Be.H=it,it=null),this.P)e:{for(var F=0,z=0;z<this.i.length;z++){var oe=this.i[z];if(void 0===(oe="__data__"in oe.map&&"string"==typeof(oe=oe.map.__data__)?oe.length:void 0))break;if(4096<(F+=oe)){F=z;break e}if(4096===F||z===this.i.length-1){F=z+1;break e}}F=1e3}else F=1e3;F=$b(this,Be,F),ai(z=Fl(this.I),"RID",_),ai(z,"CVER",22),this.D&&ai(z,"X-HTTP-Session-Id",this.D),Nm(this,z),it&&(this.O?F="headers="+encodeURIComponent(String(hv(it)))+"&"+F:this.m&&m_(z,this.m,it)),Ob(this.h,Be),this.Ua&&ai(z,"TYPE","init"),this.P?(ai(z,"$req",F),ai(z,"SID","null"),Be.T=!0,Ir(Be,z,null)):Ir(Be,z,F),this.G=2}}else 3==this.G&&(_?jb(this,_):0==this.i.length||np(this.h)||jb(this))},l.Fa=function(){if(this.u=null,zb(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var _=2*this.R;this.j.info("BP detection timer enabled: "+_),this.A=qn(we(this.ab,this),_)}},l.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Bn(10),Om(this),zb(this))},l.Za=function(){null!=this.C&&(this.C=null,Om(this),_v(this),Bn(19))},l.fb=function(_){_?(this.j.info("Successfully pinged google.com"),Bn(2)):(this.j.info("Failed to ping google.com"),Bn(1))},l.isActive=function(){return!!this.l&&this.l.isActive(this)},(l=Xb.prototype).ua=function(){},l.ta=function(){},l.sa=function(){},l.ra=function(){},l.isActive=function(){return!0},l.Na=function(){},E_.prototype.g=function(_,F){return new Ba(_,F)},dt(Ba,bs),Ba.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ba.prototype.close=function(){v_(this.g)},Ba.prototype.o=function(_){var F=this.g;if("string"==typeof _){var z={};z.__data__=_,_=z}else this.u&&((z={}).__data__=h(_),_=z);F.i.push(new class{constructor(_,F){this.g=_,this.map=F}}(F.Ya++,_)),3==F.G&&km(F)},Ba.prototype.N=function(){this.g.l=null,delete this.j,v_(this.g),delete this.g,Ba.aa.N.call(this)},dt(vv,Fe),dt(bv,tt),dt(Rh,Xb),Rh.prototype.ua=function(){Ns(this.g,"a")},Rh.prototype.ta=function(_){Ns(this.g,new vv(_))},Rh.prototype.sa=function(_){Ns(this.g,new bv)},Rh.prototype.ra=function(){Ns(this.g,"b")},E_.prototype.createWebChannel=E_.prototype.g,Ba.prototype.send=Ba.prototype.o,Ba.prototype.open=Ba.prototype.m,Ba.prototype.close=Ba.prototype.close,Mt=sn.createWebChannelTransport=function(){return new E_},lt=sn.getStatEventTarget=function(){return xt()},He=sn.Event=Bt,ut=sn.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Th.NO_ERROR=0,Th.TIMEOUT=8,Th.HTTP_ERROR=6,yt=sn.ErrorCode=Th,Iu.COMPLETE="complete",Tn=sn.EventType=Iu,ie.EventType=ve,ve.OPEN="a",ve.CLOSE="b",ve.ERROR="c",ve.MESSAGE="d",bs.prototype.listen=bs.prototype.K,tn=sn.WebChannel=ie,sn.FetchXmlHttpFactory=Cu,qi.prototype.listenOnce=qi.prototype.L,qi.prototype.getLastError=qi.prototype.Ka,qi.prototype.getLastErrorCode=qi.prototype.Ba,qi.prototype.getStatus=qi.prototype.Z,qi.prototype.getResponseJson=qi.prototype.Oa,qi.prototype.getResponseText=qi.prototype.oa,qi.prototype.send=qi.prototype.ea,qi.prototype.setWithCredentials=qi.prototype.Ha,mt=sn.XhrIo=qi}).apply(typeof Tt<"u"?Tt:typeof self<"u"?self:typeof window<"u"?window:{});const Rt="@firebase/firestore";class cn{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}cn.UNAUTHENTICATED=new cn(null),cn.GOOGLE_CREDENTIALS=new cn("google-credentials-uid"),cn.FIRST_PARTY=new cn("first-party-uid"),cn.MOCK_USER=new cn("mock-user");let et="10.14.0";const zn=new Ue.Vy("@firebase/firestore");function Zt(){return zn.logLevel}function rt(l,...e){if(zn.logLevel<=Ue.$b.DEBUG){const r=e.map(pn);zn.debug(`Firestore (${et}): ${l}`,...r)}}function Pt(l,...e){if(zn.logLevel<=Ue.$b.ERROR){const r=e.map(pn);zn.error(`Firestore (${et}): ${l}`,...r)}}function Jt(l,...e){if(zn.logLevel<=Ue.$b.WARN){const r=e.map(pn);zn.warn(`Firestore (${et}): ${l}`,...r)}}function pn(l){if("string"==typeof l)return l;try{return JSON.stringify(l)}catch{return l}}function Xe(l="Unexpected state"){const e=`FIRESTORE (${et}) INTERNAL ASSERTION FAILED: `+l;throw Pt(e),new Error(e)}function Et(l,e){l||Xe()}function me(l,e){return l}const ae={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ge extends pe.g{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class pt{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}class It{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Lt{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r(cn.UNAUTHENTICATED))}shutdown(){}}class an{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class Tr{constructor(e){this.t=e,this.currentUser=cn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){var s=this;Et(void 0===this.o);let u=this.i;const m=j=>this.i!==u?(u=this.i,r(j)):Promise.resolve();let v=new pt;this.o=()=>{this.i++,this.currentUser=this.u(),v.resolve(),v=new pt,e.enqueueRetryable(()=>m(this.currentUser))};const D=()=>{const j=v;e.enqueueRetryable((0,le.A)(function*(){yield j.promise,yield m(s.currentUser)}))},k=j=>{rt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=j,this.o&&(this.auth.addAuthTokenListener(this.o),D())};this.t.onInit(j=>k(j)),setTimeout(()=>{if(!this.auth){const j=this.t.getImmediate({optional:!0});j?k(j):(rt("FirebaseAuthCredentialsProvider","Auth not yet detected"),v.resolve(),v=new pt)}},0),D()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(s=>this.i!==e?(rt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Et("string"==typeof s.accessToken),new It(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Et(null===e||"string"==typeof e),new cn(e)}}class Ct{constructor(e,r,s){this.l=e,this.h=r,this.P=s,this.type="FirstParty",this.user=cn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Qn{constructor(e,r,s){this.l=e,this.h=r,this.P=s}getToken(){return Promise.resolve(new Ct(this.l,this.h,this.P))}start(e,r){e.enqueueRetryable(()=>r(cn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Sn{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class en{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,r){Et(void 0===this.o);const s=m=>{null!=m.error&&rt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${m.error.message}`);const v=m.token!==this.R;return this.R=m.token,rt("FirebaseAppCheckTokenProvider",`Received ${v?"new":"existing"} token.`),v?r(m.token):Promise.resolve()};this.o=m=>{e.enqueueRetryable(()=>s(m))};const u=m=>{rt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=m,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(m=>u(m)),setTimeout(()=>{if(!this.appCheck){const m=this.A.getImmediate({optional:!0});m?u(m):rt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?(Et("string"==typeof r.token),this.R=r.token,new Sn(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Kr(l){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(l);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(r);else for(let s=0;s<l;s++)r[s]=Math.floor(256*Math.random());return r}class yr{static newId(){const r=62*Math.floor(256/62);let s="";for(;s.length<20;){const u=Kr(40);for(let m=0;m<u.length;++m)s.length<20&&u[m]<r&&(s+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(u[m]%62))}return s}}function Ot(l,e){return l<e?-1:l>e?1:0}function Wn(l,e,r){return l.length===e.length&&l.every((s,u)=>r(s,e[u]))}class Hn{constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new ge(ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new ge(ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<-62135596800)throw new ge(ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ge(ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Hn.fromMillis(Date.now())}static fromDate(e){return Hn.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*r));return new Hn(r,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ot(this.nanoseconds,e.nanoseconds):Ot(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Ht{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ht(e)}static min(){return new Ht(new Hn(0,0))}static max(){return new Ht(new Hn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Jr{constructor(e,r,s){void 0===r?r=0:r>e.length&&Xe(),void 0===s?s=e.length-r:s>e.length-r&&Xe(),this.segments=e,this.offset=r,this.len=s}get length(){return this.len}isEqual(e){return 0===Jr.comparator(this,e)}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof Jr?e.forEach(s=>{r.push(s)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,s=this.limit();r<s;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const s=Math.min(e.length,r.length);for(let u=0;u<s;u++){const m=e.get(u),v=r.get(u);if(m<v)return-1;if(m>v)return 1}return e.length<r.length?-1:e.length>r.length?1:0}}class zt extends Jr{construct(e,r,s){return new zt(e,r,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const s of e){if(s.indexOf("//")>=0)throw new ge(ae.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);r.push(...s.split("/").filter(u=>u.length>0))}return new zt(r)}static emptyPath(){return new zt([])}}const Cn=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class rr extends Jr{construct(e,r,s){return new rr(e,r,s)}static isValidIdentifier(e){return Cn.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),rr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new rr(["__name__"])}static fromServerFormat(e){const r=[];let s="",u=0;const m=()=>{if(0===s.length)throw new ge(ae.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(s),s=""};let v=!1;for(;u<e.length;){const D=e[u];if("\\"===D){if(u+1===e.length)throw new ge(ae.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const k=e[u+1];if("\\"!==k&&"."!==k&&"`"!==k)throw new ge(ae.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=k,u+=2}else"`"===D?(v=!v,u++):"."!==D||v?(s+=D,u++):(m(),u++)}if(m(),v)throw new ge(ae.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new rr(r)}static emptyPath(){return new rr([])}}class wt{constructor(e){this.path=e}static fromPath(e){return new wt(zt.fromString(e))}static fromName(e){return new wt(zt.fromString(e).popFirst(5))}static empty(){return new wt(zt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===zt.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,r){return zt.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new wt(new zt(e.slice()))}}class jr{constructor(e,r,s){this.readTime=e,this.documentKey=r,this.largestBatchId=s}static min(){return new jr(Ht.min(),wt.empty(),-1)}static max(){return new jr(Ht.max(),wt.empty(),-1)}}function Co(l,e){let r=l.readTime.compareTo(e.readTime);return 0!==r?r:(r=wt.comparator(l.documentKey,e.documentKey),0!==r?r:Ot(l.largestBatchId,e.largestBatchId))}const rn="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class _i{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function hi(l){return Bi.apply(this,arguments)}function Bi(){return(Bi=(0,le.A)(function*(l){if(l.code!==ae.FAILED_PRECONDITION||l.message!==rn)throw l;rt("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}class xe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&Xe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new xe((s,u)=>{this.nextCallback=m=>{this.wrapSuccess(e,m).next(s,u)},this.catchCallback=m=>{this.wrapFailure(r,m).next(s,u)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof xe?r:xe.resolve(r)}catch(r){return xe.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):xe.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):xe.reject(r)}static resolve(e){return new xe((r,s)=>{r(e)})}static reject(e){return new xe((r,s)=>{s(e)})}static waitFor(e){return new xe((r,s)=>{let u=0,m=0,v=!1;e.forEach(D=>{++u,D.next(()=>{++m,v&&m===u&&r()},k=>s(k))}),v=!0,m===u&&r()})}static or(e){let r=xe.resolve(!1);for(const s of e)r=r.next(u=>u?xe.resolve(u):s());return r}static forEach(e,r){const s=[];return e.forEach((u,m)=>{s.push(r.call(this,u,m))}),this.waitFor(s)}static mapArray(e,r){return new xe((s,u)=>{const m=e.length,v=new Array(m);let D=0;for(let k=0;k<m;k++){const j=k;r(e[j]).next(ee=>{v[j]=ee,++D,D===m&&s(v)},ee=>u(ee))}})}static doWhile(e,r){return new xe((s,u)=>{const m=()=>{!0===e()?r().next(()=>{m()},u):s()};m()})}}function te(l){return"IndexedDbTransactionError"===l.name}let Wt=(()=>{class l{constructor(r,s){this.previousValue=r,s&&(s.sequenceNumberHandler=u=>this.ie(u),this.se=u=>s.writeSequenceNumber(u))}ie(r){return this.previousValue=Math.max(r,this.previousValue),this.previousValue}next(){const r=++this.previousValue;return this.se&&this.se(r),r}}return l.oe=-1,l})();function Jn(l){return null==l}function Rn(l){return 0===l&&1/l==-1/0}function Fo(l){let e=0;for(const r in l)Object.prototype.hasOwnProperty.call(l,r)&&e++;return e}function Ls(l,e){for(const r in l)Object.prototype.hasOwnProperty.call(l,r)&&e(r,l[r])}function so(l){for(const e in l)if(Object.prototype.hasOwnProperty.call(l,e))return!1;return!0}class Or{constructor(e,r){this.comparator=e,this.root=r||ri.EMPTY}insert(e,r){return new Or(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,ri.BLACK,null,null))}remove(e){return new Or(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ri.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(0===s)return r.value;s<0?r=r.left:s>0&&(r=r.right)}return null}indexOf(e){let r=0,s=this.root;for(;!s.isEmpty();){const u=this.comparator(e,s.key);if(0===u)return r+s.left.size;u<0?s=s.left:(r+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,s)=>(e(r,s),!1))}toString(){const e=[];return this.inorderTraversal((r,s)=>(e.push(`${r}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new xi(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new xi(this.root,e,this.comparator,!1)}getReverseIterator(){return new xi(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new xi(this.root,e,this.comparator,!0)}}class xi{constructor(e,r,s,u){this.isReverse=u,this.nodeStack=[];let m=1;for(;!e.isEmpty();)if(m=r?s(e.key,r):1,r&&u&&(m*=-1),m<0)e=this.isReverse?e.left:e.right;else{if(0===m){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ri{constructor(e,r,s,u,m){this.key=e,this.value=r,this.color=s??ri.RED,this.left=u??ri.EMPTY,this.right=m??ri.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,s,u,m){return new ri(e??this.key,r??this.value,s??this.color,u??this.left,m??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,s){let u=this;const m=s(e,u.key);return u=m<0?u.copy(null,null,null,u.left.insert(e,r,s),null):0===m?u.copy(null,r,null,null,null):u.copy(null,null,null,null,u.right.insert(e,r,s)),u.fixUp()}removeMin(){if(this.left.isEmpty())return ri.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let s,u=this;if(r(e,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(e,r),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),0===r(e,u.key)){if(u.right.isEmpty())return ri.EMPTY;s=u.right.min(),u=u.copy(s.key,s.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(e,r))}return u.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ri.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ri.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Xe();const e=this.left.check();if(e!==this.right.check())throw Xe();return e+(this.isRed()?0:1)}}ri.EMPTY=null,ri.RED=!0,ri.BLACK=!1,ri.EMPTY=new class{constructor(){this.size=0}get key(){throw Xe()}get value(){throw Xe()}get color(){throw Xe()}get left(){throw Xe()}get right(){throw Xe()}copy(e,r,s,u,m){return this}insert(e,r,s){return new ri(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class vr{constructor(e){this.comparator=e,this.data=new Or(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,s)=>(e(r),!1))}forEachInRange(e,r){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const u=s.getNext();if(this.comparator(u.key,e[1])>=0)return;r(u.key)}}forEachWhile(e,r){let s;for(s=void 0!==r?this.data.getIteratorFrom(r):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new $a(this.data.getIterator())}getIteratorFrom(e){return new $a(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(s=>{r=r.add(s)}),r}isEqual(e){if(!(e instanceof vr)||this.size!==e.size)return!1;const r=this.data.getIterator(),s=e.data.getIterator();for(;r.hasNext();){const u=r.getNext().key,m=s.getNext().key;if(0!==this.comparator(u,m))return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new vr(this.comparator);return r.data=e,r}}class $a{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Mi{constructor(e){this.fields=e,e.sort(rr.comparator)}static empty(){return new Mi([])}unionWith(e){let r=new vr(rr.comparator);for(const s of this.fields)r=r.add(s);for(const s of e)r=r.add(s);return new Mi(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return Wn(this.fields,e.fields,(r,s)=>r.isEqual(s))}}class Qs extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class $r{constructor(e){this.binaryString=e}static fromBase64String(e){const r=function(u){try{return atob(u)}catch(m){throw typeof DOMException<"u"&&m instanceof DOMException?new Qs("Invalid base64 string: "+m):m}}(e);return new $r(r)}static fromUint8Array(e){const r=function(u){let m="";for(let v=0;v<u.length;++v)m+=String.fromCharCode(u[v]);return m}(e);return new $r(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(r){const s=new Uint8Array(r.length);for(let u=0;u<r.length;u++)s[u]=r.charCodeAt(u);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ot(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}$r.EMPTY_BYTE_STRING=new $r("");const Ha=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Pi(l){if(Et(!!l),"string"==typeof l){let e=0;const r=Ha.exec(l);if(Et(!!r),r[1]){let u=r[1];u=(u+"000000000").substr(0,9),e=Number(u)}const s=new Date(l);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:kr(l.seconds),nanos:kr(l.nanos)}}function kr(l){return"number"==typeof l?l:"string"==typeof l?Number(l):0}function Qi(l){return"string"==typeof l?$r.fromBase64String(l):$r.fromUint8Array(l)}function Lo(l){var e,r;return"server_timestamp"===(null===(r=((null===(e=l?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===r?void 0:r.stringValue)}function Xi(l){const e=l.mapValue.fields.__previous_value__;return Lo(e)?Xi(e):e}function go(l){const e=Pi(l.mapValue.fields.__local_write_time__.timestampValue);return new Hn(e.seconds,e.nanos)}class Xs{constructor(e,r,s,u,m,v,D,k,j){this.databaseId=e,this.appId=r,this.persistenceKey=s,this.host=u,this.ssl=m,this.forceLongPolling=v,this.autoDetectLongPolling=D,this.longPollingOptions=k,this.useFetchStreams=j}}class Vo{constructor(e,r){this.projectId=e,this.database=r||"(default)"}static empty(){return new Vo("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Vo&&e.projectId===this.projectId&&e.database===this.database}}const Mn={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function br(l){return"nullValue"in l?0:"booleanValue"in l?1:"integerValue"in l||"doubleValue"in l?2:"timestampValue"in l?3:"stringValue"in l?5:"bytesValue"in l?6:"referenceValue"in l?7:"geoPointValue"in l?8:"arrayValue"in l?9:"mapValue"in l?Lo(l)?4:Ao(l)?9007199254740991:os(l)?10:11:Xe()}function zi(l,e){if(l===e)return!0;const r=br(l);if(r!==br(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return l.booleanValue===e.booleanValue;case 4:return go(l).isEqual(go(e));case 3:return function(u,m){if("string"==typeof u.timestampValue&&"string"==typeof m.timestampValue&&u.timestampValue.length===m.timestampValue.length)return u.timestampValue===m.timestampValue;const v=Pi(u.timestampValue),D=Pi(m.timestampValue);return v.seconds===D.seconds&&v.nanos===D.nanos}(l,e);case 5:return l.stringValue===e.stringValue;case 6:return m=e,Qi(l.bytesValue).isEqual(Qi(m.bytesValue));case 7:return l.referenceValue===e.referenceValue;case 8:return function(u,m){return kr(u.geoPointValue.latitude)===kr(m.geoPointValue.latitude)&&kr(u.geoPointValue.longitude)===kr(m.geoPointValue.longitude)}(l,e);case 2:return function(u,m){if("integerValue"in u&&"integerValue"in m)return kr(u.integerValue)===kr(m.integerValue);if("doubleValue"in u&&"doubleValue"in m){const v=kr(u.doubleValue),D=kr(m.doubleValue);return v===D?Rn(v)===Rn(D):isNaN(v)&&isNaN(D)}return!1}(l,e);case 9:return Wn(l.arrayValue.values||[],e.arrayValue.values||[],zi);case 10:case 11:return function(u,m){const v=u.mapValue.fields||{},D=m.mapValue.fields||{};if(Fo(v)!==Fo(D))return!1;for(const k in v)if(v.hasOwnProperty(k)&&(void 0===D[k]||!zi(v[k],D[k])))return!1;return!0}(l,e);default:return Xe()}var m}function Fr(l,e){return void 0!==(l.values||[]).find(r=>zi(r,e))}function Yi(l,e){if(l===e)return 0;const r=br(l),s=br(e);if(r!==s)return Ot(r,s);switch(r){case 0:case 9007199254740991:return 0;case 1:return Ot(l.booleanValue,e.booleanValue);case 2:return function(m,v){const D=kr(m.integerValue||m.doubleValue),k=kr(v.integerValue||v.doubleValue);return D<k?-1:D>k?1:D===k?0:isNaN(D)?isNaN(k)?0:-1:1}(l,e);case 3:return _o(l.timestampValue,e.timestampValue);case 4:return _o(go(l),go(e));case 5:return Ot(l.stringValue,e.stringValue);case 6:return function(m,v){const D=Qi(m),k=Qi(v);return D.compareTo(k)}(l.bytesValue,e.bytesValue);case 7:return function(m,v){const D=m.split("/"),k=v.split("/");for(let j=0;j<D.length&&j<k.length;j++){const ee=Ot(D[j],k[j]);if(0!==ee)return ee}return Ot(D.length,k.length)}(l.referenceValue,e.referenceValue);case 8:return function(m,v){const D=Ot(kr(m.latitude),kr(v.latitude));return 0!==D?D:Ot(kr(m.longitude),kr(v.longitude))}(l.geoPointValue,e.geoPointValue);case 9:return Es(l.arrayValue,e.arrayValue);case 10:return function(m,v){var D,k,j,ee;const Ve=null===(D=(m.fields||{}).value)||void 0===D?void 0:D.arrayValue,dt=null===(k=(v.fields||{}).value)||void 0===k?void 0:k.arrayValue,At=Ot((null===(j=Ve?.values)||void 0===j?void 0:j.length)||0,(null===(ee=dt?.values)||void 0===ee?void 0:ee.length)||0);return 0!==At?At:Es(Ve,dt)}(l.mapValue,e.mapValue);case 11:return function(m,v){if(m===Mn.mapValue&&v===Mn.mapValue)return 0;if(m===Mn.mapValue)return 1;if(v===Mn.mapValue)return-1;const D=m.fields||{},k=Object.keys(D),j=v.fields||{},ee=Object.keys(j);k.sort(),ee.sort();for(let ce=0;ce<k.length&&ce<ee.length;++ce){const we=Ot(k[ce],ee[ce]);if(0!==we)return we;const Ve=Yi(D[k[ce]],j[ee[ce]]);if(0!==Ve)return Ve}return Ot(k.length,ee.length)}(l.mapValue,e.mapValue);default:throw Xe()}}function _o(l,e){if("string"==typeof l&&"string"==typeof e&&l.length===e.length)return Ot(l,e);const r=Pi(l),s=Pi(e),u=Ot(r.seconds,s.seconds);return 0!==u?u:Ot(r.nanos,s.nanos)}function Es(l,e){const r=l.values||[],s=e.values||[];for(let u=0;u<r.length&&u<s.length;++u){const m=Yi(r[u],s[u]);if(m)return m}return Ot(r.length,s.length)}function yo(l){return Ys(l)}function Ys(l){return"nullValue"in l?"null":"booleanValue"in l?""+l.booleanValue:"integerValue"in l?""+l.integerValue:"doubleValue"in l?""+l.doubleValue:"timestampValue"in l?function(r){const s=Pi(r);return`time(${s.seconds},${s.nanos})`}(l.timestampValue):"stringValue"in l?l.stringValue:"bytesValue"in l?Qi(l.bytesValue).toBase64():"referenceValue"in l?wt.fromName(l.referenceValue).toString():"geoPointValue"in l?function(r){return`geo(${r.latitude},${r.longitude})`}(l.geoPointValue):"arrayValue"in l?function(r){let s="[",u=!0;for(const m of r.values||[])u?u=!1:s+=",",s+=Ys(m);return s+"]"}(l.arrayValue):"mapValue"in l?function(r){const s=Object.keys(r.fields||{}).sort();let u="{",m=!0;for(const v of s)m?m=!1:u+=",",u+=`${v}:${Ys(r.fields[v])}`;return u+"}"}(l.mapValue):Xe()}function vn(l){return!!l&&"integerValue"in l}function ur(l){return!!l&&"arrayValue"in l}function Oi(l){return!!l&&"nullValue"in l}function Lr(l){return!!l&&"doubleValue"in l&&isNaN(Number(l.doubleValue))}function Hr(l){return!!l&&"mapValue"in l}function os(l){var e,r;return"__vector__"===(null===(r=((null===(e=l?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===r?void 0:r.stringValue)}function fr(l){if(l.geoPointValue)return{geoPointValue:Object.assign({},l.geoPointValue)};if(l.timestampValue&&"object"==typeof l.timestampValue)return{timestampValue:Object.assign({},l.timestampValue)};if(l.mapValue){const e={mapValue:{fields:{}}};return Ls(l.mapValue.fields,(r,s)=>e.mapValue.fields[r]=fr(s)),e}if(l.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(l.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=fr(l.arrayValue.values[r]);return e}return Object.assign({},l)}function Ao(l){return"__max__"===(((l.mapValue||{}).fields||{}).__type__||{}).stringValue}class kn{constructor(e){this.value=e}static empty(){return new kn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let s=0;s<e.length-1;++s)if(r=(r.mapValue.fields||{})[e.get(s)],!Hr(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=fr(r)}setAll(e){let r=rr.emptyPath(),s={},u=[];e.forEach((v,D)=>{if(!r.isImmediateParentOf(D)){const k=this.getFieldsMap(r);this.applyChanges(k,s,u),s={},u=[],r=D.popLast()}v?s[D.lastSegment()]=fr(v):u.push(D.lastSegment())});const m=this.getFieldsMap(r);this.applyChanges(m,s,u)}delete(e){const r=this.field(e.popLast());Hr(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return zi(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let s=0;s<e.length;++s){let u=r.mapValue.fields[e.get(s)];Hr(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},r.mapValue.fields[e.get(s)]=u),r=u}return r.mapValue.fields}applyChanges(e,r,s){Ls(r,(u,m)=>e[u]=m);for(const u of s)delete e[u]}clone(){return new kn(fr(this.value))}}function as(l){const e=[];return Ls(l.fields,(r,s)=>{const u=new rr([r]);if(Hr(s)){const m=as(s.mapValue).fields;if(0===m.length)e.push(u);else for(const v of m)e.push(u.child(v))}else e.push(u)}),new Mi(e)}class mr{constructor(e,r,s,u,m,v,D){this.key=e,this.documentType=r,this.version=s,this.readTime=u,this.createTime=m,this.data=v,this.documentState=D}static newInvalidDocument(e){return new mr(e,0,Ht.min(),Ht.min(),Ht.min(),kn.empty(),0)}static newFoundDocument(e,r,s,u){return new mr(e,1,r,Ht.min(),s,u,0)}static newNoDocument(e,r){return new mr(e,2,r,Ht.min(),Ht.min(),kn.empty(),0)}static newUnknownDocument(e,r){return new mr(e,3,r,Ht.min(),Ht.min(),kn.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(Ht.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=kn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=kn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ht.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof mr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new mr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Ei{constructor(e,r){this.position=e,this.inclusive=r}}function Do(l,e,r){let s=0;for(let u=0;u<l.position.length;u++){const m=e[u],v=l.position[u];if(s=m.field.isKeyField()?wt.comparator(wt.fromName(v.referenceValue),r.key):Yi(v,r.data.field(m.field)),"desc"===m.dir&&(s*=-1),0!==s)break}return s}function za(l,e){if(null===l)return null===e;if(null===e||l.inclusive!==e.inclusive||l.position.length!==e.position.length)return!1;for(let r=0;r<l.position.length;r++)if(!zi(l.position[r],e.position[r]))return!1;return!0}class ki{constructor(e,r="asc"){this.field=e,this.dir=r}}function ao(l,e){return l.dir===e.dir&&l.field.isEqual(e.field)}class Zi{}class _n extends Zi{constructor(e,r,s){super(),this.field=e,this.op=r,this.value=s}static create(e,r,s){return e.isKeyField()?"in"===r||"not-in"===r?this.createKeyFieldInFilter(e,r,s):new ca(e,r,s):"array-contains"===r?new Xr(e,s):"in"===r?new Gi(e,s):"not-in"===r?new Fi(e,s):"array-contains-any"===r?new ya(e,s):new _n(e,r,s)}static createKeyFieldInFilter(e,r,s){return"in"===r?new ci(e,s):new oi(e,s)}matches(e){const r=e.data.field(this.field);return"!="===this.op?null!==r&&this.matchesComparison(Yi(r,this.value)):null!==r&&br(this.value)===br(r)&&this.matchesComparison(Yi(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Xe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class qt extends Zi{constructor(e,r){super(),this.filters=e,this.op=r,this.ae=null}static create(e,r){return new qt(e,r)}matches(e){return Ji(this)?void 0===this.filters.find(r=>!r.matches(e)):void 0!==this.filters.find(r=>r.matches(e))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce((e,r)=>e.concat(r.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Ji(l){return"and"===l.op}function Ts(l){return function Er(l){for(const e of l.filters)if(e instanceof qt)return!1;return!0}(l)&&Ji(l)}function qo(l){if(l instanceof _n)return l.field.canonicalString()+l.op.toString()+yo(l.value);if(Ts(l))return l.filters.map(e=>qo(e)).join(",");{const e=l.filters.map(r=>qo(r)).join(",");return`${l.op}(${e})`}}function Ni(l,e){return l instanceof _n?(s=l,(u=e)instanceof _n&&s.op===u.op&&s.field.isEqual(u.field)&&zi(s.value,u.value)):l instanceof qt?function(s,u){return u instanceof qt&&s.op===u.op&&s.filters.length===u.filters.length&&s.filters.reduce((m,v,D)=>m&&Ni(v,u.filters[D]),!0)}(l,e):void Xe();var s,u}function ii(l){return l instanceof _n?`${(r=l).field.canonicalString()} ${r.op} ${yo(r.value)}`:l instanceof qt?function(r){return r.op.toString()+" {"+r.getFilters().map(ii).join(" ,")+"}"}(l):"Filter";var r}class ca extends _n{constructor(e,r,s){super(e,r,s),this.key=wt.fromName(s.referenceValue)}matches(e){const r=wt.comparator(e.key,this.key);return this.matchesComparison(r)}}class ci extends _n{constructor(e,r){super(e,"in",r),this.keys=Qo(0,r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class oi extends _n{constructor(e,r){super(e,"not-in",r),this.keys=Qo(0,r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function Qo(l,e){var r;return((null===(r=e.arrayValue)||void 0===r?void 0:r.values)||[]).map(s=>wt.fromName(s.referenceValue))}class Xr extends _n{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return ur(r)&&Fr(r.arrayValue,this.value)}}class Gi extends _n{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return null!==r&&Fr(this.value.arrayValue,r)}}class Fi extends _n{constructor(e,r){super(e,"not-in",r)}matches(e){if(Fr(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return null!==r&&!Fr(this.value.arrayValue,r)}}class ya extends _n{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!ur(r)||!r.arrayValue.values)&&r.arrayValue.values.some(s=>Fr(this.value.arrayValue,s))}}class vo{constructor(e,r=null,s=[],u=[],m=null,v=null,D=null){this.path=e,this.collectionGroup=r,this.orderBy=s,this.filters=u,this.limit=m,this.startAt=v,this.endAt=D,this.ue=null}}function Vr(l,e=null,r=[],s=[],u=null,m=null,v=null){return new vo(l,e,r,s,u,m,v)}function cs(l){const e=me(l);if(null===e.ue){let r=e.path.canonicalString();null!==e.collectionGroup&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(s=>qo(s)).join(","),r+="|ob:",r+=e.orderBy.map(s=>{return(m=s).field.canonicalString()+m.dir;var m}).join(","),Jn(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(s=>yo(s)).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(s=>yo(s)).join(",")),e.ue=r}return e.ue}function Xo(l,e){if(l.limit!==e.limit||l.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<l.orderBy.length;r++)if(!ao(l.orderBy[r],e.orderBy[r]))return!1;if(l.filters.length!==e.filters.length)return!1;for(let r=0;r<l.filters.length;r++)if(!Ni(l.filters[r],e.filters[r]))return!1;return l.collectionGroup===e.collectionGroup&&!!l.path.isEqual(e.path)&&!!za(l.startAt,e.startAt)&&za(l.endAt,e.endAt)}function $(l){return wt.isDocumentKey(l.path)&&null===l.collectionGroup&&0===l.filters.length}class ye{constructor(e,r=null,s=[],u=[],m=null,v="F",D=null,k=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=s,this.filters=u,this.limit=m,this.limitType=v,this.startAt=D,this.endAt=k,this.ce=null,this.le=null,this.he=null}}function En(l){return new ye(l)}function eo(l){return 0===l.filters.length&&null===l.limit&&null==l.startAt&&null==l.endAt&&(0===l.explicitOrderBy.length||1===l.explicitOrderBy.length&&l.explicitOrderBy[0].field.isKeyField())}function So(l){const e=me(l);if(null===e.ce){e.ce=[];const r=new Set;for(const m of e.explicitOrderBy)e.ce.push(m),r.add(m.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(v){let D=new vr(rr.comparator);return v.filters.forEach(k=>{k.getFlattenedFilters().forEach(j=>{j.isInequality()&&(D=D.add(j.field))})}),D})(e).forEach(m=>{r.has(m.canonicalString())||m.isKeyField()||e.ce.push(new ki(m,s))}),r.has(rr.keyField().canonicalString())||e.ce.push(new ki(rr.keyField(),s))}return e.ce}function li(l){const e=me(l);return e.le||(e.le=function la(l,e){if("F"===l.limitType)return Vr(l.path,l.collectionGroup,e,l.filters,l.limit,l.startAt,l.endAt);{e=e.map(u=>new ki(u.field,"desc"===u.dir?"asc":"desc"));const r=l.endAt?new Ei(l.endAt.position,l.endAt.inclusive):null,s=l.startAt?new Ei(l.startAt.position,l.startAt.inclusive):null;return Vr(l.path,l.collectionGroup,e,l.filters,l.limit,r,s)}}(e,So(l))),e.le}function Zs(l,e,r){return new ye(l.path,l.collectionGroup,l.explicitOrderBy.slice(),l.filters.slice(),e,r,l.startAt,l.endAt)}function vc(l,e){return Xo(li(l),li(e))&&l.limitType===e.limitType}function Js(l){return`${cs(li(l))}|lt:${l.limitType}`}function us(l){return`Query(target=${function(r){let s=r.path.canonicalString();return null!==r.collectionGroup&&(s+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(s+=`, filters: [${r.filters.map(u=>ii(u)).join(", ")}]`),Jn(r.limit)||(s+=", limit: "+r.limit),r.orderBy.length>0&&(s+=`, orderBy: [${r.orderBy.map(u=>{return`${(v=u).field.canonicalString()} (${v.dir})`;var v}).join(", ")}]`),r.startAt&&(s+=", startAt: ",s+=r.startAt.inclusive?"b:":"a:",s+=r.startAt.position.map(u=>yo(u)).join(",")),r.endAt&&(s+=", endAt: ",s+=r.endAt.inclusive?"a:":"b:",s+=r.endAt.position.map(u=>yo(u)).join(",")),`Target(${s})`}(li(l))}; limitType=${l.limitType})`}function pi(l,e){return e.isFoundDocument()&&function(s,u){const m=u.key.path;return null!==s.collectionGroup?u.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(m):wt.isDocumentKey(s.path)?s.path.isEqual(m):s.path.isImmediateParentOf(m)}(l,e)&&function(s,u){for(const m of So(s))if(!m.field.isKeyField()&&null===u.data.field(m.field))return!1;return!0}(l,e)&&function(s,u){for(const m of s.filters)if(!m.matches(u))return!1;return!0}(l,e)&&(u=e,!((s=l).startAt&&!function(v,D,k){const j=Do(v,D,k);return v.inclusive?j<=0:j<0}(s.startAt,So(s),u)||s.endAt&&!function(v,D,k){const j=Do(v,D,k);return v.inclusive?j>=0:j>0}(s.endAt,So(s),u)));var s,u}function Ga(l){return(e,r)=>{let s=!1;for(const u of So(l)){const m=Au(u,e,r);if(0!==m)return m;s=s||u.field.isKeyField()}return 0}}function Au(l,e,r){const s=l.field.isKeyField()?wt.comparator(e.key,r.key):function(m,v,D){const k=v.data.field(m),j=D.data.field(m);return null!==k&&null!==j?Yi(k,j):Xe()}(l.field,e,r);switch(l.dir){case"asc":return s;case"desc":return-1*s;default:return Xe()}}class Rr{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),s=this.inner[r];if(void 0!==s)for(const[u,m]of s)if(this.equalsFn(u,e))return m}has(e){return void 0!==this.get(e)}set(e,r){const s=this.mapKeyFn(e),u=this.inner[s];if(void 0===u)return this.inner[s]=[[e,r]],void this.innerSize++;for(let m=0;m<u.length;m++)if(this.equalsFn(u[m][0],e))return void(u[m]=[e,r]);u.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),s=this.inner[r];if(void 0===s)return!1;for(let u=0;u<s.length;u++)if(this.equalsFn(s[u][0],e))return 1===s.length?delete this.inner[r]:s.splice(u,1),this.innerSize--,!0;return!1}forEach(e){Ls(this.inner,(r,s)=>{for(const[u,m]of s)e(u,m)})}isEmpty(){return so(this.inner)}size(){return this.innerSize}}const hs=new Or(wt.comparator);function Ur(){return hs}const ua=new Or(wt.comparator);function Cs(...l){let e=ua;for(const r of l)e=e.insert(r.key,r);return e}function Wa(l){let e=ua;return l.forEach((r,s)=>e=e.insert(r,s.overlayedDocument)),e}function Bo(){return bo()}function Zc(){return bo()}function bo(){return new Rr(l=>l.toString(),(l,e)=>l.isEqual(e))}const da=new Or(wt.comparator),ea=new vr(wt.comparator);function Vn(...l){let e=ea;for(const r of l)e=e.add(r);return e}const bc=new vr(Ot);function ta(l,e){if(l.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Rn(e)?"-0":e}}function Ka(l){return{integerValue:""+l}}function As(l,e){return function ei(l){return"number"==typeof l&&Number.isInteger(l)&&!Rn(l)&&l<=Number.MAX_SAFE_INTEGER&&l>=Number.MIN_SAFE_INTEGER}(e)?Ka(e):ta(l,e)}class qa{constructor(){this._=void 0}}function Jc(l,e,r){return l instanceof fs?function(u,m){const v={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:u.seconds,nanos:u.nanoseconds}}}};return m&&Lo(m)&&(m=Xi(m)),m&&(v.fields.__previous_value__=m),{mapValue:v}}(r,e):l instanceof Ds?Du(l,e):l instanceof R?X(l,e):function(u,m){const v=Vl(u,m),D=G(v)+G(u.Pe);return vn(v)&&vn(u.Pe)?Ka(D):ta(u.serializer,D)}(l,e)}function el(l,e,r){return l instanceof Ds?Du(l,e):l instanceof R?X(l,e):r}function Vl(l,e){return l instanceof L?vn(s=e)||(m=s)&&"doubleValue"in m?e:{integerValue:0}:null;var s,m}class fs extends qa{}class Ds extends qa{constructor(e){super(),this.elements=e}}function Du(l,e){const r=fe(e);for(const s of l.elements)r.some(u=>zi(u,s))||r.push(s);return{arrayValue:{values:r}}}class R extends qa{constructor(e){super(),this.elements=e}}function X(l,e){let r=fe(e);for(const s of l.elements)r=r.filter(u=>!zi(u,s));return{arrayValue:{values:r}}}class L extends qa{constructor(e,r){super(),this.serializer=e,this.Pe=r}}function G(l){return kr(l.integerValue||l.doubleValue)}function fe(l){return ur(l)&&l.arrayValue.values?l.arrayValue.values.slice():[]}class Ge{constructor(e,r){this.field=e,this.transform=r}}class un{constructor(e,r){this.version=e,this.transformResults=r}}class yn{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new yn}static exists(e){return new yn(void 0,e)}static updateTime(e){return new yn(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function gr(l,e){return void 0!==l.updateTime?e.isFoundDocument()&&e.version.isEqual(l.updateTime):void 0===l.exists||l.exists===e.isFoundDocument()}class or{}function Zn(l,e){if(!l.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return l.isNoDocument()?new xo(l.key,yn.none()):new Ii(l.key,l.data,yn.none());{const r=l.data,s=kn.empty();let u=new vr(rr.comparator);for(let m of e.fields)if(!u.has(m)){let v=r.field(m);null===v&&m.length>1&&(m=m.popLast(),v=r.field(m)),null===v?s.delete(m):s.set(m,v),u=u.add(m)}return new Eo(l.key,s,new Mi(u.toArray()),yn.none())}}function Yr(l,e,r){l instanceof Ii?function(u,m,v){const D=u.value.clone(),k=co(u.fieldTransforms,m,v.transformResults);D.setAll(k),m.convertToFoundDocument(v.version,D).setHasCommittedMutations()}(l,e,r):l instanceof Eo?function(u,m,v){if(!gr(u.precondition,m))return void m.convertToUnknownDocument(v.version);const D=co(u.fieldTransforms,m,v.transformResults),k=m.data;k.setAll(wi(u)),k.setAll(D),m.convertToFoundDocument(v.version,k).setHasCommittedMutations()}(l,e,r):e.convertToNoDocument(r.version).setHasCommittedMutations()}function Ar(l,e,r,s){return l instanceof Ii?function(m,v,D,k){if(!gr(m.precondition,v))return D;const j=m.value.clone(),ee=Ss(m.fieldTransforms,k,v);return j.setAll(ee),v.convertToFoundDocument(v.version,j).setHasLocalMutations(),null}(l,e,r,s):l instanceof Eo?function(m,v,D,k){if(!gr(m.precondition,v))return D;const j=Ss(m.fieldTransforms,k,v),ee=v.data;return ee.setAll(wi(m)),ee.setAll(j),v.convertToFoundDocument(v.version,ee).setHasLocalMutations(),null===D?null:D.unionWith(m.fieldMask.fields).unionWith(m.fieldTransforms.map(ce=>ce.field))}(l,e,r,s):(D=r,gr(l.precondition,v=e)?(v.convertToNoDocument(v.version).setHasLocalMutations(),null):D);var v,D}function Li(l,e){let r=null;for(const s of l.fieldTransforms){const u=e.data.field(s.field),m=Vl(s.transform,u||null);null!=m&&(null===r&&(r=kn.empty()),r.set(s.field,m))}return r||null}function ps(l,e){return l.type===e.type&&!!l.key.isEqual(e.key)&&!!l.precondition.isEqual(e.precondition)&&(u=e.fieldTransforms,!!(void 0===(s=l.fieldTransforms)&&void 0===u||s&&u&&Wn(s,u,(m,v)=>function ft(l,e){return l.field.isEqual(e.field)&&(u=e.transform,(s=l.transform)instanceof Ds&&u instanceof Ds||s instanceof R&&u instanceof R?Wn(s.elements,u.elements,zi):s instanceof L&&u instanceof L?zi(s.Pe,u.Pe):s instanceof fs&&u instanceof fs);var s,u}(m,v))))&&(0===l.type?l.value.isEqual(e.value):1!==l.type||l.data.isEqual(e.data)&&l.fieldMask.isEqual(e.fieldMask));var s,u}class Ii extends or{constructor(e,r,s,u=[]){super(),this.key=e,this.value=r,this.precondition=s,this.fieldTransforms=u,this.type=0}getFieldMask(){return null}}class Eo extends or{constructor(e,r,s,u,m=[]){super(),this.key=e,this.data=r,this.fieldMask=s,this.precondition=u,this.fieldTransforms=m,this.type=1}getFieldMask(){return this.fieldMask}}function wi(l){const e=new Map;return l.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const s=l.data.field(r);e.set(r,s)}}),e}function co(l,e,r){const s=new Map;Et(l.length===r.length);for(let u=0;u<r.length;u++){const m=l[u],v=m.transform,D=e.data.field(m.field);s.set(m.field,el(v,D,r[u]))}return s}function Ss(l,e,r){const s=new Map;for(const u of l){const m=u.transform,v=r.data.field(u.field);s.set(u.field,Jc(m,v,e))}return s}class xo extends or{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class tl extends or{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class nl{constructor(e,r,s,u){this.batchId=e,this.localWriteTime=r,this.baseMutations=s,this.mutations=u}applyToRemoteDocument(e,r){const s=r.mutationResults;for(let u=0;u<this.mutations.length;u++){const m=this.mutations[u];m.key.isEqual(e.key)&&Yr(m,e,s[u])}}applyToLocalView(e,r){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(r=Ar(s,e,r,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(r=Ar(s,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const s=Zc();return this.mutations.forEach(u=>{const m=e.get(u.key),v=m.overlayedDocument;let D=this.applyToLocalView(v,m.mutatedFields);D=r.has(u.key)?null:D;const k=Zn(v,D);null!==k&&s.set(u.key,k),v.isValidDocument()||v.convertToNoDocument(Ht.min())}),s}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),Vn())}isEqual(e){return this.batchId===e.batchId&&Wn(this.mutations,e.mutations,(r,s)=>ps(r,s))&&Wn(this.baseMutations,e.baseMutations,(r,s)=>ps(r,s))}}class Su{constructor(e,r,s,u){this.batch=e,this.commitVersion=r,this.mutationResults=s,this.docVersions=u}static from(e,r,s){Et(e.mutations.length===s.length);let u=da;const m=e.mutations;for(let v=0;v<m.length;v++)u=u.insert(m[v].key,s[v].version);return new Su(e,r,s,u)}}class Io{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Vs{constructor(e,r){this.count=e,this.unchangedNames=r}}var dr,sr;function Qa(l){if(void 0===l)return Pt("GRPC error has no .code"),ae.UNKNOWN;switch(l){case dr.OK:return ae.OK;case dr.CANCELLED:return ae.CANCELLED;case dr.UNKNOWN:return ae.UNKNOWN;case dr.DEADLINE_EXCEEDED:return ae.DEADLINE_EXCEEDED;case dr.RESOURCE_EXHAUSTED:return ae.RESOURCE_EXHAUSTED;case dr.INTERNAL:return ae.INTERNAL;case dr.UNAVAILABLE:return ae.UNAVAILABLE;case dr.UNAUTHENTICATED:return ae.UNAUTHENTICATED;case dr.INVALID_ARGUMENT:return ae.INVALID_ARGUMENT;case dr.NOT_FOUND:return ae.NOT_FOUND;case dr.ALREADY_EXISTS:return ae.ALREADY_EXISTS;case dr.PERMISSION_DENIED:return ae.PERMISSION_DENIED;case dr.FAILED_PRECONDITION:return ae.FAILED_PRECONDITION;case dr.ABORTED:return ae.ABORTED;case dr.OUT_OF_RANGE:return ae.OUT_OF_RANGE;case dr.UNIMPLEMENTED:return ae.UNIMPLEMENTED;case dr.DATA_LOSS:return ae.DATA_LOSS;default:return Xe()}}(sr=dr||(dr={}))[sr.OK=0]="OK",sr[sr.CANCELLED=1]="CANCELLED",sr[sr.UNKNOWN=2]="UNKNOWN",sr[sr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",sr[sr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",sr[sr.NOT_FOUND=5]="NOT_FOUND",sr[sr.ALREADY_EXISTS=6]="ALREADY_EXISTS",sr[sr.PERMISSION_DENIED=7]="PERMISSION_DENIED",sr[sr.UNAUTHENTICATED=16]="UNAUTHENTICATED",sr[sr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",sr[sr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",sr[sr.ABORTED=10]="ABORTED",sr[sr.OUT_OF_RANGE=11]="OUT_OF_RANGE",sr[sr.UNIMPLEMENTED=12]="UNIMPLEMENTED",sr[sr.INTERNAL=13]="INTERNAL",sr[sr.UNAVAILABLE=14]="UNAVAILABLE",sr[sr.DATA_LOSS=15]="DATA_LOSS";const xu=new gt([4294967295,4294967295],0);function rl(l){const e=function Yo(){return new TextEncoder}().encode(l),r=new nt;return r.update(e),new Uint8Array(r.digest())}function ba(l){const e=new DataView(l.buffer),r=e.getUint32(0,!0),s=e.getUint32(4,!0),u=e.getUint32(8,!0),m=e.getUint32(12,!0);return[new gt([r,s],0),new gt([u,m],0)]}class Wi{constructor(e,r,s){if(this.bitmap=e,this.padding=r,this.hashCount=s,r<0||r>=8)throw new ms(`Invalid padding: ${r}`);if(s<0)throw new ms(`Invalid hash count: ${s}`);if(e.length>0&&0===this.hashCount)throw new ms(`Invalid hash count: ${s}`);if(0===e.length&&0!==r)throw new ms(`Invalid padding when bitmap length is 0: ${r}`);this.Ie=8*e.length-r,this.Te=gt.fromNumber(this.Ie)}Ee(e,r,s){let u=e.add(r.multiply(gt.fromNumber(s)));return 1===u.compare(xu)&&(u=new gt([u.getBits(0),u.getBits(1)],0)),u.modulo(this.Te).toNumber()}de(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Ie)return!1;const r=rl(e),[s,u]=ba(r);for(let m=0;m<this.hashCount;m++){const v=this.Ee(s,u,m);if(!this.de(v))return!1}return!0}static create(e,r,s){const u=e%8==0?0:8-e%8,m=new Uint8Array(Math.ceil(e/8)),v=new Wi(m,u,r);return s.forEach(D=>v.insert(D)),v}insert(e){if(0===this.Ie)return;const r=rl(e),[s,u]=ba(r);for(let m=0;m<this.hashCount;m++){const v=this.Ee(s,u,m);this.Ae(v)}}Ae(e){const r=Math.floor(e/8);this.bitmap[r]|=1<<e%8}}class ms extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class wo{constructor(e,r,s,u,m){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=s,this.documentUpdates=u,this.resolvedLimboDocuments=m}static createSynthesizedRemoteEventForCurrentChange(e,r,s){const u=new Map;return u.set(e,wc.createSynthesizedTargetChangeForCurrentChange(e,r,s)),new wo(Ht.min(),u,new Or(Ot),Ur(),Vn())}}class wc{constructor(e,r,s,u,m){this.resumeToken=e,this.current=r,this.addedDocuments=s,this.modifiedDocuments=u,this.removedDocuments=m}static createSynthesizedTargetChangeForCurrentChange(e,r,s){return new wc(s,r,Vn(),Vn(),Vn())}}class Rs{constructor(e,r,s,u){this.Re=e,this.removedTargetIds=r,this.key=s,this.Ve=u}}class Zo{constructor(e,r){this.targetId=e,this.me=r}}class Tc{constructor(e,r,s=$r.EMPTY_BYTE_STRING,u=null){this.state=e,this.targetIds=r,this.resumeToken=s,this.cause=u}}class il{constructor(){this.fe=0,this.ge=ol(),this.pe=$r.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Vn(),r=Vn(),s=Vn();return this.ge.forEach((u,m)=>{switch(m){case 0:e=e.add(u);break;case 2:r=r.add(u);break;case 1:s=s.add(u);break;default:Xe()}}),new wc(this.pe,this.ye,e,r,s)}Ce(){this.we=!1,this.ge=ol()}Fe(e,r){this.we=!0,this.ge=this.ge.insert(e,r)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Et(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class Bl{constructor(e){this.Le=e,this.Be=new Map,this.ke=Ur(),this.qe=ha(),this.Qe=new Or(Ot)}Ke(e){for(const r of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(r,e.Ve):this.Ue(r,e.key,e.Ve);for(const r of e.removedTargetIds)this.Ue(r,e.key,e.Ve)}We(e){this.forEachTarget(e,r=>{const s=this.Ge(r);switch(e.state){case 0:this.ze(r)&&s.De(e.resumeToken);break;case 1:s.Oe(),s.Se||s.Ce(),s.De(e.resumeToken);break;case 2:s.Oe(),s.Se||this.removeTarget(r);break;case 3:this.ze(r)&&(s.Ne(),s.De(e.resumeToken));break;case 4:this.ze(r)&&(this.je(r),s.De(e.resumeToken));break;default:Xe()}})}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.Be.forEach((s,u)=>{this.ze(u)&&r(u)})}He(e){const r=e.targetId,s=e.me.count,u=this.Je(r);if(u){const m=u.target;if($(m))if(0===s){const v=new wt(m.path);this.Ue(r,v,mr.newNoDocument(v,Ht.min()))}else Et(1===s);else{const v=this.Ye(r);if(v!==s){const D=this.Ze(e),k=D?this.Xe(D,e,v):1;0!==k&&(this.je(r),this.Qe=this.Qe.insert(r,2===k?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Ze(e){const r=e.me.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:s="",padding:u=0},hashCount:m=0}=r;let v,D;try{v=Qi(s).toUint8Array()}catch(k){if(k instanceof Qs)return Jt("Decoding the base64 bloom filter in existence filter failed ("+k.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw k}try{D=new Wi(v,u,m)}catch(k){return Jt(k instanceof ms?"BloomFilter error: ":"Applying bloom filter failed: ",k),null}return 0===D.Ie?null:D}Xe(e,r,s){return r.me.count===s-this.nt(e,r.targetId)?0:2}nt(e,r){const s=this.Le.getRemoteKeysForTarget(r);let u=0;return s.forEach(m=>{const v=this.Le.tt(),D=`projects/${v.projectId}/databases/${v.database}/documents/${m.path.canonicalString()}`;e.mightContain(D)||(this.Ue(r,m,null),u++)}),u}rt(e){const r=new Map;this.Be.forEach((m,v)=>{const D=this.Je(v);if(D){if(m.current&&$(D.target)){const k=new wt(D.target.path);null!==this.ke.get(k)||this.it(v,k)||this.Ue(v,k,mr.newNoDocument(k,e))}m.be&&(r.set(v,m.ve()),m.Ce())}});let s=Vn();this.qe.forEach((m,v)=>{let D=!0;v.forEachWhile(k=>{const j=this.Je(k);return!j||"TargetPurposeLimboResolution"===j.purpose||(D=!1,!1)}),D&&(s=s.add(m))}),this.ke.forEach((m,v)=>v.setReadTime(e));const u=new wo(e,r,this.Qe,this.ke,s);return this.ke=Ur(),this.qe=ha(),this.Qe=new Or(Ot),u}$e(e,r){if(!this.ze(e))return;const s=this.it(e,r.key)?2:0;this.Ge(e).Fe(r.key,s),this.ke=this.ke.insert(r.key,r),this.qe=this.qe.insert(r.key,this.st(r.key).add(e))}Ue(e,r,s){if(!this.ze(e))return;const u=this.Ge(e);this.it(e,r)?u.Fe(r,1):u.Me(r),this.qe=this.qe.insert(r,this.st(r).delete(e)),s&&(this.ke=this.ke.insert(r,s))}removeTarget(e){this.Be.delete(e)}Ye(e){const r=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let r=this.Be.get(e);return r||(r=new il,this.Be.set(e,r)),r}st(e){let r=this.qe.get(e);return r||(r=new vr(Ot),this.qe=this.qe.insert(e,r)),r}ze(e){const r=null!==this.Je(e);return r||rt("WatchChangeAggregator","Detected inactive target",e),r}Je(e){const r=this.Be.get(e);return r&&r.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new il),this.Le.getRemoteKeysForTarget(e).forEach(r=>{this.Ue(e,r,null)})}it(e,r){return this.Le.getRemoteKeysForTarget(e).has(r)}}function ha(){return new Or(wt.comparator)}function ol(){return new Or(wt.comparator)}const Nn={asc:"ASCENDING",desc:"DESCENDING"},Cc={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Mh={and:"AND",or:"OR"};class Ph{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function Ul(l,e){return l.useProto3Json||Jn(e)?e:{value:e}}function sl(l,e){return l.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function jl(l,e){return l.useProto3Json?e.toBase64():e.toUint8Array()}function Ac(l,e){return sl(l,e.toTimestamp())}function Ti(l){return Et(!!l),Ht.fromTimestamp(function(r){const s=Pi(r);return new Hn(s.seconds,s.nanos)}(l))}function $l(l,e){return Mu(l,e).canonicalString()}function Mu(l,e){const r=(u=l,new zt(["projects",u.projectId,"databases",u.database])).child("documents");var u;return void 0===e?r:r.child(e)}function Dc(l){const e=zt.fromString(l);return Et(tr(e)),e}function Ea(l,e){return $l(l.databaseId,e.path)}function Je(l,e){const r=Dc(e);if(r.get(1)!==l.databaseId.projectId)throw new ge(ae.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+l.databaseId.projectId);if(r.get(3)!==l.databaseId.database)throw new ge(ae.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+l.databaseId.database);return new wt(Vi(r))}function pr(l,e){return $l(l.databaseId,e)}function Hl(l){return new zt(["projects",l.databaseId.projectId,"databases",l.databaseId.database]).canonicalString()}function Vi(l){return Et(l.length>4&&"documents"===l.get(4)),l.popFirst(5)}function zl(l,e,r){return{name:Ea(l,e),fields:r.value.mapValue.fields}}function al(l,e){return{documents:[pr(l,e.path)]}}function T(l,e){const r={structuredQuery:{}},s=e.path;let u;null!==e.collectionGroup?(u=s,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(u=s.popLast(),r.structuredQuery.from=[{collectionId:s.lastSegment()}]),r.parent=pr(l,u);const m=function(j){if(0!==j.length)return Un(qt.create(j,"and"))}(e.filters);m&&(r.structuredQuery.where=m);const v=function(j){if(0!==j.length)return j.map(ee=>{return{field:je((we=ee).field),direction:ne(we.dir)};var we})}(e.orderBy);v&&(r.structuredQuery.orderBy=v);const D=Ul(l,e.limit);return null!==D&&(r.structuredQuery.limit=D),e.startAt&&(r.structuredQuery.startAt={before:(j=e.startAt).inclusive,values:j.position}),e.endAt&&(r.structuredQuery.endAt=function(j){return{before:!j.inclusive,values:j.position}}(e.endAt)),{_t:r,parent:u};var j}function w(l){let e=function Sc(l){const e=Dc(l);return 4===e.length?zt.emptyPath():Vi(e)}(l.parent);const r=l.structuredQuery,s=r.from?r.from.length:0;let u=null;if(s>0){Et(1===s);const ee=r.from[0];ee.allDescendants?u=ee.collectionId:e=e.child(ee.collectionId)}let m=[];r.where&&(m=function(ce){const we=B(ce);return we instanceof qt&&Ts(we)?we.getFilters():[we]}(r.where));let v=[];r.orderBy&&(v=r.orderBy.map(we=>{return new ki(Vt((dt=we).field),function(vt){switch(vt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(dt.direction));var dt}));let D=null;r.limit&&(D=function(ce){let we;return we="object"==typeof ce?ce.value:ce,Jn(we)?null:we}(r.limit));let k=null;var ce;r.startAt&&(k=new Ei((ce=r.startAt).values||[],!!ce.before));let j=null;return r.endAt&&(j=function(ce){return new Ei(ce.values||[],!ce.before)}(r.endAt)),function Ft(l,e,r,s,u,m,v,D){return new ye(l,e,r,s,u,m,v,D)}(e,u,v,m,D,"F",k,j)}function B(l){return void 0!==l.unaryFilter?function(r){switch(r.unaryFilter.op){case"IS_NAN":const s=Vt(r.unaryFilter.field);return _n.create(s,"==",{doubleValue:NaN});case"IS_NULL":const u=Vt(r.unaryFilter.field);return _n.create(u,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const m=Vt(r.unaryFilter.field);return _n.create(m,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const v=Vt(r.unaryFilter.field);return _n.create(v,"!=",{nullValue:"NULL_VALUE"});default:return Xe()}}(l):void 0!==l.fieldFilter?_n.create(Vt((r=l).fieldFilter.field),function(u){switch(u){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Xe()}}(r.fieldFilter.op),r.fieldFilter.value):void 0!==l.compositeFilter?function(r){return qt.create(r.compositeFilter.filters.map(s=>B(s)),function(u){switch(u){case"AND":return"and";case"OR":return"or";default:return Xe()}}(r.compositeFilter.op))}(l):Xe();var r}function ne(l){return Nn[l]}function he(l){return Cc[l]}function Ke(l){return Mh[l]}function je(l){return{fieldPath:l.canonicalString()}}function Vt(l){return rr.fromServerFormat(l.fieldPath)}function Un(l){return l instanceof _n?function(r){if("=="===r.op){if(Lr(r.value))return{unaryFilter:{field:je(r.field),op:"IS_NAN"}};if(Oi(r.value))return{unaryFilter:{field:je(r.field),op:"IS_NULL"}}}else if("!="===r.op){if(Lr(r.value))return{unaryFilter:{field:je(r.field),op:"IS_NOT_NAN"}};if(Oi(r.value))return{unaryFilter:{field:je(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:je(r.field),op:he(r.op),value:r.value}}}(l):l instanceof qt?function(r){const s=r.getFilters().map(u=>Un(u));return 1===s.length?s[0]:{compositeFilter:{op:Ke(r.op),filters:s}}}(l):Xe()}function xr(l){const e=[];return l.fields.forEach(r=>e.push(r.canonicalString())),{fieldPaths:e}}function tr(l){return l.length>=4&&"projects"===l.get(0)&&"databases"===l.get(2)}class ui{constructor(e,r,s,u,m=Ht.min(),v=Ht.min(),D=$r.EMPTY_BYTE_STRING,k=null){this.target=e,this.targetId=r,this.purpose=s,this.sequenceNumber=u,this.snapshotVersion=m,this.lastLimboFreeSnapshotVersion=v,this.resumeToken=D,this.expectedCount=k}withSequenceNumber(e){return new ui(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new ui(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ui(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ui(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Ia{constructor(e){this.ct=e}}function to(l){const e=w({parent:l.parent,structuredQuery:l.structuredQuery});return"LAST"===l.limitType?Zs(e,e.limit,"L"):e}class Jo{constructor(){}It(e,r){this.Tt(e,r),r.Et()}Tt(e,r){if("nullValue"in e)this.dt(r,5);else if("booleanValue"in e)this.dt(r,10),r.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(r,15),r.At(kr(e.integerValue));else if("doubleValue"in e){const s=kr(e.doubleValue);isNaN(s)?this.dt(r,13):(this.dt(r,15),Rn(s)?r.At(0):r.At(s))}else if("timestampValue"in e){let s=e.timestampValue;this.dt(r,20),"string"==typeof s&&(s=Pi(s)),r.Rt(`${s.seconds||""}`),r.At(s.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,r),this.ft(r);else if("bytesValue"in e)this.dt(r,30),r.gt(Qi(e.bytesValue)),this.ft(r);else if("referenceValue"in e)this.yt(e.referenceValue,r);else if("geoPointValue"in e){const s=e.geoPointValue;this.dt(r,45),r.At(s.latitude||0),r.At(s.longitude||0)}else"mapValue"in e?Ao(e)?this.dt(r,Number.MAX_SAFE_INTEGER):os(e)?this.wt(e.mapValue,r):(this.St(e.mapValue,r),this.ft(r)):"arrayValue"in e?(this.bt(e.arrayValue,r),this.ft(r)):Xe()}Vt(e,r){this.dt(r,25),this.Dt(e,r)}Dt(e,r){r.Rt(e)}St(e,r){const s=e.fields||{};this.dt(r,55);for(const u of Object.keys(s))this.Vt(u,r),this.Tt(s[u],r)}wt(e,r){var s,u;const m=e.fields||{};this.dt(r,53);const v="value",D=(null===(u=null===(s=m[v].arrayValue)||void 0===s?void 0:s.values)||void 0===u?void 0:u.length)||0;this.dt(r,15),r.At(kr(D)),this.Vt(v,r),this.Tt(m[v],r)}bt(e,r){const s=e.values||[];this.dt(r,50);for(const u of s)this.Tt(u,r)}yt(e,r){this.dt(r,37),wt.fromName(e).path.forEach(s=>{this.dt(r,60),this.Dt(s,r)})}dt(e,r){e.At(r)}ft(e){e.At(2)}}Jo.vt=new Jo;class wd{constructor(){this.un=new Nu}addToCollectionParentIndex(e,r){return this.un.add(r),xe.resolve()}getCollectionParents(e,r){return xe.resolve(this.un.getEntries(r))}addFieldIndex(e,r){return xe.resolve()}deleteFieldIndex(e,r){return xe.resolve()}deleteAllFieldIndexes(e){return xe.resolve()}createTargetIndexes(e,r){return xe.resolve()}getDocumentsMatchingTarget(e,r){return xe.resolve(null)}getIndexType(e,r){return xe.resolve(0)}getFieldIndexes(e,r){return xe.resolve([])}getNextCollectionGroupToUpdate(e){return xe.resolve(null)}getMinOffset(e,r){return xe.resolve(jr.min())}getMinOffsetFromCollectionGroup(e,r){return xe.resolve(jr.min())}updateCollectionGroup(e,r,s){return xe.resolve()}updateIndexEntries(e,r){return xe.resolve()}}class Nu{constructor(){this.index={}}add(e){const r=e.lastSegment(),s=e.popLast(),u=this.index[r]||new vr(zt.comparator),m=!u.has(s);return this.index[r]=u.add(s),m}has(e){const r=e.lastSegment(),s=e.popLast(),u=this.index[r];return u&&u.has(s)}getEntries(e){return(this.index[e]||new vr(zt.comparator)).toArray()}}new Uint8Array(0);class _s{constructor(e,r,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=s}static withCacheSize(e){return new _s(e,_s.DEFAULT_COLLECTION_PERCENTILE,_s.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}_s.DEFAULT_COLLECTION_PERCENTILE=10,_s.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,_s.DEFAULT=new _s(41943040,_s.DEFAULT_COLLECTION_PERCENTILE,_s.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),_s.DISABLED=new _s(-1,0,0);class Fc{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Fc(0)}static kn(){return new Fc(-1)}}class fp{constructor(){this.changes=new Rr(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,mr.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const s=this.changes.get(r);return void 0!==s?xe.resolve(s):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class xd{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}class Md{constructor(e,r,s,u){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=s,this.indexManager=u}getDocument(e,r){let s=null;return this.documentOverlayCache.getOverlay(e,r).next(u=>(s=u,this.remoteDocumentCache.getEntry(e,r))).next(u=>(null!==s&&Ar(s.mutation,u,Mi.empty(),Hn.now()),u))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next(s=>this.getLocalViewOfDocuments(e,s,Vn()).next(()=>s))}getLocalViewOfDocuments(e,r,s=Vn()){const u=Bo();return this.populateOverlays(e,u,r).next(()=>this.computeViews(e,r,u,s).next(m=>{let v=Cs();return m.forEach((D,k)=>{v=v.insert(D,k.overlayedDocument)}),v}))}getOverlayedDocuments(e,r){const s=Bo();return this.populateOverlays(e,s,r).next(()=>this.computeViews(e,r,s,Vn()))}populateOverlays(e,r,s){const u=[];return s.forEach(m=>{r.has(m)||u.push(m)}),this.documentOverlayCache.getOverlays(e,u).next(m=>{m.forEach((v,D)=>{r.set(v,D)})})}computeViews(e,r,s,u){let m=Ur();const v=bo(),D=bo();return r.forEach((k,j)=>{const ee=s.get(j.key);u.has(j.key)&&(void 0===ee||ee.mutation instanceof Eo)?m=m.insert(j.key,j):void 0!==ee?(v.set(j.key,ee.mutation.getFieldMask()),Ar(ee.mutation,j,ee.mutation.getFieldMask(),Hn.now())):v.set(j.key,Mi.empty())}),this.recalculateAndSaveOverlays(e,m).next(k=>(k.forEach((j,ee)=>v.set(j,ee)),r.forEach((j,ee)=>{var ce;return D.set(j,new xd(ee,null!==(ce=v.get(j))&&void 0!==ce?ce:null))}),D))}recalculateAndSaveOverlays(e,r){const s=bo();let u=new Or((v,D)=>v-D),m=Vn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next(v=>{for(const D of v)D.keys().forEach(k=>{const j=r.get(k);if(null===j)return;let ee=s.get(k)||Mi.empty();ee=D.applyToLocalView(j,ee),s.set(k,ee);const ce=(u.get(D.batchId)||Vn()).add(k);u=u.insert(D.batchId,ce)})}).next(()=>{const v=[],D=u.getReverseIterator();for(;D.hasNext();){const k=D.getNext(),j=k.key,ee=k.value,ce=Zc();ee.forEach(we=>{if(!m.has(we)){const Ve=Zn(r.get(we),s.get(we));null!==Ve&&ce.set(we,Ve),m=m.add(we)}}),v.push(this.documentOverlayCache.saveOverlays(e,j,ce))}return xe.waitFor(v)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,r,s,u){return wt.isDocumentKey((v=r).path)&&null===v.collectionGroup&&0===v.filters.length?this.getDocumentsMatchingDocumentQuery(e,r.path):function ls(l){return null!==l.collectionGroup}(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,s,u):this.getDocumentsMatchingCollectionQuery(e,r,s,u);var v}getNextDocuments(e,r,s,u){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,s,u).next(m=>{const v=u-m.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,s.largestBatchId,u-m.size):xe.resolve(Bo());let D=-1,k=m;return v.next(j=>xe.forEach(j,(ee,ce)=>(D<ce.largestBatchId&&(D=ce.largestBatchId),m.get(ee)?xe.resolve():this.remoteDocumentCache.getEntry(e,ee).next(we=>{k=k.insert(ee,we)}))).next(()=>this.populateOverlays(e,j,m)).next(()=>this.computeViews(e,k,j,Vn())).next(ee=>({batchId:D,changes:Wa(ee)})))})}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new wt(r)).next(s=>{let u=Cs();return s.isFoundDocument()&&(u=u.insert(s.key,s)),u})}getDocumentsMatchingCollectionGroupQuery(e,r,s,u){const m=r.collectionGroup;let v=Cs();return this.indexManager.getCollectionParents(e,m).next(D=>xe.forEach(D,k=>{const j=(ce=r,we=k.child(m),new ye(we,null,ce.explicitOrderBy.slice(),ce.filters.slice(),ce.limit,ce.limitType,ce.startAt,ce.endAt));var ce,we;return this.getDocumentsMatchingCollectionQuery(e,j,s,u).next(ee=>{ee.forEach((ce,we)=>{v=v.insert(ce,we)})})}).next(()=>v))}getDocumentsMatchingCollectionQuery(e,r,s,u){let m;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,s.largestBatchId).next(v=>(m=v,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,s,m,u))).next(v=>{m.forEach((k,j)=>{const ee=j.getKey();null===v.get(ee)&&(v=v.insert(ee,mr.newInvalidDocument(ee)))});let D=Cs();return v.forEach((k,j)=>{const ee=m.get(k);void 0!==ee&&Ar(ee.mutation,j,Mi.empty(),Hn.now()),pi(r,j)&&(D=D.insert(k,j))}),D})}}class Ql{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,r){return xe.resolve(this.hr.get(r))}saveBundleMetadata(e,r){return this.hr.set(r.id,{id:(u=r).id,version:u.version,createTime:Ti(u.createTime)}),xe.resolve();var u}getNamedQuery(e,r){return xe.resolve(this.Pr.get(r))}saveNamedQuery(e,r){return this.Pr.set(r.name,{name:(u=r).name,query:to(u.bundledQuery),readTime:Ti(u.readTime)}),xe.resolve();var u}}class Um{constructor(){this.overlays=new Or(wt.comparator),this.Ir=new Map}getOverlay(e,r){return xe.resolve(this.overlays.get(r))}getOverlays(e,r){const s=Bo();return xe.forEach(r,u=>this.getOverlay(e,u).next(m=>{null!==m&&s.set(u,m)})).next(()=>s)}saveOverlays(e,r,s){return s.forEach((u,m)=>{this.ht(e,r,m)}),xe.resolve()}removeOverlaysForBatchId(e,r,s){const u=this.Ir.get(s);return void 0!==u&&(u.forEach(m=>this.overlays=this.overlays.remove(m)),this.Ir.delete(s)),xe.resolve()}getOverlaysForCollection(e,r,s){const u=Bo(),m=r.length+1,v=new wt(r.child("")),D=this.overlays.getIteratorFrom(v);for(;D.hasNext();){const k=D.getNext().value,j=k.getKey();if(!r.isPrefixOf(j.path))break;j.path.length===m&&k.largestBatchId>s&&u.set(k.getKey(),k)}return xe.resolve(u)}getOverlaysForCollectionGroup(e,r,s,u){let m=new Or((j,ee)=>j-ee);const v=this.overlays.getIterator();for(;v.hasNext();){const j=v.getNext().value;if(j.getKey().getCollectionGroup()===r&&j.largestBatchId>s){let ee=m.get(j.largestBatchId);null===ee&&(ee=Bo(),m=m.insert(j.largestBatchId,ee)),ee.set(j.getKey(),j)}}const D=Bo(),k=m.getIterator();for(;k.hasNext()&&(k.getNext().value.forEach((j,ee)=>D.set(j,ee)),!(D.size()>=u)););return xe.resolve(D)}ht(e,r,s){const u=this.overlays.get(s.key);if(null!==u){const v=this.Ir.get(u.largestBatchId).delete(s.key);this.Ir.set(u.largestBatchId,v)}this.overlays=this.overlays.insert(s.key,new Io(r,s));let m=this.Ir.get(r);void 0===m&&(m=Vn(),this.Ir.set(r,m)),this.Ir.set(r,m.add(s.key))}}class jm{constructor(){this.sessionToken=$r.EMPTY_BYTE_STRING}getSessionToken(e){return xe.resolve(this.sessionToken)}setSessionToken(e,r){return this.sessionToken=r,xe.resolve()}}class Bu{constructor(){this.Tr=new vr(Uo.Er),this.dr=new vr(Uo.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,r){const s=new Uo(e,r);this.Tr=this.Tr.add(s),this.dr=this.dr.add(s)}Rr(e,r){e.forEach(s=>this.addReference(s,r))}removeReference(e,r){this.Vr(new Uo(e,r))}mr(e,r){e.forEach(s=>this.removeReference(s,r))}gr(e){const r=new wt(new zt([])),s=new Uo(r,e),u=new Uo(r,e+1),m=[];return this.dr.forEachInRange([s,u],v=>{this.Vr(v),m.push(v.key)}),m}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const r=new wt(new zt([])),s=new Uo(r,e),u=new Uo(r,e+1);let m=Vn();return this.dr.forEachInRange([s,u],v=>{m=m.add(v.key)}),m}containsKey(e){const r=new Uo(e,0),s=this.Tr.firstAfterOrEqual(r);return null!==s&&e.isEqual(s.key)}}class Uo{constructor(e,r){this.key=e,this.wr=r}static Er(e,r){return wt.comparator(e.key,r.key)||Ot(e.wr,r.wr)}static Ar(e,r){return Ot(e.wr,r.wr)||wt.comparator(e.key,r.key)}}class O_{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.Sr=1,this.br=new vr(Uo.Er)}checkEmpty(e){return xe.resolve(0===this.mutationQueue.length)}addMutationBatch(e,r,s,u){const m=this.Sr;this.Sr++;const v=new nl(m,r,s,u);this.mutationQueue.push(v);for(const D of u)this.br=this.br.add(new Uo(D.key,m)),this.indexManager.addToCollectionParentIndex(e,D.key.path.popLast());return xe.resolve(v)}lookupMutationBatch(e,r){return xe.resolve(this.Dr(r))}getNextMutationBatchAfterBatchId(e,r){const u=this.vr(r+1),m=u<0?0:u;return xe.resolve(this.mutationQueue.length>m?this.mutationQueue[m]:null)}getHighestUnacknowledgedBatchId(){return xe.resolve(0===this.mutationQueue.length?-1:this.Sr-1)}getAllMutationBatches(e){return xe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const s=new Uo(r,0),u=new Uo(r,Number.POSITIVE_INFINITY),m=[];return this.br.forEachInRange([s,u],v=>{const D=this.Dr(v.wr);m.push(D)}),xe.resolve(m)}getAllMutationBatchesAffectingDocumentKeys(e,r){let s=new vr(Ot);return r.forEach(u=>{const m=new Uo(u,0),v=new Uo(u,Number.POSITIVE_INFINITY);this.br.forEachInRange([m,v],D=>{s=s.add(D.wr)})}),xe.resolve(this.Cr(s))}getAllMutationBatchesAffectingQuery(e,r){const s=r.path,u=s.length+1;let m=s;wt.isDocumentKey(m)||(m=m.child(""));const v=new Uo(new wt(m),0);let D=new vr(Ot);return this.br.forEachWhile(k=>{const j=k.key.path;return!!s.isPrefixOf(j)&&(j.length===u&&(D=D.add(k.wr)),!0)},v),xe.resolve(this.Cr(D))}Cr(e){const r=[];return e.forEach(s=>{const u=this.Dr(s);null!==u&&r.push(u)}),r}removeMutationBatch(e,r){Et(0===this.Fr(r.batchId,"removed")),this.mutationQueue.shift();let s=this.br;return xe.forEach(r.mutations,u=>{const m=new Uo(u.key,r.batchId);return s=s.delete(m),this.referenceDelegate.markPotentiallyOrphaned(e,u.key)}).next(()=>{this.br=s})}On(e){}containsKey(e,r){const s=new Uo(r,0),u=this.br.firstAfterOrEqual(s);return xe.resolve(r.isEqual(u&&u.key))}performConsistencyCheck(e){return xe.resolve()}Fr(e,r){return this.vr(e)}vr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Dr(e){const r=this.vr(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}class k_{constructor(e){this.Mr=e,this.docs=new Or(wt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const s=r.key,u=this.docs.get(s),m=u?u.size:0,v=this.Mr(r);return this.docs=this.docs.insert(s,{document:r.mutableCopy(),size:v}),this.size+=v-m,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const s=this.docs.get(r);return xe.resolve(s?s.document.mutableCopy():mr.newInvalidDocument(r))}getEntries(e,r){let s=Ur();return r.forEach(u=>{const m=this.docs.get(u);s=s.insert(u,m?m.document.mutableCopy():mr.newInvalidDocument(u))}),xe.resolve(s)}getDocumentsMatchingQuery(e,r,s,u){let m=Ur();const v=r.path,D=new wt(v.child("")),k=this.docs.getIteratorFrom(D);for(;k.hasNext();){const{key:j,value:{document:ee}}=k.getNext();if(!v.isPrefixOf(j.path))break;j.path.length>v.length+1||Co(new jr((l=ee).readTime,l.key,-1),s)<=0||(u.has(ee.key)||pi(r,ee))&&(m=m.insert(ee.key,ee.mutableCopy()))}var l;return xe.resolve(m)}getAllFromCollectionGroup(e,r,s,u){Xe()}Or(e,r){return xe.forEach(this.docs,s=>r(s))}newChangeBuffer(e){return new N_(this)}getSize(e){return xe.resolve(this.size)}}class N_ extends fp{constructor(e){super(),this.cr=e}applyChanges(e){const r=[];return this.changes.forEach((s,u)=>{u.isValidDocument()?r.push(this.cr.addEntry(e,u)):this.cr.removeEntry(s)}),xe.waitFor(r)}getFromCache(e,r){return this.cr.getEntry(e,r)}getAllFromCache(e,r){return this.cr.getEntries(e,r)}}class F_{constructor(e){this.persistence=e,this.Nr=new Rr(r=>cs(r),Xo),this.lastRemoteSnapshotVersion=Ht.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Bu,this.targetCount=0,this.kr=Fc.Bn()}forEachTarget(e,r){return this.Nr.forEach((s,u)=>r(u)),xe.resolve()}getLastRemoteSnapshotVersion(e){return xe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return xe.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),xe.resolve(this.highestTargetId)}setTargetsMetadata(e,r,s){return s&&(this.lastRemoteSnapshotVersion=s),r>this.Lr&&(this.Lr=r),xe.resolve()}Kn(e){this.Nr.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.kr=new Fc(r),this.highestTargetId=r),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,r){return this.Kn(r),this.targetCount+=1,xe.resolve()}updateTargetData(e,r){return this.Kn(r),xe.resolve()}removeTargetData(e,r){return this.Nr.delete(r.target),this.Br.gr(r.targetId),this.targetCount-=1,xe.resolve()}removeTargets(e,r,s){let u=0;const m=[];return this.Nr.forEach((v,D)=>{D.sequenceNumber<=r&&null===s.get(D.targetId)&&(this.Nr.delete(v),m.push(this.removeMatchingKeysForTargetId(e,D.targetId)),u++)}),xe.waitFor(m).next(()=>u)}getTargetCount(e){return xe.resolve(this.targetCount)}getTargetData(e,r){const s=this.Nr.get(r)||null;return xe.resolve(s)}addMatchingKeys(e,r,s){return this.Br.Rr(r,s),xe.resolve()}removeMatchingKeys(e,r,s){this.Br.mr(r,s);const u=this.persistence.referenceDelegate,m=[];return u&&r.forEach(v=>{m.push(u.markPotentiallyOrphaned(e,v))}),xe.waitFor(m)}removeMatchingKeysForTargetId(e,r){return this.Br.gr(r),xe.resolve()}getMatchingKeysForTargetId(e,r){const s=this.Br.yr(r);return xe.resolve(s)}containsKey(e,r){return xe.resolve(this.Br.containsKey(r))}}class Lc{constructor(e,r){this.qr={},this.overlays={},this.Qr=new Wt(0),this.Kr=!1,this.Kr=!0,this.$r=new jm,this.referenceDelegate=e(this),this.Ur=new F_(this),this.indexManager=new wd,this.remoteDocumentCache=new k_(s=>this.referenceDelegate.Wr(s)),this.serializer=new Ia(r),this.Gr=new Ql(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new Um,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let s=this.qr[e.toKey()];return s||(s=new O_(r,this.referenceDelegate),this.qr[e.toKey()]=s),s}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,r,s){rt("MemoryPersistence","Starting transaction:",e);const u=new $m(this.Qr.next());return this.referenceDelegate.zr(),s(u).next(m=>this.referenceDelegate.jr(u).next(()=>m)).toPromise().then(m=>(u.raiseOnCommittedEvent(),m))}Hr(e,r){return xe.or(Object.values(this.qr).map(s=>()=>s.containsKey(e,r)))}}class $m extends _i{constructor(e){super(),this.currentSequenceNumber=e}}class Pd{constructor(e){this.persistence=e,this.Jr=new Bu,this.Yr=null}static Zr(e){return new Pd(e)}get Xr(){if(this.Yr)return this.Yr;throw Xe()}addReference(e,r,s){return this.Jr.addReference(s,r),this.Xr.delete(s.toString()),xe.resolve()}removeReference(e,r,s){return this.Jr.removeReference(s,r),this.Xr.add(s.toString()),xe.resolve()}markPotentiallyOrphaned(e,r){return this.Xr.add(r.toString()),xe.resolve()}removeTarget(e,r){this.Jr.gr(r.targetId).forEach(u=>this.Xr.add(u.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,r.targetId).next(u=>{u.forEach(m=>this.Xr.add(m.toString()))}).next(()=>s.removeTargetData(e,r))}zr(){this.Yr=new Set}jr(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return xe.forEach(this.Xr,s=>{const u=wt.fromPath(s);return this.ei(e,u).next(m=>{m||r.removeEntry(u,Ht.min())})}).next(()=>(this.Yr=null,r.apply(e)))}updateLimboDocument(e,r){return this.ei(e,r).next(s=>{s?this.Xr.delete(r.toString()):this.Xr.add(r.toString())})}Wr(e){return 0}ei(e,r){return xe.or([()=>xe.resolve(this.Jr.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Hr(e,r)])}}class yl{constructor(e,r,s,u){this.targetId=e,this.fromCache=r,this.$i=s,this.Ui=u}static Wi(e,r){let s=Vn(),u=Vn();for(const m of r.docChanges)switch(m.type){case 0:s=s.add(m.doc.key);break;case 1:u=u.add(m.doc.key)}return new yl(e,r.fromCache,s,u)}}class zm{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Gm{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=(0,pe.nr)()?8:function vi(l){const e=l.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}((0,pe.ZQ)())>0?6:4}initialize(e,r){this.Ji=e,this.indexManager=r,this.Gi=!0}getDocumentsMatchingQuery(e,r,s,u){const m={result:null};return this.Yi(e,r).next(v=>{m.result=v}).next(()=>{if(!m.result)return this.Zi(e,r,u,s).next(v=>{m.result=v})}).next(()=>{if(m.result)return;const v=new zm;return this.Xi(e,r,v).next(D=>{if(m.result=D,this.zi)return this.es(e,r,v,D.size)})}).next(()=>m.result)}es(e,r,s,u){return s.documentReadCount<this.ji?(Zt()<=Ue.$b.DEBUG&&rt("QueryEngine","SDK will not create cache indexes for query:",us(r),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),xe.resolve()):(Zt()<=Ue.$b.DEBUG&&rt("QueryEngine","Query:",us(r),"scans",s.documentReadCount,"local documents and returns",u,"documents as results."),s.documentReadCount>this.Hi*u?(Zt()<=Ue.$b.DEBUG&&rt("QueryEngine","The SDK decides to create cache indexes for query:",us(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,li(r))):xe.resolve())}Yi(e,r){if(eo(r))return xe.resolve(null);let s=li(r);return this.indexManager.getIndexType(e,s).next(u=>0===u?null:(null!==r.limit&&1===u&&(r=Zs(r,null,"F"),s=li(r)),this.indexManager.getDocumentsMatchingTarget(e,s).next(m=>{const v=Vn(...m);return this.Ji.getDocuments(e,v).next(D=>this.indexManager.getMinOffset(e,s).next(k=>{const j=this.ts(r,D);return this.ns(r,j,v,k.readTime)?this.Yi(e,Zs(r,null,"F")):this.rs(e,j,r,k)}))})))}Zi(e,r,s,u){return eo(r)||u.isEqual(Ht.min())?xe.resolve(null):this.Ji.getDocuments(e,s).next(m=>{const v=this.ts(r,m);return this.ns(r,v,s,u)?xe.resolve(null):(Zt()<=Ue.$b.DEBUG&&rt("QueryEngine","Re-using previous result from %s to execute query: %s",u.toString(),us(r)),this.rs(e,v,r,function Fs(l,e){const r=l.toTimestamp().seconds,s=l.toTimestamp().nanoseconds+1,u=Ht.fromTimestamp(1e9===s?new Hn(r+1,0):new Hn(r,s));return new jr(u,wt.empty(),e)}(u,-1)).next(D=>D))})}ts(e,r){let s=new vr(Ga(e));return r.forEach((u,m)=>{pi(e,m)&&(s=s.add(m))}),s}ns(e,r,s,u){if(null===e.limit)return!1;if(s.size!==r.size)return!0;const m="F"===e.limitType?r.last():r.first();return!!m&&(m.hasPendingWrites||m.version.compareTo(u)>0)}Xi(e,r,s){return Zt()<=Ue.$b.DEBUG&&rt("QueryEngine","Using full collection scan to execute query:",us(r)),this.Ji.getDocumentsMatchingQuery(e,r,jr.min(),s)}rs(e,r,s,u){return this.Ji.getDocumentsMatchingQuery(e,s,u).next(m=>(r.forEach(v=>{m=m.insert(v.key,v)}),m))}}class Wm{constructor(e,r,s,u){this.persistence=e,this.ss=r,this.serializer=u,this.os=new Or(Ot),this._s=new Rr(m=>cs(m),Xo),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(s)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Md(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.os))}}function es(l,e){return Uu.apply(this,arguments)}function Uu(){return(Uu=(0,le.A)(function*(l,e){const r=me(l);return yield r.persistence.runTransaction("Handle user change","readonly",s=>{let u;return r.mutationQueue.getAllMutationBatches(s).next(m=>(u=m,r.ls(e),r.mutationQueue.getAllMutationBatches(s))).next(m=>{const v=[],D=[];let k=Vn();for(const j of u){v.push(j.batchId);for(const ee of j.mutations)k=k.add(ee.key)}for(const j of m){D.push(j.batchId);for(const ee of j.mutations)k=k.add(ee.key)}return r.localDocuments.getDocuments(s,k).next(j=>({hs:j,removedBatchIds:v,addedBatchIds:D}))})})})).apply(this,arguments)}function L_(l){const e=me(l);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.Ur.getLastRemoteSnapshotVersion(r))}function gp(l,e){const r=me(l);return r.persistence.runTransaction("Get next mutation batch","readonly",s=>(void 0===e&&(e=-1),r.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function $u(l,e,r){return Hu.apply(this,arguments)}function Hu(){return(Hu=(0,le.A)(function*(l,e,r){const s=me(l),u=s.os.get(e),m=r?"readwrite":"readwrite-primary";try{r||(yield s.persistence.runTransaction("Release target",m,v=>s.persistence.referenceDelegate.removeTarget(v,u)))}catch(v){if(!te(v))throw v;rt("LocalStore",`Failed to update sequence numbers for target ${e}: ${v}`)}s.os=s.os.remove(e),s._s.delete(u.target)})).apply(this,arguments)}function zu(l,e,r){const s=me(l);let u=Ht.min(),m=Vn();return s.persistence.runTransaction("Execute query","readwrite",v=>function(k,j,ee){const ce=me(k),we=ce._s.get(ee);return void 0!==we?xe.resolve(ce.os.get(we)):ce.Ur.getTargetData(j,ee)}(s,v,li(e)).next(D=>{if(D)return u=D.lastLimboFreeSnapshotVersion,s.Ur.getMatchingKeysForTargetId(v,D.targetId).next(k=>{m=k})}).next(()=>s.ss.getDocumentsMatchingQuery(v,e,r?u:Ht.min(),r?m:Vn())).next(D=>(function $h(l,e,r){let s=l.us.get(e)||Ht.min();r.forEach((u,m)=>{m.readTime.compareTo(s)>0&&(s=m.readTime)}),l.us.set(e,s)}(s,function ds(l){return l.collectionGroup||(l.path.length%2==1?l.path.lastSegment():l.path.get(l.path.length-2))}(e),D),{documents:D,Ts:m})))}class tc{constructor(){this.activeTargetIds=function Ec(){return bc}()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class nu{constructor(){this.so=new tc,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,s){}addLocalQueryTarget(e,r=!0){return r&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,r,s){this.oo[e]=r}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new tc,Promise.resolve()}handleUserChange(e,r,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class _p{_o(e){}shutdown(){}}class yp{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){rt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){rt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Wh=null;function ru(){return null===Wh?Wh=268435456+Math.round(2147483648*Math.random()):Wh++,"0x"+Wh.toString(16)}const no={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Kh{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}const Po="WebChannelConnection";class vp extends class{constructor(r){this.databaseInfo=r,this.databaseId=r.databaseId;const s=r.ssl?"https":"http",u=encodeURIComponent(this.databaseId.projectId),m=encodeURIComponent(this.databaseId.database);this.Do=s+"://"+r.host,this.vo=`projects/${u}/databases/${m}`,this.Co="(default)"===this.databaseId.database?`project_id=${u}`:`project_id=${u}&database_id=${m}`}get Fo(){return!1}Mo(r,s,u,m,v){const D=ru(),k=this.xo(r,s.toUriEncodedString());rt("RestConnection",`Sending RPC '${r}' ${D}:`,k,u);const j={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(j,m,v),this.No(r,k,j,u).then(ee=>(rt("RestConnection",`Received RPC '${r}' ${D}: `,ee),ee),ee=>{throw Jt("RestConnection",`RPC '${r}' ${D} failed with error: `,ee,"url: ",k,"request:",u),ee})}Lo(r,s,u,m,v,D){return this.Mo(r,s,u,m,v)}Oo(r,s,u){r["X-Goog-Api-Client"]="gl-js/ fire/"+et,r["Content-Type"]="text/plain",this.databaseInfo.appId&&(r["X-Firebase-GMPID"]=this.databaseInfo.appId),s&&s.headers.forEach((m,v)=>r[v]=m),u&&u.headers.forEach((m,v)=>r[v]=m)}xo(r,s){return`${this.Do}/v1/${s}:${no[r]}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,r,s,u){const m=ru();return new Promise((v,D)=>{const k=new mt;k.setWithCredentials(!0),k.listenOnce(Tn.COMPLETE,()=>{try{switch(k.getLastErrorCode()){case yt.NO_ERROR:const ee=k.getResponseJson();rt(Po,`XHR for RPC '${e}' ${m} received:`,JSON.stringify(ee)),v(ee);break;case yt.TIMEOUT:rt(Po,`RPC '${e}' ${m} timed out`),D(new ge(ae.DEADLINE_EXCEEDED,"Request time out"));break;case yt.HTTP_ERROR:const ce=k.getStatus();if(rt(Po,`RPC '${e}' ${m} failed with status:`,ce,"response text:",k.getResponseText()),ce>0){let we=k.getResponseJson();Array.isArray(we)&&(we=we[0]);const Ve=we?.error;if(Ve&&Ve.status&&Ve.message){const dt=function(vt){const fn=vt.toLowerCase().replace(/_/g,"-");return Object.values(ae).indexOf(fn)>=0?fn:ae.UNKNOWN}(Ve.status);D(new ge(dt,Ve.message))}else D(new ge(ae.UNKNOWN,"Server responded with status "+k.getStatus()))}else D(new ge(ae.UNAVAILABLE,"Connection failed."));break;default:Xe()}}finally{rt(Po,`RPC '${e}' ${m} completed.`)}});const j=JSON.stringify(u);rt(Po,`RPC '${e}' ${m} sending request:`,u),k.send(r,"POST",j,s,15)})}Bo(e,r,s){const u=ru(),m=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],v=Mt(),D=lt(),k={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},j=this.longPollingOptions.timeoutSeconds;void 0!==j&&(k.longPollingTimeout=Math.round(1e3*j)),this.useFetchStreams&&(k.useFetchStreams=!0),this.Oo(k.initMessageHeaders,r,s),k.encodeInitMessageHeaders=!0;const ee=m.join("");rt(Po,`Creating RPC '${e}' stream ${u}: ${ee}`,k);const ce=v.createWebChannel(ee,k);let we=!1,Ve=!1;const dt=new Kh({Io:vt=>{Ve?rt(Po,`Not sending because RPC '${e}' stream ${u} is closed:`,vt):(we||(rt(Po,`Opening RPC '${e}' stream ${u} transport.`),ce.open(),we=!0),rt(Po,`RPC '${e}' stream ${u} sending:`,vt),ce.send(vt))},To:()=>ce.close()}),At=(vt,fn,In)=>{vt.listen(fn,gn=>{try{In(gn)}catch(Gn){setTimeout(()=>{throw Gn},0)}})};return At(ce,tn.EventType.OPEN,()=>{Ve||(rt(Po,`RPC '${e}' stream ${u} transport opened.`),dt.yo())}),At(ce,tn.EventType.CLOSE,()=>{Ve||(Ve=!0,rt(Po,`RPC '${e}' stream ${u} transport closed`),dt.So())}),At(ce,tn.EventType.ERROR,vt=>{Ve||(Ve=!0,Jt(Po,`RPC '${e}' stream ${u} transport errored:`,vt),dt.So(new ge(ae.UNAVAILABLE,"The operation could not be completed")))}),At(ce,tn.EventType.MESSAGE,vt=>{var fn;if(!Ve){const In=vt.data[0];Et(!!In);const Gn=In.error||(null===(fn=In[0])||void 0===fn?void 0:fn.error);if(Gn){rt(Po,`RPC '${e}' stream ${u} received error:`,Gn);const Mr=Gn.status;let hr=function(Ae){const ke=dr[Ae];if(void 0!==ke)return Qa(ke)}(Mr),Pe=Gn.message;void 0===hr&&(hr=ae.INTERNAL,Pe="Unknown error status: "+Mr+" with message "+Gn.message),Ve=!0,dt.So(new ge(hr,Pe)),ce.close()}else rt(Po,`RPC '${e}' stream ${u} received:`,In),dt.bo(In)}}),At(D,He.STAT_EVENT,vt=>{vt.stat===ut.PROXY?rt(Po,`RPC '${e}' stream ${u} detected buffering proxy`):vt.stat===ut.NOPROXY&&rt(Po,`RPC '${e}' stream ${u} detected no buffering proxy`)}),setTimeout(()=>{dt.wo()},0),dt}}function Ku(){return typeof document<"u"?document:null}function Ld(l){return new Ph(l,!0)}class qu{constructor(e,r,s=1e3,u=1.5,m=6e4){this.ui=e,this.timerId=r,this.ko=s,this.qo=u,this.Qo=m,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const r=Math.floor(this.Ko+this.zo()),s=Math.max(0,Date.now()-this.Uo),u=Math.max(0,r-s);u>0&&rt("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.Ko} ms, delay with jitter: ${r} ms, last attempt: ${s} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,u,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){null!==this.$o&&(this.$o.skipDelay(),this.$o=null)}cancel(){null!==this.$o&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}class V_{constructor(e,r,s,u,m,v,D,k){this.ui=e,this.Ho=s,this.Jo=u,this.connection=m,this.authCredentialsProvider=v,this.appCheckCredentialsProvider=D,this.listener=k,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new qu(e,r)}n_(){return 1===this.state||5===this.state||this.r_()}r_(){return 2===this.state||3===this.state}start(){this.e_=0,4!==this.state?this.auth():this.i_()}stop(){var e=this;return(0,le.A)(function*(){e.n_()&&(yield e.close(0))})()}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&null===this.Zo&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){var e=this;return(0,le.A)(function*(){if(e.r_())return e.close(0)})()}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,r){var s=this;return(0,le.A)(function*(){s.u_(),s.c_(),s.t_.cancel(),s.Yo++,4!==e?s.t_.reset():r&&r.code===ae.RESOURCE_EXHAUSTED?(Pt(r.toString()),Pt("Using maximum backoff delay to prevent overloading the backend."),s.t_.Wo()):r&&r.code===ae.UNAUTHENTICATED&&3!==s.state&&(s.authCredentialsProvider.invalidateToken(),s.appCheckCredentialsProvider.invalidateToken()),null!==s.stream&&(s.l_(),s.stream.close(),s.stream=null),s.state=e,yield s.listener.mo(r)})()}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),r=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,u])=>{this.Yo===r&&this.P_(s,u)},s=>{e(()=>{const u=new ge(ae.UNKNOWN,"Fetching auth token failed: "+s.message);return this.I_(u)})})}P_(e,r){const s=this.h_(this.Yo);this.stream=this.T_(e,r),this.stream.Eo(()=>{s(()=>this.listener.Eo())}),this.stream.Ro(()=>{s(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(u=>{s(()=>this.I_(u))}),this.stream.onMessage(u=>{s(()=>1==++this.e_?this.E_(u):this.onNext(u))})}i_(){var e=this;this.state=5,this.t_.Go((0,le.A)(function*(){e.state=0,e.start()}))}I_(e){return rt("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return r=>{this.ui.enqueueAndForget(()=>this.Yo===e?r():(rt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Ep extends V_{constructor(e,r,s,u,m,v){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,s,u,v),this.serializer=m}T_(e,r){return this.connection.Bo("Listen",e,r)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const r=function Pu(l,e){let r;if("targetChange"in e){const s="NO_CHANGE"===(j=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===j?1:"REMOVE"===j?2:"CURRENT"===j?3:"RESET"===j?4:Xe(),u=e.targetChange.targetIds||[],m=function(j,ee){return j.useProto3Json?(Et(void 0===ee||"string"==typeof ee),$r.fromBase64String(ee||"")):(Et(void 0===ee||ee instanceof Buffer||ee instanceof Uint8Array),$r.fromUint8Array(ee||new Uint8Array))}(l,e.targetChange.resumeToken),v=e.targetChange.cause,D=v&&function(j){const ee=void 0===j.code?ae.UNKNOWN:Qa(j.code);return new ge(ee,j.message||"")}(v);r=new Tc(s,u,m,D||null)}else if("documentChange"in e){const s=e.documentChange,u=Je(l,s.document.name),m=Ti(s.document.updateTime),v=s.document.createTime?Ti(s.document.createTime):Ht.min(),D=new kn({mapValue:{fields:s.document.fields}}),k=mr.newFoundDocument(u,m,v,D);r=new Rs(s.targetIds||[],s.removedTargetIds||[],k.key,k)}else if("documentDelete"in e){const s=e.documentDelete,u=Je(l,s.document),m=s.readTime?Ti(s.readTime):Ht.min(),v=mr.newNoDocument(u,m);r=new Rs([],s.removedTargetIds||[],v.key,v)}else if("documentRemove"in e){const s=e.documentRemove,u=Je(l,s.document);r=new Rs([],s.removedTargetIds||[],u,null)}else{if(!("filter"in e))return Xe();{const s=e.filter,{count:u=0,unchangedNames:m}=s,v=new Vs(u,m);r=new Zo(s.targetId,v)}}var j;return r}(this.serializer,e),s=function(m){if(!("targetChange"in m))return Ht.min();const v=m.targetChange;return v.targetIds&&v.targetIds.length?Ht.min():v.readTime?Ti(v.readTime):Ht.min()}(e);return this.listener.d_(r,s)}A_(e){const r={};r.database=Hl(this.serializer),r.addTarget=function(m,v){let D;const k=v.target;if(D=$(k)?{documents:al(m,k)}:{query:T(m,k)._t},D.targetId=v.targetId,v.resumeToken.approximateByteSize()>0){D.resumeToken=jl(m,v.resumeToken);const j=Ul(m,v.expectedCount);null!==j&&(D.expectedCount=j)}else if(v.snapshotVersion.compareTo(Ht.min())>0){D.readTime=sl(m,v.snapshotVersion.toTimestamp());const j=Ul(m,v.expectedCount);null!==j&&(D.expectedCount=j)}return D}(this.serializer,e);const s=function O(l,e){const r=function(u){switch(u){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Xe()}}(e.purpose);return null==r?null:{"goog-listen-tags":r}}(0,e);s&&(r.labels=s),this.a_(r)}R_(e){const r={};r.database=Hl(this.serializer),r.removeTarget=e,this.a_(r)}}class bl extends V_{constructor(e,r,s,u,m,v){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,s,u,v),this.serializer=m}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,r){return this.connection.Bo("Write",e,r)}E_(e){return Et(!!e.streamToken),this.lastStreamToken=e.streamToken,Et(!e.writeResults||0===e.writeResults.length),this.listener.f_()}onNext(e){Et(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const r=function Gl(l,e){return l&&l.length>0?(Et(void 0!==e),l.map(r=>function(u,m){let v=Ti(u.updateTime?u.updateTime:m);return v.isEqual(Ht.min())&&(v=Ti(m)),new un(v,u.transformResults||[])}(r,e))):[]}(e.writeResults,e.commitTime),s=Ti(e.commitTime);return this.listener.g_(s,r)}p_(){const e={};e.database=Hl(this.serializer),this.a_(e)}m_(e){const r={streamToken:this.lastStreamToken,writes:e.map(s=>function Us(l,e){let r;if(e instanceof Ii)r={update:zl(l,e.key,e.value)};else if(e instanceof xo)r={delete:Ea(l,e.key)};else if(e instanceof Eo)r={update:zl(l,e.key,e.data),updateMask:xr(e.fieldMask)};else{if(!(e instanceof tl))return Xe();r={verify:Ea(l,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map(s=>function(m,v){const D=v.transform;if(D instanceof fs)return{fieldPath:v.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(D instanceof Ds)return{fieldPath:v.field.canonicalString(),appendMissingElements:{values:D.elements}};if(D instanceof R)return{fieldPath:v.field.canonicalString(),removeAllFromArray:{values:D.elements}};if(D instanceof L)return{fieldPath:v.field.canonicalString(),increment:D.Pe};throw Xe()}(0,s))),e.precondition.isNone||(r.currentDocument=void 0!==(m=e.precondition).updateTime?{updateTime:Ac(l,m.updateTime)}:void 0!==m.exists?{exists:m.exists}:Xe()),r;var m}(this.serializer,s))};this.a_(r)}}class qh extends class{}{constructor(e,r,s,u){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=s,this.serializer=u,this.y_=!1}w_(){if(this.y_)throw new ge(ae.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,r,s,u){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([m,v])=>this.connection.Mo(e,Mu(r,s),u,m,v)).catch(m=>{throw"FirebaseError"===m.name?(m.code===ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),m):new ge(ae.UNKNOWN,m.toString())})}Lo(e,r,s,u,m){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([v,D])=>this.connection.Lo(e,Mu(r,s),u,v,D,m)).catch(v=>{throw"FirebaseError"===v.name?(v.code===ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),v):new ge(ae.UNKNOWN,v.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class B_{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){0===this.S_&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){"Online"===this.state?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,"Online"===e&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const r=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Pt(r),this.D_=!1):rt("OnlineStateTracker",r)}x_(){null!==this.b_&&(this.b_.cancel(),this.b_=null)}}class U_{constructor(e,r,s,u,m){var v=this;this.localStore=e,this.datastore=r,this.asyncQueue=s,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=m,this.k_._o(D=>{s.enqueueAndForget((0,le.A)(function*(){var k;nc(v)&&(rt("RemoteStore","Restarting streams for network reachability change."),yield(k=(0,le.A)(function*(ee){const ce=me(ee);ce.L_.add(4),yield Vd(ce),ce.q_.set("Unknown"),ce.L_.delete(4),yield El(ce)}),function j(ee){return k.apply(this,arguments)})(v))}))}),this.q_=new B_(s,u)}}function El(l){return Qh.apply(this,arguments)}function Qh(){return(Qh=(0,le.A)(function*(l){if(nc(l))for(const e of l.B_)yield e(!0)})).apply(this,arguments)}function Vd(l){return Xh.apply(this,arguments)}function Xh(){return(Xh=(0,le.A)(function*(l){for(const e of l.B_)yield e(!1)})).apply(this,arguments)}function Ip(l,e){const r=me(l);r.N_.has(e.targetId)||(r.N_.set(e.targetId,e),Yh(r)?iu(r):Zu(r).r_()&&Ud(r,e))}function Bd(l,e){const r=me(l),s=Zu(r);r.N_.delete(e),s.r_()&&jd(r,e),0===r.N_.size&&(s.r_()?s.o_():nc(r)&&r.q_.set("Unknown"))}function Ud(l,e){if(l.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ht.min())>0){const r=l.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}Zu(l).A_(e)}function jd(l,e){l.Q_.xe(e),Zu(l).R_(e)}function iu(l){l.Q_=new Bl({getRemoteKeysForTarget:e=>l.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>l.N_.get(e)||null,tt:()=>l.datastore.serializer.databaseId}),Zu(l).start(),l.q_.v_()}function Yh(l){return nc(l)&&!Zu(l).n_()&&l.N_.size>0}function nc(l){return 0===me(l).L_.size}function wp(l){l.Q_=void 0}function Qu(l){return Zh.apply(this,arguments)}function Zh(){return(Zh=(0,le.A)(function*(l){l.q_.set("Online")})).apply(this,arguments)}function Tp(l){return Xu.apply(this,arguments)}function Xu(){return(Xu=(0,le.A)(function*(l){l.N_.forEach((e,r)=>{Ud(l,e)})})).apply(this,arguments)}function Jh(l,e){return Yu.apply(this,arguments)}function Yu(){return(Yu=(0,le.A)(function*(l,e){wp(l),Yh(l)?(l.q_.M_(e),iu(l)):l.q_.set("Unknown")})).apply(this,arguments)}function j_(l,e,r){return Cp.apply(this,arguments)}function Cp(){return Cp=(0,le.A)(function*(l,e,r){if(l.q_.set("Online"),e instanceof Tc&&2===e.state&&e.cause)try{yield(s=(0,le.A)(function*(m,v){const D=v.cause;for(const k of v.targetIds)m.N_.has(k)&&(yield m.remoteSyncer.rejectListen(k,D),m.N_.delete(k),m.Q_.removeTarget(k))}),function u(m,v){return s.apply(this,arguments)})(l,e)}catch(s){rt("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),yield ef(l,s)}else if(e instanceof Rs?l.Q_.Ke(e):e instanceof Zo?l.Q_.He(e):l.Q_.We(e),!r.isEqual(Ht.min()))try{const s=yield L_(l.localStore);r.compareTo(s)>=0&&(yield function(m,v){const D=m.Q_.rt(v);return D.targetChanges.forEach((k,j)=>{if(k.resumeToken.approximateByteSize()>0){const ee=m.N_.get(j);ee&&m.N_.set(j,ee.withResumeToken(k.resumeToken,v))}}),D.targetMismatches.forEach((k,j)=>{const ee=m.N_.get(k);if(!ee)return;m.N_.set(k,ee.withResumeToken($r.EMPTY_BYTE_STRING,ee.snapshotVersion)),jd(m,k);const ce=new ui(ee.target,k,j,ee.sequenceNumber);Ud(m,ce)}),m.remoteSyncer.applyRemoteEvent(D)}(l,r))}catch(s){rt("RemoteStore","Failed to raise snapshot:",s),yield ef(l,s)}var s}),Cp.apply(this,arguments)}function ef(l,e,r){return $d.apply(this,arguments)}function $d(){return($d=(0,le.A)(function*(l,e,r){if(!te(e))throw e;l.L_.add(1),yield Vd(l),l.q_.set("Offline"),r||(r=()=>L_(l.localStore)),l.asyncQueue.enqueueRetryable((0,le.A)(function*(){rt("RemoteStore","Retrying IndexedDB access"),yield r(),l.L_.delete(1),yield El(l)}))})).apply(this,arguments)}function Hd(l,e){return e().catch(r=>ef(l,r,e))}function ou(l){return tf.apply(this,arguments)}function tf(){return(tf=(0,le.A)(function*(l){const e=me(l),r=Bc(e);let s=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;Km(e);)try{const u=yield gp(e.localStore,s);if(null===u){0===e.O_.length&&r.o_();break}s=u.batchId,nf(e,u)}catch(u){yield ef(e,u)}qm(e)&&Qm(e)})).apply(this,arguments)}function Km(l){return nc(l)&&l.O_.length<10}function nf(l,e){l.O_.push(e);const r=Bc(l);r.r_()&&r.V_&&r.m_(e.mutations)}function qm(l){return nc(l)&&!Bc(l).n_()&&l.O_.length>0}function Qm(l){Bc(l).start()}function zs(l){return zd.apply(this,arguments)}function zd(){return(zd=(0,le.A)(function*(l){Bc(l).p_()})).apply(this,arguments)}function Ap(l){return Gd.apply(this,arguments)}function Gd(){return(Gd=(0,le.A)(function*(l){const e=Bc(l);for(const r of l.O_)e.m_(r.mutations)})).apply(this,arguments)}function ys(l,e,r){return su.apply(this,arguments)}function su(){return(su=(0,le.A)(function*(l,e,r){const s=l.O_.shift(),u=Su.from(s,e,r);yield Hd(l,()=>l.remoteSyncer.applySuccessfulWrite(u)),yield ou(l)})).apply(this,arguments)}function Xm(l,e){return rf.apply(this,arguments)}function rf(){return rf=(0,le.A)(function*(l,e){var r;e&&Bc(l).V_&&(yield(r=(0,le.A)(function*(u,m){if(function Dr(l){switch(l){default:return Xe();case ae.CANCELLED:case ae.UNKNOWN:case ae.DEADLINE_EXCEEDED:case ae.RESOURCE_EXHAUSTED:case ae.INTERNAL:case ae.UNAVAILABLE:case ae.UNAUTHENTICATED:return!1;case ae.INVALID_ARGUMENT:case ae.NOT_FOUND:case ae.ALREADY_EXISTS:case ae.PERMISSION_DENIED:case ae.FAILED_PRECONDITION:case ae.ABORTED:case ae.OUT_OF_RANGE:case ae.UNIMPLEMENTED:case ae.DATA_LOSS:return!0}}(D=m.code)&&D!==ae.ABORTED){const v=u.O_.shift();Bc(u).s_(),yield Hd(u,()=>u.remoteSyncer.rejectFailedWrite(v.batchId,m)),yield ou(u)}var D}),function s(u,m){return r.apply(this,arguments)})(l,e)),qm(l)&&Qm(l)}),rf.apply(this,arguments)}function Ym(l,e){return sf.apply(this,arguments)}function sf(){return(sf=(0,le.A)(function*(l,e){const r=me(l);r.asyncQueue.verifyOperationInProgress(),rt("RemoteStore","RemoteStore received new credentials");const s=nc(r);r.L_.add(3),yield Vd(r),s&&r.q_.set("Unknown"),yield r.remoteSyncer.handleCredentialChange(e),r.L_.delete(3),yield El(r)})).apply(this,arguments)}function af(l,e){return Wd.apply(this,arguments)}function Wd(){return(Wd=(0,le.A)(function*(l,e){const r=me(l);e?(r.L_.delete(2),yield El(r)):e||(r.L_.add(2),yield Vd(r),r.q_.set("Unknown"))})).apply(this,arguments)}function Zu(l){return l.K_||(l.K_=function(r,s,u){const m=me(r);return m.w_(),new Ep(s,m.connection,m.authCredentials,m.appCheckCredentials,m.serializer,u)}(l.datastore,l.asyncQueue,{Eo:Qu.bind(null,l),Ro:Tp.bind(null,l),mo:Jh.bind(null,l),d_:j_.bind(null,l)}),l.B_.push(function(){var e=(0,le.A)(function*(r){r?(l.K_.s_(),Yh(l)?iu(l):l.q_.set("Unknown")):(yield l.K_.stop(),wp(l))});return function(r){return e.apply(this,arguments)}}())),l.K_}function Bc(l){return l.U_||(l.U_=function(r,s,u){const m=me(r);return m.w_(),new bl(s,m.connection,m.authCredentials,m.appCheckCredentials,m.serializer,u)}(l.datastore,l.asyncQueue,{Eo:()=>Promise.resolve(),Ro:zs.bind(null,l),mo:Xm.bind(null,l),f_:Ap.bind(null,l),g_:ys.bind(null,l)}),l.B_.push(function(){var e=(0,le.A)(function*(r){r?(l.U_.s_(),yield ou(l)):(yield l.U_.stop(),l.O_.length>0&&(rt("RemoteStore",`Stopping write stream with ${l.O_.length} pending writes`),l.O_=[]))});return function(r){return e.apply(this,arguments)}}())),l.U_}class Dp{constructor(e,r,s,u,m){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=s,this.op=u,this.removalCallback=m,this.deferred=new pt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(v=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,r,s,u,m){const v=Date.now()+s,D=new Dp(e,r,v,u,m);return D.start(s),D}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new ge(ae.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function A(l,e){if(Pt("AsyncQueue",`${e}: ${l}`),te(l))return new ge(ae.UNAVAILABLE,`${e}: ${l}`);throw l}class g{constructor(e){this.comparator=e?(r,s)=>e(r,s)||wt.comparator(r.key,s.key):(r,s)=>wt.comparator(r.key,s.key),this.keyedMap=Cs(),this.sortedSet=new Or(this.comparator)}static emptySet(e){return new g(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((r,s)=>(e(r),!1))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof g)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;r.hasNext();){const u=r.getNext().key,m=s.getNext().key;if(!u.isEqual(m))return!1}return!0}toString(){const e=[];return this.forEach(r=>{e.push(r.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,r){const s=new g;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=r,s}}class b{constructor(){this.W_=new Or(wt.comparator)}track(e){const r=e.doc.key,s=this.W_.get(r);s?0!==e.type&&3===s.type?this.W_=this.W_.insert(r,e):3===e.type&&1!==s.type?this.W_=this.W_.insert(r,{type:s.type,doc:e.doc}):2===e.type&&2===s.type?this.W_=this.W_.insert(r,{type:2,doc:e.doc}):2===e.type&&0===s.type?this.W_=this.W_.insert(r,{type:0,doc:e.doc}):1===e.type&&0===s.type?this.W_=this.W_.remove(r):1===e.type&&2===s.type?this.W_=this.W_.insert(r,{type:1,doc:s.doc}):0===e.type&&1===s.type?this.W_=this.W_.insert(r,{type:2,doc:e.doc}):Xe():this.W_=this.W_.insert(r,e)}G_(){const e=[];return this.W_.inorderTraversal((r,s)=>{e.push(s)}),e}}class x{constructor(e,r,s,u,m,v,D,k,j){this.query=e,this.docs=r,this.oldDocs=s,this.docChanges=u,this.mutatedKeys=m,this.fromCache=v,this.syncStateChanged=D,this.excludesMetadataChanges=k,this.hasCachedResults=j}static fromInitialDocuments(e,r,s,u,m){const v=[];return r.forEach(D=>{v.push({type:0,doc:D})}),new x(e,r,g.emptySet(r),v,s,u,!0,!1,m)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&vc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,s=e.docChanges;if(r.length!==s.length)return!1;for(let u=0;u<r.length;u++)if(r[u].type!==s[u].type||!r[u].doc.isEqual(s[u].doc))return!1;return!0}}class K{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class se{constructor(){this.queries=Se(),this.onlineState="Unknown",this.Y_=new Set}terminate(){!function(r,s){const u=me(r),m=u.queries;u.queries=Se(),m.forEach((v,D)=>{for(const k of D.j_)k.onError(s)})}(this,new ge(ae.ABORTED,"Firestore shutting down"))}}function Se(){return new Rr(l=>Js(l),vc)}function _t(){return(_t=(0,le.A)(function*(l,e){const r=me(l);let s=3;const u=e.query;let m=r.queries.get(u);m?!m.H_()&&e.J_()&&(s=2):(m=new K,s=e.J_()?0:1);try{switch(s){case 0:m.z_=yield r.onListen(u,!0);break;case 1:m.z_=yield r.onListen(u,!1);break;case 2:yield r.onFirstRemoteStoreListen(u)}}catch(v){const D=A(v,`Initialization of query '${us(e.query)}' failed`);return void e.onError(D)}r.queries.set(u,m),m.j_.push(e),e.Z_(r.onlineState),m.z_&&e.X_(m.z_)&&ts(r)})).apply(this,arguments)}function An(){return(An=(0,le.A)(function*(l,e){const r=me(l),s=e.query;let u=3;const m=r.queries.get(s);if(m){const v=m.j_.indexOf(e);v>=0&&(m.j_.splice(v,1),0===m.j_.length?u=e.J_()?0:1:!m.H_()&&e.J_()&&(u=2))}switch(u){case 0:return r.queries.delete(s),r.onUnlisten(s,!0);case 1:return r.queries.delete(s),r.onUnlisten(s,!1);case 2:return r.onLastRemoteStoreUnlisten(s);default:return}})).apply(this,arguments)}function jn(l,e){const r=me(l);let s=!1;for(const u of e){const v=r.queries.get(u.query);if(v){for(const D of v.j_)D.X_(u)&&(s=!0);v.z_=u}}s&&ts(r)}function Gr(l,e,r){const s=me(l),u=s.queries.get(e);if(u)for(const m of u.j_)m.onError(r);s.queries.delete(e)}function ts(l){l.Y_.forEach(e=>{e.next()})}var ks,Uc;(Uc=ks||(ks={})).ea="default",Uc.Cache="cache";class Ju{constructor(e,r,s){this.query=e,this.ta=r,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=s||{}}X_(e){if(!this.options.includeMetadataChanges){const s=[];for(const u of e.docChanges)3!==u.type&&s.push(u);e=new x(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.na?this.ia(e)&&(this.ta.next(e),r=!0):this.sa(e,this.onlineState)&&(this.oa(e),r=!0),this.ra=e,r}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let r=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),r=!0),r}sa(e,r){return!e.fromCache||!this.J_()||(!this.options._a||!("Offline"!==r))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===r)}ia(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}oa(e){e=x.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==ks.Cache}}class ed{constructor(e){this.key=e}}class Il{constructor(e){this.key=e}}class xa{constructor(e,r){this.query=e,this.Ta=r,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Vn(),this.mutatedKeys=Vn(),this.Aa=Ga(e),this.Ra=new g(this.Aa)}get Va(){return this.Ta}ma(e,r){const s=r?r.fa:new b,u=r?r.Ra:this.Ra;let m=r?r.mutatedKeys:this.mutatedKeys,v=u,D=!1;const k="F"===this.query.limitType&&u.size===this.query.limit?u.last():null,j="L"===this.query.limitType&&u.size===this.query.limit?u.first():null;if(e.inorderTraversal((ee,ce)=>{const we=u.get(ee),Ve=pi(this.query,ce)?ce:null,dt=!!we&&this.mutatedKeys.has(we.key),At=!!Ve&&(Ve.hasLocalMutations||this.mutatedKeys.has(Ve.key)&&Ve.hasCommittedMutations);let vt=!1;we&&Ve?we.data.isEqual(Ve.data)?dt!==At&&(s.track({type:3,doc:Ve}),vt=!0):this.ga(we,Ve)||(s.track({type:2,doc:Ve}),vt=!0,(k&&this.Aa(Ve,k)>0||j&&this.Aa(Ve,j)<0)&&(D=!0)):!we&&Ve?(s.track({type:0,doc:Ve}),vt=!0):we&&!Ve&&(s.track({type:1,doc:we}),vt=!0,(k||j)&&(D=!0)),vt&&(Ve?(v=v.add(Ve),m=At?m.add(ee):m.delete(ee)):(v=v.delete(ee),m=m.delete(ee)))}),null!==this.query.limit)for(;v.size>this.query.limit;){const ee="F"===this.query.limitType?v.last():v.first();v=v.delete(ee.key),m=m.delete(ee.key),s.track({type:1,doc:ee})}return{Ra:v,fa:s,ns:D,mutatedKeys:m}}ga(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,s,u){const m=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const v=e.fa.G_();v.sort((ee,ce)=>function(Ve,dt){const At=vt=>{switch(vt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Xe()}};return At(Ve)-At(dt)}(ee.type,ce.type)||this.Aa(ee.doc,ce.doc)),this.pa(s),u=null!=u&&u;const D=r&&!u?this.ya():[],k=0===this.da.size&&this.current&&!u?1:0,j=k!==this.Ea;return this.Ea=k,0!==v.length||j?{snapshot:new x(this.query,e.Ra,m,v,e.mutatedKeys,0===k,j,!1,!!s&&s.resumeToken.approximateByteSize()>0),wa:D}:{wa:D}}Z_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new b,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(r=>this.Ta=this.Ta.add(r)),e.modifiedDocuments.forEach(r=>{}),e.removedDocuments.forEach(r=>this.Ta=this.Ta.delete(r)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Vn(),this.Ra.forEach(s=>{this.Sa(s.key)&&(this.da=this.da.add(s.key))});const r=[];return e.forEach(s=>{this.da.has(s)||r.push(new Il(s))}),this.da.forEach(s=>{e.has(s)||r.push(new ed(s))}),r}ba(e){this.Ta=e.Ts,this.da=Vn();const r=this.ma(e.documents);return this.applyChanges(r,!0)}Da(){return x.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,0===this.Ea,this.hasCachedResults)}}class td{constructor(e,r,s){this.query=e,this.targetId=r,this.view=s}}class lf{constructor(e){this.key=e,this.va=!1}}class Zm{constructor(e,r,s,u,m,v){this.localStore=e,this.remoteStore=r,this.eventManager=s,this.sharedClientState=u,this.currentUser=m,this.maxConcurrentLimboResolutions=v,this.Ca={},this.Fa=new Rr(D=>Js(D),vc),this.Ma=new Map,this.xa=new Set,this.Oa=new Or(wt.comparator),this.Na=new Map,this.La=new Bu,this.Ba={},this.ka=new Map,this.qa=Fc.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return!0===this.Qa}}function Jm(l,e){return Sp.apply(this,arguments)}function Sp(){return(Sp=(0,le.A)(function*(l,e,r=!0){const s=Np(l);let u;const m=s.Fa.get(e);return m?(s.sharedClientState.addLocalQueryTarget(m.targetId),u=m.view.Da()):u=yield eg(s,e,r,!0),u})).apply(this,arguments)}function nd(l,e){return Rp.apply(this,arguments)}function Rp(){return(Rp=(0,le.A)(function*(l,e){const r=Np(l);yield eg(r,e,!0,!1)})).apply(this,arguments)}function eg(l,e,r,s){return tg.apply(this,arguments)}function tg(){return(tg=(0,le.A)(function*(l,e,r,s){const u=yield function ju(l,e){const r=me(l);return r.persistence.runTransaction("Allocate target","readwrite",s=>{let u;return r.Ur.getTargetData(s,e).next(m=>m?(u=m,xe.resolve(u)):r.Ur.allocateTargetId(s).next(v=>(u=new ui(e,v,"TargetPurposeListen",s.currentSequenceNumber),r.Ur.addTargetData(s,u).next(()=>u))))}).then(s=>{const u=r.os.get(s.targetId);return(null===u||s.snapshotVersion.compareTo(u.snapshotVersion)>0)&&(r.os=r.os.insert(s.targetId,s),r._s.set(e,s.targetId)),s})}(l.localStore,li(e)),m=u.targetId,v=l.sharedClientState.addLocalQueryTarget(m,r);let D;return s&&(D=yield function xp(l,e,r,s,u){return Xd.apply(this,arguments)}(l,e,m,"current"===v,u.resumeToken)),l.isPrimaryClient&&r&&Ip(l.remoteStore,u),D})).apply(this,arguments)}function Xd(){return Xd=(0,le.A)(function*(l,e,r,s,u){l.Ka=(ce,we,Ve)=>{return(dt=(0,le.A)(function*(vt,fn,In,gn){let Gn=fn.view.ma(In);Gn.ns&&(Gn=yield zu(vt.localStore,fn.query,!1).then(({documents:be})=>fn.view.ma(be,Gn)));const Mr=gn&&gn.targetChanges.get(fn.targetId),hr=gn&&null!=gn.targetMismatches.get(fn.targetId),Pe=fn.view.applyChanges(Gn,vt.isPrimaryClient,Mr,hr);return Zd(vt,fn.targetId,Pe.wa),Pe.snapshot}),function At(vt,fn,In,gn){return dt.apply(this,arguments)})(l,ce,we,Ve);var dt};const m=yield zu(l.localStore,e,!0),v=new xa(e,m.Ts),D=v.ma(m.documents),k=wc.createSynthesizedTargetChangeForCurrentChange(r,s&&"Offline"!==l.onlineState,u),j=v.applyChanges(D,l.isPrimaryClient,k);Zd(l,r,j.wa);const ee=new td(e,r,v);return l.Fa.set(e,ee),l.Ma.has(r)?l.Ma.get(r).push(e):l.Ma.set(r,[e]),j.snapshot}),Xd.apply(this,arguments)}function Pv(l,e,r){return uf.apply(this,arguments)}function uf(){return(uf=(0,le.A)(function*(l,e,r){const s=me(l),u=s.Fa.get(e),m=s.Ma.get(u.targetId);if(m.length>1)return s.Ma.set(u.targetId,m.filter(v=>!vc(v,e))),void s.Fa.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(u.targetId),s.sharedClientState.isActiveQueryTarget(u.targetId)||(yield $u(s.localStore,u.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(u.targetId),r&&Bd(s.remoteStore,u.targetId),id(s,u.targetId)}).catch(hi))):(id(s,u.targetId),yield $u(s.localStore,u.targetId,!0))})).apply(this,arguments)}function ng(l,e){return jc.apply(this,arguments)}function jc(){return(jc=(0,le.A)(function*(l,e){const r=me(l),s=r.Fa.get(e),u=r.Ma.get(s.targetId);r.isPrimaryClient&&1===u.length&&(r.sharedClientState.removeLocalQueryTarget(s.targetId),Bd(r.remoteStore,s.targetId))})).apply(this,arguments)}function Mp(){return(Mp=(0,le.A)(function*(l,e,r){const s=function mg(l){const e=me(l);return e.remoteStore.remoteSyncer.applySuccessfulWrite=$_.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=ff.bind(null,e),e}(l);try{const u=yield function(v,D){const k=me(v),j=Hn.now(),ee=D.reduce((Ve,dt)=>Ve.add(dt.key),Vn());let ce,we;return k.persistence.runTransaction("Locally write mutations","readwrite",Ve=>{let dt=Ur(),At=Vn();return k.cs.getEntries(Ve,ee).next(vt=>{dt=vt,dt.forEach((fn,In)=>{In.isValidDocument()||(At=At.add(fn))})}).next(()=>k.localDocuments.getOverlayedDocuments(Ve,dt)).next(vt=>{ce=vt;const fn=[];for(const In of D){const gn=Li(In,ce.get(In.key).overlayedDocument);null!=gn&&fn.push(new Eo(In.key,gn,as(gn.value.mapValue),yn.exists(!0)))}return k.mutationQueue.addMutationBatch(Ve,j,fn,D)}).next(vt=>{we=vt;const fn=vt.applyToLocalDocumentSet(ce,At);return k.documentOverlayCache.saveOverlays(Ve,vt.batchId,fn)})}).then(()=>({batchId:we.batchId,changes:Wa(ce)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(u.batchId),function(v,D,k){let j=v.Ba[v.currentUser.toKey()];j||(j=new Or(Ot)),j=j.insert(D,k),v.Ba[v.currentUser.toKey()]=j}(s,u.batchId,r),yield wl(s,u.changes),yield ou(s.remoteStore)}catch(u){const m=A(u,"Failed to persist write");r.reject(m)}})).apply(this,arguments)}function df(l,e){return rd.apply(this,arguments)}function rd(){return(rd=(0,le.A)(function*(l,e){const r=me(l);try{const s=yield function mp(l,e){const r=me(l),s=e.snapshotVersion;let u=r.os;return r.persistence.runTransaction("Apply remote event","readwrite-primary",m=>{const v=r.cs.newChangeBuffer({trackRemovals:!0});u=r.os;const D=[];e.targetChanges.forEach((ee,ce)=>{const we=u.get(ce);if(!we)return;D.push(r.Ur.removeMatchingKeys(m,ee.removedDocuments,ce).next(()=>r.Ur.addMatchingKeys(m,ee.addedDocuments,ce)));let Ve=we.withSequenceNumber(m.currentSequenceNumber);var At,vt,fn;null!==e.targetMismatches.get(ce)?Ve=Ve.withResumeToken($r.EMPTY_BYTE_STRING,Ht.min()).withLastLimboFreeSnapshotVersion(Ht.min()):ee.resumeToken.approximateByteSize()>0&&(Ve=Ve.withResumeToken(ee.resumeToken,s)),u=u.insert(ce,Ve),vt=Ve,fn=ee,(0===(At=we).resumeToken.approximateByteSize()||vt.snapshotVersion.toMicroseconds()-At.snapshotVersion.toMicroseconds()>=3e8||fn.addedDocuments.size+fn.modifiedDocuments.size+fn.removedDocuments.size>0)&&D.push(r.Ur.updateTargetData(m,Ve))});let k=Ur(),j=Vn();if(e.documentUpdates.forEach(ee=>{e.resolvedLimboDocuments.has(ee)&&D.push(r.persistence.referenceDelegate.updateLimboDocument(m,ee))}),D.push(function jh(l,e,r){let s=Vn(),u=Vn();return r.forEach(m=>s=s.add(m)),e.getEntries(l,s).next(m=>{let v=Ur();return r.forEach((D,k)=>{const j=m.get(D);k.isFoundDocument()!==j.isFoundDocument()&&(u=u.add(D)),k.isNoDocument()&&k.version.isEqual(Ht.min())?(e.removeEntry(D,k.readTime),v=v.insert(D,k)):!j.isValidDocument()||k.version.compareTo(j.version)>0||0===k.version.compareTo(j.version)&&j.hasPendingWrites?(e.addEntry(k),v=v.insert(D,k)):rt("LocalStore","Ignoring outdated watch update for ",D,". Current version:",j.version," Watch version:",k.version)}),{Ps:v,Is:u}})}(m,v,e.documentUpdates).next(ee=>{k=ee.Ps,j=ee.Is})),!s.isEqual(Ht.min())){const ee=r.Ur.getLastRemoteSnapshotVersion(m).next(ce=>r.Ur.setTargetsMetadata(m,m.currentSequenceNumber,s));D.push(ee)}return xe.waitFor(D).next(()=>v.apply(m)).next(()=>r.localDocuments.getLocalViewOfDocuments(m,k,j)).next(()=>k)}).then(m=>(r.os=u,m))}(r.localStore,e);e.targetChanges.forEach((u,m)=>{const v=r.Na.get(m);v&&(Et(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1),u.addedDocuments.size>0?v.va=!0:u.modifiedDocuments.size>0?Et(v.va):u.removedDocuments.size>0&&(Et(v.va),v.va=!1))}),yield wl(r,s,e)}catch(s){yield hi(s)}})).apply(this,arguments)}function ig(l,e,r){const s=me(l);if(s.isPrimaryClient&&0===r||!s.isPrimaryClient&&1===r){const u=[];s.Fa.forEach((m,v)=>{const D=v.view.Z_(e);D.snapshot&&u.push(D.snapshot)}),function(v,D){const k=me(v);k.onlineState=D;let j=!1;k.queries.forEach((ee,ce)=>{for(const we of ce.j_)we.Z_(D)&&(j=!0)}),j&&ts(k)}(s.eventManager,e),u.length&&s.Ca.d_(u),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}function og(l,e,r){return Yd.apply(this,arguments)}function Yd(){return(Yd=(0,le.A)(function*(l,e,r){const s=me(l);s.sharedClientState.updateQueryState(e,"rejected",r);const u=s.Na.get(e),m=u&&u.key;if(m){let v=new Or(wt.comparator);v=v.insert(m,mr.newNoDocument(m,Ht.min()));const D=Vn().add(m),k=new wo(Ht.min(),new Map,new Or(Ot),v,D);yield df(s,k),s.Oa=s.Oa.remove(m),s.Na.delete(e),au(s)}else yield $u(s.localStore,e,!1).then(()=>id(s,e,r)).catch(hi)})).apply(this,arguments)}function $_(l,e){return hf.apply(this,arguments)}function hf(){return(hf=(0,le.A)(function*(l,e){const r=me(l),s=e.batch.batchId;try{const u=yield function Vc(l,e){const r=me(l);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const u=e.batch.keys(),m=r.cs.newChangeBuffer({trackRemovals:!0});return function(D,k,j,ee){const ce=j.batch,we=ce.keys();let Ve=xe.resolve();return we.forEach(dt=>{Ve=Ve.next(()=>ee.getEntry(k,dt)).next(At=>{const vt=j.docVersions.get(dt);Et(null!==vt),At.version.compareTo(vt)<0&&(ce.applyToRemoteDocument(At,j),At.isValidDocument()&&(At.setReadTime(j.commitVersion),ee.addEntry(At)))})}),Ve.next(()=>D.mutationQueue.removeMutationBatch(k,ce))}(r,s,e,m).next(()=>m.apply(s)).next(()=>r.mutationQueue.performConsistencyCheck(s)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(s,u,e.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(D){let k=Vn();for(let j=0;j<D.mutationResults.length;++j)D.mutationResults[j].transformResults.length>0&&(k=k.add(D.batch.mutations[j].key));return k}(e))).next(()=>r.localDocuments.getDocuments(s,u))})}(r.localStore,e);cg(r,s,null),ag(r,s),r.sharedClientState.updateMutationState(s,"acknowledged"),yield wl(r,u)}catch(u){yield hi(u)}})).apply(this,arguments)}function ff(l,e,r){return Pp.apply(this,arguments)}function Pp(){return(Pp=(0,le.A)(function*(l,e,r){const s=me(l);try{const u=yield function(v,D){const k=me(v);return k.persistence.runTransaction("Reject batch","readwrite-primary",j=>{let ee;return k.mutationQueue.lookupMutationBatch(j,D).next(ce=>(Et(null!==ce),ee=ce.keys(),k.mutationQueue.removeMutationBatch(j,ce))).next(()=>k.mutationQueue.performConsistencyCheck(j)).next(()=>k.documentOverlayCache.removeOverlaysForBatchId(j,ee,D)).next(()=>k.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(j,ee)).next(()=>k.localDocuments.getDocuments(j,ee))})}(s.localStore,e);cg(s,e,r),ag(s,e),s.sharedClientState.updateMutationState(e,"rejected",r),yield wl(s,u)}catch(u){yield hi(u)}})).apply(this,arguments)}function ag(l,e){(l.ka.get(e)||[]).forEach(r=>{r.resolve()}),l.ka.delete(e)}function cg(l,e,r){const s=me(l);let u=s.Ba[s.currentUser.toKey()];if(u){const m=u.get(e);m&&(r?m.reject(r):m.resolve(),u=u.remove(e)),s.Ba[s.currentUser.toKey()]=u}}function id(l,e,r=null){l.sharedClientState.removeLocalQueryTarget(e);for(const s of l.Ma.get(e))l.Fa.delete(s),r&&l.Ca.$a(s,r);l.Ma.delete(e),l.isPrimaryClient&&l.La.gr(e).forEach(s=>{l.La.containsKey(s)||lg(l,s)})}function lg(l,e){l.xa.delete(e.path.canonicalString());const r=l.Oa.get(e);null!==r&&(Bd(l.remoteStore,r),l.Oa=l.Oa.remove(e),l.Na.delete(r),au(l))}function Zd(l,e,r){for(const s of r)s instanceof ed?(l.La.addReference(s.key,e),ug(l,s)):s instanceof Il?(rt("SyncEngine","Document no longer in limbo: "+s.key),l.La.removeReference(s.key,e),l.La.containsKey(s.key)||lg(l,s.key)):Xe()}function ug(l,e){const r=e.key,s=r.path.canonicalString();l.Oa.get(r)||l.xa.has(s)||(rt("SyncEngine","New document in limbo: "+r),l.xa.add(s),au(l))}function au(l){for(;l.xa.size>0&&l.Oa.size<l.maxConcurrentLimboResolutions;){const e=l.xa.values().next().value;l.xa.delete(e);const r=new wt(zt.fromString(e)),s=l.qa.next();l.Na.set(s,new lf(r)),l.Oa=l.Oa.insert(r,s),Ip(l.remoteStore,new ui(li(En(r.path)),s,"TargetPurposeLimboResolution",Wt.oe))}}function wl(l,e,r){return dg.apply(this,arguments)}function dg(){return dg=(0,le.A)(function*(l,e,r){const s=me(l),u=[],m=[],v=[];var D;s.Fa.isEmpty()||(s.Fa.forEach((D,k)=>{v.push(s.Ka(k,e,r).then(j=>{var ee;if((j||r)&&s.isPrimaryClient){const ce=j?!j.fromCache:null===(ee=r?.targetChanges.get(k.targetId))||void 0===ee?void 0:ee.current;s.sharedClientState.updateQueryState(k.targetId,ce?"current":"not-current")}if(j){u.push(j);const ce=yl.Wi(k.targetId,j);m.push(ce)}}))}),yield Promise.all(v),s.Ca.d_(u),yield(D=(0,le.A)(function*(j,ee){const ce=me(j);try{yield ce.persistence.runTransaction("notifyLocalViewChanges","readwrite",we=>xe.forEach(ee,Ve=>xe.forEach(Ve.$i,dt=>ce.persistence.referenceDelegate.addReference(we,Ve.targetId,dt)).next(()=>xe.forEach(Ve.Ui,dt=>ce.persistence.referenceDelegate.removeReference(we,Ve.targetId,dt)))))}catch(we){if(!te(we))throw we;rt("LocalStore","Failed to update sequence numbers: "+we)}for(const we of ee){const Ve=we.targetId;if(!we.fromCache){const dt=ce.os.get(Ve),vt=dt.withLastLimboFreeSnapshotVersion(dt.snapshotVersion);ce.os=ce.os.insert(Ve,vt)}}}),function k(j,ee){return D.apply(this,arguments)})(s.localStore,m))}),dg.apply(this,arguments)}function hE(l,e){return cu.apply(this,arguments)}function cu(){return(cu=(0,le.A)(function*(l,e){const r=me(l);if(!r.currentUser.isEqual(e)){rt("SyncEngine","User change. New user:",e.toKey());const s=yield es(r.localStore,e);r.currentUser=e,(m=r).ka.forEach(D=>{D.forEach(k=>{k.reject(new ge(ae.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),m.ka.clear(),r.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),yield wl(r,s.hs)}var m})).apply(this,arguments)}function hg(l,e){const r=me(l),s=r.Na.get(e);if(s&&s.va)return Vn().add(s.key);{let u=Vn();const m=r.Ma.get(e);if(!m)return u;for(const v of m){const D=r.Fa.get(v);u=u.unionWith(D.view.Va)}return u}}function Np(l){const e=me(l);return e.remoteStore.remoteSyncer.applyRemoteEvent=df.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=hg.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=og.bind(null,e),e.Ca.d_=jn.bind(null,e.eventManager),e.Ca.$a=Gr.bind(null,e.eventManager),e}let th=(()=>{class l{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(r){var s=this;return(0,le.A)(function*(){s.serializer=Ld(r.databaseInfo.databaseId),s.sharedClientState=s.Wa(r),s.persistence=s.Ga(r),yield s.persistence.start(),s.localStore=s.za(r),s.gcScheduler=s.ja(r,s.localStore),s.indexBackfillerScheduler=s.Ha(r,s.localStore)})()}ja(r,s){return null}Ha(r,s){return null}za(r){return function pp(l,e,r,s){return new Wm(l,e,r,s)}(this.persistence,new Gm,r.initialUser,this.serializer)}Ga(r){return new Lc(Pd.Zr,this.serializer)}Wa(r){return new nu}terminate(){var r=this;return(0,le.A)(function*(){var s,u;null===(s=r.gcScheduler)||void 0===s||s.stop(),null===(u=r.indexBackfillerScheduler)||void 0===u||u.stop(),r.sharedClientState.shutdown(),yield r.persistence.shutdown()})()}}return l.provider={build:()=>new l},l})(),nh=(()=>{class l{initialize(r,s){var u=this;return(0,le.A)(function*(){u.localStore||(u.localStore=r.localStore,u.sharedClientState=r.sharedClientState,u.datastore=u.createDatastore(s),u.remoteStore=u.createRemoteStore(s),u.eventManager=u.createEventManager(s),u.syncEngine=u.createSyncEngine(s,!r.synchronizeTabs),u.sharedClientState.onlineStateHandler=m=>ig(u.syncEngine,m,1),u.remoteStore.remoteSyncer.handleCredentialChange=hE.bind(null,u.syncEngine),yield af(u.remoteStore,u.syncEngine.isPrimaryClient))})()}createEventManager(r){return new se}createDatastore(r){const s=Ld(r.databaseInfo.databaseId),u=new vp(r.databaseInfo);return new qh(r.authCredentials,r.appCheckCredentials,u,s)}createRemoteStore(r){return u=this.localStore,m=this.datastore,v=r.asyncQueue,D=s=>ig(this.syncEngine,s,0),k=yp.D()?new yp:new _p,new U_(u,m,v,D,k);var u,m,v,D,k}createSyncEngine(r,s){return function(m,v,D,k,j,ee,ce){const we=new Zm(m,v,D,k,j,ee);return ce&&(we.Qa=!0),we}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,r.initialUser,r.maxConcurrentLimboResolutions,s)}terminate(){var r=this;return(0,le.A)(function*(){var s,u,m;yield(m=(0,le.A)(function*(D){const k=me(D);rt("RemoteStore","RemoteStore shutting down."),k.L_.add(5),yield Vd(k),k.k_.shutdown(),k.q_.set("Unknown")}),function v(D){return m.apply(this,arguments)})(r.remoteStore),null===(s=r.datastore)||void 0===s||s.terminate(),null===(u=r.eventManager)||void 0===u||u.terminate()})()}}return l.provider={build:()=>new l},l})();class Lp{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Pt("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,r){setTimeout(()=>{this.muted||e(r)},0)}}class Q_{constructor(e,r,s,u,m){var v=this;this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=s,this.databaseInfo=u,this.user=cn.UNAUTHENTICATED,this.clientId=yr.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=m,this.authCredentials.start(s,function(){var D=(0,le.A)(function*(k){rt("FirestoreClient","Received user=",k.uid),yield v.authCredentialListener(k),v.user=k});return function(k){return D.apply(this,arguments)}}()),this.appCheckCredentials.start(s,D=>(rt("FirestoreClient","Received new app check token=",D),this.appCheckCredentialListener(D,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const r=new pt;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,le.A)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),r.resolve()}catch(s){const u=A(s,"Failed to shutdown persistence");r.reject(u)}})),r.promise}}function Bp(l,e){return Up.apply(this,arguments)}function Up(){return Up=(0,le.A)(function*(l,e){l.asyncQueue.verifyOperationInProgress(),rt("FirestoreClient","Initializing OfflineComponentProvider");const r=l.configuration;yield e.initialize(r);let s=r.initialUser;l.setCredentialChangeListener(function(){var u=(0,le.A)(function*(m){s.isEqual(m)||(yield es(e.localStore,m),s=m)});return function(m){return u.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>l.terminate()),l._offlineComponents=e}),Up.apply(this,arguments)}function Fv(l,e){return X_.apply(this,arguments)}function X_(){return(X_=(0,le.A)(function*(l,e){l.asyncQueue.verifyOperationInProgress();const r=yield function Y_(l){return _f.apply(this,arguments)}(l);rt("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(r,l.configuration),l.setCredentialChangeListener(s=>Ym(e.remoteStore,s)),l.setAppCheckTokenChangeListener((s,u)=>Ym(e.remoteStore,u)),l._onlineComponents=e})).apply(this,arguments)}function _f(){return(_f=(0,le.A)(function*(l){if(!l._offlineComponents)if(l._uninitializedComponentsProvider){rt("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Bp(l,l._uninitializedComponentsProvider._offline)}catch(e){if(!("FirebaseError"===(u=e).name?u.code===ae.FAILED_PRECONDITION||u.code===ae.UNIMPLEMENTED:!(typeof DOMException<"u"&&u instanceof DOMException)||22===u.code||20===u.code||11===u.code))throw e;Jt("Error using user provided cache. Falling back to memory cache: "+e),yield Bp(l,new th)}}else rt("FirestoreClient","Using default OfflineComponentProvider"),yield Bp(l,new th);var u;return l._offlineComponents})).apply(this,arguments)}function rh(l){return Z_.apply(this,arguments)}function Z_(){return(Z_=(0,le.A)(function*(l){return l._onlineComponents||(l._uninitializedComponentsProvider?(rt("FirestoreClient","Using user provided OnlineComponentProvider"),yield Fv(l,l._uninitializedComponentsProvider._online)):(rt("FirestoreClient","Using default OnlineComponentProvider"),yield Fv(l,new nh))),l._onlineComponents})).apply(this,arguments)}function ih(l){return jp.apply(this,arguments)}function jp(){return(jp=(0,le.A)(function*(l){const e=yield rh(l),r=e.eventManager;return r.onListen=Jm.bind(null,e.syncEngine),r.onUnlisten=Pv.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=nd.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=ng.bind(null,e.syncEngine),r})).apply(this,arguments)}function yg(l){const e={};return void 0!==l.timeoutSeconds&&(e.timeoutSeconds=l.timeoutSeconds),e}const jv=new Map;function cy(l,e,r){if(!r)throw new ge(ae.INVALID_ARGUMENT,`Function ${l}() cannot be called with an empty ${e}.`)}function oh(l){if(!wt.isDocumentKey(l))throw new ge(ae.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${l} has ${l.length}.`)}function vg(l){if(wt.isDocumentKey(l))throw new ge(ae.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${l} has ${l.length}.`)}function vf(l){if(void 0===l)return"undefined";if(null===l)return"null";if("string"==typeof l)return l.length>20&&(l=`${l.substring(0,20)}...`),JSON.stringify(l);if("number"==typeof l||"boolean"==typeof l)return""+l;if("object"==typeof l){if(l instanceof Array)return"an array";{const e=(s=l).constructor?s.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var s;return"function"==typeof l?"a function":Xe()}function _r(l,e){if("_delegate"in l&&(l=l._delegate),!(l instanceof e)){if(e.name===l.constructor.name)throw new ge(ae.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=vf(l);throw new ge(ae.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return l}class ly{constructor(e){var r,s;if(void 0===e.host){if(void 0!==e.ssl)throw new ge(ae.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(r=e.ssl)||void 0===r||r;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new ge(ae.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function yf(l,e,r,s){if(!0===e&&!0===s)throw new ge(ae.INVALID_ARGUMENT,`${l} and ${r} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=yg(null!==(s=e.experimentalLongPollingOptions)&&void 0!==s?s:{}),function(m){if(void 0!==m.timeoutSeconds){if(isNaN(m.timeoutSeconds))throw new ge(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${m.timeoutSeconds} (must not be NaN)`);if(m.timeoutSeconds<5)throw new ge(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${m.timeoutSeconds} (minimum allowed value is 5)`);if(m.timeoutSeconds>30)throw new ge(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${m.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class sh{constructor(e,r,s,u){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=s,this._app=u,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ly({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ge(ae.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new ge(ae.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ly(e),void 0!==e.credentials&&(this._authCredentials=function(s){if(!s)return new Lt;switch(s.type){case"firstParty":return new Qn(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ge(ae.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){var e=this;return(0,le.A)(function*(){"notTerminated"===e._terminateTask?yield e._terminate():e._terminateTask="notTerminated"})()}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const s=jv.get(r);s&&(rt("ComponentProvider","Removing Datastore"),jv.delete(r),s.terminate())}(this),Promise.resolve()}}class Oo{constructor(e,r,s){this.converter=r,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Oo(this.firestore,e,this._query)}}class ko{constructor(e,r,s){this.converter=r,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ma(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ko(this.firestore,e,this._key)}}class Ma extends Oo{constructor(e,r,s){super(e,r,En(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ko(this.firestore,null,new wt(e))}withConverter(e){return new Ma(this.firestore,e,this._path)}}function Hp(l,e,...r){if(l=(0,pe.Ku)(l),cy("collection","path",e),l instanceof sh){const s=zt.fromString(e,...r);return vg(s),new Ma(l,null,s)}{if(!(l instanceof ko||l instanceof Ma))throw new ge(ae.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=l._path.child(zt.fromString(e,...r));return vg(s),new Ma(l.firestore,null,s)}}function zp(l,e,...r){if(l=(0,pe.Ku)(l),1===arguments.length&&(e=yr.newId()),cy("doc","path",e),l instanceof sh){const s=zt.fromString(e,...r);return oh(s),new ko(l,null,new wt(s))}{if(!(l instanceof ko||l instanceof Ma))throw new ge(ae.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=l._path.child(zt.fromString(e,...r));return oh(s),new ko(l.firestore,l instanceof Ma?l.converter:null,new wt(s))}}class hy{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new qu(this,"async_queue_retry"),this.Vu=()=>{const s=Ku();s&&rt("AsyncQueue","Visibility state changed to "+s.visibilityState),this.t_.jo()},this.mu=e;const r=Ku();r&&"function"==typeof r.addEventListener&&r.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const r=Ku();r&&"function"==typeof r.removeEventListener&&r.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const r=new pt;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}pu(){var e=this;return(0,le.A)(function*(){if(0!==e.Pu.length){try{yield e.Pu[0](),e.Pu.shift(),e.t_.reset()}catch(r){if(!te(r))throw r;rt("AsyncQueue","Operation failed with retryable error: "+r)}e.Pu.length>0&&e.t_.Go(()=>e.pu())}})()}gu(e){const r=this.mu.then(()=>(this.du=!0,e().catch(s=>{throw this.Eu=s,this.du=!1,Pt("INTERNAL UNHANDLED ERROR: ",function(v){let D=v.message||"";return v.stack&&(D=v.stack.includes(v.message)?v.stack:v.message+"\n"+v.stack),D}(s)),s}).then(s=>(this.du=!1,s))));return this.mu=r,r}enqueueAfterDelay(e,r,s){this.fu(),this.Ru.indexOf(e)>-1&&(r=0);const u=Dp.createAndSchedule(this,e,r,s,m=>this.yu(m));return this.Tu.push(u),u}fu(){this.Eu&&Xe()}verifyOperationInProgress(){}wu(){var e=this;return(0,le.A)(function*(){let r;do{r=e.mu,yield r}while(r!==e.mu)})()}Su(e){for(const r of this.Tu)if(r.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((r,s)=>r.targetTimeMs-s.targetTimeMs);for(const r of this.Tu)if(r.skipDelay(),"all"!==e&&r.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const r=this.Tu.indexOf(e);this.Tu.splice(r,1)}}function ah(l){return function(r,s){if("object"!=typeof r||null===r)return!1;const u=r;for(const m of["next","error","complete"])if(m in u&&"function"==typeof u[m])return!0;return!1}(l)}class si extends sh{constructor(e,r,s,u){super(e,r,s,u),this.type="firestore",this._queue=new hy,this._persistenceKey=u?.name||"[DEFAULT]"}_terminate(){var e=this;return(0,le.A)(function*(){if(e._firestoreClient){const r=e._firestoreClient.terminate();e._queue=new hy(r),e._firestoreClient=void 0,yield r}})()}}function Hc(l,e){const r="object"==typeof l?l:(0,Re.Sx)(),s="string"==typeof l?l:e||"(default)",u=(0,Re.j6)(r,"firestore").getImmediate({identifier:s});if(!u._initialized){const m=(0,pe.yU)("firestore");m&&function uy(l,e,r,s={}){var u;const m=(l=_r(l,sh))._getSettings(),v=`${e}:${r}`;if("firestore.googleapis.com"!==m.host&&m.host!==v&&Jt("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),l._setSettings(Object.assign(Object.assign({},m),{host:v,ssl:!1})),s.mockUserToken){let D,k;if("string"==typeof s.mockUserToken)D=s.mockUserToken,k=cn.MOCK_USER;else{D=(0,pe.Fy)(s.mockUserToken,null===(u=l._app)||void 0===u?void 0:u.options.projectId);const j=s.mockUserToken.sub||s.mockUserToken.user_id;if(!j)throw new ge(ae.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");k=new cn(j)}l._authCredentials=new an(new It(D,k))}}(u,...m)}return u}function Zr(l){if(l._terminated)throw new ge(ae.FAILED_PRECONDITION,"The client has already been terminated.");return l._firestoreClient||function Wp(l){var e,r,s;const u=l._freezeSettings(),m=(k=(null===(e=l._app)||void 0===e?void 0:e.options.appId)||"",new Xs(l._databaseId,k,l._persistenceKey,(ee=u).host,ee.ssl,ee.experimentalForceLongPolling,ee.experimentalAutoDetectLongPolling,yg(ee.experimentalLongPollingOptions),ee.useFetchStreams));var k,ee;l._componentsProvider||!(null===(r=u.localCache)||void 0===r)&&r._offlineComponentProvider&&!(null===(s=u.localCache)||void 0===s)&&s._onlineComponentProvider&&(l._componentsProvider={_offline:u.localCache._offlineComponentProvider,_online:u.localCache._onlineComponentProvider}),l._firestoreClient=new Q_(l._authCredentials,l._appCheckCredentials,l._queue,m,l._componentsProvider&&function(D){const k=D?._online.build();return{_offline:D?._offline.build(k),_online:k}}(l._componentsProvider))}(l),l._firestoreClient}class Al{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Al($r.fromBase64String(e))}catch(r){throw new ge(ae.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new Al($r.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Pa{constructor(...e){for(let r=0;r<e.length;++r)if(0===e[r].length)throw new ge(ae.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new rr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class uu{constructor(e){this._methodName=e}}class wg{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new ge(ae.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new ge(ae.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ot(this._lat,e._lat)||Ot(this._long,e._long)}}class du{constructor(e){this._values=(e||[]).map(r=>r)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,u){if(s.length!==u.length)return!1;for(let m=0;m<s.length;++m)if(s[m]!==u[m])return!1;return!0}(this._values,e._values)}}const qv=/^__.*__$/;class qp{constructor(e,r,s){this.data=e,this.fieldMask=r,this.fieldTransforms=s}toMutation(e,r){return null!==this.fieldMask?new Eo(e,this.data,this.fieldMask,r,this.fieldTransforms):new Ii(e,this.data,r,this.fieldTransforms)}}class cd{constructor(e,r,s){this.data=e,this.fieldMask=r,this.fieldTransforms=s}toMutation(e,r){return new Eo(e,this.data,this.fieldMask,r,this.fieldTransforms)}}function oc(l){switch(l){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Xe()}}class hu{constructor(e,r,s,u,m,v){this.settings=e,this.databaseId=r,this.serializer=s,this.ignoreUndefinedProperties=u,void 0===m&&this.vu(),this.fieldTransforms=m||[],this.fieldMask=v||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new hu(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var r;const s=null===(r=this.path)||void 0===r?void 0:r.child(e),u=this.Fu({path:s,xu:!1});return u.Ou(e),u}Nu(e){var r;const s=null===(r=this.path)||void 0===r?void 0:r.child(e),u=this.Fu({path:s,xu:!1});return u.vu(),u}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Yp(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return void 0!==this.fieldMask.find(r=>e.isPrefixOf(r))||void 0!==this.fieldTransforms.find(r=>e.isPrefixOf(r.field))}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(0===e.length)throw this.Bu("Document fields must not be empty");if(oc(this.Cu)&&qv.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class Qp{constructor(e,r,s){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=s||Ld(e)}Qu(e,r,s,u=!1){return new hu({Cu:e,methodName:r,qu:s,path:rr.emptyPath(),xu:!1,ku:u},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function sc(l){const e=l._freezeSettings(),r=Ld(l._databaseId);return new Qp(l._databaseId,!!e.ignoreUndefinedProperties,r)}function fu(l,e,r,s,u,m={}){const v=l.Qu(m.merge||m.mergeFields?2:0,e,r,u);Cf("Data must be an object, but it was:",v,s);const D=Cg(s,v);let k,j;if(m.merge)k=new Mi(v.fieldMask),j=v.fieldTransforms;else if(m.mergeFields){const ee=[];for(const ce of m.mergeFields){const we=ud(e,ce,r);if(!v.contains(we))throw new ge(ae.INVALID_ARGUMENT,`Field '${we}' is specified in your field mask but missing from your input data.`);Af(ee,we)||ee.push(we)}k=new Mi(ee),j=v.fieldTransforms.filter(ce=>k.covers(ce.field))}else k=null,j=v.fieldTransforms;return new qp(new kn(D),k,j)}class ac extends uu{_toFieldTransform(e){if(2!==e.Cu)throw e.Bu(1===e.Cu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof ac}}class ch extends uu{_toFieldTransform(e){return new Ge(e.path,new fs)}isEqual(e){return e instanceof ch}}function mu(l,e){if(Tf(l=(0,pe.Ku)(l)))return Cf("Unsupported field value:",e,l),Cg(l,e);if(l instanceof uu)return function(s,u){if(!oc(u.Cu))throw u.Bu(`${s._methodName}() can only be used with update() and set()`);if(!u.path)throw u.Bu(`${s._methodName}() is not currently supported inside arrays`);const m=s._toFieldTransform(u);m&&u.fieldTransforms.push(m)}(l,e),null;if(void 0===l&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),l instanceof Array){if(e.settings.xu&&4!==e.Cu)throw e.Bu("Nested arrays are not supported");return function(s,u){const m=[];let v=0;for(const D of s){let k=mu(D,u.Lu(v));null==k&&(k={nullValue:"NULL_VALUE"}),m.push(k),v++}return{arrayValue:{values:m}}}(l,e)}return function(s,u){if(null===(s=(0,pe.Ku)(s)))return{nullValue:"NULL_VALUE"};if("number"==typeof s)return As(u.serializer,s);if("boolean"==typeof s)return{booleanValue:s};if("string"==typeof s)return{stringValue:s};if(s instanceof Date){const m=Hn.fromDate(s);return{timestampValue:sl(u.serializer,m)}}if(s instanceof Hn){const m=new Hn(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:sl(u.serializer,m)}}if(s instanceof wg)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Al)return{bytesValue:jl(u.serializer,s._byteString)};if(s instanceof ko){const m=u.databaseId,v=s.firestore._databaseId;if(!v.isEqual(m))throw u.Bu(`Document reference is for database ${v.projectId}/${v.database} but should be for database ${m.projectId}/${m.database}`);return{referenceValue:$l(s.firestore._databaseId||u.databaseId,s._key.path)}}if(s instanceof du)return D=u,{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:s.toArray().map(k=>{if("number"!=typeof k)throw D.Bu("VectorValues must only contain numeric values.");return ta(D.serializer,k)})}}}}};var D;throw u.Bu(`Unsupported field value: ${vf(s)}`)}(l,e)}function Cg(l,e){const r={};return so(l)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ls(l,(s,u)=>{const m=mu(u,e.Mu(s));null!=m&&(r[s]=m)}),{mapValue:{fields:r}}}function Tf(l){return!("object"!=typeof l||null===l||l instanceof Array||l instanceof Date||l instanceof Hn||l instanceof wg||l instanceof Al||l instanceof ko||l instanceof uu||l instanceof du)}function Cf(l,e,r){if(!Tf(r)||"object"!=typeof(u=r)||null===u||Object.getPrototypeOf(u)!==Object.prototype&&null!==Object.getPrototypeOf(u)){const s=vf(r);throw e.Bu("an object"===s?l+" a custom object":l+" "+s)}var u}function ud(l,e,r){if((e=(0,pe.Ku)(e))instanceof Pa)return e._internalPath;if("string"==typeof e)return Ag(l,e);throw Yp("Field path arguments must be of type string or ",l,!1,void 0,r)}const Qv=new RegExp("[~\\*/\\[\\]]");function Ag(l,e,r){if(e.search(Qv)>=0)throw Yp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,l,!1,void 0,r);try{return new Pa(...e.split("."))._internalPath}catch{throw Yp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,l,!1,void 0,r)}}function Yp(l,e,r,s,u){const m=s&&!s.isEmpty(),v=void 0!==u;let D=`Function ${e}() called with invalid data`;r&&(D+=" (via `toFirestore()`)"),D+=". ";let k="";return(m||v)&&(k+=" (found",m&&(k+=` in field ${s}`),v&&(k+=` in document ${u}`),k+=")"),new ge(ae.INVALID_ARGUMENT,D+l+k)}function Af(l,e){return l.some(r=>r.isEqual(e))}class dd{constructor(e,r,s,u,m){this._firestore=e,this._userDataWriter=r,this._key=s,this._document=u,this._converter=m}get id(){return this._key.path.lastSegment()}get ref(){return new ko(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Xv(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(lh("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r)}}}class Xv extends dd{data(){return super.data()}}function lh(l,e){return"string"==typeof e?Ag(l,e):e instanceof Pa?e._internalPath:e._delegate._internalPath}class Jp{convertValue(e,r="none"){switch(br(e)){case 0:return null;case 1:return e.booleanValue;case 2:return kr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(Qi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 11:return this.convertObject(e.mapValue,r);case 10:return this.convertVectorValue(e.mapValue);default:throw Xe()}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const s={};return Ls(e,(u,m)=>{s[u]=this.convertValue(m,r)}),s}convertVectorValue(e){var r,s,u;const m=null===(u=null===(s=null===(r=e.fields)||void 0===r?void 0:r.value.arrayValue)||void 0===s?void 0:s.values)||void 0===u?void 0:u.map(v=>kr(v.doubleValue));return new du(m)}convertGeoPoint(e){return new wg(kr(e.latitude),kr(e.longitude))}convertArray(e,r){return(e.values||[]).map(s=>this.convertValue(s,r))}convertServerTimestamp(e,r){switch(r){case"previous":const s=Xi(e);return null==s?null:this.convertValue(s,r);case"estimate":return this.convertTimestamp(go(e));default:return null}}convertTimestamp(e){const r=Pi(e);return new Hn(r.seconds,r.nanos)}convertDocumentKey(e,r){const s=zt.fromString(e);Et(tr(s));const u=new Vo(s.get(1),s.get(3)),m=new wt(s.popFirst(5));return u.isEqual(r)||Pt(`Document ${m} contains a document reference within a different database (${u.projectId}/${u.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),m}}class ns{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Sl extends dd{constructor(e,r,s,u,m,v){super(e,r,s,u,v),this._firestore=e,this._firestoreImpl=e,this.metadata=m}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new tm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const s=this._document.data.field(lh("DocumentSnapshot.get",e));if(null!==s)return this._userDataWriter.convertValue(s,r.serverTimestamps)}}}class tm extends Sl{data(e={}){return super.data(e)}}class zc{constructor(e,r,s,u){this._firestore=e,this._userDataWriter=r,this._snapshot=u,this.metadata=new ns(u.hasPendingWrites,u.fromCache),this.query=s}get docs(){const e=[];return this.forEach(r=>e.push(r)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,r){this._snapshot.docs.forEach(s=>{e.call(r,new tm(this._firestore,this._userDataWriter,s.key,s,new ns(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new ge(ae.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(u,m){if(u._snapshot.oldDocs.isEmpty()){let v=0;return u._snapshot.docChanges.map(D=>({type:"added",doc:new tm(u._firestore,u._userDataWriter,D.doc.key,D.doc,new ns(u._snapshot.mutatedKeys.has(D.doc.key),u._snapshot.fromCache),u.query.converter),oldIndex:-1,newIndex:v++}))}{let v=u._snapshot.oldDocs;return u._snapshot.docChanges.filter(D=>m||3!==D.type).map(D=>{const k=new tm(u._firestore,u._userDataWriter,D.doc.key,D.doc,new ns(u._snapshot.mutatedKeys.has(D.doc.key),u._snapshot.fromCache),u.query.converter);let j=-1,ee=-1;return 0!==D.type&&(j=v.indexOf(D.doc.key),v=v.delete(D.doc.key)),1!==D.type&&(v=v.add(D.doc),ee=v.indexOf(D.doc.key)),{type:Rl(D.type),doc:k,oldIndex:j,newIndex:ee}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function Rl(l){switch(l){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Xe()}}class Gc extends Jp{constructor(e){super(),this.firestore=e}convertBytes(e){return new Al(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new ko(this.firestore,null,r)}}function jo(l,e,r,...s){l=_r(l,ko);const u=_r(l.firestore,si),m=sc(u);let v;return v="string"==typeof(e=(0,pe.Ku)(e))||e instanceof Pa?function Xp(l,e,r,s,u,m){const v=l.Qu(1,e,r),D=[ud(e,s,r)],k=[u];if(m.length%2!=0)throw new ge(ae.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let we=0;we<m.length;we+=2)D.push(ud(e,m[we])),k.push(m[we+1]);const j=[],ee=kn.empty();for(let we=D.length-1;we>=0;--we)if(!Af(j,D[we])){const Ve=D[we];let dt=k[we];dt=(0,pe.Ku)(dt);const At=v.Nu(Ve);if(dt instanceof ac)j.push(Ve);else{const vt=mu(dt,At);null!=vt&&(j.push(Ve),ee.set(Ve,vt))}}const ce=new Mi(j);return new cd(ee,ce,v.fieldTransforms)}(m,"updateDoc",l._key,e,r,s):function Dl(l,e,r,s){const u=l.Qu(1,e,r);Cf("Data must be an object, but it was:",u,s);const m=[],v=kn.empty();Ls(s,(k,j)=>{const ee=Ag(e,k,r);j=(0,pe.Ku)(j);const ce=u.Nu(ee);if(j instanceof ac)m.push(ee);else{const we=mu(j,ce);null!=we&&(m.push(ee),v.set(ee,we))}});const D=new Mi(m);return new cd(v,D,u.fieldTransforms)}(m,"updateDoc",l._key,e),pd(u,[v.toMutation(l._key,yn.exists(!0))])}function Fg(l){return pd(_r(l.firestore,si),[new xo(l._key,yn.none())])}function Lg(l,e){const r=_r(l.firestore,si),s=zp(l),u=function em(l,e,r){let s;return s=l?r&&(r.merge||r.mergeFields)?l.toFirestore(e,r):l.toFirestore(e):e,s}(l.converter,e);return pd(r,[fu(sc(l.firestore),"addDoc",s._key,u,null!==l.converter,{}).toMutation(s._key,yn.exists(!1))]).then(()=>s)}function pd(l,e){return function(s,u){const m=new pt;return s.asyncQueue.enqueueAndForget((0,le.A)(function*(){return function rg(l,e,r){return Mp.apply(this,arguments)}(yield function gg(l){return rh(l).then(e=>e.syncEngine)}(s),u,m)})),m.promise}(Zr(l),e)}function lb(){return new ch("serverTimestamp")}!function(e,r=!0){et=Re.MF,(0,Re.om)(new ot.uA("firestore",(s,{instanceIdentifier:u,options:m})=>{const v=s.getProvider("app").getImmediate(),D=new si(new Tr(s.getProvider("auth-internal")),new en(s.getProvider("app-check-internal")),function(j,ee){if(!Object.prototype.hasOwnProperty.apply(j.options,["projectId"]))throw new ge(ae.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Vo(j.options.projectId,ee)}(v,u),v);return m=Object.assign({useFetchStreams:r},m),D._setSettings(m),D},"PUBLIC").setMultipleInstances(!0)),(0,Re.KO)(Rt,"4.7.3",e),(0,Re.KO)(Rt,"4.7.3","esm2017")}();var Vf=q(1985),yu=q(6354),mh=function(){return mh=Object.assign||function(e){for(var r,s=1,u=arguments.length;s<u;s++)for(var m in r=arguments[s])Object.prototype.hasOwnProperty.call(r,m)&&(e[m]=r[m]);return e},mh.apply(this,arguments)};"function"==typeof SuppressedError&&SuppressedError;var Bf={includeMetadataChanges:!1};function Pl(l,e){return void 0===e&&(e=Bf),new Vf.c(function(r){var s=function Ey(l,...e){var r,s,u;l=(0,pe.Ku)(l);let m={includeMetadataChanges:!1,source:"default"},v=0;"object"!=typeof e[v]||ah(e[v])||(m=e[v],v++);const D={includeMetadataChanges:m.includeMetadataChanges,source:m.source};if(ah(e[v])){const ce=e[v];e[v]=null===(r=ce.next)||void 0===r?void 0:r.bind(ce),e[v+1]=null===(s=ce.error)||void 0===s?void 0:s.bind(ce),e[v+2]=null===(u=ce.complete)||void 0===u?void 0:u.bind(ce)}let k,j,ee;if(l instanceof ko)j=_r(l.firestore,si),ee=En(l._key.path),k={next:ce=>{e[v]&&e[v](function Pf(l,e,r){const s=r.docs.get(e._key),u=new Gc(l);return new Sl(l,u,e._key,s,new ns(r.hasPendingWrites,r.fromCache),e.converter)}(j,l,ce))},error:e[v+1],complete:e[v+2]};else{const ce=_r(l,Oo);j=_r(ce.firestore,si),ee=ce._query;const we=new Gc(j);k={next:Ve=>{e[v]&&e[v](new zc(j,we,ce,Ve))},error:e[v+1],complete:e[v+2]},function Df(l){if("L"===l.limitType&&0===l.explicitOrderBy.length)throw new ge(ae.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(l._query)}return function(we,Ve,dt,At){const vt=new Lp(At),fn=new Ju(Ve,vt,dt);return we.asyncQueue.enqueueAndForget((0,le.A)(function*(){return function We(l,e){return _t.apply(this,arguments)}(yield ih(we),fn)})),()=>{vt.Za(),we.asyncQueue.enqueueAndForget((0,le.A)(function*(){return function dn(l,e){return An.apply(this,arguments)}(yield ih(we),fn)}))}}(Zr(j),ee,D,k)}(l,e,{next:r.next.bind(r),error:r.error.bind(r),complete:r.complete.bind(r)});return{unsubscribe:s}})}function My(l,e){return void 0===e&&(e={}),function yh(l){return Pl(l,{includeMetadataChanges:!0}).pipe((0,yu.T)(function(e){return e.docs}))}(l).pipe((0,yu.T)(function(r){return r.map(function(s){return function am(l,e){var r;void 0===e&&(e={});var s=l.data(e);return l.exists()&&"object"==typeof s&&null!==s&&e.idField?mh(mh({},s),((r={})[e.idField]=l.id,r)):s}(s,e)})}))}class Hf{constructor(e){return e}}const Gg="firestore",zf=new Ee.nKC("angularfire2.firestore-instances");function vh(l){return(e,r)=>{const s=e.runOutsideAngular(()=>l(r));return new Hf(s)}}const cc={provide:class ia{constructor(){return(0,I.CA)(Gg)}},deps:[[new Ee.Xx1,zf]]},Kg={provide:Hf,useFactory:function Wg(l,e){const r=(0,I.lR)(Gg,l,e);return r&&new Hf(r)},deps:[[new Ee.Xx1,zf],$e.XU]};let _d=(()=>{class l{constructor(){(0,de.KO)("angularfire",I.xv.full,"fst")}static \u0275fac=function(s){return new(s||l)};static \u0275mod=Ee.$C({type:l});static \u0275inj=Ee.G2t({providers:[Kg,cc]})}return l})();function qg(l,...e){return{ngModule:_d,providers:[{provide:zf,useFactory:vh(l),multi:!0,deps:[Ee.SKi,Ee.zZn,I.u0,$e.gL,[new Ee.Xx1,Y.DF],[new Ee.Xx1,I.Jv],...e]}]}}const ky=(0,I.S3)(My,!0),ka=(0,I.S3)(Lg,!0),Zg=(0,I.S3)(Hp,!0),qc=(0,I.S3)(Fg,!0),Wf=(0,I.S3)(zp,!0),Hy=(0,I.S3)(Hc,!0),vd=(0,I.S3)(lb,!0),Ab=(0,I.S3)(jo,!0)},5407:(on,Ze,q)=>{q.d(Ze,{xv:()=>nt,u0:()=>He,Jv:()=>Xt,CA:()=>mt,lR:()=>sn,S3:()=>rt});var I=q(2598),Ee=q(2214),$e=q(6780),de=q(3604);const Re=new class le extends de.q{}(class Y extends $e.R{constructor(Jt,pn){super(Jt,pn),this.scheduler=Jt,this.work=pn}schedule(Jt,pn=0){return pn>0?super.schedule(Jt,pn):(this.delay=pn,this.state=Jt,this.scheduler.flush(this),this)}execute(Jt,pn){return pn>0||this.closed?super.execute(Jt,pn):this._execute(Jt,pn)}requestAsyncId(Jt,pn,Xe=0){return null!=Xe&&Xe>0||null==Xe&&this.delay>0?super.requestAsyncId(Jt,pn,Xe):(Jt.flush(this),0)}});var Ue=q(3236),pe=q(1985),Ie=q(8141),ze=q(6745),gt=q(941);const nt=new I.RxE("ANGULARFIRE2_VERSION");function sn(Pt,Jt,pn){if(Jt){if(1===Jt.length)return Jt[0];const Oe=Jt.filter(me=>me.app===pn);if(1===Oe.length)return Oe[0]}return pn.container.getProvider(Pt).getImmediate({optional:!0})}const mt=(Pt,Jt)=>{const pn=Jt?[Jt]:(0,Ee.Dk)(),Xe=[];return pn.forEach(Et=>{Et.container.getProvider(Pt).instances.forEach(me=>{Xe.includes(me)||Xe.push(me)})}),Xe};class Xt{constructor(){return mt(tn)}}const tn="app-check";function Tn(){}class yt{zone;delegate;constructor(Jt,pn=Re){this.zone=Jt,this.delegate=pn}now(){return this.delegate.now()}schedule(Jt,pn,Xe){const Et=this.zone;return this.delegate.schedule(function(me){Et.runGuarded(()=>{Jt.apply(this,[me])})},pn,Xe)}}class ut{zone;task=null;constructor(Jt){this.zone=Jt}call(Jt,pn){const Xe=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Tn,{},Tn,Tn)),pn.pipe((0,Ie.M)({next:Xe,complete:Xe,error:Xe})).subscribe(Jt).add(Xe)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let He=(()=>{class Pt{ngZone;outsideAngular;insideAngular;constructor(pn){this.ngZone=pn,this.outsideAngular=pn.runOutsideAngular(()=>new yt(Zone.current)),this.insideAngular=pn.run(()=>new yt(Zone.current,Ue.E)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(Xe){return new(Xe||Pt)(I.KVO(I.SKi))};static \u0275prov=I.jDH({token:Pt,factory:Pt.\u0275fac,providedIn:"root"})}return Pt})();function lt(){const Pt=globalThis.\u0275AngularFireScheduler;if(!Pt)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return Pt}function Rt(Pt){return lt().ngZone.run(()=>Pt())}function zn(Pt){return function Zt(Pt){return function(pn){return(pn=pn.lift(new ut(Pt.ngZone))).pipe((0,ze._)(Pt.outsideAngular),(0,gt.Q)(Pt.insideAngular))}}(lt())(Pt)}const st=(Pt,Jt)=>function(){const Xe=arguments;return Jt&&setTimeout(()=>{"scheduled"===Jt.state&&Jt.invoke()},10),Rt(()=>Pt.apply(void 0,Xe))},rt=(Pt,Jt)=>function(){let pn;const Xe=arguments;for(let Oe=0;Oe<arguments.length;Oe++)"function"==typeof Xe[Oe]&&(Jt&&(pn||=Rt(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Tn,{},Tn,Tn))),Xe[Oe]=st(Xe[Oe],pn));const Et=function Mt(Pt){return lt().ngZone.runOutsideAngular(()=>Pt())}(()=>Pt.apply(this,Xe));if(!Jt){if(Et instanceof pe.c){const Oe=lt();return Et.pipe((0,ze._)(Oe.outsideAngular),(0,gt.Q)(Oe.insideAngular))}return Rt(()=>Et)}return Et instanceof pe.c?Et.pipe(zn):Et instanceof Promise?Rt(()=>new Promise((Oe,me)=>Et.then(ae=>Rt(()=>Oe(ae)),ae=>Rt(()=>me(ae))))):"function"==typeof Et&&pn?function(){return setTimeout(()=>{pn&&"scheduled"===pn.state&&pn.invoke()},10),Et.apply(this,arguments)}:Rt(()=>Et)}},4341:(on,Ze,q)=>{q.d(Ze,{Zm:()=>mt,me:()=>yt,v8:()=>yo,ok:()=>Fi,MJ:()=>Fo,l_:()=>br,JD:()=>Nt,j4:()=>Fr,$R:()=>_o,YN:()=>cs,BC:()=>zt,cb:()=>Cn,vS:()=>sa,xH:()=>Hr,Q0:()=>Pi,X1:()=>Xo,wz:()=>Lr,k0:()=>cn,qT:()=>$r,y7:()=>Is});var I=q(2598),Ee=q(177),$e=q(8455),Y=q(1985),de=q(3073),le=q(8750),Re=q(9326),ot=q(4360),Ue=q(6450),pe=q(8496),ze=q(6354);let gt=(()=>{class ${constructor(N,re){this._renderer=N,this._elementRef=re,this.onChange=ye=>{},this.onTouched=()=>{}}setProperty(N,re){this._renderer.setProperty(this._elementRef.nativeElement,N,re)}registerOnTouched(N){this.onTouched=N}registerOnChange(N){this.onChange=N}setDisabledState(N){this.setProperty("disabled",N)}static{this.\u0275fac=function(re){return new(re||$)(I.rXU(I.sFG),I.rXU(I.aKT))}}static{this.\u0275dir=I.FsC({type:$})}}return $})(),nt=(()=>{class $ extends gt{static{this.\u0275fac=function(){let N;return function(ye){return(N||(N=I.xGo($)))(ye||$)}}()}static{this.\u0275dir=I.FsC({type:$,features:[I.Vt3]})}}return $})();const Tt=new I.nKC("NgValueAccessor"),sn={provide:Tt,useExisting:(0,I.Rfq)(()=>mt),multi:!0};let mt=(()=>{class $ extends nt{writeValue(N){this.setProperty("checked",N)}static{this.\u0275fac=function(){let N;return function(ye){return(N||(N=I.xGo($)))(ye||$)}}()}static{this.\u0275dir=I.FsC({type:$,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(re,ye){1&re&&I.bIt("change",function(En){return ye.onChange(En.target.checked)})("blur",function(){return ye.onTouched()})},features:[I.Jv_([sn]),I.Vt3]})}}return $})();const Xt={provide:Tt,useExisting:(0,I.Rfq)(()=>yt),multi:!0},Tn=new I.nKC("CompositionEventMode");let yt=(()=>{class $ extends gt{constructor(N,re,ye){super(N,re),this._compositionMode=ye,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function tn(){const $=(0,Ee.QT)()?(0,Ee.QT)().getUserAgent():"";return/android (\d+)/.test($.toLowerCase())}())}writeValue(N){this.setProperty("value",N??"")}_handleInput(N){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(N)}_compositionStart(){this._composing=!0}_compositionEnd(N){this._composing=!1,this._compositionMode&&this.onChange(N)}static{this.\u0275fac=function(re){return new(re||$)(I.rXU(I.sFG),I.rXU(I.aKT),I.rXU(Tn,8))}}static{this.\u0275dir=I.FsC({type:$,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(re,ye){1&re&&I.bIt("input",function(En){return ye._handleInput(En.target.value)})("blur",function(){return ye.onTouched()})("compositionstart",function(){return ye._compositionStart()})("compositionend",function(En){return ye._compositionEnd(En.target.value)})},features:[I.Jv_([Xt]),I.Vt3]})}}return $})();function ut($){return null==$||("string"==typeof $||Array.isArray($))&&0===$.length}function He($){return null!=$&&"number"==typeof $.length}const lt=new I.nKC("NgValidators"),Mt=new I.nKC("NgAsyncValidators"),Rt=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class cn{static min(W){return function et($){return W=>{if(ut(W.value)||ut($))return null;const N=parseFloat(W.value);return!isNaN(N)&&N<$?{min:{min:$,actual:W.value}}:null}}(W)}static max(W){return function zn($){return W=>{if(ut(W.value)||ut($))return null;const N=parseFloat(W.value);return!isNaN(N)&&N>$?{max:{max:$,actual:W.value}}:null}}(W)}static required(W){return function Zt($){return ut($.value)?{required:!0}:null}(W)}static requiredTrue(W){return function st($){return!0===$.value?null:{required:!0}}(W)}static email(W){return function rt($){return ut($.value)||Rt.test($.value)?null:{email:!0}}(W)}static minLength(W){return function Pt($){return W=>ut(W.value)||!He(W.value)?null:W.value.length<$?{minlength:{requiredLength:$,actualLength:W.value.length}}:null}(W)}static maxLength(W){return function Jt($){return W=>He(W.value)&&W.value.length>$?{maxlength:{requiredLength:$,actualLength:W.value.length}}:null}(W)}static pattern(W){return function pn($){if(!$)return Xe;let W,N;return"string"==typeof $?(N="","^"!==$.charAt(0)&&(N+="^"),N+=$,"$"!==$.charAt($.length-1)&&(N+="$"),W=new RegExp(N)):(N=$.toString(),W=$),re=>{if(ut(re.value))return null;const ye=re.value;return W.test(ye)?null:{pattern:{requiredPattern:N,actualValue:ye}}}}(W)}static nullValidator(W){return null}static compose(W){return It(W)}static composeAsync(W){return an(W)}}function Xe($){return null}function Et($){return null!=$}function Oe($){return(0,I.jNT)($)?(0,$e.H)($):$}function me($){let W={};return $.forEach(N=>{W=null!=N?{...W,...N}:W}),0===Object.keys(W).length?null:W}function ae($,W){return W.map(N=>N($))}function pt($){return $.map(W=>function ge($){return!$.validate}(W)?W:N=>W.validate(N))}function It($){if(!$)return null;const W=$.filter(Et);return 0==W.length?null:function(N){return me(ae(N,W))}}function Lt($){return null!=$?It(pt($)):null}function an($){if(!$)return null;const W=$.filter(Et);return 0==W.length?null:function(N){return function Ie(...$){const W=(0,Re.ms)($),{args:N,keys:re}=(0,de.D)($),ye=new Y.c(Ft=>{const{length:En}=N;if(!En)return void Ft.complete();const eo=new Array(En);let ls=En,So=En;for(let li=0;li<En;li++){let va=!1;(0,le.Tg)(N[li]).subscribe((0,ot._)(Ft,la=>{va||(va=!0,So--),eo[li]=la},()=>ls--,void 0,()=>{(!ls||!va)&&(So||Ft.next(re?(0,pe.e)(re,eo):eo),Ft.complete())}))}});return W?ye.pipe((0,Ue.I)(W)):ye}(ae(N,W).map(Oe)).pipe((0,ze.T)(me))}}function Tr($){return null!=$?an(pt($)):null}function Ct($,W){return null===$?[W]:Array.isArray($)?[...$,W]:[$,W]}function Qn($){return $._rawValidators}function Sn($){return $._rawAsyncValidators}function en($){return $?Array.isArray($)?$:[$]:[]}function xn($,W){return Array.isArray($)?$.includes(W):$===W}function Kr($,W){const N=en(W);return en($).forEach(ye=>{xn(N,ye)||N.push(ye)}),N}function yr($,W){return en(W).filter(N=>!xn($,N))}class Ot{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(W){this._rawValidators=W||[],this._composedValidatorFn=Lt(this._rawValidators)}_setAsyncValidators(W){this._rawAsyncValidators=W||[],this._composedAsyncValidatorFn=Tr(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(W){this._onDestroyCallbacks.push(W)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(W=>W()),this._onDestroyCallbacks=[]}reset(W=void 0){this.control&&this.control.reset(W)}hasError(W,N){return!!this.control&&this.control.hasError(W,N)}getError(W,N){return this.control?this.control.getError(W,N):null}}class Wn extends Ot{get formDirective(){return null}get path(){return null}}class Cr extends Ot{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Hn{constructor(W){this._cd=W}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let zt=(()=>{class $ extends Hn{constructor(N){super(N)}static{this.\u0275fac=function(re){return new(re||$)(I.rXU(Cr,2))}}static{this.\u0275dir=I.FsC({type:$,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(re,ye){2&re&&I.AVh("ng-untouched",ye.isUntouched)("ng-touched",ye.isTouched)("ng-pristine",ye.isPristine)("ng-dirty",ye.isDirty)("ng-valid",ye.isValid)("ng-invalid",ye.isInvalid)("ng-pending",ye.isPending)},features:[I.Vt3]})}}return $})(),Cn=(()=>{class $ extends Hn{constructor(N){super(N)}static{this.\u0275fac=function(re){return new(re||$)(I.rXU(Wn,10))}}static{this.\u0275dir=I.FsC({type:$,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(re,ye){2&re&&I.AVh("ng-untouched",ye.isUntouched)("ng-touched",ye.isTouched)("ng-pristine",ye.isPristine)("ng-dirty",ye.isDirty)("ng-valid",ye.isValid)("ng-invalid",ye.isInvalid)("ng-pending",ye.isPending)("ng-submitted",ye.isSubmitted)},features:[I.Vt3]})}}return $})();const xe="VALID",yi="INVALID",Sr="PENDING",vi="DISABLED";function Si($){return(Q($)?$.validators:$)||null}function te($,W){return(Q(W)?W.asyncValidators:$)||null}function Q($){return null!=$&&!Array.isArray($)&&"object"==typeof $}function _e($,W,N){const re=$.controls;if(!(W?Object.keys(re):re).length)throw new I.wOt(1e3,"");if(!re[N])throw new I.wOt(1001,"")}function Te($,W,N){$._forEachChild((re,ye)=>{if(void 0===N[ye])throw new I.wOt(1002,"")})}class ct{constructor(W,N){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(W),this._assignAsyncValidators(N)}get validator(){return this._composedValidatorFn}set validator(W){this._rawValidators=this._composedValidatorFn=W}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(W){this._rawAsyncValidators=this._composedAsyncValidatorFn=W}get parent(){return this._parent}get valid(){return this.status===xe}get invalid(){return this.status===yi}get pending(){return this.status==Sr}get disabled(){return this.status===vi}get enabled(){return this.status!==vi}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(W){this._assignValidators(W)}setAsyncValidators(W){this._assignAsyncValidators(W)}addValidators(W){this.setValidators(Kr(W,this._rawValidators))}addAsyncValidators(W){this.setAsyncValidators(Kr(W,this._rawAsyncValidators))}removeValidators(W){this.setValidators(yr(W,this._rawValidators))}removeAsyncValidators(W){this.setAsyncValidators(yr(W,this._rawAsyncValidators))}hasValidator(W){return xn(this._rawValidators,W)}hasAsyncValidator(W){return xn(this._rawAsyncValidators,W)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(W={}){this.touched=!0,this._parent&&!W.onlySelf&&this._parent.markAsTouched(W)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(W=>W.markAllAsTouched())}markAsUntouched(W={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(N=>{N.markAsUntouched({onlySelf:!0})}),this._parent&&!W.onlySelf&&this._parent._updateTouched(W)}markAsDirty(W={}){this.pristine=!1,this._parent&&!W.onlySelf&&this._parent.markAsDirty(W)}markAsPristine(W={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(N=>{N.markAsPristine({onlySelf:!0})}),this._parent&&!W.onlySelf&&this._parent._updatePristine(W)}markAsPending(W={}){this.status=Sr,!1!==W.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!W.onlySelf&&this._parent.markAsPending(W)}disable(W={}){const N=this._parentMarkedDirty(W.onlySelf);this.status=vi,this.errors=null,this._forEachChild(re=>{re.disable({...W,onlySelf:!0})}),this._updateValue(),!1!==W.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...W,skipPristineCheck:N}),this._onDisabledChange.forEach(re=>re(!0))}enable(W={}){const N=this._parentMarkedDirty(W.onlySelf);this.status=xe,this._forEachChild(re=>{re.enable({...W,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:W.emitEvent}),this._updateAncestors({...W,skipPristineCheck:N}),this._onDisabledChange.forEach(re=>re(!1))}_updateAncestors(W){this._parent&&!W.onlySelf&&(this._parent.updateValueAndValidity(W),W.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(W){this._parent=W}getRawValue(){return this.value}updateValueAndValidity(W={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===xe||this.status===Sr)&&this._runAsyncValidator(W.emitEvent)),!1!==W.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!W.onlySelf&&this._parent.updateValueAndValidity(W)}_updateTreeValidity(W={emitEvent:!0}){this._forEachChild(N=>N._updateTreeValidity(W)),this.updateValueAndValidity({onlySelf:!0,emitEvent:W.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?vi:xe}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(W){if(this.asyncValidator){this.status=Sr,this._hasOwnPendingAsyncValidator=!0;const N=Oe(this.asyncValidator(this));this._asyncValidationSubscription=N.subscribe(re=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(re,{emitEvent:W})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(W,N={}){this.errors=W,this._updateControlsErrors(!1!==N.emitEvent)}get(W){let N=W;return null==N||(Array.isArray(N)||(N=N.split(".")),0===N.length)?null:N.reduce((re,ye)=>re&&re._find(ye),this)}getError(W,N){const re=N?this.get(N):this;return re&&re.errors?re.errors[W]:null}hasError(W,N){return!!this.getError(W,N)}get root(){let W=this;for(;W._parent;)W=W._parent;return W}_updateControlsErrors(W){this.status=this._calculateStatus(),W&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(W)}_initObservables(){this.valueChanges=new I.bkB,this.statusChanges=new I.bkB}_calculateStatus(){return this._allControlsDisabled()?vi:this.errors?yi:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Sr)?Sr:this._anyControlsHaveStatus(yi)?yi:xe}_anyControlsHaveStatus(W){return this._anyControls(N=>N.status===W)}_anyControlsDirty(){return this._anyControls(W=>W.dirty)}_anyControlsTouched(){return this._anyControls(W=>W.touched)}_updatePristine(W={}){this.pristine=!this._anyControlsDirty(),this._parent&&!W.onlySelf&&this._parent._updatePristine(W)}_updateTouched(W={}){this.touched=this._anyControlsTouched(),this._parent&&!W.onlySelf&&this._parent._updateTouched(W)}_registerOnCollectionChange(W){this._onCollectionChange=W}_setUpdateStrategy(W){Q(W)&&null!=W.updateOn&&(this._updateOn=W.updateOn)}_parentMarkedDirty(W){return!W&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(W){return null}_assignValidators(W){this._rawValidators=Array.isArray(W)?W.slice():W,this._composedValidatorFn=function Ye($){return Array.isArray($)?Lt($):$||null}(this._rawValidators)}_assignAsyncValidators(W){this._rawAsyncValidators=Array.isArray(W)?W.slice():W,this._composedAsyncValidatorFn=function H($){return Array.isArray($)?Tr($):$||null}(this._rawAsyncValidators)}}class Ut extends ct{constructor(W,N,re){super(Si(N),te(re,N)),this.controls=W,this._initObservables(),this._setUpdateStrategy(N),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(W,N){return this.controls[W]?this.controls[W]:(this.controls[W]=N,N.setParent(this),N._registerOnCollectionChange(this._onCollectionChange),N)}addControl(W,N,re={}){this.registerControl(W,N),this.updateValueAndValidity({emitEvent:re.emitEvent}),this._onCollectionChange()}removeControl(W,N={}){this.controls[W]&&this.controls[W]._registerOnCollectionChange(()=>{}),delete this.controls[W],this.updateValueAndValidity({emitEvent:N.emitEvent}),this._onCollectionChange()}setControl(W,N,re={}){this.controls[W]&&this.controls[W]._registerOnCollectionChange(()=>{}),delete this.controls[W],N&&this.registerControl(W,N),this.updateValueAndValidity({emitEvent:re.emitEvent}),this._onCollectionChange()}contains(W){return this.controls.hasOwnProperty(W)&&this.controls[W].enabled}setValue(W,N={}){Te(this,0,W),Object.keys(W).forEach(re=>{_e(this,!0,re),this.controls[re].setValue(W[re],{onlySelf:!0,emitEvent:N.emitEvent})}),this.updateValueAndValidity(N)}patchValue(W,N={}){null!=W&&(Object.keys(W).forEach(re=>{const ye=this.controls[re];ye&&ye.patchValue(W[re],{onlySelf:!0,emitEvent:N.emitEvent})}),this.updateValueAndValidity(N))}reset(W={},N={}){this._forEachChild((re,ye)=>{re.reset(W?W[ye]:null,{onlySelf:!0,emitEvent:N.emitEvent})}),this._updatePristine(N),this._updateTouched(N),this.updateValueAndValidity(N)}getRawValue(){return this._reduceChildren({},(W,N,re)=>(W[re]=N.getRawValue(),W))}_syncPendingControls(){let W=this._reduceChildren(!1,(N,re)=>!!re._syncPendingControls()||N);return W&&this.updateValueAndValidity({onlySelf:!0}),W}_forEachChild(W){Object.keys(this.controls).forEach(N=>{const re=this.controls[N];re&&W(re,N)})}_setUpControls(){this._forEachChild(W=>{W.setParent(this),W._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(W){for(const[N,re]of Object.entries(this.controls))if(this.contains(N)&&W(re))return!0;return!1}_reduceValue(){return this._reduceChildren({},(N,re,ye)=>((re.enabled||this.disabled)&&(N[ye]=re.value),N))}_reduceChildren(W,N){let re=W;return this._forEachChild((ye,Ft)=>{re=N(re,ye,Ft)}),re}_allControlsDisabled(){for(const W of Object.keys(this.controls))if(this.controls[W].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(W){return this.controls.hasOwnProperty(W)?this.controls[W]:null}}class Rn extends Ut{}const Kt=new I.nKC("CallSetDisabledState",{providedIn:"root",factory:()=>qr}),qr="always";function Kn($,W){return[...W.path,$]}function ti($,W,N=qr){ji($,W),W.valueAccessor.writeValue($.value),($.disabled||"always"===N)&&W.valueAccessor.setDisabledState?.($.disabled),function $i($,W){W.valueAccessor.registerOnChange(N=>{$._pendingValue=N,$._pendingChange=!0,$._pendingDirty=!0,"change"===$.updateOn&&Me($,W)})}($,W),function at($,W){const N=(re,ye)=>{W.valueAccessor.writeValue(re),ye&&W.viewToModelUpdate(re)};$.registerOnChange(N),W._registerOnDestroy(()=>{$._unregisterOnChange(N)})}($,W),function Qe($,W){W.valueAccessor.registerOnTouched(()=>{$._pendingTouched=!0,"blur"===$.updateOn&&$._pendingChange&&Me($,W),"submit"!==$.updateOn&&$.markAsTouched()})}($,W),function Go($,W){if(W.valueAccessor.setDisabledState){const N=re=>{W.valueAccessor.setDisabledState(re)};$.registerOnDisabledChange(N),W._registerOnDestroy(()=>{$._unregisterOnDisabledChange(N)})}}($,W)}function Yn($,W,N=!0){const re=()=>{};W.valueAccessor&&(W.valueAccessor.registerOnChange(re),W.valueAccessor.registerOnTouched(re)),po($,W),$&&(W._invokeOnDestroyCallbacks(),$._registerOnCollectionChange(()=>{}))}function Ui($,W){$.forEach(N=>{N.registerOnValidatorChange&&N.registerOnValidatorChange(W)})}function ji($,W){const N=Qn($);null!==W.validator?$.setValidators(Ct(N,W.validator)):"function"==typeof N&&$.setValidators([N]);const re=Sn($);null!==W.asyncValidator?$.setAsyncValidators(Ct(re,W.asyncValidator)):"function"==typeof re&&$.setAsyncValidators([re]);const ye=()=>$.updateValueAndValidity();Ui(W._rawValidators,ye),Ui(W._rawAsyncValidators,ye)}function po($,W){let N=!1;if(null!==$){if(null!==W.validator){const ye=Qn($);if(Array.isArray(ye)&&ye.length>0){const Ft=ye.filter(En=>En!==W.validator);Ft.length!==ye.length&&(N=!0,$.setValidators(Ft))}}if(null!==W.asyncValidator){const ye=Sn($);if(Array.isArray(ye)&&ye.length>0){const Ft=ye.filter(En=>En!==W.asyncValidator);Ft.length!==ye.length&&(N=!0,$.setAsyncValidators(Ft))}}}const re=()=>{};return Ui(W._rawValidators,re),Ui(W._rawAsyncValidators,re),N}function Me($,W){$._pendingDirty&&$.markAsDirty(),$.setValue($._pendingValue,{emitModelToViewChange:!1}),W.viewToModelUpdate($._pendingValue),$._pendingChange=!1}function bi($,W){if(!$.hasOwnProperty("model"))return!1;const N=$.model;return!!N.isFirstChange()||!Object.is(W,N.currentValue)}function lr($,W){if(!W)return null;let N,re,ye;return Array.isArray(W),W.forEach(Ft=>{Ft.constructor===yt?N=Ft:function rs($){return Object.getPrototypeOf($.constructor)===nt}(Ft)?re=Ft:ye=Ft}),ye||re||N||null}function is($,W){const N=$.indexOf(W);N>-1&&$.splice(N,1)}function ni($){return"object"==typeof $&&null!==$&&2===Object.keys($).length&&"value"in $&&"disabled"in $}const Fo=class extends ct{constructor(W=null,N,re){super(Si(N),te(re,N)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(W),this._setUpdateStrategy(N),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Q(N)&&(N.nonNullable||N.initialValueIsDefault)&&(this.defaultValue=ni(W)?W.value:W)}setValue(W,N={}){this.value=this._pendingValue=W,this._onChange.length&&!1!==N.emitModelToViewChange&&this._onChange.forEach(re=>re(this.value,!1!==N.emitViewToModelChange)),this.updateValueAndValidity(N)}patchValue(W,N={}){this.setValue(W,N)}reset(W=this.defaultValue,N={}){this._applyFormState(W),this.markAsPristine(N),this.markAsUntouched(N),this.setValue(this.value,N),this._pendingChange=!1}_updateValue(){}_anyControls(W){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(W){this._onChange.push(W)}_unregisterOnChange(W){is(this._onChange,W)}registerOnDisabledChange(W){this._onDisabledChange.push(W)}_unregisterOnDisabledChange(W){is(this._onDisabledChange,W)}_forEachChild(W){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(W){ni(W)?(this.value=this._pendingValue=W.value,W.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=W}};let so=(()=>{class $ extends Wn{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return Kn(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}static{this.\u0275fac=function(){let N;return function(ye){return(N||(N=I.xGo($)))(ye||$)}}()}static{this.\u0275dir=I.FsC({type:$,features:[I.Vt3]})}}return $})();const Mi={provide:Cr,useExisting:(0,I.Rfq)(()=>sa)},Qs=(()=>Promise.resolve())();let sa=(()=>{class $ extends Cr{constructor(N,re,ye,Ft,En,eo){super(),this._changeDetectorRef=En,this.callSetDisabledState=eo,this.control=new Fo,this._registered=!1,this.name="",this.update=new I.bkB,this._parent=N,this._setValidators(re),this._setAsyncValidators(ye),this.valueAccessor=lr(0,Ft)}ngOnChanges(N){if(this._checkForErrors(),!this._registered||"name"in N){if(this._registered&&(this._checkName(),this.formDirective)){const re=N.name.previousValue;this.formDirective.removeControl({name:re,path:this._getPath(re)})}this._setUpControl()}"isDisabled"in N&&this._updateDisabled(N),bi(N,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(N){this.viewModel=N,this.update.emit(N)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){ti(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(N){Qs.then(()=>{this.control.setValue(N,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(N){const re=N.isDisabled.currentValue,ye=0!==re&&(0,I.L39)(re);Qs.then(()=>{ye&&!this.control.disabled?this.control.disable():!ye&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(N){return this._parent?Kn(N,this._parent):[N]}static{this.\u0275fac=function(re){return new(re||$)(I.rXU(Wn,9),I.rXU(lt,10),I.rXU(Mt,10),I.rXU(Tt,10),I.rXU(I.gRc,8),I.rXU(Kt,8))}}static{this.\u0275dir=I.FsC({type:$,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[I.Jv_([Mi]),I.Vt3,I.OA$]})}}return $})(),$r=(()=>{class ${static{this.\u0275fac=function(re){return new(re||$)}}static{this.\u0275dir=I.FsC({type:$,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return $})();const Ha={provide:Tt,useExisting:(0,I.Rfq)(()=>Pi),multi:!0};let Pi=(()=>{class $ extends nt{writeValue(N){this.setProperty("value",N??"")}registerOnChange(N){this.onChange=re=>{N(""==re?null:parseFloat(re))}}static{this.\u0275fac=function(){let N;return function(ye){return(N||(N=I.xGo($)))(ye||$)}}()}static{this.\u0275dir=I.FsC({type:$,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(re,ye){1&re&&I.bIt("input",function(En){return ye.onChange(En.target.value)})("blur",function(){return ye.onTouched()})},features:[I.Jv_([Ha]),I.Vt3]})}}return $})(),Lo=(()=>{class ${static{this.\u0275fac=function(re){return new(re||$)}}static{this.\u0275mod=I.$C({type:$})}static{this.\u0275inj=I.G2t({})}}return $})();const Mn=new I.nKC("NgModelWithFormControlWarning"),Nr={provide:Cr,useExisting:(0,I.Rfq)(()=>br)};let br=(()=>{class $ extends Cr{set isDisabled(N){}static{this._ngModelWarningSentOnce=!1}constructor(N,re,ye,Ft,En){super(),this._ngModelWarningConfig=Ft,this.callSetDisabledState=En,this.update=new I.bkB,this._ngModelWarningSent=!1,this._setValidators(N),this._setAsyncValidators(re),this.valueAccessor=lr(0,ye)}ngOnChanges(N){if(this._isControlChanged(N)){const re=N.form.previousValue;re&&Yn(re,this,!1),ti(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}bi(N,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&Yn(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(N){this.viewModel=N,this.update.emit(N)}_isControlChanged(N){return N.hasOwnProperty("form")}static{this.\u0275fac=function(re){return new(re||$)(I.rXU(lt,10),I.rXU(Mt,10),I.rXU(Tt,10),I.rXU(Mn,8),I.rXU(Kt,8))}}static{this.\u0275dir=I.FsC({type:$,selectors:[["","formControl",""]],inputs:{form:["formControl","form"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[I.Jv_([Nr]),I.Vt3,I.OA$]})}}return $})();const zi={provide:Wn,useExisting:(0,I.Rfq)(()=>Fr)};let Fr=(()=>{class $ extends Wn{constructor(N,re,ye){super(),this.callSetDisabledState=ye,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new I.bkB,this._setValidators(N),this._setAsyncValidators(re)}ngOnChanges(N){this._checkFormPresent(),N.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(po(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(N){const re=this.form.get(N.path);return ti(re,N,this.callSetDisabledState),re.updateValueAndValidity({emitEvent:!1}),this.directives.push(N),re}getControl(N){return this.form.get(N.path)}removeControl(N){Yn(N.control||null,N,!1),function Hi($,W){const N=$.indexOf(W);N>-1&&$.splice(N,1)}(this.directives,N)}addFormGroup(N){this._setUpFormContainer(N)}removeFormGroup(N){this._cleanUpFormContainer(N)}getFormGroup(N){return this.form.get(N.path)}addFormArray(N){this._setUpFormContainer(N)}removeFormArray(N){this._cleanUpFormContainer(N)}getFormArray(N){return this.form.get(N.path)}updateModel(N,re){this.form.get(N.path).setValue(re)}onSubmit(N){return this.submitted=!0,function ga($,W){$._syncPendingControls(),W.forEach(N=>{const re=N.control;"submit"===re.updateOn&&re._pendingChange&&(N.viewToModelUpdate(re._pendingValue),re._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(N),"dialog"===N?.target?.method}onReset(){this.resetForm()}resetForm(N=void 0){this.form.reset(N),this.submitted=!1}_updateDomValue(){this.directives.forEach(N=>{const re=N.control,ye=this.form.get(N.path);re!==ye&&(Yn(re||null,N),($=>$ instanceof Fo)(ye)&&(ti(ye,N,this.callSetDisabledState),N.control=ye))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(N){const re=this.form.get(N.path);(function kt($,W){ji($,W)})(re,N),re.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(N){if(this.form){const re=this.form.get(N.path);re&&function ln($,W){return po($,W)}(re,N)&&re.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){ji(this.form,this),this._oldForm&&po(this._oldForm,this)}_checkFormPresent(){}static{this.\u0275fac=function(re){return new(re||$)(I.rXU(lt,10),I.rXU(Mt,10),I.rXU(Kt,8))}}static{this.\u0275dir=I.FsC({type:$,selectors:[["","formGroup",""]],hostBindings:function(re,ye){1&re&&I.bIt("submit",function(En){return ye.onSubmit(En)})("reset",function(){return ye.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[I.Jv_([zi]),I.Vt3,I.OA$]})}}return $})();const Yi={provide:Wn,useExisting:(0,I.Rfq)(()=>_o)};let _o=(()=>{class $ extends so{constructor(N,re,ye){super(),this.name=null,this._parent=N,this._setValidators(re),this._setAsyncValidators(ye)}_checkParentType(){Ys(this._parent)}static{this.\u0275fac=function(re){return new(re||$)(I.rXU(Wn,13),I.rXU(lt,10),I.rXU(Mt,10))}}static{this.\u0275dir=I.FsC({type:$,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[I.Jv_([Yi]),I.Vt3]})}}return $})();const Es={provide:Wn,useExisting:(0,I.Rfq)(()=>yo)};let yo=(()=>{class $ extends Wn{constructor(N,re,ye){super(),this.name=null,this._parent=N,this._setValidators(re),this._setAsyncValidators(ye)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return Kn(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){Ys(this._parent)}static{this.\u0275fac=function(re){return new(re||$)(I.rXU(Wn,13),I.rXU(lt,10),I.rXU(Mt,10))}}static{this.\u0275dir=I.FsC({type:$,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[I.Jv_([Es]),I.Vt3]})}}return $})();function Ys($){return!($ instanceof _o||$ instanceof Fr||$ instanceof yo)}const er={provide:Cr,useExisting:(0,I.Rfq)(()=>Nt)};let Nt=(()=>{class $ extends Cr{set isDisabled(N){}static{this._ngModelWarningSentOnce=!1}constructor(N,re,ye,Ft,En){super(),this._ngModelWarningConfig=En,this._added=!1,this.name=null,this.update=new I.bkB,this._ngModelWarningSent=!1,this._parent=N,this._setValidators(re),this._setAsyncValidators(ye),this.valueAccessor=lr(0,Ft)}ngOnChanges(N){this._added||this._setUpControl(),bi(N,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(N){this.viewModel=N,this.update.emit(N)}get path(){return Kn(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static{this.\u0275fac=function(re){return new(re||$)(I.rXU(Wn,13),I.rXU(lt,10),I.rXU(Mt,10),I.rXU(Tt,10),I.rXU(Mn,8))}}static{this.\u0275dir=I.FsC({type:$,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[I.Jv_([er]),I.Vt3,I.OA$]})}}return $})();const vn={provide:Tt,useExisting:(0,I.Rfq)(()=>Lr),multi:!0};function ur($,W){return null==$?`${W}`:(W&&"object"==typeof W&&(W="Object"),`${$}: ${W}`.slice(0,50))}let Lr=(()=>{class $ extends nt{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(N){this._compareWith=N}writeValue(N){this.value=N;const ye=ur(this._getOptionId(N),N);this.setProperty("value",ye)}registerOnChange(N){this.onChange=re=>{this.value=this._getOptionValue(re),N(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(N){for(const re of this._optionMap.keys())if(this._compareWith(this._optionMap.get(re),N))return re;return null}_getOptionValue(N){const re=function Oi($){return $.split(":")[0]}(N);return this._optionMap.has(re)?this._optionMap.get(re):N}static{this.\u0275fac=function(){let N;return function(ye){return(N||(N=I.xGo($)))(ye||$)}}()}static{this.\u0275dir=I.FsC({type:$,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(re,ye){1&re&&I.bIt("change",function(En){return ye.onChange(En.target.value)})("blur",function(){return ye.onTouched()})},inputs:{compareWith:"compareWith"},features:[I.Jv_([vn]),I.Vt3]})}}return $})(),Hr=(()=>{class ${constructor(N,re,ye){this._element=N,this._renderer=re,this._select=ye,this._select&&(this.id=this._select._registerOption())}set ngValue(N){null!=this._select&&(this._select._optionMap.set(this.id,N),this._setElementValue(ur(this.id,N)),this._select.writeValue(this._select.value))}set value(N){this._setElementValue(N),this._select&&this._select.writeValue(this._select.value)}_setElementValue(N){this._renderer.setProperty(this._element.nativeElement,"value",N)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(re){return new(re||$)(I.rXU(I.aKT),I.rXU(I.sFG),I.rXU(Lr,9))}}static{this.\u0275dir=I.FsC({type:$,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return $})();const os={provide:Tt,useExisting:(0,I.Rfq)(()=>wn),multi:!0};function fr($,W){return null==$?`${W}`:("string"==typeof W&&(W=`'${W}'`),W&&"object"==typeof W&&(W="Object"),`${$}: ${W}`.slice(0,50))}let wn=(()=>{class $ extends nt{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(N){this._compareWith=N}writeValue(N){let re;if(this.value=N,Array.isArray(N)){const ye=N.map(Ft=>this._getOptionId(Ft));re=(Ft,En)=>{Ft._setSelected(ye.indexOf(En.toString())>-1)}}else re=(ye,Ft)=>{ye._setSelected(!1)};this._optionMap.forEach(re)}registerOnChange(N){this.onChange=re=>{const ye=[],Ft=re.selectedOptions;if(void 0!==Ft){const En=Ft;for(let eo=0;eo<En.length;eo++){const So=this._getOptionValue(En[eo].value);ye.push(So)}}else{const En=re.options;for(let eo=0;eo<En.length;eo++){const ls=En[eo];if(ls.selected){const So=this._getOptionValue(ls.value);ye.push(So)}}}this.value=ye,N(ye)}}_registerOption(N){const re=(this._idCounter++).toString();return this._optionMap.set(re,N),re}_getOptionId(N){for(const re of this._optionMap.keys())if(this._compareWith(this._optionMap.get(re)._value,N))return re;return null}_getOptionValue(N){const re=function Ao($){return $.split(":")[0]}(N);return this._optionMap.has(re)?this._optionMap.get(re)._value:N}static{this.\u0275fac=function(){let N;return function(ye){return(N||(N=I.xGo($)))(ye||$)}}()}static{this.\u0275dir=I.FsC({type:$,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(re,ye){1&re&&I.bIt("change",function(En){return ye.onChange(En.target)})("blur",function(){return ye.onTouched()})},inputs:{compareWith:"compareWith"},features:[I.Jv_([os]),I.Vt3]})}}return $})(),Is=(()=>{class ${constructor(N,re,ye){this._element=N,this._renderer=re,this._select=ye,this._select&&(this.id=this._select._registerOption(this))}set ngValue(N){null!=this._select&&(this._value=N,this._setElementValue(fr(this.id,N)),this._select.writeValue(this._select.value))}set value(N){this._select?(this._value=N,this._setElementValue(fr(this.id,N)),this._select.writeValue(this._select.value)):this._setElementValue(N)}_setElementValue(N){this._renderer.setProperty(this._element.nativeElement,"value",N)}_setSelected(N){this._renderer.setProperty(this._element.nativeElement,"selected",N)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(re){return new(re||$)(I.rXU(I.aKT),I.rXU(I.sFG),I.rXU(wn,9))}}static{this.\u0275dir=I.FsC({type:$,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return $})(),ci=(()=>{class ${static{this.\u0275fac=function(re){return new(re||$)}}static{this.\u0275mod=I.$C({type:$})}static{this.\u0275inj=I.G2t({imports:[Lo]})}}return $})();class oi extends ct{constructor(W,N,re){super(Si(N),te(re,N)),this.controls=W,this._initObservables(),this._setUpdateStrategy(N),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(W){return this.controls[this._adjustIndex(W)]}push(W,N={}){this.controls.push(W),this._registerControl(W),this.updateValueAndValidity({emitEvent:N.emitEvent}),this._onCollectionChange()}insert(W,N,re={}){this.controls.splice(W,0,N),this._registerControl(N),this.updateValueAndValidity({emitEvent:re.emitEvent})}removeAt(W,N={}){let re=this._adjustIndex(W);re<0&&(re=0),this.controls[re]&&this.controls[re]._registerOnCollectionChange(()=>{}),this.controls.splice(re,1),this.updateValueAndValidity({emitEvent:N.emitEvent})}setControl(W,N,re={}){let ye=this._adjustIndex(W);ye<0&&(ye=0),this.controls[ye]&&this.controls[ye]._registerOnCollectionChange(()=>{}),this.controls.splice(ye,1),N&&(this.controls.splice(ye,0,N),this._registerControl(N)),this.updateValueAndValidity({emitEvent:re.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(W,N={}){Te(this,0,W),W.forEach((re,ye)=>{_e(this,!1,ye),this.at(ye).setValue(re,{onlySelf:!0,emitEvent:N.emitEvent})}),this.updateValueAndValidity(N)}patchValue(W,N={}){null!=W&&(W.forEach((re,ye)=>{this.at(ye)&&this.at(ye).patchValue(re,{onlySelf:!0,emitEvent:N.emitEvent})}),this.updateValueAndValidity(N))}reset(W=[],N={}){this._forEachChild((re,ye)=>{re.reset(W[ye],{onlySelf:!0,emitEvent:N.emitEvent})}),this._updatePristine(N),this._updateTouched(N),this.updateValueAndValidity(N)}getRawValue(){return this.controls.map(W=>W.getRawValue())}clear(W={}){this.controls.length<1||(this._forEachChild(N=>N._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:W.emitEvent}))}_adjustIndex(W){return W<0?W+this.length:W}_syncPendingControls(){let W=this.controls.reduce((N,re)=>!!re._syncPendingControls()||N,!1);return W&&this.updateValueAndValidity({onlySelf:!0}),W}_forEachChild(W){this.controls.forEach((N,re)=>{W(N,re)})}_updateValue(){this.value=this.controls.filter(W=>W.enabled||this.disabled).map(W=>W.value)}_anyControls(W){return this.controls.some(N=>N.enabled&&W(N))}_setUpControls(){this._forEachChild(W=>this._registerControl(W))}_allControlsDisabled(){for(const W of this.controls)if(W.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(W){W.setParent(this),W._registerOnCollectionChange(this._onCollectionChange)}_find(W){return this.at(W)??null}}function Gi($){return!!$&&(void 0!==$.asyncValidators||void 0!==$.validators||void 0!==$.updateOn)}let Fi=(()=>{class ${constructor(){this.useNonNullable=!1}get nonNullable(){const N=new $;return N.useNonNullable=!0,N}group(N,re=null){const ye=this._reduceControls(N);let Ft={};return Gi(re)?Ft=re:null!==re&&(Ft.validators=re.validator,Ft.asyncValidators=re.asyncValidator),new Ut(ye,Ft)}record(N,re=null){const ye=this._reduceControls(N);return new Rn(ye,re)}control(N,re,ye){let Ft={};return this.useNonNullable?(Gi(re)?Ft=re:(Ft.validators=re,Ft.asyncValidators=ye),new Fo(N,{...Ft,nonNullable:!0})):new Fo(N,re,ye)}array(N,re,ye){const Ft=N.map(En=>this._createControl(En));return new oi(Ft,re,ye)}_reduceControls(N){const re={};return Object.keys(N).forEach(ye=>{re[ye]=this._createControl(N[ye])}),re}_createControl(N){return N instanceof Fo||N instanceof ct?N:Array.isArray(N)?this.control(N[0],N.length>1?N[1]:null,N.length>2?N[2]:null):this.control(N)}static{this.\u0275fac=function(re){return new(re||$)}}static{this.\u0275prov=I.jDH({token:$,factory:$.\u0275fac,providedIn:"root"})}}return $})(),cs=(()=>{class ${static withConfig(N){return{ngModule:$,providers:[{provide:Kt,useValue:N.callSetDisabledState??qr}]}}static{this.\u0275fac=function(re){return new(re||$)}}static{this.\u0275mod=I.$C({type:$})}static{this.\u0275inj=I.G2t({imports:[ci]})}}return $})(),Xo=(()=>{class ${static withConfig(N){return{ngModule:$,providers:[{provide:Mn,useValue:N.warnOnNgModelWithFormControl??"always"},{provide:Kt,useValue:N.callSetDisabledState??qr}]}}static{this.\u0275fac=function(re){return new(re||$)}}static{this.\u0275mod=I.$C({type:$})}static{this.\u0275inj=I.G2t({imports:[ci]})}}return $})()},345:(on,Ze,q)=>{q.d(Ze,{B7:()=>Rt,Bb:()=>xn,hE:()=>Cr,sG:()=>Ct,up:()=>jr});var I=q(2598),Ee=q(177);class $e extends Ee.VF{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Y extends $e{static makeCurrent(){(0,Ee.ZD)(new Y)}onAndCancel(te,H,Q){return te.addEventListener(H,Q),()=>{te.removeEventListener(H,Q)}}dispatchEvent(te,H){te.dispatchEvent(H)}remove(te){te.parentNode&&te.parentNode.removeChild(te)}createElement(te,H){return(H=H||this.getDefaultDocument()).createElement(te)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(te){return te.nodeType===Node.ELEMENT_NODE}isShadowRoot(te){return te instanceof DocumentFragment}getGlobalEventTarget(te,H){return"window"===H?window:"document"===H?te:"body"===H?te.body:null}getBaseHref(te){const H=function le(){return de=de||document.querySelector("base"),de?de.getAttribute("href"):null}();return null==H?null:function ot(Ye){Re=Re||document.createElement("a"),Re.setAttribute("href",Ye);const te=Re.pathname;return"/"===te.charAt(0)?te:`/${te}`}(H)}resetBaseElement(){de=null}getUserAgent(){return window.navigator.userAgent}getCookie(te){return(0,Ee._b)(document.cookie,te)}}let Re,de=null,pe=(()=>{class Ye{build(){return new XMLHttpRequest}static{this.\u0275fac=function(Q){return new(Q||Ye)}}static{this.\u0275prov=I.jDH({token:Ye,factory:Ye.\u0275fac})}}return Ye})();const Ie=new I.nKC("EventManagerPlugins");let ze=(()=>{class Ye{constructor(H,Q){this._zone=Q,this._eventNameToPlugin=new Map,H.forEach(_e=>{_e.manager=this}),this._plugins=H.slice().reverse()}addEventListener(H,Q,_e){return this._findPluginFor(Q).addEventListener(H,Q,_e)}getZone(){return this._zone}_findPluginFor(H){let Q=this._eventNameToPlugin.get(H);if(Q)return Q;if(Q=this._plugins.find(Te=>Te.supports(H)),!Q)throw new I.wOt(5101,!1);return this._eventNameToPlugin.set(H,Q),Q}static{this.\u0275fac=function(Q){return new(Q||Ye)(I.KVO(Ie),I.KVO(I.SKi))}}static{this.\u0275prov=I.jDH({token:Ye,factory:Ye.\u0275fac})}}return Ye})();class gt{constructor(te){this._doc=te}}const nt="ng-app-id";let Tt=(()=>{class Ye{constructor(H,Q,_e,Te={}){this.doc=H,this.appId=Q,this.nonce=_e,this.platformId=Te,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,Ee.Vy)(Te),this.resetHostNodes()}addStyles(H){for(const Q of H)1===this.changeUsageCount(Q,1)&&this.onStyleAdded(Q)}removeStyles(H){for(const Q of H)this.changeUsageCount(Q,-1)<=0&&this.onStyleRemoved(Q)}ngOnDestroy(){const H=this.styleNodesInDOM;H&&(H.forEach(Q=>Q.remove()),H.clear());for(const Q of this.getAllStyles())this.onStyleRemoved(Q);this.resetHostNodes()}addHost(H){this.hostNodes.add(H);for(const Q of this.getAllStyles())this.addStyleToHost(H,Q)}removeHost(H){this.hostNodes.delete(H)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(H){for(const Q of this.hostNodes)this.addStyleToHost(Q,H)}onStyleRemoved(H){const Q=this.styleRef;Q.get(H)?.elements?.forEach(_e=>_e.remove()),Q.delete(H)}collectServerRenderedStyles(){const H=this.doc.head?.querySelectorAll(`style[${nt}="${this.appId}"]`);if(H?.length){const Q=new Map;return H.forEach(_e=>{null!=_e.textContent&&Q.set(_e.textContent,_e)}),Q}return null}changeUsageCount(H,Q){const _e=this.styleRef;if(_e.has(H)){const Te=_e.get(H);return Te.usage+=Q,Te.usage}return _e.set(H,{usage:Q,elements:[]}),Q}getStyleElement(H,Q){const _e=this.styleNodesInDOM,Te=_e?.get(Q);if(Te?.parentNode===H)return _e.delete(Q),Te.removeAttribute(nt),Te;{const ct=this.doc.createElement("style");return this.nonce&&ct.setAttribute("nonce",this.nonce),ct.textContent=Q,this.platformIsServer&&ct.setAttribute(nt,this.appId),ct}}addStyleToHost(H,Q){const _e=this.getStyleElement(H,Q);H.appendChild(_e);const Te=this.styleRef,ct=Te.get(Q)?.elements;ct?ct.push(_e):Te.set(Q,{elements:[_e],usage:1})}resetHostNodes(){const H=this.hostNodes;H.clear(),H.add(this.doc.head)}static{this.\u0275fac=function(Q){return new(Q||Ye)(I.KVO(Ee.qQ),I.KVO(I.sZ2),I.KVO(I.BIS,8),I.KVO(I.Agw))}}static{this.\u0275prov=I.jDH({token:Ye,factory:Ye.\u0275fac})}}return Ye})();const sn={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},mt=/%COMP%/g,ut=new I.nKC("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function Mt(Ye,te){return te.map(H=>H.replace(mt,Ye))}let Rt=(()=>{class Ye{constructor(H,Q,_e,Te,ct,Ut,Wt,Jn=null){this.eventManager=H,this.sharedStylesHost=Q,this.appId=_e,this.removeStylesOnCompDestroy=Te,this.doc=ct,this.platformId=Ut,this.ngZone=Wt,this.nonce=Jn,this.rendererByCompId=new Map,this.platformIsServer=(0,Ee.Vy)(Ut),this.defaultRenderer=new cn(H,ct,Wt,this.platformIsServer)}createRenderer(H,Q){if(!H||!Q)return this.defaultRenderer;this.platformIsServer&&Q.encapsulation===I.gXe.ShadowDom&&(Q={...Q,encapsulation:I.gXe.Emulated});const _e=this.getOrCreateRenderer(H,Q);return _e instanceof Pt?_e.applyToHost(H):_e instanceof rt&&_e.applyStyles(),_e}getOrCreateRenderer(H,Q){const _e=this.rendererByCompId;let Te=_e.get(Q.id);if(!Te){const ct=this.doc,Ut=this.ngZone,Wt=this.eventManager,Jn=this.sharedStylesHost,Rn=this.removeStylesOnCompDestroy,ei=this.platformIsServer;switch(Q.encapsulation){case I.gXe.Emulated:Te=new Pt(Wt,Jn,Q,this.appId,Rn,ct,Ut,ei);break;case I.gXe.ShadowDom:return new st(Wt,Jn,H,Q,ct,Ut,this.nonce,ei);default:Te=new rt(Wt,Jn,Q,Rn,ct,Ut,ei)}_e.set(Q.id,Te)}return Te}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(Q){return new(Q||Ye)(I.KVO(ze),I.KVO(Tt),I.KVO(I.sZ2),I.KVO(ut),I.KVO(Ee.qQ),I.KVO(I.Agw),I.KVO(I.SKi),I.KVO(I.BIS))}}static{this.\u0275prov=I.jDH({token:Ye,factory:Ye.\u0275fac})}}return Ye})();class cn{constructor(te,H,Q,_e){this.eventManager=te,this.doc=H,this.ngZone=Q,this.platformIsServer=_e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(te,H){return H?this.doc.createElementNS(sn[H]||H,te):this.doc.createElement(te)}createComment(te){return this.doc.createComment(te)}createText(te){return this.doc.createTextNode(te)}appendChild(te,H){(Zt(te)?te.content:te).appendChild(H)}insertBefore(te,H,Q){te&&(Zt(te)?te.content:te).insertBefore(H,Q)}removeChild(te,H){te&&te.removeChild(H)}selectRootElement(te,H){let Q="string"==typeof te?this.doc.querySelector(te):te;if(!Q)throw new I.wOt(-5104,!1);return H||(Q.textContent=""),Q}parentNode(te){return te.parentNode}nextSibling(te){return te.nextSibling}setAttribute(te,H,Q,_e){if(_e){H=_e+":"+H;const Te=sn[_e];Te?te.setAttributeNS(Te,H,Q):te.setAttribute(H,Q)}else te.setAttribute(H,Q)}removeAttribute(te,H,Q){if(Q){const _e=sn[Q];_e?te.removeAttributeNS(_e,H):te.removeAttribute(`${Q}:${H}`)}else te.removeAttribute(H)}addClass(te,H){te.classList.add(H)}removeClass(te,H){te.classList.remove(H)}setStyle(te,H,Q,_e){_e&(I.czy.DashCase|I.czy.Important)?te.style.setProperty(H,Q,_e&I.czy.Important?"important":""):te.style[H]=Q}removeStyle(te,H,Q){Q&I.czy.DashCase?te.style.removeProperty(H):te.style[H]=""}setProperty(te,H,Q){te[H]=Q}setValue(te,H){te.nodeValue=H}listen(te,H,Q){if("string"==typeof te&&!(te=(0,Ee.QT)().getGlobalEventTarget(this.doc,te)))throw new Error(`Unsupported event target ${te} for event ${H}`);return this.eventManager.addEventListener(te,H,this.decoratePreventDefault(Q))}decoratePreventDefault(te){return H=>{if("__ngUnwrap__"===H)return te;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>te(H)):te(H))&&H.preventDefault()}}}function Zt(Ye){return"TEMPLATE"===Ye.tagName&&void 0!==Ye.content}class st extends cn{constructor(te,H,Q,_e,Te,ct,Ut,Wt){super(te,Te,ct,Wt),this.sharedStylesHost=H,this.hostEl=Q,this.shadowRoot=Q.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Jn=Mt(_e.id,_e.styles);for(const Rn of Jn){const ei=document.createElement("style");Ut&&ei.setAttribute("nonce",Ut),ei.textContent=Rn,this.shadowRoot.appendChild(ei)}}nodeOrShadowRoot(te){return te===this.hostEl?this.shadowRoot:te}appendChild(te,H){return super.appendChild(this.nodeOrShadowRoot(te),H)}insertBefore(te,H,Q){return super.insertBefore(this.nodeOrShadowRoot(te),H,Q)}removeChild(te,H){return super.removeChild(this.nodeOrShadowRoot(te),H)}parentNode(te){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(te)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class rt extends cn{constructor(te,H,Q,_e,Te,ct,Ut,Wt){super(te,Te,ct,Ut),this.sharedStylesHost=H,this.removeStylesOnCompDestroy=_e,this.styles=Wt?Mt(Wt,Q.styles):Q.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class Pt extends rt{constructor(te,H,Q,_e,Te,ct,Ut,Wt){const Jn=_e+"-"+Q.id;super(te,H,Q,Te,ct,Ut,Wt,Jn),this.contentAttr=function He(Ye){return"_ngcontent-%COMP%".replace(mt,Ye)}(Jn),this.hostAttr=function lt(Ye){return"_nghost-%COMP%".replace(mt,Ye)}(Jn)}applyToHost(te){this.applyStyles(),this.setAttribute(te,this.hostAttr,"")}createElement(te,H){const Q=super.createElement(te,H);return super.setAttribute(Q,this.contentAttr,""),Q}}let Jt=(()=>{class Ye extends gt{constructor(H){super(H)}supports(H){return!0}addEventListener(H,Q,_e){return H.addEventListener(Q,_e,!1),()=>this.removeEventListener(H,Q,_e)}removeEventListener(H,Q,_e){return H.removeEventListener(Q,_e)}static{this.\u0275fac=function(Q){return new(Q||Ye)(I.KVO(Ee.qQ))}}static{this.\u0275prov=I.jDH({token:Ye,factory:Ye.\u0275fac})}}return Ye})();const pn=["alt","control","meta","shift"],Xe={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Et={alt:Ye=>Ye.altKey,control:Ye=>Ye.ctrlKey,meta:Ye=>Ye.metaKey,shift:Ye=>Ye.shiftKey};let Oe=(()=>{class Ye extends gt{constructor(H){super(H)}supports(H){return null!=Ye.parseEventName(H)}addEventListener(H,Q,_e){const Te=Ye.parseEventName(Q),ct=Ye.eventCallback(Te.fullKey,_e,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,Ee.QT)().onAndCancel(H,Te.domEventName,ct))}static parseEventName(H){const Q=H.toLowerCase().split("."),_e=Q.shift();if(0===Q.length||"keydown"!==_e&&"keyup"!==_e)return null;const Te=Ye._normalizeKey(Q.pop());let ct="",Ut=Q.indexOf("code");if(Ut>-1&&(Q.splice(Ut,1),ct="code."),pn.forEach(Jn=>{const Rn=Q.indexOf(Jn);Rn>-1&&(Q.splice(Rn,1),ct+=Jn+".")}),ct+=Te,0!=Q.length||0===Te.length)return null;const Wt={};return Wt.domEventName=_e,Wt.fullKey=ct,Wt}static matchEventFullKeyCode(H,Q){let _e=Xe[H.key]||H.key,Te="";return Q.indexOf("code.")>-1&&(_e=H.code,Te="code."),!(null==_e||!_e)&&(_e=_e.toLowerCase()," "===_e?_e="space":"."===_e&&(_e="dot"),pn.forEach(ct=>{ct!==_e&&(0,Et[ct])(H)&&(Te+=ct+".")}),Te+=_e,Te===Q)}static eventCallback(H,Q,_e){return Te=>{Ye.matchEventFullKeyCode(Te,H)&&_e.runGuarded(()=>Q(Te))}}static _normalizeKey(H){return"esc"===H?"escape":H}static{this.\u0275fac=function(Q){return new(Q||Ye)(I.KVO(Ee.qQ))}}static{this.\u0275prov=I.jDH({token:Ye,factory:Ye.\u0275fac})}}return Ye})();const Ct=(0,I.oH4)(I.fpN,"browser",[{provide:I.Agw,useValue:Ee.AJ},{provide:I.PLl,useValue:function It(){Y.makeCurrent()},multi:!0},{provide:Ee.qQ,useFactory:function an(){return(0,I.TL$)(document),document},deps:[]}]),Qn=new I.nKC(""),Sn=[{provide:I.e01,useClass:class Ue{addToWindow(te){I.JZv.getAngularTestability=(Q,_e=!0)=>{const Te=te.findTestabilityInTree(Q,_e);if(null==Te)throw new I.wOt(5103,!1);return Te},I.JZv.getAllAngularTestabilities=()=>te.getAllTestabilities(),I.JZv.getAllAngularRootElements=()=>te.getAllRootElements(),I.JZv.frameworkStabilizers||(I.JZv.frameworkStabilizers=[]),I.JZv.frameworkStabilizers.push(Q=>{const _e=I.JZv.getAllAngularTestabilities();let Te=_e.length,ct=!1;const Ut=function(Wt){ct=ct||Wt,Te--,0==Te&&Q(ct)};_e.forEach(Wt=>{Wt.whenStable(Ut)})})}findTestabilityInTree(te,H,Q){return null==H?null:te.getTestability(H)??(Q?(0,Ee.QT)().isShadowRoot(H)?this.findTestabilityInTree(te,H.host,!0):this.findTestabilityInTree(te,H.parentElement,!0):null)}},deps:[]},{provide:I.WHO,useClass:I.NYb,deps:[I.SKi,I.giA,I.e01]},{provide:I.NYb,useClass:I.NYb,deps:[I.SKi,I.giA,I.e01]}],en=[{provide:I.H8p,useValue:"root"},{provide:I.zcH,useFactory:function Lt(){return new I.zcH},deps:[]},{provide:Ie,useClass:Jt,multi:!0,deps:[Ee.qQ,I.SKi,I.Agw]},{provide:Ie,useClass:Oe,multi:!0,deps:[Ee.qQ]},Rt,Tt,ze,{provide:I._9s,useExisting:Rt},{provide:Ee.N0,useClass:pe,deps:[]},[]];let xn=(()=>{class Ye{constructor(H){}static withServerTransition(H){return{ngModule:Ye,providers:[{provide:I.sZ2,useValue:H.appId}]}}static{this.\u0275fac=function(Q){return new(Q||Ye)(I.KVO(Qn,12))}}static{this.\u0275mod=I.$C({type:Ye})}static{this.\u0275inj=I.G2t({providers:[...en,...Sn],imports:[Ee.MD,I.Hbi]})}}return Ye})(),Cr=(()=>{class Ye{constructor(H){this._doc=H}getTitle(){return this._doc.title}setTitle(H){this._doc.title=H||""}static{this.\u0275fac=function(Q){return new(Q||Ye)(I.KVO(Ee.qQ))}}static{this.\u0275prov=I.jDH({token:Ye,factory:function(Q){let _e=null;return _e=Q?new Q:function Wn(){return new Cr((0,I.KVO)(Ee.qQ))}(),_e},providedIn:"root"})}}return Ye})();typeof window<"u"&&window;let jr=(()=>{class Ye{static{this.\u0275fac=function(Q){return new(Q||Ye)}}static{this.\u0275prov=I.jDH({token:Ye,factory:function(Q){let _e=null;return _e=Q?new(Q||Ye):I.KVO(rn),_e},providedIn:"root"})}}return Ye})(),rn=(()=>{class Ye extends jr{constructor(H){super(),this._doc=H}sanitize(H,Q){if(null==Q)return null;switch(H){case I.WPN.NONE:return Q;case I.WPN.HTML:return(0,I.ZF7)(Q,"HTML")?(0,I.rcV)(Q):(0,I.h9k)(this._doc,String(Q)).toString();case I.WPN.STYLE:return(0,I.ZF7)(Q,"Style")?(0,I.rcV)(Q):Q;case I.WPN.SCRIPT:if((0,I.ZF7)(Q,"Script"))return(0,I.rcV)(Q);throw new I.wOt(5200,!1);case I.WPN.URL:return(0,I.ZF7)(Q,"URL")?(0,I.rcV)(Q):(0,I.$MX)(String(Q));case I.WPN.RESOURCE_URL:if((0,I.ZF7)(Q,"ResourceURL"))return(0,I.rcV)(Q);throw new I.wOt(5201,!1);default:throw new I.wOt(5202,!1)}}bypassSecurityTrustHtml(H){return(0,I.Kcf)(H)}bypassSecurityTrustStyle(H){return(0,I.cWb)(H)}bypassSecurityTrustScript(H){return(0,I.UyX)(H)}bypassSecurityTrustUrl(H){return(0,I.osQ)(H)}bypassSecurityTrustResourceUrl(H){return(0,I.e5t)(H)}static{this.\u0275fac=function(Q){return new(Q||Ye)(I.KVO(Ee.qQ))}}static{this.\u0275prov=I.jDH({token:Ye,factory:function(Q){let _e=null;return _e=Q?new Q:function Co(Ye){return new rn(Ye.get(Ee.qQ))}(I.KVO(I.zZn)),_e},providedIn:"root"})}}return Ye})()},2559:(on,Ze,q)=>{q.d(Ze,{wF:()=>oo,Ix:()=>Io,Wk:()=>dr,wQ:()=>sr,iI:()=>Ea,n3:()=>er});var I=q(2598),Ee=q(1985),$e=q(8071),de=q(8455),le=q(7673),Re=q(4412),ot=q(4572);const pe=(0,q(1853).L)(T=>function(){T(this),this.name="EmptyError",this.message="no elements in sequence"});var Ie=q(8793),ze=q(8750);function gt(T){return new Ee.c(M=>{(0,ze.Tg)(T()).subscribe(M)})}var nt=q(1203);function Tt(T,M){const w=(0,$e.T)(T)?T:()=>T,O=B=>B.error(w());return new Ee.c(M?B=>M.schedule(O,0,B):O)}var sn=q(983),mt=q(8359),Xt=q(9974),tn=q(4360);function Tn(){return(0,Xt.N)((T,M)=>{let w=null;T._refCount++;const O=(0,tn._)(M,void 0,void 0,void 0,()=>{if(!T||T._refCount<=0||0<--T._refCount)return void(w=null);const B=T._connection,ne=w;w=null,B&&(!ne||B===ne)&&B.unsubscribe(),M.unsubscribe()});T.subscribe(O),O.closed||(w=T.connect())})}class yt extends Ee.c{constructor(M,w){super(),this.source=M,this.subjectFactory=w,this._subject=null,this._refCount=0,this._connection=null,(0,Xt.S)(M)&&(this.lift=M.lift)}_subscribe(M){return this.getSubject().subscribe(M)}getSubject(){const M=this._subject;return(!M||M.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:M}=this;this._subject=this._connection=null,M?.unsubscribe()}connect(){let M=this._connection;if(!M){M=this._connection=new mt.yU;const w=this.getSubject();M.add(this.source.subscribe((0,tn._)(w,void 0,()=>{this._teardown(),w.complete()},O=>{this._teardown(),w.error(O)},()=>this._teardown()))),M.closed&&(this._connection=null,M=mt.yU.EMPTY)}return M}refCount(){return Tn()(this)}}var ut=q(1413),He=q(177),lt=q(6354),Mt=q(3177),Rt=q(6697),cn=q(9172),et=q(5964),zn=q(1397);function Zt(T){return(0,Xt.N)((M,w)=>{let O=!1;M.subscribe((0,tn._)(w,B=>{O=!0,w.next(B)},()=>{O||w.next(T),w.complete()}))})}function st(T=rt){return(0,Xt.N)((M,w)=>{let O=!1;M.subscribe((0,tn._)(w,B=>{O=!0,w.next(B)},()=>O?w.complete():w.error(T())))})}function rt(){return new pe}var Pt=q(3669);function Jt(T,M){const w=arguments.length>=2;return O=>O.pipe(T?(0,et.p)((B,ne)=>T(B,ne,O)):Pt.D,(0,Rt.s)(1),w?Zt(M):st(()=>new pe))}var pn=q(274),Xe=q(8141);function Et(T){return(0,Xt.N)((M,w)=>{let ne,O=null,B=!1;O=M.subscribe((0,tn._)(w,void 0,void 0,he=>{ne=(0,ze.Tg)(T(he,Et(T)(M))),O?(O.unsubscribe(),O=null,ne.subscribe(w)):B=!0})),B&&(O.unsubscribe(),O=null,ne.subscribe(w))})}function ae(T){return T<=0?()=>sn.w:(0,Xt.N)((M,w)=>{let O=[];M.subscribe((0,tn._)(w,B=>{O.push(B),T<O.length&&O.shift()},()=>{for(const B of O)w.next(B);w.complete()},void 0,()=>{O=null}))})}var It=q(980),Lt=q(6977),an=q(6365),Tr=q(345);const Ct="primary",Qn=Symbol("RouteTitle");class Sn{constructor(M){this.params=M||{}}has(M){return Object.prototype.hasOwnProperty.call(this.params,M)}get(M){if(this.has(M)){const w=this.params[M];return Array.isArray(w)?w[0]:w}return null}getAll(M){if(this.has(M)){const w=this.params[M];return Array.isArray(w)?w:[w]}return[]}get keys(){return Object.keys(this.params)}}function en(T){return new Sn(T)}function xn(T,M,w){const O=w.path.split("/");if(O.length>T.length||"full"===w.pathMatch&&(M.hasChildren()||O.length<T.length))return null;const B={};for(let ne=0;ne<O.length;ne++){const he=O[ne],Ke=T[ne];if(he.startsWith(":"))B[he.substring(1)]=Ke;else if(he!==Ke.path)return null}return{consumed:T.slice(0,O.length),posParams:B}}function yr(T,M){const w=T?Object.keys(T):void 0,O=M?Object.keys(M):void 0;if(!w||!O||w.length!=O.length)return!1;let B;for(let ne=0;ne<w.length;ne++)if(B=w[ne],!Ot(T[B],M[B]))return!1;return!0}function Ot(T,M){if(Array.isArray(T)&&Array.isArray(M)){if(T.length!==M.length)return!1;const w=[...T].sort(),O=[...M].sort();return w.every((B,ne)=>O[ne]===B)}return T===M}function Wn(T){return T.length>0?T[T.length-1]:null}function Cr(T){return function Y(T){return!!T&&(T instanceof Ee.c||(0,$e.T)(T.lift)&&(0,$e.T)(T.subscribe))}(T)?T:(0,I.jNT)(T)?(0,de.H)(Promise.resolve(T)):(0,le.of)(T)}const Hn={exact:function Cn(T,M,w){if(!Ln(T.segments,M.segments)||!zr(T.segments,M.segments,w)||T.numberOfChildren!==M.numberOfChildren)return!1;for(const O in M.children)if(!T.children[O]||!Cn(T.children[O],M.children[O],w))return!1;return!0},subset:wt},Ht={exact:function zt(T,M){return yr(T,M)},subset:function rr(T,M){return Object.keys(M).length<=Object.keys(T).length&&Object.keys(M).every(w=>Ot(T[w],M[w]))},ignored:()=>!0};function Jr(T,M,w){return Hn[w.paths](T.root,M.root,w.matrixParams)&&Ht[w.queryParams](T.queryParams,M.queryParams)&&!("exact"===w.fragment&&T.fragment!==M.fragment)}function wt(T,M,w){return Br(T,M,M.segments,w)}function Br(T,M,w,O){if(T.segments.length>w.length){const B=T.segments.slice(0,w.length);return!(!Ln(B,w)||M.hasChildren()||!zr(B,w,O))}if(T.segments.length===w.length){if(!Ln(T.segments,w)||!zr(T.segments,w,O))return!1;for(const B in M.children)if(!T.children[B]||!wt(T.children[B],M.children[B],O))return!1;return!0}{const B=w.slice(0,T.segments.length),ne=w.slice(T.segments.length);return!!(Ln(T.segments,B)&&zr(T.segments,B,O)&&T.children[Ct])&&Br(T.children[Ct],M,ne,O)}}function zr(T,M,w){return M.every((O,B)=>Ht[w](T[B].parameters,O.parameters))}class nn{constructor(M=new Xn([],{}),w={},O=null){this.root=M,this.queryParams=w,this.fragment=O}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=en(this.queryParams)),this._queryParamMap}toString(){return Co.serialize(this)}}class Xn{constructor(M,w){this.segments=M,this.children=w,this.parent=null,Object.values(w).forEach(O=>O.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return rn(this)}}class Pn{constructor(M,w){this.path=M,this.parameters=w}get parameterMap(){return this._parameterMap||(this._parameterMap=en(this.parameters)),this._parameterMap}toString(){return Si(this)}}function Ln(T,M){return T.length===M.length&&T.every((w,O)=>w.path===M[O].path)}let ir=(()=>{class T{static{this.\u0275fac=function(O){return new(O||T)}}static{this.\u0275prov=I.jDH({token:T,factory:function(){return new jr},providedIn:"root"})}}return T})();class jr{parse(M){const w=new Rn(M);return new nn(w.parseRootSegment(),w.parseQueryParams(),w.parseFragment())}serialize(M){const w=`/${_i(M.root,!0)}`,O=function te(T){const M=Object.keys(T).map(w=>{const O=T[w];return Array.isArray(O)?O.map(B=>`${Bi(w)}=${Bi(B)}`).join("&"):`${Bi(w)}=${Bi(O)}`}).filter(w=>!!w);return M.length?`?${M.join("&")}`:""}(M.queryParams);return`${w}${O}${"string"==typeof M.fragment?`#${function xe(T){return encodeURI(T)}(M.fragment)}`:""}`}}const Co=new jr;function rn(T){return T.segments.map(M=>Si(M)).join("/")}function _i(T,M){if(!T.hasChildren())return rn(T);if(M){const w=T.children[Ct]?_i(T.children[Ct],!1):"",O=[];return Object.entries(T.children).forEach(([B,ne])=>{B!==Ct&&O.push(`${B}:${_i(ne,!1)}`)}),O.length>0?`${w}(${O.join("//")})`:w}{const w=function Fs(T,M){let w=[];return Object.entries(T.children).forEach(([O,B])=>{O===Ct&&(w=w.concat(M(B,O)))}),Object.entries(T.children).forEach(([O,B])=>{O!==Ct&&(w=w.concat(M(B,O)))}),w}(T,(O,B)=>B===Ct?[_i(T.children[Ct],!1)]:[`${B}:${_i(O,!1)}`]);return 1===Object.keys(T.children).length&&null!=T.children[Ct]?`${rn(T)}/${w[0]}`:`${rn(T)}/(${w.join("//")})`}}function hi(T){return encodeURIComponent(T).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Bi(T){return hi(T).replace(/%3B/gi,";")}function yi(T){return hi(T).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Sr(T){return decodeURIComponent(T)}function vi(T){return Sr(T.replace(/\+/g,"%20"))}function Si(T){return`${yi(T.path)}${function Ye(T){return Object.keys(T).map(M=>`;${yi(M)}=${yi(T[M])}`).join("")}(T.parameters)}`}const H=/^[^\/()?;#]+/;function Q(T){const M=T.match(H);return M?M[0]:""}const _e=/^[^\/()?;=#]+/,ct=/^[^=?&#]+/,Wt=/^[^&#]+/;class Rn{constructor(M){this.url=M,this.remaining=M}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Xn([],{}):new Xn([],this.parseChildren())}parseQueryParams(){const M={};if(this.consumeOptional("?"))do{this.parseQueryParam(M)}while(this.consumeOptional("&"));return M}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const M=[];for(this.peekStartsWith("(")||M.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),M.push(this.parseSegment());let w={};this.peekStartsWith("/(")&&(this.capture("/"),w=this.parseParens(!0));let O={};return this.peekStartsWith("(")&&(O=this.parseParens(!1)),(M.length>0||Object.keys(w).length>0)&&(O[Ct]=new Xn(M,w)),O}parseSegment(){const M=Q(this.remaining);if(""===M&&this.peekStartsWith(";"))throw new I.wOt(4009,!1);return this.capture(M),new Pn(Sr(M),this.parseMatrixParams())}parseMatrixParams(){const M={};for(;this.consumeOptional(";");)this.parseParam(M);return M}parseParam(M){const w=function Te(T){const M=T.match(_e);return M?M[0]:""}(this.remaining);if(!w)return;this.capture(w);let O="";if(this.consumeOptional("=")){const B=Q(this.remaining);B&&(O=B,this.capture(O))}M[Sr(w)]=Sr(O)}parseQueryParam(M){const w=function Ut(T){const M=T.match(ct);return M?M[0]:""}(this.remaining);if(!w)return;this.capture(w);let O="";if(this.consumeOptional("=")){const he=function Jn(T){const M=T.match(Wt);return M?M[0]:""}(this.remaining);he&&(O=he,this.capture(O))}const B=vi(w),ne=vi(O);if(M.hasOwnProperty(B)){let he=M[B];Array.isArray(he)||(he=[he],M[B]=he),he.push(ne)}else M[B]=ne}parseParens(M){const w={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const O=Q(this.remaining),B=this.remaining[O.length];if("/"!==B&&")"!==B&&";"!==B)throw new I.wOt(4010,!1);let ne;O.indexOf(":")>-1?(ne=O.slice(0,O.indexOf(":")),this.capture(ne),this.capture(":")):M&&(ne=Ct);const he=this.parseChildren();w[ne]=1===Object.keys(he).length?he[Ct]:new Xn([],he),this.consumeOptional("//")}return w}peekStartsWith(M){return this.remaining.startsWith(M)}consumeOptional(M){return!!this.peekStartsWith(M)&&(this.remaining=this.remaining.substring(M.length),!0)}capture(M){if(!this.consumeOptional(M))throw new I.wOt(4011,!1)}}function ei(T){return T.segments.length>0?new Xn([],{[Ct]:T}):T}function Kt(T){const M={};for(const O of Object.keys(T.children)){const ne=Kt(T.children[O]);if(O===Ct&&0===ne.segments.length&&ne.hasChildren())for(const[he,Ke]of Object.entries(ne.children))M[he]=Ke;else(ne.segments.length>0||ne.hasChildren())&&(M[O]=ne)}return function qr(T){if(1===T.numberOfChildren&&T.children[Ct]){const M=T.children[Ct];return new Xn(T.segments.concat(M.segments),M.children)}return T}(new Xn(T.segments,M))}function Kn(T){return T instanceof nn}function Yn(T){let M;const B=ei(function w(ne){const he={};for(const je of ne.children){const Vt=w(je);he[je.outlet]=Vt}const Ke=new Xn(ne.url,he);return ne===T&&(M=Ke),Ke}(T.root));return M??B}function Ui(T,M,w,O){let B=T;for(;B.parent;)B=B.parent;if(0===M.length)return po(B,B,B,w,O);const ne=function Me(T){if("string"==typeof T[0]&&1===T.length&&"/"===T[0])return new Qe(!0,0,T);let M=0,w=!1;const O=T.reduce((B,ne,he)=>{if("object"==typeof ne&&null!=ne){if(ne.outlets){const Ke={};return Object.entries(ne.outlets).forEach(([je,Vt])=>{Ke[je]="string"==typeof Vt?Vt.split("/"):Vt}),[...B,{outlets:Ke}]}if(ne.segmentPath)return[...B,ne.segmentPath]}return"string"!=typeof ne?[...B,ne]:0===he?(ne.split("/").forEach((Ke,je)=>{0==je&&"."===Ke||(0==je&&""===Ke?w=!0:".."===Ke?M++:""!=Ke&&B.push(Ke))}),B):[...B,ne]},[]);return new Qe(w,M,O)}(M);if(ne.toRoot())return po(B,B,new Xn([],{}),w,O);const he=function kt(T,M,w){if(T.isAbsolute)return new at(M,!0,0);if(!w)return new at(M,!1,NaN);if(null===w.parent)return new at(w,!0,0);const O=Go(T.commands[0])?0:1;return function ln(T,M,w){let O=T,B=M,ne=w;for(;ne>B;){if(ne-=B,O=O.parent,!O)throw new I.wOt(4005,!1);B=O.segments.length}return new at(O,!1,B-ne)}(w,w.segments.length-1+O,T.numberOfDoubleDots)}(ne,B,T),Ke=he.processChildren?cr(he.segmentGroup,he.index,ne.commands):On(he.segmentGroup,he.index,ne.commands);return po(B,he.segmentGroup,Ke,w,O)}function Go(T){return"object"==typeof T&&null!=T&&!T.outlets&&!T.segmentPath}function ji(T){return"object"==typeof T&&null!=T&&T.outlets}function po(T,M,w,O,B){let he,ne={};O&&Object.entries(O).forEach(([je,Vt])=>{ne[je]=Array.isArray(Vt)?Vt.map(Un=>`${Un}`):`${Vt}`}),he=T===M?w:$i(T,M,w);const Ke=ei(Kt(he));return new nn(Ke,ne,B)}function $i(T,M,w){const O={};return Object.entries(T.children).forEach(([B,ne])=>{O[B]=ne===M?w:$i(ne,M,w)}),new Xn(T.segments,O)}class Qe{constructor(M,w,O){if(this.isAbsolute=M,this.numberOfDoubleDots=w,this.commands=O,M&&O.length>0&&Go(O[0]))throw new I.wOt(4003,!1);const B=O.find(ji);if(B&&B!==Wn(O))throw new I.wOt(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class at{constructor(M,w,O){this.segmentGroup=M,this.processChildren=w,this.index=O}}function On(T,M,w){if(T||(T=new Xn([],{})),0===T.segments.length&&T.hasChildren())return cr(T,M,w);const O=function Pr(T,M,w){let O=0,B=M;const ne={match:!1,pathIndex:0,commandIndex:0};for(;B<T.segments.length;){if(O>=w.length)return ne;const he=T.segments[B],Ke=w[O];if(ji(Ke))break;const je=`${Ke}`,Vt=O<w.length-1?w[O+1]:null;if(B>0&&void 0===je)break;if(je&&Vt&&"object"==typeof Vt&&void 0===Vt.outlets){if(!ga(je,Vt,he))return ne;O+=2}else{if(!ga(je,{},he))return ne;O++}B++}return{match:!0,pathIndex:B,commandIndex:O}}(T,M,w),B=w.slice(O.commandIndex);if(O.match&&O.pathIndex<T.segments.length){const ne=new Xn(T.segments.slice(0,O.pathIndex),{});return ne.children[Ct]=new Xn(T.segments.slice(O.pathIndex),T.children),cr(ne,0,B)}return O.match&&0===B.length?new Xn(T.segments,{}):O.match&&!T.hasChildren()?Ri(T,M,w):O.match?cr(T,0,B):Ri(T,M,w)}function cr(T,M,w){if(0===w.length)return new Xn(T.segments,{});{const O=function $t(T){return ji(T[0])?T[0].outlets:{[Ct]:T}}(w),B={};if(Object.keys(O).some(ne=>ne!==Ct)&&T.children[Ct]&&1===T.numberOfChildren&&0===T.children[Ct].segments.length){const ne=cr(T.children[Ct],M,w);return new Xn(T.segments,ne.children)}return Object.entries(O).forEach(([ne,he])=>{"string"==typeof he&&(he=[he]),null!==he&&(B[ne]=On(T.children[ne],M,he))}),Object.entries(T.children).forEach(([ne,he])=>{void 0===O[ne]&&(B[ne]=he)}),new Xn(T.segments,B)}}function Ri(T,M,w){const O=T.segments.slice(0,M);let B=0;for(;B<w.length;){const ne=w[B];if(ji(ne)){const je=bi(ne.outlets);return new Xn(O,je)}if(0===B&&Go(w[0])){O.push(new Pn(T.segments[M].path,rs(w[0]))),B++;continue}const he=ji(ne)?ne.outlets[Ct]:`${ne}`,Ke=B<w.length-1?w[B+1]:null;he&&Ke&&Go(Ke)?(O.push(new Pn(he,rs(Ke))),B+=2):(O.push(new Pn(he,{})),B++)}return new Xn(O,{})}function bi(T){const M={};return Object.entries(T).forEach(([w,O])=>{"string"==typeof O&&(O=[O]),null!==O&&(M[w]=Ri(new Xn([],{}),0,O))}),M}function rs(T){const M={};return Object.entries(T).forEach(([w,O])=>M[w]=`${O}`),M}function ga(T,M,w){return T==w.path&&yr(M,w.parameters)}const lr="imperative";class Hi{constructor(M,w){this.id=M,this.url=w}}class mo extends Hi{constructor(M,w,O="imperative",B=null){super(M,w),this.type=0,this.navigationTrigger=O,this.restoredState=B}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class oo extends Hi{constructor(M,w,O){super(M,w),this.urlAfterRedirects=O,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class fi extends Hi{constructor(M,w,O,B){super(M,w),this.reason=O,this.code=B,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Wo extends Hi{constructor(M,w,O,B){super(M,w),this.reason=O,this.code=B,this.type=16}}class is extends Hi{constructor(M,w,O,B){super(M,w),this.error=O,this.target=B,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class ni extends Hi{constructor(M,w,O,B){super(M,w),this.urlAfterRedirects=O,this.state=B,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Fo extends Hi{constructor(M,w,O,B){super(M,w),this.urlAfterRedirects=O,this.state=B,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ls extends Hi{constructor(M,w,O,B,ne){super(M,w),this.urlAfterRedirects=O,this.state=B,this.shouldActivate=ne,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class yc extends Hi{constructor(M,w,O,B){super(M,w),this.urlAfterRedirects=O,this.state=B,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class so extends Hi{constructor(M,w,O,B){super(M,w),this.urlAfterRedirects=O,this.state=B,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Or{constructor(M){this.route=M,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class xi{constructor(M){this.route=M,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class ri{constructor(M){this.snapshot=M,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class vr{constructor(M){this.snapshot=M,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class $a{constructor(M){this.snapshot=M,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ko{constructor(M){this.snapshot=M,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Mi{constructor(M,w,O){this.routerEvent=M,this.position=w,this.anchor=O,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Qs{}class sa{constructor(M){this.url=M}}class Ha{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Pi,this.attachRef=null}}let Pi=(()=>{class T{constructor(){this.contexts=new Map}onChildOutletCreated(w,O){const B=this.getOrCreateContext(w);B.outlet=O,this.contexts.set(w,B)}onChildOutletDestroyed(w){const O=this.getContext(w);O&&(O.outlet=null,O.attachRef=null)}onOutletDeactivated(){const w=this.contexts;return this.contexts=new Map,w}onOutletReAttached(w){this.contexts=w}getOrCreateContext(w){let O=this.getContext(w);return O||(O=new Ha,this.contexts.set(w,O)),O}getContext(w){return this.contexts.get(w)||null}static{this.\u0275fac=function(O){return new(O||T)}}static{this.\u0275prov=I.jDH({token:T,factory:T.\u0275fac,providedIn:"root"})}}return T})();class kr{constructor(M){this._root=M}get root(){return this._root.value}parent(M){const w=this.pathFromRoot(M);return w.length>1?w[w.length-2]:null}children(M){const w=Qi(M,this._root);return w?w.children.map(O=>O.value):[]}firstChild(M){const w=Qi(M,this._root);return w&&w.children.length>0?w.children[0].value:null}siblings(M){const w=Lo(M,this._root);return w.length<2?[]:w[w.length-2].children.map(B=>B.value).filter(B=>B!==M)}pathFromRoot(M){return Lo(M,this._root).map(w=>w.value)}}function Qi(T,M){if(T===M.value)return M;for(const w of M.children){const O=Qi(T,w);if(O)return O}return null}function Lo(T,M){if(T===M.value)return[M];for(const w of M.children){const O=Lo(T,w);if(O.length)return O.unshift(M),O}return[]}class Xi{constructor(M,w){this.value=M,this.children=w}toString(){return`TreeNode(${this.value})`}}function go(T){const M={};return T&&T.children.forEach(w=>M[w.value.outlet]=w),M}class Xs extends kr{constructor(M,w){super(M),this.snapshot=w,_o(this,M)}toString(){return this.snapshot.toString()}}function Vo(T,M){const w=function Mn(T,M){const he=new Fr([],{},{},"",{},Ct,M,null,{});return new Yi("",new Xi(he,[]))}(0,M),O=new Re.t([new Pn("",{})]),B=new Re.t({}),ne=new Re.t({}),he=new Re.t({}),Ke=new Re.t(""),je=new Nr(O,B,he,Ke,ne,Ct,M,w.root);return je.snapshot=w.root,new Xs(new Xi(je,[]),w)}class Nr{constructor(M,w,O,B,ne,he,Ke,je){this.urlSubject=M,this.paramsSubject=w,this.queryParamsSubject=O,this.fragmentSubject=B,this.dataSubject=ne,this.outlet=he,this.component=Ke,this._futureSnapshot=je,this.title=this.dataSubject?.pipe((0,lt.T)(Vt=>Vt[Qn]))??(0,le.of)(void 0),this.url=M,this.params=w,this.queryParams=O,this.fragment=B,this.data=ne}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,lt.T)(M=>en(M)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,lt.T)(M=>en(M)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function br(T,M="emptyOnly"){const w=T.pathFromRoot;let O=0;if("always"!==M)for(O=w.length-1;O>=1;){const B=w[O],ne=w[O-1];if(B.routeConfig&&""===B.routeConfig.path)O--;else{if(ne.component)break;O--}}return function zi(T){return T.reduce((M,w)=>({params:{...M.params,...w.params},data:{...M.data,...w.data},resolve:{...w.data,...M.resolve,...w.routeConfig?.data,...w._resolvedData}}),{params:{},data:{},resolve:{}})}(w.slice(O))}class Fr{get title(){return this.data?.[Qn]}constructor(M,w,O,B,ne,he,Ke,je,Vt){this.url=M,this.params=w,this.queryParams=O,this.fragment=B,this.data=ne,this.outlet=he,this.component=Ke,this.routeConfig=je,this._resolve=Vt}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=en(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=en(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(O=>O.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Yi extends kr{constructor(M,w){super(w),this.url=M,_o(this,w)}toString(){return Es(this._root)}}function _o(T,M){M.value._routerState=T,M.children.forEach(w=>_o(T,w))}function Es(T){const M=T.children.length>0?` { ${T.children.map(Es).join(", ")} } `:"";return`${T.value}${M}`}function yo(T){if(T.snapshot){const M=T.snapshot,w=T._futureSnapshot;T.snapshot=w,yr(M.queryParams,w.queryParams)||T.queryParamsSubject.next(w.queryParams),M.fragment!==w.fragment&&T.fragmentSubject.next(w.fragment),yr(M.params,w.params)||T.paramsSubject.next(w.params),function Kr(T,M){if(T.length!==M.length)return!1;for(let w=0;w<T.length;++w)if(!yr(T[w],M[w]))return!1;return!0}(M.url,w.url)||T.urlSubject.next(w.url),yr(M.data,w.data)||T.dataSubject.next(w.data)}else T.snapshot=T._futureSnapshot,T.dataSubject.next(T._futureSnapshot.data)}function Ys(T,M){const w=yr(T.params,M.params)&&function Di(T,M){return Ln(T,M)&&T.every((w,O)=>yr(w.parameters,M[O].parameters))}(T.url,M.url);return w&&!(!T.parent!=!M.parent)&&(!T.parent||Ys(T.parent,M.parent))}let er=(()=>{class T{constructor(){this.activated=null,this._activatedRoute=null,this.name=Ct,this.activateEvents=new I.bkB,this.deactivateEvents=new I.bkB,this.attachEvents=new I.bkB,this.detachEvents=new I.bkB,this.parentContexts=(0,I.WQX)(Pi),this.location=(0,I.WQX)(I.c1b),this.changeDetector=(0,I.WQX)(I.gRc),this.environmentInjector=(0,I.WQX)(I.uvJ),this.inputBinder=(0,I.WQX)(vn,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(w){if(w.name){const{firstChange:O,previousValue:B}=w.name;if(O)return;this.isTrackedInParentContexts(B)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(B)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(w){return this.parentContexts.getContext(w)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const w=this.parentContexts.getContext(this.name);w?.route&&(w.attachRef?this.attach(w.attachRef,w.route):this.activateWith(w.route,w.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new I.wOt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new I.wOt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new I.wOt(4012,!1);this.location.detach();const w=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(w.instance),w}attach(w,O){this.activated=w,this._activatedRoute=O,this.location.insert(w.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(w.instance)}deactivate(){if(this.activated){const w=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(w)}}activateWith(w,O){if(this.isActivated)throw new I.wOt(4013,!1);this._activatedRoute=w;const B=this.location,he=w.snapshot.component,Ke=this.parentContexts.getOrCreateContext(this.name).children,je=new Nt(w,Ke,B.injector);this.activated=B.createComponent(he,{index:B.length,injector:je,environmentInjector:O??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(O){return new(O||T)}}static{this.\u0275dir=I.FsC({type:T,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[I.OA$]})}}return T})();class Nt{constructor(M,w,O){this.route=M,this.childContexts=w,this.parent=O}get(M,w){return M===Nr?this.route:M===Pi?this.childContexts:this.parent.get(M,w)}}const vn=new I.nKC("");let ur=(()=>{class T{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(w){this.unsubscribeFromRouteData(w),this.subscribeToRouteData(w)}unsubscribeFromRouteData(w){this.outletDataSubscriptions.get(w)?.unsubscribe(),this.outletDataSubscriptions.delete(w)}subscribeToRouteData(w){const{activatedRoute:O}=w,B=(0,ot.z)([O.queryParams,O.params,O.data]).pipe((0,Mt.n)(([ne,he,Ke],je)=>(Ke={...ne,...he,...Ke},0===je?(0,le.of)(Ke):Promise.resolve(Ke)))).subscribe(ne=>{if(!w.isActivated||!w.activatedComponentRef||w.activatedRoute!==O||null===O.component)return void this.unsubscribeFromRouteData(w);const he=(0,I.HJs)(O.component);if(he)for(const{templateName:Ke}of he.inputs)w.activatedComponentRef.setInput(Ke,ne[Ke]);else this.unsubscribeFromRouteData(w)});this.outletDataSubscriptions.set(w,B)}static{this.\u0275fac=function(O){return new(O||T)}}static{this.\u0275prov=I.jDH({token:T,factory:T.\u0275fac})}}return T})();function Lr(T,M,w){if(w&&T.shouldReuseRoute(M.value,w.value.snapshot)){const O=w.value;O._futureSnapshot=M.value;const B=function Hr(T,M,w){return M.children.map(O=>{for(const B of w.children)if(T.shouldReuseRoute(O.value,B.value.snapshot))return Lr(T,O,B);return Lr(T,O)})}(T,M,w);return new Xi(O,B)}{if(T.shouldAttach(M.value)){const ne=T.retrieve(M.value);if(null!==ne){const he=ne.route;return he.value._futureSnapshot=M.value,he.children=M.children.map(Ke=>Lr(T,Ke)),he}}const O=function os(T){return new Nr(new Re.t(T.url),new Re.t(T.params),new Re.t(T.queryParams),new Re.t(T.fragment),new Re.t(T.data),T.outlet,T.component,T)}(M.value),B=M.children.map(ne=>Lr(T,ne));return new Xi(O,B)}}const fr="ngNavigationCancelingError";function Ao(T,M){const{redirectTo:w,navigationBehaviorOptions:O}=Kn(M)?{redirectTo:M,navigationBehaviorOptions:void 0}:M,B=Qr(!1,0,M);return B.url=w,B.navigationBehaviorOptions=O,B}function Qr(T,M,w){const O=new Error("NavigationCancelingError: "+(T||""));return O[fr]=!0,O.cancellationCode=M,w&&(O.url=w),O}function Is(T){return T&&T[fr]}let ws=(()=>{class T{static{this.\u0275fac=function(O){return new(O||T)}}static{this.\u0275cmp=I.VBU({type:T,selectors:[["ng-component"]],standalone:!0,features:[I.aNF],decls:1,vars:0,template:function(O,B){1&O&&I.nrm(0,"router-outlet")},dependencies:[er],encapsulation:2})}}return T})();function Zi(T){const M=T.children&&T.children.map(Zi),w=M?{...T,children:M}:{...T};return!w.component&&!w.loadComponent&&(M||w.loadChildren)&&w.outlet&&w.outlet!==Ct&&(w.component=ws),w}function _n(T){return T.outlet||Ct}function Ji(T){if(!T)return null;if(T.routeConfig?._injector)return T.routeConfig._injector;for(let M=T.parent;M;M=M.parent){const w=M.routeConfig;if(w?._loadedInjector)return w._loadedInjector;if(w?._injector)return w._injector}return null}class Er{constructor(M,w,O,B,ne){this.routeReuseStrategy=M,this.futureState=w,this.currState=O,this.forwardEvent=B,this.inputBindingEnabled=ne}activate(M){const w=this.futureState._root,O=this.currState?this.currState._root:null;this.deactivateChildRoutes(w,O,M),yo(this.futureState.root),this.activateChildRoutes(w,O,M)}deactivateChildRoutes(M,w,O){const B=go(w);M.children.forEach(ne=>{const he=ne.value.outlet;this.deactivateRoutes(ne,B[he],O),delete B[he]}),Object.values(B).forEach(ne=>{this.deactivateRouteAndItsChildren(ne,O)})}deactivateRoutes(M,w,O){const B=M.value,ne=w?w.value:null;if(B===ne)if(B.component){const he=O.getContext(B.outlet);he&&this.deactivateChildRoutes(M,w,he.children)}else this.deactivateChildRoutes(M,w,O);else ne&&this.deactivateRouteAndItsChildren(w,O)}deactivateRouteAndItsChildren(M,w){M.value.component&&this.routeReuseStrategy.shouldDetach(M.value.snapshot)?this.detachAndStoreRouteSubtree(M,w):this.deactivateRouteAndOutlet(M,w)}detachAndStoreRouteSubtree(M,w){const O=w.getContext(M.value.outlet),B=O&&M.value.component?O.children:w,ne=go(M);for(const he of Object.keys(ne))this.deactivateRouteAndItsChildren(ne[he],B);if(O&&O.outlet){const he=O.outlet.detach(),Ke=O.children.onOutletDeactivated();this.routeReuseStrategy.store(M.value.snapshot,{componentRef:he,route:M,contexts:Ke})}}deactivateRouteAndOutlet(M,w){const O=w.getContext(M.value.outlet),B=O&&M.value.component?O.children:w,ne=go(M);for(const he of Object.keys(ne))this.deactivateRouteAndItsChildren(ne[he],B);O&&(O.outlet&&(O.outlet.deactivate(),O.children.onOutletDeactivated()),O.attachRef=null,O.route=null)}activateChildRoutes(M,w,O){const B=go(w);M.children.forEach(ne=>{this.activateRoutes(ne,B[ne.value.outlet],O),this.forwardEvent(new Ko(ne.value.snapshot))}),M.children.length&&this.forwardEvent(new vr(M.value.snapshot))}activateRoutes(M,w,O){const B=M.value,ne=w?w.value:null;if(yo(B),B===ne)if(B.component){const he=O.getOrCreateContext(B.outlet);this.activateChildRoutes(M,w,he.children)}else this.activateChildRoutes(M,w,O);else if(B.component){const he=O.getOrCreateContext(B.outlet);if(this.routeReuseStrategy.shouldAttach(B.snapshot)){const Ke=this.routeReuseStrategy.retrieve(B.snapshot);this.routeReuseStrategy.store(B.snapshot,null),he.children.onOutletReAttached(Ke.contexts),he.attachRef=Ke.componentRef,he.route=Ke.route.value,he.outlet&&he.outlet.attach(Ke.componentRef,Ke.route.value),yo(Ke.route.value),this.activateChildRoutes(M,null,he.children)}else{const Ke=Ji(B.snapshot);he.attachRef=null,he.route=B,he.injector=Ke,he.outlet&&he.outlet.activateWith(B,he.injector),this.activateChildRoutes(M,null,he.children)}}else this.activateChildRoutes(M,null,O)}}class qo{constructor(M){this.path=M,this.route=this.path[this.path.length-1]}}class Ni{constructor(M,w){this.component=M,this.route=w}}function _a(T,M,w){const O=T._root;return ci(O,M?M._root:null,w,[O.value])}function ca(T,M){const w=Symbol(),O=M.get(T,w);return O===w?"function"!=typeof T||(0,I.LfX)(T)?M.get(T):T:O}function ci(T,M,w,O,B={canDeactivateChecks:[],canActivateChecks:[]}){const ne=go(M);return T.children.forEach(he=>{(function oi(T,M,w,O,B={canDeactivateChecks:[],canActivateChecks:[]}){const ne=T.value,he=M?M.value:null,Ke=w?w.getContext(T.value.outlet):null;if(he&&ne.routeConfig===he.routeConfig){const je=function Qo(T,M,w){if("function"==typeof w)return w(T,M);switch(w){case"pathParamsChange":return!Ln(T.url,M.url);case"pathParamsOrQueryParamsChange":return!Ln(T.url,M.url)||!yr(T.queryParams,M.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Ys(T,M)||!yr(T.queryParams,M.queryParams);default:return!Ys(T,M)}}(he,ne,ne.routeConfig.runGuardsAndResolvers);je?B.canActivateChecks.push(new qo(O)):(ne.data=he.data,ne._resolvedData=he._resolvedData),ci(T,M,ne.component?Ke?Ke.children:null:w,O,B),je&&Ke&&Ke.outlet&&Ke.outlet.isActivated&&B.canDeactivateChecks.push(new Ni(Ke.outlet.component,he))}else he&&Xr(M,Ke,B),B.canActivateChecks.push(new qo(O)),ci(T,null,ne.component?Ke?Ke.children:null:w,O,B)})(he,ne[he.value.outlet],w,O.concat([he.value]),B),delete ne[he.value.outlet]}),Object.entries(ne).forEach(([he,Ke])=>Xr(Ke,w.getContext(he),B)),B}function Xr(T,M,w){const O=go(T),B=T.value;Object.entries(O).forEach(([ne,he])=>{Xr(he,B.component?M?M.children.getContext(ne):null:M,w)}),w.canDeactivateChecks.push(new Ni(B.component&&M&&M.outlet&&M.outlet.isActivated?M.outlet.component:null,B))}function Gi(T){return"function"==typeof T}function N(T){return T instanceof pe||"EmptyError"===T?.name}const re=Symbol("INITIAL_VALUE");function ye(){return(0,Mt.n)(T=>(0,ot.z)(T.map(M=>M.pipe((0,Rt.s)(1),(0,cn.Z)(re)))).pipe((0,lt.T)(M=>{for(const w of M)if(!0!==w){if(w===re)return re;if(!1===w||w instanceof nn)return w}return!0}),(0,et.p)(M=>M!==re),(0,Rt.s)(1)))}function Zs(T){return(0,nt.F)((0,Xe.M)(M=>{if(Kn(M))throw Ao(0,M)}),(0,lt.T)(M=>!0===M))}class Js{constructor(M){this.segmentGroup=M||null}}class us{constructor(M){this.urlTree=M}}function pi(T){return Tt(new Js(T))}function ds(T){return Tt(new us(T))}class Rr{constructor(M,w){this.urlSerializer=M,this.urlTree=w}noMatchError(M){return new I.wOt(4002,!1)}lineralizeSegments(M,w){let O=[],B=w.root;for(;;){if(O=O.concat(B.segments),0===B.numberOfChildren)return(0,le.of)(O);if(B.numberOfChildren>1||!B.children[Ct])return Tt(new I.wOt(4e3,!1));B=B.children[Ct]}}applyRedirectCommands(M,w,O){return this.applyRedirectCreateUrlTree(w,this.urlSerializer.parse(w),M,O)}applyRedirectCreateUrlTree(M,w,O,B){const ne=this.createSegmentGroup(M,w.root,O,B);return new nn(ne,this.createQueryParams(w.queryParams,this.urlTree.queryParams),w.fragment)}createQueryParams(M,w){const O={};return Object.entries(M).forEach(([B,ne])=>{if("string"==typeof ne&&ne.startsWith(":")){const Ke=ne.substring(1);O[B]=w[Ke]}else O[B]=ne}),O}createSegmentGroup(M,w,O,B){const ne=this.createSegments(M,w.segments,O,B);let he={};return Object.entries(w.children).forEach(([Ke,je])=>{he[Ke]=this.createSegmentGroup(M,je,O,B)}),new Xn(ne,he)}createSegments(M,w,O,B){return w.map(ne=>ne.path.startsWith(":")?this.findPosParam(M,ne,B):this.findOrReturn(ne,O))}findPosParam(M,w,O){const B=O[w.path.substring(1)];if(!B)throw new I.wOt(4001,!1);return B}findOrReturn(M,w){let O=0;for(const B of w){if(B.path===M.path)return w.splice(O),B;O++}return M}}const hs={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Ur(T,M,w,O,B){const ne=ua(T,M,w);return ne.matched?(O=function ss(T,M){return T.providers&&!T._injector&&(T._injector=(0,I.Ol2)(T.providers,M,`Route: ${T.path}`)),T._injector??M}(M,O),function vc(T,M,w,O){const B=M.canMatch;if(!B||0===B.length)return(0,le.of)(!0);const ne=B.map(he=>{const Ke=ca(he,T);return Cr(function Xo(T){return T&&Gi(T.canMatch)}(Ke)?Ke.canMatch(M,w):T.runInContext(()=>Ke(M,w)))});return(0,le.of)(ne).pipe(ye(),Zs())}(O,M,w).pipe((0,lt.T)(he=>!0===he?ne:{...hs}))):(0,le.of)(ne)}function ua(T,M,w){if(""===M.path)return"full"===M.pathMatch&&(T.hasChildren()||w.length>0)?{...hs}:{matched:!0,consumedSegments:[],remainingSegments:w,parameters:{},positionalParamSegments:{}};const B=(M.matcher||xn)(w,T,M);if(!B)return{...hs};const ne={};Object.entries(B.posParams??{}).forEach(([Ke,je])=>{ne[Ke]=je.path});const he=B.consumed.length>0?{...ne,...B.consumed[B.consumed.length-1].parameters}:ne;return{matched:!0,consumedSegments:B.consumed,remainingSegments:w.slice(B.consumed.length),parameters:he,positionalParamSegments:B.posParams??{}}}function Cs(T,M,w,O){return w.length>0&&function Zc(T,M,w){return w.some(O=>da(T,M,O)&&_n(O)!==Ct)}(T,w,O)?{segmentGroup:new Xn(M,Bo(O,new Xn(w,T.children))),slicedSegments:[]}:0===w.length&&function bo(T,M,w){return w.some(O=>da(T,M,O))}(T,w,O)?{segmentGroup:new Xn(T.segments,Wa(T,0,w,O,T.children)),slicedSegments:w}:{segmentGroup:new Xn(T.segments,T.children),slicedSegments:w}}function Wa(T,M,w,O,B){const ne={};for(const he of O)if(da(T,w,he)&&!B[_n(he)]){const Ke=new Xn([],{});ne[_n(he)]=Ke}return{...B,...ne}}function Bo(T,M){const w={};w[Ct]=M;for(const O of T)if(""===O.path&&_n(O)!==Ct){const B=new Xn([],{});w[_n(O)]=B}return w}function da(T,M,w){return(!(T.hasChildren()||M.length>0)||"full"!==w.pathMatch)&&""===w.path}class Ec{constructor(M,w,O,B,ne,he,Ke){this.injector=M,this.configLoader=w,this.rootComponentType=O,this.config=B,this.urlTree=ne,this.paramsInheritanceStrategy=he,this.urlSerializer=Ke,this.allowRedirects=!0,this.applyRedirects=new Rr(this.urlSerializer,this.urlTree)}noMatchError(M){return new I.wOt(4002,!1)}recognize(){const M=Cs(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,M,Ct).pipe(Et(w=>{if(w instanceof us)return this.allowRedirects=!1,this.urlTree=w.urlTree,this.match(w.urlTree);throw w instanceof Js?this.noMatchError(w):w}),(0,lt.T)(w=>{const O=new Fr([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Ct,this.rootComponentType,null,{}),B=new Xi(O,w),ne=new Yi("",B),he=function ti(T,M,w=null,O=null){return Ui(Yn(T),M,w,O)}(O,[],this.urlTree.queryParams,this.urlTree.fragment);return he.queryParams=this.urlTree.queryParams,ne.url=this.urlSerializer.serialize(he),this.inheritParamsAndData(ne._root),{state:ne,tree:he}}))}match(M){return this.processSegmentGroup(this.injector,this.config,M.root,Ct).pipe(Et(O=>{throw O instanceof Js?this.noMatchError(O):O}))}inheritParamsAndData(M){const w=M.value,O=br(w,this.paramsInheritanceStrategy);w.params=Object.freeze(O.params),w.data=Object.freeze(O.data),M.children.forEach(B=>this.inheritParamsAndData(B))}processSegmentGroup(M,w,O,B){return 0===O.segments.length&&O.hasChildren()?this.processChildren(M,w,O):this.processSegment(M,w,O,O.segments,B,!0)}processChildren(M,w,O){const B=[];for(const ne of Object.keys(O.children))"primary"===ne?B.unshift(ne):B.push(ne);return(0,de.H)(B).pipe((0,pn.H)(ne=>{const he=O.children[ne],Ke=function qt(T,M){const w=T.filter(O=>_n(O)===M);return w.push(...T.filter(O=>_n(O)!==M)),w}(w,ne);return this.processSegmentGroup(M,Ke,he,ne)}),function me(T,M){return(0,Xt.N)(function Oe(T,M,w,O,B){return(ne,he)=>{let Ke=w,je=M,Vt=0;ne.subscribe((0,tn._)(he,Un=>{const xr=Vt++;je=Ke?T(je,Un,xr):(Ke=!0,Un),O&&he.next(je)},B&&(()=>{Ke&&he.next(je),he.complete()})))}}(T,M,arguments.length>=2,!0))}((ne,he)=>(ne.push(...he),ne)),Zt(null),function ge(T,M){const w=arguments.length>=2;return O=>O.pipe(T?(0,et.p)((B,ne)=>T(B,ne,O)):Pt.D,ae(1),w?Zt(M):st(()=>new pe))}(),(0,zn.Z)(ne=>{if(null===ne)return pi(O);const he=As(ne);return function ta(T){T.sort((M,w)=>M.value.outlet===Ct?-1:w.value.outlet===Ct?1:M.value.outlet.localeCompare(w.value.outlet))}(he),(0,le.of)(he)}))}processSegment(M,w,O,B,ne,he){return(0,de.H)(w).pipe((0,pn.H)(Ke=>this.processSegmentAgainstRoute(Ke._injector??M,w,Ke,O,B,ne,he).pipe(Et(je=>{if(je instanceof Js)return(0,le.of)(null);throw je}))),Jt(Ke=>!!Ke),Et(Ke=>{if(N(Ke))return function Vn(T,M,w){return 0===M.length&&!T.children[w]}(O,B,ne)?(0,le.of)([]):pi(O);throw Ke}))}processSegmentAgainstRoute(M,w,O,B,ne,he,Ke){return function ea(T,M,w,O){return!!(_n(T)===O||O!==Ct&&da(M,w,T))&&("**"===T.path||ua(M,T,w).matched)}(O,B,ne,he)?void 0===O.redirectTo?this.matchSegmentAgainstRoute(M,B,O,ne,he,Ke):Ke&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(M,B,w,O,ne,he):pi(B):pi(B)}expandSegmentAgainstRouteUsingRedirect(M,w,O,B,ne,he){return"**"===B.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(M,O,B,he):this.expandRegularSegmentAgainstRouteUsingRedirect(M,w,O,B,ne,he)}expandWildCardWithParamsAgainstRouteUsingRedirect(M,w,O,B){const ne=this.applyRedirects.applyRedirectCommands([],O.redirectTo,{});return O.redirectTo.startsWith("/")?ds(ne):this.applyRedirects.lineralizeSegments(O,ne).pipe((0,zn.Z)(he=>{const Ke=new Xn(he,{});return this.processSegment(M,w,Ke,he,B,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(M,w,O,B,ne,he){const{matched:Ke,consumedSegments:je,remainingSegments:Vt,positionalParamSegments:Un}=ua(w,B,ne);if(!Ke)return pi(w);const xr=this.applyRedirects.applyRedirectCommands(je,B.redirectTo,Un);return B.redirectTo.startsWith("/")?ds(xr):this.applyRedirects.lineralizeSegments(B,xr).pipe((0,zn.Z)(tr=>this.processSegment(M,O,w,tr.concat(Vt),he,!1)))}matchSegmentAgainstRoute(M,w,O,B,ne,he){let Ke;if("**"===O.path){const je=B.length>0?Wn(B).parameters:{},Vt=new Fr(B,je,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Jc(O),_n(O),O.component??O._loadedComponent??null,O,el(O));Ke=(0,le.of)({snapshot:Vt,consumedSegments:[],remainingSegments:[]}),w.children={}}else Ke=Ur(w,O,B,M).pipe((0,lt.T)(({matched:je,consumedSegments:Vt,remainingSegments:Un,parameters:xr})=>je?{snapshot:new Fr(Vt,xr,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Jc(O),_n(O),O.component??O._loadedComponent??null,O,el(O)),consumedSegments:Vt,remainingSegments:Un}:null));return Ke.pipe((0,Mt.n)(je=>null===je?pi(w):this.getChildConfig(M=O._injector??M,O,B).pipe((0,Mt.n)(({routes:Vt})=>{const Un=O._loadedInjector??M,{snapshot:xr,consumedSegments:tr,remainingSegments:ui}=je,{segmentGroup:Ia,slicedSegments:Xa}=Cs(w,tr,ui,Vt);if(0===Xa.length&&Ia.hasChildren())return this.processChildren(Un,Vt,Ia).pipe((0,lt.T)($s=>null===$s?null:[new Xi(xr,$s)]));if(0===Vt.length&&0===Xa.length)return(0,le.of)([new Xi(xr,[])]);const js=_n(O)===ne;return this.processSegment(Un,Vt,Ia,Xa,js?Ct:ne,!0).pipe((0,lt.T)($s=>[new Xi(xr,$s)]))}))))}getChildConfig(M,w,O){return w.children?(0,le.of)({routes:w.children,injector:M}):w.loadChildren?void 0!==w._loadedRoutes?(0,le.of)({routes:w._loadedRoutes,injector:w._loadedInjector}):function Ro(T,M,w,O){const B=M.canLoad;if(void 0===B||0===B.length)return(0,le.of)(!0);const ne=B.map(he=>{const Ke=ca(he,T);return Cr(function ya(T){return T&&Gi(T.canLoad)}(Ke)?Ke.canLoad(M,w):T.runInContext(()=>Ke(M,w)))});return(0,le.of)(ne).pipe(ye(),Zs())}(M,w,O).pipe((0,zn.Z)(B=>B?this.configLoader.loadChildren(M,w).pipe((0,Xe.M)(ne=>{w._loadedRoutes=ne.routes,w._loadedInjector=ne.injector})):function Au(T){return Tt(Qr(!1,3))}())):(0,le.of)({routes:[],injector:M})}}function Ka(T){const M=T.value.routeConfig;return M&&""===M.path}function As(T){const M=[],w=new Set;for(const O of T){if(!Ka(O)){M.push(O);continue}const B=M.find(ne=>O.value.routeConfig===ne.value.routeConfig);void 0!==B?(B.children.push(...O.children),w.add(B)):M.push(O)}for(const O of w){const B=As(O.children);M.push(new Xi(O.value,B))}return M.filter(O=>!w.has(O))}function Jc(T){return T.data||{}}function el(T){return T.resolve||{}}function L(T){return"string"==typeof T.title||null===T.title}function G(T){return(0,Mt.n)(M=>{const w=T(M);return w?(0,de.H)(w).pipe((0,lt.T)(()=>M)):(0,le.of)(M)})}const fe=new I.nKC("ROUTES");let Ge=(()=>{class T{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,I.WQX)(I.Ql9)}loadComponent(w){if(this.componentLoaders.get(w))return this.componentLoaders.get(w);if(w._loadedComponent)return(0,le.of)(w._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(w);const O=Cr(w.loadComponent()).pipe((0,lt.T)(yn),(0,Xe.M)(ne=>{this.onLoadEndListener&&this.onLoadEndListener(w),w._loadedComponent=ne}),(0,It.j)(()=>{this.componentLoaders.delete(w)})),B=new yt(O,()=>new ut.B).pipe(Tn());return this.componentLoaders.set(w,B),B}loadChildren(w,O){if(this.childrenLoaders.get(O))return this.childrenLoaders.get(O);if(O._loadedRoutes)return(0,le.of)({routes:O._loadedRoutes,injector:O._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(O);const ne=function ft(T,M,w,O){return Cr(T.loadChildren()).pipe((0,lt.T)(yn),(0,zn.Z)(B=>B instanceof I.Co$||Array.isArray(B)?(0,le.of)(B):(0,de.H)(M.compileModuleAsync(B))),(0,lt.T)(B=>{O&&O(T);let ne,he,Ke=!1;return Array.isArray(B)?(he=B,!0):(ne=B.create(w).injector,he=ne.get(fe,[],{optional:!0,self:!0}).flat()),{routes:he.map(Zi),injector:ne}}))}(O,this.compiler,w,this.onLoadEndListener).pipe((0,It.j)(()=>{this.childrenLoaders.delete(O)})),he=new yt(ne,()=>new ut.B).pipe(Tn());return this.childrenLoaders.set(O,he),he}static{this.\u0275fac=function(O){return new(O||T)}}static{this.\u0275prov=I.jDH({token:T,factory:T.\u0275fac,providedIn:"root"})}}return T})();function yn(T){return function un(T){return T&&"object"==typeof T&&"default"in T}(T)?T.default:T}let gr=(()=>{class T{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new ut.B,this.transitionAbortSubject=new ut.B,this.configLoader=(0,I.WQX)(Ge),this.environmentInjector=(0,I.WQX)(I.uvJ),this.urlSerializer=(0,I.WQX)(ir),this.rootContexts=(0,I.WQX)(Pi),this.inputBindingEnabled=null!==(0,I.WQX)(vn,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,le.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=B=>this.events.next(new xi(B)),this.configLoader.onLoadStartListener=B=>this.events.next(new Or(B))}complete(){this.transitions?.complete()}handleNavigationRequest(w){const O=++this.navigationId;this.transitions?.next({...this.transitions.value,...w,id:O})}setupNavigations(w,O,B){return this.transitions=new Re.t({id:0,currentUrlTree:O,currentRawUrl:O,currentBrowserUrl:O,extractedUrl:w.urlHandlingStrategy.extract(O),urlAfterRedirects:w.urlHandlingStrategy.extract(O),rawUrl:O,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:lr,restoredState:null,currentSnapshot:B.snapshot,targetSnapshot:null,currentRouterState:B,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,et.p)(ne=>0!==ne.id),(0,lt.T)(ne=>({...ne,extractedUrl:w.urlHandlingStrategy.extract(ne.rawUrl)})),(0,Mt.n)(ne=>{this.currentTransition=ne;let he=!1,Ke=!1;return(0,le.of)(ne).pipe((0,Xe.M)(je=>{this.currentNavigation={id:je.id,initialUrl:je.rawUrl,extractedUrl:je.extractedUrl,trigger:je.source,extras:je.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,Mt.n)(je=>{const Vt=je.currentBrowserUrl.toString(),Un=!w.navigated||je.extractedUrl.toString()!==Vt||Vt!==je.currentUrlTree.toString();if(!Un&&"reload"!==(je.extras.onSameUrlNavigation??w.onSameUrlNavigation)){const tr="";return this.events.next(new Wo(je.id,this.urlSerializer.serialize(je.rawUrl),tr,0)),je.resolve(null),sn.w}if(w.urlHandlingStrategy.shouldProcessUrl(je.rawUrl))return(0,le.of)(je).pipe((0,Mt.n)(tr=>{const ui=this.transitions?.getValue();return this.events.next(new mo(tr.id,this.urlSerializer.serialize(tr.extractedUrl),tr.source,tr.restoredState)),ui!==this.transitions?.getValue()?sn.w:Promise.resolve(tr)}),function Vl(T,M,w,O,B,ne){return(0,zn.Z)(he=>function bc(T,M,w,O,B,ne,he="emptyOnly"){return new Ec(T,M,w,O,B,he,ne).recognize()}(T,M,w,O,he.extractedUrl,B,ne).pipe((0,lt.T)(({state:Ke,tree:je})=>({...he,targetSnapshot:Ke,urlAfterRedirects:je}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,w.config,this.urlSerializer,w.paramsInheritanceStrategy),(0,Xe.M)(tr=>{ne.targetSnapshot=tr.targetSnapshot,ne.urlAfterRedirects=tr.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:tr.urlAfterRedirects};const ui=new ni(tr.id,this.urlSerializer.serialize(tr.extractedUrl),this.urlSerializer.serialize(tr.urlAfterRedirects),tr.targetSnapshot);this.events.next(ui)}));if(Un&&w.urlHandlingStrategy.shouldProcessUrl(je.currentRawUrl)){const{id:tr,extractedUrl:ui,source:Ia,restoredState:Xa,extras:js}=je,$s=new mo(tr,this.urlSerializer.serialize(ui),Ia,Xa);this.events.next($s);const wa=Vo(0,this.rootComponentType).snapshot;return this.currentTransition=ne={...je,targetSnapshot:wa,urlAfterRedirects:ui,extras:{...js,skipLocationChange:!1,replaceUrl:!1}},(0,le.of)(ne)}{const tr="";return this.events.next(new Wo(je.id,this.urlSerializer.serialize(je.extractedUrl),tr,1)),je.resolve(null),sn.w}}),(0,Xe.M)(je=>{const Vt=new Fo(je.id,this.urlSerializer.serialize(je.extractedUrl),this.urlSerializer.serialize(je.urlAfterRedirects),je.targetSnapshot);this.events.next(Vt)}),(0,lt.T)(je=>(this.currentTransition=ne={...je,guards:_a(je.targetSnapshot,je.currentSnapshot,this.rootContexts)},ne)),function Ft(T,M){return(0,zn.Z)(w=>{const{targetSnapshot:O,currentSnapshot:B,guards:{canActivateChecks:ne,canDeactivateChecks:he}}=w;return 0===he.length&&0===ne.length?(0,le.of)({...w,guardsResult:!0}):function En(T,M,w,O){return(0,de.H)(T).pipe((0,zn.Z)(B=>function la(T,M,w,O,B){const ne=M&&M.routeConfig?M.routeConfig.canDeactivate:null;if(!ne||0===ne.length)return(0,le.of)(!0);const he=ne.map(Ke=>{const je=Ji(M)??B,Vt=ca(Ke,je);return Cr(function cs(T){return T&&Gi(T.canDeactivate)}(Vt)?Vt.canDeactivate(T,M,w,O):je.runInContext(()=>Vt(T,M,w,O))).pipe(Jt())});return(0,le.of)(he).pipe(ye())}(B.component,B.route,w,M,O)),Jt(B=>!0!==B,!0))}(he,O,B,T).pipe((0,zn.Z)(Ke=>Ke&&function Fi(T){return"boolean"==typeof T}(Ke)?function eo(T,M,w,O){return(0,de.H)(M).pipe((0,pn.H)(B=>(0,Ie.x)(function So(T,M){return null!==T&&M&&M(new ri(T)),(0,le.of)(!0)}(B.route.parent,O),function ls(T,M){return null!==T&&M&&M(new $a(T)),(0,le.of)(!0)}(B.route,O),function va(T,M,w){const O=M[M.length-1],ne=M.slice(0,M.length-1).reverse().map(he=>function ii(T){const M=T.routeConfig?T.routeConfig.canActivateChild:null;return M&&0!==M.length?{node:T,guards:M}:null}(he)).filter(he=>null!==he).map(he=>gt(()=>{const Ke=he.guards.map(je=>{const Vt=Ji(he.node)??w,Un=ca(je,Vt);return Cr(function Vr(T){return T&&Gi(T.canActivateChild)}(Un)?Un.canActivateChild(O,T):Vt.runInContext(()=>Un(O,T))).pipe(Jt())});return(0,le.of)(Ke).pipe(ye())}));return(0,le.of)(ne).pipe(ye())}(T,B.path,w),function li(T,M,w){const O=M.routeConfig?M.routeConfig.canActivate:null;if(!O||0===O.length)return(0,le.of)(!0);const B=O.map(ne=>gt(()=>{const he=Ji(M)??w,Ke=ca(ne,he);return Cr(function vo(T){return T&&Gi(T.canActivate)}(Ke)?Ke.canActivate(M,T):he.runInContext(()=>Ke(M,T))).pipe(Jt())}));return(0,le.of)(B).pipe(ye())}(T,B.route,w))),Jt(B=>!0!==B,!0))}(O,ne,T,M):(0,le.of)(Ke)),(0,lt.T)(Ke=>({...w,guardsResult:Ke})))})}(this.environmentInjector,je=>this.events.next(je)),(0,Xe.M)(je=>{if(ne.guardsResult=je.guardsResult,Kn(je.guardsResult))throw Ao(0,je.guardsResult);const Vt=new Ls(je.id,this.urlSerializer.serialize(je.extractedUrl),this.urlSerializer.serialize(je.urlAfterRedirects),je.targetSnapshot,!!je.guardsResult);this.events.next(Vt)}),(0,et.p)(je=>!!je.guardsResult||(this.cancelNavigationTransition(je,"",3),!1)),G(je=>{if(je.guards.canActivateChecks.length)return(0,le.of)(je).pipe((0,Xe.M)(Vt=>{const Un=new yc(Vt.id,this.urlSerializer.serialize(Vt.extractedUrl),this.urlSerializer.serialize(Vt.urlAfterRedirects),Vt.targetSnapshot);this.events.next(Un)}),(0,Mt.n)(Vt=>{let Un=!1;return(0,le.of)(Vt).pipe(function fs(T,M){return(0,zn.Z)(w=>{const{targetSnapshot:O,guards:{canActivateChecks:B}}=w;if(!B.length)return(0,le.of)(w);let ne=0;return(0,de.H)(B).pipe((0,pn.H)(he=>function Ds(T,M,w,O){const B=T.routeConfig,ne=T._resolve;return void 0!==B?.title&&!L(B)&&(ne[Qn]=B.title),function Du(T,M,w,O){const B=function R(T){return[...Object.keys(T),...Object.getOwnPropertySymbols(T)]}(T);if(0===B.length)return(0,le.of)({});const ne={};return(0,de.H)(B).pipe((0,zn.Z)(he=>function X(T,M,w,O){const B=Ji(M)??O,ne=ca(T,B);return Cr(ne.resolve?ne.resolve(M,w):B.runInContext(()=>ne(M,w)))}(T[he],M,w,O).pipe(Jt(),(0,Xe.M)(Ke=>{ne[he]=Ke}))),ae(1),function pt(T){return(0,lt.T)(()=>T)}(ne),Et(he=>N(he)?sn.w:Tt(he)))}(ne,T,M,O).pipe((0,lt.T)(he=>(T._resolvedData=he,T.data=br(T,w).resolve,B&&L(B)&&(T.data[Qn]=B.title),null)))}(he.route,O,T,M)),(0,Xe.M)(()=>ne++),ae(1),(0,zn.Z)(he=>ne===B.length?(0,le.of)(w):sn.w))})}(w.paramsInheritanceStrategy,this.environmentInjector),(0,Xe.M)({next:()=>Un=!0,complete:()=>{Un||this.cancelNavigationTransition(Vt,"",2)}}))}),(0,Xe.M)(Vt=>{const Un=new so(Vt.id,this.urlSerializer.serialize(Vt.extractedUrl),this.urlSerializer.serialize(Vt.urlAfterRedirects),Vt.targetSnapshot);this.events.next(Un)}))}),G(je=>{const Vt=Un=>{const xr=[];Un.routeConfig?.loadComponent&&!Un.routeConfig._loadedComponent&&xr.push(this.configLoader.loadComponent(Un.routeConfig).pipe((0,Xe.M)(tr=>{Un.component=tr}),(0,lt.T)(()=>{})));for(const tr of Un.children)xr.push(...Vt(tr));return xr};return(0,ot.z)(Vt(je.targetSnapshot.root)).pipe(Zt(),(0,Rt.s)(1))}),G(()=>this.afterPreactivation()),(0,lt.T)(je=>{const Vt=function Oi(T,M,w){const O=Lr(T,M._root,w?w._root:void 0);return new Xs(O,M)}(w.routeReuseStrategy,je.targetSnapshot,je.currentRouterState);return this.currentTransition=ne={...je,targetRouterState:Vt},ne}),(0,Xe.M)(()=>{this.events.next(new Qs)}),((T,M,w,O)=>(0,lt.T)(B=>(new Er(M,B.targetRouterState,B.currentRouterState,w,O).activate(T),B)))(this.rootContexts,w.routeReuseStrategy,je=>this.events.next(je),this.inputBindingEnabled),(0,Rt.s)(1),(0,Xe.M)({next:je=>{he=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new oo(je.id,this.urlSerializer.serialize(je.extractedUrl),this.urlSerializer.serialize(je.urlAfterRedirects))),w.titleStrategy?.updateTitle(je.targetRouterState.snapshot),je.resolve(!0)},complete:()=>{he=!0}}),(0,Lt.Q)(this.transitionAbortSubject.pipe((0,Xe.M)(je=>{throw je}))),(0,It.j)(()=>{he||Ke||this.cancelNavigationTransition(ne,"",1),this.currentNavigation?.id===ne.id&&(this.currentNavigation=null)}),Et(je=>{if(Ke=!0,Is(je))this.events.next(new fi(ne.id,this.urlSerializer.serialize(ne.extractedUrl),je.message,je.cancellationCode)),function wn(T){return Is(T)&&Kn(T.url)}(je)?this.events.next(new sa(je.url)):ne.resolve(!1);else{this.events.next(new is(ne.id,this.urlSerializer.serialize(ne.extractedUrl),je,ne.targetSnapshot??void 0));try{ne.resolve(w.errorHandler(je))}catch(Vt){ne.reject(Vt)}}return sn.w}))}))}cancelNavigationTransition(w,O,B){const ne=new fi(w.id,this.urlSerializer.serialize(w.extractedUrl),O,B);this.events.next(ne),w.resolve(!1)}static{this.\u0275fac=function(O){return new(O||T)}}static{this.\u0275prov=I.jDH({token:T,factory:T.\u0275fac,providedIn:"root"})}}return T})();function or(T){return T!==lr}let Zn=(()=>{class T{buildTitle(w){let O,B=w.root;for(;void 0!==B;)O=this.getResolvedTitleForRoute(B)??O,B=B.children.find(ne=>ne.outlet===Ct);return O}getResolvedTitleForRoute(w){return w.data[Qn]}static{this.\u0275fac=function(O){return new(O||T)}}static{this.\u0275prov=I.jDH({token:T,factory:function(){return(0,I.WQX)(Yr)},providedIn:"root"})}}return T})(),Yr=(()=>{class T extends Zn{constructor(w){super(),this.title=w}updateTitle(w){const O=this.buildTitle(w);void 0!==O&&this.title.setTitle(O)}static{this.\u0275fac=function(O){return new(O||T)(I.KVO(Tr.hE))}}static{this.\u0275prov=I.jDH({token:T,factory:T.\u0275fac,providedIn:"root"})}}return T})(),Ar=(()=>{class T{static{this.\u0275fac=function(O){return new(O||T)}}static{this.\u0275prov=I.jDH({token:T,factory:function(){return(0,I.WQX)(ps)},providedIn:"root"})}}return T})();class Li{shouldDetach(M){return!1}store(M,w){}shouldAttach(M){return!1}retrieve(M){return null}shouldReuseRoute(M,w){return M.routeConfig===w.routeConfig}}let ps=(()=>{class T extends Li{static{this.\u0275fac=function(){let w;return function(B){return(w||(w=I.xGo(T)))(B||T)}}()}static{this.\u0275prov=I.jDH({token:T,factory:T.\u0275fac,providedIn:"root"})}}return T})();const Ii=new I.nKC("",{providedIn:"root",factory:()=>({})});let Eo=(()=>{class T{static{this.\u0275fac=function(O){return new(O||T)}}static{this.\u0275prov=I.jDH({token:T,factory:function(){return(0,I.WQX)(wi)},providedIn:"root"})}}return T})(),wi=(()=>{class T{shouldProcessUrl(w){return!0}extract(w){return w}merge(w,O){return w}static{this.\u0275fac=function(O){return new(O||T)}}static{this.\u0275prov=I.jDH({token:T,factory:T.\u0275fac,providedIn:"root"})}}return T})();var co=function(T){return T[T.COMPLETE=0]="COMPLETE",T[T.FAILED=1]="FAILED",T[T.REDIRECTING=2]="REDIRECTING",T}(co||{});function Ss(T,M){T.events.pipe((0,et.p)(w=>w instanceof oo||w instanceof fi||w instanceof is||w instanceof Wo),(0,lt.T)(w=>w instanceof oo||w instanceof Wo?co.COMPLETE:w instanceof fi&&(0===w.code||1===w.code)?co.REDIRECTING:co.FAILED),(0,et.p)(w=>w!==co.REDIRECTING),(0,Rt.s)(1)).subscribe(()=>{M()})}function xo(T){throw T}function tl(T,M,w){return M.parse("/")}const nl={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Su={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Io=(()=>{class T{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,I.WQX)(I.H3F),this.isNgZoneEnabled=!1,this._events=new ut.B,this.options=(0,I.WQX)(Ii,{optional:!0})||{},this.pendingTasks=(0,I.WQX)(I.$K3),this.errorHandler=this.options.errorHandler||xo,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||tl,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,I.WQX)(Eo),this.routeReuseStrategy=(0,I.WQX)(Ar),this.titleStrategy=(0,I.WQX)(Zn),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,I.WQX)(fe,{optional:!0})?.flat()??[],this.navigationTransitions=(0,I.WQX)(gr),this.urlSerializer=(0,I.WQX)(ir),this.location=(0,I.WQX)(He.aZ),this.componentInputBindingEnabled=!!(0,I.WQX)(vn,{optional:!0}),this.eventsSubscription=new mt.yU,this.isNgZoneEnabled=(0,I.WQX)(I.SKi)instanceof I.SKi&&I.SKi.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new nn,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Vo(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(w=>{this.lastSuccessfulId=w.id,this.currentPageId=this.browserPageId},w=>{this.console.warn(`Unhandled Navigation Error: ${w}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const w=this.navigationTransitions.events.subscribe(O=>{try{const{currentTransition:B}=this.navigationTransitions;if(null===B)return void(Vs(O)&&this._events.next(O));if(O instanceof mo)or(B.source)&&(this.browserUrlTree=B.extractedUrl);else if(O instanceof Wo)this.rawUrlTree=B.rawUrl;else if(O instanceof ni){if("eager"===this.urlUpdateStrategy){if(!B.extras.skipLocationChange){const ne=this.urlHandlingStrategy.merge(B.urlAfterRedirects,B.rawUrl);this.setBrowserUrl(ne,B)}this.browserUrlTree=B.urlAfterRedirects}}else if(O instanceof Qs)this.currentUrlTree=B.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(B.urlAfterRedirects,B.rawUrl),this.routerState=B.targetRouterState,"deferred"===this.urlUpdateStrategy&&(B.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,B),this.browserUrlTree=B.urlAfterRedirects);else if(O instanceof fi)0!==O.code&&1!==O.code&&(this.navigated=!0),(3===O.code||2===O.code)&&this.restoreHistory(B);else if(O instanceof sa){const ne=this.urlHandlingStrategy.merge(O.url,B.currentRawUrl),he={skipLocationChange:B.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||or(B.source)};this.scheduleNavigation(ne,lr,null,he,{resolve:B.resolve,reject:B.reject,promise:B.promise})}O instanceof is&&this.restoreHistory(B,!0),O instanceof oo&&(this.navigated=!0),Vs(O)&&this._events.next(O)}catch(B){this.navigationTransitions.transitionAbortSubject.next(B)}});this.eventsSubscription.add(w)}resetRootComponentType(w){this.routerState.root.component=w,this.navigationTransitions.rootComponentType=w}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const w=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),lr,w)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(w=>{const O="popstate"===w.type?"popstate":"hashchange";"popstate"===O&&setTimeout(()=>{this.navigateToSyncWithBrowser(w.url,O,w.state)},0)}))}navigateToSyncWithBrowser(w,O,B){const ne={replaceUrl:!0},he=B?.navigationId?B:null;if(B){const je={...B};delete je.navigationId,delete je.\u0275routerPageId,0!==Object.keys(je).length&&(ne.state=je)}const Ke=this.parseUrl(w);this.scheduleNavigation(Ke,O,he,ne)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(w){this.config=w.map(Zi),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(w,O={}){const{relativeTo:B,queryParams:ne,fragment:he,queryParamsHandling:Ke,preserveFragment:je}=O,Vt=je?this.currentUrlTree.fragment:he;let xr,Un=null;switch(Ke){case"merge":Un={...this.currentUrlTree.queryParams,...ne};break;case"preserve":Un=this.currentUrlTree.queryParams;break;default:Un=ne||null}null!==Un&&(Un=this.removeEmptyProps(Un));try{xr=Yn(B?B.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof w[0]||!w[0].startsWith("/"))&&(w=[]),xr=this.currentUrlTree.root}return Ui(xr,w,Un,Vt??null)}navigateByUrl(w,O={skipLocationChange:!1}){const B=Kn(w)?w:this.parseUrl(w),ne=this.urlHandlingStrategy.merge(B,this.rawUrlTree);return this.scheduleNavigation(ne,lr,null,O)}navigate(w,O={skipLocationChange:!1}){return function Ru(T){for(let M=0;M<T.length;M++)if(null==T[M])throw new I.wOt(4008,!1)}(w),this.navigateByUrl(this.createUrlTree(w,O),O)}serializeUrl(w){return this.urlSerializer.serialize(w)}parseUrl(w){let O;try{O=this.urlSerializer.parse(w)}catch(B){O=this.malformedUriErrorHandler(B,this.urlSerializer,w)}return O}isActive(w,O){let B;if(B=!0===O?{...nl}:!1===O?{...Su}:O,Kn(w))return Jr(this.currentUrlTree,w,B);const ne=this.parseUrl(w);return Jr(this.currentUrlTree,ne,B)}removeEmptyProps(w){return Object.keys(w).reduce((O,B)=>{const ne=w[B];return null!=ne&&(O[B]=ne),O},{})}scheduleNavigation(w,O,B,ne,he){if(this.disposed)return Promise.resolve(!1);let Ke,je,Vt;he?(Ke=he.resolve,je=he.reject,Vt=he.promise):Vt=new Promise((xr,tr)=>{Ke=xr,je=tr});const Un=this.pendingTasks.add();return Ss(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(Un))}),this.navigationTransitions.handleNavigationRequest({source:O,restoredState:B,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:w,extras:ne,resolve:Ke,reject:je,promise:Vt,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Vt.catch(xr=>Promise.reject(xr))}setBrowserUrl(w,O){const B=this.urlSerializer.serialize(w);if(this.location.isCurrentPathEqualTo(B)||O.extras.replaceUrl){const he={...O.extras.state,...this.generateNgRouterState(O.id,this.browserPageId)};this.location.replaceState(B,"",he)}else{const ne={...O.extras.state,...this.generateNgRouterState(O.id,this.browserPageId+1)};this.location.go(B,"",ne)}}restoreHistory(w,O=!1){if("computed"===this.canceledNavigationResolution){const ne=this.currentPageId-this.browserPageId;0!==ne?this.location.historyGo(ne):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===ne&&(this.resetState(w),this.browserUrlTree=w.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(O&&this.resetState(w),this.resetUrlToCurrentUrlTree())}resetState(w){this.routerState=w.currentRouterState,this.currentUrlTree=w.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,w.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(w,O){return"computed"===this.canceledNavigationResolution?{navigationId:w,\u0275routerPageId:O}:{navigationId:w}}static{this.\u0275fac=function(O){return new(O||T)}}static{this.\u0275prov=I.jDH({token:T,factory:T.\u0275fac,providedIn:"root"})}}return T})();function Vs(T){return!(T instanceof Qs||T instanceof sa)}let dr=(()=>{class T{constructor(w,O,B,ne,he,Ke){this.router=w,this.route=O,this.tabIndexAttribute=B,this.renderer=ne,this.el=he,this.locationStrategy=Ke,this.href=null,this.commands=null,this.onChanges=new ut.B,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const je=he.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===je||"area"===je,this.isAnchorElement?this.subscription=w.events.subscribe(Vt=>{Vt instanceof oo&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(w){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",w)}ngOnChanges(w){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(w){null!=w?(this.commands=Array.isArray(w)?w:[w],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(w,O,B,ne,he){return!!(null===this.urlTree||this.isAnchorElement&&(0!==w||O||B||ne||he||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const w=null===this.href?null:(0,I.n$t)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",w)}applyAttributeValue(w,O){const B=this.renderer,ne=this.el.nativeElement;null!==O?B.setAttribute(ne,w,O):B.removeAttribute(ne,w)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(O){return new(O||T)(I.rXU(Io),I.rXU(Nr),I.kS0("tabindex"),I.rXU(I.sFG),I.rXU(I.aKT),I.rXU(He.hb))}}static{this.\u0275dir=I.FsC({type:T,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(O,B){1&O&&I.bIt("click",function(he){return B.onClick(he.button,he.ctrlKey,he.shiftKey,he.altKey,he.metaKey)}),2&O&&I.BMQ("target",B.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",I.L39],skipLocationChange:["skipLocationChange","skipLocationChange",I.L39],replaceUrl:["replaceUrl","replaceUrl",I.L39],routerLink:"routerLink"},standalone:!0,features:[I.GFd,I.OA$]})}}return T})(),sr=(()=>{class T{get isActive(){return this._isActive}constructor(w,O,B,ne,he){this.router=w,this.element=O,this.renderer=B,this.cdr=ne,this.link=he,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new I.bkB,this.routerEventsSubscription=w.events.subscribe(Ke=>{Ke instanceof oo&&this.update()})}ngAfterContentInit(){(0,le.of)(this.links.changes,(0,le.of)(null)).pipe((0,an.U)()).subscribe(w=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const w=[...this.links.toArray(),this.link].filter(O=>!!O).map(O=>O.onChanges);this.linkInputChangesSubscription=(0,de.H)(w).pipe((0,an.U)()).subscribe(O=>{this._isActive!==this.isLinkActive(this.router)(O)&&this.update()})}set routerLinkActive(w){const O=Array.isArray(w)?w:w.split(" ");this.classes=O.filter(B=>!!B)}ngOnChanges(w){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{const w=this.hasActiveLinks();this._isActive!==w&&(this._isActive=w,this.cdr.markForCheck(),this.classes.forEach(O=>{w?this.renderer.addClass(this.element.nativeElement,O):this.renderer.removeClass(this.element.nativeElement,O)}),w&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(w))})}isLinkActive(w){const O=function Dr(T){return!!T.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return B=>!!B.urlTree&&w.isActive(B.urlTree,O)}hasActiveLinks(){const w=this.isLinkActive(this.router);return this.link&&w(this.link)||this.links.some(w)}static{this.\u0275fac=function(O){return new(O||T)(I.rXU(Io),I.rXU(I.aKT),I.rXU(I.sFG),I.rXU(I.gRc),I.rXU(dr,8))}}static{this.\u0275dir=I.FsC({type:T,selectors:[["","routerLinkActive",""]],contentQueries:function(O,B,ne){if(1&O&&I.wni(ne,dr,5),2&O){let he;I.mGM(he=I.lsd())&&(B.links=he)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[I.OA$]})}}return T})();class Qa{}let xu=(()=>{class T{constructor(w,O,B,ne,he){this.router=w,this.injector=B,this.preloadingStrategy=ne,this.loader=he}setUpPreloading(){this.subscription=this.router.events.pipe((0,et.p)(w=>w instanceof oo),(0,pn.H)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(w,O){const B=[];for(const ne of O){ne.providers&&!ne._injector&&(ne._injector=(0,I.Ol2)(ne.providers,w,`Route: ${ne.path}`));const he=ne._injector??w,Ke=ne._loadedInjector??he;(ne.loadChildren&&!ne._loadedRoutes&&void 0===ne.canLoad||ne.loadComponent&&!ne._loadedComponent)&&B.push(this.preloadConfig(he,ne)),(ne.children||ne._loadedRoutes)&&B.push(this.processRoutes(Ke,ne.children??ne._loadedRoutes))}return(0,de.H)(B).pipe((0,an.U)())}preloadConfig(w,O){return this.preloadingStrategy.preload(O,()=>{let B;B=O.loadChildren&&void 0===O.canLoad?this.loader.loadChildren(w,O):(0,le.of)(null);const ne=B.pipe((0,zn.Z)(he=>null===he?(0,le.of)(void 0):(O._loadedRoutes=he.routes,O._loadedInjector=he.injector,this.processRoutes(he.injector??w,he.routes))));if(O.loadComponent&&!O._loadedComponent){const he=this.loader.loadComponent(O);return(0,de.H)([ne,he]).pipe((0,an.U)())}return ne})}static{this.\u0275fac=function(O){return new(O||T)(I.KVO(Io),I.KVO(I.Ql9),I.KVO(I.uvJ),I.KVO(Qa),I.KVO(Ge))}}static{this.\u0275prov=I.jDH({token:T,factory:T.\u0275fac,providedIn:"root"})}}return T})();const rl=new I.nKC("");let ba=(()=>{class T{constructor(w,O,B,ne,he={}){this.urlSerializer=w,this.transitions=O,this.viewportScroller=B,this.zone=ne,this.options=he,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},he.scrollPositionRestoration=he.scrollPositionRestoration||"disabled",he.anchorScrolling=he.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(w=>{w instanceof mo?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=w.navigationTrigger,this.restoredId=w.restoredState?w.restoredState.navigationId:0):w instanceof oo?(this.lastId=w.id,this.scheduleScrollEvent(w,this.urlSerializer.parse(w.urlAfterRedirects).fragment)):w instanceof Wo&&0===w.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(w,this.urlSerializer.parse(w.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(w=>{w instanceof Mi&&(w.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(w.position):w.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(w.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(w,O){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Mi(w,"popstate"===this.lastSource?this.store[this.restoredId]:null,O))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(O){I.QTQ()}}static{this.\u0275prov=I.jDH({token:T,factory:T.\u0275fac})}}return T})();function wo(T,M){return{\u0275kind:T,\u0275providers:M}}function il(){const T=(0,I.WQX)(I.zZn);return M=>{const w=T.get(I.o8S);if(M!==w.components[0])return;const O=T.get(Io),B=T.get(Bl);1===T.get(ha)&&O.initialNavigation(),T.get(Mh,null,I.$GK.Optional)?.setUpPreloading(),T.get(rl,null,I.$GK.Optional)?.init(),O.resetRootComponentType(w.componentTypes[0]),B.closed||(B.next(),B.complete(),B.unsubscribe())}}const Bl=new I.nKC("",{factory:()=>new ut.B}),ha=new I.nKC("",{providedIn:"root",factory:()=>1}),Mh=new I.nKC("");function Ph(T){return wo(0,[{provide:Mh,useExisting:xu},{provide:Qa,useExisting:T}])}const $l=new I.nKC("ROUTER_FORROOT_GUARD"),Mu=[He.aZ,{provide:ir,useClass:jr},Io,Pi,{provide:Nr,useFactory:function ms(T){return T.routerState.root},deps:[Io]},Ge,[]];function Dc(){return new I.NEm("Router",Io)}let Ea=(()=>{class T{constructor(w){}static forRoot(w,O){return{ngModule:T,providers:[Mu,[],{provide:fe,multi:!0,useValue:w},{provide:$l,useFactory:Hl,deps:[[Io,new I.Xx1,new I.kdw]]},{provide:Ii,useValue:O||{}},O?.useHash?{provide:He.hb,useClass:He.fw}:{provide:He.hb,useClass:He.Sm},{provide:rl,useFactory:()=>{const T=(0,I.WQX)(He.Xr),M=(0,I.WQX)(I.SKi),w=(0,I.WQX)(Ii),O=(0,I.WQX)(gr),B=(0,I.WQX)(ir);return w.scrollOffset&&T.setOffset(w.scrollOffset),new ba(B,O,T,M,w)}},O?.preloadingStrategy?Ph(O.preloadingStrategy).\u0275providers:[],{provide:I.NEm,multi:!0,useFactory:Dc},O?.initialNavigation?Vi(O):[],O?.bindToComponentInputs?wo(8,[ur,{provide:vn,useExisting:ur}]).\u0275providers:[],[{provide:zl,useFactory:il},{provide:I.iLQ,multi:!0,useExisting:zl}]]}}static forChild(w){return{ngModule:T,providers:[{provide:fe,multi:!0,useValue:w}]}}static{this.\u0275fac=function(O){return new(O||T)(I.KVO($l,8))}}static{this.\u0275mod=I.$C({type:T})}static{this.\u0275inj=I.G2t({})}}return T})();function Hl(T){return"guarded"}function Vi(T){return["disabled"===T.initialNavigation?wo(3,[{provide:I.hnV,multi:!0,useFactory:()=>{const M=(0,I.WQX)(Io);return()=>{M.setUpLocationChangeListener()}}},{provide:ha,useValue:2}]).\u0275providers:[],"enabledBlocking"===T.initialNavigation?wo(2,[{provide:ha,useValue:0},{provide:I.hnV,multi:!0,deps:[I.zZn],useFactory:M=>{const w=M.get(He.hj,Promise.resolve());return()=>w.then(()=>new Promise(O=>{const B=M.get(Io),ne=M.get(Bl);Ss(B,()=>{O(!0)}),M.get(gr).afterPreactivation=()=>(O(!0),ne.closed?(0,le.of)(void 0):ne),B.initialNavigation()}))}}]).\u0275providers:[]]}const zl=new I.nKC("")},7852:(on,Ze,q)=>{q.d(Ze,{MF:()=>Bi,j6:()=>Di,xZ:()=>ir,om:()=>Pn,Sx:()=>Sr,Dk:()=>vi,Wp:()=>xe,KO:()=>te});var I=q(467),Ee=q(1362),$e=q(8041),Y=q(1076);const de=(Qe,Me)=>Me.some(at=>Qe instanceof at);let le,Re;const pe=new WeakMap,Ie=new WeakMap,ze=new WeakMap,gt=new WeakMap,nt=new WeakMap;let mt={get(Qe,Me,at){if(Qe instanceof IDBTransaction){if("done"===Me)return Ie.get(Qe);if("objectStoreNames"===Me)return Qe.objectStoreNames||ze.get(Qe);if("store"===Me)return at.objectStoreNames[1]?void 0:at.objectStore(at.objectStoreNames[0])}return yt(Qe[Me])},set:(Qe,Me,at)=>(Qe[Me]=at,!0),has:(Qe,Me)=>Qe instanceof IDBTransaction&&("done"===Me||"store"===Me)||Me in Qe};function Tn(Qe){return"function"==typeof Qe?function tn(Qe){return Qe!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ue(){return Re||(Re=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Qe)?function(...Me){return Qe.apply(ut(this),Me),yt(pe.get(this))}:function(...Me){return yt(Qe.apply(ut(this),Me))}:function(Me,...at){const kt=Qe.call(ut(this),Me,...at);return ze.set(kt,Me.sort?Me.sort():[Me]),yt(kt)}}(Qe):(Qe instanceof IDBTransaction&&function sn(Qe){if(Ie.has(Qe))return;const Me=new Promise((at,kt)=>{const ln=()=>{Qe.removeEventListener("complete",$t),Qe.removeEventListener("error",On),Qe.removeEventListener("abort",On)},$t=()=>{at(),ln()},On=()=>{kt(Qe.error||new DOMException("AbortError","AbortError")),ln()};Qe.addEventListener("complete",$t),Qe.addEventListener("error",On),Qe.addEventListener("abort",On)});Ie.set(Qe,Me)}(Qe),de(Qe,function ot(){return le||(le=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Qe,mt):Qe)}function yt(Qe){if(Qe instanceof IDBRequest)return function Tt(Qe){const Me=new Promise((at,kt)=>{const ln=()=>{Qe.removeEventListener("success",$t),Qe.removeEventListener("error",On)},$t=()=>{at(yt(Qe.result)),ln()},On=()=>{kt(Qe.error),ln()};Qe.addEventListener("success",$t),Qe.addEventListener("error",On)});return Me.then(at=>{at instanceof IDBCursor&&pe.set(at,Qe)}).catch(()=>{}),nt.set(Me,Qe),Me}(Qe);if(gt.has(Qe))return gt.get(Qe);const Me=Tn(Qe);return Me!==Qe&&(gt.set(Qe,Me),nt.set(Me,Qe)),Me}const ut=Qe=>nt.get(Qe),Mt=["get","getKey","getAll","getAllKeys","count"],Rt=["put","add","delete","clear"],cn=new Map;function et(Qe,Me){if(!(Qe instanceof IDBDatabase)||Me in Qe||"string"!=typeof Me)return;if(cn.get(Me))return cn.get(Me);const at=Me.replace(/FromIndex$/,""),kt=Me!==at,ln=Rt.includes(at);if(!(at in(kt?IDBIndex:IDBObjectStore).prototype)||!ln&&!Mt.includes(at))return;const $t=function(){var On=(0,I.A)(function*(cr,...Pr){const Ri=this.transaction(cr,ln?"readwrite":"readonly");let bi=Ri.store;return kt&&(bi=bi.index(Pr.shift())),(yield Promise.all([bi[at](...Pr),ln&&Ri.done]))[0]});return function(Pr){return On.apply(this,arguments)}}();return cn.set(Me,$t),$t}!function Xt(Qe){mt=Qe(mt)}(Qe=>({...Qe,get:(Me,at,kt)=>et(Me,at)||Qe.get(Me,at,kt),has:(Me,at)=>!!et(Me,at)||Qe.has(Me,at)}));class zn{constructor(Me){this.container=Me}getPlatformInfoString(){return this.container.getProviders().map(at=>{if(function Zt(Qe){const Me=Qe.getComponent();return"VERSION"===Me?.type}(at)){const kt=at.getImmediate();return`${kt.library}/${kt.version}`}return null}).filter(at=>at).join(" ")}}const st="@firebase/app",rt="0.10.13",Pt=new $e.Vy("@firebase/app"),Cn="[DEFAULT]",rr={[st]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/data-connect":"fire-data-connect","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","@firebase/vertexai-preview":"fire-vertex","fire-js":"fire-js",firebase:"fire-js-all"},wt=new Map,Br=new Map,zr=new Map;function nn(Qe,Me){try{Qe.container.addComponent(Me)}catch(at){Pt.debug(`Component ${Me.name} failed to register with FirebaseApp ${Qe.name}`,at)}}function Pn(Qe){const Me=Qe.name;if(zr.has(Me))return Pt.debug(`There were multiple attempts to register component ${Me}.`),!1;zr.set(Me,Qe);for(const at of wt.values())nn(at,Qe);for(const at of Br.values())nn(at,Qe);return!0}function Di(Qe,Me){const at=Qe.container.getProvider("heartbeat").getImmediate({optional:!0});return at&&at.triggerHeartbeat(),Qe.container.getProvider(Me)}function ir(Qe){return void 0!==Qe.settings}const rn=new Y.FA("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class _i{constructor(Me,at,kt){this._isDeleted=!1,this._options=Object.assign({},Me),this._config=Object.assign({},at),this._name=at.name,this._automaticDataCollectionEnabled=at.automaticDataCollectionEnabled,this._container=kt,this.container.addComponent(new Ee.uA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Me){this.checkDestroyed(),this._automaticDataCollectionEnabled=Me}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Me){this._isDeleted=Me}checkDestroyed(){if(this.isDeleted)throw rn.create("app-deleted",{appName:this._name})}}const Bi="10.14.1";function xe(Qe,Me={}){let at=Qe;"object"!=typeof Me&&(Me={name:Me});const kt=Object.assign({name:Cn,automaticDataCollectionEnabled:!1},Me),ln=kt.name;if("string"!=typeof ln||!ln)throw rn.create("bad-app-name",{appName:String(ln)});if(at||(at=(0,Y.T9)()),!at)throw rn.create("no-options");const $t=wt.get(ln);if($t){if((0,Y.bD)(at,$t.options)&&(0,Y.bD)(kt,$t.config))return $t;throw rn.create("duplicate-app",{appName:ln})}const On=new Ee.h1(ln);for(const Pr of zr.values())On.addComponent(Pr);const cr=new _i(at,kt,On);return wt.set(ln,cr),cr}function Sr(Qe=Cn){const Me=wt.get(Qe);if(!Me&&Qe===Cn&&(0,Y.T9)())return xe();if(!Me)throw rn.create("no-app",{appName:Qe});return Me}function vi(){return Array.from(wt.values())}function te(Qe,Me,at){var kt;let ln=null!==(kt=rr[Qe])&&void 0!==kt?kt:Qe;at&&(ln+=`-${at}`);const $t=ln.match(/\s|\//),On=Me.match(/\s|\//);if($t||On){const cr=[`Unable to register library "${ln}" with version "${Me}":`];return $t&&cr.push(`library name "${ln}" contains illegal characters (whitespace or "/")`),$t&&On&&cr.push("and"),On&&cr.push(`version name "${Me}" contains illegal characters (whitespace or "/")`),void Pt.warn(cr.join(" "))}Pn(new Ee.uA(`${ln}-version`,()=>({library:ln,version:Me}),"VERSION"))}const _e="firebase-heartbeat-database",Te=1,ct="firebase-heartbeat-store";let Ut=null;function Wt(){return Ut||(Ut=function He(Qe,Me,{blocked:at,upgrade:kt,blocking:ln,terminated:$t}={}){const On=indexedDB.open(Qe,Me),cr=yt(On);return kt&&On.addEventListener("upgradeneeded",Pr=>{kt(yt(On.result),Pr.oldVersion,Pr.newVersion,yt(On.transaction),Pr)}),at&&On.addEventListener("blocked",Pr=>at(Pr.oldVersion,Pr.newVersion,Pr)),cr.then(Pr=>{$t&&Pr.addEventListener("close",()=>$t()),ln&&Pr.addEventListener("versionchange",Ri=>ln(Ri.oldVersion,Ri.newVersion,Ri))}).catch(()=>{}),cr}(_e,Te,{upgrade:(Qe,Me)=>{if(0===Me)try{Qe.createObjectStore(ct)}catch(at){console.warn(at)}}}).catch(Qe=>{throw rn.create("idb-open",{originalErrorMessage:Qe.message})})),Ut}function Rn(){return(Rn=(0,I.A)(function*(Qe){try{const at=(yield Wt()).transaction(ct),kt=yield at.objectStore(ct).get(qr(Qe));return yield at.done,kt}catch(Me){if(Me instanceof Y.g)Pt.warn(Me.message);else{const at=rn.create("idb-get",{originalErrorMessage:Me?.message});Pt.warn(at.message)}}})).apply(this,arguments)}function ei(Qe,Me){return Kt.apply(this,arguments)}function Kt(){return(Kt=(0,I.A)(function*(Qe,Me){try{const kt=(yield Wt()).transaction(ct,"readwrite");yield kt.objectStore(ct).put(Me,qr(Qe)),yield kt.done}catch(at){if(at instanceof Y.g)Pt.warn(at.message);else{const kt=rn.create("idb-set",{originalErrorMessage:at?.message});Pt.warn(kt.message)}}})).apply(this,arguments)}function qr(Qe){return`${Qe.name}!${Qe.options.appId}`}class Yn{constructor(Me){this.container=Me,this._heartbeatsCache=null;const at=this.container.getProvider("app").getImmediate();this._storage=new ji(at),this._heartbeatsCachePromise=this._storage.read().then(kt=>(this._heartbeatsCache=kt,kt))}triggerHeartbeat(){var Me=this;return(0,I.A)(function*(){var at,kt;try{const $t=Me.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),On=Ui();return null==(null===(at=Me._heartbeatsCache)||void 0===at?void 0:at.heartbeats)&&(Me._heartbeatsCache=yield Me._heartbeatsCachePromise,null==(null===(kt=Me._heartbeatsCache)||void 0===kt?void 0:kt.heartbeats))||Me._heartbeatsCache.lastSentHeartbeatDate===On||Me._heartbeatsCache.heartbeats.some(cr=>cr.date===On)?void 0:(Me._heartbeatsCache.heartbeats.push({date:On,agent:$t}),Me._heartbeatsCache.heartbeats=Me._heartbeatsCache.heartbeats.filter(cr=>{const Pr=new Date(cr.date).valueOf();return Date.now()-Pr<=2592e6}),Me._storage.overwrite(Me._heartbeatsCache))}catch(ln){Pt.warn(ln)}})()}getHeartbeatsHeader(){var Me=this;return(0,I.A)(function*(){var at;try{if(null===Me._heartbeatsCache&&(yield Me._heartbeatsCachePromise),null==(null===(at=Me._heartbeatsCache)||void 0===at?void 0:at.heartbeats)||0===Me._heartbeatsCache.heartbeats.length)return"";const kt=Ui(),{heartbeatsToSend:ln,unsentEntries:$t}=function Go(Qe,Me=1024){const at=[];let kt=Qe.slice();for(const ln of Qe){const $t=at.find(On=>On.agent===ln.agent);if($t){if($t.dates.push(ln.date),po(at)>Me){$t.dates.pop();break}}else if(at.push({agent:ln.agent,dates:[ln.date]}),po(at)>Me){at.pop();break}kt=kt.slice(1)}return{heartbeatsToSend:at,unsentEntries:kt}}(Me._heartbeatsCache.heartbeats),On=(0,Y.Uj)(JSON.stringify({version:2,heartbeats:ln}));return Me._heartbeatsCache.lastSentHeartbeatDate=kt,$t.length>0?(Me._heartbeatsCache.heartbeats=$t,yield Me._storage.overwrite(Me._heartbeatsCache)):(Me._heartbeatsCache.heartbeats=[],Me._storage.overwrite(Me._heartbeatsCache)),On}catch(kt){return Pt.warn(kt),""}})()}}function Ui(){return(new Date).toISOString().substring(0,10)}class ji{constructor(Me){this.app=Me,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,I.A)(function*(){return!!(0,Y.zW)()&&(0,Y.eX)().then(()=>!0).catch(()=>!1)})()}read(){var Me=this;return(0,I.A)(function*(){if(yield Me._canUseIndexedDBPromise){const kt=yield function Jn(Qe){return Rn.apply(this,arguments)}(Me.app);return kt?.heartbeats?kt:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(Me){var at=this;return(0,I.A)(function*(){var kt;if(yield at._canUseIndexedDBPromise){const $t=yield at.read();return ei(at.app,{lastSentHeartbeatDate:null!==(kt=Me.lastSentHeartbeatDate)&&void 0!==kt?kt:$t.lastSentHeartbeatDate,heartbeats:Me.heartbeats})}})()}add(Me){var at=this;return(0,I.A)(function*(){var kt;if(yield at._canUseIndexedDBPromise){const $t=yield at.read();return ei(at.app,{lastSentHeartbeatDate:null!==(kt=Me.lastSentHeartbeatDate)&&void 0!==kt?kt:$t.lastSentHeartbeatDate,heartbeats:[...$t.heartbeats,...Me.heartbeats]})}})()}}function po(Qe){return(0,Y.Uj)(JSON.stringify({version:2,heartbeats:Qe})).length}!function $i(Qe){Pn(new Ee.uA("platform-logger",Me=>new zn(Me),"PRIVATE")),Pn(new Ee.uA("heartbeat",Me=>new Yn(Me),"PRIVATE")),te(st,rt,Qe),te(st,rt,"esm2017"),te("fire-js","")}("")},1362:(on,Ze,q)=>{q.d(Ze,{h1:()=>ot,uA:()=>$e});var I=q(467),Ee=q(1076);class $e{constructor(pe,Ie,ze){this.name=pe,this.instanceFactory=Ie,this.type=ze,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(pe){return this.instantiationMode=pe,this}setMultipleInstances(pe){return this.multipleInstances=pe,this}setServiceProps(pe){return this.serviceProps=pe,this}setInstanceCreatedCallback(pe){return this.onInstanceCreated=pe,this}}const Y="[DEFAULT]";class de{constructor(pe,Ie){this.name=pe,this.container=Ie,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(pe){const Ie=this.normalizeInstanceIdentifier(pe);if(!this.instancesDeferred.has(Ie)){const ze=new Ee.cY;if(this.instancesDeferred.set(Ie,ze),this.isInitialized(Ie)||this.shouldAutoInitialize())try{const gt=this.getOrInitializeService({instanceIdentifier:Ie});gt&&ze.resolve(gt)}catch{}}return this.instancesDeferred.get(Ie).promise}getImmediate(pe){var Ie;const ze=this.normalizeInstanceIdentifier(pe?.identifier),gt=null!==(Ie=pe?.optional)&&void 0!==Ie&&Ie;if(!this.isInitialized(ze)&&!this.shouldAutoInitialize()){if(gt)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ze})}catch(nt){if(gt)return null;throw nt}}getComponent(){return this.component}setComponent(pe){if(pe.name!==this.name)throw Error(`Mismatching Component ${pe.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=pe,this.shouldAutoInitialize()){if(function Re(Ue){return"EAGER"===Ue.instantiationMode}(pe))try{this.getOrInitializeService({instanceIdentifier:Y})}catch{}for(const[Ie,ze]of this.instancesDeferred.entries()){const gt=this.normalizeInstanceIdentifier(Ie);try{const nt=this.getOrInitializeService({instanceIdentifier:gt});ze.resolve(nt)}catch{}}}}clearInstance(pe=Y){this.instancesDeferred.delete(pe),this.instancesOptions.delete(pe),this.instances.delete(pe)}delete(){var pe=this;return(0,I.A)(function*(){const Ie=Array.from(pe.instances.values());yield Promise.all([...Ie.filter(ze=>"INTERNAL"in ze).map(ze=>ze.INTERNAL.delete()),...Ie.filter(ze=>"_delete"in ze).map(ze=>ze._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(pe=Y){return this.instances.has(pe)}getOptions(pe=Y){return this.instancesOptions.get(pe)||{}}initialize(pe={}){const{options:Ie={}}=pe,ze=this.normalizeInstanceIdentifier(pe.instanceIdentifier);if(this.isInitialized(ze))throw Error(`${this.name}(${ze}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const gt=this.getOrInitializeService({instanceIdentifier:ze,options:Ie});for(const[nt,Tt]of this.instancesDeferred.entries())ze===this.normalizeInstanceIdentifier(nt)&&Tt.resolve(gt);return gt}onInit(pe,Ie){var ze;const gt=this.normalizeInstanceIdentifier(Ie),nt=null!==(ze=this.onInitCallbacks.get(gt))&&void 0!==ze?ze:new Set;nt.add(pe),this.onInitCallbacks.set(gt,nt);const Tt=this.instances.get(gt);return Tt&&pe(Tt,gt),()=>{nt.delete(pe)}}invokeOnInitCallbacks(pe,Ie){const ze=this.onInitCallbacks.get(Ie);if(ze)for(const gt of ze)try{gt(pe,Ie)}catch{}}getOrInitializeService({instanceIdentifier:pe,options:Ie={}}){let ze=this.instances.get(pe);if(!ze&&this.component&&(ze=this.component.instanceFactory(this.container,{instanceIdentifier:(Ue=pe,Ue===Y?void 0:Ue),options:Ie}),this.instances.set(pe,ze),this.instancesOptions.set(pe,Ie),this.invokeOnInitCallbacks(ze,pe),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,pe,ze)}catch{}var Ue;return ze||null}normalizeInstanceIdentifier(pe=Y){return this.component?this.component.multipleInstances?pe:Y:pe}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ot{constructor(pe){this.name=pe,this.providers=new Map}addComponent(pe){const Ie=this.getProvider(pe.name);if(Ie.isComponentSet())throw new Error(`Component ${pe.name} has already been registered with ${this.name}`);Ie.setComponent(pe)}addOrOverwriteComponent(pe){this.getProvider(pe.name).isComponentSet()&&this.providers.delete(pe.name),this.addComponent(pe)}getProvider(pe){if(this.providers.has(pe))return this.providers.get(pe);const Ie=new de(pe,this);return this.providers.set(pe,Ie),Ie}getProviders(){return Array.from(this.providers.values())}}},8041:(on,Ze,q)=>{q.d(Ze,{$b:()=>Ee,Vy:()=>Re});const I=[];var Ee=function(pe){return pe[pe.DEBUG=0]="DEBUG",pe[pe.VERBOSE=1]="VERBOSE",pe[pe.INFO=2]="INFO",pe[pe.WARN=3]="WARN",pe[pe.ERROR=4]="ERROR",pe[pe.SILENT=5]="SILENT",pe}(Ee||{});const $e={debug:Ee.DEBUG,verbose:Ee.VERBOSE,info:Ee.INFO,warn:Ee.WARN,error:Ee.ERROR,silent:Ee.SILENT},Y=Ee.INFO,de={[Ee.DEBUG]:"log",[Ee.VERBOSE]:"log",[Ee.INFO]:"info",[Ee.WARN]:"warn",[Ee.ERROR]:"error"},le=(pe,Ie,...ze)=>{if(Ie<pe.logLevel)return;const gt=(new Date).toISOString(),nt=de[Ie];if(!nt)throw new Error(`Attempted to log a message with an invalid logType (value: ${Ie})`);console[nt](`[${gt}]  ${pe.name}:`,...ze)};class Re{constructor(Ie){this.name=Ie,this._logLevel=Y,this._logHandler=le,this._userLogHandler=null,I.push(this)}get logLevel(){return this._logLevel}set logLevel(Ie){if(!(Ie in Ee))throw new TypeError(`Invalid value "${Ie}" assigned to \`logLevel\``);this._logLevel=Ie}setLogLevel(Ie){this._logLevel="string"==typeof Ie?$e[Ie]:Ie}get logHandler(){return this._logHandler}set logHandler(Ie){if("function"!=typeof Ie)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=Ie}get userLogHandler(){return this._userLogHandler}set userLogHandler(Ie){this._userLogHandler=Ie}debug(...Ie){this._userLogHandler&&this._userLogHandler(this,Ee.DEBUG,...Ie),this._logHandler(this,Ee.DEBUG,...Ie)}log(...Ie){this._userLogHandler&&this._userLogHandler(this,Ee.VERBOSE,...Ie),this._logHandler(this,Ee.VERBOSE,...Ie)}info(...Ie){this._userLogHandler&&this._userLogHandler(this,Ee.INFO,...Ie),this._logHandler(this,Ee.INFO,...Ie)}warn(...Ie){this._userLogHandler&&this._userLogHandler(this,Ee.WARN,...Ie),this._logHandler(this,Ee.WARN,...Ie)}error(...Ie){this._userLogHandler&&this._userLogHandler(this,Ee.ERROR,...Ie),this._logHandler(this,Ee.ERROR,...Ie)}}},2214:(on,Ze,q)=>{q.d(Ze,{Dk:()=>I.Dk,KO:()=>I.KO,Sx:()=>I.Sx,Wp:()=>I.Wp});var I=q(7852);(0,I.KO)("firebase","10.14.1","app")},467:(on,Ze,q)=>{function I($e,Y,de,le,Re,ot,Ue){try{var pe=$e[ot](Ue),Ie=pe.value}catch(ze){return void de(ze)}pe.done?Y(Ie):Promise.resolve(Ie).then(le,Re)}function Ee($e){return function(){var Y=this,de=arguments;return new Promise(function(le,Re){var ot=$e.apply(Y,de);function Ue(Ie){I(ot,le,Re,Ue,pe,"next",Ie)}function pe(Ie){I(ot,le,Re,Ue,pe,"throw",Ie)}Ue(void 0)})}}q.d(Ze,{A:()=>Ee})},1635:(on,Ze,q)=>{function Y(Oe,me){var ae={};for(var ge in Oe)Object.prototype.hasOwnProperty.call(Oe,ge)&&me.indexOf(ge)<0&&(ae[ge]=Oe[ge]);if(null!=Oe&&"function"==typeof Object.getOwnPropertySymbols){var pt=0;for(ge=Object.getOwnPropertySymbols(Oe);pt<ge.length;pt++)me.indexOf(ge[pt])<0&&Object.prototype.propertyIsEnumerable.call(Oe,ge[pt])&&(ae[ge[pt]]=Oe[ge[pt]])}return ae}function ze(Oe,me,ae,ge){return new(ae||(ae=Promise))(function(It,Lt){function an(Qn){try{Ct(ge.next(Qn))}catch(Sn){Lt(Sn)}}function Tr(Qn){try{Ct(ge.throw(Qn))}catch(Sn){Lt(Sn)}}function Ct(Qn){Qn.done?It(Qn.value):function pt(It){return It instanceof ae?It:new ae(function(Lt){Lt(It)})}(Qn.value).then(an,Tr)}Ct((ge=ge.apply(Oe,me||[])).next())})}function yt(Oe){return this instanceof yt?(this.v=Oe,this):new yt(Oe)}function ut(Oe,me,ae){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var pt,ge=ae.apply(Oe,me||[]),It=[];return pt=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),an("next"),an("throw"),an("return",function Lt(xn){return function(Kr){return Promise.resolve(Kr).then(xn,Sn)}}),pt[Symbol.asyncIterator]=function(){return this},pt;function an(xn,Kr){ge[xn]&&(pt[xn]=function(yr){return new Promise(function(Ot,Wn){It.push([xn,yr,Ot,Wn])>1||Tr(xn,yr)})},Kr&&(pt[xn]=Kr(pt[xn])))}function Tr(xn,Kr){try{!function Ct(xn){xn.value instanceof yt?Promise.resolve(xn.value.v).then(Qn,Sn):en(It[0][2],xn)}(ge[xn](Kr))}catch(yr){en(It[0][3],yr)}}function Qn(xn){Tr("next",xn)}function Sn(xn){Tr("throw",xn)}function en(xn,Kr){xn(Kr),It.shift(),It.length&&Tr(It[0][0],It[0][1])}}function lt(Oe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ae,me=Oe[Symbol.asyncIterator];return me?me.call(Oe):(Oe=function sn(Oe){var me="function"==typeof Symbol&&Symbol.iterator,ae=me&&Oe[me],ge=0;if(ae)return ae.call(Oe);if(Oe&&"number"==typeof Oe.length)return{next:function(){return Oe&&ge>=Oe.length&&(Oe=void 0),{value:Oe&&Oe[ge++],done:!Oe}}};throw new TypeError(me?"Object is not iterable.":"Symbol.iterator is not defined.")}(Oe),ae={},ge("next"),ge("throw"),ge("return"),ae[Symbol.asyncIterator]=function(){return this},ae);function ge(It){ae[It]=Oe[It]&&function(Lt){return new Promise(function(an,Tr){!function pt(It,Lt,an,Tr){Promise.resolve(Tr).then(function(Ct){It({value:Ct,done:an})},Lt)}(an,Tr,(Lt=Oe[It](Lt)).done,Lt.value)})}}}q.d(Ze,{AQ:()=>ut,N3:()=>yt,Tt:()=>Y,sH:()=>ze,xN:()=>lt}),"function"==typeof SuppressedError&&SuppressedError}},on=>{on(on.s=5558)}]);