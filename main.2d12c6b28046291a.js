"use strict";(self.webpackChunkrigel=self.webpackChunkrigel||[]).push([[792],{1076:(an,tt,L)=>{L.d(tt,{Am:()=>bt,FA:()=>Qe,Fy:()=>$e,Ku:()=>pe,T9:()=>ke,Uj:()=>fe,XA:()=>Ge,ZQ:()=>_t,bD:()=>Se,c1:()=>jn,cY:()=>je,eX:()=>Xe,g:()=>Lt,jZ:()=>Tt,lV:()=>Tn,nr:()=>Yt,sr:()=>zt,tD:()=>st,u:()=>te,yU:()=>Xt,zW:()=>Le});const le=function(P){const R=[];let O=0;for(let ve=0;ve<P.length;ve++){let xe=P.charCodeAt(ve);xe<128?R[O++]=xe:xe<2048?(R[O++]=xe>>6|192,R[O++]=63&xe|128):55296==(64512&xe)&&ve+1<P.length&&56320==(64512&P.charCodeAt(ve+1))?(xe=65536+((1023&xe)<<10)+(1023&P.charCodeAt(++ve)),R[O++]=xe>>18|240,R[O++]=xe>>12&63|128,R[O++]=xe>>6&63|128,R[O++]=63&xe|128):(R[O++]=xe>>12|224,R[O++]=xe>>6&63|128,R[O++]=63&xe|128)}return R},Re={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(P,R){if(!Array.isArray(P))throw Error("encodeByteArray takes an array as a parameter");this.init_();const O=R?this.byteToCharMapWebSafe_:this.byteToCharMap_,ve=[];for(let xe=0;xe<P.length;xe+=3){const be=P[xe],me=xe+1<P.length,se=me?P[xe+1]:0,Ce=xe+2<P.length,ct=Ce?P[xe+2]:0;let Me=(15&se)<<2|ct>>6,Ve=63&ct;Ce||(Ve=64,me||(Me=64)),ve.push(O[be>>2],O[(3&be)<<4|se>>4],O[Me],O[Ve])}return ve.join("")},encodeString(P,R){return this.HAS_NATIVE_SUPPORT&&!R?btoa(P):this.encodeByteArray(le(P),R)},decodeString(P,R){return this.HAS_NATIVE_SUPPORT&&!R?atob(P):function(P){const R=[];let O=0,ve=0;for(;O<P.length;){const xe=P[O++];if(xe<128)R[ve++]=String.fromCharCode(xe);else if(xe>191&&xe<224){const be=P[O++];R[ve++]=String.fromCharCode((31&xe)<<6|63&be)}else if(xe>239&&xe<365){const Ce=((7&xe)<<18|(63&P[O++])<<12|(63&P[O++])<<6|63&P[O++])-65536;R[ve++]=String.fromCharCode(55296+(Ce>>10)),R[ve++]=String.fromCharCode(56320+(1023&Ce))}else{const be=P[O++],me=P[O++];R[ve++]=String.fromCharCode((15&xe)<<12|(63&be)<<6|63&me)}}return R.join("")}(this.decodeStringToByteArray(P,R))},decodeStringToByteArray(P,R){this.init_();const O=R?this.charToByteMapWebSafe_:this.charToByteMap_,ve=[];for(let xe=0;xe<P.length;){const be=O[P.charAt(xe++)],se=xe<P.length?O[P.charAt(xe)]:0;++xe;const ct=xe<P.length?O[P.charAt(xe)]:64;++xe;const Ie=xe<P.length?O[P.charAt(xe)]:64;if(++xe,null==be||null==se||null==ct||null==Ie)throw new Oe;ve.push(be<<2|se>>4),64!==ct&&(ve.push(se<<4&240|ct>>2),64!==Ie&&ve.push(ct<<6&192|Ie))}return ve},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let P=0;P<this.ENCODED_VALS.length;P++)this.byteToCharMap_[P]=this.ENCODED_VALS.charAt(P),this.charToByteMap_[this.byteToCharMap_[P]]=P,this.byteToCharMapWebSafe_[P]=this.ENCODED_VALS_WEBSAFE.charAt(P),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[P]]=P,P>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(P)]=P,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(P)]=P)}}};class Oe extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const fe=function(P){return function(P){const R=le(P);return Re.encodeByteArray(R,!0)}(P).replace(/\./g,"")},te=function(P){try{return Re.decodeString(P,!0)}catch(R){console.error("base64Decode failed: ",R)}return null},wt=()=>{try{return function ue(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const P=process.env.__FIREBASE_DEFAULTS__;return P?JSON.parse(P):void 0})()||(()=>{if(typeof document>"u")return;let P;try{P=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const R=P&&te(P[1]);return R&&JSON.parse(R)})()}catch(P){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${P}`)}},Xt=P=>{const R=(P=>{var R,O;return null===(O=null===(R=wt())||void 0===R?void 0:R.emulatorHosts)||void 0===O?void 0:O[P]})(P);if(!R)return;const O=R.lastIndexOf(":");if(O<=0||O+1===R.length)throw new Error(`Invalid host ${R} with no separate hostname and port!`);const ve=parseInt(R.substring(O+1),10);return"["===R[0]?[R.substring(1,O-1),ve]:[R.substring(0,O),ve]},ke=()=>{var P;return null===(P=wt())||void 0===P?void 0:P.config},Ge=P=>{var R;return null===(R=wt())||void 0===R?void 0:R[`_${P}`]};class je{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((R,O)=>{this.resolve=R,this.reject=O})}wrapCallback(R){return(O,ve)=>{O?this.reject(O):this.resolve(ve),"function"==typeof R&&(this.promise.catch(()=>{}),1===R.length?R(O):R(O,ve))}}}function $e(P,R){if(P.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const ve=R||"demo-project",xe=P.iat||0,be=P.sub||P.user_id;if(!be)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const me=Object.assign({iss:`https://securetoken.google.com/${ve}`,aud:ve,iat:xe,exp:xe+3600,auth_time:xe,sub:be,user_id:be,firebase:{sign_in_provider:"custom",identities:{}}},P);return[fe(JSON.stringify({alg:"none",type:"JWT"})),fe(JSON.stringify(me)),""].join(".")}function _t(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Tt(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(_t())}function jn(){return typeof navigator<"u"&&"Cloudflare-Workers"===navigator.userAgent}function zt(){const P="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof P&&void 0!==P.id}function Tn(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Yt(){return!function hn(){var P;const R=null===(P=wt())||void 0===P?void 0:P.forceEnvironment;if("node"===R)return!0;if("browser"===R)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Le(){try{return"object"==typeof indexedDB}catch{return!1}}function Xe(){return new Promise((P,R)=>{try{let O=!0;const ve="validate-browser-context-for-indexeddb-analytics-module",xe=self.indexedDB.open(ve);xe.onsuccess=()=>{xe.result.close(),O||self.indexedDB.deleteDatabase(ve),P(!0)},xe.onupgradeneeded=()=>{O=!1},xe.onerror=()=>{var be;R((null===(be=xe.error)||void 0===be?void 0:be.message)||"")}}catch(O){R(O)}})}class Lt extends Error{constructor(R,O,ve){super(O),this.code=R,this.customData=ve,this.name="FirebaseError",Object.setPrototypeOf(this,Lt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Qe.prototype.create)}}class Qe{constructor(R,O,ve){this.service=R,this.serviceName=O,this.errors=ve}create(R,...O){const ve=O[0]||{},xe=`${this.service}/${R}`,be=this.errors[R],me=be?function pt(P,R){return P.replace(Ft,(O,ve)=>{const xe=R[ve];return null!=xe?String(xe):`<${ve}?>`})}(be,ve):"Error";return new Lt(xe,`${this.serviceName}: ${me} (${xe}).`,ve)}}const Ft=/\{\$([^}]+)}/g;function Se(P,R){if(P===R)return!0;const O=Object.keys(P),ve=Object.keys(R);for(const xe of O){if(!ve.includes(xe))return!1;const be=P[xe],me=R[xe];if(qe(be)&&qe(me)){if(!Se(be,me))return!1}else if(be!==me)return!1}for(const xe of ve)if(!O.includes(xe))return!1;return!0}function qe(P){return null!==P&&"object"==typeof P}function bt(P){const R=[];for(const[O,ve]of Object.entries(P))Array.isArray(ve)?ve.forEach(xe=>{R.push(encodeURIComponent(O)+"="+encodeURIComponent(xe))}):R.push(encodeURIComponent(O)+"="+encodeURIComponent(ve));return R.length?"&"+R.join("&"):""}function st(P,R){const O=new it(P,R);return O.subscribe.bind(O)}class it{constructor(R,O){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=O,this.task.then(()=>{R(this)}).catch(ve=>{this.error(ve)})}next(R){this.forEachObserver(O=>{O.next(R)})}error(R){this.forEachObserver(O=>{O.error(R)}),this.close(R)}complete(){this.forEachObserver(R=>{R.complete()}),this.close()}subscribe(R,O,ve){let xe;if(void 0===R&&void 0===O&&void 0===ve)throw new Error("Missing Observer.");xe=function Un(P,R){if("object"!=typeof P||null===P)return!1;for(const O of R)if(O in P&&"function"==typeof P[O])return!0;return!1}(R,["next","error","complete"])?R:{next:R,error:O,complete:ve},void 0===xe.next&&(xe.next=Dt),void 0===xe.error&&(xe.error=Dt),void 0===xe.complete&&(xe.complete=Dt);const be=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?xe.error(this.finalError):xe.complete()}catch{}}),this.observers.push(xe),be}unsubscribeOne(R){void 0===this.observers||void 0===this.observers[R]||(delete this.observers[R],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(R){if(!this.finalized)for(let O=0;O<this.observers.length;O++)this.sendOne(O,R)}sendOne(R,O){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[R])try{O(this.observers[R])}catch(ve){typeof console<"u"&&console.error&&console.error(ve)}})}close(R){this.finalized||(this.finalized=!0,void 0!==R&&(this.finalError=R),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Dt(){}function pe(P){return P&&P._delegate?P._delegate:P}},4441:(an,tt,L)=>{L.d(tt,{u:()=>re});var f=L(467),G=L(9173),ge=L(7705),le=L(5743);let re=(()=>{class Re{constructor(he,fe){this.router=he,this.firestore=fe,this._isLoggedIn=null}login(he,fe){var te=this;return(0,f.A)(function*(){try{const de=(0,G.collection)(te.firestore,"usuarios"),Pe=(0,G.query)(de,(0,G.where)("email","==",he),(0,G.where)("password","==",fe),(0,G.where)("activo","==",!0)),Ue=yield(0,G.getDocs)(Pe);if(Ue.empty)return console.warn("Credenciales inv\xe1lidas o usuario inactivo"),!1;{const ue=Ue.docs[0],mt=ue.data();return yield te.updateLastAccess(ue.id),te.saveUserData({id:ue.id,nombre:mt.nombre,email:mt.email,rol:mt.rol,permisos:mt.permisos||[],telefono:mt.telefono||""}),te.router.navigate(["/private"]),!0}}catch(de){return console.error("Error en login:",de),!1}})()}logout(){this.clearUserData(),this.router.navigate(["/public/sign-in"])}isLoggedIn(){if(null===this._isLoggedIn){const he=localStorage.getItem("userId");this._isLoggedIn=!!he,console.log("AuthService.isLoggedIn() - userId:",he)}return this._isLoggedIn}getCurrentUser(){return this.isLoggedIn()?{id:localStorage.getItem("userId"),nombre:localStorage.getItem("nombre"),email:localStorage.getItem("email"),rol:localStorage.getItem("rol"),permisos:JSON.parse(localStorage.getItem("permisos")||"[]"),telefono:localStorage.getItem("telefono")}:null}hasPermission(he){const fe=this.getCurrentUser();return!!fe&&("ROOT"===fe.rol||"Administrador"===fe.rol&&"app_shutdown"!==he||fe.permisos.includes(he))}hasRole(he){return this.getCurrentUser()?.rol===he}updateLastAccess(he){var fe=this;return(0,f.A)(function*(){try{const te=(0,G.doc)(fe.firestore,"usuarios",he);yield(0,G.updateDoc)(te,{ultimoAcceso:new Date})}catch(te){console.error("Error actualizando \xfaltimo acceso:",te)}})()}saveUserData(he){localStorage.setItem("userId",he.id),localStorage.setItem("nombre",he.nombre),localStorage.setItem("email",he.email),localStorage.setItem("rol",he.rol),localStorage.setItem("permisos",JSON.stringify(he.permisos)),localStorage.setItem("telefono",he.telefono),this._isLoggedIn=!0}clearUserData(){localStorage.removeItem("userId"),localStorage.removeItem("nombre"),localStorage.removeItem("email"),localStorage.removeItem("rol"),localStorage.removeItem("permisos"),localStorage.removeItem("telefono"),this._isLoggedIn=!1}static{this.\u0275fac=function(fe){return new(fe||Re)(ge.KVO(le.Ix),ge.KVO(G.Firestore))}}static{this.\u0275prov=ge.jDH({token:Re,factory:Re.\u0275fac,providedIn:"root"})}}return Re})()},4859:(an,tt,L)=>{L.d(tt,{l:()=>re});var f=L(467),G=L(4412),ge=L(7705),le=L(9173);let re=(()=>{class Re{constructor(he){this.firestore=he,this.coloresDefecto={colorPrincipal:"#dc3545",colorSidebar:"#122d44",colorSidebarSecundario:"#6e120b",colorTextoSidebar:"#ffffff",colorHoverSidebar:"#34495e",modoOscuro:!1},this.personalizacionSubject=new G.t(this.coloresDefecto),this.personalizacion$=this.personalizacionSubject.asObservable(),this.temasPredefindos={default:{colorPrincipal:"#dc3545",colorSidebar:"#122d44",colorSidebarSecundario:"#6e120b",colorTextoSidebar:"#ffffff",colorHoverSidebar:"#34495e",modoOscuro:!1},pink:{colorPrincipal:"#e91e63",colorSidebar:"#880e4f",colorSidebarSecundario:"#ad1457",colorTextoSidebar:"#ffffff",colorHoverSidebar:"#c2185b",modoOscuro:!1},barbie:{colorPrincipal:"#ff69b4",colorSidebar:"#ff1493",colorSidebarSecundario:"#c71585",colorTextoSidebar:"#ffffff",colorHoverSidebar:"#ff20b2",modoOscuro:!1},blue:{colorPrincipal:"#007bff",colorSidebar:"#0056b3",colorSidebarSecundario:"#004085",colorTextoSidebar:"#ffffff",colorHoverSidebar:"#0069d9",modoOscuro:!1},green:{colorPrincipal:"#28a745",colorSidebar:"#1e7e34",colorSidebarSecundario:"#155724",colorTextoSidebar:"#ffffff",colorHoverSidebar:"#218838",modoOscuro:!1},purple:{colorPrincipal:"#6f42c1",colorSidebar:"#5a32a3",colorSidebarSecundario:"#4c2a85",colorTextoSidebar:"#ffffff",colorHoverSidebar:"#6610f2",modoOscuro:!1},orange:{colorPrincipal:"#fd7e14",colorSidebar:"#e55100",colorSidebarSecundario:"#bf360c",colorTextoSidebar:"#ffffff",colorHoverSidebar:"#f57c00",modoOscuro:!1},teal:{colorPrincipal:"#20c997",colorSidebar:"#00695c",colorSidebarSecundario:"#004d40",colorTextoSidebar:"#ffffff",colorHoverSidebar:"#00897b",modoOscuro:!1},indigo:{colorPrincipal:"#6610f2",colorSidebar:"#4e0d75",colorSidebarSecundario:"#3d0a5c",colorTextoSidebar:"#ffffff",colorHoverSidebar:"#5a23c8",modoOscuro:!1}},this.aplicarColoresAlSistema(this.coloresDefecto)}actualizarPersonalizacion(he){this.personalizacionSubject.next(he),this.aplicarColoresAlSistema(he)}obtenerPersonalizacionActual(){return this.personalizacionSubject.value}aplicarTema(he){const fe=this.temasPredefindos[he];if(fe){const te=this.obtenerPersonalizacionActual(),de={...fe,modoOscuro:te.modoOscuro};return this.actualizarPersonalizacion(de),de}return this.obtenerPersonalizacionActual()}alternarModoOscuro(){const he=this.obtenerPersonalizacionActual(),fe={...he,modoOscuro:!he.modoOscuro};this.actualizarPersonalizacion(fe)}obtenerTemasDisponibles(){return Object.keys(this.temasPredefindos)}aplicarColoresAlSistema(he){const fe=document.documentElement;fe.style.setProperty("--color-principal",he.colorPrincipal),fe.style.setProperty("--color-sidebar",he.colorSidebar),fe.style.setProperty("--color-sidebar-secundario",he.colorSidebarSecundario),fe.style.setProperty("--color-texto-sidebar",he.colorTextoSidebar),fe.style.setProperty("--color-hover-sidebar",he.colorHoverSidebar),fe.style.setProperty("--color-principal-hover",this.darkenColor(he.colorPrincipal,10)),fe.style.setProperty("--color-principal-light",this.lightenColor(he.colorPrincipal,20)),fe.style.setProperty("--color-sidebar-dark",this.darkenColor(he.colorSidebar,5)),fe.style.setProperty("--color-sidebar-light",this.lightenColor(he.colorSidebar,10)),fe.style.setProperty("--color-sidebar-gradient",`linear-gradient(to bottom, ${he.colorSidebar}, ${he.colorSidebarSecundario})`),this.aplicarModoOscuro(he.modoOscuro||!1)}aplicarModoOscuro(he){he?(document.documentElement.style.setProperty("--bg-body","#121212"),document.documentElement.style.setProperty("--bg-surface","#1e1e1e"),document.documentElement.style.setProperty("--bg-card","#2d2d2d"),document.documentElement.style.setProperty("--text-primary","#ffffff"),document.documentElement.style.setProperty("--text-secondary","#b3b3b3"),document.documentElement.style.setProperty("--text-muted","#888888"),document.documentElement.style.setProperty("--border-color","#404040"),document.documentElement.style.setProperty("--input-bg","#2d2d2d"),document.documentElement.style.setProperty("--input-border","#404040"),document.body.classList.add("dark-mode")):(document.documentElement.style.setProperty("--bg-body","#f8f4e4"),document.documentElement.style.setProperty("--bg-surface","#f8f9fa"),document.documentElement.style.setProperty("--bg-card","#ffffff"),document.documentElement.style.setProperty("--text-primary","#212529"),document.documentElement.style.setProperty("--text-secondary","#6c757d"),document.documentElement.style.setProperty("--text-muted","#6c757d"),document.documentElement.style.setProperty("--border-color","#dee2e6"),document.documentElement.style.setProperty("--input-bg","#ffffff"),document.documentElement.style.setProperty("--input-border","#ced4da"),document.body.classList.remove("dark-mode"))}darkenColor(he,fe){const te=parseInt(he.replace("#",""),16),de=Math.round(2.55*fe),Pe=(te>>16)-de,Ue=(te>>8&255)-de,ue=(255&te)-de;return"#"+(16777216+65536*(Pe<255?Pe<1?0:Pe:255)+256*(Ue<255?Ue<1?0:Ue:255)+(ue<255?ue<1?0:ue:255)).toString(16).slice(1)}lightenColor(he,fe){const te=parseInt(he.replace("#",""),16),de=Math.round(2.55*fe),Pe=(te>>16)+de,Ue=(te>>8&255)+de,ue=(255&te)+de;return"#"+(16777216+65536*(Pe<255?Pe<1?0:Pe:255)+256*(Ue<255?Ue<1?0:Ue:255)+(ue<255?ue<1?0:ue:255)).toString(16).slice(1)}resetearColores(){this.actualizarPersonalizacion(this.coloresDefecto)}cargarPersonalizacionUsuario(he){var fe=this;return(0,f.A)(function*(){try{const{doc:te,getDoc:de}=yield Promise.resolve().then(L.bind(L,9173)),Pe=te(fe.firestore,"users",he),Ue=yield de(Pe);if(Ue.exists()){const mt=Ue.data().personalizacion;fe.actualizarPersonalizacion(mt||fe.coloresDefecto)}}catch(te){console.log("Error al cargar personalizaci\xf3n del usuario, usando valores por defecto:",te),fe.actualizarPersonalizacion(fe.coloresDefecto)}})()}resetearADefecto(){this.actualizarPersonalizacion(this.coloresDefecto)}static{this.\u0275fac=function(fe){return new(fe||Re)(ge.KVO(le.Firestore))}}static{this.\u0275prov=ge.jDH({token:Re,factory:Re.\u0275fac,providedIn:"root"})}}return Re})()},94:(an,tt,L)=>{var f=L(345),G=L(7705),ge=L(9417),le=L(5743),re=L(4441);const Oe=[{path:"private",canActivate:[(k,u)=>{const m=(0,G.WQX)(le.Ix);return!!(0,G.WQX)(re.u).isLoggedIn()||m.parseUrl("/public/sign-in")}],loadChildren:()=>L.e(412).then(L.bind(L,7412)).then(k=>k.PrivateModule)},{path:"public",loadChildren:()=>L.e(336).then(L.bind(L,2336)).then(k=>k.PublicModule)},{path:"",redirectTo:"private",pathMatch:"full"},{path:"**",redirectTo:"public/sign-in"}];let he=(()=>{class k{static{this.\u0275fac=function(b){return new(b||k)}}static{this.\u0275mod=G.$C({type:k})}static{this.\u0275inj=G.G2t({imports:[le.iI.forRoot(Oe),le.iI]})}}return k})();var fe=L(4859);let te=(()=>{class k{constructor(m,b){this.personalizacionService=m,this.authService=b,this.title="Rigel"}ngOnInit(){const m=this.authService.getCurrentUser();m?.id?this.personalizacionService.cargarPersonalizacionUsuario(m.id):this.personalizacionService.resetearADefecto()}static{this.\u0275fac=function(b){return new(b||k)(G.rXU(fe.l),G.rXU(re.u))}}static{this.\u0275cmp=G.VBU({type:k,selectors:[["app-root"]],decls:1,vars:0,template:function(b,V){1&b&&G.nrm(0,"router-outlet")},dependencies:[le.n3]})}}return k})();const de_firebase={apiKey:"AIzaSyCDRmcu80MmOuBfPmRYxfuy-GO1_Ue0-fg",authDomain:"rigel-9d30c.firebaseapp.com",projectId:"rigel-9d30c",storageBucket:"rigel-9d30c.firebasestorage.app",messagingSenderId:"747258352161",appId:"1:747258352161:web:dd77e892dc14b8edad4960"};var Pe=L(1626),Ue=L(9969);function mt(k){return new G.wOt(3e3,!1)}function Yn(k){switch(k.length){case 0:return new Ue.sf;case 1:return k[0];default:return new Ue.ui(k)}}function Vr(k,u,m=new Map,b=new Map){const V=[],W=[];let oe=-1,_e=null;if(u.forEach(ze=>{const ht=ze.get("offset"),qt=ht==oe,cn=qt&&_e||new Map;ze.forEach((Bn,Dn)=>{let bn=Dn,Ln=Bn;if("offset"!==Dn)switch(bn=k.normalizePropertyName(bn,V),Ln){case Ue.FX:Ln=m.get(Dn);break;case Ue.kp:Ln=b.get(Dn);break;default:Ln=k.normalizeStyleValue(Dn,bn,Ln,V)}cn.set(bn,Ln)}),qt||W.push(cn),_e=cn,oe=ht}),V.length)throw function Xe(k){return new G.wOt(3502,!1)}();return W}function kr(k,u,m,b){switch(u){case"start":k.onStart(()=>b(m&&Bt(m,"start",k)));break;case"done":k.onDone(()=>b(m&&Bt(m,"done",k)));break;case"destroy":k.onDestroy(()=>b(m&&Bt(m,"destroy",k)))}}function Bt(k,u,m){const W=ie(k.element,k.triggerName,k.fromState,k.toState,u||k.phaseName,m.totalTime??k.totalTime,!!m.disabled),oe=k._data;return null!=oe&&(W._data=oe),W}function ie(k,u,m,b,V="",W=0,oe){return{element:k,triggerName:u,fromState:m,toState:b,phaseName:V,totalTime:W,disabled:!!oe}}function Se(k,u,m){let b=k.get(u);return b||k.set(u,b=m),b}function qe(k){const u=k.indexOf(":");return[k.substring(1,u),k.slice(u+1)]}const rt=(()=>typeof document>"u"?null:document.documentElement)();function bt(k){const u=k.parentNode||k.host||null;return u===rt?null:u}let Fe=null,Ae=!1;function Un(k,u){for(;u;){if(u===k)return!0;u=bt(u)}return!1}function Dt(k,u,m){if(m)return Array.from(k.querySelectorAll(u));const b=k.querySelector(u);return b?[b]:[]}let on=(()=>{class k{validateStyleProperty(m){return function st(k){Fe||(Fe=function ut(){return typeof document<"u"?document.body:null}()||{},Ae=!!Fe.style&&"WebkitAppearance"in Fe.style);let u=!0;return Fe.style&&!function nt(k){return"ebkit"==k.substring(1,6)}(k)&&(u=k in Fe.style,!u&&Ae&&(u="Webkit"+k.charAt(0).toUpperCase()+k.slice(1)in Fe.style)),u}(m)}matchesElement(m,b){return!1}containsElement(m,b){return Un(m,b)}getParentElement(m){return bt(m)}query(m,b,V){return Dt(m,b,V)}computeStyle(m,b,V){return V||""}animate(m,b,V,W,oe,_e=[],ze){return new Ue.sf(V,W)}static{this.\u0275fac=function(b){return new(b||k)}}static{this.\u0275prov=G.jDH({token:k,factory:k.\u0275fac})}}return k})(),Zt=(()=>{class k{static{this.NOOP=new on}}return k})();const Ar=1e3,er="ng-enter",fr="ng-leave",vi="ng-trigger",Zr=".ng-trigger",di="ng-animating",Xr=".ng-animating";function ar(k){if("number"==typeof k)return k;const u=k.match(/^(-?[\.\d]+)(m?s)/);return!u||u.length<2?0:hi(parseFloat(u[1]),u[2])}function hi(k,u){return"s"===u?k*Ar:k}function Nt(k,u,m){return k.hasOwnProperty("duration")?k:function pe(k,u,m){let V,W=0,oe="";if("string"==typeof k){const _e=k.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===_e)return u.push(mt()),{duration:0,delay:0,easing:""};V=hi(parseFloat(_e[1]),_e[2]);const ze=_e[3];null!=ze&&(W=hi(parseFloat(ze),_e[4]));const ht=_e[5];ht&&(oe=ht)}else V=k;if(!m){let _e=!1,ze=u.length;V<0&&(u.push(function Pt(){return new G.wOt(3100,!1)}()),_e=!0),W<0&&(u.push(function Ot(){return new G.wOt(3101,!1)}()),_e=!0),_e&&u.splice(ze,0,mt())}return{duration:V,delay:W,easing:oe}}(k,u,m)}function P(k,u={}){return Object.keys(k).forEach(m=>{u[m]=k[m]}),u}function R(k){const u=new Map;return Object.keys(k).forEach(m=>{u.set(m,k[m])}),u}function xe(k,u=new Map,m){if(m)for(let[b,V]of m)u.set(b,V);for(let[b,V]of k)u.set(b,V);return u}function be(k,u,m){u.forEach((b,V)=>{const W=Rt(V);m&&!m.has(V)&&m.set(V,k.style[W]),k.style[W]=b})}function me(k,u){u.forEach((m,b)=>{const V=Rt(b);k.style[V]=""})}function se(k){return Array.isArray(k)?1==k.length?k[0]:(0,Ue.K2)(k):k}const ct=new RegExp("{{\\s*(.+?)\\s*}}","g");function Kt(k){let u=[];if("string"==typeof k){let m;for(;m=ct.exec(k);)u.push(m[1]);ct.lastIndex=0}return u}function Ie(k,u,m){const b=k.toString(),V=b.replace(ct,(W,oe)=>{let _e=u[oe];return null==_e&&(m.push(function fn(k){return new G.wOt(3003,!1)}()),_e=""),_e.toString()});return V==b?k:V}function Me(k){const u=[];let m=k.next();for(;!m.done;)u.push(m.value),m=k.next();return u}const Ve=/-+([a-z0-9])/g;function Rt(k){return k.replace(Ve,(...u)=>u[1].toUpperCase())}function zn(k,u,m){switch(u.type){case 7:return k.visitTrigger(u,m);case 0:return k.visitState(u,m);case 1:return k.visitTransition(u,m);case 2:return k.visitSequence(u,m);case 3:return k.visitGroup(u,m);case 4:return k.visitAnimate(u,m);case 5:return k.visitKeyframes(u,m);case 6:return k.visitStyle(u,m);case 8:return k.visitReference(u,m);case 9:return k.visitAnimateChild(u,m);case 10:return k.visitAnimateRef(u,m);case 11:return k.visitQuery(u,m);case 12:return k.visitStagger(u,m);default:throw function Xt(k){return new G.wOt(3004,!1)}()}}function Jt(k,u){return window.getComputedStyle(k)[u]}const mn="*";function kn(k,u){const m=[];return"string"==typeof k?k.split(/\s*,\s*/).forEach(b=>function vr(k,u,m){if(":"==k[0]){const ze=function Rr(k,u){switch(k){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(m,b)=>parseFloat(b)>parseFloat(m);case":decrement":return(m,b)=>parseFloat(b)<parseFloat(m);default:return u.push(function Qt(k){return new G.wOt(3016,!1)}()),"* => *"}}(k,m);if("function"==typeof ze)return void u.push(ze);k=ze}const b=k.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==b||b.length<4)return m.push(function Mn(k){return new G.wOt(3015,!1)}()),u;const V=b[1],W=b[2],oe=b[3];u.push(Bi(V,oe));"<"==W[0]&&!(V==mn&&oe==mn)&&u.push(Bi(oe,V))}(b,m,u)):m.push(k),m}const cr=new Set(["true","1"]),Mr=new Set(["false","0"]);function Bi(k,u){const m=cr.has(k)||Mr.has(k),b=cr.has(u)||Mr.has(u);return(V,W)=>{let oe=k==mn||k==V,_e=u==mn||u==W;return!oe&&m&&"boolean"==typeof V&&(oe=V?cr.has(k):Mr.has(k)),!_e&&b&&"boolean"==typeof W&&(_e=W?cr.has(u):Mr.has(u)),oe&&_e}}const Lr=new RegExp("s*:selfs*,?","g");function Ai(k,u,m,b){return new ds(k).build(u,m,b)}class ds{constructor(u){this._driver=u}build(u,m,b){const V=new yc(m);return this._resetContextStyleTimingState(V),zn(this,se(u),V)}_resetContextStyleTimingState(u){u.currentQuerySelector="",u.collectedStyles=new Map,u.collectedStyles.set("",new Map),u.currentTime=0}visitTrigger(u,m){let b=m.queryCount=0,V=m.depCount=0;const W=[],oe=[];return"@"==u.name.charAt(0)&&m.errors.push(function Ge(){return new G.wOt(3006,!1)}()),u.definitions.forEach(_e=>{if(this._resetContextStyleTimingState(m),0==_e.type){const ze=_e,ht=ze.name;ht.toString().split(/\s*,\s*/).forEach(qt=>{ze.name=qt,W.push(this.visitState(ze,m))}),ze.name=ht}else if(1==_e.type){const ze=this.visitTransition(_e,m);b+=ze.queryCount,V+=ze.depCount,oe.push(ze)}else m.errors.push(function je(){return new G.wOt(3007,!1)}())}),{type:7,name:u.name,states:W,transitions:oe,queryCount:b,depCount:V,options:null}}visitState(u,m){const b=this.visitStyle(u.styles,m),V=u.options&&u.options.params||null;if(b.containsDynamicStyles){const W=new Set,oe=V||{};b.styles.forEach(_e=>{_e instanceof Map&&_e.forEach(ze=>{Kt(ze).forEach(ht=>{oe.hasOwnProperty(ht)||W.add(ht)})})}),W.size&&(Me(W.values()),m.errors.push(function $e(k,u){return new G.wOt(3008,!1)}()))}return{type:0,name:u.name,style:b,options:V?{params:V}:null}}visitTransition(u,m){m.queryCount=0,m.depCount=0;const b=zn(this,se(u.animation),m);return{type:1,matchers:kn(u.expr,m.errors),animation:b,queryCount:m.queryCount,depCount:m.depCount,options:hs(u.options)}}visitSequence(u,m){return{type:2,steps:u.steps.map(b=>zn(this,b,m)),options:hs(u.options)}}visitGroup(u,m){const b=m.currentTime;let V=0;const W=u.steps.map(oe=>{m.currentTime=b;const _e=zn(this,oe,m);return V=Math.max(V,m.currentTime),_e});return m.currentTime=V,{type:3,steps:W,options:hs(u.options)}}visitAnimate(u,m){const b=function Ha(k,u){if(k.hasOwnProperty("duration"))return k;if("number"==typeof k)return da(Nt(k,u).duration,0,"");const m=k;if(m.split(/\s+/).some(W=>"{"==W.charAt(0)&&"{"==W.charAt(1))){const W=da(0,0,"");return W.dynamic=!0,W.strValue=m,W}const V=Nt(m,u);return da(V.duration,V.delay,V.easing)}(u.timings,m.errors);m.currentAnimateTimings=b;let V,W=u.styles?u.styles:(0,Ue.iF)({});if(5==W.type)V=this.visitKeyframes(W,m);else{let oe=u.styles,_e=!1;if(!oe){_e=!0;const ht={};b.easing&&(ht.easing=b.easing),oe=(0,Ue.iF)(ht)}m.currentTime+=b.duration+b.delay;const ze=this.visitStyle(oe,m);ze.isEmptyStep=_e,V=ze}return m.currentAnimateTimings=null,{type:4,timings:b,style:V,options:null}}visitStyle(u,m){const b=this._makeStyleAst(u,m);return this._validateStyleAst(b,m),b}_makeStyleAst(u,m){const b=[],V=Array.isArray(u.styles)?u.styles:[u.styles];for(let _e of V)"string"==typeof _e?_e===Ue.kp?b.push(_e):m.errors.push(new G.wOt(3002,!1)):b.push(R(_e));let W=!1,oe=null;return b.forEach(_e=>{if(_e instanceof Map&&(_e.has("easing")&&(oe=_e.get("easing"),_e.delete("easing")),!W))for(let ze of _e.values())if(ze.toString().indexOf("{{")>=0){W=!0;break}}),{type:6,styles:b,easing:oe,offset:u.offset,containsDynamicStyles:W,options:null}}_validateStyleAst(u,m){const b=m.currentAnimateTimings;let V=m.currentTime,W=m.currentTime;b&&W>0&&(W-=b.duration+b.delay),u.styles.forEach(oe=>{"string"!=typeof oe&&oe.forEach((_e,ze)=>{const ht=m.collectedStyles.get(m.currentQuerySelector),qt=ht.get(ze);let cn=!0;qt&&(W!=V&&W>=qt.startTime&&V<=qt.endTime&&(m.errors.push(function hn(k,u,m,b,V){return new G.wOt(3010,!1)}()),cn=!1),W=qt.startTime),cn&&ht.set(ze,{startTime:W,endTime:V}),m.options&&function Ce(k,u,m){const b=u.params||{},V=Kt(k);V.length&&V.forEach(W=>{b.hasOwnProperty(W)||m.push(function wt(k){return new G.wOt(3001,!1)}())})}(_e,m.options,m.errors)})})}visitKeyframes(u,m){const b={type:5,styles:[],options:null};if(!m.currentAnimateTimings)return m.errors.push(function gn(){return new G.wOt(3011,!1)}()),b;let W=0;const oe=[];let _e=!1,ze=!1,ht=0;const qt=u.steps.map(oi=>{const gi=this._makeStyleAst(oi,m);let Kr=null!=gi.offset?gi.offset:function jc(k){if("string"==typeof k)return null;let u=null;if(Array.isArray(k))k.forEach(m=>{if(m instanceof Map&&m.has("offset")){const b=m;u=parseFloat(b.get("offset")),b.delete("offset")}});else if(k instanceof Map&&k.has("offset")){const m=k;u=parseFloat(m.get("offset")),m.delete("offset")}return u}(gi.styles),sr=0;return null!=Kr&&(W++,sr=gi.offset=Kr),ze=ze||sr<0||sr>1,_e=_e||sr<ht,ht=sr,oe.push(sr),gi});ze&&m.errors.push(function _n(){return new G.wOt(3012,!1)}()),_e&&m.errors.push(function jn(){return new G.wOt(3200,!1)}());const cn=u.steps.length;let Bn=0;W>0&&W<cn?m.errors.push(function zt(){return new G.wOt(3202,!1)}()):0==W&&(Bn=1/(cn-1));const Dn=cn-1,bn=m.currentTime,Ln=m.currentAnimateTimings,Jn=Ln.duration;return qt.forEach((oi,gi)=>{const Kr=Bn>0?gi==Dn?1:Bn*gi:oe[gi],sr=Kr*Jn;m.currentTime=bn+Ln.delay+sr,Ln.duration=sr,this._validateStyleAst(oi,m),oi.offset=Kr,b.styles.push(oi)}),b}visitReference(u,m){return{type:8,animation:zn(this,se(u.animation),m),options:hs(u.options)}}visitAnimateChild(u,m){return m.depCount++,{type:9,options:hs(u.options)}}visitAnimateRef(u,m){return{type:10,animation:this.visitReference(u.animation,m),options:hs(u.options)}}visitQuery(u,m){const b=m.currentQuerySelector,V=u.options||{};m.queryCount++,m.currentQuery=u;const[W,oe]=function wi(k){const u=!!k.split(/\s*,\s*/).find(m=>":self"==m);return u&&(k=k.replace(Lr,"")),k=k.replace(/@\*/g,Zr).replace(/@\w+/g,m=>Zr+"-"+m.slice(1)).replace(/:animating/g,Xr),[k,u]}(u.selector);m.currentQuerySelector=b.length?b+" "+W:W,Se(m.collectedStyles,m.currentQuerySelector,new Map);const _e=zn(this,se(u.animation),m);return m.currentQuery=null,m.currentQuerySelector=b,{type:11,selector:W,limit:V.limit||0,optional:!!V.optional,includeSelf:oe,animation:_e,originalSelector:u.selector,options:hs(u.options)}}visitStagger(u,m){m.currentQuery||m.errors.push(function Tn(){return new G.wOt(3013,!1)}());const b="full"===u.timings?{duration:0,delay:0,easing:"full"}:Nt(u.timings,m.errors,!0);return{type:12,animation:zn(this,se(u.animation),m),timings:b,options:null}}}class yc{constructor(u){this.errors=u,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function hs(k){return k?(k=P(k)).params&&(k.params=function mc(k){return k?P(k):null}(k.params)):k={},k}function da(k,u,m){return{duration:k,delay:u,easing:m}}function Ss(k,u,m,b,V,W,oe=null,_e=!1){return{type:1,element:k,keyframes:u,preStyleProps:m,postStyleProps:b,duration:V,delay:W,totalTime:V+W,easing:oe,subTimeline:_e}}class Xs{constructor(){this._map=new Map}get(u){return this._map.get(u)||[]}append(u,m){let b=this._map.get(u);b||this._map.set(u,b=[]),b.push(...m)}has(u){return this._map.has(u)}clear(){this._map.clear()}}const ri=new RegExp(":enter","g"),Wo=new RegExp(":leave","g");function Ea(k,u,m,b,V,W=new Map,oe=new Map,_e,ze,ht=[]){return(new Go).buildKeyframes(k,u,m,b,V,W,oe,_e,ze,ht)}class Go{buildKeyframes(u,m,b,V,W,oe,_e,ze,ht,qt=[]){ht=ht||new Xs;const cn=new wo(u,m,ht,V,W,qt,[]);cn.options=ze;const Bn=ze.delay?ar(ze.delay):0;cn.currentTimeline.delayNextStep(Bn),cn.currentTimeline.setStyles([oe],null,cn.errors,ze),zn(this,b,cn);const Dn=cn.timelines.filter(bn=>bn.containsAnimation());if(Dn.length&&_e.size){let bn;for(let Ln=Dn.length-1;Ln>=0;Ln--){const Jn=Dn[Ln];if(Jn.element===m){bn=Jn;break}}bn&&!bn.allowOnlyTimelineStyles()&&bn.setStyles([_e],null,cn.errors,ze)}return Dn.length?Dn.map(bn=>bn.buildKeyframes()):[Ss(m,[],[],[],0,Bn,"",!1)]}visitTrigger(u,m){}visitState(u,m){}visitTransition(u,m){}visitAnimateChild(u,m){const b=m.subInstructions.get(m.element);if(b){const V=m.createSubContext(u.options),W=m.currentTimeline.currentTime,oe=this._visitSubInstructions(b,V,V.options);W!=oe&&m.transformIntoNewTimeline(oe)}m.previousNode=u}visitAnimateRef(u,m){const b=m.createSubContext(u.options);b.transformIntoNewTimeline(),this._applyAnimationRefDelays([u.options,u.animation.options],m,b),this.visitReference(u.animation,b),m.transformIntoNewTimeline(b.currentTimeline.currentTime),m.previousNode=u}_applyAnimationRefDelays(u,m,b){for(const V of u){const W=V?.delay;if(W){const oe="number"==typeof W?W:ar(Ie(W,V?.params??{},m.errors));b.delayNextStep(oe)}}}_visitSubInstructions(u,m,b){let W=m.currentTimeline.currentTime;const oe=null!=b.duration?ar(b.duration):null,_e=null!=b.delay?ar(b.delay):null;return 0!==oe&&u.forEach(ze=>{const ht=m.appendInstructionToTimeline(ze,oe,_e);W=Math.max(W,ht.duration+ht.delay)}),W}visitReference(u,m){m.updateOptions(u.options,!0),zn(this,u.animation,m),m.previousNode=u}visitSequence(u,m){const b=m.subContextCount;let V=m;const W=u.options;if(W&&(W.params||W.delay)&&(V=m.createSubContext(W),V.transformIntoNewTimeline(),null!=W.delay)){6==V.previousNode.type&&(V.currentTimeline.snapshotCurrentStyles(),V.previousNode=Fr);const oe=ar(W.delay);V.delayNextStep(oe)}u.steps.length&&(u.steps.forEach(oe=>zn(this,oe,V)),V.currentTimeline.applyStylesToKeyframe(),V.subContextCount>b&&V.transformIntoNewTimeline()),m.previousNode=u}visitGroup(u,m){const b=[];let V=m.currentTimeline.currentTime;const W=u.options&&u.options.delay?ar(u.options.delay):0;u.steps.forEach(oe=>{const _e=m.createSubContext(u.options);W&&_e.delayNextStep(W),zn(this,oe,_e),V=Math.max(V,_e.currentTimeline.currentTime),b.push(_e.currentTimeline)}),b.forEach(oe=>m.currentTimeline.mergeTimelineCollectedStyles(oe)),m.transformIntoNewTimeline(V),m.previousNode=u}_visitTiming(u,m){if(u.dynamic){const b=u.strValue;return Nt(m.params?Ie(b,m.params,m.errors):b,m.errors)}return{duration:u.duration,delay:u.delay,easing:u.easing}}visitAnimate(u,m){const b=m.currentAnimateTimings=this._visitTiming(u.timings,m),V=m.currentTimeline;b.delay&&(m.incrementTime(b.delay),V.snapshotCurrentStyles());const W=u.style;5==W.type?this.visitKeyframes(W,m):(m.incrementTime(b.duration),this.visitStyle(W,m),V.applyStylesToKeyframe()),m.currentAnimateTimings=null,m.previousNode=u}visitStyle(u,m){const b=m.currentTimeline,V=m.currentAnimateTimings;!V&&b.hasCurrentStyleProperties()&&b.forwardFrame();const W=V&&V.easing||u.easing;u.isEmptyStep?b.applyEmptyStep(W):b.setStyles(u.styles,W,m.errors,m.options),m.previousNode=u}visitKeyframes(u,m){const b=m.currentAnimateTimings,V=m.currentTimeline.duration,W=b.duration,_e=m.createSubContext().currentTimeline;_e.easing=b.easing,u.styles.forEach(ze=>{_e.forwardTime((ze.offset||0)*W),_e.setStyles(ze.styles,ze.easing,m.errors,m.options),_e.applyStylesToKeyframe()}),m.currentTimeline.mergeTimelineCollectedStyles(_e),m.transformIntoNewTimeline(V+W),m.previousNode=u}visitQuery(u,m){const b=m.currentTimeline.currentTime,V=u.options||{},W=V.delay?ar(V.delay):0;W&&(6===m.previousNode.type||0==b&&m.currentTimeline.hasCurrentStyleProperties())&&(m.currentTimeline.snapshotCurrentStyles(),m.previousNode=Fr);let oe=b;const _e=m.invokeQuery(u.selector,u.originalSelector,u.limit,u.includeSelf,!!V.optional,m.errors);m.currentQueryTotal=_e.length;let ze=null;_e.forEach((ht,qt)=>{m.currentQueryIndex=qt;const cn=m.createSubContext(u.options,ht);W&&cn.delayNextStep(W),ht===m.element&&(ze=cn.currentTimeline),zn(this,u.animation,cn),cn.currentTimeline.applyStylesToKeyframe(),oe=Math.max(oe,cn.currentTimeline.currentTime)}),m.currentQueryIndex=0,m.currentQueryTotal=0,m.transformIntoNewTimeline(oe),ze&&(m.currentTimeline.mergeTimelineCollectedStyles(ze),m.currentTimeline.snapshotCurrentStyles()),m.previousNode=u}visitStagger(u,m){const b=m.parentContext,V=m.currentTimeline,W=u.timings,oe=Math.abs(W.duration),_e=oe*(m.currentQueryTotal-1);let ze=oe*m.currentQueryIndex;switch(W.duration<0?"reverse":W.easing){case"reverse":ze=_e-ze;break;case"full":ze=b.currentStaggerTime}const qt=m.currentTimeline;ze&&qt.delayNextStep(ze);const cn=qt.currentTime;zn(this,u.animation,m),m.previousNode=u,b.currentStaggerTime=V.currentTime-cn+(V.startTime-b.currentTimeline.startTime)}}const Fr={};class wo{constructor(u,m,b,V,W,oe,_e,ze){this._driver=u,this.element=m,this.subInstructions=b,this._enterClassName=V,this._leaveClassName=W,this.errors=oe,this.timelines=_e,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Fr,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=ze||new ai(this._driver,m,0),_e.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(u,m){if(!u)return;const b=u;let V=this.options;null!=b.duration&&(V.duration=ar(b.duration)),null!=b.delay&&(V.delay=ar(b.delay));const W=b.params;if(W){let oe=V.params;oe||(oe=this.options.params={}),Object.keys(W).forEach(_e=>{(!m||!oe.hasOwnProperty(_e))&&(oe[_e]=Ie(W[_e],oe,this.errors))})}}_copyOptions(){const u={};if(this.options){const m=this.options.params;if(m){const b=u.params={};Object.keys(m).forEach(V=>{b[V]=m[V]})}}return u}createSubContext(u=null,m,b){const V=m||this.element,W=new wo(this._driver,V,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(V,b||0));return W.previousNode=this.previousNode,W.currentAnimateTimings=this.currentAnimateTimings,W.options=this._copyOptions(),W.updateOptions(u),W.currentQueryIndex=this.currentQueryIndex,W.currentQueryTotal=this.currentQueryTotal,W.parentContext=this,this.subContextCount++,W}transformIntoNewTimeline(u){return this.previousNode=Fr,this.currentTimeline=this.currentTimeline.fork(this.element,u),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(u,m,b){const V={duration:m??u.duration,delay:this.currentTimeline.currentTime+(b??0)+u.delay,easing:""},W=new dr(this._driver,u.element,u.keyframes,u.preStyleProps,u.postStyleProps,V,u.stretchStartingKeyframe);return this.timelines.push(W),V}incrementTime(u){this.currentTimeline.forwardTime(this.currentTimeline.duration+u)}delayNextStep(u){u>0&&this.currentTimeline.delayNextStep(u)}invokeQuery(u,m,b,V,W,oe){let _e=[];if(V&&_e.push(this.element),u.length>0){u=(u=u.replace(ri,"."+this._enterClassName)).replace(Wo,"."+this._leaveClassName);let ht=this._driver.query(this.element,u,1!=b);0!==b&&(ht=b<0?ht.slice(ht.length+b,ht.length):ht.slice(0,b)),_e.push(...ht)}return!W&&0==_e.length&&oe.push(function rn(k){return new G.wOt(3014,!1)}()),_e}}class ai{constructor(u,m,b,V){this._driver=u,this.element=m,this.startTime=b,this._elementTimelineStylesLookup=V,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(m),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(m,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(u){const m=1===this._keyframes.size&&this._pendingStyles.size;this.duration||m?(this.forwardTime(this.currentTime+u),m&&this.snapshotCurrentStyles()):this.startTime+=u}fork(u,m){return this.applyStylesToKeyframe(),new ai(this._driver,u,m||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(u){this.applyStylesToKeyframe(),this.duration=u,this._loadKeyframe()}_updateStyle(u,m){this._localTimelineStyles.set(u,m),this._globalTimelineStyles.set(u,m),this._styleSummary.set(u,{time:this.currentTime,value:m})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(u){u&&this._previousKeyframe.set("easing",u);for(let[m,b]of this._globalTimelineStyles)this._backFill.set(m,b||Ue.kp),this._currentKeyframe.set(m,Ue.kp);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(u,m,b,V){m&&this._previousKeyframe.set("easing",m);const W=V&&V.params||{},oe=function $r(k,u){const m=new Map;let b;return k.forEach(V=>{if("*"===V){b=b||u.keys();for(let W of b)m.set(W,Ue.kp)}else xe(V,m)}),m}(u,this._globalTimelineStyles);for(let[_e,ze]of oe){const ht=Ie(ze,W,b);this._pendingStyles.set(_e,ht),this._localTimelineStyles.has(_e)||this._backFill.set(_e,this._globalTimelineStyles.get(_e)??Ue.kp),this._updateStyle(_e,ht)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((u,m)=>{this._currentKeyframe.set(m,u)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((u,m)=>{this._currentKeyframe.has(m)||this._currentKeyframe.set(m,u)}))}snapshotCurrentStyles(){for(let[u,m]of this._localTimelineStyles)this._pendingStyles.set(u,m),this._updateStyle(u,m)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const u=[];for(let m in this._currentKeyframe)u.push(m);return u}mergeTimelineCollectedStyles(u){u._styleSummary.forEach((m,b)=>{const V=this._styleSummary.get(b);(!V||m.time>V.time)&&this._updateStyle(b,m.value)})}buildKeyframes(){this.applyStylesToKeyframe();const u=new Set,m=new Set,b=1===this._keyframes.size&&0===this.duration;let V=[];this._keyframes.forEach((_e,ze)=>{const ht=xe(_e,new Map,this._backFill);ht.forEach((qt,cn)=>{qt===Ue.FX?u.add(cn):qt===Ue.kp&&m.add(cn)}),b||ht.set("offset",ze/this.duration),V.push(ht)});const W=u.size?Me(u.values()):[],oe=m.size?Me(m.values()):[];if(b){const _e=V[0],ze=new Map(_e);_e.set("offset",0),ze.set("offset",1),V=[_e,ze]}return Ss(this.element,V,W,oe,this.duration,this.startTime,this.easing,!1)}}class dr extends ai{constructor(u,m,b,V,W,oe,_e=!1){super(u,m,oe.delay),this.keyframes=b,this.preStyleProps=V,this.postStyleProps=W,this._stretchStartingKeyframe=_e,this.timings={duration:oe.duration,delay:oe.delay,easing:oe.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let u=this.keyframes,{delay:m,duration:b,easing:V}=this.timings;if(this._stretchStartingKeyframe&&m){const W=[],oe=b+m,_e=m/oe,ze=xe(u[0]);ze.set("offset",0),W.push(ze);const ht=xe(u[0]);ht.set("offset",tr(_e)),W.push(ht);const qt=u.length-1;for(let cn=1;cn<=qt;cn++){let Bn=xe(u[cn]);const Dn=Bn.get("offset");Bn.set("offset",tr((m+Dn*b)/oe)),W.push(Bn)}b=oe,m=0,V="",u=W}return Ss(this.element,u,this.preStyleProps,this.postStyleProps,b,m,V,!0)}}function tr(k,u=3){const m=Math.pow(10,u-1);return Math.round(k*m)/m}class Ro{}const Wr=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Ys extends Ro{normalizePropertyName(u,m){return Rt(u)}normalizeStyleValue(u,m,b,V){let W="";const oe=b.toString().trim();if(Wr.has(m)&&0!==b&&"0"!==b)if("number"==typeof b)W="px";else{const _e=b.match(/^[+-]?[\d\.]+([a-z]*)$/);_e&&0==_e[1].length&&V.push(function ke(k,u){return new G.wOt(3005,!1)}())}return oe+W}}function Ii(k,u,m,b,V,W,oe,_e,ze,ht,qt,cn,Bn){return{type:0,element:k,triggerName:u,isRemovalTransition:V,fromState:m,fromStyles:W,toState:b,toStyles:oe,timelines:_e,queriedElements:ze,preStyleProps:ht,postStyleProps:qt,totalTime:cn,errors:Bn}}const Br={};class zi{constructor(u,m,b){this._triggerName=u,this.ast=m,this._stateStyles=b}match(u,m,b,V){return function pn(k,u,m,b,V){return k.some(W=>W(u,m,b,V))}(this.ast.matchers,u,m,b,V)}buildStyles(u,m,b){let V=this._stateStyles.get("*");return void 0!==u&&(V=this._stateStyles.get(u?.toString())||V),V?V.buildStyles(m,b):new Map}build(u,m,b,V,W,oe,_e,ze,ht,qt){const cn=[],Bn=this.ast.options&&this.ast.options.params||Br,bn=this.buildStyles(b,_e&&_e.params||Br,cn),Ln=ze&&ze.params||Br,Jn=this.buildStyles(V,Ln,cn),oi=new Set,gi=new Map,Kr=new Map,sr="void"===V,qo={params:Vn(Ln,Bn),delay:this.ast.options?.delay},Lo=qt?[]:Ea(u,m,this.ast.animation,W,oe,bn,Jn,qo,ht,cn);let Gi=0;if(Lo.forEach(To=>{Gi=Math.max(To.duration+To.delay,Gi)}),cn.length)return Ii(m,this._triggerName,b,V,sr,bn,Jn,[],[],gi,Kr,Gi,cn);Lo.forEach(To=>{const $s=To.element,ku=Se(gi,$s,new Set);To.preStyleProps.forEach(Ws=>ku.add(Ws));const Fl=Se(Kr,$s,new Set);To.postStyleProps.forEach(Ws=>Fl.add(Ws)),$s!==m&&oi.add($s)});const ui=Me(oi.values());return Ii(m,this._triggerName,b,V,sr,bn,Jn,Lo,ui,gi,Kr,Gi)}}function Vn(k,u){const m=P(u);for(const b in k)k.hasOwnProperty(b)&&null!=k[b]&&(m[b]=k[b]);return m}class Pr{constructor(u,m,b){this.styles=u,this.defaultParams=m,this.normalizer=b}buildStyles(u,m){const b=new Map,V=P(this.defaultParams);return Object.keys(u).forEach(W=>{const oe=u[W];null!==oe&&(V[W]=oe)}),this.styles.styles.forEach(W=>{"string"!=typeof W&&W.forEach((oe,_e)=>{oe&&(oe=Ie(oe,V,m));const ze=this.normalizer.normalizePropertyName(_e,m);oe=this.normalizer.normalizeStyleValue(_e,ze,oe,m),b.set(_e,oe)})}),b}}class Ei{constructor(u,m,b){this.name=u,this.ast=m,this._normalizer=b,this.transitionFactories=[],this.states=new Map,m.states.forEach(V=>{this.states.set(V.name,new Pr(V.style,V.options&&V.options.params||{},b))}),Ui(this.states,"true","1"),Ui(this.states,"false","0"),m.transitions.forEach(V=>{this.transitionFactories.push(new zi(u,V,this.states))}),this.fallbackTransition=function bi(k,u,m){return new zi(k,{type:1,animation:{type:2,steps:[],options:null},matchers:[(oe,_e)=>!0],options:null,queryCount:0,depCount:0},u)}(u,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(u,m,b,V){return this.transitionFactories.find(oe=>oe.match(u,m,b,V))||null}matchStyles(u,m,b){return this.fallbackTransition.buildStyles(u,m,b)}}function Ui(k,u,m){k.has(u)?k.has(m)||k.set(m,k.get(u)):k.has(m)&&k.set(u,k.get(m))}const _r=new Xs;class oo{constructor(u,m,b){this.bodyNode=u,this._driver=m,this._normalizer=b,this._animations=new Map,this._playersById=new Map,this.players=[]}register(u,m){const b=[],W=Ai(this._driver,m,b,[]);if(b.length)throw function we(k){return new G.wOt(3503,!1)}();this._animations.set(u,W)}_buildPlayer(u,m,b){const V=u.element,W=Vr(this._normalizer,u.keyframes,m,b);return this._driver.animate(V,W,u.duration,u.delay,u.easing,[],!0)}create(u,m,b={}){const V=[],W=this._animations.get(u);let oe;const _e=new Map;if(W?(oe=Ea(this._driver,m,W,er,fr,new Map,new Map,b,_r,V),oe.forEach(qt=>{const cn=Se(_e,qt.element,new Map);qt.postStyleProps.forEach(Bn=>cn.set(Bn,null))})):(V.push(function lt(){return new G.wOt(3300,!1)}()),oe=[]),V.length)throw function Lt(k){return new G.wOt(3504,!1)}();_e.forEach((qt,cn)=>{qt.forEach((Bn,Dn)=>{qt.set(Dn,this._driver.computeStyle(cn,Dn,Ue.kp))})});const ht=Yn(oe.map(qt=>{const cn=_e.get(qt.element);return this._buildPlayer(qt,new Map,cn)}));return this._playersById.set(u,ht),ht.onDestroy(()=>this.destroy(u)),this.players.push(ht),ht}destroy(u){const m=this._getPlayer(u);m.destroy(),this._playersById.delete(u);const b=this.players.indexOf(m);b>=0&&this.players.splice(b,1)}_getPlayer(u){const m=this._playersById.get(u);if(!m)throw function Qe(k){return new G.wOt(3301,!1)}();return m}listen(u,m,b,V){const W=ie(m,"","","");return kr(this._getPlayer(u),b,W,V),()=>{}}command(u,m,b,V){if("register"==b)return void this.register(u,V[0]);if("create"==b)return void this.create(u,m,V[0]||{});const W=this._getPlayer(u);switch(b){case"play":W.play();break;case"pause":W.pause();break;case"reset":W.reset();break;case"restart":W.restart();break;case"finish":W.finish();break;case"init":W.init();break;case"setPosition":W.setPosition(parseFloat(V[0]));break;case"destroy":this.destroy(u)}}}const yo="ng-animate-queued",Fo="ng-animate-disabled",go=[],Ti={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Xi={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Ni="__ng_removed";class ps{get params(){return this.options.params}constructor(u,m=""){this.namespaceId=m;const b=u&&u.hasOwnProperty("value");if(this.value=function ao(k){return k??null}(b?u.value:u),b){const W=P(u);delete W.value,this.options=W}else this.options={};this.options.params||(this.options.params={})}absorbOptions(u){const m=u.params;if(m){const b=this.options.params;Object.keys(m).forEach(V=>{null==b[V]&&(b[V]=m[V])})}}}const so="void",Vi=new ps(so);class Eo{constructor(u,m,b){this.id=u,this.hostElement=m,this._engine=b,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+u,mr(m,this._hostClassName)}listen(u,m,b,V){if(!this._triggers.has(m))throw function pt(k,u){return new G.wOt(3302,!1)}();if(null==b||0==b.length)throw function Ft(k){return new G.wOt(3303,!1)}();if(!function Di(k){return"start"==k||"done"==k}(b))throw function Hn(k,u){return new G.wOt(3400,!1)}();const W=Se(this._elementListeners,u,[]),oe={name:m,phase:b,callback:V};W.push(oe);const _e=Se(this._engine.statesByElement,u,new Map);return _e.has(m)||(mr(u,vi),mr(u,vi+"-"+m),_e.set(m,Vi)),()=>{this._engine.afterFlush(()=>{const ze=W.indexOf(oe);ze>=0&&W.splice(ze,1),this._triggers.has(m)||_e.delete(m)})}}register(u,m){return!this._triggers.has(u)&&(this._triggers.set(u,m),!0)}_getTrigger(u){const m=this._triggers.get(u);if(!m)throw function vt(k){return new G.wOt(3401,!1)}();return m}trigger(u,m,b,V=!0){const W=this._getTrigger(m),oe=new ir(this.id,m,u);let _e=this._engine.statesByElement.get(u);_e||(mr(u,vi),mr(u,vi+"-"+m),this._engine.statesByElement.set(u,_e=new Map));let ze=_e.get(m);const ht=new ps(b,this.id);if(!(b&&b.hasOwnProperty("value"))&&ze&&ht.absorbOptions(ze.options),_e.set(m,ht),ze||(ze=Vi),ht.value!==so&&ze.value===ht.value){if(!function vo(k,u){const m=Object.keys(k),b=Object.keys(u);if(m.length!=b.length)return!1;for(let V=0;V<m.length;V++){const W=m[V];if(!u.hasOwnProperty(W)||k[W]!==u[W])return!1}return!0}(ze.params,ht.params)){const Ln=[],Jn=W.matchStyles(ze.value,ze.params,Ln),oi=W.matchStyles(ht.value,ht.params,Ln);Ln.length?this._engine.reportError(Ln):this._engine.afterFlush(()=>{me(u,Jn),be(u,oi)})}return}const Bn=Se(this._engine.playersByElement,u,[]);Bn.forEach(Ln=>{Ln.namespaceId==this.id&&Ln.triggerName==m&&Ln.queued&&Ln.destroy()});let Dn=W.matchTransition(ze.value,ht.value,u,ht.params),bn=!1;if(!Dn){if(!V)return;Dn=W.fallbackTransition,bn=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:u,triggerName:m,transition:Dn,fromState:ze,toState:ht,player:oe,isFallbackTransition:bn}),bn||(mr(u,yo),oe.onStart(()=>{Ps(u,yo)})),oe.onDone(()=>{let Ln=this.players.indexOf(oe);Ln>=0&&this.players.splice(Ln,1);const Jn=this._engine.playersByElement.get(u);if(Jn){let oi=Jn.indexOf(oe);oi>=0&&Jn.splice(oi,1)}}),this.players.push(oe),Bn.push(oe),oe}deregister(u){this._triggers.delete(u),this._engine.statesByElement.forEach(m=>m.delete(u)),this._elementListeners.forEach((m,b)=>{this._elementListeners.set(b,m.filter(V=>V.name!=u))})}clearElementCache(u){this._engine.statesByElement.delete(u),this._elementListeners.delete(u);const m=this._engine.playersByElement.get(u);m&&(m.forEach(b=>b.destroy()),this._engine.playersByElement.delete(u))}_signalRemovalForInnerTriggers(u,m){const b=this._engine.driver.query(u,Zr,!0);b.forEach(V=>{if(V[Ni])return;const W=this._engine.fetchNamespacesByElement(V);W.size?W.forEach(oe=>oe.triggerLeaveAnimation(V,m,!1,!0)):this.clearElementCache(V)}),this._engine.afterFlushAnimationsDone(()=>b.forEach(V=>this.clearElementCache(V)))}triggerLeaveAnimation(u,m,b,V){const W=this._engine.statesByElement.get(u),oe=new Map;if(W){const _e=[];if(W.forEach((ze,ht)=>{if(oe.set(ht,ze.value),this._triggers.has(ht)){const qt=this.trigger(u,ht,so,V);qt&&_e.push(qt)}}),_e.length)return this._engine.markElementAsRemoved(this.id,u,!0,m,oe),b&&Yn(_e).onDone(()=>this._engine.processLeaveNode(u)),!0}return!1}prepareLeaveAnimationListeners(u){const m=this._elementListeners.get(u),b=this._engine.statesByElement.get(u);if(m&&b){const V=new Set;m.forEach(W=>{const oe=W.name;if(V.has(oe))return;V.add(oe);const ze=this._triggers.get(oe).fallbackTransition,ht=b.get(oe)||Vi,qt=new ps(so),cn=new ir(this.id,oe,u);this._engine.totalQueuedPlayers++,this._queue.push({element:u,triggerName:oe,transition:ze,fromState:ht,toState:qt,player:cn,isFallbackTransition:!0})})}}removeNode(u,m){const b=this._engine;if(u.childElementCount&&this._signalRemovalForInnerTriggers(u,m),this.triggerLeaveAnimation(u,m,!0))return;let V=!1;if(b.totalAnimations){const W=b.players.length?b.playersByQueriedElement.get(u):[];if(W&&W.length)V=!0;else{let oe=u;for(;oe=oe.parentNode;)if(b.statesByElement.get(oe)){V=!0;break}}}if(this.prepareLeaveAnimationListeners(u),V)b.markElementAsRemoved(this.id,u,!1,m);else{const W=u[Ni];(!W||W===Ti)&&(b.afterFlush(()=>this.clearElementCache(u)),b.destroyInnerAnimations(u),b._onRemovalComplete(u,m))}}insertNode(u,m){mr(u,this._hostClassName)}drainQueuedTransitions(u){const m=[];return this._queue.forEach(b=>{const V=b.player;if(V.destroyed)return;const W=b.element,oe=this._elementListeners.get(W);oe&&oe.forEach(_e=>{if(_e.name==b.triggerName){const ze=ie(W,b.triggerName,b.fromState.value,b.toState.value);ze._data=u,kr(b.player,_e.phase,ze,_e.callback)}}),V.markedForDestroy?this._engine.afterFlush(()=>{V.destroy()}):m.push(b)}),this._queue=[],m.sort((b,V)=>{const W=b.transition.ast.depCount,oe=V.transition.ast.depCount;return 0==W||0==oe?W-oe:this._engine.driver.containsElement(b.element,V.element)?1:-1})}destroy(u){this.players.forEach(m=>m.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,u)}}class fs{_onRemovalComplete(u,m){this.onRemovalComplete(u,m)}constructor(u,m,b){this.bodyNode=u,this.driver=m,this._normalizer=b,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(V,W)=>{}}get queuedPlayers(){const u=[];return this._namespaceList.forEach(m=>{m.players.forEach(b=>{b.queued&&u.push(b)})}),u}createNamespace(u,m){const b=new Eo(u,m,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,m)?this._balanceNamespaceList(b,m):(this.newHostElements.set(m,b),this.collectEnterElement(m)),this._namespaceLookup[u]=b}_balanceNamespaceList(u,m){const b=this._namespaceList,V=this.namespacesByHostElement;if(b.length-1>=0){let oe=!1,_e=this.driver.getParentElement(m);for(;_e;){const ze=V.get(_e);if(ze){const ht=b.indexOf(ze);b.splice(ht+1,0,u),oe=!0;break}_e=this.driver.getParentElement(_e)}oe||b.unshift(u)}else b.push(u);return V.set(m,u),u}register(u,m){let b=this._namespaceLookup[u];return b||(b=this.createNamespace(u,m)),b}registerTrigger(u,m,b){let V=this._namespaceLookup[u];V&&V.register(m,b)&&this.totalAnimations++}destroy(u,m){u&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const b=this._fetchNamespace(u);this.namespacesByHostElement.delete(b.hostElement);const V=this._namespaceList.indexOf(b);V>=0&&this._namespaceList.splice(V,1),b.destroy(m),delete this._namespaceLookup[u]}))}_fetchNamespace(u){return this._namespaceLookup[u]}fetchNamespacesByElement(u){const m=new Set,b=this.statesByElement.get(u);if(b)for(let V of b.values())if(V.namespaceId){const W=this._fetchNamespace(V.namespaceId);W&&m.add(W)}return m}trigger(u,m,b,V){if(Ko(m)){const W=this._fetchNamespace(u);if(W)return W.trigger(m,b,V),!0}return!1}insertNode(u,m,b,V){if(!Ko(m))return;const W=m[Ni];if(W&&W.setForRemoval){W.setForRemoval=!1,W.setForMove=!0;const oe=this.collectedLeaveElements.indexOf(m);oe>=0&&this.collectedLeaveElements.splice(oe,1)}if(u){const oe=this._fetchNamespace(u);oe&&oe.insertNode(m,b)}V&&this.collectEnterElement(m)}collectEnterElement(u){this.collectedEnterElements.push(u)}markElementAsDisabled(u,m){m?this.disabledNodes.has(u)||(this.disabledNodes.add(u),mr(u,Fo)):this.disabledNodes.has(u)&&(this.disabledNodes.delete(u),Ps(u,Fo))}removeNode(u,m,b){if(Ko(m)){const V=u?this._fetchNamespace(u):null;V?V.removeNode(m,b):this.markElementAsRemoved(u,m,!1,b);const W=this.namespacesByHostElement.get(m);W&&W.id!==u&&W.removeNode(m,b)}else this._onRemovalComplete(m,b)}markElementAsRemoved(u,m,b,V,W){this.collectedLeaveElements.push(m),m[Ni]={namespaceId:u,setForRemoval:V,hasAnimation:b,removedBeforeQueried:!1,previousTriggersValues:W}}listen(u,m,b,V,W){return Ko(m)?this._fetchNamespace(u).listen(m,b,V,W):()=>{}}_buildInstruction(u,m,b,V,W){return u.transition.build(this.driver,u.element,u.fromState.value,u.toState.value,b,V,u.fromState.options,u.toState.options,m,W)}destroyInnerAnimations(u){let m=this.driver.query(u,Zr,!0);m.forEach(b=>this.destroyActiveAnimationsForElement(b)),0!=this.playersByQueriedElement.size&&(m=this.driver.query(u,Xr,!0),m.forEach(b=>this.finishActiveQueriedAnimationOnElement(b)))}destroyActiveAnimationsForElement(u){const m=this.playersByElement.get(u);m&&m.forEach(b=>{b.queued?b.markedForDestroy=!0:b.destroy()})}finishActiveQueriedAnimationOnElement(u){const m=this.playersByQueriedElement.get(u);m&&m.forEach(b=>b.finish())}whenRenderingDone(){return new Promise(u=>{if(this.players.length)return Yn(this.players).onDone(()=>u());u()})}processLeaveNode(u){const m=u[Ni];if(m&&m.setForRemoval){if(u[Ni]=Ti,m.namespaceId){this.destroyInnerAnimations(u);const b=this._fetchNamespace(m.namespaceId);b&&b.clearElementCache(u)}this._onRemovalComplete(u,m.setForRemoval)}u.classList?.contains(Fo)&&this.markElementAsDisabled(u,!1),this.driver.query(u,".ng-animate-disabled",!0).forEach(b=>{this.markElementAsDisabled(b,!1)})}flush(u=-1){let m=[];if(this.newHostElements.size&&(this.newHostElements.forEach((b,V)=>this._balanceNamespaceList(b,V)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let b=0;b<this.collectedEnterElements.length;b++)mr(this.collectedEnterElements[b],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const b=[];try{m=this._flushAnimations(b,u)}finally{for(let V=0;V<b.length;V++)b[V]()}}else for(let b=0;b<this.collectedLeaveElements.length;b++)this.processLeaveNode(this.collectedLeaveElements[b]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(b=>b()),this._flushFns=[],this._whenQuietFns.length){const b=this._whenQuietFns;this._whenQuietFns=[],m.length?Yn(m).onDone(()=>{b.forEach(V=>V())}):b.forEach(V=>V())}}reportError(u){throw function We(k){return new G.wOt(3402,!1)}()}_flushAnimations(u,m){const b=new Xs,V=[],W=new Map,oe=[],_e=new Map,ze=new Map,ht=new Map,qt=new Set;this.disabledNodes.forEach(Pn=>{qt.add(Pn);const Wn=this.driver.query(Pn,".ng-animate-queued",!0);for(let nr=0;nr<Wn.length;nr++)qt.add(Wn[nr])});const cn=this.bodyNode,Bn=Array.from(this.statesByElement.keys()),Dn=Ur(Bn,this.collectedEnterElements),bn=new Map;let Ln=0;Dn.forEach((Pn,Wn)=>{const nr=er+Ln++;bn.set(Wn,nr),Pn.forEach(ei=>mr(ei,nr))});const Jn=[],oi=new Set,gi=new Set;for(let Pn=0;Pn<this.collectedLeaveElements.length;Pn++){const Wn=this.collectedLeaveElements[Pn],nr=Wn[Ni];nr&&nr.setForRemoval&&(Jn.push(Wn),oi.add(Wn),nr.hasAnimation?this.driver.query(Wn,".ng-star-inserted",!0).forEach(ei=>oi.add(ei)):gi.add(Wn))}const Kr=new Map,sr=Ur(Bn,Array.from(oi));sr.forEach((Pn,Wn)=>{const nr=fr+Ln++;Kr.set(Wn,nr),Pn.forEach(ei=>mr(ei,nr))}),u.push(()=>{Dn.forEach((Pn,Wn)=>{const nr=bn.get(Wn);Pn.forEach(ei=>Ps(ei,nr))}),sr.forEach((Pn,Wn)=>{const nr=Kr.get(Wn);Pn.forEach(ei=>Ps(ei,nr))}),Jn.forEach(Pn=>{this.processLeaveNode(Pn)})});const qo=[],Lo=[];for(let Pn=this._namespaceList.length-1;Pn>=0;Pn--)this._namespaceList[Pn].drainQueuedTransitions(m).forEach(nr=>{const ei=nr.player,io=nr.element;if(qo.push(ei),this.collectedEnterElements.length){const d=io[Ni];if(d&&d.setForMove){if(d.previousTriggersValues&&d.previousTriggersValues.has(nr.triggerName)){const v=d.previousTriggersValues.get(nr.triggerName),I=this.statesByElement.get(nr.element);if(I&&I.has(nr.triggerName)){const Z=I.get(nr.triggerName);Z.value=v,I.set(nr.triggerName,Z)}}return void ei.destroy()}}const ca=!cn||!this.driver.containsElement(cn,io),as=Kr.get(io),la=bn.get(io),Si=this._buildInstruction(nr,b,la,as,ca);if(Si.errors&&Si.errors.length)return void Lo.push(Si);if(ca)return ei.onStart(()=>me(io,Si.fromStyles)),ei.onDestroy(()=>be(io,Si.toStyles)),void V.push(ei);if(nr.isFallbackTransition)return ei.onStart(()=>me(io,Si.fromStyles)),ei.onDestroy(()=>be(io,Si.toStyles)),void V.push(ei);const Yh=[];Si.timelines.forEach(d=>{d.stretchStartingKeyframe=!0,this.disabledNodes.has(d.element)||Yh.push(d)}),Si.timelines=Yh,b.append(io,Si.timelines),oe.push({instruction:Si,player:ei,element:io}),Si.queriedElements.forEach(d=>Se(_e,d,[]).push(ei)),Si.preStyleProps.forEach((d,v)=>{if(d.size){let I=ze.get(v);I||ze.set(v,I=new Set),d.forEach((Z,ae)=>I.add(ae))}}),Si.postStyleProps.forEach((d,v)=>{let I=ht.get(v);I||ht.set(v,I=new Set),d.forEach((Z,ae)=>I.add(ae))})});if(Lo.length){const Pn=[];Lo.forEach(Wn=>{Pn.push(function Xn(k,u){return new G.wOt(3505,!1)}())}),qo.forEach(Wn=>Wn.destroy()),this.reportError(Pn)}const Gi=new Map,ui=new Map;oe.forEach(Pn=>{const Wn=Pn.element;b.has(Wn)&&(ui.set(Wn,Wn),this._beforeAnimationBuild(Pn.player.namespaceId,Pn.instruction,Gi))}),V.forEach(Pn=>{const Wn=Pn.element;this._getPreviousPlayers(Wn,!1,Pn.namespaceId,Pn.triggerName,null).forEach(ei=>{Se(Gi,Wn,[]).push(ei),ei.destroy()})});const To=Jn.filter(Pn=>hr(Pn,ze,ht)),$s=new Map;Qo($s,this.driver,gi,ht,Ue.kp).forEach(Pn=>{hr(Pn,ze,ht)&&To.push(Pn)});const Fl=new Map;Dn.forEach((Pn,Wn)=>{Qo(Fl,this.driver,new Set(Pn),ze,Ue.FX)}),To.forEach(Pn=>{const Wn=$s.get(Pn),nr=Fl.get(Pn);$s.set(Pn,new Map([...Wn?.entries()??[],...nr?.entries()??[]]))});const Ws=[],sd=[],zd={};oe.forEach(Pn=>{const{element:Wn,player:nr,instruction:ei}=Pn;if(b.has(Wn)){if(qt.has(Wn))return nr.onDestroy(()=>be(Wn,ei.toStyles)),nr.disabled=!0,nr.overrideTotalTime(ei.totalTime),void V.push(nr);let io=zd;if(ui.size>1){let as=Wn;const la=[];for(;as=as.parentNode;){const Si=ui.get(as);if(Si){io=Si;break}la.push(as)}la.forEach(Si=>ui.set(Si,io))}const ca=this._buildAnimation(nr.namespaceId,ei,Gi,W,Fl,$s);if(nr.setRealPlayer(ca),io===zd)Ws.push(nr);else{const as=this.playersByElement.get(io);as&&as.length&&(nr.parentPlayer=Yn(as)),V.push(nr)}}else me(Wn,ei.fromStyles),nr.onDestroy(()=>be(Wn,ei.toStyles)),sd.push(nr),qt.has(Wn)&&V.push(nr)}),sd.forEach(Pn=>{const Wn=W.get(Pn.element);if(Wn&&Wn.length){const nr=Yn(Wn);Pn.setRealPlayer(nr)}}),V.forEach(Pn=>{Pn.parentPlayer?Pn.syncPlayerEvents(Pn.parentPlayer):Pn.destroy()});for(let Pn=0;Pn<Jn.length;Pn++){const Wn=Jn[Pn],nr=Wn[Ni];if(Ps(Wn,fr),nr&&nr.hasAnimation)continue;let ei=[];if(_e.size){let ca=_e.get(Wn);ca&&ca.length&&ei.push(...ca);let as=this.driver.query(Wn,Xr,!0);for(let la=0;la<as.length;la++){let Si=_e.get(as[la]);Si&&Si.length&&ei.push(...Si)}}const io=ei.filter(ca=>!ca.destroyed);io.length?Li(this,Wn,io):this.processLeaveNode(Wn)}return Jn.length=0,Ws.forEach(Pn=>{this.players.push(Pn),Pn.onDone(()=>{Pn.destroy();const Wn=this.players.indexOf(Pn);this.players.splice(Wn,1)}),Pn.play()}),Ws}afterFlush(u){this._flushFns.push(u)}afterFlushAnimationsDone(u){this._whenQuietFns.push(u)}_getPreviousPlayers(u,m,b,V,W){let oe=[];if(m){const _e=this.playersByQueriedElement.get(u);_e&&(oe=_e)}else{const _e=this.playersByElement.get(u);if(_e){const ze=!W||W==so;_e.forEach(ht=>{ht.queued||!ze&&ht.triggerName!=V||oe.push(ht)})}}return(b||V)&&(oe=oe.filter(_e=>!(b&&b!=_e.namespaceId||V&&V!=_e.triggerName))),oe}_beforeAnimationBuild(u,m,b){const W=m.element,oe=m.isRemovalTransition?void 0:u,_e=m.isRemovalTransition?void 0:m.triggerName;for(const ze of m.timelines){const ht=ze.element,qt=ht!==W,cn=Se(b,ht,[]);this._getPreviousPlayers(ht,qt,oe,_e,m.toState).forEach(Dn=>{const bn=Dn.getRealPlayer();bn.beforeDestroy&&bn.beforeDestroy(),Dn.destroy(),cn.push(Dn)})}me(W,m.fromStyles)}_buildAnimation(u,m,b,V,W,oe){const _e=m.triggerName,ze=m.element,ht=[],qt=new Set,cn=new Set,Bn=m.timelines.map(bn=>{const Ln=bn.element;qt.add(Ln);const Jn=Ln[Ni];if(Jn&&Jn.removedBeforeQueried)return new Ue.sf(bn.duration,bn.delay);const oi=Ln!==ze,gi=function Hr(k){const u=[];return ts(k,u),u}((b.get(Ln)||go).map(Gi=>Gi.getRealPlayer())).filter(Gi=>!!Gi.element&&Gi.element===Ln),Kr=W.get(Ln),sr=oe.get(Ln),qo=Vr(this._normalizer,bn.keyframes,Kr,sr),Lo=this._buildPlayer(bn,qo,gi);if(bn.subTimeline&&V&&cn.add(Ln),oi){const Gi=new ir(u,_e,Ln);Gi.setRealPlayer(Lo),ht.push(Gi)}return Lo});ht.forEach(bn=>{Se(this.playersByQueriedElement,bn.element,[]).push(bn),bn.onDone(()=>function ha(k,u,m){let b=k.get(u);if(b){if(b.length){const V=b.indexOf(m);b.splice(V,1)}0==b.length&&k.delete(u)}return b}(this.playersByQueriedElement,bn.element,bn))}),qt.forEach(bn=>mr(bn,di));const Dn=Yn(Bn);return Dn.onDestroy(()=>{qt.forEach(bn=>Ps(bn,di)),be(ze,m.toStyles)}),cn.forEach(bn=>{Se(V,bn,[]).push(Dn)}),Dn}_buildPlayer(u,m,b){return m.length>0?this.driver.animate(u.element,m,u.duration,u.delay,u.easing,b):new Ue.sf(u.duration,u.delay)}}class ir{constructor(u,m,b){this.namespaceId=u,this.triggerName=m,this.element=b,this._player=new Ue.sf,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(u){this._containsRealPlayer||(this._player=u,this._queuedCallbacks.forEach((m,b)=>{m.forEach(V=>kr(u,b,void 0,V))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(u.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(u){this.totalTime=u}syncPlayerEvents(u){const m=this._player;m.triggerCallback&&u.onStart(()=>m.triggerCallback("start")),u.onDone(()=>this.finish()),u.onDestroy(()=>this.destroy())}_queueEvent(u,m){Se(this._queuedCallbacks,u,[]).push(m)}onDone(u){this.queued&&this._queueEvent("done",u),this._player.onDone(u)}onStart(u){this.queued&&this._queueEvent("start",u),this._player.onStart(u)}onDestroy(u){this.queued&&this._queueEvent("destroy",u),this._player.onDestroy(u)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(u){this.queued||this._player.setPosition(u)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(u){const m=this._player;m.triggerCallback&&m.triggerCallback(u)}}function Ko(k){return k&&1===k.nodeType}function ci(k,u){const m=k.style.display;return k.style.display=u??"none",m}function Qo(k,u,m,b,V){const W=[];m.forEach(ze=>W.push(ci(ze)));const oe=[];b.forEach((ze,ht)=>{const qt=new Map;ze.forEach(cn=>{const Bn=u.computeStyle(ht,cn,V);qt.set(cn,Bn),(!Bn||0==Bn.length)&&(ht[Ni]=Xi,oe.push(ht))}),k.set(ht,qt)});let _e=0;return m.forEach(ze=>ci(ze,W[_e++])),oe}function Ur(k,u){const m=new Map;if(k.forEach(_e=>m.set(_e,[])),0==u.length)return m;const V=new Set(u),W=new Map;function oe(_e){if(!_e)return 1;let ze=W.get(_e);if(ze)return ze;const ht=_e.parentNode;return ze=m.has(ht)?ht:V.has(ht)?1:oe(ht),W.set(_e,ze),ze}return u.forEach(_e=>{const ze=oe(_e);1!==ze&&m.get(ze).push(_e)}),m}function mr(k,u){k.classList?.add(u)}function Ps(k,u){k.classList?.remove(u)}function Li(k,u,m){Yn(m).onDone(()=>k.processLeaveNode(u))}function ts(k,u){for(let m=0;m<k.length;m++){const b=k[m];b instanceof Ue.ui?ts(b.players,u):u.push(b)}}function hr(k,u,m){const b=m.get(k);if(!b)return!1;let V=u.get(k);return V?b.forEach(W=>V.add(W)):u.set(k,b),m.delete(k),!0}class or{constructor(u,m,b){this.bodyNode=u,this._driver=m,this._normalizer=b,this._triggerCache={},this.onRemovalComplete=(V,W)=>{},this._transitionEngine=new fs(u,m,b),this._timelineEngine=new oo(u,m,b),this._transitionEngine.onRemovalComplete=(V,W)=>this.onRemovalComplete(V,W)}registerTrigger(u,m,b,V,W){const oe=u+"-"+V;let _e=this._triggerCache[oe];if(!_e){const ze=[],qt=Ai(this._driver,W,ze,[]);if(ze.length)throw function Le(k,u){return new G.wOt(3404,!1)}();_e=function ki(k,u,m){return new Ei(k,u,m)}(V,qt,this._normalizer),this._triggerCache[oe]=_e}this._transitionEngine.registerTrigger(m,V,_e)}register(u,m){this._transitionEngine.register(u,m)}destroy(u,m){this._transitionEngine.destroy(u,m)}onInsert(u,m,b,V){this._transitionEngine.insertNode(u,m,b,V)}onRemove(u,m,b){this._transitionEngine.removeNode(u,m,b)}disableAnimations(u,m){this._transitionEngine.markElementAsDisabled(u,m)}process(u,m,b,V){if("@"==b.charAt(0)){const[W,oe]=qe(b);this._timelineEngine.command(W,m,oe,V)}else this._transitionEngine.trigger(u,m,b,V)}listen(u,m,b,V,W){if("@"==b.charAt(0)){const[oe,_e]=qe(b);return this._timelineEngine.listen(oe,m,_e,W)}return this._transitionEngine.listen(u,m,b,V,W)}flush(u=-1){this._transitionEngine.flush(u)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(u){this._transitionEngine.afterFlushAnimationsDone(u)}}let Os=(()=>{class k{static{this.initialStylesByElement=new WeakMap}constructor(m,b,V){this._element=m,this._startStyles=b,this._endStyles=V,this._state=0;let W=k.initialStylesByElement.get(m);W||k.initialStylesByElement.set(m,W=new Map),this._initialStyles=W}start(){this._state<1&&(this._startStyles&&be(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(be(this._element,this._initialStyles),this._endStyles&&(be(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(k.initialStylesByElement.delete(this._element),this._startStyles&&(me(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(me(this._element,this._endStyles),this._endStyles=null),be(this._element,this._initialStyles),this._state=3)}}return k})();function ms(k){let u=null;return k.forEach((m,b)=>{(function zc(k){return"display"===k||"position"===k})(b)&&(u=u||new Map,u.set(b,m))}),u}class Ns{constructor(u,m,b,V){this.element=u,this.keyframes=m,this.options=b,this._specialStyles=V,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=b.duration,this._delay=b.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(u=>u()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const u=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,u,this.options),this._finalKeyframe=u.length?u[u.length-1]:new Map;const m=()=>this._onFinish();this.domPlayer.addEventListener("finish",m),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",m)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(u){const m=[];return u.forEach(b=>{m.push(Object.fromEntries(b))}),m}_triggerWebAnimation(u,m,b){return u.animate(this._convertKeyframesToObject(m),b)}onStart(u){this._originalOnStartFns.push(u),this._onStartFns.push(u)}onDone(u){this._originalOnDoneFns.push(u),this._onDoneFns.push(u)}onDestroy(u){this._onDestroyFns.push(u)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(u=>u()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(u=>u()),this._onDestroyFns=[])}setPosition(u){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=u*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const u=new Map;this.hasStarted()&&this._finalKeyframe.forEach((b,V)=>{"offset"!==V&&u.set(V,this._finished?b:Jt(this.element,V))}),this.currentSnapshot=u}triggerCallback(u){const m="start"===u?this._onStartFns:this._onDoneFns;m.forEach(b=>b()),m.length=0}}class q{validateStyleProperty(u){return!0}validateAnimatableStyleProperty(u){return!0}matchesElement(u,m){return!1}containsElement(u,m){return Un(u,m)}getParentElement(u){return bt(u)}query(u,m,b){return Dt(u,m,b)}computeStyle(u,m,b){return window.getComputedStyle(u)[m]}animate(u,m,b,V,W,oe=[]){const ze={duration:b,delay:V,fill:0==V?"both":"forwards"};W&&(ze.easing=W);const ht=new Map,qt=oe.filter(Dn=>Dn instanceof Ns);(function dn(k,u){return 0===k||0===u})(b,V)&&qt.forEach(Dn=>{Dn.currentSnapshot.forEach((bn,Ln)=>ht.set(Ln,bn))});let cn=function O(k){return k.length?k[0]instanceof Map?k:k.map(u=>R(u)):[]}(m).map(Dn=>xe(Dn));cn=function sn(k,u,m){if(m.size&&u.length){let b=u[0],V=[];if(m.forEach((W,oe)=>{b.has(oe)||V.push(oe),b.set(oe,W)}),V.length)for(let W=1;W<u.length;W++){let oe=u[W];V.forEach(_e=>oe.set(_e,Jt(k,_e)))}}return u}(u,cn,ht);const Bn=function Bo(k,u){let m=null,b=null;return Array.isArray(u)&&u.length?(m=ms(u[0]),u.length>1&&(b=ms(u[u.length-1]))):u instanceof Map&&(m=ms(u)),m||b?new Os(k,m,b):null}(u,cn);return new Ns(u,cn,ze,Bn)}}var K=L(177);let B=(()=>{class k extends Ue.S6{constructor(m,b){super(),this._nextAnimationId=0,this._renderer=m.createRenderer(b.body,{id:"0",encapsulation:G.gXe.None,styles:[],data:{animation:[]}})}build(m){const b=this._nextAnimationId.toString();this._nextAnimationId++;const V=Array.isArray(m)?(0,Ue.K2)(m):m;return En(this._renderer,null,b,"register",[V]),new ee(b,this._renderer)}static{this.\u0275fac=function(b){return new(b||k)(G.KVO(G._9s),G.KVO(K.qQ))}}static{this.\u0275prov=G.jDH({token:k,factory:k.\u0275fac})}}return k})();class ee extends Ue.Ro{constructor(u,m){super(),this._id=u,this._renderer=m}create(u,m){return new Ne(this._id,u,m||{},this._renderer)}}class Ne{constructor(u,m,b,V){this.id=u,this.element=m,this._renderer=V,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",b)}_listen(u,m){return this._renderer.listen(this.element,`@@${this.id}:${u}`,m)}_command(u,...m){return En(this._renderer,this.element,this.id,u,m)}onDone(u){this._listen("done",u)}onStart(u){this._listen("start",u)}onDestroy(u){this._listen("destroy",u)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(u){this._command("setPosition",u)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function En(k,u,m,b,V){return k.setProperty(u,`@@${m}:${b}`,V)}const Hi="@.disabled";let pa=(()=>{class k{constructor(m,b,V){this.delegate=m,this.engine=b,this._zone=V,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,b.onRemovalComplete=(W,oe)=>{const _e=oe?.parentNode(W);_e&&oe.removeChild(_e,W)}}createRenderer(m,b){const W=this.delegate.createRenderer(m,b);if(!(m&&b&&b.data&&b.data.animation)){let qt=this._rendererCache.get(W);return qt||(qt=new xa("",W,this.engine,()=>this._rendererCache.delete(W)),this._rendererCache.set(W,qt)),qt}const oe=b.id,_e=b.id+"-"+this._currentId;this._currentId++,this.engine.register(_e,m);const ze=qt=>{Array.isArray(qt)?qt.forEach(ze):this.engine.registerTrigger(oe,_e,m,qt.name,qt)};return b.data.animation.forEach(ze),new Ad(this,_e,W,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(m,b,V){m>=0&&m<this._microtaskId?this._zone.run(()=>b(V)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(W=>{const[oe,_e]=W;oe(_e)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([b,V]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}static{this.\u0275fac=function(b){return new(b||k)(G.KVO(G._9s),G.KVO(or),G.KVO(G.SKi))}}static{this.\u0275prov=G.jDH({token:k,factory:k.\u0275fac})}}return k})();class xa{constructor(u,m,b,V){this.namespaceId=u,this.delegate=m,this.engine=b,this._onDestroy=V}get data(){return this.delegate.data}destroyNode(u){this.delegate.destroyNode?.(u)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(u,m){return this.delegate.createElement(u,m)}createComment(u){return this.delegate.createComment(u)}createText(u){return this.delegate.createText(u)}appendChild(u,m){this.delegate.appendChild(u,m),this.engine.onInsert(this.namespaceId,m,u,!1)}insertBefore(u,m,b,V=!0){this.delegate.insertBefore(u,m,b),this.engine.onInsert(this.namespaceId,m,u,V)}removeChild(u,m,b){this.engine.onRemove(this.namespaceId,m,this.delegate)}selectRootElement(u,m){return this.delegate.selectRootElement(u,m)}parentNode(u){return this.delegate.parentNode(u)}nextSibling(u){return this.delegate.nextSibling(u)}setAttribute(u,m,b,V){this.delegate.setAttribute(u,m,b,V)}removeAttribute(u,m,b){this.delegate.removeAttribute(u,m,b)}addClass(u,m){this.delegate.addClass(u,m)}removeClass(u,m){this.delegate.removeClass(u,m)}setStyle(u,m,b,V){this.delegate.setStyle(u,m,b,V)}removeStyle(u,m,b){this.delegate.removeStyle(u,m,b)}setProperty(u,m,b){"@"==m.charAt(0)&&m==Hi?this.disableAnimations(u,!!b):this.delegate.setProperty(u,m,b)}setValue(u,m){this.delegate.setValue(u,m)}listen(u,m,b){return this.delegate.listen(u,m,b)}disableAnimations(u,m){this.engine.disableAnimations(u,m)}}class Ad extends xa{constructor(u,m,b,V,W){super(m,b,V,W),this.factory=u,this.namespaceId=m}setProperty(u,m,b){"@"==m.charAt(0)?"."==m.charAt(1)&&m==Hi?this.disableAnimations(u,b=void 0===b||!!b):this.engine.process(this.namespaceId,u,m.slice(1),b):this.delegate.setProperty(u,m,b)}listen(u,m,b){if("@"==m.charAt(0)){const V=function ul(k){switch(k){case"body":return document.body;case"document":return document;case"window":return window;default:return k}}(u);let W=m.slice(1),oe="";return"@"!=W.charAt(0)&&([W,oe]=function qa(k){const u=k.indexOf(".");return[k.substring(0,u),k.slice(u+1)]}(W)),this.engine.listen(this.namespaceId,V,W,oe,_e=>{this.factory.scheduleListenerCallback(_e._data||-1,b,_e)})}return this.delegate.listen(u,m,b)}}const fa=[{provide:Ue.S6,useClass:B},{provide:Ro,useFactory:function Vs(){return new Ys}},{provide:or,useClass:(()=>{class k extends or{constructor(m,b,V,W){super(m.body,b,V)}ngOnDestroy(){this.flush()}static{this.\u0275fac=function(b){return new(b||k)(G.KVO(K.qQ),G.KVO(Zt),G.KVO(Ro),G.KVO(G.o8S))}}static{this.\u0275prov=G.jDH({token:k,factory:k.\u0275fac})}}return k})()},{provide:G._9s,useFactory:function $a(k,u,m){return new pa(k,u,m)},deps:[f.B7,or,G.SKi]}],ma=[{provide:Zt,useFactory:()=>new q},{provide:G.bc$,useValue:"BrowserAnimations"},...fa],ns=[{provide:Zt,useClass:on},{provide:G.bc$,useValue:"NoopAnimations"},...fa];let mi=(()=>{class k{static withConfig(m){return{ngModule:k,providers:m.disableAnimations?ns:ma}}static{this.\u0275fac=function(b){return new(b||k)}}static{this.\u0275mod=G.$C({type:k})}static{this.\u0275inj=G.G2t({providers:ma,imports:[f.Bb]})}}return k})();var gs=L(8834),qi=L(6939),$i=L(7987),Ca=L(6600);let Vu=(()=>{class k{static{this.\u0275fac=function(b){return new(b||k)}}static{this.\u0275mod=G.$C({type:k})}static{this.\u0275inj=G.G2t({imports:[$i.z_,qi.jc,K.MD,gs.Hl,Ca.yE,Ca.yE]})}}return k})();var ta=L(7440),pr=L(9173),ga=L(5407),_c=L(4665),Ta=L(2214),Qa=L(467),A=L(7852),X=L(1076),j=L(1362);const Q="firebasestorage.googleapis.com";class Rn extends X.g{constructor(u,m,b=0){super(yr(u),`Firebase Storage: ${m} (${yr(u)})`),this.status_=b,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Rn.prototype)}get status(){return this.status_}set status(u){this.status_=u}_codeEquals(u){return yr(u)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(u){this.customData.serverResponse=u,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var qn=function(k){return k.UNKNOWN="unknown",k.OBJECT_NOT_FOUND="object-not-found",k.BUCKET_NOT_FOUND="bucket-not-found",k.PROJECT_NOT_FOUND="project-not-found",k.QUOTA_EXCEEDED="quota-exceeded",k.UNAUTHENTICATED="unauthenticated",k.UNAUTHORIZED="unauthorized",k.UNAUTHORIZED_APP="unauthorized-app",k.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",k.INVALID_CHECKSUM="invalid-checksum",k.CANCELED="canceled",k.INVALID_EVENT_NAME="invalid-event-name",k.INVALID_URL="invalid-url",k.INVALID_DEFAULT_BUCKET="invalid-default-bucket",k.NO_DEFAULT_BUCKET="no-default-bucket",k.CANNOT_SLICE_BLOB="cannot-slice-blob",k.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",k.NO_DOWNLOAD_URL="no-download-url",k.INVALID_ARGUMENT="invalid-argument",k.INVALID_ARGUMENT_COUNT="invalid-argument-count",k.APP_DELETED="app-deleted",k.INVALID_ROOT_OPERATION="invalid-root-operation",k.INVALID_FORMAT="invalid-format",k.INTERNAL_ERROR="internal-error",k.UNSUPPORTED_ENVIRONMENT="unsupported-environment",k}(qn||{});function yr(k){return"storage/"+k}function Ao(k){return new Rn(qn.INVALID_ARGUMENT,k)}function pl(){return new Rn(qn.APP_DELETED,"The Firebase app was deleted.")}class uo{constructor(u,m){this.bucket=u,this.path_=m}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const u=encodeURIComponent;return"/b/"+u(this.bucket)+"/o/"+u(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(u,m){let b;try{b=uo.makeFromUrl(u,m)}catch{return new uo(u,"")}if(""===b.path)return b;throw function lo(k){return new Rn(qn.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+k+"'.")}(u)}static makeFromUrl(u,m){let b=null;const V="([A-Za-z0-9.\\-_]+)",_e=new RegExp("^gs://"+V+"(/(.*))?$","i");function ht(sr){sr.path_=decodeURIComponent(sr.path)}const cn=m.replace(/[.]/g,"\\."),Kr=[{regex:_e,indices:{bucket:1,path:3},postModify:function W(sr){"/"===sr.path.charAt(sr.path.length-1)&&(sr.path_=sr.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${cn}/v[A-Za-z0-9_]+/b/${V}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:ht},{regex:new RegExp(`^https?://${m===Q?"(?:storage.googleapis.com|storage.cloud.google.com)":m}/${V}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:ht}];for(let sr=0;sr<Kr.length;sr++){const qo=Kr[sr],Lo=qo.regex.exec(u);if(Lo){let ui=Lo[qo.indices.path];ui||(ui=""),b=new uo(Lo[qo.indices.bucket],ui),qo.postModify(b);break}}if(null==b)throw function _s(k){return new Rn(qn.INVALID_URL,"Invalid URL '"+k+"'.")}(u);return b}}class fl{constructor(u){this.promise_=Promise.reject(u)}getPromise(){return this.promise_}cancel(u=!1){}}function $n(k,u,m,b){if(b<u)throw Ao(`Invalid value for '${k}'. Expected ${u} or greater.`);if(b>m)throw Ao(`Invalid value for '${k}'. Expected ${m} or less.`)}var Da=function(k){return k[k.NO_ERROR=0]="NO_ERROR",k[k.NETWORK_ERROR=1]="NETWORK_ERROR",k[k.ABORT=2]="ABORT",k}(Da||{});class va{constructor(u,m,b,V,W,oe,_e,ze,ht,qt,cn,Bn=!0){this.url_=u,this.method_=m,this.headers_=b,this.body_=V,this.successCodes_=W,this.additionalRetryCodes_=oe,this.callback_=_e,this.errorCallback_=ze,this.timeout_=ht,this.progressCallback_=qt,this.connectionFactory_=cn,this.retry=Bn,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((Dn,bn)=>{this.resolve_=Dn,this.reject_=bn,this.start_()})}start_(){const m=(b,V)=>{const W=this.resolve_,oe=this.reject_,_e=V.connection;if(V.wasSuccessCode)try{const ze=this.callback_(_e,_e.getResponse());!function ra(k){return void 0!==k}(ze)?W():W(ze)}catch(ze){oe(ze)}else if(null!==_e){const ze=function lr(){return new Rn(qn.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}();ze.serverResponse=_e.getErrorText(),oe(this.errorCallback_?this.errorCallback_(_e,ze):ze)}else oe(V.canceled?this.appDelete_?pl():function Mi(){return new Rn(qn.CANCELED,"User canceled the upload/download.")}():function is(){return new Rn(qn.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}())};this.canceled_?m(0,new bs(!1,null,!0)):this.backoffId_=function Fu(k,u,m){let b=1,V=null,W=null,oe=!1,_e=0;function ze(){return 2===_e}let ht=!1;function qt(...Jn){ht||(ht=!0,u.apply(null,Jn))}function cn(Jn){V=setTimeout(()=>{V=null,k(Dn,ze())},Jn)}function Bn(){W&&clearTimeout(W)}function Dn(Jn,...oi){if(ht)return void Bn();if(Jn)return Bn(),void qt.call(null,Jn,...oi);if(ze()||oe)return Bn(),void qt.call(null,Jn,...oi);let Kr;b<64&&(b*=2),1===_e?(_e=2,Kr=0):Kr=1e3*(b+Math.random()),cn(Kr)}let bn=!1;function Ln(Jn){bn||(bn=!0,Bn(),!ht&&(null!==V?(Jn||(_e=2),clearTimeout(V),cn(0)):Jn||(_e=1)))}return cn(0),W=setTimeout(()=>{oe=!0,Ln(!0)},m),Ln}((b,V)=>{if(V)return void b(!1,new bs(!1,null,!0));const W=this.connectionFactory_();this.pendingConnection_=W;const oe=_e=>{null!==this.progressCallback_&&this.progressCallback_(_e.loaded,_e.lengthComputable?_e.total:-1)};null!==this.progressCallback_&&W.addUploadProgressListener(oe),W.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&W.removeUploadProgressListener(oe),this.pendingConnection_=null;const _e=W.getErrorCode()===Da.NO_ERROR,ze=W.getStatus();if(!_e||function ml(k,u){const m=k>=500&&k<600,V=-1!==[408,429].indexOf(k),W=-1!==u.indexOf(k);return m||V||W}(ze,this.additionalRetryCodes_)&&this.retry){const qt=W.getErrorCode()===Da.ABORT;return void b(!1,new bs(!1,null,qt))}const ht=-1!==this.successCodes_.indexOf(ze);b(!0,new bs(ht,W))})},m,this.timeout_)}getPromise(){return this.promise_}cancel(u){this.canceled_=!0,this.appDelete_=u||!1,null!==this.backoffId_&&function na(k){k(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class bs{constructor(u,m,b){this.wasSuccessCode=u,this.connection=m,this.canceled=!!b}}class Ho{constructor(u,m){this._service=u,this._location=m instanceof uo?m:uo.makeFromUrl(m,u.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(u,m){return new Ho(u,m)}get root(){const u=new uo(this._location.bucket,"");return this._newRef(this._service,u)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return function S(k){const u=k.lastIndexOf("/",k.length-2);return-1===u?k:k.slice(u+1)}(this._location.path)}get storage(){return this._service}get parent(){const u=function js(k){if(0===k.length)return null;const u=k.lastIndexOf("/");return-1===u?"":k.slice(0,u)}(this._location.path);if(null===u)return null;const m=new uo(this._location.bucket,u);return new Ho(this._service,m)}_throwIfRoot(u){if(""===this._location.path)throw function Uc(k){return new Rn(qn.INVALID_ROOT_OPERATION,"The operation '"+k+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(u)}}function xl(k,u){const m=u?.storageBucket;return null==m?null:uo.makeFromBucketSpec(m,k)}class Us{constructor(u,m,b,V,W){this.app=u,this._authProvider=m,this._appCheckProvider=b,this._url=V,this._firebaseVersion=W,this._bucket=null,this._host=Q,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=V?uo.makeFromBucketSpec(V,this._host):xl(this._host,this.app.options)}get host(){return this._host}set host(u){this._host=u,this._bucket=null!=this._url?uo.makeFromBucketSpec(this._url,u):xl(u,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(u){$n("time",0,Number.POSITIVE_INFINITY,u),this._maxUploadRetryTime=u}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(u){$n("time",0,Number.POSITIVE_INFINITY,u),this._maxOperationRetryTime=u}_getAuthToken(){var u=this;return(0,Qa.A)(function*(){if(u._overrideAuthToken)return u._overrideAuthToken;const m=u._authProvider.getImmediate({optional:!0});if(m){const b=yield m.getToken();if(null!==b)return b.accessToken}return null})()}_getAppCheckToken(){var u=this;return(0,Qa.A)(function*(){const m=u._appCheckProvider.getImmediate({optional:!0});return m?(yield m.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(u=>u.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(u){return new Ho(this,u)}_makeRequest(u,m,b,V,W=!0){if(this._deleted)return new fl(pl());{const oe=function Td(k,u,m,b,V,W,oe=!0){const _e=function Bu(k){const u=encodeURIComponent;let m="?";for(const b in k)k.hasOwnProperty(b)&&(m=m+(u(b)+"=")+u(k[b])+"&");return m=m.slice(0,-1),m}(k.urlParams),ze=k.url+_e,ht=Object.assign({},k.headers);return function Id(k,u){u&&(k["X-Firebase-GMPID"]=u)}(ht,u),function _a(k,u){null!==u&&u.length>0&&(k.Authorization="Firebase "+u)}(ht,m),function Hc(k,u){k["X-Firebase-Storage-Version"]="webjs/"+(u??"AppManager")}(ht,W),function ju(k,u){null!==u&&(k["X-Firebase-AppCheck"]=u)}(ht,b),new va(ze,k.method,ht,k.body,k.successCodes,k.additionalRetryCodes,k.handler,k.errorHandler,k.timeout,k.progressCallback,V,oe)}(u,this._appId,b,V,m,this._firebaseVersion,W);return this._requests.add(oe),oe.getPromise().then(()=>this._requests.delete(oe),()=>this._requests.delete(oe)),oe}}makeRequestWithTokens(u,m){var b=this;return(0,Qa.A)(function*(){const[V,W]=yield Promise.all([b._getAuthToken(),b._getAppCheckToken()]);return b._makeRequest(u,m,V,W).getPromise()})()}}const Pd="@firebase/storage",Wc="storage";function Gu(k=(0,A.Sx)(),u){k=(0,X.Ku)(k);const b=(0,A.j6)(k,Wc).getImmediate({identifier:u}),V=(0,X.yU)("storage");return V&&function hu(k,u,m,b={}){!function Na(k,u,m,b={}){k.host=`${u}:${m}`,k._protocol="http";const{mockUserToken:V}=b;V&&(k._overrideAuthToken="string"==typeof V?V:(0,X.Fy)(V,k.app.options.projectId))}(k,u,m,b)}(b,...V),b}function jh(k,{instanceIdentifier:u}){const m=k.getProvider("app").getImmediate(),b=k.getProvider("auth-internal"),V=k.getProvider("app-check-internal");return new Us(m,b,V,u,A.MF)}!function Ku(){(0,A.om)(new j.uA(Wc,jh,"PUBLIC").setMultipleInstances(!0)),(0,A.KO)(Pd,"0.13.2",""),(0,A.KO)(Pd,"0.13.2","esm2017")}();class Qu{constructor(u){return u}}const Zu="storage",pu=new G.nKC("angularfire2.storage-instances");function rc(k){return(u,m)=>{const b=u.runOutsideAngular(()=>k(m));return new Qu(b)}}const Vd={provide:class zh{constructor(){return(0,ga.CA)(Zu)}},deps:[[new G.Xx1,pu]]},po={provide:Qu,useFactory:function qs(k,u){const m=(0,ga.lR)(Zu,k,u);return m&&new Qu(m)},deps:[[new G.Xx1,pu],ta.XU]};let Uh=(()=>{class k{constructor(){(0,Ta.KO)("angularfire",ga.xv.full,"gcs")}static \u0275fac=function(b){return new(b||k)};static \u0275mod=G.$C({type:k});static \u0275inj=G.G2t({providers:[po,Vd]})}return k})();function Zc(k,...u){return{ngModule:Uh,providers:[{provide:pu,useFactory:rc(k),multi:!0,deps:[G.SKi,G.zZn,ga.u0,ta.gL,[new G.Xx1,_c.DF],[new G.Xx1,ga.Jv],...u]}]}}const Hh=(0,ga.S3)(Gu,!0);var ko=L(8516),Tl=L(9030),Dl=L(8810),Ju=L(3726),Sl=L(7673),Tc=L(8793),mu=L(1413),Rl=L(1985),Bd=L(5343);const Yo=new Rl.c(Bd.l);var Dc=L(7786),Ma=L(6354),aa=L(5964),Pl=L(5558),Xc=L(17),Sc=L(8071),La=L(8750),Fa=L(9974);const Wh={connector:()=>new mu.B};function td(k,u=Wh){const{connector:m}=u;return(0,Fa.N)((b,V)=>{const W=m();(0,La.Tg)(k(function ed(k){return new Rl.c(u=>k.subscribe(u))}(W))).subscribe(V),V.add(b.subscribe(W))})}var wa=L(6697),yu=L(8141),Kh=L(3236),Rc=L(4360),vu=L(3703),Ol=L(1397);function rd(k,u){return u?m=>(0,Tc.x)(u.pipe((0,wa.s)(1),function gu(){return(0,Fa.N)((k,u)=>{k.subscribe((0,Rc._)(u,Bd.l))})}()),m.pipe(rd(k))):(0,Ol.Z)((m,b)=>(0,La.Tg)(k(m,b)).pipe((0,wa.s)(1),(0,vu.u)(m)))}var _u=L(1584);const Yc="Service workers are disabled or not supported by this browser";class Nl{constructor(u){if(this.serviceWorker=u,u){const b=(0,Ju.R)(u,"controllerchange").pipe((0,Ma.T)(()=>u.controller)),V=(0,Tl.v)(()=>(0,Sl.of)(u.controller)),W=(0,Tc.x)(V,b);this.worker=W.pipe((0,aa.p)(qt=>!!qt)),this.registration=this.worker.pipe((0,Pl.n)(()=>u.getRegistration()));const ht=(0,Ju.R)(u,"message").pipe((0,Ma.T)(qt=>qt.data)).pipe((0,aa.p)(qt=>qt&&qt.type)).pipe(function nd(k){return k?u=>td(k)(u):u=>function Gh(k,u){const m=(0,Sc.T)(k)?k:()=>k;return(0,Sc.T)(u)?td(u,{connector:m}):b=>new Xc.G(b,m)}(new mu.B)(u)}());ht.connect(),this.events=ht}else this.worker=this.events=this.registration=function Zh(k){return(0,Tl.v)(()=>(0,Dl.$)(new Error(k)))}(Yc)}postMessage(u,m){return this.worker.pipe((0,wa.s)(1),(0,yu.M)(b=>{b.postMessage({action:u,...m})})).toPromise().then(()=>{})}postMessageWithOperation(u,m,b){const V=this.waitForOperationCompleted(b),W=this.postMessage(u,m);return Promise.all([W,V]).then(([,oe])=>oe)}generateNonce(){return Math.round(1e7*Math.random())}eventsOfType(u){let m;return m="string"==typeof u?b=>b.type===u:b=>u.includes(b.type),this.events.pipe((0,aa.p)(m))}nextEventOfType(u){return this.eventsOfType(u).pipe((0,wa.s)(1))}waitForOperationCompleted(u){return this.eventsOfType("OPERATION_COMPLETED").pipe((0,aa.p)(m=>m.nonce===u),(0,wa.s)(1),(0,Ma.T)(m=>{if(void 0!==m.result)return m.result;throw new Error(m.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}}let Xh=(()=>{class k{get isEnabled(){return this.sw.isEnabled}constructor(m){if(this.sw=m,this.pushManager=null,this.subscriptionChanges=new mu.B,!m.isEnabled)return this.messages=Yo,this.notificationClicks=Yo,void(this.subscription=Yo);this.messages=this.sw.eventsOfType("PUSH").pipe((0,Ma.T)(V=>V.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe((0,Ma.T)(V=>V.data)),this.pushManager=this.sw.registration.pipe((0,Ma.T)(V=>V.pushManager));const b=this.pushManager.pipe((0,Pl.n)(V=>V.getSubscription()));this.subscription=(0,Dc.h)(b,this.subscriptionChanges)}requestSubscription(m){if(!this.sw.isEnabled||null===this.pushManager)return Promise.reject(new Error(Yc));const b={userVisibleOnly:!0};let V=this.decodeBase64(m.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),W=new Uint8Array(new ArrayBuffer(V.length));for(let oe=0;oe<V.length;oe++)W[oe]=V.charCodeAt(oe);return b.applicationServerKey=W,this.pushManager.pipe((0,Pl.n)(oe=>oe.subscribe(b)),(0,wa.s)(1)).toPromise().then(oe=>(this.subscriptionChanges.next(oe),oe))}unsubscribe(){return this.sw.isEnabled?this.subscription.pipe((0,wa.s)(1),(0,Pl.n)(b=>{if(null===b)throw new Error("Not subscribed to push notifications.");return b.unsubscribe().then(V=>{if(!V)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})})).toPromise():Promise.reject(new Error(Yc))}decodeBase64(m){return atob(m)}static{this.\u0275fac=function(b){return new(b||k)(G.KVO(Nl))}}static{this.\u0275prov=G.jDH({token:k,factory:k.\u0275fac})}}return k})(),id=(()=>{class k{get isEnabled(){return this.sw.isEnabled}constructor(m){if(this.sw=m,!m.isEnabled)return this.versionUpdates=Yo,this.available=Yo,this.activated=Yo,void(this.unrecoverable=Yo);this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.available=this.versionUpdates.pipe((0,aa.p)(b=>"VERSION_READY"===b.type),(0,Ma.T)(b=>({type:"UPDATE_AVAILABLE",current:b.currentVersion,available:b.latestVersion}))),this.activated=this.sw.eventsOfType("UPDATE_ACTIVATED"),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(Yc));const m=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:m},m)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(Yc));const m=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:m},m)}static{this.\u0275fac=function(b){return new(b||k)(G.KVO(Nl))}}static{this.\u0275prov=G.jDH({token:k,factory:k.\u0275fac})}}return k})();const Vl=new G.nKC("NGSW_REGISTER_SCRIPT");function Af(k,u,m,b){return()=>{if(!(0,K.UE)(b)||!("serviceWorker"in navigator)||!1===m.enabled)return;let V;if(navigator.serviceWorker.addEventListener("controllerchange",()=>{null!==navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({action:"INITIALIZE"})}),"function"==typeof m.registrationStrategy)V=m.registrationStrategy();else{const[oe,..._e]=(m.registrationStrategy||"registerWhenStable:30000").split(":");switch(oe){case"registerImmediately":V=(0,Sl.of)(null);break;case"registerWithDelay":V=dp(+_e[0]||0);break;case"registerWhenStable":V=_e[0]?(0,Dc.h)(Jo(k),dp(+_e[0])):Jo(k);break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${m.registrationStrategy}`)}}k.get(G.SKi).runOutsideAngular(()=>V.pipe((0,wa.s)(1)).subscribe(()=>navigator.serviceWorker.register(u,{scope:m.scope}).catch(oe=>console.error("Service worker registration failed with:",oe))))}}function dp(k){return(0,Sl.of)(null).pipe(function Qh(k,u=Kh.E){const m=(0,_u.O)(k,u);return rd(()=>m)}(k))}function Jo(k){return k.get(G.o8S).isStable.pipe((0,aa.p)(m=>m))}function If(k,u){return new Nl((0,K.UE)(u)&&!1!==k.enabled?navigator.serviceWorker:void 0)}class jd{}function od(k,u={}){return(0,G.EmA)([Xh,id,{provide:Vl,useValue:k},{provide:jd,useValue:u},{provide:Nl,useFactory:If,deps:[jd,G.Agw]},{provide:G.hnV,useFactory:Af,deps:[G.zZn,Vl,jd,G.Agw],multi:!0}])}let Pc=(()=>{class k{static register(m,b={}){return{ngModule:k,providers:[od(m,b)]}}static{this.\u0275fac=function(b){return new(b||k)}}static{this.\u0275mod=G.$C({type:k})}static{this.\u0275inj=G.G2t({providers:[Xh,id]})}}return k})(),Ll=(()=>{class k{static{this.\u0275fac=function(b){return new(b||k)}}static{this.\u0275mod=G.$C({type:k,bootstrap:[te]})}static{this.\u0275inj=G.G2t({imports:[f.Bb,he,Pe.q1,le.iI,ge.YN,ge.X1,Vu,mi,(0,ta.MW)(()=>(0,ta.Wp)(de_firebase)),(0,pr.provideFirestore)(()=>(0,pr.getFirestore)()),Zc(()=>Hh()),ko.flO.pick({LayoutDashboard:ko.HxJ,Package:ko.lPX,Tags:ko.YDL,ChefHat:ko.sEC,ShoppingCart:ko.JBW,TrendingUp:ko.ntg,Users:ko.zWC,FileText:ko.iUU,Sliders:ko.rjK,Star:ko.FEq,ShieldUser:ko.Fhv,PackageSearch:ko.zO8}),Pc.register("ngsw-worker.js",{enabled:!(0,G.naY)(),registrationStrategy:"registerWhenStable:30000"})]})}}return k})();f.sG().bootstrapModule(Ll).catch(k=>console.error(k))},4412:(an,tt,L)=>{L.d(tt,{t:()=>G});var f=L(1413);class G extends f.B{constructor(le){super(),this._value=le}get value(){return this.getValue()}_subscribe(le){const re=super._subscribe(le);return!re.closed&&le.next(this._value),re}getValue(){const{hasError:le,thrownError:re,_value:Re}=this;if(le)throw re;return this._throwIfClosed(),Re}next(le){super.next(this._value=le)}}},1985:(an,tt,L)=>{L.d(tt,{c:()=>he});var f=L(7707),G=L(8359),ge=L(3494),le=L(1203),re=L(1026),Re=L(8071),Oe=L(9786);let he=(()=>{class Pe{constructor(ue){ue&&(this._subscribe=ue)}lift(ue){const mt=new Pe;return mt.source=this,mt.operator=ue,mt}subscribe(ue,mt,Pt){const Ot=function de(Pe){return Pe&&Pe instanceof f.vU||function te(Pe){return Pe&&(0,Re.T)(Pe.next)&&(0,Re.T)(Pe.error)&&(0,Re.T)(Pe.complete)}(Pe)&&(0,G.Uv)(Pe)}(ue)?ue:new f.Ms(ue,mt,Pt);return(0,Oe.Y)(()=>{const{operator:wt,source:fn}=this;Ot.add(wt?wt.call(Ot,fn):fn?this._subscribe(Ot):this._trySubscribe(Ot))}),Ot}_trySubscribe(ue){try{return this._subscribe(ue)}catch(mt){ue.error(mt)}}forEach(ue,mt){return new(mt=fe(mt))((Pt,Ot)=>{const wt=new f.Ms({next:fn=>{try{ue(fn)}catch(Xt){Ot(Xt),wt.unsubscribe()}},error:Ot,complete:Pt});this.subscribe(wt)})}_subscribe(ue){var mt;return null===(mt=this.source)||void 0===mt?void 0:mt.subscribe(ue)}[ge.s](){return this}pipe(...ue){return(0,le.m)(ue)(this)}toPromise(ue){return new(ue=fe(ue))((mt,Pt)=>{let Ot;this.subscribe(wt=>Ot=wt,wt=>Pt(wt),()=>mt(Ot))})}}return Pe.create=Ue=>new Pe(Ue),Pe})();function fe(Pe){var Ue;return null!==(Ue=Pe??re.$.Promise)&&void 0!==Ue?Ue:Promise}},1413:(an,tt,L)=>{L.d(tt,{B:()=>Oe});var f=L(1985),G=L(8359);const le=(0,L(1853).L)(fe=>function(){fe(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var re=L(7908),Re=L(9786);let Oe=(()=>{class fe extends f.c{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(de){const Pe=new he(this,this);return Pe.operator=de,Pe}_throwIfClosed(){if(this.closed)throw new le}next(de){(0,Re.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Pe of this.currentObservers)Pe.next(de)}})}error(de){(0,Re.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=de;const{observers:Pe}=this;for(;Pe.length;)Pe.shift().error(de)}})}complete(){(0,Re.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:de}=this;for(;de.length;)de.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var de;return(null===(de=this.observers)||void 0===de?void 0:de.length)>0}_trySubscribe(de){return this._throwIfClosed(),super._trySubscribe(de)}_subscribe(de){return this._throwIfClosed(),this._checkFinalizedStatuses(de),this._innerSubscribe(de)}_innerSubscribe(de){const{hasError:Pe,isStopped:Ue,observers:ue}=this;return Pe||Ue?G.Kn:(this.currentObservers=null,ue.push(de),new G.yU(()=>{this.currentObservers=null,(0,re.o)(ue,de)}))}_checkFinalizedStatuses(de){const{hasError:Pe,thrownError:Ue,isStopped:ue}=this;Pe?de.error(Ue):ue&&de.complete()}asObservable(){const de=new f.c;return de.source=this,de}}return fe.create=(te,de)=>new he(te,de),fe})();class he extends Oe{constructor(te,de){super(),this.destination=te,this.source=de}next(te){var de,Pe;null===(Pe=null===(de=this.destination)||void 0===de?void 0:de.next)||void 0===Pe||Pe.call(de,te)}error(te){var de,Pe;null===(Pe=null===(de=this.destination)||void 0===de?void 0:de.error)||void 0===Pe||Pe.call(de,te)}complete(){var te,de;null===(de=null===(te=this.destination)||void 0===te?void 0:te.complete)||void 0===de||de.call(te)}_subscribe(te){var de,Pe;return null!==(Pe=null===(de=this.source)||void 0===de?void 0:de.subscribe(te))&&void 0!==Pe?Pe:G.Kn}}},7707:(an,tt,L)=>{L.d(tt,{Ms:()=>Pt,vU:()=>Pe});var f=L(8071),G=L(8359),ge=L(1026),le=L(5334),re=L(5343);const Re=fe("C",void 0,void 0);function fe(ke,Ge,je){return{kind:ke,value:Ge,error:je}}var te=L(9270),de=L(9786);class Pe extends G.yU{constructor(Ge){super(),this.isStopped=!1,Ge?(this.destination=Ge,(0,G.Uv)(Ge)&&Ge.add(this)):this.destination=Xt}static create(Ge,je,$e){return new Pt(Ge,je,$e)}next(Ge){this.isStopped?fn(function he(ke){return fe("N",ke,void 0)}(Ge),this):this._next(Ge)}error(Ge){this.isStopped?fn(function Oe(ke){return fe("E",void 0,ke)}(Ge),this):(this.isStopped=!0,this._error(Ge))}complete(){this.isStopped?fn(Re,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Ge){this.destination.next(Ge)}_error(Ge){try{this.destination.error(Ge)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ue=Function.prototype.bind;function ue(ke,Ge){return Ue.call(ke,Ge)}class mt{constructor(Ge){this.partialObserver=Ge}next(Ge){const{partialObserver:je}=this;if(je.next)try{je.next(Ge)}catch($e){Ot($e)}}error(Ge){const{partialObserver:je}=this;if(je.error)try{je.error(Ge)}catch($e){Ot($e)}else Ot(Ge)}complete(){const{partialObserver:Ge}=this;if(Ge.complete)try{Ge.complete()}catch(je){Ot(je)}}}class Pt extends Pe{constructor(Ge,je,$e){let _t;if(super(),(0,f.T)(Ge)||!Ge)_t={next:Ge??void 0,error:je??void 0,complete:$e??void 0};else{let Tt;this&&ge.$.useDeprecatedNextContext?(Tt=Object.create(Ge),Tt.unsubscribe=()=>this.unsubscribe(),_t={next:Ge.next&&ue(Ge.next,Tt),error:Ge.error&&ue(Ge.error,Tt),complete:Ge.complete&&ue(Ge.complete,Tt)}):_t=Ge}this.destination=new mt(_t)}}function Ot(ke){ge.$.useDeprecatedSynchronousErrorHandling?(0,de.l)(ke):(0,le.m)(ke)}function fn(ke,Ge){const{onStoppedNotification:je}=ge.$;je&&te.f.setTimeout(()=>je(ke,Ge))}const Xt={closed:!0,next:re.l,error:function wt(ke){throw ke},complete:re.l}},8359:(an,tt,L)=>{L.d(tt,{Kn:()=>Re,yU:()=>re,Uv:()=>Oe});var f=L(8071);const ge=(0,L(1853).L)(fe=>function(de){fe(this),this.message=de?`${de.length} errors occurred during unsubscription:\n${de.map((Pe,Ue)=>`${Ue+1}) ${Pe.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=de});var le=L(7908);class re{constructor(te){this.initialTeardown=te,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let te;if(!this.closed){this.closed=!0;const{_parentage:de}=this;if(de)if(this._parentage=null,Array.isArray(de))for(const ue of de)ue.remove(this);else de.remove(this);const{initialTeardown:Pe}=this;if((0,f.T)(Pe))try{Pe()}catch(ue){te=ue instanceof ge?ue.errors:[ue]}const{_finalizers:Ue}=this;if(Ue){this._finalizers=null;for(const ue of Ue)try{he(ue)}catch(mt){te=te??[],mt instanceof ge?te=[...te,...mt.errors]:te.push(mt)}}if(te)throw new ge(te)}}add(te){var de;if(te&&te!==this)if(this.closed)he(te);else{if(te instanceof re){if(te.closed||te._hasParent(this))return;te._addParent(this)}(this._finalizers=null!==(de=this._finalizers)&&void 0!==de?de:[]).push(te)}}_hasParent(te){const{_parentage:de}=this;return de===te||Array.isArray(de)&&de.includes(te)}_addParent(te){const{_parentage:de}=this;this._parentage=Array.isArray(de)?(de.push(te),de):de?[de,te]:te}_removeParent(te){const{_parentage:de}=this;de===te?this._parentage=null:Array.isArray(de)&&(0,le.o)(de,te)}remove(te){const{_finalizers:de}=this;de&&(0,le.o)(de,te),te instanceof re&&te._removeParent(this)}}re.EMPTY=(()=>{const fe=new re;return fe.closed=!0,fe})();const Re=re.EMPTY;function Oe(fe){return fe instanceof re||fe&&"closed"in fe&&(0,f.T)(fe.remove)&&(0,f.T)(fe.add)&&(0,f.T)(fe.unsubscribe)}function he(fe){(0,f.T)(fe)?fe():fe.unsubscribe()}},1026:(an,tt,L)=>{L.d(tt,{$:()=>f});const f={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},17:(an,tt,L)=>{L.d(tt,{G:()=>Re});var f=L(1985),G=L(8359),ge=L(9898),le=L(4360),re=L(9974);class Re extends f.c{constructor(he,fe){super(),this.source=he,this.subjectFactory=fe,this._subject=null,this._refCount=0,this._connection=null,(0,re.S)(he)&&(this.lift=he.lift)}_subscribe(he){return this.getSubject().subscribe(he)}getSubject(){const he=this._subject;return(!he||he.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:he}=this;this._subject=this._connection=null,he?.unsubscribe()}connect(){let he=this._connection;if(!he){he=this._connection=new G.yU;const fe=this.getSubject();he.add(this.source.subscribe((0,le._)(fe,void 0,()=>{this._teardown(),fe.complete()},te=>{this._teardown(),fe.error(te)},()=>this._teardown()))),he.closed&&(this._connection=null,he=G.yU.EMPTY)}return he}refCount(){return(0,ge.B)()(this)}}},4572:(an,tt,L)=>{L.d(tt,{z:()=>te});var f=L(1985),G=L(3073),ge=L(8455),le=L(3669),re=L(6450),Re=L(9326),Oe=L(8496),he=L(4360),fe=L(5225);function te(...Ue){const ue=(0,Re.lI)(Ue),mt=(0,Re.ms)(Ue),{args:Pt,keys:Ot}=(0,G.D)(Ue);if(0===Pt.length)return(0,ge.H)([],ue);const wt=new f.c(function de(Ue,ue,mt=le.D){return Pt=>{Pe(ue,()=>{const{length:Ot}=Ue,wt=new Array(Ot);let fn=Ot,Xt=Ot;for(let ke=0;ke<Ot;ke++)Pe(ue,()=>{const Ge=(0,ge.H)(Ue[ke],ue);let je=!1;Ge.subscribe((0,he._)(Pt,$e=>{wt[ke]=$e,je||(je=!0,Xt--),Xt||Pt.next(mt(wt.slice()))},()=>{--fn||Pt.complete()}))},Pt)},Pt)}}(Pt,ue,Ot?fn=>(0,Oe.e)(Ot,fn):le.D));return mt?wt.pipe((0,re.I)(mt)):wt}function Pe(Ue,ue,mt){Ue?(0,fe.N)(mt,Ue,ue):ue()}},8793:(an,tt,L)=>{L.d(tt,{x:()=>re});var f=L(6365),ge=L(9326),le=L(8455);function re(...Re){return function G(){return(0,f.U)(1)}()((0,le.H)(Re,(0,ge.lI)(Re)))}},9030:(an,tt,L)=>{L.d(tt,{v:()=>ge});var f=L(1985),G=L(8750);function ge(le){return new f.c(re=>{(0,G.Tg)(le()).subscribe(re)})}},983:(an,tt,L)=>{L.d(tt,{w:()=>G});const G=new(L(1985).c)(re=>re.complete())},7468:(an,tt,L)=>{L.d(tt,{p:()=>he});var f=L(1985),G=L(3073),ge=L(8750),le=L(9326),re=L(4360),Re=L(6450),Oe=L(8496);function he(...fe){const te=(0,le.ms)(fe),{args:de,keys:Pe}=(0,G.D)(fe),Ue=new f.c(ue=>{const{length:mt}=de;if(!mt)return void ue.complete();const Pt=new Array(mt);let Ot=mt,wt=mt;for(let fn=0;fn<mt;fn++){let Xt=!1;(0,ge.Tg)(de[fn]).subscribe((0,re._)(ue,ke=>{Xt||(Xt=!0,wt--),Pt[fn]=ke},()=>Ot--,void 0,()=>{(!Ot||!Xt)&&(wt||ue.next(Pe?(0,Oe.e)(Pe,Pt):Pt),ue.complete())}))}});return te?Ue.pipe((0,Re.I)(te)):Ue}},8455:(an,tt,L)=>{L.d(tt,{H:()=>Ge});var f=L(8750),G=L(941),ge=L(6745),Re=L(1985),he=L(4761),fe=L(8071),te=L(5225);function Pe(je,$e){if(!je)throw new Error("Iterable cannot be null");return new Re.c(_t=>{(0,te.N)(_t,$e,()=>{const Tt=je[Symbol.asyncIterator]();(0,te.N)(_t,$e,()=>{Tt.next().then(hn=>{hn.done?_t.complete():_t.next(hn.value)})},0,!0)})})}var Ue=L(5055),ue=L(9858),mt=L(7441),Pt=L(5397),Ot=L(7953),wt=L(591),fn=L(5196);function Ge(je,$e){return $e?function ke(je,$e){if(null!=je){if((0,Ue.l)(je))return function le(je,$e){return(0,f.Tg)(je).pipe((0,ge._)($e),(0,G.Q)($e))}(je,$e);if((0,mt.X)(je))return function Oe(je,$e){return new Re.c(_t=>{let Tt=0;return $e.schedule(function(){Tt===je.length?_t.complete():(_t.next(je[Tt++]),_t.closed||this.schedule())})})}(je,$e);if((0,ue.y)(je))return function re(je,$e){return(0,f.Tg)(je).pipe((0,ge._)($e),(0,G.Q)($e))}(je,$e);if((0,Ot.T)(je))return Pe(je,$e);if((0,Pt.x)(je))return function de(je,$e){return new Re.c(_t=>{let Tt;return(0,te.N)(_t,$e,()=>{Tt=je[he.l](),(0,te.N)(_t,$e,()=>{let hn,gn;try{({value:hn,done:gn}=Tt.next())}catch(_n){return void _t.error(_n)}gn?_t.complete():_t.next(hn)},0,!0)}),()=>(0,fe.T)(Tt?.return)&&Tt.return()})}(je,$e);if((0,fn.U)(je))return function Xt(je,$e){return Pe((0,fn.C)(je),$e)}(je,$e)}throw(0,wt.L)(je)}(je,$e):(0,f.Tg)(je)}},3726:(an,tt,L)=>{L.d(tt,{R:()=>te});var f=L(8750),G=L(1985),ge=L(1397),le=L(7441),re=L(8071),Re=L(6450);const Oe=["addListener","removeListener"],he=["addEventListener","removeEventListener"],fe=["on","off"];function te(mt,Pt,Ot,wt){if((0,re.T)(Ot)&&(wt=Ot,Ot=void 0),wt)return te(mt,Pt,Ot).pipe((0,Re.I)(wt));const[fn,Xt]=function ue(mt){return(0,re.T)(mt.addEventListener)&&(0,re.T)(mt.removeEventListener)}(mt)?he.map(ke=>Ge=>mt[ke](Pt,Ge,Ot)):function Pe(mt){return(0,re.T)(mt.addListener)&&(0,re.T)(mt.removeListener)}(mt)?Oe.map(de(mt,Pt)):function Ue(mt){return(0,re.T)(mt.on)&&(0,re.T)(mt.off)}(mt)?fe.map(de(mt,Pt)):[];if(!fn&&(0,le.X)(mt))return(0,ge.Z)(ke=>te(ke,Pt,Ot))((0,f.Tg)(mt));if(!fn)throw new TypeError("Invalid event target");return new G.c(ke=>{const Ge=(...je)=>ke.next(1<je.length?je:je[0]);return fn(Ge),()=>Xt(Ge)})}function de(mt,Pt){return Ot=>wt=>mt[Ot](Pt,wt)}},8750:(an,tt,L)=>{L.d(tt,{Tg:()=>Ue});var f=L(1635),G=L(7441),ge=L(9858),le=L(1985),re=L(5055),Re=L(7953),Oe=L(591),he=L(5397),fe=L(5196),te=L(8071),de=L(5334),Pe=L(3494);function Ue(ke){if(ke instanceof le.c)return ke;if(null!=ke){if((0,re.l)(ke))return function ue(ke){return new le.c(Ge=>{const je=ke[Pe.s]();if((0,te.T)(je.subscribe))return je.subscribe(Ge);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(ke);if((0,G.X)(ke))return function mt(ke){return new le.c(Ge=>{for(let je=0;je<ke.length&&!Ge.closed;je++)Ge.next(ke[je]);Ge.complete()})}(ke);if((0,ge.y)(ke))return function Pt(ke){return new le.c(Ge=>{ke.then(je=>{Ge.closed||(Ge.next(je),Ge.complete())},je=>Ge.error(je)).then(null,de.m)})}(ke);if((0,Re.T)(ke))return wt(ke);if((0,he.x)(ke))return function Ot(ke){return new le.c(Ge=>{for(const je of ke)if(Ge.next(je),Ge.closed)return;Ge.complete()})}(ke);if((0,fe.U)(ke))return function fn(ke){return wt((0,fe.C)(ke))}(ke)}throw(0,Oe.L)(ke)}function wt(ke){return new le.c(Ge=>{(function Xt(ke,Ge){var je,$e,_t,Tt;return(0,f.sH)(this,void 0,void 0,function*(){try{for(je=(0,f.xN)(ke);!($e=yield je.next()).done;)if(Ge.next($e.value),Ge.closed)return}catch(hn){_t={error:hn}}finally{try{$e&&!$e.done&&(Tt=je.return)&&(yield Tt.call(je))}finally{if(_t)throw _t.error}}Ge.complete()})})(ke,Ge).catch(je=>Ge.error(je))})}},7786:(an,tt,L)=>{L.d(tt,{h:()=>Re});var f=L(6365),G=L(8750),ge=L(983),le=L(9326),re=L(8455);function Re(...Oe){const he=(0,le.lI)(Oe),fe=(0,le.R0)(Oe,1/0),te=Oe;return te.length?1===te.length?(0,G.Tg)(te[0]):(0,f.U)(fe)((0,re.H)(te,he)):ge.w}},7673:(an,tt,L)=>{L.d(tt,{of:()=>ge});var f=L(9326),G=L(8455);function ge(...le){const re=(0,f.lI)(le);return(0,G.H)(le,re)}},8810:(an,tt,L)=>{L.d(tt,{$:()=>ge});var f=L(1985),G=L(8071);function ge(le,re){const Re=(0,G.T)(le)?le:()=>le,Oe=he=>he.error(Re());return new f.c(re?he=>re.schedule(Oe,0,he):Oe)}},1584:(an,tt,L)=>{L.d(tt,{O:()=>re});var f=L(1985),G=L(3236),ge=L(9470);function re(Re=0,Oe,he=G.b){let fe=-1;return null!=Oe&&((0,ge.m)(Oe)?he=Oe:fe=Oe),new f.c(te=>{let de=function le(Re){return Re instanceof Date&&!isNaN(Re)}(Re)?+Re-he.now():Re;de<0&&(de=0);let Pe=0;return he.schedule(function(){te.closed||(te.next(Pe++),0<=fe?this.schedule(void 0,fe):te.complete())},de)})}},4360:(an,tt,L)=>{L.d(tt,{_:()=>G});var f=L(7707);function G(le,re,Re,Oe,he){return new ge(le,re,Re,Oe,he)}class ge extends f.vU{constructor(re,Re,Oe,he,fe,te){super(re),this.onFinalize=fe,this.shouldUnsubscribe=te,this._next=Re?function(de){try{Re(de)}catch(Pe){re.error(Pe)}}:super._next,this._error=he?function(de){try{he(de)}catch(Pe){re.error(Pe)}finally{this.unsubscribe()}}:super._error,this._complete=Oe?function(){try{Oe()}catch(de){re.error(de)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var re;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Re}=this;super.unsubscribe(),!Re&&(null===(re=this.onFinalize)||void 0===re||re.call(this))}}}},9437:(an,tt,L)=>{L.d(tt,{W:()=>le});var f=L(8750),G=L(4360),ge=L(9974);function le(re){return(0,ge.N)((Re,Oe)=>{let te,he=null,fe=!1;he=Re.subscribe((0,G._)(Oe,void 0,void 0,de=>{te=(0,f.Tg)(re(de,le(re)(Re))),he?(he.unsubscribe(),he=null,te.subscribe(Oe)):fe=!0})),fe&&(he.unsubscribe(),he=null,te.subscribe(Oe))})}},274:(an,tt,L)=>{L.d(tt,{H:()=>ge});var f=L(1397),G=L(8071);function ge(le,re){return(0,G.T)(re)?(0,f.Z)(le,re,1):(0,f.Z)(le,1)}},152:(an,tt,L)=>{L.d(tt,{B:()=>le});var f=L(3236),G=L(9974),ge=L(4360);function le(re,Re=f.E){return(0,G.N)((Oe,he)=>{let fe=null,te=null,de=null;const Pe=()=>{if(fe){fe.unsubscribe(),fe=null;const ue=te;te=null,he.next(ue)}};function Ue(){const ue=de+re,mt=Re.now();if(mt<ue)return fe=this.schedule(void 0,ue-mt),void he.add(fe);Pe()}Oe.subscribe((0,ge._)(he,ue=>{te=ue,de=Re.now(),fe||(fe=Re.schedule(Ue,re),he.add(fe))},()=>{Pe(),he.complete()},void 0,()=>{te=fe=null}))})}},3294:(an,tt,L)=>{L.d(tt,{F:()=>le});var f=L(3669),G=L(9974),ge=L(4360);function le(Re,Oe=f.D){return Re=Re??re,(0,G.N)((he,fe)=>{let te,de=!0;he.subscribe((0,ge._)(fe,Pe=>{const Ue=Oe(Pe);(de||!Re(te,Ue))&&(de=!1,te=Ue,fe.next(Pe))}))})}function re(Re,Oe){return Re===Oe}},5964:(an,tt,L)=>{L.d(tt,{p:()=>ge});var f=L(9974),G=L(4360);function ge(le,re){return(0,f.N)((Re,Oe)=>{let he=0;Re.subscribe((0,G._)(Oe,fe=>le.call(re,fe,he++)&&Oe.next(fe)))})}},980:(an,tt,L)=>{L.d(tt,{j:()=>G});var f=L(9974);function G(ge){return(0,f.N)((le,re)=>{try{le.subscribe(re)}finally{re.add(ge)}})}},6354:(an,tt,L)=>{L.d(tt,{T:()=>ge});var f=L(9974),G=L(4360);function ge(le,re){return(0,f.N)((Re,Oe)=>{let he=0;Re.subscribe((0,G._)(Oe,fe=>{Oe.next(le.call(re,fe,he++))}))})}},3703:(an,tt,L)=>{L.d(tt,{u:()=>G});var f=L(6354);function G(ge){return(0,f.T)(()=>ge)}},6365:(an,tt,L)=>{L.d(tt,{U:()=>ge});var f=L(1397),G=L(3669);function ge(le=1/0){return(0,f.Z)(G.D,le)}},1397:(an,tt,L)=>{L.d(tt,{Z:()=>he});var f=L(6354),G=L(8750),ge=L(9974),le=L(5225),re=L(4360),Oe=L(8071);function he(fe,te,de=1/0){return(0,Oe.T)(te)?he((Pe,Ue)=>(0,f.T)((ue,mt)=>te(Pe,ue,Ue,mt))((0,G.Tg)(fe(Pe,Ue))),de):("number"==typeof te&&(de=te),(0,ge.N)((Pe,Ue)=>function Re(fe,te,de,Pe,Ue,ue,mt,Pt){const Ot=[];let wt=0,fn=0,Xt=!1;const ke=()=>{Xt&&!Ot.length&&!wt&&te.complete()},Ge=$e=>wt<Pe?je($e):Ot.push($e),je=$e=>{ue&&te.next($e),wt++;let _t=!1;(0,G.Tg)(de($e,fn++)).subscribe((0,re._)(te,Tt=>{Ue?.(Tt),ue?Ge(Tt):te.next(Tt)},()=>{_t=!0},void 0,()=>{if(_t)try{for(wt--;Ot.length&&wt<Pe;){const Tt=Ot.shift();mt?(0,le.N)(te,mt,()=>je(Tt)):je(Tt)}ke()}catch(Tt){te.error(Tt)}}))};return fe.subscribe((0,re._)(te,Ge,()=>{Xt=!0,ke()})),()=>{Pt?.()}}(Pe,Ue,fe,de)))}},941:(an,tt,L)=>{L.d(tt,{Q:()=>le});var f=L(5225),G=L(9974),ge=L(4360);function le(re,Re=0){return(0,G.N)((Oe,he)=>{Oe.subscribe((0,ge._)(he,fe=>(0,f.N)(he,re,()=>he.next(fe),Re),()=>(0,f.N)(he,re,()=>he.complete(),Re),fe=>(0,f.N)(he,re,()=>he.error(fe),Re)))})}},9898:(an,tt,L)=>{L.d(tt,{B:()=>ge});var f=L(9974),G=L(4360);function ge(){return(0,f.N)((le,re)=>{let Re=null;le._refCount++;const Oe=(0,G._)(re,void 0,void 0,void 0,()=>{if(!le||le._refCount<=0||0<--le._refCount)return void(Re=null);const he=le._connection,fe=Re;Re=null,he&&(!fe||he===fe)&&he.unsubscribe(),re.unsubscribe()});le.subscribe(Oe),Oe.closed||(Re=le.connect())})}},2816:(an,tt,L)=>{L.d(tt,{S:()=>le});var f=L(9974),G=L(4360);function le(re,Re){return(0,f.N)(function ge(re,Re,Oe,he,fe){return(te,de)=>{let Pe=Oe,Ue=Re,ue=0;te.subscribe((0,G._)(de,mt=>{const Pt=ue++;Ue=Pe?re(Ue,mt,Pt):(Pe=!0,mt),he&&de.next(Ue)},fe&&(()=>{Pe&&de.next(Ue),de.complete()})))}}(re,Re,arguments.length>=2,!0))}},7647:(an,tt,L)=>{L.d(tt,{u:()=>re});var f=L(8750),G=L(1413),ge=L(7707),le=L(9974);function re(Oe={}){const{connector:he=(()=>new G.B),resetOnError:fe=!0,resetOnComplete:te=!0,resetOnRefCountZero:de=!0}=Oe;return Pe=>{let Ue,ue,mt,Pt=0,Ot=!1,wt=!1;const fn=()=>{ue?.unsubscribe(),ue=void 0},Xt=()=>{fn(),Ue=mt=void 0,Ot=wt=!1},ke=()=>{const Ge=Ue;Xt(),Ge?.unsubscribe()};return(0,le.N)((Ge,je)=>{Pt++,!wt&&!Ot&&fn();const $e=mt=mt??he();je.add(()=>{Pt--,0===Pt&&!wt&&!Ot&&(ue=Re(ke,de))}),$e.subscribe(je),!Ue&&Pt>0&&(Ue=new ge.Ms({next:_t=>$e.next(_t),error:_t=>{wt=!0,fn(),ue=Re(Xt,fe,_t),$e.error(_t)},complete:()=>{Ot=!0,fn(),ue=Re(Xt,te),$e.complete()}}),(0,f.Tg)(Ge).subscribe(Ue))})(Pe)}}function Re(Oe,he,...fe){if(!0===he)return void Oe();if(!1===he)return;const te=new ge.Ms({next:()=>{te.unsubscribe(),Oe()}});return(0,f.Tg)(he(...fe)).subscribe(te)}},9172:(an,tt,L)=>{L.d(tt,{Z:()=>le});var f=L(8793),G=L(9326),ge=L(9974);function le(...re){const Re=(0,G.lI)(re);return(0,ge.N)((Oe,he)=>{(Re?(0,f.x)(re,Oe,Re):(0,f.x)(re,Oe)).subscribe(he)})}},6745:(an,tt,L)=>{L.d(tt,{_:()=>G});var f=L(9974);function G(ge,le=0){return(0,f.N)((re,Re)=>{Re.add(ge.schedule(()=>re.subscribe(Re),le))})}},5558:(an,tt,L)=>{L.d(tt,{n:()=>le});var f=L(8750),G=L(9974),ge=L(4360);function le(re,Re){return(0,G.N)((Oe,he)=>{let fe=null,te=0,de=!1;const Pe=()=>de&&!fe&&he.complete();Oe.subscribe((0,ge._)(he,Ue=>{fe?.unsubscribe();let ue=0;const mt=te++;(0,f.Tg)(re(Ue,mt)).subscribe(fe=(0,ge._)(he,Pt=>he.next(Re?Re(Ue,Pt,mt,ue++):Pt),()=>{fe=null,Pe()}))},()=>{de=!0,Pe()}))})}},6697:(an,tt,L)=>{L.d(tt,{s:()=>le});var f=L(983),G=L(9974),ge=L(4360);function le(re){return re<=0?()=>f.w:(0,G.N)((Re,Oe)=>{let he=0;Re.subscribe((0,ge._)(Oe,fe=>{++he<=re&&(Oe.next(fe),re<=he&&Oe.complete())}))})}},6977:(an,tt,L)=>{L.d(tt,{Q:()=>re});var f=L(9974),G=L(4360),ge=L(8750),le=L(5343);function re(Re){return(0,f.N)((Oe,he)=>{(0,ge.Tg)(Re).subscribe((0,G._)(he,()=>he.complete(),le.l)),!he.closed&&Oe.subscribe(he)})}},8141:(an,tt,L)=>{L.d(tt,{M:()=>re});var f=L(8071),G=L(9974),ge=L(4360),le=L(3669);function re(Re,Oe,he){const fe=(0,f.T)(Re)||Oe||he?{next:Re,error:Oe,complete:he}:Re;return fe?(0,G.N)((te,de)=>{var Pe;null===(Pe=fe.subscribe)||void 0===Pe||Pe.call(fe);let Ue=!0;te.subscribe((0,ge._)(de,ue=>{var mt;null===(mt=fe.next)||void 0===mt||mt.call(fe,ue),de.next(ue)},()=>{var ue;Ue=!1,null===(ue=fe.complete)||void 0===ue||ue.call(fe),de.complete()},ue=>{var mt;Ue=!1,null===(mt=fe.error)||void 0===mt||mt.call(fe,ue),de.error(ue)},()=>{var ue,mt;Ue&&(null===(ue=fe.unsubscribe)||void 0===ue||ue.call(fe)),null===(mt=fe.finalize)||void 0===mt||mt.call(fe)}))}):le.D}},6780:(an,tt,L)=>{L.d(tt,{R:()=>re});var f=L(8359);class G extends f.yU{constructor(Oe,he){super()}schedule(Oe,he=0){return this}}const ge={setInterval(Re,Oe,...he){const{delegate:fe}=ge;return fe?.setInterval?fe.setInterval(Re,Oe,...he):setInterval(Re,Oe,...he)},clearInterval(Re){const{delegate:Oe}=ge;return(Oe?.clearInterval||clearInterval)(Re)},delegate:void 0};var le=L(7908);class re extends G{constructor(Oe,he){super(Oe,he),this.scheduler=Oe,this.work=he,this.pending=!1}schedule(Oe,he=0){var fe;if(this.closed)return this;this.state=Oe;const te=this.id,de=this.scheduler;return null!=te&&(this.id=this.recycleAsyncId(de,te,he)),this.pending=!0,this.delay=he,this.id=null!==(fe=this.id)&&void 0!==fe?fe:this.requestAsyncId(de,this.id,he),this}requestAsyncId(Oe,he,fe=0){return ge.setInterval(Oe.flush.bind(Oe,this),fe)}recycleAsyncId(Oe,he,fe=0){if(null!=fe&&this.delay===fe&&!1===this.pending)return he;null!=he&&ge.clearInterval(he)}execute(Oe,he){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const fe=this._execute(Oe,he);if(fe)return fe;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Oe,he){let te,fe=!1;try{this.work(Oe)}catch(de){fe=!0,te=de||new Error("Scheduled action threw falsy error")}if(fe)return this.unsubscribe(),te}unsubscribe(){if(!this.closed){const{id:Oe,scheduler:he}=this,{actions:fe}=he;this.work=this.state=this.scheduler=null,this.pending=!1,(0,le.o)(fe,this),null!=Oe&&(this.id=this.recycleAsyncId(he,Oe,null)),this.delay=null,super.unsubscribe()}}}},3604:(an,tt,L)=>{L.d(tt,{q:()=>ge});const f={now:()=>(f.delegate||Date).now(),delegate:void 0};class G{constructor(re,Re=G.now){this.schedulerActionCtor=re,this.now=Re}schedule(re,Re=0,Oe){return new this.schedulerActionCtor(this,re).schedule(Oe,Re)}}G.now=f.now;class ge extends G{constructor(re,Re=G.now){super(re,Re),this.actions=[],this._active=!1}flush(re){const{actions:Re}=this;if(this._active)return void Re.push(re);let Oe;this._active=!0;do{if(Oe=re.execute(re.state,re.delay))break}while(re=Re.shift());if(this._active=!1,Oe){for(;re=Re.shift();)re.unsubscribe();throw Oe}}}},3236:(an,tt,L)=>{L.d(tt,{E:()=>ge,b:()=>le});var f=L(6780);const ge=new(L(3604).q)(f.R),le=ge},9270:(an,tt,L)=>{L.d(tt,{f:()=>f});const f={setTimeout(G,ge,...le){const{delegate:re}=f;return re?.setTimeout?re.setTimeout(G,ge,...le):setTimeout(G,ge,...le)},clearTimeout(G){const{delegate:ge}=f;return(ge?.clearTimeout||clearTimeout)(G)},delegate:void 0}},4761:(an,tt,L)=>{L.d(tt,{l:()=>G});const G=function f(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},3494:(an,tt,L)=>{L.d(tt,{s:()=>f});const f="function"==typeof Symbol&&Symbol.observable||"@@observable"},9326:(an,tt,L)=>{L.d(tt,{R0:()=>Re,lI:()=>re,ms:()=>le});var f=L(8071),G=L(9470);function ge(Oe){return Oe[Oe.length-1]}function le(Oe){return(0,f.T)(ge(Oe))?Oe.pop():void 0}function re(Oe){return(0,G.m)(ge(Oe))?Oe.pop():void 0}function Re(Oe,he){return"number"==typeof ge(Oe)?Oe.pop():he}},3073:(an,tt,L)=>{L.d(tt,{D:()=>re});const{isArray:f}=Array,{getPrototypeOf:G,prototype:ge,keys:le}=Object;function re(Oe){if(1===Oe.length){const he=Oe[0];if(f(he))return{args:he,keys:null};if(function Re(Oe){return Oe&&"object"==typeof Oe&&G(Oe)===ge}(he)){const fe=le(he);return{args:fe.map(te=>he[te]),keys:fe}}}return{args:Oe,keys:null}}},7908:(an,tt,L)=>{function f(G,ge){if(G){const le=G.indexOf(ge);0<=le&&G.splice(le,1)}}L.d(tt,{o:()=>f})},1853:(an,tt,L)=>{function f(G){const le=G(re=>{Error.call(re),re.stack=(new Error).stack});return le.prototype=Object.create(Error.prototype),le.prototype.constructor=le,le}L.d(tt,{L:()=>f})},8496:(an,tt,L)=>{function f(G,ge){return G.reduce((le,re,Re)=>(le[re]=ge[Re],le),{})}L.d(tt,{e:()=>f})},9786:(an,tt,L)=>{L.d(tt,{Y:()=>ge,l:()=>le});var f=L(1026);let G=null;function ge(re){if(f.$.useDeprecatedSynchronousErrorHandling){const Re=!G;if(Re&&(G={errorThrown:!1,error:null}),re(),Re){const{errorThrown:Oe,error:he}=G;if(G=null,Oe)throw he}}else re()}function le(re){f.$.useDeprecatedSynchronousErrorHandling&&G&&(G.errorThrown=!0,G.error=re)}},5225:(an,tt,L)=>{function f(G,ge,le,re=0,Re=!1){const Oe=ge.schedule(function(){le(),Re?G.add(this.schedule(null,re)):this.unsubscribe()},re);if(G.add(Oe),!Re)return Oe}L.d(tt,{N:()=>f})},3669:(an,tt,L)=>{function f(G){return G}L.d(tt,{D:()=>f})},7441:(an,tt,L)=>{L.d(tt,{X:()=>f});const f=G=>G&&"number"==typeof G.length&&"function"!=typeof G},7953:(an,tt,L)=>{L.d(tt,{T:()=>G});var f=L(8071);function G(ge){return Symbol.asyncIterator&&(0,f.T)(ge?.[Symbol.asyncIterator])}},8071:(an,tt,L)=>{function f(G){return"function"==typeof G}L.d(tt,{T:()=>f})},5055:(an,tt,L)=>{L.d(tt,{l:()=>ge});var f=L(3494),G=L(8071);function ge(le){return(0,G.T)(le[f.s])}},5397:(an,tt,L)=>{L.d(tt,{x:()=>ge});var f=L(4761),G=L(8071);function ge(le){return(0,G.T)(le?.[f.l])}},4402:(an,tt,L)=>{L.d(tt,{A:()=>ge});var f=L(1985),G=L(8071);function ge(le){return!!le&&(le instanceof f.c||(0,G.T)(le.lift)&&(0,G.T)(le.subscribe))}},9858:(an,tt,L)=>{L.d(tt,{y:()=>G});var f=L(8071);function G(ge){return(0,f.T)(ge?.then)}},5196:(an,tt,L)=>{L.d(tt,{C:()=>ge,U:()=>le});var f=L(1635),G=L(8071);function ge(re){return(0,f.AQ)(this,arguments,function*(){const Oe=re.getReader();try{for(;;){const{value:he,done:fe}=yield(0,f.N3)(Oe.read());if(fe)return yield(0,f.N3)(void 0);yield yield(0,f.N3)(he)}}finally{Oe.releaseLock()}})}function le(re){return(0,G.T)(re?.getReader)}},9470:(an,tt,L)=>{L.d(tt,{m:()=>G});var f=L(8071);function G(ge){return ge&&(0,f.T)(ge.schedule)}},9974:(an,tt,L)=>{L.d(tt,{N:()=>ge,S:()=>G});var f=L(8071);function G(le){return(0,f.T)(le?.lift)}function ge(le){return re=>{if(G(re))return re.lift(function(Re){try{return le(Re,this)}catch(Oe){this.error(Oe)}});throw new TypeError("Unable to lift unknown Observable type")}}},6450:(an,tt,L)=>{L.d(tt,{I:()=>le});var f=L(6354);const{isArray:G}=Array;function le(re){return(0,f.T)(Re=>function ge(re,Re){return G(Re)?re(...Re):re(Re)}(re,Re))}},5343:(an,tt,L)=>{function f(){}L.d(tt,{l:()=>f})},1203:(an,tt,L)=>{L.d(tt,{F:()=>G,m:()=>ge});var f=L(3669);function G(...le){return ge(le)}function ge(le){return 0===le.length?f.D:1===le.length?le[0]:function(Re){return le.reduce((Oe,he)=>he(Oe),Re)}}},5334:(an,tt,L)=>{L.d(tt,{m:()=>ge});var f=L(1026),G=L(9270);function ge(le){G.f.setTimeout(()=>{const{onUnhandledError:re}=f.$;if(!re)throw le;re(le)})}},591:(an,tt,L)=>{function f(G){return new TypeError(`You provided ${null!==G&&"object"==typeof G?"an invalid object":`'${G}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}L.d(tt,{L:()=>f})},9969:(an,tt,L)=>{L.d(tt,{FX:()=>fn,K2:()=>Oe,MA:()=>Ue,Os:()=>Re,P:()=>mt,Ro:()=>G,S6:()=>f,hZ:()=>le,i0:()=>re,i7:()=>te,iF:()=>he,kY:()=>de,kp:()=>ge,sf:()=>Ot,ui:()=>wt,wk:()=>fe});class f{}class G{}const ge="*";function le(Xt,ke){return{type:7,name:Xt,definitions:ke,options:{}}}function re(Xt,ke=null){return{type:4,styles:ke,timings:Xt}}function Re(Xt,ke=null){return{type:3,steps:Xt,options:ke}}function Oe(Xt,ke=null){return{type:2,steps:Xt,options:ke}}function he(Xt){return{type:6,styles:Xt,offset:null}}function fe(Xt,ke,Ge){return{type:0,name:Xt,styles:ke,options:Ge}}function te(Xt){return{type:5,steps:Xt}}function de(Xt,ke,Ge=null){return{type:1,expr:Xt,animation:ke,options:Ge}}function Ue(Xt=null){return{type:9,options:Xt}}function mt(Xt,ke,Ge=null){return{type:11,selector:Xt,animation:ke,options:Ge}}class Ot{constructor(ke=0,Ge=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=ke+Ge}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(ke=>ke()),this._onDoneFns=[])}onStart(ke){this._originalOnStartFns.push(ke),this._onStartFns.push(ke)}onDone(ke){this._originalOnDoneFns.push(ke),this._onDoneFns.push(ke)}onDestroy(ke){this._onDestroyFns.push(ke)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(ke=>ke()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(ke=>ke()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(ke){this._position=this.totalTime?ke*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(ke){const Ge="start"==ke?this._onStartFns:this._onDoneFns;Ge.forEach(je=>je()),Ge.length=0}}class wt{constructor(ke){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=ke;let Ge=0,je=0,$e=0;const _t=this.players.length;0==_t?queueMicrotask(()=>this._onFinish()):this.players.forEach(Tt=>{Tt.onDone(()=>{++Ge==_t&&this._onFinish()}),Tt.onDestroy(()=>{++je==_t&&this._onDestroy()}),Tt.onStart(()=>{++$e==_t&&this._onStart()})}),this.totalTime=this.players.reduce((Tt,hn)=>Math.max(Tt,hn.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(ke=>ke()),this._onDoneFns=[])}init(){this.players.forEach(ke=>ke.init())}onStart(ke){this._onStartFns.push(ke)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(ke=>ke()),this._onStartFns=[])}onDone(ke){this._onDoneFns.push(ke)}onDestroy(ke){this._onDestroyFns.push(ke)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(ke=>ke.play())}pause(){this.players.forEach(ke=>ke.pause())}restart(){this.players.forEach(ke=>ke.restart())}finish(){this._onFinish(),this.players.forEach(ke=>ke.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(ke=>ke.destroy()),this._onDestroyFns.forEach(ke=>ke()),this._onDestroyFns=[])}reset(){this.players.forEach(ke=>ke.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(ke){const Ge=ke*this.totalTime;this.players.forEach(je=>{const $e=je.totalTime?Math.min(1,Ge/je.totalTime):1;je.setPosition($e)})}getPosition(){const ke=this.players.reduce((Ge,je)=>null===Ge||je.totalTime>Ge.totalTime?je:Ge,null);return null!=ke?ke.getPosition():0}beforeDestroy(){this.players.forEach(ke=>{ke.beforeDestroy&&ke.beforeDestroy()})}triggerCallback(ke){const Ge="start"==ke?this._onStartFns:this._onDoneFns;Ge.forEach(je=>je()),Ge.length=0}}const fn="!"},7645:(an,tt,L)=>{L.d(tt,{Pd:()=>xe,Bu:()=>Ft,FN:()=>Nt,GX:()=>nt,Q_:()=>ve,Z7:()=>vt,_G:()=>Dt,w6:()=>Kn});var f=L(177),G=L(7705),ge=L(6860),le=L(1413),re=L(8359),Re=L(4412),Oe=L(7673),he=L(7336),fe=L(8141),te=L(152),de=L(5964),Pe=L(6354),Ue=L(6697);function ue(be){return(0,de.p)((me,se)=>be<=se)}var mt=L(3294),Pt=L(6977),Ot=L(4085),wt=L(2318),fn=L(4572),Xt=L(8793),ke=L(1985),Ge=L(9172);const $e=new Set;let _t,Tt=(()=>{class be{constructor(se,Ce){this._platform=se,this._nonce=Ce,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):gn}matchMedia(se){return(this._platform.WEBKIT||this._platform.BLINK)&&function hn(be,me){if(!$e.has(be))try{_t||(_t=document.createElement("style"),me&&(_t.nonce=me),_t.setAttribute("type","text/css"),document.head.appendChild(_t)),_t.sheet&&(_t.sheet.insertRule(`@media ${be} {body{ }}`,0),$e.add(be))}catch(se){console.error(se)}}(se,this._nonce),this._matchMedia(se)}static{this.\u0275fac=function(Ce){return new(Ce||be)(G.KVO(ge.OD),G.KVO(G.BIS,8))}}static{this.\u0275prov=G.jDH({token:be,factory:be.\u0275fac,providedIn:"root"})}}return be})();function gn(be){return{matches:"all"===be||""===be,media:be,addListener:()=>{},removeListener:()=>{}}}let _n=(()=>{class be{constructor(se,Ce){this._mediaMatcher=se,this._zone=Ce,this._queries=new Map,this._destroySubject=new le.B}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(se){return jn((0,Ot.FG)(se)).some(ct=>this._registerQuery(ct).mql.matches)}observe(se){const ct=jn((0,Ot.FG)(se)).map(Ie=>this._registerQuery(Ie).observable);let Kt=(0,fn.z)(ct);return Kt=(0,Xt.x)(Kt.pipe((0,Ue.s)(1)),Kt.pipe(ue(1),(0,te.B)(0))),Kt.pipe((0,Pe.T)(Ie=>{const Me={matches:!1,breakpoints:{}};return Ie.forEach(({matches:Ve,query:Rt})=>{Me.matches=Me.matches||Ve,Me.breakpoints[Rt]=Ve}),Me}))}_registerQuery(se){if(this._queries.has(se))return this._queries.get(se);const Ce=this._mediaMatcher.matchMedia(se),Kt={observable:new ke.c(Ie=>{const Me=Ve=>this._zone.run(()=>Ie.next(Ve));return Ce.addListener(Me),()=>{Ce.removeListener(Me)}}).pipe((0,Ge.Z)(Ce),(0,Pe.T)(({matches:Ie})=>({query:se,matches:Ie})),(0,Pt.Q)(this._destroySubject)),mql:Ce};return this._queries.set(se,Kt),Kt}static{this.\u0275fac=function(Ce){return new(Ce||be)(G.KVO(Tt),G.KVO(G.SKi))}}static{this.\u0275prov=G.jDH({token:be,factory:be.\u0275fac,providedIn:"root"})}}return be})();function jn(be){return be.map(me=>me.split(",")).reduce((me,se)=>me.concat(se)).map(me=>me.trim())}class Qe{constructor(me){this._items=me,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new le.B,this._typeaheadSubscription=re.yU.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=se=>se.disabled,this._pressedLetters=[],this.tabOut=new le.B,this.change=new le.B,me instanceof G.rOR&&(this._itemChangesSubscription=me.changes.subscribe(se=>{if(this._activeItem){const ct=se.toArray().indexOf(this._activeItem);ct>-1&&ct!==this._activeItemIndex&&(this._activeItemIndex=ct)}}))}skipPredicate(me){return this._skipPredicateFn=me,this}withWrap(me=!0){return this._wrap=me,this}withVerticalOrientation(me=!0){return this._vertical=me,this}withHorizontalOrientation(me){return this._horizontal=me,this}withAllowedModifierKeys(me){return this._allowedModifierKeys=me,this}withTypeAhead(me=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,fe.M)(se=>this._pressedLetters.push(se)),(0,te.B)(me),(0,de.p)(()=>this._pressedLetters.length>0),(0,Pe.T)(()=>this._pressedLetters.join(""))).subscribe(se=>{const Ce=this._getItemsArray();for(let ct=1;ct<Ce.length+1;ct++){const Kt=(this._activeItemIndex+ct)%Ce.length,Ie=Ce[Kt];if(!this._skipPredicateFn(Ie)&&0===Ie.getLabel().toUpperCase().trim().indexOf(se)){this.setActiveItem(Kt);break}}this._pressedLetters=[]}),this}cancelTypeahead(){return this._pressedLetters=[],this}withHomeAndEnd(me=!0){return this._homeAndEnd=me,this}withPageUpDown(me=!0,se=10){return this._pageUpAndDown={enabled:me,delta:se},this}setActiveItem(me){const se=this._activeItem;this.updateActiveItem(me),this._activeItem!==se&&this.change.next(this._activeItemIndex)}onKeydown(me){const se=me.keyCode,ct=["altKey","ctrlKey","metaKey","shiftKey"].every(Kt=>!me[Kt]||this._allowedModifierKeys.indexOf(Kt)>-1);switch(se){case he.wn:return void this.tabOut.next();case he.n6:if(this._vertical&&ct){this.setNextItemActive();break}return;case he.i7:if(this._vertical&&ct){this.setPreviousItemActive();break}return;case he.LE:if(this._horizontal&&ct){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case he.UQ:if(this._horizontal&&ct){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case he.yZ:if(this._homeAndEnd&&ct){this.setFirstItemActive();break}return;case he.Kp:if(this._homeAndEnd&&ct){this.setLastItemActive();break}return;case he.w_:if(this._pageUpAndDown.enabled&&ct){const Kt=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(Kt>0?Kt:0,1);break}return;case he.dB:if(this._pageUpAndDown.enabled&&ct){const Kt=this._activeItemIndex+this._pageUpAndDown.delta,Ie=this._getItemsArray().length;this._setActiveItemByIndex(Kt<Ie?Kt:Ie-1,-1);break}return;default:return void((ct||(0,he.rp)(me,"shiftKey"))&&(me.key&&1===me.key.length?this._letterKeyStream.next(me.key.toLocaleUpperCase()):(se>=he.A&&se<=he.Z||se>=he.f2&&se<=he.bn)&&this._letterKeyStream.next(String.fromCharCode(se))))}this._pressedLetters=[],me.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(me){const se=this._getItemsArray(),Ce="number"==typeof me?me:se.indexOf(me);this._activeItem=se[Ce]??null,this._activeItemIndex=Ce}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._letterKeyStream.complete(),this.tabOut.complete(),this.change.complete(),this._pressedLetters=[]}_setActiveItemByDelta(me){this._wrap?this._setActiveInWrapMode(me):this._setActiveInDefaultMode(me)}_setActiveInWrapMode(me){const se=this._getItemsArray();for(let Ce=1;Ce<=se.length;Ce++){const ct=(this._activeItemIndex+me*Ce+se.length)%se.length;if(!this._skipPredicateFn(se[ct]))return void this.setActiveItem(ct)}}_setActiveInDefaultMode(me){this._setActiveItemByIndex(this._activeItemIndex+me,me)}_setActiveItemByIndex(me,se){const Ce=this._getItemsArray();if(Ce[me]){for(;this._skipPredicateFn(Ce[me]);)if(!Ce[me+=se])return;this.setActiveItem(me)}}_getItemsArray(){return this._items instanceof G.rOR?this._items.toArray():this._items}}class Ft extends Qe{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(me){return this._origin=me,this}setActiveItem(me){super.setActiveItem(me),this.activeItem&&this.activeItem.focus(this._origin)}}let vt=(()=>{class be{constructor(se){this._platform=se}isDisabled(se){return se.hasAttribute("disabled")}isVisible(se){return function dt(be){return!!(be.offsetWidth||be.offsetHeight||"function"==typeof be.getClientRects&&be.getClientRects().length)}(se)&&"visible"===getComputedStyle(se).visibility}isTabbable(se){if(!this._platform.isBrowser)return!1;const Ce=function We(be){try{return be.frameElement}catch{return null}}(function rt(be){return be.ownerDocument&&be.ownerDocument.defaultView||window}(se));if(Ce&&(-1===ie(Ce)||!this.isVisible(Ce)))return!1;let ct=se.nodeName.toLowerCase(),Kt=ie(se);return se.hasAttribute("contenteditable")?-1!==Kt:!("iframe"===ct||"object"===ct||this._platform.WEBKIT&&this._platform.IOS&&!function Se(be){let me=be.nodeName.toLowerCase(),se="input"===me&&be.type;return"text"===se||"password"===se||"select"===me||"textarea"===me}(se))&&("audio"===ct?!!se.hasAttribute("controls")&&-1!==Kt:"video"===ct?-1!==Kt&&(null!==Kt||this._platform.FIREFOX||se.hasAttribute("controls")):se.tabIndex>=0)}isFocusable(se,Ce){return function qe(be){return!function Sn(be){return function Vr(be){return"input"==be.nodeName.toLowerCase()}(be)&&"hidden"==be.type}(be)&&(function Xn(be){let me=be.nodeName.toLowerCase();return"input"===me||"select"===me||"button"===me||"textarea"===me}(be)||function Yn(be){return function kr(be){return"a"==be.nodeName.toLowerCase()}(be)&&be.hasAttribute("href")}(be)||be.hasAttribute("contenteditable")||Bt(be))}(se)&&!this.isDisabled(se)&&(Ce?.ignoreVisibility||this.isVisible(se))}static{this.\u0275fac=function(Ce){return new(Ce||be)(G.KVO(ge.OD))}}static{this.\u0275prov=G.jDH({token:be,factory:be.\u0275fac,providedIn:"root"})}}return be})();function Bt(be){if(!be.hasAttribute("tabindex")||void 0===be.tabIndex)return!1;let me=be.getAttribute("tabindex");return!(!me||isNaN(parseInt(me,10)))}function ie(be){if(!Bt(be))return null;const me=parseInt(be.getAttribute("tabindex")||"",10);return isNaN(me)?-1:me}class bt{get enabled(){return this._enabled}set enabled(me){this._enabled=me,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(me,this._startAnchor),this._toggleAnchorTabIndex(me,this._endAnchor))}constructor(me,se,Ce,ct,Kt=!1){this._element=me,this._checker=se,this._ngZone=Ce,this._document=ct,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,Kt||this.attachAnchors()}destroy(){const me=this._startAnchor,se=this._endAnchor;me&&(me.removeEventListener("focus",this.startAnchorListener),me.remove()),se&&(se.removeEventListener("focus",this.endAnchorListener),se.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(me){return new Promise(se=>{this._executeOnStable(()=>se(this.focusInitialElement(me)))})}focusFirstTabbableElementWhenReady(me){return new Promise(se=>{this._executeOnStable(()=>se(this.focusFirstTabbableElement(me)))})}focusLastTabbableElementWhenReady(me){return new Promise(se=>{this._executeOnStable(()=>se(this.focusLastTabbableElement(me)))})}_getRegionBoundary(me){const se=this._element.querySelectorAll(`[cdk-focus-region-${me}], [cdkFocusRegion${me}], [cdk-focus-${me}]`);return"start"==me?se.length?se[0]:this._getFirstTabbableElement(this._element):se.length?se[se.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(me){const se=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(se){if(!this._checker.isFocusable(se)){const Ce=this._getFirstTabbableElement(se);return Ce?.focus(me),!!Ce}return se.focus(me),!0}return this.focusFirstTabbableElement(me)}focusFirstTabbableElement(me){const se=this._getRegionBoundary("start");return se&&se.focus(me),!!se}focusLastTabbableElement(me){const se=this._getRegionBoundary("end");return se&&se.focus(me),!!se}hasAttached(){return this._hasAttached}_getFirstTabbableElement(me){if(this._checker.isFocusable(me)&&this._checker.isTabbable(me))return me;const se=me.children;for(let Ce=0;Ce<se.length;Ce++){const ct=se[Ce].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(se[Ce]):null;if(ct)return ct}return null}_getLastTabbableElement(me){if(this._checker.isFocusable(me)&&this._checker.isTabbable(me))return me;const se=me.children;for(let Ce=se.length-1;Ce>=0;Ce--){const ct=se[Ce].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(se[Ce]):null;if(ct)return ct}return null}_createAnchor(){const me=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,me),me.classList.add("cdk-visually-hidden"),me.classList.add("cdk-focus-trap-anchor"),me.setAttribute("aria-hidden","true"),me}_toggleAnchorTabIndex(me,se){me?se.setAttribute("tabindex","0"):se.removeAttribute("tabindex")}toggleAnchors(me){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(me,this._startAnchor),this._toggleAnchorTabIndex(me,this._endAnchor))}_executeOnStable(me){this._ngZone.isStable?me():this._ngZone.onStable.pipe((0,Ue.s)(1)).subscribe(me)}}let nt=(()=>{class be{constructor(se,Ce,ct){this._checker=se,this._ngZone=Ce,this._document=ct}create(se,Ce=!1){return new bt(se,this._checker,this._ngZone,this._document,Ce)}static{this.\u0275fac=function(Ce){return new(Ce||be)(G.KVO(vt),G.KVO(G.SKi),G.KVO(f.qQ))}}static{this.\u0275prov=G.jDH({token:be,factory:be.\u0275fac,providedIn:"root"})}}return be})();function Dt(be){return 0===be.buttons||0===be.detail}function Kn(be){const me=be.touches&&be.touches[0]||be.changedTouches&&be.changedTouches[0];return!(!me||-1!==me.identifier||null!=me.radiusX&&1!==me.radiusX||null!=me.radiusY&&1!==me.radiusY)}const on=new G.nKC("cdk-input-modality-detector-options"),Zt={ignoreKeys:[he.A$,he.W3,he.eg,he.Ge,he.FX]},qr=(0,ge.BQ)({passive:!0,capture:!0});let Sr=(()=>{class be{get mostRecentModality(){return this._modality.value}constructor(se,Ce,ct,Kt){this._platform=se,this._mostRecentTarget=null,this._modality=new Re.t(null),this._lastTouchMs=0,this._onKeydown=Ie=>{this._options?.ignoreKeys?.some(Me=>Me===Ie.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=(0,ge.Fb)(Ie))},this._onMousedown=Ie=>{Date.now()-this._lastTouchMs<650||(this._modality.next(Dt(Ie)?"keyboard":"mouse"),this._mostRecentTarget=(0,ge.Fb)(Ie))},this._onTouchstart=Ie=>{Kn(Ie)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=(0,ge.Fb)(Ie))},this._options={...Zt,...Kt},this.modalityDetected=this._modality.pipe(ue(1)),this.modalityChanged=this.modalityDetected.pipe((0,mt.F)()),se.isBrowser&&Ce.runOutsideAngular(()=>{ct.addEventListener("keydown",this._onKeydown,qr),ct.addEventListener("mousedown",this._onMousedown,qr),ct.addEventListener("touchstart",this._onTouchstart,qr)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,qr),document.removeEventListener("mousedown",this._onMousedown,qr),document.removeEventListener("touchstart",this._onTouchstart,qr))}static{this.\u0275fac=function(Ce){return new(Ce||be)(G.KVO(ge.OD),G.KVO(G.SKi),G.KVO(f.qQ),G.KVO(on,8))}}static{this.\u0275prov=G.jDH({token:be,factory:be.\u0275fac,providedIn:"root"})}}return be})();const ar=new G.nKC("cdk-focus-monitor-default-options"),hi=(0,ge.BQ)({passive:!0,capture:!0});let Nt=(()=>{class be{constructor(se,Ce,ct,Kt,Ie){this._ngZone=se,this._platform=Ce,this._inputModalityDetector=ct,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new le.B,this._rootNodeFocusAndBlurListener=Me=>{for(let Rt=(0,ge.Fb)(Me);Rt;Rt=Rt.parentElement)"focus"===Me.type?this._onFocus(Me,Rt):this._onBlur(Me,Rt)},this._document=Kt,this._detectionMode=Ie?.detectionMode||0}monitor(se,Ce=!1){const ct=(0,Ot.i8)(se);if(!this._platform.isBrowser||1!==ct.nodeType)return(0,Oe.of)();const Kt=(0,ge.KT)(ct)||this._getDocument(),Ie=this._elementInfo.get(ct);if(Ie)return Ce&&(Ie.checkChildren=!0),Ie.subject;const Me={checkChildren:Ce,subject:new le.B,rootNode:Kt};return this._elementInfo.set(ct,Me),this._registerGlobalListeners(Me),Me.subject}stopMonitoring(se){const Ce=(0,Ot.i8)(se),ct=this._elementInfo.get(Ce);ct&&(ct.subject.complete(),this._setClasses(Ce),this._elementInfo.delete(Ce),this._removeGlobalListeners(ct))}focusVia(se,Ce,ct){const Kt=(0,Ot.i8)(se);Kt===this._getDocument().activeElement?this._getClosestElementsInfo(Kt).forEach(([Me,Ve])=>this._originChanged(Me,Ce,Ve)):(this._setOrigin(Ce),"function"==typeof Kt.focus&&Kt.focus(ct))}ngOnDestroy(){this._elementInfo.forEach((se,Ce)=>this.stopMonitoring(Ce))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(se){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(se)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:se&&this._isLastInteractionFromInputLabel(se)?"mouse":"program"}_shouldBeAttributedToTouch(se){return 1===this._detectionMode||!!se?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(se,Ce){se.classList.toggle("cdk-focused",!!Ce),se.classList.toggle("cdk-touch-focused","touch"===Ce),se.classList.toggle("cdk-keyboard-focused","keyboard"===Ce),se.classList.toggle("cdk-mouse-focused","mouse"===Ce),se.classList.toggle("cdk-program-focused","program"===Ce)}_setOrigin(se,Ce=!1){this._ngZone.runOutsideAngular(()=>{this._origin=se,this._originFromTouchInteraction="touch"===se&&Ce,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(se,Ce){const ct=this._elementInfo.get(Ce),Kt=(0,ge.Fb)(se);!ct||!ct.checkChildren&&Ce!==Kt||this._originChanged(Ce,this._getFocusOrigin(Kt),ct)}_onBlur(se,Ce){const ct=this._elementInfo.get(Ce);!ct||ct.checkChildren&&se.relatedTarget instanceof Node&&Ce.contains(se.relatedTarget)||(this._setClasses(Ce),this._emitOrigin(ct,null))}_emitOrigin(se,Ce){se.subject.observers.length&&this._ngZone.run(()=>se.subject.next(Ce))}_registerGlobalListeners(se){if(!this._platform.isBrowser)return;const Ce=se.rootNode,ct=this._rootNodeFocusListenerCount.get(Ce)||0;ct||this._ngZone.runOutsideAngular(()=>{Ce.addEventListener("focus",this._rootNodeFocusAndBlurListener,hi),Ce.addEventListener("blur",this._rootNodeFocusAndBlurListener,hi)}),this._rootNodeFocusListenerCount.set(Ce,ct+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe((0,Pt.Q)(this._stopInputModalityDetector)).subscribe(Kt=>{this._setOrigin(Kt,!0)}))}_removeGlobalListeners(se){const Ce=se.rootNode;if(this._rootNodeFocusListenerCount.has(Ce)){const ct=this._rootNodeFocusListenerCount.get(Ce);ct>1?this._rootNodeFocusListenerCount.set(Ce,ct-1):(Ce.removeEventListener("focus",this._rootNodeFocusAndBlurListener,hi),Ce.removeEventListener("blur",this._rootNodeFocusAndBlurListener,hi),this._rootNodeFocusListenerCount.delete(Ce))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(se,Ce,ct){this._setClasses(se,Ce),this._emitOrigin(ct,Ce),this._lastFocusOrigin=Ce}_getClosestElementsInfo(se){const Ce=[];return this._elementInfo.forEach((ct,Kt)=>{(Kt===se||ct.checkChildren&&Kt.contains(se))&&Ce.push([Kt,ct])}),Ce}_isLastInteractionFromInputLabel(se){const{_mostRecentTarget:Ce,mostRecentModality:ct}=this._inputModalityDetector;if("mouse"!==ct||!Ce||Ce===se||"INPUT"!==se.nodeName&&"TEXTAREA"!==se.nodeName||se.disabled)return!1;const Kt=se.labels;if(Kt)for(let Ie=0;Ie<Kt.length;Ie++)if(Kt[Ie].contains(Ce))return!0;return!1}static{this.\u0275fac=function(Ce){return new(Ce||be)(G.KVO(G.SKi),G.KVO(ge.OD),G.KVO(Sr),G.KVO(f.qQ,8),G.KVO(ar,8))}}static{this.\u0275prov=G.jDH({token:be,factory:be.\u0275fac,providedIn:"root"})}}return be})();const P="cdk-high-contrast-black-on-white",R="cdk-high-contrast-white-on-black",O="cdk-high-contrast-active";let ve=(()=>{class be{constructor(se,Ce){this._platform=se,this._document=Ce,this._breakpointSubscription=(0,G.WQX)(_n).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const se=this._document.createElement("div");se.style.backgroundColor="rgb(1,2,3)",se.style.position="absolute",this._document.body.appendChild(se);const Ce=this._document.defaultView||window,ct=Ce&&Ce.getComputedStyle?Ce.getComputedStyle(se):null,Kt=(ct&&ct.backgroundColor||"").replace(/ /g,"");switch(se.remove(),Kt){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const se=this._document.body.classList;se.remove(O,P,R),this._hasCheckedHighContrastMode=!0;const Ce=this.getHighContrastMode();1===Ce?se.add(O,P):2===Ce&&se.add(O,R)}}static{this.\u0275fac=function(Ce){return new(Ce||be)(G.KVO(ge.OD),G.KVO(f.qQ))}}static{this.\u0275prov=G.jDH({token:be,factory:be.\u0275fac,providedIn:"root"})}}return be})(),xe=(()=>{class be{constructor(se){se._applyBodyHighContrastModeCssClasses()}static{this.\u0275fac=function(Ce){return new(Ce||be)(G.KVO(ve))}}static{this.\u0275mod=G.$C({type:be})}static{this.\u0275inj=G.G2t({imports:[wt.w5]})}}return be})()},8203:(an,tt,L)=>{L.d(tt,{dS:()=>Oe,jI:()=>fe});var f=L(7705),G=L(177);const ge=new f.nKC("cdk-dir-doc",{providedIn:"root",factory:function le(){return(0,f.WQX)(G.qQ)}}),re=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let Oe=(()=>{class te{constructor(Pe){this.value="ltr",this.change=new f.bkB,Pe&&(this.value=function Re(te){const de=te?.toLowerCase()||"";return"auto"===de&&typeof navigator<"u"&&navigator?.language?re.test(navigator.language)?"rtl":"ltr":"rtl"===de?"rtl":"ltr"}((Pe.body?Pe.body.dir:null)||(Pe.documentElement?Pe.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}static{this.\u0275fac=function(Ue){return new(Ue||te)(f.KVO(ge,8))}}static{this.\u0275prov=f.jDH({token:te,factory:te.\u0275fac,providedIn:"root"})}}return te})(),fe=(()=>{class te{static{this.\u0275fac=function(Ue){return new(Ue||te)}}static{this.\u0275mod=f.$C({type:te})}static{this.\u0275inj=f.G2t({})}}return te})()},4085:(an,tt,L)=>{L.d(tt,{FG:()=>re,OE:()=>ge,a1:()=>Re,he:()=>G,i8:()=>Oe,o1:()=>le});var f=L(7705);function G(fe){return null!=fe&&"false"!=`${fe}`}function ge(fe,te=0){return le(fe)?Number(fe):te}function le(fe){return!isNaN(parseFloat(fe))&&!isNaN(Number(fe))}function re(fe){return Array.isArray(fe)?fe:[fe]}function Re(fe){return null==fe?"":"string"==typeof fe?fe:`${fe}px`}function Oe(fe){return fe instanceof f.aKT?fe.nativeElement:fe}},7336:(an,tt,L)=>{L.d(tt,{A:()=>Xe,A$:()=>he,FX:()=>Re,Fm:()=>re,G_:()=>G,Ge:()=>it,Kp:()=>mt,LE:()=>fn,SJ:()=>$e,UQ:()=>Ot,W3:()=>Oe,Z:()=>st,_f:()=>de,bn:()=>Mn,dB:()=>ue,eg:()=>Lr,f2:()=>_t,i7:()=>wt,n6:()=>Xt,rp:()=>Ai,t6:()=>Pe,w_:()=>Ue,wn:()=>ge,yZ:()=>Pt});const G=8,ge=9,re=13,Re=16,Oe=17,he=18,de=27,Pe=32,Ue=33,ue=34,mt=35,Pt=36,Ot=37,wt=38,fn=39,Xt=40,$e=46,_t=48,Mn=57,Xe=65,st=90,it=91,Lr=224;function Ai(Qi,...ds){return ds.length?ds.some(wi=>Qi[wi]):Qi.altKey||Qi.shiftKey||Qi.ctrlKey||Qi.metaKey}},2318:(an,tt,L)=>{L.d(tt,{w5:()=>re});var f=L(7705);let G=(()=>{class Re{create(he){return typeof MutationObserver>"u"?null:new MutationObserver(he)}static{this.\u0275fac=function(fe){return new(fe||Re)}}static{this.\u0275prov=f.jDH({token:Re,factory:Re.\u0275fac,providedIn:"root"})}}return Re})(),re=(()=>{class Re{static{this.\u0275fac=function(fe){return new(fe||Re)}}static{this.\u0275mod=f.$C({type:Re})}static{this.\u0275inj=f.G2t({providers:[G]})}}return Re})()},7987:(an,tt,L)=>{L.d(tt,{Sf:()=>Tn,hJ:()=>Hn,rR:()=>je,yY:()=>rn,z_:()=>Vr});var f=L(3980),G=L(177),ge=L(7705),le=L(4085),re=L(6860),Re=L(5964),Oe=L(6697),he=L(6977),fe=L(8203),te=L(6939),de=L(1413),Pe=L(8359),Ue=L(7786);const ue=(0,re.CZ)();class mt{constructor(ie,Se){this._viewportRuler=ie,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=Se}attach(){}enable(){if(this._canBeEnabled()){const ie=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=ie.style.left||"",this._previousHTMLStyles.top=ie.style.top||"",ie.style.left=(0,le.a1)(-this._previousScrollPosition.left),ie.style.top=(0,le.a1)(-this._previousScrollPosition.top),ie.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const ie=this._document.documentElement,qe=ie.style,rt=this._document.body.style,bt=qe.scrollBehavior||"",nt=rt.scrollBehavior||"";this._isEnabled=!1,qe.left=this._previousHTMLStyles.left,qe.top=this._previousHTMLStyles.top,ie.classList.remove("cdk-global-scrollblock"),ue&&(qe.scrollBehavior=rt.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),ue&&(qe.scrollBehavior=bt,rt.scrollBehavior=nt)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const Se=this._document.body,qe=this._viewportRuler.getViewportSize();return Se.scrollHeight>qe.height||Se.scrollWidth>qe.width}}class Ot{constructor(ie,Se,qe,rt){this._scrollDispatcher=ie,this._ngZone=Se,this._viewportRuler=qe,this._config=rt,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(ie){this._overlayRef=ie}enable(){if(this._scrollSubscription)return;const ie=this._scrollDispatcher.scrolled(0).pipe((0,Re.p)(Se=>!Se||!this._overlayRef.overlayElement.contains(Se.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=ie.subscribe(()=>{const Se=this._viewportRuler.getViewportScrollPosition().top;Math.abs(Se-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=ie.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class wt{enable(){}disable(){}attach(){}}function fn(Bt,ie){return ie.some(Se=>Bt.bottom<Se.top||Bt.top>Se.bottom||Bt.right<Se.left||Bt.left>Se.right)}function Xt(Bt,ie){return ie.some(Se=>Bt.top<Se.top||Bt.bottom>Se.bottom||Bt.left<Se.left||Bt.right>Se.right)}class ke{constructor(ie,Se,qe,rt){this._scrollDispatcher=ie,this._viewportRuler=Se,this._ngZone=qe,this._config=rt,this._scrollSubscription=null}attach(ie){this._overlayRef=ie}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const Se=this._overlayRef.overlayElement.getBoundingClientRect(),{width:qe,height:rt}=this._viewportRuler.getViewportSize();fn(Se,[{width:qe,height:rt,bottom:rt,right:qe,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let Ge=(()=>{class Bt{constructor(Se,qe,rt,bt){this._scrollDispatcher=Se,this._viewportRuler=qe,this._ngZone=rt,this.noop=()=>new wt,this.close=nt=>new Ot(this._scrollDispatcher,this._ngZone,this._viewportRuler,nt),this.block=()=>new mt(this._viewportRuler,this._document),this.reposition=nt=>new ke(this._scrollDispatcher,this._viewportRuler,this._ngZone,nt),this._document=bt}static{this.\u0275fac=function(qe){return new(qe||Bt)(ge.KVO(f.R),ge.KVO(f.Xj),ge.KVO(ge.SKi),ge.KVO(G.qQ))}}static{this.\u0275prov=ge.jDH({token:Bt,factory:Bt.\u0275fac,providedIn:"root"})}}return Bt})();class je{constructor(ie){if(this.scrollStrategy=new wt,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,ie){const Se=Object.keys(ie);for(const qe of Se)void 0!==ie[qe]&&(this[qe]=ie[qe])}}}class Tt{constructor(ie,Se){this.connectionPair=ie,this.scrollableViewProperties=Se}}let _n=(()=>{class Bt{constructor(Se){this._attachedOverlays=[],this._document=Se}ngOnDestroy(){this.detach()}add(Se){this.remove(Se),this._attachedOverlays.push(Se)}remove(Se){const qe=this._attachedOverlays.indexOf(Se);qe>-1&&this._attachedOverlays.splice(qe,1),0===this._attachedOverlays.length&&this.detach()}static{this.\u0275fac=function(qe){return new(qe||Bt)(ge.KVO(G.qQ))}}static{this.\u0275prov=ge.jDH({token:Bt,factory:Bt.\u0275fac,providedIn:"root"})}}return Bt})(),jn=(()=>{class Bt extends _n{constructor(Se,qe){super(Se),this._ngZone=qe,this._keydownListener=rt=>{const bt=this._attachedOverlays;for(let nt=bt.length-1;nt>-1;nt--)if(bt[nt]._keydownEvents.observers.length>0){const Fe=bt[nt]._keydownEvents;this._ngZone?this._ngZone.run(()=>Fe.next(rt)):Fe.next(rt);break}}}add(Se){super.add(Se),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}static{this.\u0275fac=function(qe){return new(qe||Bt)(ge.KVO(G.qQ),ge.KVO(ge.SKi,8))}}static{this.\u0275prov=ge.jDH({token:Bt,factory:Bt.\u0275fac,providedIn:"root"})}}return Bt})(),zt=(()=>{class Bt extends _n{constructor(Se,qe,rt){super(Se),this._platform=qe,this._ngZone=rt,this._cursorStyleIsSet=!1,this._pointerDownListener=bt=>{this._pointerDownEventTarget=(0,re.Fb)(bt)},this._clickListener=bt=>{const nt=(0,re.Fb)(bt),Fe="click"===bt.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:nt;this._pointerDownEventTarget=null;const Ae=this._attachedOverlays.slice();for(let st=Ae.length-1;st>-1;st--){const it=Ae[st];if(it._outsidePointerEvents.observers.length<1||!it.hasAttached())continue;if(it.overlayElement.contains(nt)||it.overlayElement.contains(Fe))break;const ut=it._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>ut.next(bt)):ut.next(bt)}}}add(Se){if(super.add(Se),!this._isAttached){const qe=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(qe)):this._addEventListeners(qe),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=qe.style.cursor,qe.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const Se=this._document.body;Se.removeEventListener("pointerdown",this._pointerDownListener,!0),Se.removeEventListener("click",this._clickListener,!0),Se.removeEventListener("auxclick",this._clickListener,!0),Se.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(Se.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(Se){Se.addEventListener("pointerdown",this._pointerDownListener,!0),Se.addEventListener("click",this._clickListener,!0),Se.addEventListener("auxclick",this._clickListener,!0),Se.addEventListener("contextmenu",this._clickListener,!0)}static{this.\u0275fac=function(qe){return new(qe||Bt)(ge.KVO(G.qQ),ge.KVO(re.OD),ge.KVO(ge.SKi,8))}}static{this.\u0275prov=ge.jDH({token:Bt,factory:Bt.\u0275fac,providedIn:"root"})}}return Bt})(),Tn=(()=>{class Bt{constructor(Se,qe){this._platform=qe,this._document=Se}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const Se="cdk-overlay-container";if(this._platform.isBrowser||(0,re.v8)()){const rt=this._document.querySelectorAll(`.${Se}[platform="server"], .${Se}[platform="test"]`);for(let bt=0;bt<rt.length;bt++)rt[bt].remove()}const qe=this._document.createElement("div");qe.classList.add(Se),(0,re.v8)()?qe.setAttribute("platform","test"):this._platform.isBrowser||qe.setAttribute("platform","server"),this._document.body.appendChild(qe),this._containerElement=qe}static{this.\u0275fac=function(qe){return new(qe||Bt)(ge.KVO(G.qQ),ge.KVO(re.OD))}}static{this.\u0275prov=ge.jDH({token:Bt,factory:Bt.\u0275fac,providedIn:"root"})}}return Bt})();class rn{constructor(ie,Se,qe,rt,bt,nt,Fe,Ae,st,it=!1){this._portalOutlet=ie,this._host=Se,this._pane=qe,this._config=rt,this._ngZone=bt,this._keyboardDispatcher=nt,this._document=Fe,this._location=Ae,this._outsideClickDispatcher=st,this._animationsDisabled=it,this._backdropElement=null,this._backdropClick=new de.B,this._attachments=new de.B,this._detachments=new de.B,this._locationChanges=Pe.yU.EMPTY,this._backdropClickHandler=ut=>this._backdropClick.next(ut),this._backdropTransitionendHandler=ut=>{this._disposeBackdrop(ut.target)},this._keydownEvents=new de.B,this._outsidePointerEvents=new de.B,rt.scrollStrategy&&(this._scrollStrategy=rt.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=rt.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(ie){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const Se=this._portalOutlet.attach(ie);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe((0,Oe.s)(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof Se?.onDestroy&&Se.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),Se}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const ie=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),ie}dispose(){const ie=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,ie&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(ie){ie!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=ie,this.hasAttached()&&(ie.attach(this),this.updatePosition()))}updateSize(ie){this._config={...this._config,...ie},this._updateElementSize()}setDirection(ie){this._config={...this._config,direction:ie},this._updateElementDirection()}addPanelClass(ie){this._pane&&this._toggleClasses(this._pane,ie,!0)}removePanelClass(ie){this._pane&&this._toggleClasses(this._pane,ie,!1)}getDirection(){const ie=this._config.direction;return ie?"string"==typeof ie?ie:ie.value:"ltr"}updateScrollStrategy(ie){ie!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=ie,this.hasAttached()&&(ie.attach(this),ie.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const ie=this._pane.style;ie.width=(0,le.a1)(this._config.width),ie.height=(0,le.a1)(this._config.height),ie.minWidth=(0,le.a1)(this._config.minWidth),ie.minHeight=(0,le.a1)(this._config.minHeight),ie.maxWidth=(0,le.a1)(this._config.maxWidth),ie.maxHeight=(0,le.a1)(this._config.maxHeight)}_togglePointerEvents(ie){this._pane.style.pointerEvents=ie?"":"none"}_attachBackdrop(){const ie="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(ie)})}):this._backdropElement.classList.add(ie)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const ie=this._backdropElement;if(ie){if(this._animationsDisabled)return void this._disposeBackdrop(ie);ie.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{ie.addEventListener("transitionend",this._backdropTransitionendHandler)}),ie.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(ie)},500))}}_toggleClasses(ie,Se,qe){const rt=(0,le.FG)(Se||[]).filter(bt=>!!bt);rt.length&&(qe?ie.classList.add(...rt):ie.classList.remove(...rt))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const ie=this._ngZone.onStable.pipe((0,he.Q)((0,Ue.h)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),ie.unsubscribe())})})}_disposeScrollStrategy(){const ie=this._scrollStrategy;ie&&(ie.disable(),ie.detach&&ie.detach())}_disposeBackdrop(ie){ie&&(ie.removeEventListener("click",this._backdropClickHandler),ie.removeEventListener("transitionend",this._backdropTransitionendHandler),ie.remove(),this._backdropElement===ie&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const Mn="cdk-overlay-connected-position-bounding-box",Qt=/([A-Za-z%]+)$/;class Cn{get positions(){return this._preferredPositions}constructor(ie,Se,qe,rt,bt){this._viewportRuler=Se,this._document=qe,this._platform=rt,this._overlayContainer=bt,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new de.B,this._resizeSubscription=Pe.yU.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(ie)}attach(ie){this._validatePositions(),ie.hostElement.classList.add(Mn),this._overlayRef=ie,this._boundingBox=ie.hostElement,this._pane=ie.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const ie=this._originRect,Se=this._overlayRect,qe=this._viewportRect,rt=this._containerRect,bt=[];let nt;for(let Fe of this._preferredPositions){let Ae=this._getOriginPoint(ie,rt,Fe),st=this._getOverlayPoint(Ae,Se,Fe),it=this._getOverlayFit(st,Se,qe,Fe);if(it.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(Fe,Ae);this._canFitWithFlexibleDimensions(it,st,qe)?bt.push({position:Fe,origin:Ae,overlayRect:Se,boundingBoxRect:this._calculateBoundingBoxRect(Ae,Fe)}):(!nt||nt.overlayFit.visibleArea<it.visibleArea)&&(nt={overlayFit:it,overlayPoint:st,originPoint:Ae,position:Fe,overlayRect:Se})}if(bt.length){let Fe=null,Ae=-1;for(const st of bt){const it=st.boundingBoxRect.width*st.boundingBoxRect.height*(st.position.weight||1);it>Ae&&(Ae=it,Fe=st)}return this._isPushed=!1,void this._applyPosition(Fe.position,Fe.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(nt.position,nt.originPoint);this._applyPosition(nt.position,nt.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Yt(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(Mn),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const ie=this._lastPosition;if(ie){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const Se=this._getOriginPoint(this._originRect,this._containerRect,ie);this._applyPosition(ie,Se)}else this.apply()}withScrollableContainers(ie){return this._scrollables=ie,this}withPositions(ie){return this._preferredPositions=ie,-1===ie.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(ie){return this._viewportMargin=ie,this}withFlexibleDimensions(ie=!0){return this._hasFlexibleDimensions=ie,this}withGrowAfterOpen(ie=!0){return this._growAfterOpen=ie,this}withPush(ie=!0){return this._canPush=ie,this}withLockedPosition(ie=!0){return this._positionLocked=ie,this}setOrigin(ie){return this._origin=ie,this}withDefaultOffsetX(ie){return this._offsetX=ie,this}withDefaultOffsetY(ie){return this._offsetY=ie,this}withTransformOriginOn(ie){return this._transformOriginSelector=ie,this}_getOriginPoint(ie,Se,qe){let rt,bt;if("center"==qe.originX)rt=ie.left+ie.width/2;else{const nt=this._isRtl()?ie.right:ie.left,Fe=this._isRtl()?ie.left:ie.right;rt="start"==qe.originX?nt:Fe}return Se.left<0&&(rt-=Se.left),bt="center"==qe.originY?ie.top+ie.height/2:"top"==qe.originY?ie.top:ie.bottom,Se.top<0&&(bt-=Se.top),{x:rt,y:bt}}_getOverlayPoint(ie,Se,qe){let rt,bt;return rt="center"==qe.overlayX?-Se.width/2:"start"===qe.overlayX?this._isRtl()?-Se.width:0:this._isRtl()?0:-Se.width,bt="center"==qe.overlayY?-Se.height/2:"top"==qe.overlayY?0:-Se.height,{x:ie.x+rt,y:ie.y+bt}}_getOverlayFit(ie,Se,qe,rt){const bt=Xe(Se);let{x:nt,y:Fe}=ie,Ae=this._getOffset(rt,"x"),st=this._getOffset(rt,"y");Ae&&(nt+=Ae),st&&(Fe+=st);let Un=0-Fe,Dt=Fe+bt.height-qe.height,Kn=this._subtractOverflows(bt.width,0-nt,nt+bt.width-qe.width),on=this._subtractOverflows(bt.height,Un,Dt),Zt=Kn*on;return{visibleArea:Zt,isCompletelyWithinViewport:bt.width*bt.height===Zt,fitsInViewportVertically:on===bt.height,fitsInViewportHorizontally:Kn==bt.width}}_canFitWithFlexibleDimensions(ie,Se,qe){if(this._hasFlexibleDimensions){const rt=qe.bottom-Se.y,bt=qe.right-Se.x,nt=Le(this._overlayRef.getConfig().minHeight),Fe=Le(this._overlayRef.getConfig().minWidth);return(ie.fitsInViewportVertically||null!=nt&&nt<=rt)&&(ie.fitsInViewportHorizontally||null!=Fe&&Fe<=bt)}return!1}_pushOverlayOnScreen(ie,Se,qe){if(this._previousPushAmount&&this._positionLocked)return{x:ie.x+this._previousPushAmount.x,y:ie.y+this._previousPushAmount.y};const rt=Xe(Se),bt=this._viewportRect,nt=Math.max(ie.x+rt.width-bt.width,0),Fe=Math.max(ie.y+rt.height-bt.height,0),Ae=Math.max(bt.top-qe.top-ie.y,0),st=Math.max(bt.left-qe.left-ie.x,0);let it=0,ut=0;return it=rt.width<=bt.width?st||-nt:ie.x<this._viewportMargin?bt.left-qe.left-ie.x:0,ut=rt.height<=bt.height?Ae||-Fe:ie.y<this._viewportMargin?bt.top-qe.top-ie.y:0,this._previousPushAmount={x:it,y:ut},{x:ie.x+it,y:ie.y+ut}}_applyPosition(ie,Se){if(this._setTransformOrigin(ie),this._setOverlayElementStyles(Se,ie),this._setBoundingBoxStyles(Se,ie),ie.panelClass&&this._addPanelClasses(ie.panelClass),this._lastPosition=ie,this._positionChanges.observers.length){const qe=this._getScrollVisibility(),rt=new Tt(ie,qe);this._positionChanges.next(rt)}this._isInitialRender=!1}_setTransformOrigin(ie){if(!this._transformOriginSelector)return;const Se=this._boundingBox.querySelectorAll(this._transformOriginSelector);let qe,rt=ie.overlayY;qe="center"===ie.overlayX?"center":this._isRtl()?"start"===ie.overlayX?"right":"left":"start"===ie.overlayX?"left":"right";for(let bt=0;bt<Se.length;bt++)Se[bt].style.transformOrigin=`${qe} ${rt}`}_calculateBoundingBoxRect(ie,Se){const qe=this._viewportRect,rt=this._isRtl();let bt,nt,Fe,it,ut,Un;if("top"===Se.overlayY)nt=ie.y,bt=qe.height-nt+this._viewportMargin;else if("bottom"===Se.overlayY)Fe=qe.height-ie.y+2*this._viewportMargin,bt=qe.height-Fe+this._viewportMargin;else{const Dt=Math.min(qe.bottom-ie.y+qe.top,ie.y),Kn=this._lastBoundingBoxSize.height;bt=2*Dt,nt=ie.y-Dt,bt>Kn&&!this._isInitialRender&&!this._growAfterOpen&&(nt=ie.y-Kn/2)}if("end"===Se.overlayX&&!rt||"start"===Se.overlayX&&rt)Un=qe.width-ie.x+this._viewportMargin,it=ie.x-this._viewportMargin;else if("start"===Se.overlayX&&!rt||"end"===Se.overlayX&&rt)ut=ie.x,it=qe.right-ie.x;else{const Dt=Math.min(qe.right-ie.x+qe.left,ie.x),Kn=this._lastBoundingBoxSize.width;it=2*Dt,ut=ie.x-Dt,it>Kn&&!this._isInitialRender&&!this._growAfterOpen&&(ut=ie.x-Kn/2)}return{top:nt,left:ut,bottom:Fe,right:Un,width:it,height:bt}}_setBoundingBoxStyles(ie,Se){const qe=this._calculateBoundingBoxRect(ie,Se);!this._isInitialRender&&!this._growAfterOpen&&(qe.height=Math.min(qe.height,this._lastBoundingBoxSize.height),qe.width=Math.min(qe.width,this._lastBoundingBoxSize.width));const rt={};if(this._hasExactPosition())rt.top=rt.left="0",rt.bottom=rt.right=rt.maxHeight=rt.maxWidth="",rt.width=rt.height="100%";else{const bt=this._overlayRef.getConfig().maxHeight,nt=this._overlayRef.getConfig().maxWidth;rt.height=(0,le.a1)(qe.height),rt.top=(0,le.a1)(qe.top),rt.bottom=(0,le.a1)(qe.bottom),rt.width=(0,le.a1)(qe.width),rt.left=(0,le.a1)(qe.left),rt.right=(0,le.a1)(qe.right),rt.alignItems="center"===Se.overlayX?"center":"end"===Se.overlayX?"flex-end":"flex-start",rt.justifyContent="center"===Se.overlayY?"center":"bottom"===Se.overlayY?"flex-end":"flex-start",bt&&(rt.maxHeight=(0,le.a1)(bt)),nt&&(rt.maxWidth=(0,le.a1)(nt))}this._lastBoundingBoxSize=qe,Yt(this._boundingBox.style,rt)}_resetBoundingBoxStyles(){Yt(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Yt(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(ie,Se){const qe={},rt=this._hasExactPosition(),bt=this._hasFlexibleDimensions,nt=this._overlayRef.getConfig();if(rt){const it=this._viewportRuler.getViewportScrollPosition();Yt(qe,this._getExactOverlayY(Se,ie,it)),Yt(qe,this._getExactOverlayX(Se,ie,it))}else qe.position="static";let Fe="",Ae=this._getOffset(Se,"x"),st=this._getOffset(Se,"y");Ae&&(Fe+=`translateX(${Ae}px) `),st&&(Fe+=`translateY(${st}px)`),qe.transform=Fe.trim(),nt.maxHeight&&(rt?qe.maxHeight=(0,le.a1)(nt.maxHeight):bt&&(qe.maxHeight="")),nt.maxWidth&&(rt?qe.maxWidth=(0,le.a1)(nt.maxWidth):bt&&(qe.maxWidth="")),Yt(this._pane.style,qe)}_getExactOverlayY(ie,Se,qe){let rt={top:"",bottom:""},bt=this._getOverlayPoint(Se,this._overlayRect,ie);return this._isPushed&&(bt=this._pushOverlayOnScreen(bt,this._overlayRect,qe)),"bottom"===ie.overlayY?rt.bottom=this._document.documentElement.clientHeight-(bt.y+this._overlayRect.height)+"px":rt.top=(0,le.a1)(bt.y),rt}_getExactOverlayX(ie,Se,qe){let nt,rt={left:"",right:""},bt=this._getOverlayPoint(Se,this._overlayRect,ie);return this._isPushed&&(bt=this._pushOverlayOnScreen(bt,this._overlayRect,qe)),nt=this._isRtl()?"end"===ie.overlayX?"left":"right":"end"===ie.overlayX?"right":"left","right"===nt?rt.right=this._document.documentElement.clientWidth-(bt.x+this._overlayRect.width)+"px":rt.left=(0,le.a1)(bt.x),rt}_getScrollVisibility(){const ie=this._getOriginRect(),Se=this._pane.getBoundingClientRect(),qe=this._scrollables.map(rt=>rt.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:Xt(ie,qe),isOriginOutsideView:fn(ie,qe),isOverlayClipped:Xt(Se,qe),isOverlayOutsideView:fn(Se,qe)}}_subtractOverflows(ie,...Se){return Se.reduce((qe,rt)=>qe-Math.max(rt,0),ie)}_getNarrowedViewportRect(){const ie=this._document.documentElement.clientWidth,Se=this._document.documentElement.clientHeight,qe=this._viewportRuler.getViewportScrollPosition();return{top:qe.top+this._viewportMargin,left:qe.left+this._viewportMargin,right:qe.left+ie-this._viewportMargin,bottom:qe.top+Se-this._viewportMargin,width:ie-2*this._viewportMargin,height:Se-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(ie,Se){return"x"===Se?null==ie.offsetX?this._offsetX:ie.offsetX:null==ie.offsetY?this._offsetY:ie.offsetY}_validatePositions(){}_addPanelClasses(ie){this._pane&&(0,le.FG)(ie).forEach(Se=>{""!==Se&&-1===this._appliedPanelClasses.indexOf(Se)&&(this._appliedPanelClasses.push(Se),this._pane.classList.add(Se))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(ie=>{this._pane.classList.remove(ie)}),this._appliedPanelClasses=[])}_getOriginRect(){const ie=this._origin;if(ie instanceof ge.aKT)return ie.nativeElement.getBoundingClientRect();if(ie instanceof Element)return ie.getBoundingClientRect();const Se=ie.width||0,qe=ie.height||0;return{top:ie.y,bottom:ie.y+qe,left:ie.x,right:ie.x+Se,height:qe,width:Se}}}function Yt(Bt,ie){for(let Se in ie)ie.hasOwnProperty(Se)&&(Bt[Se]=ie[Se]);return Bt}function Le(Bt){if("number"!=typeof Bt&&null!=Bt){const[ie,Se]=Bt.split(Qt);return Se&&"px"!==Se?null:parseFloat(ie)}return Bt||null}function Xe(Bt){return{top:Math.floor(Bt.top),right:Math.floor(Bt.right),bottom:Math.floor(Bt.bottom),left:Math.floor(Bt.left),width:Math.floor(Bt.width),height:Math.floor(Bt.height)}}const Lt="cdk-global-overlay-wrapper";class Qe{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(ie){const Se=ie.getConfig();this._overlayRef=ie,this._width&&!Se.width&&ie.updateSize({width:this._width}),this._height&&!Se.height&&ie.updateSize({height:this._height}),ie.hostElement.classList.add(Lt),this._isDisposed=!1}top(ie=""){return this._bottomOffset="",this._topOffset=ie,this._alignItems="flex-start",this}left(ie=""){return this._xOffset=ie,this._xPosition="left",this}bottom(ie=""){return this._topOffset="",this._bottomOffset=ie,this._alignItems="flex-end",this}right(ie=""){return this._xOffset=ie,this._xPosition="right",this}start(ie=""){return this._xOffset=ie,this._xPosition="start",this}end(ie=""){return this._xOffset=ie,this._xPosition="end",this}width(ie=""){return this._overlayRef?this._overlayRef.updateSize({width:ie}):this._width=ie,this}height(ie=""){return this._overlayRef?this._overlayRef.updateSize({height:ie}):this._height=ie,this}centerHorizontally(ie=""){return this.left(ie),this._xPosition="center",this}centerVertically(ie=""){return this.top(ie),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const ie=this._overlayRef.overlayElement.style,Se=this._overlayRef.hostElement.style,qe=this._overlayRef.getConfig(),{width:rt,height:bt,maxWidth:nt,maxHeight:Fe}=qe,Ae=!("100%"!==rt&&"100vw"!==rt||nt&&"100%"!==nt&&"100vw"!==nt),st=!("100%"!==bt&&"100vh"!==bt||Fe&&"100%"!==Fe&&"100vh"!==Fe),it=this._xPosition,ut=this._xOffset,Un="rtl"===this._overlayRef.getConfig().direction;let Dt="",Kn="",on="";Ae?on="flex-start":"center"===it?(on="center",Un?Kn=ut:Dt=ut):Un?"left"===it||"end"===it?(on="flex-end",Dt=ut):("right"===it||"start"===it)&&(on="flex-start",Kn=ut):"left"===it||"start"===it?(on="flex-start",Dt=ut):("right"===it||"end"===it)&&(on="flex-end",Kn=ut),ie.position=this._cssPosition,ie.marginLeft=Ae?"0":Dt,ie.marginTop=st?"0":this._topOffset,ie.marginBottom=this._bottomOffset,ie.marginRight=Ae?"0":Kn,Se.justifyContent=on,Se.alignItems=st?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const ie=this._overlayRef.overlayElement.style,Se=this._overlayRef.hostElement,qe=Se.style;Se.classList.remove(Lt),qe.justifyContent=qe.alignItems=ie.marginTop=ie.marginBottom=ie.marginLeft=ie.marginRight=ie.position="",this._overlayRef=null,this._isDisposed=!0}}let pt=(()=>{class Bt{constructor(Se,qe,rt,bt){this._viewportRuler=Se,this._document=qe,this._platform=rt,this._overlayContainer=bt}global(){return new Qe}flexibleConnectedTo(Se){return new Cn(Se,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static{this.\u0275fac=function(qe){return new(qe||Bt)(ge.KVO(f.Xj),ge.KVO(G.qQ),ge.KVO(re.OD),ge.KVO(Tn))}}static{this.\u0275prov=ge.jDH({token:Bt,factory:Bt.\u0275fac,providedIn:"root"})}}return Bt})(),Ft=0,Hn=(()=>{class Bt{constructor(Se,qe,rt,bt,nt,Fe,Ae,st,it,ut,Un,Dt){this.scrollStrategies=Se,this._overlayContainer=qe,this._componentFactoryResolver=rt,this._positionBuilder=bt,this._keyboardDispatcher=nt,this._injector=Fe,this._ngZone=Ae,this._document=st,this._directionality=it,this._location=ut,this._outsideClickDispatcher=Un,this._animationsModuleType=Dt}create(Se){const qe=this._createHostElement(),rt=this._createPaneElement(qe),bt=this._createPortalOutlet(rt),nt=new je(Se);return nt.direction=nt.direction||this._directionality.value,new rn(bt,qe,rt,nt,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(Se){const qe=this._document.createElement("div");return qe.id="cdk-overlay-"+Ft++,qe.classList.add("cdk-overlay-pane"),Se.appendChild(qe),qe}_createHostElement(){const Se=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(Se),Se}_createPortalOutlet(Se){return this._appRef||(this._appRef=this._injector.get(ge.o8S)),new te.aI(Se,this._componentFactoryResolver,this._appRef,this._injector,this._document)}static{this.\u0275fac=function(qe){return new(qe||Bt)(ge.KVO(Ge),ge.KVO(Tn),ge.KVO(ge.OM3),ge.KVO(pt),ge.KVO(jn),ge.KVO(ge.zZn),ge.KVO(ge.SKi),ge.KVO(G.qQ),ge.KVO(fe.dS),ge.KVO(G.aZ),ge.KVO(zt),ge.KVO(ge.bc$,8))}}static{this.\u0275prov=ge.jDH({token:Bt,factory:Bt.\u0275fac,providedIn:"root"})}}return Bt})();const Yn={provide:new ge.nKC("cdk-connected-overlay-scroll-strategy"),deps:[Hn],useFactory:function Sn(Bt){return()=>Bt.scrollStrategies.reposition()}};let Vr=(()=>{class Bt{static{this.\u0275fac=function(qe){return new(qe||Bt)}}static{this.\u0275mod=ge.$C({type:Bt})}static{this.\u0275inj=ge.G2t({providers:[Hn,Yn],imports:[fe.jI,te.jc,f.E9,f.E9]})}}return Bt})()},6860:(an,tt,L)=>{L.d(tt,{BQ:()=>de,CZ:()=>ue,Fb:()=>Xt,KT:()=>wt,OD:()=>le,v8:()=>ke,vc:()=>fn});var f=L(7705),G=L(177);let ge;try{ge=typeof Intl<"u"&&Intl.v8BreakIterator}catch{ge=!1}let fe,Ue,Pt,le=(()=>{class Ge{constructor($e){this._platformId=$e,this.isBrowser=this._platformId?(0,G.UE)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!ge)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static{this.\u0275fac=function(_t){return new(_t||Ge)(f.KVO(f.Agw))}}static{this.\u0275prov=f.jDH({token:Ge,factory:Ge.\u0275fac,providedIn:"root"})}}return Ge})();function de(Ge){return function te(){if(null==fe&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>fe=!0}))}finally{fe=fe||!1}return fe}()?Ge:!!Ge.capture}function ue(){if(null==Ue){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Ue=!1,Ue;if("scrollBehavior"in document.documentElement.style)Ue=!0;else{const Ge=Element.prototype.scrollTo;Ue=!!Ge&&!/\{\s*\[native code\]\s*\}/.test(Ge.toString())}}return Ue}function wt(Ge){if(function Ot(){if(null==Pt){const Ge=typeof document<"u"?document.head:null;Pt=!(!Ge||!Ge.createShadowRoot&&!Ge.attachShadow)}return Pt}()){const je=Ge.getRootNode?Ge.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&je instanceof ShadowRoot)return je}return null}function fn(){let Ge=typeof document<"u"&&document?document.activeElement:null;for(;Ge&&Ge.shadowRoot;){const je=Ge.shadowRoot.activeElement;if(je===Ge)break;Ge=je}return Ge}function Xt(Ge){return Ge.composedPath?Ge.composedPath()[0]:Ge.target}function ke(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}},6939:(an,tt,L)=>{L.d(tt,{A8:()=>te,I3:()=>fn,VA:()=>de,aI:()=>mt,jc:()=>ke,lb:()=>Ue});var f=L(7705),G=L(177);class fe{attach($e){return this._attachedHost=$e,$e.attach(this)}detach(){let $e=this._attachedHost;null!=$e&&(this._attachedHost=null,$e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost($e){this._attachedHost=$e}}class te extends fe{constructor($e,_t,Tt,hn,gn){super(),this.component=$e,this.viewContainerRef=_t,this.injector=Tt,this.componentFactoryResolver=hn,this.projectableNodes=gn}}class de extends fe{constructor($e,_t,Tt,hn){super(),this.templateRef=$e,this.viewContainerRef=_t,this.context=Tt,this.injector=hn}get origin(){return this.templateRef.elementRef}attach($e,_t=this.context){return this.context=_t,super.attach($e)}detach(){return this.context=void 0,super.detach()}}class Pe extends fe{constructor($e){super(),this.element=$e instanceof f.aKT?$e.nativeElement:$e}}class Ue{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach($e){return $e instanceof te?(this._attachedPortal=$e,this.attachComponentPortal($e)):$e instanceof de?(this._attachedPortal=$e,this.attachTemplatePortal($e)):this.attachDomPortal&&$e instanceof Pe?(this._attachedPortal=$e,this.attachDomPortal($e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn($e){this._disposeFn=$e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class mt extends Ue{constructor($e,_t,Tt,hn,gn){super(),this.outletElement=$e,this._componentFactoryResolver=_t,this._appRef=Tt,this._defaultInjector=hn,this.attachDomPortal=_n=>{const jn=_n.element,zt=this._document.createComment("dom-portal");jn.parentNode.insertBefore(zt,jn),this.outletElement.appendChild(jn),this._attachedPortal=_n,super.setDisposeFn(()=>{zt.parentNode&&zt.parentNode.replaceChild(jn,zt)})},this._document=gn}attachComponentPortal($e){const Tt=($e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory($e.component);let hn;return $e.viewContainerRef?(hn=$e.viewContainerRef.createComponent(Tt,$e.viewContainerRef.length,$e.injector||$e.viewContainerRef.injector,$e.projectableNodes||void 0),this.setDisposeFn(()=>hn.destroy())):(hn=Tt.create($e.injector||this._defaultInjector||f.zZn.NULL),this._appRef.attachView(hn.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(hn.hostView),hn.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(hn)),this._attachedPortal=$e,hn}attachTemplatePortal($e){let _t=$e.viewContainerRef,Tt=_t.createEmbeddedView($e.templateRef,$e.context,{injector:$e.injector});return Tt.rootNodes.forEach(hn=>this.outletElement.appendChild(hn)),Tt.detectChanges(),this.setDisposeFn(()=>{let hn=_t.indexOf(Tt);-1!==hn&&_t.remove(hn)}),this._attachedPortal=$e,Tt}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode($e){return $e.hostView.rootNodes[0]}}let fn=(()=>{class je extends Ue{constructor(_t,Tt,hn){super(),this._componentFactoryResolver=_t,this._viewContainerRef=Tt,this._isInitialized=!1,this.attached=new f.bkB,this.attachDomPortal=gn=>{const _n=gn.element,jn=this._document.createComment("dom-portal");gn.setAttachedHost(this),_n.parentNode.insertBefore(jn,_n),this._getRootNode().appendChild(_n),this._attachedPortal=gn,super.setDisposeFn(()=>{jn.parentNode&&jn.parentNode.replaceChild(_n,jn)})},this._document=hn}get portal(){return this._attachedPortal}set portal(_t){this.hasAttached()&&!_t&&!this._isInitialized||(this.hasAttached()&&super.detach(),_t&&super.attach(_t),this._attachedPortal=_t||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(_t){_t.setAttachedHost(this);const Tt=null!=_t.viewContainerRef?_t.viewContainerRef:this._viewContainerRef,gn=(_t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(_t.component),_n=Tt.createComponent(gn,Tt.length,_t.injector||Tt.injector,_t.projectableNodes||void 0);return Tt!==this._viewContainerRef&&this._getRootNode().appendChild(_n.hostView.rootNodes[0]),super.setDisposeFn(()=>_n.destroy()),this._attachedPortal=_t,this._attachedRef=_n,this.attached.emit(_n),_n}attachTemplatePortal(_t){_t.setAttachedHost(this);const Tt=this._viewContainerRef.createEmbeddedView(_t.templateRef,_t.context,{injector:_t.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=_t,this._attachedRef=Tt,this.attached.emit(Tt),Tt}_getRootNode(){const _t=this._viewContainerRef.element.nativeElement;return _t.nodeType===_t.ELEMENT_NODE?_t:_t.parentNode}static{this.\u0275fac=function(Tt){return new(Tt||je)(f.rXU(f.OM3),f.rXU(f.c1b),f.rXU(G.qQ))}}static{this.\u0275dir=f.FsC({type:je,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[f.Vt3]})}}return je})(),ke=(()=>{class je{static{this.\u0275fac=function(Tt){return new(Tt||je)}}static{this.\u0275mod=f.$C({type:je})}static{this.\u0275inj=f.G2t({})}}return je})()},3980:(an,tt,L)=>{L.d(tt,{Gj:()=>rt,R:()=>Hn,E9:()=>bt,Xj:()=>dt});var f=L(4085),G=L(7705),ge=L(1413),le=L(7673),re=L(1985),Re=L(3726),Oe=L(6780),he=L(8359);const fe={schedule(nt){let Fe=requestAnimationFrame,Ae=cancelAnimationFrame;const{delegate:st}=fe;st&&(Fe=st.requestAnimationFrame,Ae=st.cancelAnimationFrame);const it=Fe(ut=>{Ae=void 0,nt(ut)});return new he.yU(()=>Ae?.(it))},requestAnimationFrame(...nt){const{delegate:Fe}=fe;return(Fe?.requestAnimationFrame||requestAnimationFrame)(...nt)},cancelAnimationFrame(...nt){const{delegate:Fe}=fe;return(Fe?.cancelAnimationFrame||cancelAnimationFrame)(...nt)},delegate:void 0};var de=L(3604);new class Pe extends de.q{flush(Fe){let Ae;this._active=!0,Fe?Ae=Fe.id:(Ae=this._scheduled,this._scheduled=void 0);const{actions:st}=this;let it;Fe=Fe||st.shift();do{if(it=Fe.execute(Fe.state,Fe.delay))break}while((Fe=st[0])&&Fe.id===Ae&&st.shift());if(this._active=!1,it){for(;(Fe=st[0])&&Fe.id===Ae&&st.shift();)Fe.unsubscribe();throw it}}}(class te extends Oe.R{constructor(Fe,Ae){super(Fe,Ae),this.scheduler=Fe,this.work=Ae}requestAsyncId(Fe,Ae,st=0){return null!==st&&st>0?super.requestAsyncId(Fe,Ae,st):(Fe.actions.push(this),Fe._scheduled||(Fe._scheduled=fe.requestAnimationFrame(()=>Fe.flush(void 0))))}recycleAsyncId(Fe,Ae,st=0){var it;if(null!=st?st>0:this.delay>0)return super.recycleAsyncId(Fe,Ae,st);const{actions:ut}=Fe;null!=Ae&&Ae===Fe._scheduled&&(null===(it=ut[ut.length-1])||void 0===it?void 0:it.id)!==Ae&&(fe.cancelAnimationFrame(Ae),Fe._scheduled=void 0)}});let Pt,mt=1;const Ot={};function wt(nt){return nt in Ot&&(delete Ot[nt],!0)}const fn={setImmediate(nt){const Fe=mt++;return Ot[Fe]=!0,Pt||(Pt=Promise.resolve()),Pt.then(()=>wt(Fe)&&nt()),Fe},clearImmediate(nt){wt(nt)}},{setImmediate:ke,clearImmediate:Ge}=fn,je={setImmediate(...nt){const{delegate:Fe}=je;return(Fe?.setImmediate||ke)(...nt)},clearImmediate(nt){const{delegate:Fe}=je;return(Fe?.clearImmediate||Ge)(nt)},delegate:void 0};new class _t extends de.q{flush(Fe){this._active=!0;const Ae=this._scheduled;this._scheduled=void 0;const{actions:st}=this;let it;Fe=Fe||st.shift();do{if(it=Fe.execute(Fe.state,Fe.delay))break}while((Fe=st[0])&&Fe.id===Ae&&st.shift());if(this._active=!1,it){for(;(Fe=st[0])&&Fe.id===Ae&&st.shift();)Fe.unsubscribe();throw it}}}(class $e extends Oe.R{constructor(Fe,Ae){super(Fe,Ae),this.scheduler=Fe,this.work=Ae}requestAsyncId(Fe,Ae,st=0){return null!==st&&st>0?super.requestAsyncId(Fe,Ae,st):(Fe.actions.push(this),Fe._scheduled||(Fe._scheduled=je.setImmediate(Fe.flush.bind(Fe,void 0))))}recycleAsyncId(Fe,Ae,st=0){var it;if(null!=st?st>0:this.delay>0)return super.recycleAsyncId(Fe,Ae,st);const{actions:ut}=Fe;null!=Ae&&(null===(it=ut[ut.length-1])||void 0===it?void 0:it.id)!==Ae&&(je.clearImmediate(Ae),Fe._scheduled===Ae&&(Fe._scheduled=void 0))}});var gn=L(3236),_n=L(9974),jn=L(8750),zt=L(4360),rn=L(1584);function Mn(nt,Fe=gn.E){return function Tn(nt){return(0,_n.N)((Fe,Ae)=>{let st=!1,it=null,ut=null,Un=!1;const Dt=()=>{if(ut?.unsubscribe(),ut=null,st){st=!1;const on=it;it=null,Ae.next(on)}Un&&Ae.complete()},Kn=()=>{ut=null,Un&&Ae.complete()};Fe.subscribe((0,zt._)(Ae,on=>{st=!0,it=on,ut||(0,jn.Tg)(nt(on)).subscribe(ut=(0,zt._)(Ae,Dt,Kn))},()=>{Un=!0,(!st||!ut||ut.closed)&&Ae.complete()}))})}(()=>(0,rn.O)(nt,Fe))}var Qt=L(5964),Cn=L(6860),Yt=L(177),Le=L(8203);let Hn=(()=>{class nt{constructor(Ae,st,it){this._ngZone=Ae,this._platform=st,this._scrolled=new ge.B,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=it}register(Ae){this.scrollContainers.has(Ae)||this.scrollContainers.set(Ae,Ae.elementScrolled().subscribe(()=>this._scrolled.next(Ae)))}deregister(Ae){const st=this.scrollContainers.get(Ae);st&&(st.unsubscribe(),this.scrollContainers.delete(Ae))}scrolled(Ae=20){return this._platform.isBrowser?new re.c(st=>{this._globalSubscription||this._addGlobalListener();const it=Ae>0?this._scrolled.pipe(Mn(Ae)).subscribe(st):this._scrolled.subscribe(st);return this._scrolledCount++,()=>{it.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,le.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((Ae,st)=>this.deregister(st)),this._scrolled.complete()}ancestorScrolled(Ae,st){const it=this.getAncestorScrollContainers(Ae);return this.scrolled(st).pipe((0,Qt.p)(ut=>!ut||it.indexOf(ut)>-1))}getAncestorScrollContainers(Ae){const st=[];return this.scrollContainers.forEach((it,ut)=>{this._scrollableContainsElement(ut,Ae)&&st.push(ut)}),st}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(Ae,st){let it=(0,f.i8)(st),ut=Ae.getElementRef().nativeElement;do{if(it==ut)return!0}while(it=it.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{const Ae=this._getWindow();return(0,Re.R)(Ae.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}static{this.\u0275fac=function(st){return new(st||nt)(G.KVO(G.SKi),G.KVO(Cn.OD),G.KVO(Yt.qQ,8))}}static{this.\u0275prov=G.jDH({token:nt,factory:nt.\u0275fac,providedIn:"root"})}}return nt})(),dt=(()=>{class nt{constructor(Ae,st,it){this._platform=Ae,this._change=new ge.B,this._changeListener=ut=>{this._change.next(ut)},this._document=it,st.runOutsideAngular(()=>{if(Ae.isBrowser){const ut=this._getWindow();ut.addEventListener("resize",this._changeListener),ut.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const Ae=this._getWindow();Ae.removeEventListener("resize",this._changeListener),Ae.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const Ae={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),Ae}getViewportRect(){const Ae=this.getViewportScrollPosition(),{width:st,height:it}=this.getViewportSize();return{top:Ae.top,left:Ae.left,bottom:Ae.top+it,right:Ae.left+st,height:it,width:st}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const Ae=this._document,st=this._getWindow(),it=Ae.documentElement,ut=it.getBoundingClientRect();return{top:-ut.top||Ae.body.scrollTop||st.scrollY||it.scrollTop||0,left:-ut.left||Ae.body.scrollLeft||st.scrollX||it.scrollLeft||0}}change(Ae=20){return Ae>0?this._change.pipe(Mn(Ae)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const Ae=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:Ae.innerWidth,height:Ae.innerHeight}:{width:0,height:0}}static{this.\u0275fac=function(st){return new(st||nt)(G.KVO(Cn.OD),G.KVO(G.SKi),G.KVO(Yt.qQ,8))}}static{this.\u0275prov=G.jDH({token:nt,factory:nt.\u0275fac,providedIn:"root"})}}return nt})(),rt=(()=>{class nt{static{this.\u0275fac=function(st){return new(st||nt)}}static{this.\u0275mod=G.$C({type:nt})}static{this.\u0275inj=G.G2t({})}}return nt})(),bt=(()=>{class nt{static{this.\u0275fac=function(st){return new(st||nt)}}static{this.\u0275mod=G.$C({type:nt})}static{this.\u0275inj=G.G2t({imports:[Le.jI,rt,Le.jI,rt]})}}return nt})()},177:(an,tt,L)=>{L.d(tt,{AJ:()=>_r,MD:()=>Ui,N0:()=>so,QT:()=>ge,QX:()=>Yr,Sm:()=>mt,Sq:()=>Mr,UE:()=>Fo,VF:()=>re,Vy:()=>Po,Xr:()=>Ti,YU:()=>kn,ZD:()=>le,_b:()=>tn,aZ:()=>Ot,bT:()=>Lr,e1:()=>mc,fw:()=>Pt,hb:()=>Ue,hj:()=>he,oe:()=>Vn,qQ:()=>Re,ux:()=>wi,vh:()=>Ir});var f=L(7705);let G=null;function ge(){return G}function le(A){G||(G=A)}class re{}const Re=new f.nKC("DocumentToken");let Oe=(()=>{class A{historyGo(j){throw new Error("Not implemented")}static{this.\u0275fac=function(Q){return new(Q||A)}}static{this.\u0275prov=f.jDH({token:A,factory:function(){return(0,f.WQX)(fe)},providedIn:"platform"})}}return A})();const he=new f.nKC("Location Initialized");let fe=(()=>{class A extends Oe{constructor(){super(),this._doc=(0,f.WQX)(Re),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ge().getBaseHref(this._doc)}onPopState(j){const Q=ge().getGlobalEventTarget(this._doc,"window");return Q.addEventListener("popstate",j,!1),()=>Q.removeEventListener("popstate",j)}onHashChange(j){const Q=ge().getGlobalEventTarget(this._doc,"window");return Q.addEventListener("hashchange",j,!1),()=>Q.removeEventListener("hashchange",j)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(j){this._location.pathname=j}pushState(j,Q,Te){this._history.pushState(j,Q,Te)}replaceState(j,Q,Te){this._history.replaceState(j,Q,Te)}forward(){this._history.forward()}back(){this._history.back()}historyGo(j=0){this._history.go(j)}getState(){return this._history.state}static{this.\u0275fac=function(Q){return new(Q||A)}}static{this.\u0275prov=f.jDH({token:A,factory:function(){return new A},providedIn:"platform"})}}return A})();function te(A,X){if(0==A.length)return X;if(0==X.length)return A;let j=0;return A.endsWith("/")&&j++,X.startsWith("/")&&j++,2==j?A+X.substring(1):1==j?A+X:A+"/"+X}function de(A){const X=A.match(/#|\?|$/),j=X&&X.index||A.length;return A.slice(0,j-("/"===A[j-1]?1:0))+A.slice(j)}function Pe(A){return A&&"?"!==A[0]?"?"+A:A}let Ue=(()=>{class A{historyGo(j){throw new Error("Not implemented")}static{this.\u0275fac=function(Q){return new(Q||A)}}static{this.\u0275prov=f.jDH({token:A,factory:function(){return(0,f.WQX)(mt)},providedIn:"root"})}}return A})();const ue=new f.nKC("appBaseHref");let mt=(()=>{class A extends Ue{constructor(j,Q){super(),this._platformLocation=j,this._removeListenerFns=[],this._baseHref=Q??this._platformLocation.getBaseHrefFromDOM()??(0,f.WQX)(Re).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(j){this._removeListenerFns.push(this._platformLocation.onPopState(j),this._platformLocation.onHashChange(j))}getBaseHref(){return this._baseHref}prepareExternalUrl(j){return te(this._baseHref,j)}path(j=!1){const Q=this._platformLocation.pathname+Pe(this._platformLocation.search),Te=this._platformLocation.hash;return Te&&j?`${Q}${Te}`:Q}pushState(j,Q,Te,Et){const jt=this.prepareExternalUrl(Te+Pe(Et));this._platformLocation.pushState(j,Q,jt)}replaceState(j,Q,Te,Et){const jt=this.prepareExternalUrl(Te+Pe(Et));this._platformLocation.replaceState(j,Q,jt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(j=0){this._platformLocation.historyGo?.(j)}static{this.\u0275fac=function(Q){return new(Q||A)(f.KVO(Oe),f.KVO(ue,8))}}static{this.\u0275prov=f.jDH({token:A,factory:A.\u0275fac,providedIn:"root"})}}return A})(),Pt=(()=>{class A extends Ue{constructor(j,Q){super(),this._platformLocation=j,this._baseHref="",this._removeListenerFns=[],null!=Q&&(this._baseHref=Q)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(j){this._removeListenerFns.push(this._platformLocation.onPopState(j),this._platformLocation.onHashChange(j))}getBaseHref(){return this._baseHref}path(j=!1){let Q=this._platformLocation.hash;return null==Q&&(Q="#"),Q.length>0?Q.substring(1):Q}prepareExternalUrl(j){const Q=te(this._baseHref,j);return Q.length>0?"#"+Q:Q}pushState(j,Q,Te,Et){let jt=this.prepareExternalUrl(Te+Pe(Et));0==jt.length&&(jt=this._platformLocation.pathname),this._platformLocation.pushState(j,Q,jt)}replaceState(j,Q,Te,Et){let jt=this.prepareExternalUrl(Te+Pe(Et));0==jt.length&&(jt=this._platformLocation.pathname),this._platformLocation.replaceState(j,Q,jt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(j=0){this._platformLocation.historyGo?.(j)}static{this.\u0275fac=function(Q){return new(Q||A)(f.KVO(Oe),f.KVO(ue,8))}}static{this.\u0275prov=f.jDH({token:A,factory:A.\u0275fac})}}return A})(),Ot=(()=>{class A{constructor(j){this._subject=new f.bkB,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=j;const Q=this._locationStrategy.getBaseHref();this._basePath=function ke(A){if(new RegExp("^(https?:)?//").test(A)){const[,j]=A.split(/\/\/[^\/]+/);return j}return A}(de(Xt(Q))),this._locationStrategy.onPopState(Te=>{this._subject.emit({url:this.path(!0),pop:!0,state:Te.state,type:Te.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(j=!1){return this.normalize(this._locationStrategy.path(j))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(j,Q=""){return this.path()==this.normalize(j+Pe(Q))}normalize(j){return A.stripTrailingSlash(function fn(A,X){if(!A||!X.startsWith(A))return X;const j=X.substring(A.length);return""===j||["/",";","?","#"].includes(j[0])?j:X}(this._basePath,Xt(j)))}prepareExternalUrl(j){return j&&"/"!==j[0]&&(j="/"+j),this._locationStrategy.prepareExternalUrl(j)}go(j,Q="",Te=null){this._locationStrategy.pushState(Te,"",j,Q),this._notifyUrlChangeListeners(this.prepareExternalUrl(j+Pe(Q)),Te)}replaceState(j,Q="",Te=null){this._locationStrategy.replaceState(Te,"",j,Q),this._notifyUrlChangeListeners(this.prepareExternalUrl(j+Pe(Q)),Te)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(j=0){this._locationStrategy.historyGo?.(j)}onUrlChange(j){return this._urlChangeListeners.push(j),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(Q=>{this._notifyUrlChangeListeners(Q.url,Q.state)})),()=>{const Q=this._urlChangeListeners.indexOf(j);this._urlChangeListeners.splice(Q,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(j="",Q){this._urlChangeListeners.forEach(Te=>Te(j,Q))}subscribe(j,Q,Te){return this._subject.subscribe({next:j,error:Q,complete:Te})}static{this.normalizeQueryParams=Pe}static{this.joinWithSlash=te}static{this.stripTrailingSlash=de}static{this.\u0275fac=function(Q){return new(Q||A)(f.KVO(Ue))}}static{this.\u0275prov=f.jDH({token:A,factory:function(){return function wt(){return new Ot((0,f.KVO)(Ue))}()},providedIn:"root"})}}return A})();function Xt(A){return A.replace(/\/index.html$/,"")}const Ge={ADP:[void 0,void 0,0],AFN:[void 0,"\u060b",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058f",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20bc"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GHS:[void 0,"GH\u20b5"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202fCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var je=function(A){return A[A.Decimal=0]="Decimal",A[A.Percent=1]="Percent",A[A.Currency=2]="Currency",A[A.Scientific=3]="Scientific",A}(je||{}),_t=function(A){return A[A.Format=0]="Format",A[A.Standalone=1]="Standalone",A}(_t||{}),Tt=function(A){return A[A.Narrow=0]="Narrow",A[A.Abbreviated=1]="Abbreviated",A[A.Wide=2]="Wide",A[A.Short=3]="Short",A}(Tt||{}),hn=function(A){return A[A.Short=0]="Short",A[A.Medium=1]="Medium",A[A.Long=2]="Long",A[A.Full=3]="Full",A}(hn||{}),gn=function(A){return A[A.Decimal=0]="Decimal",A[A.Group=1]="Group",A[A.List=2]="List",A[A.PercentSign=3]="PercentSign",A[A.PlusSign=4]="PlusSign",A[A.MinusSign=5]="MinusSign",A[A.Exponential=6]="Exponential",A[A.SuperscriptingExponent=7]="SuperscriptingExponent",A[A.PerMille=8]="PerMille",A[A.Infinity=9]="Infinity",A[A.NaN=10]="NaN",A[A.TimeSeparator=11]="TimeSeparator",A[A.CurrencyDecimal=12]="CurrencyDecimal",A[A.CurrencyGroup=13]="CurrencyGroup",A}(gn||{});function Yt(A,X){return Sn((0,f.H5H)(A)[f.KH2.DateFormat],X)}function Le(A,X){return Sn((0,f.H5H)(A)[f.KH2.TimeFormat],X)}function Xe(A,X){return Sn((0,f.H5H)(A)[f.KH2.DateTimeFormat],X)}function we(A,X){const j=(0,f.H5H)(A),Q=j[f.KH2.NumberSymbols][X];if(typeof Q>"u"){if(X===gn.CurrencyDecimal)return j[f.KH2.NumberSymbols][gn.Decimal];if(X===gn.CurrencyGroup)return j[f.KH2.NumberSymbols][gn.Group]}return Q}function lt(A,X){return(0,f.H5H)(A)[f.KH2.NumberFormats][X]}function vt(A){if(!A[f.KH2.ExtraData])throw new Error(`Missing extra locale data for the locale "${A[f.KH2.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Sn(A,X){for(let j=X;j>-1;j--)if(typeof A[j]<"u")return A[j];throw new Error("Locale data API: locale data undefined")}function Yn(A){const[X,j]=A.split(":");return{hours:+X,minutes:+j}}const ie=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Se={},qe=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var rt=function(A){return A[A.Short=0]="Short",A[A.ShortGMT=1]="ShortGMT",A[A.Long=2]="Long",A[A.Extended=3]="Extended",A}(rt||{}),bt=function(A){return A[A.FullYear=0]="FullYear",A[A.Month=1]="Month",A[A.Date=2]="Date",A[A.Hours=3]="Hours",A[A.Minutes=4]="Minutes",A[A.Seconds=5]="Seconds",A[A.FractionalSeconds=6]="FractionalSeconds",A[A.Day=7]="Day",A}(bt||{}),nt=function(A){return A[A.DayPeriods=0]="DayPeriods",A[A.Days=1]="Days",A[A.Months=2]="Months",A[A.Eras=3]="Eras",A}(nt||{});function Fe(A,X,j,Q){let Te=function pe(A){if(R(A))return A;if("number"==typeof A&&!isNaN(A))return new Date(A);if("string"==typeof A){if(A=A.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(A)){const[Te,Et=1,jt=1]=A.split("-").map(An=>+An);return Ae(Te,Et-1,jt)}const j=parseFloat(A);if(!isNaN(A-j))return new Date(j);let Q;if(Q=A.match(ie))return function P(A){const X=new Date(0);let j=0,Q=0;const Te=A[8]?X.setUTCFullYear:X.setFullYear,Et=A[8]?X.setUTCHours:X.setHours;A[9]&&(j=Number(A[9]+A[10]),Q=Number(A[9]+A[11])),Te.call(X,Number(A[1]),Number(A[2])-1,Number(A[3]));const jt=Number(A[4]||0)-j,An=Number(A[5]||0)-Q,Rn=Number(A[6]||0),qn=Math.floor(1e3*parseFloat("0."+(A[7]||0)));return Et.call(X,jt,An,Rn,qn),X}(Q)}const X=new Date(A);if(!R(X))throw new Error(`Unable to convert "${A}" into a date`);return X}(A);X=st(j,X)||X;let An,jt=[];for(;X;){if(An=qe.exec(X),!An){jt.push(X);break}{jt=jt.concat(An.slice(1));const yr=jt.pop();if(!yr)break;X=yr}}let Rn=Te.getTimezoneOffset();Q&&(Rn=ar(Q,Rn),Te=function Nt(A,X,j){const Q=j?-1:1,Te=A.getTimezoneOffset();return function hi(A,X){return(A=new Date(A.getTime())).setMinutes(A.getMinutes()+X),A}(A,Q*(ar(X,Te)-Te))}(Te,Q,!0));let qn="";return jt.forEach(yr=>{const lr=function Xr(A){if(di[A])return di[A];let X;switch(A){case"G":case"GG":case"GGG":X=on(nt.Eras,Tt.Abbreviated);break;case"GGGG":X=on(nt.Eras,Tt.Wide);break;case"GGGGG":X=on(nt.Eras,Tt.Narrow);break;case"y":X=Dt(bt.FullYear,1,0,!1,!0);break;case"yy":X=Dt(bt.FullYear,2,0,!0,!0);break;case"yyy":X=Dt(bt.FullYear,3,0,!1,!0);break;case"yyyy":X=Dt(bt.FullYear,4,0,!1,!0);break;case"Y":X=Zr(1);break;case"YY":X=Zr(2,!0);break;case"YYY":X=Zr(3);break;case"YYYY":X=Zr(4);break;case"M":case"L":X=Dt(bt.Month,1,1);break;case"MM":case"LL":X=Dt(bt.Month,2,1);break;case"MMM":X=on(nt.Months,Tt.Abbreviated);break;case"MMMM":X=on(nt.Months,Tt.Wide);break;case"MMMMM":X=on(nt.Months,Tt.Narrow);break;case"LLL":X=on(nt.Months,Tt.Abbreviated,_t.Standalone);break;case"LLLL":X=on(nt.Months,Tt.Wide,_t.Standalone);break;case"LLLLL":X=on(nt.Months,Tt.Narrow,_t.Standalone);break;case"w":X=vi(1);break;case"ww":X=vi(2);break;case"W":X=vi(1,!0);break;case"d":X=Dt(bt.Date,1);break;case"dd":X=Dt(bt.Date,2);break;case"c":case"cc":X=Dt(bt.Day,1);break;case"ccc":X=on(nt.Days,Tt.Abbreviated,_t.Standalone);break;case"cccc":X=on(nt.Days,Tt.Wide,_t.Standalone);break;case"ccccc":X=on(nt.Days,Tt.Narrow,_t.Standalone);break;case"cccccc":X=on(nt.Days,Tt.Short,_t.Standalone);break;case"E":case"EE":case"EEE":X=on(nt.Days,Tt.Abbreviated);break;case"EEEE":X=on(nt.Days,Tt.Wide);break;case"EEEEE":X=on(nt.Days,Tt.Narrow);break;case"EEEEEE":X=on(nt.Days,Tt.Short);break;case"a":case"aa":case"aaa":X=on(nt.DayPeriods,Tt.Abbreviated);break;case"aaaa":X=on(nt.DayPeriods,Tt.Wide);break;case"aaaaa":X=on(nt.DayPeriods,Tt.Narrow);break;case"b":case"bb":case"bbb":X=on(nt.DayPeriods,Tt.Abbreviated,_t.Standalone,!0);break;case"bbbb":X=on(nt.DayPeriods,Tt.Wide,_t.Standalone,!0);break;case"bbbbb":X=on(nt.DayPeriods,Tt.Narrow,_t.Standalone,!0);break;case"B":case"BB":case"BBB":X=on(nt.DayPeriods,Tt.Abbreviated,_t.Format,!0);break;case"BBBB":X=on(nt.DayPeriods,Tt.Wide,_t.Format,!0);break;case"BBBBB":X=on(nt.DayPeriods,Tt.Narrow,_t.Format,!0);break;case"h":X=Dt(bt.Hours,1,-12);break;case"hh":X=Dt(bt.Hours,2,-12);break;case"H":X=Dt(bt.Hours,1);break;case"HH":X=Dt(bt.Hours,2);break;case"m":X=Dt(bt.Minutes,1);break;case"mm":X=Dt(bt.Minutes,2);break;case"s":X=Dt(bt.Seconds,1);break;case"ss":X=Dt(bt.Seconds,2);break;case"S":X=Dt(bt.FractionalSeconds,1);break;case"SS":X=Dt(bt.FractionalSeconds,2);break;case"SSS":X=Dt(bt.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":X=Ar(rt.Short);break;case"ZZZZZ":X=Ar(rt.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":X=Ar(rt.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":X=Ar(rt.Long);break;default:return null}return di[A]=X,X}(yr);qn+=lr?lr(Te,j,Rn):"''"===yr?"'":yr.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),qn}function Ae(A,X,j){const Q=new Date(0);return Q.setFullYear(A,X,j),Q.setHours(0,0,0),Q}function st(A,X){const j=function jn(A){return(0,f.H5H)(A)[f.KH2.LocaleId]}(A);if(Se[j]=Se[j]||{},Se[j][X])return Se[j][X];let Q="";switch(X){case"shortDate":Q=Yt(A,hn.Short);break;case"mediumDate":Q=Yt(A,hn.Medium);break;case"longDate":Q=Yt(A,hn.Long);break;case"fullDate":Q=Yt(A,hn.Full);break;case"shortTime":Q=Le(A,hn.Short);break;case"mediumTime":Q=Le(A,hn.Medium);break;case"longTime":Q=Le(A,hn.Long);break;case"fullTime":Q=Le(A,hn.Full);break;case"short":const Te=st(A,"shortTime"),Et=st(A,"shortDate");Q=it(Xe(A,hn.Short),[Te,Et]);break;case"medium":const jt=st(A,"mediumTime"),An=st(A,"mediumDate");Q=it(Xe(A,hn.Medium),[jt,An]);break;case"long":const Rn=st(A,"longTime"),qn=st(A,"longDate");Q=it(Xe(A,hn.Long),[Rn,qn]);break;case"full":const yr=st(A,"fullTime"),lr=st(A,"fullDate");Q=it(Xe(A,hn.Full),[yr,lr])}return Q&&(Se[j][X]=Q),Q}function it(A,X){return X&&(A=A.replace(/\{([^}]+)}/g,function(j,Q){return null!=X&&Q in X?X[Q]:j})),A}function ut(A,X,j="-",Q,Te){let Et="";(A<0||Te&&A<=0)&&(Te?A=1-A:(A=-A,Et=j));let jt=String(A);for(;jt.length<X;)jt="0"+jt;return Q&&(jt=jt.slice(jt.length-X)),Et+jt}function Dt(A,X,j=0,Q=!1,Te=!1){return function(Et,jt){let An=function Kn(A,X){switch(A){case bt.FullYear:return X.getFullYear();case bt.Month:return X.getMonth();case bt.Date:return X.getDate();case bt.Hours:return X.getHours();case bt.Minutes:return X.getMinutes();case bt.Seconds:return X.getSeconds();case bt.FractionalSeconds:return X.getMilliseconds();case bt.Day:return X.getDay();default:throw new Error(`Unknown DateType value "${A}".`)}}(A,Et);if((j>0||An>-j)&&(An+=j),A===bt.Hours)0===An&&-12===j&&(An=12);else if(A===bt.FractionalSeconds)return function Un(A,X){return ut(A,3).substring(0,X)}(An,X);const Rn=we(jt,gn.MinusSign);return ut(An,X,Rn,Q,Te)}}function on(A,X,j=_t.Format,Q=!1){return function(Te,Et){return function Zt(A,X,j,Q,Te,Et){switch(j){case nt.Months:return function rn(A,X,j){const Q=(0,f.H5H)(A),Et=Sn([Q[f.KH2.MonthsFormat],Q[f.KH2.MonthsStandalone]],X);return Sn(Et,j)}(X,Te,Q)[A.getMonth()];case nt.Days:return function Tn(A,X,j){const Q=(0,f.H5H)(A),Et=Sn([Q[f.KH2.DaysFormat],Q[f.KH2.DaysStandalone]],X);return Sn(Et,j)}(X,Te,Q)[A.getDay()];case nt.DayPeriods:const jt=A.getHours(),An=A.getMinutes();if(Et){const qn=function We(A){const X=(0,f.H5H)(A);return vt(X),(X[f.KH2.ExtraData][2]||[]).map(Q=>"string"==typeof Q?Yn(Q):[Yn(Q[0]),Yn(Q[1])])}(X),yr=function dt(A,X,j){const Q=(0,f.H5H)(A);vt(Q);const Et=Sn([Q[f.KH2.ExtraData][0],Q[f.KH2.ExtraData][1]],X)||[];return Sn(Et,j)||[]}(X,Te,Q),lr=qn.findIndex(Jr=>{if(Array.isArray(Jr)){const[Gr,Ji]=Jr,Co=jt>=Gr.hours&&An>=Gr.minutes,wr=jt<Ji.hours||jt===Ji.hours&&An<Ji.minutes;if(Gr.hours<Ji.hours){if(Co&&wr)return!0}else if(Co||wr)return!0}else if(Jr.hours===jt&&Jr.minutes===An)return!0;return!1});if(-1!==lr)return yr[lr]}return function zt(A,X,j){const Q=(0,f.H5H)(A),Et=Sn([Q[f.KH2.DayPeriodsFormat],Q[f.KH2.DayPeriodsStandalone]],X);return Sn(Et,j)}(X,Te,Q)[jt<12?0:1];case nt.Eras:return function Mn(A,X){return Sn((0,f.H5H)(A)[f.KH2.Eras],X)}(X,Q)[A.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${j}`)}}(Te,Et,A,X,j,Q)}}function Ar(A){return function(X,j,Q){const Te=-1*Q,Et=we(j,gn.MinusSign),jt=Te>0?Math.floor(Te/60):Math.ceil(Te/60);switch(A){case rt.Short:return(Te>=0?"+":"")+ut(jt,2,Et)+ut(Math.abs(Te%60),2,Et);case rt.ShortGMT:return"GMT"+(Te>=0?"+":"")+ut(jt,1,Et);case rt.Long:return"GMT"+(Te>=0?"+":"")+ut(jt,2,Et)+":"+ut(Math.abs(Te%60),2,Et);case rt.Extended:return 0===Q?"Z":(Te>=0?"+":"")+ut(jt,2,Et)+":"+ut(Math.abs(Te%60),2,Et);default:throw new Error(`Unknown zone width "${A}"`)}}}const qr=0,Sr=4;function fr(A){return Ae(A.getFullYear(),A.getMonth(),A.getDate()+(Sr-A.getDay()))}function vi(A,X=!1){return function(j,Q){let Te;if(X){const Et=new Date(j.getFullYear(),j.getMonth(),1).getDay()-1,jt=j.getDate();Te=1+Math.floor((jt+Et)/7)}else{const Et=fr(j),jt=function er(A){const X=Ae(A,qr,1).getDay();return Ae(A,0,1+(X<=Sr?Sr:Sr+7)-X)}(Et.getFullYear()),An=Et.getTime()-jt.getTime();Te=1+Math.round(An/6048e5)}return ut(Te,A,we(Q,gn.MinusSign))}}function Zr(A,X=!1){return function(j,Q){return ut(fr(j).getFullYear(),A,we(Q,gn.MinusSign),X)}}const di={};function ar(A,X){A=A.replace(/:/g,"");const j=Date.parse("Jan 01, 1970 00:00:00 "+A)/6e4;return isNaN(j)?X:j}function R(A){return A instanceof Date&&!isNaN(A.valueOf())}const O=/^(\d+)?\.((\d+)(-(\d+))?)?$/,ve=22,xe=".",be="0",me=";",se=",",Ce="#";function Ie(A,X,j,Q,Te,Et,jt=!1){let An="",Rn=!1;if(isFinite(A)){let qn=function sn(A){let Q,Te,Et,jt,An,X=Math.abs(A)+"",j=0;for((Te=X.indexOf(xe))>-1&&(X=X.replace(xe,"")),(Et=X.search(/e/i))>0?(Te<0&&(Te=Et),Te+=+X.slice(Et+1),X=X.substring(0,Et)):Te<0&&(Te=X.length),Et=0;X.charAt(Et)===be;Et++);if(Et===(An=X.length))Q=[0],Te=1;else{for(An--;X.charAt(An)===be;)An--;for(Te-=Et,Q=[],jt=0;Et<=An;Et++,jt++)Q[jt]=Number(X.charAt(Et))}return Te>ve&&(Q=Q.splice(0,ve-1),j=Te-1,Te=1),{digits:Q,exponent:j,integerLen:Te}}(A);jt&&(qn=function dn(A){if(0===A.digits[0])return A;const X=A.digits.length-A.integerLen;return A.exponent?A.exponent+=2:(0===X?A.digits.push(0,0):1===X&&A.digits.push(0),A.integerLen+=2),A}(qn));let yr=X.minInt,lr=X.minFrac,Jr=X.maxFrac;if(Et){const Mi=Et.match(O);if(null===Mi)throw new Error(`${Et} is not a valid digit info`);const _s=Mi[1],lo=Mi[3],yi=Mi[5];null!=_s&&(yr=Jt(_s)),null!=lo&&(lr=Jt(lo)),null!=yi?Jr=Jt(yi):null!=lo&&lr>Jr&&(Jr=lr)}!function zn(A,X,j){if(X>j)throw new Error(`The minimum number of digits after fraction (${X}) is higher than the maximum (${j}).`);let Q=A.digits,Te=Q.length-A.integerLen;const Et=Math.min(Math.max(X,Te),j);let jt=Et+A.integerLen,An=Q[jt];if(jt>0){Q.splice(Math.max(A.integerLen,jt));for(let lr=jt;lr<Q.length;lr++)Q[lr]=0}else{Te=Math.max(0,Te),A.integerLen=1,Q.length=Math.max(1,jt=Et+1),Q[0]=0;for(let lr=1;lr<jt;lr++)Q[lr]=0}if(An>=5)if(jt-1<0){for(let lr=0;lr>jt;lr--)Q.unshift(0),A.integerLen++;Q.unshift(1),A.integerLen++}else Q[jt-1]++;for(;Te<Math.max(0,Et);Te++)Q.push(0);let Rn=0!==Et;const qn=X+A.integerLen,yr=Q.reduceRight(function(lr,Jr,Gr,Ji){return Ji[Gr]=(Jr+=lr)<10?Jr:Jr-10,Rn&&(0===Ji[Gr]&&Gr>=qn?Ji.pop():Rn=!1),Jr>=10?1:0},0);yr&&(Q.unshift(yr),A.integerLen++)}(qn,lr,Jr);let Gr=qn.digits,Ji=qn.integerLen;const Co=qn.exponent;let wr=[];for(Rn=Gr.every(Mi=>!Mi);Ji<yr;Ji++)Gr.unshift(0);for(;Ji<0;Ji++)Gr.unshift(0);Ji>0?wr=Gr.splice(Ji,Gr.length):(wr=Gr,Gr=[0]);const is=[];for(Gr.length>=X.lgSize&&is.unshift(Gr.splice(-X.lgSize,Gr.length).join(""));Gr.length>X.gSize;)is.unshift(Gr.splice(-X.gSize,Gr.length).join(""));Gr.length&&is.unshift(Gr.join("")),An=is.join(we(j,Q)),wr.length&&(An+=we(j,Te)+wr.join("")),Co&&(An+=we(j,gn.Exponential)+"+"+Co)}else An=we(j,gn.Infinity);return An=A<0&&!Rn?X.negPre+An+X.negSuf:X.posPre+An+X.posSuf,An}function Ht(A,X="-"){const j={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},Q=A.split(me),Te=Q[0],Et=Q[1],jt=-1!==Te.indexOf(xe)?Te.split(xe):[Te.substring(0,Te.lastIndexOf(be)+1),Te.substring(Te.lastIndexOf(be)+1)],An=jt[0],Rn=jt[1]||"";j.posPre=An.substring(0,An.indexOf(Ce));for(let yr=0;yr<Rn.length;yr++){const lr=Rn.charAt(yr);lr===be?j.minFrac=j.maxFrac=yr+1:lr===Ce?j.maxFrac=yr+1:j.posSuf+=lr}const qn=An.split(se);if(j.gSize=qn[1]?qn[1].length:0,j.lgSize=qn[2]||qn[1]?(qn[2]||qn[1]).length:0,Et){const yr=Te.length-j.posPre.length-j.posSuf.length,lr=Et.indexOf(Ce);j.negPre=Et.substring(0,lr).replace(/'/g,""),j.negSuf=Et.slice(lr+yr).replace(/'/g,"")}else j.negPre=X+j.posPre,j.negSuf=j.posSuf;return j}function Jt(A){const X=parseInt(A);if(isNaN(X))throw new Error("Invalid integer literal when parsing "+A);return X}function tn(A,X){X=encodeURIComponent(X);for(const j of A.split(";")){const Q=j.indexOf("="),[Te,Et]=-1==Q?[j,""]:[j.slice(0,Q),j.slice(Q+1)];if(Te.trim()===X)return decodeURIComponent(Et)}return null}const In=/\s+/,mn=[];let kn=(()=>{class A{constructor(j,Q,Te,Et){this._iterableDiffers=j,this._keyValueDiffers=Q,this._ngEl=Te,this._renderer=Et,this.initialClasses=mn,this.stateMap=new Map}set klass(j){this.initialClasses=null!=j?j.trim().split(In):mn}set ngClass(j){this.rawClass="string"==typeof j?j.trim().split(In):j}ngDoCheck(){for(const Q of this.initialClasses)this._updateState(Q,!0);const j=this.rawClass;if(Array.isArray(j)||j instanceof Set)for(const Q of j)this._updateState(Q,!0);else if(null!=j)for(const Q of Object.keys(j))this._updateState(Q,!!j[Q]);this._applyStateDiff()}_updateState(j,Q){const Te=this.stateMap.get(j);void 0!==Te?(Te.enabled!==Q&&(Te.changed=!0,Te.enabled=Q),Te.touched=!0):this.stateMap.set(j,{enabled:Q,changed:!0,touched:!0})}_applyStateDiff(){for(const j of this.stateMap){const Q=j[0],Te=j[1];Te.changed?(this._toggleClass(Q,Te.enabled),Te.changed=!1):Te.touched||(Te.enabled&&this._toggleClass(Q,!1),this.stateMap.delete(Q)),Te.touched=!1}}_toggleClass(j,Q){(j=j.trim()).length>0&&j.split(In).forEach(Te=>{Q?this._renderer.addClass(this._ngEl.nativeElement,Te):this._renderer.removeClass(this._ngEl.nativeElement,Te)})}static{this.\u0275fac=function(Q){return new(Q||A)(f.rXU(f._q3),f.rXU(f.MKu),f.rXU(f.aKT),f.rXU(f.sFG))}}static{this.\u0275dir=f.FsC({type:A,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}}return A})();class cr{constructor(X,j,Q,Te){this.$implicit=X,this.ngForOf=j,this.index=Q,this.count=Te}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Mr=(()=>{class A{set ngForOf(j){this._ngForOf=j,this._ngForOfDirty=!0}set ngForTrackBy(j){this._trackByFn=j}get ngForTrackBy(){return this._trackByFn}constructor(j,Q,Te){this._viewContainer=j,this._template=Q,this._differs=Te,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(j){j&&(this._template=j)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const j=this._ngForOf;!this._differ&&j&&(this._differ=this._differs.find(j).create(this.ngForTrackBy))}if(this._differ){const j=this._differ.diff(this._ngForOf);j&&this._applyChanges(j)}}_applyChanges(j){const Q=this._viewContainer;j.forEachOperation((Te,Et,jt)=>{if(null==Te.previousIndex)Q.createEmbeddedView(this._template,new cr(Te.item,this._ngForOf,-1,-1),null===jt?void 0:jt);else if(null==jt)Q.remove(null===Et?void 0:Et);else if(null!==Et){const An=Q.get(Et);Q.move(An,jt),Bi(An,Te)}});for(let Te=0,Et=Q.length;Te<Et;Te++){const An=Q.get(Te).context;An.index=Te,An.count=Et,An.ngForOf=this._ngForOf}j.forEachIdentityChange(Te=>{Bi(Q.get(Te.currentIndex),Te)})}static ngTemplateContextGuard(j,Q){return!0}static{this.\u0275fac=function(Q){return new(Q||A)(f.rXU(f.c1b),f.rXU(f.C4Q),f.rXU(f._q3))}}static{this.\u0275dir=f.FsC({type:A,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return A})();function Bi(A,X){A.context.$implicit=X.item}let Lr=(()=>{class A{constructor(j,Q){this._viewContainer=j,this._context=new Ai,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=Q}set ngIf(j){this._context.$implicit=this._context.ngIf=j,this._updateView()}set ngIfThen(j){Qi("ngIfThen",j),this._thenTemplateRef=j,this._thenViewRef=null,this._updateView()}set ngIfElse(j){Qi("ngIfElse",j),this._elseTemplateRef=j,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(j,Q){return!0}static{this.\u0275fac=function(Q){return new(Q||A)(f.rXU(f.c1b),f.rXU(f.C4Q))}}static{this.\u0275dir=f.FsC({type:A,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return A})();class Ai{constructor(){this.$implicit=null,this.ngIf=null}}function Qi(A,X){if(X&&!X.createEmbeddedView)throw new Error(`${A} must be a TemplateRef, but received '${(0,f.Tbb)(X)}'.`)}class ds{constructor(X,j){this._viewContainerRef=X,this._templateRef=j,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(X){X&&!this._created?this.create():!X&&this._created&&this.destroy()}}let wi=(()=>{class A{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(j){this._ngSwitch=j,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(j){this._defaultViews.push(j)}_matchCase(j){const Q=j==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||Q,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),Q}_updateDefaultCases(j){if(this._defaultViews.length>0&&j!==this._defaultUsed){this._defaultUsed=j;for(const Q of this._defaultViews)Q.enforceState(j)}}static{this.\u0275fac=function(Q){return new(Q||A)}}static{this.\u0275dir=f.FsC({type:A,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0})}}return A})(),mc=(()=>{class A{constructor(j,Q,Te){this.ngSwitch=Te,Te._addCase(),this._view=new ds(j,Q)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}static{this.\u0275fac=function(Q){return new(Q||A)(f.rXU(f.c1b),f.rXU(f.C4Q),f.rXU(wi,9))}}static{this.\u0275dir=f.FsC({type:A,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0})}}return A})();function Zi(A,X){return new f.wOt(2100,!1)}const tr=new f.nKC("DATE_PIPE_DEFAULT_TIMEZONE"),$r=new f.nKC("DATE_PIPE_DEFAULT_OPTIONS");let Ir=(()=>{class A{constructor(j,Q,Te){this.locale=j,this.defaultTimezone=Q,this.defaultOptions=Te}transform(j,Q,Te,Et){if(null==j||""===j||j!=j)return null;try{return Fe(j,Q??this.defaultOptions?.dateFormat??"mediumDate",Et||this.locale,Te??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(jt){throw Zi()}}static{this.\u0275fac=function(Q){return new(Q||A)(f.rXU(f.xe9,16),f.rXU(tr,24),f.rXU($r,24))}}static{this.\u0275pipe=f.EJ8({name:"date",type:A,pure:!0,standalone:!0})}}return A})(),Yr=(()=>{class A{constructor(j){this._locale=j}transform(j,Q,Te){if(!Pr(j))return null;Te=Te||this._locale;try{return function Rt(A,X,j){return Ie(A,Ht(lt(X,je.Decimal),we(X,gn.MinusSign)),X,gn.Group,gn.Decimal,j)}(ki(j),Te,Q)}catch(Et){throw Zi()}}static{this.\u0275fac=function(Q){return new(Q||A)(f.rXU(f.xe9,16))}}static{this.\u0275pipe=f.EJ8({name:"number",type:A,pure:!0,standalone:!0})}}return A})(),Vn=(()=>{class A{constructor(j,Q="USD"){this._locale=j,this._defaultCurrencyCode=Q}transform(j,Q=this._defaultCurrencyCode,Te="symbol",Et,jt){if(!Pr(j))return null;jt=jt||this._locale,"boolean"==typeof Te&&(Te=Te?"symbol":"code");let An=Q||this._defaultCurrencyCode;"code"!==Te&&(An="symbol"===Te||"symbol-narrow"===Te?function Vr(A,X,j="en"){const Q=function Ft(A){return(0,f.H5H)(A)[f.KH2.Currencies]}(j)[A]||Ge[A]||[],Te=Q[1];return"narrow"===X&&"string"==typeof Te?Te:Q[0]||A}(An,"symbol"===Te?"wide":"narrow",jt):Te);try{return function Me(A,X,j,Q,Te){const jt=Ht(lt(X,je.Currency),we(X,gn.MinusSign));return jt.minFrac=function Bt(A){let X;const j=Ge[A];return j&&(X=j[2]),"number"==typeof X?X:2}(Q),jt.maxFrac=jt.minFrac,Ie(A,jt,X,gn.CurrencyGroup,gn.CurrencyDecimal,Te).replace("\xa4",j).replace("\xa4","").trim()}(ki(j),jt,An,Q,Et)}catch(Rn){throw Zi()}}static{this.\u0275fac=function(Q){return new(Q||A)(f.rXU(f.xe9,16),f.rXU(f.Ocv,16))}}static{this.\u0275pipe=f.EJ8({name:"currency",type:A,pure:!0,standalone:!0})}}return A})();function Pr(A){return!(null==A||""===A||A!=A)}function ki(A){if("string"==typeof A&&!isNaN(Number(A)-parseFloat(A)))return Number(A);if("number"!=typeof A)throw new Error(`${A} is not a number`);return A}let Ui=(()=>{class A{static{this.\u0275fac=function(Q){return new(Q||A)}}static{this.\u0275mod=f.$C({type:A})}static{this.\u0275inj=f.G2t({})}}return A})();const _r="browser",oo="server";function Fo(A){return A===_r}function Po(A){return A===oo}let Ti=(()=>{class A{static{this.\u0275prov=(0,f.jDH)({token:A,providedIn:"root",factory:()=>new Xi((0,f.KVO)(Re),window)})}}return A})();class Xi{constructor(X,j){this.document=X,this.window=j,this.offset=()=>[0,0]}setOffset(X){this.offset=Array.isArray(X)?()=>X:X}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(X){this.supportsScrolling()&&this.window.scrollTo(X[0],X[1])}scrollToAnchor(X){if(!this.supportsScrolling())return;const j=function Ni(A,X){const j=A.getElementById(X)||A.getElementsByName(X)[0];if(j)return j;if("function"==typeof A.createTreeWalker&&A.body&&"function"==typeof A.body.attachShadow){const Q=A.createTreeWalker(A.body,NodeFilter.SHOW_ELEMENT);let Te=Q.currentNode;for(;Te;){const Et=Te.shadowRoot;if(Et){const jt=Et.getElementById(X)||Et.querySelector(`[name="${X}"]`);if(jt)return jt}Te=Q.nextNode()}}return null}(this.document,X);j&&(this.scrollToElement(j),j.focus())}setHistoryScrollRestoration(X){this.supportsScrolling()&&(this.window.history.scrollRestoration=X)}scrollToElement(X){const j=X.getBoundingClientRect(),Q=j.left+this.window.pageXOffset,Te=j.top+this.window.pageYOffset,Et=this.offset();this.window.scrollTo(Q-Et[0],Te-Et[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class so{}},1626:(an,tt,L)=>{L.d(tt,{Qq:()=>Cn,q1:()=>O});var f=L(7705),G=L(7673),ge=L(8455),le=L(1985),re=L(274),Re=L(5964),Oe=L(6354),he=L(980),fe=L(5558),te=L(177);class de{}class Pe{}class Ue{constructor(Me){this.normalizedNames=new Map,this.lazyUpdate=null,Me?"string"==typeof Me?this.lazyInit=()=>{this.headers=new Map,Me.split("\n").forEach(Ve=>{const Rt=Ve.indexOf(":");if(Rt>0){const Ht=Ve.slice(0,Rt),dn=Ht.toLowerCase(),sn=Ve.slice(Rt+1).trim();this.maybeSetNormalizedName(Ht,dn),this.headers.has(dn)?this.headers.get(dn).push(sn):this.headers.set(dn,[sn])}})}:typeof Headers<"u"&&Me instanceof Headers?(this.headers=new Map,Me.forEach((Ve,Rt)=>{this.setHeaderEntries(Rt,Ve)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(Me).forEach(([Ve,Rt])=>{this.setHeaderEntries(Ve,Rt)})}:this.headers=new Map}has(Me){return this.init(),this.headers.has(Me.toLowerCase())}get(Me){this.init();const Ve=this.headers.get(Me.toLowerCase());return Ve&&Ve.length>0?Ve[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(Me){return this.init(),this.headers.get(Me.toLowerCase())||null}append(Me,Ve){return this.clone({name:Me,value:Ve,op:"a"})}set(Me,Ve){return this.clone({name:Me,value:Ve,op:"s"})}delete(Me,Ve){return this.clone({name:Me,value:Ve,op:"d"})}maybeSetNormalizedName(Me,Ve){this.normalizedNames.has(Ve)||this.normalizedNames.set(Ve,Me)}init(){this.lazyInit&&(this.lazyInit instanceof Ue?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(Me=>this.applyUpdate(Me)),this.lazyUpdate=null))}copyFrom(Me){Me.init(),Array.from(Me.headers.keys()).forEach(Ve=>{this.headers.set(Ve,Me.headers.get(Ve)),this.normalizedNames.set(Ve,Me.normalizedNames.get(Ve))})}clone(Me){const Ve=new Ue;return Ve.lazyInit=this.lazyInit&&this.lazyInit instanceof Ue?this.lazyInit:this,Ve.lazyUpdate=(this.lazyUpdate||[]).concat([Me]),Ve}applyUpdate(Me){const Ve=Me.name.toLowerCase();switch(Me.op){case"a":case"s":let Rt=Me.value;if("string"==typeof Rt&&(Rt=[Rt]),0===Rt.length)return;this.maybeSetNormalizedName(Me.name,Ve);const Ht=("a"===Me.op?this.headers.get(Ve):void 0)||[];Ht.push(...Rt),this.headers.set(Ve,Ht);break;case"d":const dn=Me.value;if(dn){let sn=this.headers.get(Ve);if(!sn)return;sn=sn.filter(zn=>-1===dn.indexOf(zn)),0===sn.length?(this.headers.delete(Ve),this.normalizedNames.delete(Ve)):this.headers.set(Ve,sn)}else this.headers.delete(Ve),this.normalizedNames.delete(Ve)}}setHeaderEntries(Me,Ve){const Rt=(Array.isArray(Ve)?Ve:[Ve]).map(dn=>dn.toString()),Ht=Me.toLowerCase();this.headers.set(Ht,Rt),this.maybeSetNormalizedName(Me,Ht)}forEach(Me){this.init(),Array.from(this.normalizedNames.keys()).forEach(Ve=>Me(this.normalizedNames.get(Ve),this.headers.get(Ve)))}}class mt{encodeKey(Me){return fn(Me)}encodeValue(Me){return fn(Me)}decodeKey(Me){return decodeURIComponent(Me)}decodeValue(Me){return decodeURIComponent(Me)}}const Ot=/%(\d[a-f0-9])/gi,wt={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function fn(Ie){return encodeURIComponent(Ie).replace(Ot,(Me,Ve)=>wt[Ve]??Me)}function Xt(Ie){return`${Ie}`}class ke{constructor(Me={}){if(this.updates=null,this.cloneFrom=null,this.encoder=Me.encoder||new mt,Me.fromString){if(Me.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Pt(Ie,Me){const Ve=new Map;return Ie.length>0&&Ie.replace(/^\?/,"").split("&").forEach(Ht=>{const dn=Ht.indexOf("="),[sn,zn]=-1==dn?[Me.decodeKey(Ht),""]:[Me.decodeKey(Ht.slice(0,dn)),Me.decodeValue(Ht.slice(dn+1))],Jt=Ve.get(sn)||[];Jt.push(zn),Ve.set(sn,Jt)}),Ve}(Me.fromString,this.encoder)}else Me.fromObject?(this.map=new Map,Object.keys(Me.fromObject).forEach(Ve=>{const Rt=Me.fromObject[Ve],Ht=Array.isArray(Rt)?Rt.map(Xt):[Xt(Rt)];this.map.set(Ve,Ht)})):this.map=null}has(Me){return this.init(),this.map.has(Me)}get(Me){this.init();const Ve=this.map.get(Me);return Ve?Ve[0]:null}getAll(Me){return this.init(),this.map.get(Me)||null}keys(){return this.init(),Array.from(this.map.keys())}append(Me,Ve){return this.clone({param:Me,value:Ve,op:"a"})}appendAll(Me){const Ve=[];return Object.keys(Me).forEach(Rt=>{const Ht=Me[Rt];Array.isArray(Ht)?Ht.forEach(dn=>{Ve.push({param:Rt,value:dn,op:"a"})}):Ve.push({param:Rt,value:Ht,op:"a"})}),this.clone(Ve)}set(Me,Ve){return this.clone({param:Me,value:Ve,op:"s"})}delete(Me,Ve){return this.clone({param:Me,value:Ve,op:"d"})}toString(){return this.init(),this.keys().map(Me=>{const Ve=this.encoder.encodeKey(Me);return this.map.get(Me).map(Rt=>Ve+"="+this.encoder.encodeValue(Rt)).join("&")}).filter(Me=>""!==Me).join("&")}clone(Me){const Ve=new ke({encoder:this.encoder});return Ve.cloneFrom=this.cloneFrom||this,Ve.updates=(this.updates||[]).concat(Me),Ve}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(Me=>this.map.set(Me,this.cloneFrom.map.get(Me))),this.updates.forEach(Me=>{switch(Me.op){case"a":case"s":const Ve=("a"===Me.op?this.map.get(Me.param):void 0)||[];Ve.push(Xt(Me.value)),this.map.set(Me.param,Ve);break;case"d":if(void 0===Me.value){this.map.delete(Me.param);break}{let Rt=this.map.get(Me.param)||[];const Ht=Rt.indexOf(Xt(Me.value));-1!==Ht&&Rt.splice(Ht,1),Rt.length>0?this.map.set(Me.param,Rt):this.map.delete(Me.param)}}}),this.cloneFrom=this.updates=null)}}class je{constructor(){this.map=new Map}set(Me,Ve){return this.map.set(Me,Ve),this}get(Me){return this.map.has(Me)||this.map.set(Me,Me.defaultValue()),this.map.get(Me)}delete(Me){return this.map.delete(Me),this}has(Me){return this.map.has(Me)}keys(){return this.map.keys()}}function _t(Ie){return typeof ArrayBuffer<"u"&&Ie instanceof ArrayBuffer}function Tt(Ie){return typeof Blob<"u"&&Ie instanceof Blob}function hn(Ie){return typeof FormData<"u"&&Ie instanceof FormData}class _n{constructor(Me,Ve,Rt,Ht){let dn;if(this.url=Ve,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=Me.toUpperCase(),function $e(Ie){switch(Ie){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||Ht?(this.body=void 0!==Rt?Rt:null,dn=Ht):dn=Rt,dn&&(this.reportProgress=!!dn.reportProgress,this.withCredentials=!!dn.withCredentials,dn.responseType&&(this.responseType=dn.responseType),dn.headers&&(this.headers=dn.headers),dn.context&&(this.context=dn.context),dn.params&&(this.params=dn.params)),this.headers||(this.headers=new Ue),this.context||(this.context=new je),this.params){const sn=this.params.toString();if(0===sn.length)this.urlWithParams=Ve;else{const zn=Ve.indexOf("?");this.urlWithParams=Ve+(-1===zn?"?":zn<Ve.length-1?"&":"")+sn}}else this.params=new ke,this.urlWithParams=Ve}serializeBody(){return null===this.body?null:_t(this.body)||Tt(this.body)||hn(this.body)||function gn(Ie){return typeof URLSearchParams<"u"&&Ie instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof ke?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||hn(this.body)?null:Tt(this.body)?this.body.type||null:_t(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof ke?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(Me={}){const Ve=Me.method||this.method,Rt=Me.url||this.url,Ht=Me.responseType||this.responseType,dn=void 0!==Me.body?Me.body:this.body,sn=void 0!==Me.withCredentials?Me.withCredentials:this.withCredentials,zn=void 0!==Me.reportProgress?Me.reportProgress:this.reportProgress;let Jt=Me.headers||this.headers,si=Me.params||this.params;const kt=Me.context??this.context;return void 0!==Me.setHeaders&&(Jt=Object.keys(Me.setHeaders).reduce((Ye,Vt)=>Ye.set(Vt,Me.setHeaders[Vt]),Jt)),Me.setParams&&(si=Object.keys(Me.setParams).reduce((Ye,Vt)=>Ye.set(Vt,Me.setParams[Vt]),si)),new _n(Ve,Rt,dn,{params:si,headers:Jt,context:kt,reportProgress:zn,responseType:Ht,withCredentials:sn})}}var jn=function(Ie){return Ie[Ie.Sent=0]="Sent",Ie[Ie.UploadProgress=1]="UploadProgress",Ie[Ie.ResponseHeader=2]="ResponseHeader",Ie[Ie.DownloadProgress=3]="DownloadProgress",Ie[Ie.Response=4]="Response",Ie[Ie.User=5]="User",Ie}(jn||{});class zt{constructor(Me,Ve=200,Rt="OK"){this.headers=Me.headers||new Ue,this.status=void 0!==Me.status?Me.status:Ve,this.statusText=Me.statusText||Rt,this.url=Me.url||null,this.ok=this.status>=200&&this.status<300}}class Tn extends zt{constructor(Me={}){super(Me),this.type=jn.ResponseHeader}clone(Me={}){return new Tn({headers:Me.headers||this.headers,status:void 0!==Me.status?Me.status:this.status,statusText:Me.statusText||this.statusText,url:Me.url||this.url||void 0})}}class rn extends zt{constructor(Me={}){super(Me),this.type=jn.Response,this.body=void 0!==Me.body?Me.body:null}clone(Me={}){return new rn({body:void 0!==Me.body?Me.body:this.body,headers:Me.headers||this.headers,status:void 0!==Me.status?Me.status:this.status,statusText:Me.statusText||this.statusText,url:Me.url||this.url||void 0})}}class Mn extends zt{constructor(Me){super(Me,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${Me.url||"(unknown url)"}`:`Http failure response for ${Me.url||"(unknown url)"}: ${Me.status} ${Me.statusText}`,this.error=Me.error||null}}function Qt(Ie,Me){return{body:Me,headers:Ie.headers,context:Ie.context,observe:Ie.observe,params:Ie.params,reportProgress:Ie.reportProgress,responseType:Ie.responseType,withCredentials:Ie.withCredentials}}let Cn=(()=>{class Ie{constructor(Ve){this.handler=Ve}request(Ve,Rt,Ht={}){let dn;if(Ve instanceof _n)dn=Ve;else{let Jt,si;Jt=Ht.headers instanceof Ue?Ht.headers:new Ue(Ht.headers),Ht.params&&(si=Ht.params instanceof ke?Ht.params:new ke({fromObject:Ht.params})),dn=new _n(Ve,Rt,void 0!==Ht.body?Ht.body:null,{headers:Jt,context:Ht.context,params:si,reportProgress:Ht.reportProgress,responseType:Ht.responseType||"json",withCredentials:Ht.withCredentials})}const sn=(0,G.of)(dn).pipe((0,re.H)(Jt=>this.handler.handle(Jt)));if(Ve instanceof _n||"events"===Ht.observe)return sn;const zn=sn.pipe((0,Re.p)(Jt=>Jt instanceof rn));switch(Ht.observe||"body"){case"body":switch(dn.responseType){case"arraybuffer":return zn.pipe((0,Oe.T)(Jt=>{if(null!==Jt.body&&!(Jt.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return Jt.body}));case"blob":return zn.pipe((0,Oe.T)(Jt=>{if(null!==Jt.body&&!(Jt.body instanceof Blob))throw new Error("Response is not a Blob.");return Jt.body}));case"text":return zn.pipe((0,Oe.T)(Jt=>{if(null!==Jt.body&&"string"!=typeof Jt.body)throw new Error("Response is not a string.");return Jt.body}));default:return zn.pipe((0,Oe.T)(Jt=>Jt.body))}case"response":return zn;default:throw new Error(`Unreachable: unhandled observe type ${Ht.observe}}`)}}delete(Ve,Rt={}){return this.request("DELETE",Ve,Rt)}get(Ve,Rt={}){return this.request("GET",Ve,Rt)}head(Ve,Rt={}){return this.request("HEAD",Ve,Rt)}jsonp(Ve,Rt){return this.request("JSONP",Ve,{params:(new ke).append(Rt,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(Ve,Rt={}){return this.request("OPTIONS",Ve,Rt)}patch(Ve,Rt,Ht={}){return this.request("PATCH",Ve,Qt(Ht,Rt))}post(Ve,Rt,Ht={}){return this.request("POST",Ve,Qt(Ht,Rt))}put(Ve,Rt,Ht={}){return this.request("PUT",Ve,Qt(Ht,Rt))}static{this.\u0275fac=function(Rt){return new(Rt||Ie)(f.KVO(de))}}static{this.\u0275prov=f.jDH({token:Ie,factory:Ie.\u0275fac})}}return Ie})();function pt(Ie,Me){return Me(Ie)}function Ft(Ie,Me){return(Ve,Rt)=>Me.intercept(Ve,{handle:Ht=>Ie(Ht,Rt)})}const vt=new f.nKC(""),We=new f.nKC(""),dt=new f.nKC("");function Xn(){let Ie=null;return(Me,Ve)=>{null===Ie&&(Ie=((0,f.WQX)(vt,{optional:!0})??[]).reduceRight(Ft,pt));const Rt=(0,f.WQX)(f.$K3),Ht=Rt.add();return Ie(Me,Ve).pipe((0,he.j)(()=>Rt.remove(Ht)))}}let Sn=(()=>{class Ie extends de{constructor(Ve,Rt){super(),this.backend=Ve,this.injector=Rt,this.chain=null,this.pendingTasks=(0,f.WQX)(f.$K3)}handle(Ve){if(null===this.chain){const Ht=Array.from(new Set([...this.injector.get(We),...this.injector.get(dt,[])]));this.chain=Ht.reduceRight((dn,sn)=>function Hn(Ie,Me,Ve){return(Rt,Ht)=>Ve.runInContext(()=>Me(Rt,dn=>Ie(dn,Ht)))}(dn,sn,this.injector),pt)}const Rt=this.pendingTasks.add();return this.chain(Ve,Ht=>this.backend.handle(Ht)).pipe((0,he.j)(()=>this.pendingTasks.remove(Rt)))}static{this.\u0275fac=function(Rt){return new(Rt||Ie)(f.KVO(Pe),f.KVO(f.uvJ))}}static{this.\u0275prov=f.jDH({token:Ie,factory:Ie.\u0275fac})}}return Ie})();const Ae=/^\)\]\}',?\n/;let it=(()=>{class Ie{constructor(Ve){this.xhrFactory=Ve}handle(Ve){if("JSONP"===Ve.method)throw new f.wOt(-2800,!1);const Rt=this.xhrFactory;return(Rt.\u0275loadImpl?(0,ge.H)(Rt.\u0275loadImpl()):(0,G.of)(null)).pipe((0,fe.n)(()=>new le.c(dn=>{const sn=Rt.build();if(sn.open(Ve.method,Ve.urlWithParams),Ve.withCredentials&&(sn.withCredentials=!0),Ve.headers.forEach((mn,kn)=>sn.setRequestHeader(mn,kn.join(","))),Ve.headers.has("Accept")||sn.setRequestHeader("Accept","application/json, text/plain, */*"),!Ve.headers.has("Content-Type")){const mn=Ve.detectContentTypeHeader();null!==mn&&sn.setRequestHeader("Content-Type",mn)}if(Ve.responseType){const mn=Ve.responseType.toLowerCase();sn.responseType="json"!==mn?mn:"text"}const zn=Ve.serializeBody();let Jt=null;const si=()=>{if(null!==Jt)return Jt;const mn=sn.statusText||"OK",kn=new Ue(sn.getAllResponseHeaders()),vr=function st(Ie){return"responseURL"in Ie&&Ie.responseURL?Ie.responseURL:/^X-Request-URL:/m.test(Ie.getAllResponseHeaders())?Ie.getResponseHeader("X-Request-URL"):null}(sn)||Ve.url;return Jt=new Tn({headers:kn,status:sn.status,statusText:mn,url:vr}),Jt},kt=()=>{let{headers:mn,status:kn,statusText:vr,url:Rr}=si(),cr=null;204!==kn&&(cr=typeof sn.response>"u"?sn.responseText:sn.response),0===kn&&(kn=cr?200:0);let Mr=kn>=200&&kn<300;if("json"===Ve.responseType&&"string"==typeof cr){const Bi=cr;cr=cr.replace(Ae,"");try{cr=""!==cr?JSON.parse(cr):null}catch(ji){cr=Bi,Mr&&(Mr=!1,cr={error:ji,text:cr})}}Mr?(dn.next(new rn({body:cr,headers:mn,status:kn,statusText:vr,url:Rr||void 0})),dn.complete()):dn.error(new Mn({error:cr,headers:mn,status:kn,statusText:vr,url:Rr||void 0}))},Ye=mn=>{const{url:kn}=si(),vr=new Mn({error:mn,status:sn.status||0,statusText:sn.statusText||"Unknown Error",url:kn||void 0});dn.error(vr)};let Vt=!1;const tn=mn=>{Vt||(dn.next(si()),Vt=!0);let kn={type:jn.DownloadProgress,loaded:mn.loaded};mn.lengthComputable&&(kn.total=mn.total),"text"===Ve.responseType&&sn.responseText&&(kn.partialText=sn.responseText),dn.next(kn)},In=mn=>{let kn={type:jn.UploadProgress,loaded:mn.loaded};mn.lengthComputable&&(kn.total=mn.total),dn.next(kn)};return sn.addEventListener("load",kt),sn.addEventListener("error",Ye),sn.addEventListener("timeout",Ye),sn.addEventListener("abort",Ye),Ve.reportProgress&&(sn.addEventListener("progress",tn),null!==zn&&sn.upload&&sn.upload.addEventListener("progress",In)),sn.send(zn),dn.next({type:jn.Sent}),()=>{sn.removeEventListener("error",Ye),sn.removeEventListener("abort",Ye),sn.removeEventListener("load",kt),sn.removeEventListener("timeout",Ye),Ve.reportProgress&&(sn.removeEventListener("progress",tn),null!==zn&&sn.upload&&sn.upload.removeEventListener("progress",In)),sn.readyState!==sn.DONE&&sn.abort()}})))}static{this.\u0275fac=function(Rt){return new(Rt||Ie)(f.KVO(te.N0))}}static{this.\u0275prov=f.jDH({token:Ie,factory:Ie.\u0275fac})}}return Ie})();const ut=new f.nKC("XSRF_ENABLED"),Dt=new f.nKC("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),on=new f.nKC("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class Zt{}let Ar=(()=>{class Ie{constructor(Ve,Rt,Ht){this.doc=Ve,this.platform=Rt,this.cookieName=Ht,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const Ve=this.doc.cookie||"";return Ve!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,te._b)(Ve,this.cookieName),this.lastCookieString=Ve),this.lastToken}static{this.\u0275fac=function(Rt){return new(Rt||Ie)(f.KVO(te.qQ),f.KVO(f.Agw),f.KVO(Dt))}}static{this.\u0275prov=f.jDH({token:Ie,factory:Ie.\u0275fac})}}return Ie})();function qr(Ie,Me){const Ve=Ie.url.toLowerCase();if(!(0,f.WQX)(ut)||"GET"===Ie.method||"HEAD"===Ie.method||Ve.startsWith("http://")||Ve.startsWith("https://"))return Me(Ie);const Rt=(0,f.WQX)(Zt).getToken(),Ht=(0,f.WQX)(on);return null!=Rt&&!Ie.headers.has(Ht)&&(Ie=Ie.clone({headers:Ie.headers.set(Ht,Rt)})),Me(Ie)}var er=function(Ie){return Ie[Ie.Interceptors=0]="Interceptors",Ie[Ie.LegacyInterceptors=1]="LegacyInterceptors",Ie[Ie.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",Ie[Ie.NoXsrfProtection=3]="NoXsrfProtection",Ie[Ie.JsonpSupport=4]="JsonpSupport",Ie[Ie.RequestsMadeViaParent=5]="RequestsMadeViaParent",Ie[Ie.Fetch=6]="Fetch",Ie}(er||{});function fr(Ie,Me){return{\u0275kind:Ie,\u0275providers:Me}}function vi(...Ie){const Me=[Cn,it,Sn,{provide:de,useExisting:Sn},{provide:Pe,useExisting:it},{provide:We,useValue:qr,multi:!0},{provide:ut,useValue:!0},{provide:Zt,useClass:Ar}];for(const Ve of Ie)Me.push(...Ve.\u0275providers);return(0,f.EmA)(Me)}const di=new f.nKC("LEGACY_INTERCEPTOR_FN");let O=(()=>{class Ie{static{this.\u0275fac=function(Rt){return new(Rt||Ie)}}static{this.\u0275mod=f.$C({type:Ie})}static{this.\u0275inj=f.G2t({providers:[vi(fr(er.LegacyInterceptors,[{provide:di,useFactory:Xn},{provide:We,useExisting:di,multi:!0}]))]})}}return Ie})()},7705:(an,tt,L)=>{L.d(tt,{$C:()=>Go,$GK:()=>rt,$K3:()=>hb,$MX:()=>a1,AVh:()=>G1,Agw:()=>u0,B4B:()=>h1,BIS:()=>nm,BMQ:()=>U0,C4Q:()=>T2,C5r:()=>Wk,Co$:()=>ik,DNE:()=>fy,E5c:()=>h2,EFF:()=>eu,EJ8:()=>dr,EmA:()=>o0,FsC:()=>ai,G2t:()=>dt,GBs:()=>jk,GFd:()=>ly,H3F:()=>db,H5H:()=>kf,H8p:()=>Yd,HJs:()=>u3,HbH:()=>Ty,Hbi:()=>K5,JRh:()=>Ou,JZv:()=>it,Jv_:()=>rk,KH2:()=>xd,KVO:()=>me,Kcf:()=>Wf,L39:()=>c3,LfX:()=>Sn,Lme:()=>d2,MKu:()=>__,Mr5:()=>tp,Mz_:()=>Ch,NAR:()=>J0,NEm:()=>E5,NYb:()=>k5,Njj:()=>Ms,O8t:()=>Et,OA$:()=>lr,OM3:()=>b1,Ocv:()=>QM,Ol2:()=>sk,PLl:()=>Pi,QTQ:()=>w0,Ql9:()=>YM,QuC:()=>Ro,R7$:()=>Vm,RV6:()=>U1,Rfq:()=>mt,RxE:()=>gd,SKi:()=>cs,SdG:()=>e2,SpI:()=>yf,TL$:()=>Uf,Tbb:()=>Pe,UyX:()=>Gf,VBU:()=>ri,Vns:()=>ip,Vt3:()=>j0,WHO:()=>gb,WPN:()=>Hl,WQX:()=>Ce,XpG:()=>ky,Xx1:()=>Rl,Y8G:()=>L1,Z63:()=>f1,ZF7:()=>Qd,_9s:()=>hm,_q3:()=>v_,aKT:()=>oh,aNF:()=>ck,bIt:()=>Z0,bVm:()=>wh,bc$:()=>mo,bkB:()=>nl,c1b:()=>tg,cWb:()=>pg,czy:()=>ze,e01:()=>vb,e5t:()=>Kf,eBV:()=>yl,eq3:()=>yk,eu8:()=>z1,fpN:()=>G5,gRc:()=>P5,gXe:()=>sn,giA:()=>_b,h9k:()=>_p,hnV:()=>ub,i5U:()=>xk,iLQ:()=>d_,ii3:()=>Ck,j41:()=>B1,jDH:()=>vt,jNT:()=>rf,joV:()=>ia,k0s:()=>j1,kS0:()=>Va,kdw:()=>Yo,lJ4:()=>mk,lNU:()=>Xt,l_i:()=>gk,lsd:()=>Uk,mGM:()=>Bk,mq5:()=>k2,n$t:()=>hd,nI1:()=>Ek,nKC:()=>Dt,naY:()=>R5,nrm:()=>W0,o8S:()=>wf,oH4:()=>wb,osQ:()=>fg,plB:()=>t_,qSk:()=>Uu,qex:()=>tf,rOR:()=>Yy,rXU:()=>uh,rcV:()=>Oc,sFG:()=>Rp,sZ2:()=>l0,sdS:()=>ef,uvJ:()=>Nc,w6W:()=>z4,wOt:()=>ke,wni:()=>zk,xGo:()=>tc,xc7:()=>W1,xe9:()=>rg,xvI:()=>fm,zZn:()=>Lc,zcH:()=>Kl,zjR:()=>Q0});var f=L(1413),G=L(8359),ge=L(1985),le=L(7786),re=L(4412),Re=L(7673),Oe=L(7647),he=L(5558),fe=L(3294);function te(t){for(let n in t)if(t[n]===te)return n;throw Error("Could not find renamed property on target object.")}function de(t,n){for(const i in n)n.hasOwnProperty(i)&&!t.hasOwnProperty(i)&&(t[i]=n[i])}function Pe(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(Pe).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const n=t.toString();if(null==n)return""+n;const i=n.indexOf("\n");return-1===i?n:n.substring(0,i)}function Ue(t,n){return null==t||""===t?null===n?"":n:null==n||""===n?t:t+" "+n}const ue=te({__forward_ref__:te});function mt(t){return t.__forward_ref__=mt,t.toString=function(){return Pe(this())},t}function Pt(t){return Ot(t)?t():t}function Ot(t){return"function"==typeof t&&t.hasOwnProperty(ue)&&t.__forward_ref__===mt}function wt(t){return t&&!!t.\u0275providers}const Xt="https://g.co/ng/security#xss";class ke extends Error{constructor(n,i){super(function Ge(t,n){return`NG0${Math.abs(t)}${n?": "+n:""}`}(n,i)),this.code=n}}function je(t){return"string"==typeof t?t:null==t?"":String(t)}function gn(t,n){throw new ke(-201,!1)}function Lt(t,n){null==t&&function Qe(t,n,i,s){throw new Error(`ASSERTION ERROR: ${t}`+(null==s?"":` [Expected=> ${i} ${s} ${n} <=Actual]`))}(n,t,null,"!=")}function vt(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function dt(t){return{providers:t.providers||[],imports:t.imports||[]}}function Xn(t){return Yn(t,Bt)||Yn(t,Se)}function Sn(t){return null!==Xn(t)}function Yn(t,n){return t.hasOwnProperty(n)?t[n]:null}function kr(t){return t&&(t.hasOwnProperty(ie)||t.hasOwnProperty(qe))?t[ie]:null}const Bt=te({\u0275prov:te}),ie=te({\u0275inj:te}),Se=te({ngInjectableDef:te}),qe=te({ngInjectorDef:te});var rt=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(rt||{});let bt;function Fe(t){const n=bt;return bt=t,n}function Ae(t,n,i){const s=Xn(t);return s&&"root"==s.providedIn?void 0===s.value?s.value=s.factory():s.value:i&rt.Optional?null:void 0!==n?n:void gn(Pe(t))}const it=globalThis;class Dt{constructor(n,i){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof i?this.__NG_ELEMENT_ID__=i:void 0!==i&&(this.\u0275prov=vt({token:this,providedIn:i.providedIn||"root",factory:i.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Xr={},ar="__NG_DI_FLAG__",hi="ngTempTokenPath",pe=/\n/gm,R="__source";let O;function xe(t){const n=O;return O=t,n}function be(t,n=rt.Default){if(void 0===O)throw new ke(-203,!1);return null===O?Ae(t,void 0,n):O.get(t,n&rt.Optional?null:void 0,n)}function me(t,n=rt.Default){return(function nt(){return bt}()||be)(Pt(t),n)}function Ce(t,n=rt.Default){return me(t,ct(n))}function ct(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Kt(t){const n=[];for(let i=0;i<t.length;i++){const s=Pt(t[i]);if(Array.isArray(s)){if(0===s.length)throw new ke(900,!1);let l,h=rt.Default;for(let _=0;_<s.length;_++){const w=s[_],T=Me(w);"number"==typeof T?-1===T?l=w.token:h|=T:l=w}n.push(me(l,h))}else n.push(me(s))}return n}function Ie(t,n){return t[ar]=n,t.prototype[ar]=n,t}function Me(t){return t[ar]}function Ht(t){return{toString:t}.toString()}var dn=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(dn||{}),sn=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(sn||{});const zn={},Jt=[],si=te({\u0275cmp:te}),kt=te({\u0275dir:te}),Ye=te({\u0275pipe:te}),Vt=te({\u0275mod:te}),tn=te({\u0275fac:te}),In=te({__NG_ELEMENT_ID__:te}),mn=te({__NG_ENV_ID__:te});function kn(t,n,i){let s=t.length;for(;;){const l=t.indexOf(n,i);if(-1===l)return l;if(0===l||t.charCodeAt(l-1)<=32){const h=n.length;if(l+h===s||t.charCodeAt(l+h)<=32)return l}i=l+1}}function vr(t,n,i){let s=0;for(;s<i.length;){const l=i[s];if("number"==typeof l){if(0!==l)break;s++;const h=i[s++],_=i[s++],w=i[s++];t.setAttribute(n,_,w,h)}else{const h=l,_=i[++s];cr(h)?t.setProperty(n,h,_):t.setAttribute(n,h,_),s++}}return s}function Rr(t){return 3===t||4===t||6===t}function cr(t){return 64===t.charCodeAt(0)}function Mr(t,n){if(null!==n&&0!==n.length)if(null===t||0===t.length)t=n.slice();else{let i=-1;for(let s=0;s<n.length;s++){const l=n[s];"number"==typeof l?i=l:0===i||Bi(t,i,l,null,-1===i||2===i?n[++s]:null)}}return t}function Bi(t,n,i,s,l){let h=0,_=t.length;if(-1===n)_=-1;else for(;h<t.length;){const w=t[h++];if("number"==typeof w){if(w===n){_=-1;break}if(w>n){_=h-1;break}}}for(;h<t.length;){const w=t[h];if("number"==typeof w)break;if(w===i){if(null===s)return void(null!==l&&(t[h+1]=l));if(s===t[h+1])return void(t[h+2]=l)}h++,null!==s&&h++,null!==l&&h++}-1!==_&&(t.splice(_,0,n),h=_+1),t.splice(h++,0,i),null!==s&&t.splice(h++,0,s),null!==l&&t.splice(h++,0,l)}const ji="ng-template";function Lr(t,n,i){let s=0,l=!0;for(;s<t.length;){let h=t[s++];if("string"==typeof h&&l){const _=t[s++];if(i&&"class"===h&&-1!==kn(_.toLowerCase(),n,0))return!0}else{if(1===h){for(;s<t.length&&"string"==typeof(h=t[s++]);)if(h.toLowerCase()===n)return!0;return!1}"number"==typeof h&&(l=!1)}}return!1}function Ai(t){return 4===t.type&&t.value!==ji}function Qi(t,n,i){return n===(4!==t.type||i?t.value:ji)}function ds(t,n,i){let s=4;const l=t.attrs||[],h=function Ha(t){for(let n=0;n<t.length;n++)if(Rr(t[n]))return n;return t.length}(l);let _=!1;for(let w=0;w<n.length;w++){const T=n[w];if("number"!=typeof T){if(!_)if(4&s){if(s=2|1&s,""!==T&&!Qi(t,T,i)||""===T&&1===n.length){if(wi(s))return!1;_=!0}}else{const z=8&s?T:n[++w];if(8&s&&null!==t.attrs){if(!Lr(t.attrs,z,i)){if(wi(s))return!1;_=!0}continue}const Ee=mc(8&s?"class":T,l,Ai(t),i);if(-1===Ee){if(wi(s))return!1;_=!0;continue}if(""!==z){let et;et=Ee>h?"":l[Ee+1].toLowerCase();const ft=8&s?et:null;if(ft&&-1!==kn(ft,z,0)||2&s&&z!==et){if(wi(s))return!1;_=!0}}}}else{if(!_&&!wi(s)&&!wi(T))return!1;if(_&&wi(T))continue;_=!1,s=T|1&s}}return wi(s)||_}function wi(t){return 0==(1&t)}function mc(t,n,i,s){if(null===n)return-1;let l=0;if(s||!i){let h=!1;for(;l<n.length;){const _=n[l];if(_===t)return l;if(3===_||6===_)h=!0;else{if(1===_||2===_){let w=n[++l];for(;"string"==typeof w;)w=n[++l];continue}if(4===_)break;if(0===_){l+=4;continue}}l+=h?1:2}return-1}return function hs(t,n){let i=t.indexOf(4);if(i>-1)for(i++;i<t.length;){const s=t[i];if("number"==typeof s)return-1;if(s===n)return i;i++}return-1}(n,t)}function yc(t,n,i=!1){for(let s=0;s<n.length;s++)if(ds(t,n[s],i))return!0;return!1}function da(t,n){e:for(let i=0;i<n.length;i++){const s=n[i];if(t.length===s.length){for(let l=0;l<t.length;l++)if(t[l]!==s[l])continue e;return!0}}return!1}function Ss(t,n){return t?":not("+n.trim()+")":n}function Xs(t){let n=t[0],i=1,s=2,l="",h=!1;for(;i<t.length;){let _=t[i];if("string"==typeof _)if(2&s){const w=t[++i];l+="["+_+(w.length>0?'="'+w+'"':"")+"]"}else 8&s?l+="."+_:4&s&&(l+=" "+_);else""!==l&&!wi(_)&&(n+=Ss(h,l),l=""),s=_,h=h||!wi(s);i++}return""!==l&&(n+=Ss(h,l)),n}function ri(t){return Ht(()=>{const n=Wr(t),i={...n,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===dn.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||sn.Emulated,styles:t.styles||Jt,_:null,schemas:t.schemas||null,tView:null,id:""};Ys(i);const s=t.dependencies;return i.directiveDefs=Ii(s,!1),i.pipeDefs=Ii(s,!0),i.id=function zi(t){let n=0;const i=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const l of i)n=Math.imul(31,n)+l.charCodeAt(0)<<0;return n+=2147483648,"c"+n}(i),i})}function Wo(t){return tr(t)||$r(t)}function Ea(t){return null!==t}function Go(t){return Ht(()=>({type:t.type,bootstrap:t.bootstrap||Jt,declarations:t.declarations||Jt,imports:t.imports||Jt,exports:t.exports||Jt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function wo(t,n){if(null==t)return zn;const i={};for(const s in t)if(t.hasOwnProperty(s)){let l=t[s],h=l;Array.isArray(l)&&(h=l[1],l=l[0]),i[l]=s,n&&(n[l]=h)}return i}function ai(t){return Ht(()=>{const n=Wr(t);return Ys(n),n})}function dr(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function tr(t){return t[si]||null}function $r(t){return t[kt]||null}function Ir(t){return t[Ye]||null}function Ro(t){const n=tr(t)||$r(t)||Ir(t);return null!==n&&n.standalone}function _i(t,n){const i=t[Vt]||null;if(!i&&!0===n)throw new Error(`Type ${Pe(t)} does not have '\u0275mod' property.`);return i}function Wr(t){const n={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:n,inputTransforms:null,inputConfig:t.inputs||zn,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||Jt,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:wo(t.inputs,n),outputs:wo(t.outputs)}}function Ys(t){t.features?.forEach(n=>n(t))}function Ii(t,n){if(!t)return null;const i=n?Ir:Wo;return()=>("function"==typeof t?t():t).map(s=>i(s)).filter(Ea)}const Yr=0,pn=1,Vn=2,Pr=3,ki=4,Ei=5,bi=6,Ui=7,_r=8,oo=9,yo=10,Fn=11,Fo=12,Po=13,es=14,Tr=15,go=16,Ti=17,Xi=18,Ni=19,ps=20,so=21,Vi=22,Eo=23,fs=24,ir=25,ao=1,Ko=2,Di=7,Qo=9,mr=11;function Li(t){return Array.isArray(t)&&"object"==typeof t[ao]}function Hr(t){return Array.isArray(t)&&!0===t[ao]}function ts(t){return 0!=(4&t.flags)}function vo(t){return t.componentOffset>-1}function hr(t){return 1==(1&t.flags)}function or(t){return!!t.template}function Bo(t){return 0!=(512&t[Vn])}function ns(t,n){return t.hasOwnProperty(tn)?t[tn]:null}let Yi=null,gs=!1;function qi(t){const n=Yi;return Yi=t,n}const $i={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function Wa(t){if(!xo(t)||t.dirty){if(!t.producerMustRecompute(t)&&!Fs(t))return void(t.dirty=!1);t.producerRecomputeValue(t),t.dirty=!1}}function vs(t){t.dirty=!0,function Aa(t){if(void 0===t.liveConsumerNode)return;const n=gs;gs=!0;try{for(const i of t.liveConsumerNode)i.dirty||vs(i)}finally{gs=n}}(t),t.consumerMarkedDirty?.(t)}function Ga(t){return t&&(t.nextProducerIndex=0),qi(t)}function Ls(t,n){if(qi(n),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(xo(t))for(let i=t.nextProducerIndex;i<t.producerNode.length;i++)dl(t.producerNode[i],t.producerIndexOfThis[i]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Fs(t){vc(t);for(let n=0;n<t.producerNode.length;n++){const i=t.producerNode[n],s=t.producerLastReadVersion[n];if(s!==i.version||(Wa(i),s!==i.version))return!0}return!1}function ya(t){if(vc(t),xo(t))for(let n=0;n<t.producerNode.length;n++)dl(t.producerNode[n],t.producerIndexOfThis[n]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function dl(t,n){if(function co(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}(t),vc(t),1===t.liveConsumerNode.length)for(let s=0;s<t.producerNode.length;s++)dl(t.producerNode[s],t.producerIndexOfThis[s]);const i=t.liveConsumerNode.length-1;if(t.liveConsumerNode[n]=t.liveConsumerNode[i],t.liveConsumerIndexOfThis[n]=t.liveConsumerIndexOfThis[i],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,n<t.liveConsumerNode.length){const s=t.liveConsumerIndexOfThis[n],l=t.liveConsumerNode[n];vc(l),l.producerIndexOfThis[s]=n}}function xo(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function vc(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}let Lu=null;function Et(t){const n=qi(null);try{return t()}finally{qi(n)}}const An=()=>{},Rn=(()=>({...$i,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule(t.ref)},hasRun:!1,cleanupFn:An}))();class yr{constructor(n,i,s){this.previousValue=n,this.currentValue=i,this.firstChange=s}isFirstChange(){return this.firstChange}}function lr(){return Jr}function Jr(t){return t.type.prototype.ngOnChanges&&(t.setInput=Ji),Gr}function Gr(){const t=wr(this),n=t?.current;if(n){const i=t.previous;if(i===zn)t.previous=n;else for(let s in n)i[s]=n[s];t.current=null,this.ngOnChanges(n)}}function Ji(t,n,i,s){const l=this.declaredInputs[i],h=wr(t)||function is(t,n){return t[Co]=n}(t,{previous:zn,current:null}),_=h.current||(h.current={}),w=h.previous,T=w[l];_[l]=new yr(T&&T.currentValue,n,w===zn),t[s]=n}lr.ngInherit=!0;const Co="__ngSimpleChanges__";function wr(t){return t[Co]||null}const lo=function(t,n,i){},yi="svg";function ii(t){for(;Array.isArray(t);)t=t[Yr];return t}function os(t,n){return ii(n[t])}function Ao(t,n){return ii(n[t.index])}function Uc(t,n){return t.data[n]}function zo(t,n){return t[n]}function eo(t,n){const i=n[t];return Li(i)?i:i[Yr]}function na(t,n){return null==n?null:t[n]}function ra(t){t[Ti]=0}function to(t){1024&t[Vn]||(t[Vn]|=1024,ks(t,1))}function Dr(t){1024&t[Vn]&&(t[Vn]&=-1025,ks(t,-1))}function ks(t,n){let i=t[Pr];if(null===i)return;i[Ei]+=n;let s=i;for(i=i[Pr];null!==i&&(1===n&&1===s[Ei]||-1===n&&0===s[Ei]);)i[Ei]+=n,s=i,i=i[Pr]}const $n={lFrame:Ra(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function bs(){return $n.bindingsEnabled}function _a(){return null!==$n.skipHydrationRootTNode}function Gt(){return $n.lFrame.lView}function jr(){return $n.lFrame.tView}function yl(t){return $n.lFrame.contextLView=t,t[_r]}function Ms(t){return $n.lFrame.contextLView=null,t}function ho(){let t=bc();for(;null!==t&&64===t.type;)t=t.parent;return t}function bc(){return $n.lFrame.currentTNode}function zr(t,n){const i=$n.lFrame;i.currentTNode=t,i.isParent=n}function Xa(){return $n.lFrame.isParent}function Mc(){$n.lFrame.isParent=!1}function xi(){const t=$n.lFrame;let n=t.bindingRootIndex;return-1===n&&(n=t.bindingRootIndex=t.tView.bindingStartIndex),n}function Oo(){return $n.lFrame.bindingIndex}function x(){return $n.lFrame.bindingIndex++}function S(t){const n=$n.lFrame,i=n.bindingIndex;return n.bindingIndex=n.bindingIndex+t,i}function U(t,n){const i=$n.lFrame;i.bindingIndex=i.bindingRootIndex=t,De(n)}function De(t){$n.lFrame.currentDirectiveIndex=t}function xt(){return $n.lFrame.currentQueryIndex}function yn(t){$n.lFrame.currentQueryIndex=t}function br(t){const n=t[pn];return 2===n.type?n.declTNode:1===n.type?t[bi]:null}function li(t,n,i){if(i&rt.SkipSelf){let l=n,h=t;for(;!(l=l.parent,null!==l||i&rt.Host||(l=br(h),null===l||(h=h[es],10&l.type))););if(null===l)return!1;n=l,t=h}const s=$n.lFrame=ws();return s.currentTNode=n,s.lView=t,!0}function Er(t){const n=ws(),i=t[pn];$n.lFrame=n,n.currentTNode=i.firstChild,n.lView=t,n.tView=i,n.contextLView=t,n.bindingIndex=i.bindingStartIndex,n.inI18n=!1}function ws(){const t=$n.lFrame,n=null===t?null:t.child;return null===n?Ra(t):n}function Ra(t){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=n),n}function Ya(){const t=$n.lFrame;return $n.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const Uo=Ya;function _o(){const t=Ya();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Ci(){return $n.lFrame.selectedIndex}function No(t){$n.lFrame.selectedIndex=t}function pi(){const t=$n.lFrame;return Uc(t.tView,t.selectedIndex)}function Uu(){$n.lFrame.currentNamespace=yi}function ia(){!function Dd(){$n.lFrame.currentNamespace=null}()}let Hu=!0;function Ja(){return Hu}function Zo(t){Hu=t}function Es(t,n){for(let i=n.directiveStart,s=n.directiveEnd;i<s;i++){const h=t.data[i].type.prototype,{ngAfterContentInit:_,ngAfterContentChecked:w,ngAfterViewInit:T,ngAfterViewChecked:z,ngOnDestroy:Y}=h;_&&(t.contentHooks??=[]).push(-i,_),w&&((t.contentHooks??=[]).push(i,w),(t.contentCheckHooks??=[]).push(i,w)),T&&(t.viewHooks??=[]).push(-i,T),z&&((t.viewHooks??=[]).push(i,z),(t.viewCheckHooks??=[]).push(i,z)),null!=Y&&(t.destroyHooks??=[]).push(i,Y)}}function zs(t,n,i){au(t,n,3,i)}function su(t,n,i,s){(3&t[Vn])===i&&au(t,n,i,s)}function Ec(t,n){let i=t[Vn];(3&i)===n&&(i&=8191,i+=1,t[Vn]=i)}function au(t,n,i,s){const h=s??-1,_=n.length-1;let w=0;for(let T=void 0!==s?65535&t[Ti]:0;T<_;T++)if("number"==typeof n[T+1]){if(w=n[T],null!=s&&w>=s)break}else n[T]<0&&(t[Ti]+=65536),(w<h||-1==h)&&(ap(t,i,n,T),t[Ti]=(4294901760&t[Ti])+T+2),T++}function vl(t,n){lo(4,t,n);const i=qi(null);try{n.call(t)}finally{qi(i),lo(5,t,n)}}function ap(t,n,i,s){const l=i[s]<0,h=i[s+1],w=t[l?-i[s]:i[s]];l?t[Vn]>>13<t[Ti]>>16&&(3&t[Vn])===n&&(t[Vn]+=8192,vl(w,h)):vl(w,h)}const ro=-1;class ka{constructor(n,i,s){this.factory=n,this.resolving=!1,this.canSeeViewProviders=i,this.injectImpl=s}}function qu(t){return t!==ro}function Cc(t){return 32767&t}function Ho(t,n){let i=function _l(t){return t>>16}(t),s=n;for(;i>0;)s=s[es],i--;return s}let Pa=!0;function Ac(t){const n=Pa;return Pa=t,n}const kl=255,Bh=5;let bl=0;const Xo={};function oa(t,n){const i=$u(t,n);if(-1!==i)return i;const s=n[pn];s.firstCreatePass&&(t.injectorIndex=n.length,Ml(s.data,t),Ml(n,null),Ml(s.blueprint,null));const l=Oa(t,n),h=t.injectorIndex;if(qu(l)){const _=Cc(l),w=Ho(l,n),T=w[pn].data;for(let z=0;z<8;z++)n[h+z]=w[_+z]|T[_+z]}return n[h+8]=l,h}function Ml(t,n){t.push(0,0,0,0,0,0,0,0,n)}function $u(t,n){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===n[t.injectorIndex+8]?-1:t.injectorIndex}function Oa(t,n){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let i=0,s=null,l=n;for(;null!==l;){if(s=Od(l),null===s)return ro;if(i++,l=l[es],-1!==s.injectorIndex)return s.injectorIndex|i<<16}return ro}function wl(t,n,i){!function lu(t,n,i){let s;"string"==typeof i?s=i.charCodeAt(0)||0:i.hasOwnProperty(In)&&(s=i[In]),null==s&&(s=i[In]=bl++);const l=s&kl;n.data[t+(l>>Bh)]|=1<<l}(t,n,i)}function uu(t,n,i){if(i&rt.Optional||void 0!==t)return t;gn()}function Rd(t,n,i,s){if(i&rt.Optional&&void 0===s&&(s=null),!(i&(rt.Self|rt.Host))){const l=t[oo],h=Fe(void 0);try{return l?l.get(n,s,i&rt.Optional):Ae(n,s,i&rt.Optional)}finally{Fe(h)}}return uu(s,0,i)}function El(t,n,i,s=rt.Default,l){if(null!==t){if(2048&n[Vn]&&!(s&rt.Self)){const _=function nc(t,n,i,s,l){let h=t,_=n;for(;null!==h&&null!==_&&2048&_[Vn]&&!(512&_[Vn]);){const w=ec(h,_,i,s|rt.Self,Xo);if(w!==Xo)return w;let T=h.parent;if(!T){const z=_[ps];if(z){const Y=z.get(i,Xo,s);if(Y!==Xo)return Y}T=Od(_),_=_[es]}h=T}return l}(t,n,i,s,Xo);if(_!==Xo)return _}const h=ec(t,n,i,s,Xo);if(h!==Xo)return h}return Rd(n,i,s,l)}function ec(t,n,i,s,l){const h=function Pd(t){if("string"==typeof t)return t.charCodeAt(0)||0;const n=t.hasOwnProperty(In)?t[In]:void 0;return"number"==typeof n?n>=0?n&kl:Kc:n}(i);if("function"==typeof h){if(!li(n,t,s))return s&rt.Host?uu(l,0,s):Rd(n,i,s,l);try{let _;if(_=h(s),null!=_||s&rt.Optional)return _;gn()}finally{Uo()}}else if("number"==typeof h){let _=null,w=$u(t,n),T=ro,z=s&rt.Host?n[Tr][bi]:null;for((-1===w||s&rt.SkipSelf)&&(T=-1===w?Oa(t,n):n[w+8],T!==ro&&Wc(s,!1)?(_=n[pn],w=Cc(T),n=Ho(T,n)):w=-1);-1!==w;){const Y=n[pn];if(Io(h,w,Y.data)){const Ee=xl(w,n,i,_,s,z);if(Ee!==Xo)return Ee}T=n[w+8],T!==ro&&Wc(s,n[pn].data[w+8]===z)&&Io(h,w,n)?(_=Y,w=Cc(T),n=Ho(T,n)):w=-1}}return l}function xl(t,n,i,s,l,h){const _=n[pn],w=_.data[t+8],Y=Na(w,_,i,null==s?vo(w)&&Pa:s!=_&&0!=(3&w.type),l&rt.Host&&h===w);return null!==Y?Us(n,_,Y,w):Xo}function Na(t,n,i,s,l){const h=t.providerIndexes,_=n.data,w=1048575&h,T=t.directiveStart,Y=h>>20,et=l?w+Y:t.directiveEnd;for(let ft=s?w:w+Y;ft<et;ft++){const Ut=_[ft];if(ft<T&&i===Ut||ft>=T&&Ut.type===i)return ft}if(l){const ft=_[T];if(ft&&or(ft)&&ft.type===i)return T}return null}function Us(t,n,i,s){let l=t[i];const h=n.data;if(function cu(t){return t instanceof ka}(l)){const _=l;_.resolving&&function _t(t,n){const i=n?`. Dependency path: ${n.join(" > ")} > ${t}`:"";throw new ke(-200,`Circular dependency in DI detected for ${t}${i}`)}(function $e(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():je(t)}(h[i]));const w=Ac(_.canSeeViewProviders);_.resolving=!0;const z=_.injectImpl?Fe(_.injectImpl):null;li(t,s,rt.Default);try{l=t[i]=_.factory(void 0,h,t,s),n.firstCreatePass&&i>=s.directiveStart&&function wc(t,n,i){const{ngOnChanges:s,ngOnInit:l,ngDoCheck:h}=n.type.prototype;if(s){const _=Jr(n);(i.preOrderHooks??=[]).push(t,_),(i.preOrderCheckHooks??=[]).push(t,_)}l&&(i.preOrderHooks??=[]).push(0-t,l),h&&((i.preOrderHooks??=[]).push(t,h),(i.preOrderCheckHooks??=[]).push(t,h))}(i,h[i],n)}finally{null!==z&&Fe(z),Ac(w),_.resolving=!1,Uo()}}return l}function Io(t,n,i){return!!(i[n+(t>>Bh)]&1<<t)}function Wc(t,n){return!(t&rt.Self||t&rt.Host&&n)}class Vo{constructor(n,i){this._tNode=n,this._lView=i}get(n,i,s){return El(this._tNode,this._lView,n,ct(s),i)}}function Kc(){return new Vo(ho(),Gt())}function tc(t){return Ht(()=>{const n=t.prototype.constructor,i=n[tn]||du(n),s=Object.prototype;let l=Object.getPrototypeOf(t.prototype).constructor;for(;l&&l!==s;){const h=l[tn]||du(l);if(h&&h!==i)return h;l=Object.getPrototypeOf(l)}return h=>new h})}function du(t){return Ot(t)?()=>{const n=du(Pt(t));return n&&n()}:ns(t)}function Od(t){const n=t[pn],i=n.type;return 2===i?n.declTNode:1===i?t[bi]:null}function Va(t){return function $c(t,n){if("class"===n)return t.classes;if("style"===n)return t.styles;const i=t.attrs;if(i){const s=i.length;let l=0;for(;l<s;){const h=i[l];if(Rr(h))break;if(0===h)l+=2;else if("number"==typeof h)for(l++;l<s&&"string"==typeof i[l];)l++;else{if(h===n)return i[l+1];l+=2}}}return null}(ho(),t)}const Hs="__parameters__";function Cl(t,n,i){return Ht(()=>{const s=function hu(t){return function(...i){if(t){const s=t(...i);for(const l in s)this[l]=s[l]}}}(n);function l(...h){if(this instanceof l)return s.apply(this,h),this;const _=new l(...h);return w.annotation=_,w;function w(T,z,Y){const Ee=T.hasOwnProperty(Hs)?T[Hs]:Object.defineProperty(T,Hs,{value:[]})[Hs];for(;Ee.length<=Y;)Ee.push(null);return(Ee[Y]=Ee[Y]||[]).push(_),T}}return i&&(l.prototype=Object.create(i.prototype)),l.prototype.ngMetadataName=t,l.annotationCls=l,l})}function Al(t,n){t.forEach(i=>Array.isArray(i)?Al(i,n):n(i))}function Xu(t,n,i){n>=t.length?t.push(i):t.splice(n,0,i)}function Wi(t,n){return n>=t.length-1?t.pop():t.splice(n,1)[0]}function fu(t,n){const i=[];for(let s=0;s<t;s++)i.push(n);return i}function As(t,n,i){let s=ic(t,n);return s>=0?t[1|s]=i:(s=~s,function Hh(t,n,i,s){let l=t.length;if(l==n)t.push(i,s);else if(1===l)t.push(s,t[0]),t[0]=i;else{for(l--,t.push(t[l-1],t[l]);l>n;)t[l]=t[l-2],l--;t[n]=i,t[n+1]=s}}(t,s,n,i)),s}function Il(t,n){const i=ic(t,n);if(i>=0)return t[1|i]}function ic(t,n){return function Ld(t,n,i){let s=0,l=t.length>>i;for(;l!==s;){const h=s+(l-s>>1),_=t[h<<i];if(n===_)return h<<i;_>n?l=h:s=h+1}return~(l<<i)}(t,n,1)}const Rl=Ie(Cl("Optional"),8),Yo=Ie(Cl("SkipSelf"),4);function oe(t){return 128==(128&t.flags)}var ze=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(ze||{});const ht=/^>|^->|<!--|-->|--!>|<!-$/g,qt=/(<|>)/g,cn="\u200b$1\u200b";const Dn=new Map;let bn=0;const Gi="__ngContext__";function ui(t,n){Li(n)?(t[Gi]=n[Ni],function Jn(t){Dn.set(t[Ni],t)}(n)):t[Gi]=n}let io;function ca(t,n){return io(t,n)}function la(t){const n=t[Pr];return Hr(n)?n[Pr]:n}function E(t){return v(t[Fo])}function d(t){return v(t[ki])}function v(t){for(;null!==t&&!Hr(t);)t=t[ki];return t}function I(t,n,i,s,l){if(null!=s){let h,_=!1;Hr(s)?h=s:Li(s)&&(_=!0,s=s[Yr]);const w=ii(s);0===t&&null!==i?null==l?qd(n,i,w):ja(n,i,w,l||null,!0):1===t&&null!==i?ja(n,i,w,l||null,!0):2===t?function Wd(t,n,i){const s=hp(t,n);s&&function e1(t,n,i,s){t.removeChild(n,i,s)}(t,s,n,i)}(n,w,_):3===t&&n.destroyNode(w),null!=h&&function Lf(t,n,i,s,l){const h=i[Di];h!==ii(i)&&I(n,t,s,h,l);for(let w=mr;w<i.length;w++){const T=i[w];cd(T[pn],T,t,n,s,h)}}(n,t,h,i,l)}}function Je(t,n){return t.createComment(function Bn(t){return t.replace(ht,n=>n.replace(qt,cn))}(n))}function Ct(t,n,i){return t.createElement(n,i)}function Jc(t,n){const i=t[Qo],s=i.indexOf(n);Dr(n),i.splice(s,1)}function Ba(t,n){if(t.length<=mr)return;const i=mr+n,s=t[i];if(s){const l=s[go];null!==l&&l!==t&&Jc(l,s),n>0&&(t[i-1][ki]=s[ki]);const h=Wi(t,mr+n);!function Wt(t,n){cd(t,n,n[Fn],2,null,null),n[Yr]=null,n[bi]=null}(s[pn],s);const _=h[Xi];null!==_&&_.detachView(h[pn]),s[Pr]=null,s[ki]=null,s[Vn]&=-129}return s}function Bl(t,n){if(!(256&n[Vn])){const i=n[Fn];n[Eo]&&ya(n[Eo]),n[fs]&&ya(n[fs]),i.destroyNode&&cd(t,n,i,3,null,null),function rr(t){let n=t[Fo];if(!n)return bu(t[pn],t);for(;n;){let i=null;if(Li(n))i=n[Fo];else{const s=n[mr];s&&(i=s)}if(!i){for(;n&&!n[ki]&&n!==t;)Li(n)&&bu(n[pn],n),n=n[Pr];null===n&&(n=t),Li(n)&&bu(n[pn],n),i=n&&n[ki]}n=i}}(n)}}function bu(t,n){if(!(256&n[Vn])){n[Vn]&=-129,n[Vn]|=256,function Jh(t,n){let i;if(null!=t&&null!=(i=t.destroyHooks))for(let s=0;s<i.length;s+=2){const l=n[i[s]];if(!(l instanceof ka)){const h=i[s+1];if(Array.isArray(h))for(let _=0;_<h.length;_+=2){const w=l[h[_]],T=h[_+1];lo(4,w,T);try{T.call(w)}finally{lo(5,w,T)}}else{lo(4,l,h);try{h.call(l)}finally{lo(5,l,h)}}}}}(t,n),function Ud(t,n){const i=t.cleanup,s=n[Ui];if(null!==i)for(let h=0;h<i.length-1;h+=2)if("string"==typeof i[h]){const _=i[h+3];_>=0?s[_]():s[-_].unsubscribe(),h+=2}else i[h].call(s[i[h+1]]);null!==s&&(n[Ui]=null);const l=n[so];if(null!==l){n[so]=null;for(let h=0;h<l.length;h++)(0,l[h])()}}(t,n),1===n[pn].type&&n[Fn].destroy();const i=n[go];if(null!==i&&Hr(n[Pr])){i!==n[Pr]&&Jc(i,n);const s=n[Xi];null!==s&&s.detachView(t)}!function gi(t){Dn.delete(t[Ni])}(n)}}function Hd(t,n,i){return function ad(t,n,i){let s=n;for(;null!==s&&40&s.type;)s=(n=s).parent;if(null===s)return i[Yr];{const{componentOffset:l}=s;if(l>-1){const{encapsulation:h}=t.data[s.directiveStart+l];if(h===sn.None||h===sn.Emulated)return null}return Ao(s,i)}}(t,n.parent,i)}function ja(t,n,i,s,l){t.insertBefore(n,i,s,l)}function qd(t,n,i){t.appendChild(n,i)}function $d(t,n,i,s,l){null!==s?ja(t,n,i,s,l):qd(t,n,i)}function hp(t,n){return t.parentNode(n)}function Df(t,n,i){return Rf(t,n,i)}let Pf,r1,zf,Kd,Rf=function Sf(t,n,i){return 40&t.type?Ao(t,i):null};function pp(t,n,i,s){const l=Hd(t,s,n),h=n[Fn],w=Df(s.parent||n[bi],s,n);if(null!=l)if(Array.isArray(i))for(let T=0;T<i.length;T++)$d(h,l,i[T],w,!1);else $d(h,l,i,w,!1);void 0!==Pf&&Pf(h,s,n,i,l)}function t1(t,n){if(null!==n){const i=n.type;if(3&i)return Ao(n,t);if(4&i)return Of(-1,t[n.index]);if(8&i){const s=n.child;if(null!==s)return t1(t,s);{const l=t[n.index];return Hr(l)?Of(-1,l):ii(l)}}if(32&i)return ca(n,t)()||ii(t[n.index]);{const s=fp(t,n);return null!==s?Array.isArray(s)?s[0]:t1(la(t[Tr]),s):t1(t,n.next)}}return null}function fp(t,n){return null!==n?t[Tr][bi].projection[n.projection]:null}function Of(t,n){const i=mr+t+1;if(i<n.length){const s=n[i],l=s[pn].firstChild;if(null!==l)return t1(s,l)}return n[Di]}function n1(t,n,i,s,l,h,_){for(;null!=i;){const w=s[i.index],T=i.type;if(_&&0===n&&(w&&ui(ii(w),s),i.flags|=2),32!=(32&i.flags))if(8&T)n1(t,n,i.child,s,l,h,!1),I(n,t,l,w,h);else if(32&T){const z=ca(i,s);let Y;for(;Y=z();)I(n,t,l,Y,h);I(n,t,l,w,h)}else 16&T?L2(t,n,s,i,l,h):I(n,t,l,w,h);i=_?i.projectionNext:i.next}}function cd(t,n,i,s,l,h){n1(i,s,t.firstChild,n,l,h,!1)}function L2(t,n,i,s,l,h){const _=i[Tr],T=_[bi].projection[s.projection];if(Array.isArray(T))for(let z=0;z<T.length;z++)I(n,t,l,T[z],h);else{let z=T;const Y=_[Pr];oe(s)&&(z.flags|=128),n1(t,n,z,Y,l,h,!0)}}function F2(t,n,i){""===i?t.removeAttribute(n,"class"):t.setAttribute(n,"class",i)}function mp(t,n,i){const{mergedAttrs:s,classes:l,styles:h}=i;null!==s&&vr(t,n,s),null!==l&&F2(t,n,l),null!==h&&function Ff(t,n,i){t.setAttribute(n,"style",i)}(t,n,h)}function ld(t){return function o1(){if(void 0===r1&&(r1=null,it.trustedTypes))try{r1=it.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return r1}()?.createHTML(t)||t}function Uf(t){zf=t}function Hf(t){return function s1(){if(void 0===Kd&&(Kd=null,it.trustedTypes))try{Kd=it.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Kd}()?.createScriptURL(t)||t}class jl{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Xt})`}}class ug extends jl{getTypeName(){return"HTML"}}class qf extends jl{getTypeName(){return"Style"}}class zl extends jl{getTypeName(){return"Script"}}class $f extends jl{getTypeName(){return"URL"}}class dg extends jl{getTypeName(){return"ResourceURL"}}function Oc(t){return t instanceof jl?t.changingThisBreaksApplicationSecurity:t}function Qd(t,n){const i=function hg(t){return t instanceof jl&&t.getTypeName()||null}(t);if(null!=i&&i!==n){if("ResourceURL"===i&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${i} (see ${Xt})`)}return i===n}function Wf(t){return new ug(t)}function pg(t){return new qf(t)}function Gf(t){return new zl(t)}function fg(t){return new $f(t)}function Kf(t){return new dg(t)}class Qf{constructor(n){this.inertDocumentHelper=n}getInertBodyElement(n){n="<body><remove></remove>"+n;try{const i=(new window.DOMParser).parseFromString(ld(n),"text/html").body;return null===i?this.inertDocumentHelper.getInertBodyElement(n):(i.removeChild(i.firstChild),i)}catch{return null}}}class j2{constructor(n){this.defaultDoc=n,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(n){const i=this.inertDocument.createElement("template");return i.innerHTML=ld(n),i}}const z2=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function a1(t){return(t=String(t)).match(z2)?t:"unsafe:"+t}function Ul(t){const n={};for(const i of t.split(","))n[i]=!0;return n}function dd(...t){const n={};for(const i of t)for(const s in i)i.hasOwnProperty(s)&&(n[s]=!0);return n}const U2=Ul("area,br,col,hr,img,wbr"),gp=Ul("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),c1=Ul("rp,rt"),Xf=dd(U2,dd(gp,Ul("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),dd(c1,Ul("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),dd(c1,gp)),u1=Ul("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Yf=dd(u1,Ul("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Ul("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),vp=Ul("script,style,template");class yg{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(n){let i=n.firstChild,s=!0;for(;i;)if(i.nodeType===Node.ELEMENT_NODE?s=this.startElement(i):i.nodeType===Node.TEXT_NODE?this.chars(i.nodeValue):this.sanitizedSomething=!0,s&&i.firstChild)i=i.firstChild;else for(;i;){i.nodeType===Node.ELEMENT_NODE&&this.endElement(i);let l=this.checkClobberedElement(i,i.nextSibling);if(l){i=l;break}i=this.checkClobberedElement(i,i.parentNode)}return this.buf.join("")}startElement(n){const i=n.nodeName.toLowerCase();if(!Xf.hasOwnProperty(i))return this.sanitizedSomething=!0,!vp.hasOwnProperty(i);this.buf.push("<"),this.buf.push(i);const s=n.attributes;for(let l=0;l<s.length;l++){const h=s.item(l),_=h.name,w=_.toLowerCase();if(!Yf.hasOwnProperty(w)){this.sanitizedSomething=!0;continue}let T=h.value;u1[w]&&(T=a1(T)),this.buf.push(" ",_,'="',q2(T),'"')}return this.buf.push(">"),!0}endElement(n){const i=n.nodeName.toLowerCase();Xf.hasOwnProperty(i)&&!U2.hasOwnProperty(i)&&(this.buf.push("</"),this.buf.push(i),this.buf.push(">"))}chars(n){this.buf.push(q2(n))}checkClobberedElement(n,i){if(i&&(n.compareDocumentPosition(i)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`);return i}}const gg=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,vg=/([^\#-~ |!])/g;function q2(t){return t.replace(/&/g,"&amp;").replace(gg,function(n){return"&#"+(1024*(n.charCodeAt(0)-55296)+(n.charCodeAt(1)-56320)+65536)+";"}).replace(vg,function(n){return"&#"+n.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Zd;function _p(t,n){let i=null;try{Zd=Zd||function B2(t){const n=new j2(t);return function Zf(){try{return!!(new window.DOMParser).parseFromString(ld(""),"text/html")}catch{return!1}}()?new Qf(n):n}(t);let s=n?String(n):"";i=Zd.getInertBodyElement(s);let l=5,h=s;do{if(0===l)throw new Error("Failed to sanitize html because the input is unstable");l--,s=h,h=i.innerHTML,i=Zd.getInertBodyElement(s)}while(s!==h);return ld((new yg).sanitizeChildren(kp(i)||i))}finally{if(i){const s=kp(i)||i;for(;s.firstChild;)s.removeChild(s.firstChild)}}}function kp(t){return"content"in t&&function Jf(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var Hl=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Hl||{});function h1(t){const n=p1();return n?n.sanitize(Hl.URL,t)||"":Qd(t,"URL")?Oc(t):a1(je(t))}function t0(t){const n=p1();if(n)return Hf(n.sanitize(Hl.RESOURCE_URL,t)||"");if(Qd(t,"ResourceURL"))return Hf(Oc(t));throw new ke(904,!1)}function hd(t,n,i){return function W2(t,n){return"src"===n&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===n&&("base"===t||"link"===t)?t0:h1}(n,i)(t)}function p1(){const t=Gt();return t&&t[yo].sanitizer}const f1=new Dt("ENVIRONMENT_INITIALIZER"),r0=new Dt("INJECTOR",-1),K2=new Dt("INJECTOR_DEF_TYPES");class Mp{get(n,i=Xr){if(i===Xr){const s=new Error(`NullInjectorError: No provider for ${Pe(n)}!`);throw s.name="NullInjectorError",s}return i}}function o0(t){return{\u0275providers:t}}function _g(...t){return{\u0275providers:Q2(0,t),\u0275fromNgModule:!0}}function Q2(t,...n){const i=[],s=new Set;let l;const h=_=>{i.push(_)};return Al(n,_=>{const w=_;wp(w,h,[],s)&&(l||=[],l.push(w))}),void 0!==l&&Z2(l,h),i}function Z2(t,n){for(let i=0;i<t.length;i++){const{ngModule:s,providers:l}=t[i];s0(l,h=>{n(h,s)})}}function wp(t,n,i,s){if(!(t=Pt(t)))return!1;let l=null,h=kr(t);const _=!h&&tr(t);if(h||_){if(_&&!_.standalone)return!1;l=t}else{const T=t.ngModule;if(h=kr(T),!h)return!1;l=T}const w=s.has(l);if(_){if(w)return!1;if(s.add(l),_.dependencies){const T="function"==typeof _.dependencies?_.dependencies():_.dependencies;for(const z of T)wp(z,n,i,s)}}else{if(!h)return!1;{if(null!=h.imports&&!w){let z;s.add(l);try{Al(h.imports,Y=>{wp(Y,n,i,s)&&(z||=[],z.push(Y))})}finally{}void 0!==z&&Z2(z,n)}if(!w){const z=ns(l)||(()=>new l);n({provide:l,useFactory:z,deps:Jt},l),n({provide:K2,useValue:l,multi:!0},l),n({provide:f1,useValue:()=>me(l),multi:!0},l)}const T=h.providers;if(null!=T&&!w){const z=t;s0(T,Y=>{n(Y,z)})}}}return l!==t&&void 0!==t.providers}function s0(t,n){for(let i of t)wt(i)&&(i=i.\u0275providers),Array.isArray(i)?s0(i,n):n(i)}const X2=te({provide:String,useValue:te});function Ep(t){return null!==t&&"object"==typeof t&&X2 in t}function Mu(t){return"function"==typeof t}const Yd=new Dt("Set Injector scope."),Or={},J2={};let Cp;function wu(){return void 0===Cp&&(Cp=new Mp),Cp}class Nc{}class bo extends Nc{get destroyed(){return this._destroyed}constructor(n,i,s,l){super(),this.parent=i,this.source=s,this.scopes=l,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,m1(n,_=>this.processProvider(_)),this.records.set(r0,pd(void 0,this)),l.has("environment")&&this.records.set(Nc,pd(void 0,this));const h=this.records.get(Yd);null!=h&&"string"==typeof h.value&&this.scopes.add(h.value),this.injectorDefTypes=new Set(this.get(K2.multi,Jt,rt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const i of this._ngOnDestroyHooks)i.ngOnDestroy();const n=this._onDestroyHooks;this._onDestroyHooks=[];for(const i of n)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(n){return this.assertNotDestroyed(),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){this.assertNotDestroyed();const i=xe(this),s=Fe(void 0);try{return n()}finally{xe(i),Fe(s)}}get(n,i=Xr,s=rt.Default){if(this.assertNotDestroyed(),n.hasOwnProperty(mn))return n[mn](this);s=ct(s);const h=xe(this),_=Fe(void 0);try{if(!(s&rt.SkipSelf)){let T=this.records.get(n);if(void 0===T){const z=function tm(t){return"function"==typeof t||"object"==typeof t&&t instanceof Dt}(n)&&Xn(n);T=z&&this.injectableDefInScope(z)?pd(fo(n),Or):null,this.records.set(n,T)}if(null!=T)return this.hydrate(n,T)}return(s&rt.Self?wu():this.parent).get(n,i=s&rt.Optional&&i===Xr?null:i)}catch(w){if("NullInjectorError"===w.name){if((w[hi]=w[hi]||[]).unshift(Pe(n)),h)throw w;return function Ve(t,n,i,s){const l=t[hi];throw n[R]&&l.unshift(n[R]),t.message=function Rt(t,n,i,s=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let l=Pe(n);if(Array.isArray(n))l=n.map(Pe).join(" -> ");else if("object"==typeof n){let h=[];for(let _ in n)if(n.hasOwnProperty(_)){let w=n[_];h.push(_+":"+("string"==typeof w?JSON.stringify(w):Pe(w)))}l=`{${h.join(", ")}}`}return`${i}${s?"("+s+")":""}[${l}]: ${t.replace(pe,"\n  ")}`}("\n"+t.message,l,i,s),t.ngTokenPath=l,t[hi]=null,t}(w,n,"R3InjectorError",this.source)}throw w}finally{Fe(_),xe(h)}}resolveInjectorInitializers(){const n=xe(this),i=Fe(void 0);try{const l=this.get(f1.multi,Jt,rt.Self);for(const h of l)h()}finally{xe(n),Fe(i)}}toString(){const n=[],i=this.records;for(const s of i.keys())n.push(Pe(s));return`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ke(205,!1)}processProvider(n){let i=Mu(n=Pt(n))?n:Pt(n&&n.provide);const s=function kg(t){return Ep(t)?pd(void 0,t.useValue):pd(em(t),Or)}(n);if(Mu(n)||!0!==n.multi)this.records.get(i);else{let l=this.records.get(i);l||(l=pd(void 0,Or,!0),l.factory=()=>Kt(l.multi),this.records.set(i,l)),i=n,l.multi.push(n)}this.records.set(i,s)}hydrate(n,i){return i.value===Or&&(i.value=J2,i.value=i.factory()),"object"==typeof i.value&&i.value&&function c0(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(i.value)&&this._ngOnDestroyHooks.add(i.value),i.value}injectableDefInScope(n){if(!n.providedIn)return!1;const i=Pt(n.providedIn);return"string"==typeof i?"any"===i||this.scopes.has(i):this.injectorDefTypes.has(i)}removeOnDestroy(n){const i=this._onDestroyHooks.indexOf(n);-1!==i&&this._onDestroyHooks.splice(i,1)}}function fo(t){const n=Xn(t),i=null!==n?n.factory:ns(t);if(null!==i)return i;if(t instanceof Dt)throw new ke(204,!1);if(t instanceof Function)return function Vc(t){const n=t.length;if(n>0)throw fu(n,"?"),new ke(204,!1);const i=function Vr(t){return t&&(t[Bt]||t[Se])||null}(t);return null!==i?()=>i.factory(t):()=>new t}(t);throw new ke(204,!1)}function em(t,n,i){let s;if(Mu(t)){const l=Pt(t);return ns(l)||fo(l)}if(Ep(t))s=()=>Pt(t.useValue);else if(function a0(t){return!(!t||!t.useFactory)}(t))s=()=>t.useFactory(...Kt(t.deps||[]));else if(function xp(t){return!(!t||!t.useExisting)}(t))s=()=>me(Pt(t.useExisting));else{const l=Pt(t&&(t.useClass||t.provide));if(!function Jd(t){return!!t.deps}(t))return ns(l)||fo(l);s=()=>new l(...Kt(t.deps))}return s}function pd(t,n,i=!1){return{factory:t,value:n,multi:i?[]:void 0}}function m1(t,n){for(const i of t)Array.isArray(i)?m1(i,n):i&&wt(i)?m1(i.\u0275providers,n):n(i)}const l0=new Dt("AppId",{providedIn:"root",factory:()=>bg}),bg="ng",Pi=new Dt("Platform Initializer"),u0=new Dt("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),mo=new Dt("AnimationModuleType"),nm=new Dt("CSP nonce",{providedIn:"root",factory:()=>function Gd(){if(void 0!==zf)return zf;if(typeof document<"u")return document;throw new ke(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let im=(t,n,i)=>null;function nh(t,n,i=!1){return im(t,n,i)}class lm{}class Eu{}class k1{resolveComponentFactory(n){throw function um(t){const n=Error(`No component factory found for ${Pe(t)}.`);return n.ngComponent=t,n}(n)}}let b1=(()=>{class t{static{this.NULL=new k1}}return t})();function Sp(){return Wl(ho(),Gt())}function Wl(t,n){return new oh(Ao(t,n))}let oh=(()=>{class t{constructor(i){this.nativeElement=i}static{this.__NG_ELEMENT_ID__=Sp}}return t})();function M1(t){return t instanceof oh?t.nativeElement:t}class hm{}let Rp=(()=>{class t{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>function pm(){const t=Gt(),i=eo(ho().index,t);return(Li(i)?i:t)[Fn]}()}}return t})(),g0=(()=>{class t{static{this.\u0275prov=vt({token:t,providedIn:"root",factory:()=>null})}}return t})();class gd{constructor(n){this.full=n,this.major=n.split(".")[0],this.minor=n.split(".")[1],this.patch=n.split(".").slice(2).join(".")}}const fm=new gd("16.2.12"),xu={};function vm(t,n=null,i=null,s){const l=sh(t,n,i,s);return l.resolveInjectorInitializers(),l}function sh(t,n=null,i=null,s,l=new Set){const h=[i||Jt,_g(t)];return s=s||("object"==typeof t?void 0:Pe(t)),new bo(h,n||wu(),s||null,l)}let Lc=(()=>{class t{static{this.THROW_IF_NOT_FOUND=Xr}static{this.NULL=new Mp}static create(i,s){if(Array.isArray(i))return vm({name:""},s,i,"");{const l=i.name??"";return vm({name:l},i.parent,i.providers,l)}}static{this.\u0275prov=vt({token:t,providedIn:"any",factory:()=>me(r0)})}static{this.__NG_ELEMENT_ID__=-1}}return t})();function Op(t){return t.ngOriginalError}class Kl{constructor(){this._console=console}handleError(n){const i=this._findOriginalError(n);this._console.error("ERROR",n),i&&this._console.error("ORIGINAL ERROR",i)}_findOriginalError(n){let i=n&&Op(n);for(;i&&Op(i);)i=Op(i);return i||null}}function _0(t){return n=>{setTimeout(t,void 0,n)}}const nl=class Np extends f.B{constructor(n=!1){super(),this.__isAsync=n}emit(n){super.next(n)}subscribe(n,i,s){let l=n,h=i||(()=>null),_=s;if(n&&"object"==typeof n){const T=n;l=T.next?.bind(T),h=T.error?.bind(T),_=T.complete?.bind(T)}this.__isAsync&&(h=_0(h),l&&(l=_0(l)),_&&(_=_0(_)));const w=super.subscribe({next:l,error:h,complete:_});return n instanceof G.yU&&n.add(w),w}};function bm(...t){}class cs{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:i=!1,shouldCoalesceRunChangeDetection:s=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new nl(!1),this.onMicrotaskEmpty=new nl(!1),this.onStable=new nl(!1),this.onError=new nl(!1),typeof Zone>"u")throw new ke(908,!1);Zone.assertZonePatched();const l=this;l._nesting=0,l._outer=l._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(l._inner=l._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(l._inner=l._inner.fork(Zone.longStackTraceZoneSpec)),l.shouldCoalesceEventChangeDetection=!s&&i,l.shouldCoalesceRunChangeDetection=s,l.lastRequestAnimationFrameId=-1,l.nativeRequestAnimationFrame=function Mm(){const t="function"==typeof it.requestAnimationFrame;let n=it[t?"requestAnimationFrame":"setTimeout"],i=it[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&n&&i){const s=n[Zone.__symbol__("OriginalDelegate")];s&&(n=s);const l=i[Zone.__symbol__("OriginalDelegate")];l&&(i=l)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:i}}().nativeRequestAnimationFrame,function vd(t){const n=()=>{!function C1(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(it,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,k0(t),t.isCheckStableRunning=!0,Ql(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),k0(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(i,s,l,h,_,w)=>{if(function Ig(t){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0].data?.__ignore_ng_zone__}(w))return i.invokeTask(l,h,_,w);try{return wm(t),i.invokeTask(l,h,_,w)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===h.type||t.shouldCoalesceRunChangeDetection)&&n(),Em(t)}},onInvoke:(i,s,l,h,_,w,T)=>{try{return wm(t),i.invoke(l,h,_,w,T)}finally{t.shouldCoalesceRunChangeDetection&&n(),Em(t)}},onHasTask:(i,s,l,h)=>{i.hasTask(l,h),s===l&&("microTask"==h.change?(t._hasPendingMicrotasks=h.microTask,k0(t),Ql(t)):"macroTask"==h.change&&(t.hasPendingMacrotasks=h.macroTask))},onHandleError:(i,s,l,h)=>(i.handleError(l,h),t.runOutsideAngular(()=>t.onError.emit(h)),!1)})}(l)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!cs.isInAngularZone())throw new ke(909,!1)}static assertNotInAngularZone(){if(cs.isInAngularZone())throw new ke(909,!1)}run(n,i,s){return this._inner.run(n,i,s)}runTask(n,i,s,l){const h=this._inner,_=h.scheduleEventTask("NgZoneEvent: "+l,n,Cu,bm,bm);try{return h.runTask(_,i,s)}finally{h.cancelTask(_)}}runGuarded(n,i,s){return this._inner.runGuarded(n,i,s)}runOutsideAngular(n){return this._outer.run(n)}}const Cu={};function Ql(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function k0(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function wm(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Em(t){t._nesting--,Ql(t)}class Au{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new nl,this.onMicrotaskEmpty=new nl,this.onStable=new nl,this.onError=new nl}run(n,i,s){return n.apply(i,s)}runGuarded(n,i,s){return n.apply(i,s)}runOutsideAngular(n){return n()}runTask(n,i,s,l){return n.apply(i,s)}}const xm=new Dt("",{providedIn:"root",factory:Cm});function Cm(){const t=Ce(cs);let n=!0;const i=new ge.c(l=>{n=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{l.next(n),l.complete()})}),s=new ge.c(l=>{let h;t.runOutsideAngular(()=>{h=t.onStable.subscribe(()=>{cs.assertNotInAngularZone(),queueMicrotask(()=>{!n&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(n=!0,l.next(!0))})})});const _=t.onUnstable.subscribe(()=>{cs.assertInAngularZone(),n&&(n=!1,t.runOutsideAngular(()=>{l.next(!1)}))});return()=>{h.unsubscribe(),_.unsubscribe()}});return(0,le.h)(i,s.pipe((0,Oe.u)()))}function Zl(t){return t instanceof Function?t():t}let Lp=(()=>{class t{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static{this.\u0275prov=vt({token:t,providedIn:"root",factory:()=>new t})}}return t})();function lh(t){for(;t;){t[Vn]|=64;const n=la(t);if(Bo(t)&&!n)return t;t=n}return null}const Dm=new Dt("",{providedIn:"root",factory:()=>!1});let A1=null;function Pm(t,n){return t[n]??Nm()}function Om(t,n){const i=Nm();i.producerNode?.length&&(t[n]=A1,i.lView=t,A1=M0())}const Fg={...$i,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{lh(t.lView)},lView:null};function M0(){return Object.create(Fg)}function Nm(){return A1??=M0(),A1}const xr={};function Vm(t){Lm(jr(),Gt(),Ci()+t,!1)}function Lm(t,n,i,s){if(!s)if(3==(3&n[Vn])){const h=t.preOrderCheckHooks;null!==h&&zs(n,h,i)}else{const h=t.preOrderHooks;null!==h&&su(n,h,0,i)}No(i)}function uh(t,n=rt.Default){const i=Gt();return null===i?me(t,n):El(ho(),i,Pt(t),n)}function w0(){throw new Error("invalid")}function Bp(t,n,i,s,l,h,_,w,T,z,Y){const Ee=n.blueprint.slice();return Ee[Yr]=l,Ee[Vn]=140|s,(null!==z||t&&2048&t[Vn])&&(Ee[Vn]|=2048),ra(Ee),Ee[Pr]=Ee[es]=t,Ee[_r]=i,Ee[yo]=_||t&&t[yo],Ee[Fn]=w||t&&t[Fn],Ee[oo]=T||t&&t[oo]||null,Ee[bi]=h,Ee[Ni]=function Ln(){return bn++}(),Ee[Vi]=Y,Ee[ps]=z,Ee[Tr]=2==n.type?t[Tr]:Ee,Ee}function dh(t,n,i,s,l){let h=t.data[n];if(null===h)h=function E0(t,n,i,s,l){const h=bc(),_=Xa(),T=t.data[n]=function Um(t,n,i,s,l,h){let _=n?n.injectorIndex:-1,w=0;return _a()&&(w|=128),{type:i,index:s,insertBeforeIndex:null,injectorIndex:_,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:w,providerIndexes:0,value:l,attrs:h,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,_?h:h&&h.parent,i,n,s,l);return null===t.firstChild&&(t.firstChild=T),null!==h&&(_?null==h.child&&null!==T.parent&&(h.child=T):null===h.next&&(h.next=T,T.prev=h)),T}(t,n,i,s,l),function M(){return $n.lFrame.inI18n}()&&(h.flags|=32);else if(64&h.type){h.type=i,h.value=s,h.attrs=l;const _=function Sa(){const t=$n.lFrame,n=t.currentTNode;return t.isParent?n:n.parent}();h.injectorIndex=null===_?-1:_.injectorIndex}return zr(h,!0),h}function I1(t,n,i,s){if(0===i)return-1;const l=n.length;for(let h=0;h<i;h++)n.push(s),t.blueprint.push(s),t.data.push(null);return l}function x0(t,n,i,s,l){const h=Pm(n,Eo),_=Ci(),w=2&s;try{No(-1),w&&n.length>ir&&Lm(t,n,ir,!1),lo(w?2:0,l);const z=w?h:null,Y=Ga(z);try{null!==z&&(z.dirty=!1),i(s,l)}finally{Ls(z,Y)}}finally{w&&null===n[Eo]&&Om(n,Eo),No(_),lo(w?3:1,l)}}function jp(t,n,i){if(ts(n)){const s=qi(null);try{const h=n.directiveEnd;for(let _=n.directiveStart;_<h;_++){const w=t.data[_];w.contentQueries&&w.contentQueries(1,i[_],_)}}finally{qi(s)}}}function C0(t,n,i){bs()&&(function $g(t,n,i,s){const l=i.directiveStart,h=i.directiveEnd;vo(i)&&function Gm(t,n,i){const s=Ao(n,t),l=Bm(i);let _=16;i.signals?_=4096:i.onPush&&(_=64);const w=qp(t,Bp(t,l,null,_,s,n,null,t[yo].rendererFactory.createRenderer(s,i),null,null,null));t[n.index]=w}(n,i,t.data[l+i.componentOffset]),t.firstCreatePass||oa(i,n),ui(s,n);const _=i.initialInputs;for(let w=l;w<h;w++){const T=t.data[w],z=Us(n,t,w,i);ui(z,n),null!==_&&P0(0,w-l,z,T,0,_),or(T)&&(eo(i.index,n)[_r]=Us(n,t,w,i))}}(t,n,i,Ao(i,n)),64==(64&i.flags)&&S0(t,n,i))}function A0(t,n,i=Ao){const s=n.localNames;if(null!==s){let l=n.index+1;for(let h=0;h<s.length;h+=2){const _=s[h+1],w=-1===_?i(n,t):t[_];t[l++]=w}}}function Bm(t){const n=t.tView;return null===n||n.incompleteFirstPass?t.tView=T1(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):n}function T1(t,n,i,s,l,h,_,w,T,z,Y){const Ee=ir+s,et=Ee+l,ft=function zp(t,n){const i=[];for(let s=0;s<n;s++)i.push(s<t?null:xr);return i}(Ee,et),Ut="function"==typeof z?z():z;return ft[pn]={type:t,blueprint:ft,template:i,queries:null,viewQuery:w,declTNode:n,data:ft.slice().fill(null,Ee),bindingStartIndex:Ee,expandoStartIndex:et,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof h?h():h,pipeRegistry:"function"==typeof _?_():_,firstChild:null,schemas:T,consts:Ut,incompleteFirstPass:!1,ssrId:Y}}let bd=t=>null;function Hm(t,n,i,s){for(let l in t)if(t.hasOwnProperty(l)){i=null===i?{}:i;const h=t[l];null===s?D1(i,n,l,h):s.hasOwnProperty(l)&&D1(i,n,s[l],h)}return i}function D1(t,n,i,s){t.hasOwnProperty(i)?t[i].push(n,s):t[i]=[n,s]}function Gs(t,n,i,s,l,h,_,w){const T=Ao(n,i);let Y,z=n.inputs;!w&&null!=z&&(Y=z[s])?(L0(t,i,Y,s,l),vo(n)&&function qm(t,n){const i=eo(n,t);16&i[Vn]||(i[Vn]|=64)}(i,n.index)):3&n.type&&(s=function Ug(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(s),l=null!=_?_(l,n.value||"",s):l,h.setProperty(T,s,l))}function Up(t,n,i,s){if(bs()){const l=null===s?null:{"":-1},h=function Wg(t,n){const i=t.directiveRegistry;let s=null,l=null;if(i)for(let h=0;h<i.length;h++){const _=i[h];if(yc(n,_.selectors,!1))if(s||(s=[]),or(_))if(null!==_.findHostDirectiveDefs){const w=[];l=l||new Map,_.findHostDirectiveDefs(_,w,l),s.unshift(...w,_),S1(t,n,w.length)}else s.unshift(_),S1(t,n,0);else l=l||new Map,_.findHostDirectiveDefs?.(_,s,l),s.push(_)}return null===s?null:[s,l]}(t,i);let _,w;null===h?_=w=null:[_,w]=h,null!==_&&$m(t,n,i,_,l,w),l&&function Wm(t,n,i){if(n){const s=t.localNames=[];for(let l=0;l<n.length;l+=2){const h=i[n[l+1]];if(null==h)throw new ke(-301,!1);s.push(n[l],h)}}}(i,s,l)}i.mergedAttrs=Mr(i.mergedAttrs,i.attrs)}function $m(t,n,i,s,l,h){for(let z=0;z<s.length;z++)wl(oa(i,n),t,s[z].type);!function Kg(t,n,i){t.flags|=1,t.directiveStart=n,t.directiveEnd=n+i,t.providerIndexes=n}(i,t.data.length,s.length);for(let z=0;z<s.length;z++){const Y=s[z];Y.providersResolver&&Y.providersResolver(Y)}let _=!1,w=!1,T=I1(t,n,s.length,null);for(let z=0;z<s.length;z++){const Y=s[z];i.mergedAttrs=Mr(i.mergedAttrs,Y.hostAttrs),Qg(t,i,n,T,Y),Gg(T,Y,l),null!==Y.contentQueries&&(i.flags|=4),(null!==Y.hostBindings||null!==Y.hostAttrs||0!==Y.hostVars)&&(i.flags|=64);const Ee=Y.type.prototype;!_&&(Ee.ngOnChanges||Ee.ngOnInit||Ee.ngDoCheck)&&((t.preOrderHooks??=[]).push(i.index),_=!0),!w&&(Ee.ngOnChanges||Ee.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(i.index),w=!0),T++}!function I0(t,n,i){const l=n.directiveEnd,h=t.data,_=n.attrs,w=[];let T=null,z=null;for(let Y=n.directiveStart;Y<l;Y++){const Ee=h[Y],et=i?i.get(Ee):null,Ut=et?et.outputs:null;T=Hm(Ee.inputs,Y,T,et?et.inputs:null),z=Hm(Ee.outputs,Y,z,Ut);const un=null===T||null===_||Ai(n)?null:Zg(T,Y,_);w.push(un)}null!==T&&(T.hasOwnProperty("class")&&(n.flags|=8),T.hasOwnProperty("style")&&(n.flags|=16)),n.initialInputs=w,n.inputs=T,n.outputs=z}(t,i,h)}function S0(t,n,i){const s=i.directiveStart,l=i.directiveEnd,h=i.index,_=function ne(){return $n.lFrame.currentDirectiveIndex}();try{No(h);for(let w=s;w<l;w++){const T=t.data[w],z=n[w];De(w),(null!==T.hostBindings||0!==T.hostVars||null!==T.hostAttrs)&&R0(T,z)}}finally{No(-1),De(_)}}function R0(t,n){null!==t.hostBindings&&t.hostBindings(1,n)}function S1(t,n,i){n.componentOffset=i,(t.components??=[]).push(n.index)}function Gg(t,n,i){if(i){if(n.exportAs)for(let s=0;s<n.exportAs.length;s++)i[n.exportAs[s]]=t;or(n)&&(i[""]=t)}}function Qg(t,n,i,s,l){t.data[s]=l;const h=l.factory||(l.factory=ns(l.type)),_=new ka(h,or(l),uh);t.blueprint[s]=_,i[s]=_,function D0(t,n,i,s,l){const h=l.hostBindings;if(h){let _=t.hostBindingOpCodes;null===_&&(_=t.hostBindingOpCodes=[]);const w=~n.index;(function qg(t){let n=t.length;for(;n>0;){const i=t[--n];if("number"==typeof i&&i<0)return i}return 0})(_)!=w&&_.push(w),_.push(i,s,h)}}(t,n,s,I1(t,i,l.hostVars,xr),l)}function rl(t,n,i,s,l,h){const _=Ao(t,n);!function hh(t,n,i,s,l,h,_){if(null==h)t.removeAttribute(n,l,i);else{const w=null==_?je(h):_(h,s||"",l);t.setAttribute(n,l,w,i)}}(n[Fn],_,h,t.value,i,s,l)}function P0(t,n,i,s,l,h){const _=h[n];if(null!==_)for(let w=0;w<_.length;)O0(s,i,_[w++],_[w++],_[w++])}function O0(t,n,i,s,l){const h=qi(null);try{const _=t.inputTransforms;null!==_&&_.hasOwnProperty(s)&&(l=_[s].call(n,l)),null!==t.setInput?t.setInput(n,l,i,s):n[s]=l}finally{qi(h)}}function Zg(t,n,i){let s=null,l=0;for(;l<i.length;){const h=i[l];if(0!==h)if(5!==h){if("number"==typeof h)break;if(t.hasOwnProperty(h)){null===s&&(s=[]);const _=t[h];for(let w=0;w<_.length;w+=2)if(_[w]===n){s.push(h,_[w+1],i[l+1]);break}}l+=2}else l+=2;else l+=4}return s}function Hp(t,n,i,s){return[t,!0,!1,n,null,0,s,i,null,null,null]}function Km(t,n){const i=t.contentQueries;if(null!==i)for(let s=0;s<i.length;s+=2){const h=i[s+1];if(-1!==h){const _=t.data[h];yn(i[s]),_.contentQueries(2,n[h],h)}}}function qp(t,n){return t[Fo]?t[Po][ki]=n:t[Fo]=n,t[Po]=n,n}function N0(t,n,i){yn(0);const s=qi(null);try{n(t,i)}finally{qi(s)}}function V0(t){return t[Ui]||(t[Ui]=[])}function Qm(t){return t.cleanup||(t.cleanup=[])}function Xm(t,n){const i=t[oo],s=i?i.get(Kl,null):null;s&&s.handleError(n)}function L0(t,n,i,s,l){for(let h=0;h<i.length;){const _=i[h++],w=i[h++];O0(t.data[_],n[_],s,w,l)}}function Xl(t,n,i){const s=os(n,t);!function ae(t,n,i){t.setValue(n,i)}(t[Fn],s,i)}function Xg(t,n){const i=eo(n,t),s=i[pn];!function Yg(t,n){for(let i=n.length;i<t.blueprint.length;i++)n.push(t.blueprint[i])}(s,i);const l=i[Yr];null!==l&&null===i[Vi]&&(i[Vi]=nh(l,i[oo])),F0(s,i,i[_r])}function F0(t,n,i){Er(n);try{const s=t.viewQuery;null!==s&&N0(1,s,i);const l=t.template;null!==l&&x0(t,n,l,1,i),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Km(t,n),t.staticViewQueries&&N0(2,t.viewQuery,i);const h=t.components;null!==h&&function Jg(t,n){for(let i=0;i<n.length;i++)Xg(t,n[i])}(n,h)}catch(s){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),s}finally{n[Vn]&=-5,_o()}}let Ym=(()=>{class t{constructor(){this.all=new Set,this.queue=new Map}create(i,s,l){const h=typeof Zone>"u"?null:Zone.current,_=function jt(t,n,i){const s=Object.create(Rn);i&&(s.consumerAllowSignalWrites=!0),s.fn=t,s.schedule=n;const l=_=>{s.cleanupFn=_};return s.ref={notify:()=>vs(s),run:()=>{if(s.dirty=!1,s.hasRun&&!Fs(s))return;s.hasRun=!0;const _=Ga(s);try{s.cleanupFn(),s.cleanupFn=An,s.fn(l)}finally{Ls(s,_)}},cleanup:()=>s.cleanupFn()},s.ref}(i,z=>{this.all.has(z)&&this.queue.set(z,h)},l);let w;this.all.add(_),_.notify();const T=()=>{_.cleanup(),w?.(),this.all.delete(_),this.queue.delete(_)};return w=s?.onDestroy(T),{destroy:T}}flush(){if(0!==this.queue.size)for(const[i,s]of this.queue)this.queue.delete(i),s?s.run(()=>i.run()):i.run()}get isQueueEmpty(){return 0===this.queue.size}static{this.\u0275prov=vt({token:t,providedIn:"root",factory:()=>new t})}}return t})();function $p(t,n,i){let s=i?t.styles:null,l=i?t.classes:null,h=0;if(null!==n)for(let _=0;_<n.length;_++){const w=n[_];"number"==typeof w?h=w:1==h?l=Ue(l,w):2==h&&(s=Ue(s,w+": "+n[++_]+";"))}i?t.styles=s:t.stylesWithoutHost=s,i?t.classes=l:t.classesWithoutHost=l}function R1(t,n,i,s,l=!1){for(;null!==i;){const h=n[i.index];null!==h&&s.push(ii(h)),Hr(h)&&Jm(h,s);const _=i.type;if(8&_)R1(t,n,i.child,s);else if(32&_){const w=ca(i,n);let T;for(;T=w();)s.push(T)}else if(16&_){const w=fp(n,i);if(Array.isArray(w))s.push(...w);else{const T=la(n[Tr]);R1(T[pn],T,w,s,!0)}}i=l?i.projectionNext:i.next}return s}function Jm(t,n){for(let i=mr;i<t.length;i++){const s=t[i],l=s[pn].firstChild;null!==l&&R1(s[pn],s,l,n)}t[Di]!==t[Yr]&&n.push(t[Di])}function Wp(t,n,i,s=!0){const l=n[yo],h=l.rendererFactory,_=l.afterRenderEventManager;h.begin?.(),_?.begin();try{ey(t,n,t.template,i)}catch(T){throw s&&Xm(n,T),T}finally{h.end?.(),l.effectManager?.flush(),_?.end()}}function ey(t,n,i,s){const l=n[Vn];if(256!=(256&l)){n[yo].effectManager?.flush(),Er(n);try{ra(n),function js(t){return $n.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==i&&x0(t,n,i,2,s);const _=3==(3&l);if(_){const z=t.preOrderCheckHooks;null!==z&&zs(n,z,null)}else{const z=t.preOrderHooks;null!==z&&su(n,z,0,null),Ec(n,0)}if(function nv(t){for(let n=E(t);null!==n;n=d(n)){if(!n[Ko])continue;const i=n[Qo];for(let s=0;s<i.length;s++){to(i[s])}}}(n),ty(n,2),null!==t.contentQueries&&Km(t,n),_){const z=t.contentCheckHooks;null!==z&&zs(n,z)}else{const z=t.contentHooks;null!==z&&su(n,z,1),Ec(n,1)}!function Fm(t,n){const i=t.hostBindingOpCodes;if(null===i)return;const s=Pm(n,fs);try{for(let l=0;l<i.length;l++){const h=i[l];if(h<0)No(~h);else{const _=h,w=i[++l],T=i[++l];U(w,_),s.dirty=!1;const z=Ga(s);try{T(2,n[_])}finally{Ls(s,z)}}}}finally{null===n[fs]&&Om(n,fs),No(-1)}}(t,n);const w=t.components;null!==w&&ry(n,w,0);const T=t.viewQuery;if(null!==T&&N0(2,T,s),_){const z=t.viewCheckHooks;null!==z&&zs(n,z)}else{const z=t.viewHooks;null!==z&&su(n,z,2),Ec(n,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),n[Vn]&=-73,Dr(n)}finally{_o()}}}function ty(t,n){for(let i=E(t);null!==i;i=d(i))for(let s=mr;s<i.length;s++)ny(i[s],n)}function rv(t,n,i){ny(eo(n,t),i)}function ny(t,n){if(!function fl(t){return 128==(128&t[Vn])}(t))return;const i=t[pn],s=t[Vn];if(80&s&&0===n||1024&s||2===n)ey(i,t,i.template,t[_r]);else if(t[Ei]>0){ty(t,1);const l=i.components;null!==l&&ry(t,l,1)}}function ry(t,n,i){for(let s=0;s<n.length;s++)rv(t,n[s],i)}class P1{get rootNodes(){const n=this._lView,i=n[pn];return R1(i,n,i.firstChild,[])}constructor(n,i){this._lView=n,this._cdRefInjectingView=i,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[_r]}set context(n){this._lView[_r]=n}get destroyed(){return 256==(256&this._lView[Vn])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[Pr];if(Hr(n)){const i=n[8],s=i?i.indexOf(this):-1;s>-1&&(Ba(n,s),Wi(i,s))}this._attachedToViewContainer=!1}Bl(this._lView[pn],this._lView)}onDestroy(n){!function kc(t,n){if(256==(256&t[Vn]))throw new ke(911,!1);null===t[so]&&(t[so]=[]),t[so].push(n)}(this._lView,n)}markForCheck(){lh(this._cdRefInjectingView||this._lView)}detach(){this._lView[Vn]&=-129}reattach(){this._lView[Vn]|=128}detectChanges(){Wp(this._lView[pn],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ke(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function ur(t,n){cd(t,n,n[Fn],2,null,null)}(this._lView[pn],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new ke(902,!1);this._appRef=n}}class iv extends P1{constructor(n){super(n),this._view=n}detectChanges(){const n=this._view;Wp(n[pn],n,n[_r],!1)}checkNoChanges(){}get context(){return null}}class iy extends b1{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const i=tr(n);return new O1(i,this.ngModule)}}function B0(t){const n=[];for(let i in t)t.hasOwnProperty(i)&&n.push({propName:t[i],templateName:i});return n}class sv{constructor(n,i){this.injector=n,this.parentInjector=i}get(n,i,s){s=ct(s);const l=this.injector.get(n,xu,s);return l!==xu||i===xu?l:this.parentInjector.get(n,i,s)}}class O1 extends Eu{get inputs(){const n=this.componentDef,i=n.inputTransforms,s=B0(n.inputs);if(null!==i)for(const l of s)i.hasOwnProperty(l.propName)&&(l.transform=i[l.propName]);return s}get outputs(){return B0(this.componentDef.outputs)}constructor(n,i){super(),this.componentDef=n,this.ngModule=i,this.componentType=n.type,this.selector=function Zi(t){return t.map(Xs).join(",")}(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!i}create(n,i,s,l){let h=(l=l||this.ngModule)instanceof Nc?l:l?.injector;h&&null!==this.componentDef.getStandaloneInjector&&(h=this.componentDef.getStandaloneInjector(h)||h);const _=h?new sv(n,h):n,w=_.get(hm,null);if(null===w)throw new ke(407,!1);const Ee={rendererFactory:w,sanitizer:_.get(g0,null),effectManager:_.get(Ym,null),afterRenderEventManager:_.get(Lp,null)},et=w.createRenderer(null,this.componentDef),ft=this.componentDef.selectors[0][0]||"div",Ut=s?function Bg(t,n,i,s){const h=s.get(Dm,!1)||i===sn.ShadowDom,_=t.selectRootElement(n,h);return function jm(t){bd(t)}(_),_}(et,s,this.componentDef.encapsulation,_):Ct(et,ft,function ov(t){const n=t.toLowerCase();return"svg"===n?yi:"math"===n?"math":null}(ft)),Zn=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let en=null;null!==Ut&&(en=nh(Ut,_,!0));const Cr=T1(0,null,null,1,0,null,null,null,null,null,null),Qr=Bp(null,Cr,null,Zn,null,null,Ee,et,_,null,en);let Ki,Bc;Er(Qr);try{const Nh=this.componentDef;let P2,Kb=null;Nh.findHostDirectiveDefs?(P2=[],Kb=new Map,Nh.findHostDirectiveDefs(Nh,P2,Kb),P2.push(Nh)):P2=[Nh];const d3=function cv(t,n){const i=t[pn],s=ir;return t[s]=n,dh(i,s,2,"#host",null)}(Qr,Ut),h3=function lv(t,n,i,s,l,h,_){const w=l[pn];!function uv(t,n,i,s){for(const l of t)n.mergedAttrs=Mr(n.mergedAttrs,l.hostAttrs);null!==n.mergedAttrs&&($p(n,n.mergedAttrs,!0),null!==i&&mp(s,i,n))}(s,t,n,_);let T=null;null!==n&&(T=nh(n,l[oo]));const z=h.rendererFactory.createRenderer(n,i);let Y=16;i.signals?Y=4096:i.onPush&&(Y=64);const Ee=Bp(l,Bm(i),null,Y,l[t.index],t,h,z,null,null,T);return w.firstCreatePass&&S1(w,t,s.length-1),qp(l,Ee),l[t.index]=Ee}(d3,Ut,Nh,P2,Qr,Ee,et);Bc=Uc(Cr,ir),Ut&&function hv(t,n,i,s){if(s)vr(t,i,["ng-version",fm.full]);else{const{attrs:l,classes:h}=function $o(t){const n=[],i=[];let s=1,l=2;for(;s<t.length;){let h=t[s];if("string"==typeof h)2===l?""!==h&&n.push(h,t[++s]):8===l&&i.push(h);else{if(!wi(l))break;l=h}s++}return{attrs:n,classes:i}}(n.selectors[0]);l&&vr(t,i,l),h&&h.length>0&&F2(t,i,h.join(" "))}}(et,Nh,Ut,s),void 0!==i&&function pv(t,n,i){const s=t.projection=[];for(let l=0;l<n.length;l++){const h=i[l];s.push(null!=h?Array.from(h):null)}}(Bc,this.ngContentSelectors,i),Ki=function dv(t,n,i,s,l,h){const _=ho(),w=l[pn],T=Ao(_,l);$m(w,l,_,i,null,s);for(let Y=0;Y<i.length;Y++)ui(Us(l,w,_.directiveStart+Y,_),l);S0(w,l,_),T&&ui(T,l);const z=Us(l,w,_.directiveStart+_.componentOffset,_);if(t[_r]=l[_r]=z,null!==h)for(const Y of h)Y(z,n);return jp(w,_,t),z}(h3,Nh,P2,Kb,Qr,[fv]),F0(Cr,Qr,null)}finally{_o()}return new av(this.componentType,Ki,Wl(Bc,Qr),Qr,Bc)}}class av extends lm{constructor(n,i,s,l,h){super(),this.location=s,this._rootLView=l,this._tNode=h,this.previousInputValues=null,this.instance=i,this.hostView=this.changeDetectorRef=new iv(l),this.componentType=n}setInput(n,i){const s=this._tNode.inputs;let l;if(null!==s&&(l=s[n])){if(this.previousInputValues??=new Map,this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),i))return;const h=this._rootLView;L0(h[pn],h,l,n,i),this.previousInputValues.set(n,i),lh(eo(this._tNode.index,h))}}get injector(){return new Vo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}function fv(){const t=ho();Es(Gt()[pn],t)}function j0(t){let n=function oy(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),i=!0;const s=[t];for(;n;){let l;if(or(t))l=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new ke(903,!1);l=n.\u0275dir}if(l){if(i){s.push(l);const _=t;_.inputs=Gp(t.inputs),_.inputTransforms=Gp(t.inputTransforms),_.declaredInputs=Gp(t.declaredInputs),_.outputs=Gp(t.outputs);const w=l.hostBindings;w&&vv(t,w);const T=l.viewQuery,z=l.contentQueries;if(T&&yv(t,T),z&&gv(t,z),de(t.inputs,l.inputs),de(t.declaredInputs,l.declaredInputs),de(t.outputs,l.outputs),null!==l.inputTransforms&&(null===_.inputTransforms&&(_.inputTransforms={}),de(_.inputTransforms,l.inputTransforms)),or(l)&&l.data.animation){const Y=t.data;Y.animation=(Y.animation||[]).concat(l.data.animation)}}const h=l.features;if(h)for(let _=0;_<h.length;_++){const w=h[_];w&&w.ngInherit&&w(t),w===j0&&(i=!1)}}n=Object.getPrototypeOf(n)}!function mv(t){let n=0,i=null;for(let s=t.length-1;s>=0;s--){const l=t[s];l.hostVars=n+=l.hostVars,l.hostAttrs=Mr(l.hostAttrs,i=Mr(i,l.hostAttrs))}}(s)}function Gp(t){return t===zn?{}:t===Jt?[]:t}function yv(t,n){const i=t.viewQuery;t.viewQuery=i?(s,l)=>{n(s,l),i(s,l)}:n}function gv(t,n){const i=t.contentQueries;t.contentQueries=i?(s,l,h)=>{n(s,l,h),i(s,l,h)}:n}function vv(t,n){const i=t.hostBindings;t.hostBindings=i?(s,l)=>{n(s,l),i(s,l)}:n}function ly(t){const n=t.inputConfig,i={};for(const s in n)if(n.hasOwnProperty(s)){const l=n[s];Array.isArray(l)&&l[2]&&(i[s]=l[2])}t.inputTransforms=i}function Kp(t){return!!z0(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function z0(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function il(t,n,i){return t[n]=i}function Ks(t,n,i){return!Object.is(t[n],i)&&(t[n]=i,!0)}function Md(t,n,i,s){const l=Ks(t,n,i);return Ks(t,n+1,s)||l}function U0(t,n,i,s){const l=Gt();return Ks(l,x(),n)&&(jr(),rl(pi(),l,t,n,i,s)),U0}function fh(t,n,i,s){return Ks(t,x(),i)?n+je(i)+s:xr}function yh(t,n,i,s,l,h,_,w){const z=function Qp(t,n,i,s,l){const h=Md(t,n,i,s);return Ks(t,n+2,l)||h}(t,Oo(),i,l,_);return S(3),z?n+je(i)+s+je(l)+h+je(_)+w:xr}function fy(t,n,i,s,l,h,_,w){const T=Gt(),z=jr(),Y=t+ir,Ee=z.firstCreatePass?function V1(t,n,i,s,l,h,_,w,T){const z=n.consts,Y=dh(n,t,4,_||null,na(z,w));Up(n,i,Y,na(z,T)),Es(n,Y);const Ee=Y.tView=T1(2,Y,s,l,h,n.directiveRegistry,n.pipeRegistry,null,n.schemas,z,null);return null!==n.queries&&(n.queries.template(n,Y),Ee.queries=n.queries.embeddedTView(Y)),Y}(Y,z,T,n,i,s,l,h,_):z.data[Y];zr(Ee,!1);const et=Mh(z,T,Ee,t);Ja()&&pp(z,T,et,Ee),ui(et,T),qp(T,T[Y]=Hp(et,T,et,Ee)),hr(Ee)&&C0(z,T,Ee),null!=_&&A0(T,Ee,w)}let Mh=function my(t,n,i,s){return Zo(!0),n[Fn].createComment("")};function ef(t){return zo(function no(){return $n.lFrame.contextLView}(),ir+t)}function L1(t,n,i){const s=Gt();return Ks(s,x(),n)&&Gs(jr(),pi(),s,t,n,s[Fn],i,!1),L1}function F1(t,n,i,s,l){const _=l?"class":"style";L0(t,i,n.inputs[_],_,s)}function B1(t,n,i,s){const l=Gt(),h=jr(),_=ir+t,w=l[Fn],T=h.firstCreatePass?function $0(t,n,i,s,l,h){const _=n.consts,T=dh(n,t,2,s,na(_,l));return Up(n,i,T,na(_,h)),null!==T.attrs&&$p(T,T.attrs,!1),null!==T.mergedAttrs&&$p(T,T.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,T),T}(_,h,l,n,i,s):h.data[_],z=G0(h,l,T,w,n,t);l[_]=z;const Y=hr(T);return zr(T,!0),mp(w,z,T),32!=(32&T.flags)&&Ja()&&pp(h,l,z,T),0===function Da(){return $n.lFrame.elementDepthCount}()&&ui(z,l),function ml(){$n.lFrame.elementDepthCount++}(),Y&&(C0(h,l,T),jp(h,T,l)),null!==s&&A0(l,T),B1}function j1(){let t=ho();Xa()?Mc():(t=t.parent,zr(t,!1));const n=t;(function Hc(t){return $n.skipHydrationRootTNode===t})(n)&&function zu(){$n.skipHydrationRootTNode=null}(),function va(){$n.lFrame.elementDepthCount--}();const i=jr();return i.firstCreatePass&&(Es(i,t),ts(t)&&i.queries.elementEnd(t)),null!=n.classesWithoutHost&&function xs(t){return 0!=(8&t.flags)}(n)&&F1(i,n,Gt(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function Cs(t){return 0!=(16&t.flags)}(n)&&F1(i,n,Gt(),n.stylesWithoutHost,!1),j1}function W0(t,n,i,s){return B1(t,n,i,s),j1(),W0}let G0=(t,n,i,s,l,h)=>(Zo(!0),Ct(s,l,function Sd(){return $n.lFrame.currentNamespace}()));function tf(t,n,i){const s=Gt(),l=jr(),h=t+ir,_=l.firstCreatePass?function gy(t,n,i,s,l){const h=n.consts,_=na(h,s),w=dh(n,t,8,"ng-container",_);return null!==_&&$p(w,_,!0),Up(n,i,w,na(h,l)),null!==n.queries&&n.queries.elementStart(n,w),w}(h,l,s,n,i):l.data[h];zr(_,!0);const w=nf(l,s,_,t);return s[h]=w,Ja()&&pp(l,s,w,_),ui(w,s),hr(_)&&(C0(l,s,_),jp(l,_,s)),null!=i&&A0(s,_),tf}function wh(){let t=ho();const n=jr();return Xa()?Mc():(t=t.parent,zr(t,!1)),n.firstCreatePass&&(Es(n,t),ts(t)&&n.queries.elementEnd(t)),wh}function z1(t,n,i){return tf(t,n,i),wh(),z1}let nf=(t,n,i,s)=>(Zo(!0),Je(n[Fn],""));function U1(){return Gt()}function rf(t){return!!t&&"function"==typeof t.then}function Q0(t){return!!t&&"function"==typeof t.subscribe}function Z0(t,n,i,s){const l=Gt(),h=jr(),_=ho();return function X0(t,n,i,s,l,h,_){const w=hr(s),z=t.firstCreatePass&&Qm(t),Y=n[_r],Ee=V0(n);let et=!0;if(3&s.type||_){const un=Ao(s,n),wn=_?_(un):un,Zn=Ee.length,en=_?Qr=>_(ii(Qr[s.index])):s.index;let Cr=null;if(!_&&w&&(Cr=function vy(t,n,i,s){const l=t.cleanup;if(null!=l)for(let h=0;h<l.length-1;h+=2){const _=l[h];if(_===i&&l[h+1]===s){const w=n[Ui],T=l[h+2];return w.length>T?w[T]:null}"string"==typeof _&&(h+=2)}return null}(t,n,l,s.index)),null!==Cr)(Cr.__ngLastListenerFn__||Cr).__ngNextListenerFn__=h,Cr.__ngLastListenerFn__=h,et=!1;else{h=_y(s,n,Y,h,!1);const Qr=i.listen(wn,l,h);Ee.push(h,Qr),z&&z.push(l,en,Zn,Zn+1)}}else h=_y(s,n,Y,h,!1);const ft=s.outputs;let Ut;if(et&&null!==ft&&(Ut=ft[l])){const un=Ut.length;if(un)for(let wn=0;wn<un;wn+=2){const Ki=n[Ut[wn]][Ut[wn+1]].subscribe(h),Bc=Ee.length;Ee.push(h,Ki),z&&z.push(l,s.index,Bc,-(Bc+1))}}}(h,l,l[Fn],_,t,n,s),Z0}function sf(t,n,i,s){try{return lo(6,n,i),!1!==i(s)}catch(l){return Xm(t,l),!1}finally{lo(7,n,i)}}function _y(t,n,i,s,l){return function h(_){if(_===Function)return s;lh(t.componentOffset>-1?eo(t.index,n):n);let T=sf(n,i,s,_),z=h.__ngNextListenerFn__;for(;z;)T=sf(n,i,z,_)&&T,z=z.__ngNextListenerFn__;return l&&!1===T&&_.preventDefault(),T}}function ky(t=1){return function qc(t){return($n.lFrame.contextLView=function Vh(t,n){for(;t>0;)n=n[es],t--;return n}(t,$n.lFrame.contextLView))[_r]}(t)}function Y0(t,n){let i=null;const s=function jc(t){const n=t.attrs;if(null!=n){const i=n.indexOf(5);if(!(1&i))return n[i+1]}return null}(t);for(let l=0;l<n.length;l++){const h=n[l];if("*"!==h){if(null===s?yc(t,h,!0):da(s,h))return l}else i=l}return i}function J0(t){const n=Gt()[Tr][bi];if(!n.projection){const s=n.projection=fu(t?t.length:1,null),l=s.slice();let h=n.child;for(;null!==h;){const _=t?Y0(h,t):0;null!==_&&(l[_]?l[_].projectionNext=h:s[_]=h,l[_]=h),h=h.next}}}function e2(t,n=0,i){const s=Gt(),l=jr(),h=dh(l,ir+t,16,null,i||null);null===h.projection&&(h.projection=n),Mc(),(!s[Vi]||_a())&&32!=(32&h.flags)&&function Vf(t,n,i){L2(n[Fn],0,n,i,Hd(t,i,n),Df(i.parent||n[bi],i,n))}(l,s,h)}function Ch(t,n,i,s,l){const h=Gt(),_=fh(h,n,i,s);return _!==xr&&Gs(jr(),pi(),h,t,_,h[Fn],l,!1),Ch}function q1(t,n){return t<<17|n<<2}function ac(t){return t>>17&32767}function o2(t){return 2|t}function cc(t){return(131068&t)>>2}function s2(t,n){return-131069&t|n<<2}function Ih(t){return 1|t}function lf(t,n,i,s,l){const h=t[i+1],_=null===n;let w=s?ac(h):cc(h),T=!1;for(;0!==w&&(!1===T||_);){const Y=t[w+1];My(t[w],n)&&(T=!0,t[w+1]=s?Ih(Y):o2(Y)),w=s?ac(Y):cc(Y)}T&&(t[i+1]=s?o2(h):Ih(h))}function My(t,n){return null===t||null==n||(Array.isArray(t)?t[1]:t)===n||!(!Array.isArray(t)||"string"!=typeof n)&&ic(t,n)>=0}const Do={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function uf(t){return t.substring(Do.key,Do.keyEnd)}function xy(t,n){const i=Do.textEnd;return i===n?-1:(n=Do.keyEnd=function Ed(t,n,i){for(;n<i&&t.charCodeAt(n)>32;)n++;return n}(t,Do.key=n,i),ol(t,n,i))}function ol(t,n,i){for(;n<i&&t.charCodeAt(n)<=32;)n++;return n}function W1(t,n,i){return lc(t,n,i,!1),W1}function G1(t,n){return lc(t,n,null,!0),G1}function Ty(t){!function uc(t,n,i,s){const l=jr(),h=S(2);l.firstUpdatePass&&Ru(l,null,h,s);const _=Gt();if(i!==xr&&Ks(_,h,i)){const w=l.data[Ci()];if(Dh(w,s)&&!Dy(l,h)){let T=s?w.classesWithoutHost:w.stylesWithoutHost;null!==T&&(i=Ue(T,i||"")),F1(l,w,_,i,s)}else!function Ry(t,n,i,s,l,h,_,w){l===xr&&(l=Jt);let T=0,z=0,Y=0<l.length?l[0]:null,Ee=0<h.length?h[0]:null;for(;null!==Y||null!==Ee;){const et=T<l.length?l[T+1]:void 0,ft=z<h.length?h[z+1]:void 0;let un,Ut=null;Y===Ee?(T+=2,z+=2,et!==ft&&(Ut=Ee,un=ft)):null===Ee||null!==Y&&Y<Ee?(T+=2,Ut=Y):(z+=2,Ut=Ee,un=ft),null!==Ut&&Py(t,n,i,s,Ut,un,_,w),Y=T<l.length?l[T]:null,Ee=z<h.length?h[z]:null}}(l,w,_,_[Fn],_[h+1],_[h+1]=function K1(t,n,i){if(null==i||""===i)return Jt;const s=[],l=Oc(i);if(Array.isArray(l))for(let h=0;h<l.length;h++)t(s,l[h],!0);else if("object"==typeof l)for(const h in l)l.hasOwnProperty(h)&&t(s,h,l[h]);else"string"==typeof l&&n(s,l);return s}(t,n,i),s,h)}}(Pv,sl,t,!0)}function sl(t,n){for(let i=function Ey(t){return function hf(t){Do.key=0,Do.keyEnd=0,Do.value=0,Do.valueEnd=0,Do.textEnd=t.length}(t),xy(t,ol(t,0,Do.textEnd))}(n);i>=0;i=xy(n,i))As(t,uf(n),!0)}function lc(t,n,i,s){const l=Gt(),h=jr(),_=S(2);h.firstUpdatePass&&Ru(h,t,_,s),n!==xr&&Ks(l,_,n)&&Py(h,h.data[Ci()],l,l[Fn],t,l[_+1]=function Ov(t,n){return null==t||""===t||("string"==typeof n?t+=n:"object"==typeof t&&(t=Pe(Oc(t)))),t}(n,i),s,_)}function Dy(t,n){return n>=t.expandoStartIndex}function Ru(t,n,i,s){const l=t.data;if(null===l[i+1]){const h=l[Ci()],_=Dy(t,i);Dh(h,s)&&null===n&&!_&&(n=!1),n=function Jl(t,n,i,s){const l=function At(t){const n=$n.lFrame.currentDirectiveIndex;return-1===n?null:t[n]}(t);let h=s?n.residualClasses:n.residualStyles;if(null===l)0===(s?n.classBindings:n.styleBindings)&&(i=Pu(i=Fi(null,t,n,i,s),n.attrs,s),h=null);else{const _=n.directiveStylingLast;if(-1===_||t[_]!==l)if(i=Fi(l,t,n,i,s),null===h){let T=function pf(t,n,i){const s=i?n.classBindings:n.styleBindings;if(0!==cc(s))return t[ac(s)]}(t,n,s);void 0!==T&&Array.isArray(T)&&(T=Fi(null,t,n,T[1],s),T=Pu(T,n.attrs,s),function ff(t,n,i,s){t[ac(i?n.classBindings:n.styleBindings)]=s}(t,n,s,T))}else h=function Sy(t,n,i){let s;const l=n.directiveEnd;for(let h=1+n.directiveStylingLast;h<l;h++)s=Pu(s,t[h].hostAttrs,i);return Pu(s,n.attrs,i)}(t,n,s)}return void 0!==h&&(s?n.residualClasses=h:n.residualStyles=h),i}(l,h,n,s),function cf(t,n,i,s,l,h){let _=h?n.classBindings:n.styleBindings,w=ac(_),T=cc(_);t[s]=i;let Y,z=!1;if(Array.isArray(i)?(Y=i[1],(null===Y||ic(i,Y)>0)&&(z=!0)):Y=i,l)if(0!==T){const et=ac(t[w+1]);t[s+1]=q1(et,w),0!==et&&(t[et+1]=s2(t[et+1],s)),t[w+1]=function Tv(t,n){return 131071&t|n<<17}(t[w+1],s)}else t[s+1]=q1(w,0),0!==w&&(t[w+1]=s2(t[w+1],s)),w=s;else t[s+1]=q1(T,0),0===w?w=s:t[T+1]=s2(t[T+1],s),T=s;z&&(t[s+1]=o2(t[s+1])),lf(t,Y,s,!0),lf(t,Y,s,!1),function Su(t,n,i,s,l){const h=l?t.residualClasses:t.residualStyles;null!=h&&"string"==typeof n&&ic(h,n)>=0&&(i[s+1]=Ih(i[s+1]))}(n,Y,t,s,h),_=q1(w,T),h?n.classBindings=_:n.styleBindings=_}(l,h,n,i,_,s)}}function Fi(t,n,i,s,l){let h=null;const _=i.directiveEnd;let w=i.directiveStylingLast;for(-1===w?w=i.directiveStart:w++;w<_&&(h=n[w],s=Pu(s,h.hostAttrs,l),h!==t);)w++;return null!==t&&(i.directiveStylingLast=w),s}function Pu(t,n,i){const s=i?1:2;let l=-1;if(null!==n)for(let h=0;h<n.length;h++){const _=n[h];"number"==typeof _?l=_:l===s&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),As(t,_,!!i||n[++h]))}return void 0===t?null:t}function Pv(t,n,i){const s=String(n);""!==s&&!s.includes(" ")&&As(t,s,i)}function Py(t,n,i,s,l,h,_,w){if(!(3&n.type))return;const T=t.data,z=T[w+1],Y=function Dv(t){return 1==(1&t)}(z)?Oy(T,n,i,l,cc(z),_):void 0;mf(Y)||(mf(h)||function $1(t){return 2==(2&t)}(z)&&(h=Oy(T,null,i,l,w,_)),function cg(t,n,i,s,l){if(n)l?t.addClass(i,s):t.removeClass(i,s);else{let h=-1===s.indexOf("-")?void 0:ze.DashCase;null==l?t.removeStyle(i,s,h):("string"==typeof l&&l.endsWith("!important")&&(l=l.slice(0,-10),h|=ze.Important),t.setStyle(i,s,l,h))}}(s,_,os(Ci(),i),l,h))}function Oy(t,n,i,s,l,h){const _=null===n;let w;for(;l>0;){const T=t[l],z=Array.isArray(T),Y=z?T[1]:T,Ee=null===Y;let et=i[l+1];et===xr&&(et=Ee?Jt:void 0);let ft=Ee?Il(et,s):Y===s?et:void 0;if(z&&!mf(ft)&&(ft=Il(T,s)),mf(ft)&&(w=ft,_))return w;const Ut=t[l+1];l=_?ac(Ut):cc(Ut)}if(null!==n){let T=h?n.residualClasses:n.residualStyles;null!=T&&(w=Il(T,s))}return w}function mf(t){return void 0!==t}function Dh(t,n){return 0!=(t.flags&(n?8:16))}function eu(t,n=""){const i=Gt(),s=jr(),l=t+ir,h=s.firstCreatePass?dh(s,l,1,n,null):s.data[l],_=u2(s,i,h,n,t);i[l]=_,Ja()&&pp(s,i,_,h),zr(h,!1)}let u2=(t,n,i,s,l)=>(Zo(!0),function Z(t,n){return t.createText(n)}(n[Fn],s));function Ou(t){return yf("",t,""),Ou}function yf(t,n,i){const s=Gt(),l=fh(s,t,n,i);return l!==xr&&Xl(s,Ci(),l),yf}function d2(t,n,i,s,l){const h=Gt(),_=function mh(t,n,i,s,l,h){const w=Md(t,Oo(),i,l);return S(2),w?n+je(i)+s+je(l)+h:xr}(h,t,n,i,s,l);return _!==xr&&Xl(h,Ci(),_),d2}function h2(t,n,i,s,l,h,_){const w=Gt(),T=yh(w,t,n,i,s,l,h,_);return T!==xr&&Xl(w,Ci(),T),h2}function tp(t,n,i){const s=Gt();return Ks(s,x(),n)&&Gs(jr(),pi(),s,t,n,s[Fn],i,!0),tp}const al=void 0;var Ky=["en",[["a","p"],["AM","PM"],al],[["AM","PM"],al,al],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],al,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],al,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",al,"{1} 'at' {0}",al],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Gy(t){const i=Math.floor(Math.abs(t)),s=t.toString().replace(/^[^.]*\.?/,"").length;return 1===i&&0===s?1:5}];let za={};function kf(t){const n=function Qy(t){return t.toLowerCase().replace(/_/g,"-")}(t);let i=np(n);if(i)return i;const s=n.split("-")[0];if(i=np(s),i)return i;if("en"===s)return Ky;throw new ke(701,!1)}function k2(t){return kf(t)[xd.PluralCase]}function np(t){return t in za||(za[t]=it.ng&&it.ng.common&&it.ng.common.locales&&it.ng.common.locales[t]),za[t]}var xd=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(xd||{});const F="en-US";let Oi=F;function Uv(t,n,i,s,l){if(t=Pt(t),Array.isArray(t))for(let h=0;h<t.length;h++)Uv(t[h],n,i,s,l);else{const h=jr(),_=Gt(),w=ho();let T=Mu(t)?t:Pt(t.provide);const z=em(t),Y=1048575&w.providerIndexes,Ee=w.directiveStart,et=w.providerIndexes>>20;if(Mu(t)||!t.multi){const ft=new ka(z,l,uh),Ut=qv(T,n,l?Y:Y+et,Ee);-1===Ut?(wl(oa(w,_),h,T),Hv(h,t,n.length),n.push(T),w.directiveStart++,w.directiveEnd++,l&&(w.providerIndexes+=1048576),i.push(ft),_.push(ft)):(i[Ut]=ft,_[Ut]=ft)}else{const ft=qv(T,n,Y+et,Ee),Ut=qv(T,n,Y,Y+et),wn=Ut>=0&&i[Ut];if(l&&!wn||!l&&!(ft>=0&&i[ft])){wl(oa(w,_),h,T);const Zn=function j4(t,n,i,s,l){const h=new ka(t,i,uh);return h.multi=[],h.index=n,h.componentProviders=0,nk(h,l,s&&!i),h}(l?B4:F4,i.length,l,s,z);!l&&wn&&(i[Ut].providerFactory=Zn),Hv(h,t,n.length,0),n.push(T),w.directiveStart++,w.directiveEnd++,l&&(w.providerIndexes+=1048576),i.push(Zn),_.push(Zn)}else Hv(h,t,ft>-1?ft:Ut,nk(i[l?Ut:ft],z,!l&&s));!l&&s&&wn&&i[Ut].componentProviders++}}}function Hv(t,n,i,s){const l=Mu(n),h=function Y2(t){return!!t.useClass}(n);if(l||h){const T=(h?Pt(n.useClass):n).prototype.ngOnDestroy;if(T){const z=t.destroyHooks||(t.destroyHooks=[]);if(!l&&n.multi){const Y=z.indexOf(i);-1===Y?z.push(i,[s,T]):z[Y+1].push(s,T)}else z.push(i,T)}}}function nk(t,n,i){return i&&t.componentProviders++,t.multi.push(n)-1}function qv(t,n,i,s){for(let l=i;l<s;l++)if(n[l]===t)return l;return-1}function F4(t,n,i,s){return $v(this.multi,[])}function B4(t,n,i,s){const l=this.multi;let h;if(this.providerFactory){const _=this.providerFactory.componentProviders,w=Us(i,i[pn],this.providerFactory.index,s);h=w.slice(0,_),$v(l,h);for(let T=_;T<w.length;T++)h.push(w[T])}else h=[],$v(l,h);return h}function $v(t,n){for(let i=0;i<t.length;i++)n.push((0,t[i])());return n}function rk(t,n=[]){return i=>{i.providersResolver=(s,l)=>function L4(t,n,i){const s=jr();if(s.firstCreatePass){const l=or(t);Uv(i,s.data,s.blueprint,l,!0),Uv(n,s.data,s.blueprint,l,!1)}}(s,l?l(t):t,n)}}class ip{}class ik{}function z4(t,n){return new Wv(t,n??null,[])}class Wv extends ip{constructor(n,i,s){super(),this._parent=i,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new iy(this);const l=_i(n);this._bootstrapComponents=Zl(l.bootstrap),this._r3Injector=sh(n,i,[{provide:ip,useValue:this},{provide:b1,useValue:this.componentFactoryResolver},...s],Pe(n),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(n)}get injector(){return this._r3Injector}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(i=>i()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class Gv extends ik{constructor(n){super(),this.moduleType=n}create(n){return new Wv(this.moduleType,n,[])}}class ok extends ip{constructor(n){super(),this.componentFactoryResolver=new iy(this),this.instance=null;const i=new bo([...n.providers,{provide:ip,useValue:this},{provide:b1,useValue:this.componentFactoryResolver}],n.parent||wu(),n.debugName,new Set(["environment"]));this.injector=i,n.runEnvironmentInitializers&&i.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}}function sk(t,n,i=null){return new ok({providers:t,parent:n,debugName:i,runEnvironmentInitializers:!0}).injector}let ak=(()=>{class t{constructor(i){this._injector=i,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(i){if(!i.standalone)return null;if(!this.cachedInjectors.has(i)){const s=Q2(0,i.type),l=s.length>0?sk([s],this._injector,`Standalone[${i.type.name}]`):null;this.cachedInjectors.set(i,l)}return this.cachedInjectors.get(i)}ngOnDestroy(){try{for(const i of this.cachedInjectors.values())null!==i&&i.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=vt({token:t,providedIn:"environment",factory:()=>new t(me(Nc))})}}return t})();function ck(t){t.getStandaloneInjector=n=>n.get(ak).getOrCreateStandaloneInjector(t)}function mk(t,n,i){const s=xi()+t,l=Gt();return l[s]===xr?il(l,s,i?n.call(i):n()):function N1(t,n){return t[n]}(l,s)}function yk(t,n,i,s){return function _k(t,n,i,s,l,h){const _=n+i;return Ks(t,_,l)?il(t,_+1,h?s.call(h,l):s(l)):A2(t,_+1)}(Gt(),xi(),t,n,i,s)}function gk(t,n,i,s,l){return kk(Gt(),xi(),t,n,i,s,l)}function A2(t,n){const i=t[n];return i===xr?void 0:i}function kk(t,n,i,s,l,h,_){const w=n+i;return Md(t,w,l,h)?il(t,w+2,_?s.call(_,l,h):s(l,h)):A2(t,w+2)}function Mk(t,n,i,s,l,h,_,w,T){const z=n+i;return function sc(t,n,i,s,l,h){const _=Md(t,n,i,s);return Md(t,n+2,l,h)||_}(t,z,l,h,_,w)?il(t,z+4,T?s.call(T,l,h,_,w):s(l,h,_,w)):A2(t,z+4)}function Ek(t,n){const i=jr();let s;const l=t+ir;i.firstCreatePass?(s=function iM(t,n){if(n)for(let i=n.length-1;i>=0;i--){const s=n[i];if(t===s.name)return s}}(n,i.pipeRegistry),i.data[l]=s,s.onDestroy&&(i.destroyHooks??=[]).push(l,s.onDestroy)):s=i.data[l];const h=s.factory||(s.factory=ns(s.type)),w=Fe(uh);try{const T=Ac(!1),z=h();return Ac(T),function Jp(t,n,i,s){i>=t.data.length&&(t.data[i]=null,t.blueprint[i]=null),n[i]=s}(i,Gt(),l,z),z}finally{Fe(w)}}function xk(t,n,i,s){const l=t+ir,h=Gt(),_=zo(h,l);return I2(h,l)?kk(h,xi(),n,_.transform,i,s,_):_.transform(i,s)}function Ck(t,n,i,s,l,h){const _=t+ir,w=Gt(),T=zo(w,_);return I2(w,_)?Mk(w,xi(),n,T.transform,i,s,l,h,T):T.transform(i,s,l,h)}function I2(t,n){return t[pn].data[n].pure}function cM(){return this._results[Symbol.iterator]()}class Yy{get changes(){return this._changes||(this._changes=new nl)}constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const i=Yy.prototype;i[Symbol.iterator]||(i[Symbol.iterator]=cM)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,i){return this._results.reduce(n,i)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,i){const s=this;s.dirty=!1;const l=function sa(t){return t.flat(Number.POSITIVE_INFINITY)}(n);(this._changesDetected=!function lp(t,n,i){if(t.length!==n.length)return!1;for(let s=0;s<t.length;s++){let l=t[s],h=n[s];if(i&&(l=i(l),h=i(h)),h!==l)return!1}return!0}(s._results,l,i))&&(s._results=l,s.length=l.length,s.last=l[this.length-1],s.first=l[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function Ak(t,n,i,s=!0){const l=n[pn];if(function Ri(t,n,i,s){const l=mr+s,h=i.length;s>0&&(i[l-1][ki]=n),s<h-mr?(n[ki]=i[l],Xu(i,mr+s,n)):(i.push(n),n[ki]=null),n[Pr]=i;const _=n[go];null!==_&&i!==_&&function oc(t,n){const i=t[Qo];n[Tr]!==n[Pr][Pr][Tr]&&(t[Ko]=!0),null===i?t[Qo]=[n]:i.push(n)}(_,n);const w=n[Xi];null!==w&&w.insertView(t),n[Vn]|=128}(l,n,t,i),s){const h=Of(i,t),_=n[Fn],w=hp(_,t[Di]);null!==w&&function xn(t,n,i,s,l,h){s[Yr]=l,s[bi]=n,cd(t,s,i,1,l,h)}(l,t[bi],_,n,w,h)}}let T2=(()=>{class t{static{this.__NG_ELEMENT_ID__=hM}}return t})();const uM=T2,dM=class extends uM{constructor(n,i,s){super(),this._declarationLView=n,this._declarationTContainer=i,this.elementRef=s}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,i){return this.createEmbeddedViewImpl(n,i)}createEmbeddedViewImpl(n,i,s){const l=function lM(t,n,i,s){const l=n.tView,w=Bp(t,l,i,4096&t[Vn]?4096:16,null,n,null,null,null,s?.injector??null,s?.hydrationInfo??null);w[go]=t[n.index];const z=t[Xi];return null!==z&&(w[Xi]=z.createEmbeddedView(l)),F0(l,w,i),w}(this._declarationLView,this._declarationTContainer,n,{injector:i,hydrationInfo:s});return new P1(l)}};function hM(){return Jy(ho(),Gt())}function Jy(t,n){return 4&t.type?new dM(n,t,Wl(t,n)):null}let tg=(()=>{class t{static{this.__NG_ELEMENT_ID__=vM}}return t})();function vM(){return Ok(ho(),Gt())}const _M=tg,Rk=class extends _M{constructor(n,i,s){super(),this._lContainer=n,this._hostTNode=i,this._hostLView=s}get element(){return Wl(this._hostTNode,this._hostLView)}get injector(){return new Vo(this._hostTNode,this._hostLView)}get parentInjector(){const n=Oa(this._hostTNode,this._hostLView);if(qu(n)){const i=Ho(n,this._hostLView),s=Cc(n);return new Vo(i[pn].data[s+8],i)}return new Vo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const i=Pk(this._lContainer);return null!==i&&i[n]||null}get length(){return this._lContainer.length-mr}createEmbeddedView(n,i,s){let l,h;"number"==typeof s?l=s:null!=s&&(l=s.index,h=s.injector);const w=n.createEmbeddedViewImpl(i||{},h,null);return this.insertImpl(w,l,false),w}createComponent(n,i,s,l,h){const _=n&&!function Zc(t){return"function"==typeof t}(n);let w;if(_)w=i;else{const un=i||{};w=un.index,s=un.injector,l=un.projectableNodes,h=un.environmentInjector||un.ngModuleRef}const T=_?n:new O1(tr(n)),z=s||this.parentInjector;if(!h&&null==T.ngModule){const wn=(_?z:this.parentInjector).get(Nc,null);wn&&(h=wn)}tr(T.componentType??{});const ft=T.create(z,l,null,h);return this.insertImpl(ft.hostView,w,false),ft}insert(n,i){return this.insertImpl(n,i,!1)}insertImpl(n,i,s){const l=n._lView;if(function Fu(t){return Hr(t[Pr])}(l)){const T=this.indexOf(n);if(-1!==T)this.detach(T);else{const z=l[Pr],Y=new Rk(z,z[bi],z[Pr]);Y.detach(Y.indexOf(n))}}const _=this._adjustIndex(i),w=this._lContainer;return Ak(w,l,_,!s),n.attachToViewContainerRef(),Xu(Qv(w),_,n),n}move(n,i){return this.insert(n,i)}indexOf(n){const i=Pk(this._lContainer);return null!==i?i.indexOf(n):-1}remove(n){const i=this._adjustIndex(n,-1),s=Ba(this._lContainer,i);s&&(Wi(Qv(this._lContainer),i),Bl(s[pn],s))}detach(n){const i=this._adjustIndex(n,-1),s=Ba(this._lContainer,i);return s&&null!=Wi(Qv(this._lContainer),i)?new P1(s):null}_adjustIndex(n,i=0){return n??this.length+i}};function Pk(t){return t[8]}function Qv(t){return t[8]||(t[8]=[])}function Ok(t,n){let i;const s=n[t.index];return Hr(s)?i=s:(i=Hp(s,n,null,t),n[t.index]=i,qp(n,i)),Nk(i,n,t,s),new Rk(i,t,n)}let Nk=function Vk(t,n,i,s){if(t[Di])return;let l;l=8&i.type?ii(s):function kM(t,n){const i=t[Fn],s=i.createComment(""),l=Ao(n,t);return ja(i,hp(i,l),s,function N2(t,n){return t.nextSibling(n)}(i,l),!1),s}(n,i),t[Di]=l};class Zv{constructor(n){this.queryList=n,this.matches=null}clone(){return new Zv(this.queryList)}setDirty(){this.queryList.setDirty()}}class Xv{constructor(n=[]){this.queries=n}createEmbeddedView(n){const i=n.queries;if(null!==i){const s=null!==n.contentQueries?n.contentQueries[0]:i.length,l=[];for(let h=0;h<s;h++){const _=i.getByIndex(h);l.push(this.queries[_.indexInDeclarationView].clone())}return new Xv(l)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let i=0;i<this.queries.length;i++)null!==$k(n,i).matches&&this.queries[i].setDirty()}}class Lk{constructor(n,i,s=null){this.predicate=n,this.flags=i,this.read=s}}class Yv{constructor(n=[]){this.queries=n}elementStart(n,i){for(let s=0;s<this.queries.length;s++)this.queries[s].elementStart(n,i)}elementEnd(n){for(let i=0;i<this.queries.length;i++)this.queries[i].elementEnd(n)}embeddedTView(n){let i=null;for(let s=0;s<this.length;s++){const l=null!==i?i.length:0,h=this.getByIndex(s).embeddedTView(n,l);h&&(h.indexInDeclarationView=s,null!==i?i.push(h):i=[h])}return null!==i?new Yv(i):null}template(n,i){for(let s=0;s<this.queries.length;s++)this.queries[s].template(n,i)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class Jv{constructor(n,i=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=i}elementStart(n,i){this.isApplyingToNode(i)&&this.matchTNode(n,i)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,i){this.elementStart(n,i)}embeddedTView(n,i){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,i),new Jv(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const i=this._declarationNodeIndex;let s=n.parent;for(;null!==s&&8&s.type&&s.index!==i;)s=s.parent;return i===(null!==s?s.index:-1)}return this._appliesToNextNode}matchTNode(n,i){const s=this.metadata.predicate;if(Array.isArray(s))for(let l=0;l<s.length;l++){const h=s[l];this.matchTNodeWithReadOption(n,i,wM(i,h)),this.matchTNodeWithReadOption(n,i,Na(i,n,h,!1,!1))}else s===T2?4&i.type&&this.matchTNodeWithReadOption(n,i,-1):this.matchTNodeWithReadOption(n,i,Na(i,n,s,!1,!1))}matchTNodeWithReadOption(n,i,s){if(null!==s){const l=this.metadata.read;if(null!==l)if(l===oh||l===tg||l===T2&&4&i.type)this.addMatch(i.index,-2);else{const h=Na(i,n,l,!1,!1);null!==h&&this.addMatch(i.index,h)}else this.addMatch(i.index,s)}}addMatch(n,i){null===this.matches?this.matches=[n,i]:this.matches.push(n,i)}}function wM(t,n){const i=t.localNames;if(null!==i)for(let s=0;s<i.length;s+=2)if(i[s]===n)return i[s+1];return null}function xM(t,n,i,s){return-1===i?function EM(t,n){return 11&t.type?Wl(t,n):4&t.type?Jy(t,n):null}(n,t):-2===i?function CM(t,n,i){return i===oh?Wl(n,t):i===T2?Jy(n,t):i===tg?Ok(n,t):void 0}(t,n,s):Us(t,t[pn],i,n)}function Fk(t,n,i,s){const l=n[Xi].queries[s];if(null===l.matches){const h=t.data,_=i.matches,w=[];for(let T=0;T<_.length;T+=2){const z=_[T];w.push(z<0?null:xM(n,h[z],_[T+1],i.metadata.read))}l.matches=w}return l.matches}function e_(t,n,i,s){const l=t.queries.getByIndex(i),h=l.matches;if(null!==h){const _=Fk(t,n,l,i);for(let w=0;w<h.length;w+=2){const T=h[w];if(T>0)s.push(_[w/2]);else{const z=h[w+1],Y=n[-T];for(let Ee=mr;Ee<Y.length;Ee++){const et=Y[Ee];et[go]===et[Pr]&&e_(et[pn],et,z,s)}if(null!==Y[Qo]){const Ee=Y[Qo];for(let et=0;et<Ee.length;et++){const ft=Ee[et];e_(ft[pn],ft,z,s)}}}}}return s}function Bk(t){const n=Gt(),i=jr(),s=xt();yn(s+1);const l=$k(i,s);if(t.dirty&&function uo(t){return 4==(4&t[Vn])}(n)===(2==(2&l.metadata.flags))){if(null===l.matches)t.reset([]);else{const h=l.crossesNgTemplate?e_(i,n,s,[]):Fk(i,n,l,s);t.reset(h,M1),t.notifyOnChanges()}return!0}return!1}function jk(t,n,i){const s=jr();s.firstCreatePass&&(qk(s,new Lk(t,n,i),-1),2==(2&n)&&(s.staticViewQueries=!0)),Hk(s,Gt(),n)}function zk(t,n,i,s){const l=jr();if(l.firstCreatePass){const h=ho();qk(l,new Lk(n,i,s),h.index),function IM(t,n){const i=t.contentQueries||(t.contentQueries=[]);n!==(i.length?i[i.length-1]:-1)&&i.push(t.queries.length-1,n)}(l,t),2==(2&i)&&(l.staticContentQueries=!0)}Hk(l,Gt(),i)}function Uk(){return function AM(t,n){return t[Xi].queries[n].queryList}(Gt(),xt())}function Hk(t,n,i){const s=new Yy(4==(4&i));(function zg(t,n,i,s){const l=V0(n);l.push(i),t.firstCreatePass&&Qm(t).push(s,l.length-1)})(t,n,s,s.destroy),null===n[Xi]&&(n[Xi]=new Xv),n[Xi].queries.push(new Zv(s))}function qk(t,n,i){null===t.queries&&(t.queries=new Yv),t.queries.track(new Jv(n,i))}function $k(t,n){return t.queries.getByIndex(n)}function Wk(t,n){return Jy(t,n)}function t_(t){return!!_i(t)}const ub=new Dt("Application Initializer");let s_=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,s)=>{this.resolve=i,this.reject=s}),this.appInits=Ce(ub,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const i=[];for(const l of this.appInits){const h=l();if(rf(h))i.push(h);else if(Q0(h)){const _=new Promise((w,T)=>{h.subscribe({complete:w,error:T})});i.push(_)}}const s=()=>{this.done=!0,this.resolve()};Promise.all(i).then(()=>{s()}).catch(l=>{this.reject(l)}),0===i.length&&s(),this.initialized=!0}static{this.\u0275fac=function(s){return new(s||t)}}static{this.\u0275prov=vt({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),db=(()=>{class t{log(i){console.log(i)}warn(i){console.warn(i)}static{this.\u0275fac=function(s){return new(s||t)}}static{this.\u0275prov=vt({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})();const rg=new Dt("LocaleId",{providedIn:"root",factory:()=>Ce(rg,rt.Optional|rt.SkipSelf)||function KM(){return typeof $localize<"u"&&$localize.locale||F}()}),QM=new Dt("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let hb=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new re.t(!1)}add(){this.hasPendingTasks.next(!0);const i=this.taskId++;return this.pendingTasks.add(i),i}remove(i){this.pendingTasks.delete(i),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static{this.\u0275fac=function(s){return new(s||t)}}static{this.\u0275prov=vt({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();class XM{constructor(n,i){this.ngModuleFactory=n,this.componentFactories=i}}let YM=(()=>{class t{compileModuleSync(i){return new Gv(i)}compileModuleAsync(i){return Promise.resolve(this.compileModuleSync(i))}compileModuleAndAllComponentsSync(i){const s=this.compileModuleSync(i),h=Zl(_i(i).declarations).reduce((_,w)=>{const T=tr(w);return T&&_.push(new O1(T)),_},[]);return new XM(s,h)}compileModuleAndAllComponentsAsync(i){return Promise.resolve(this.compileModuleAndAllComponentsSync(i))}clearCache(){}clearCacheFor(i){}getModuleId(i){}static{this.\u0275fac=function(s){return new(s||t)}}static{this.\u0275prov=vt({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();const gb=new Dt(""),vb=new Dt("");let l_,k5=(()=>{class t{constructor(i,s,l){this._ngZone=i,this.registry=s,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,l_||(function b5(t){l_=t}(l),l.addToWindow(s)),this._watchAngularEvents(),i.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{cs.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let i=this._callbacks.pop();clearTimeout(i.timeoutId),i.doneCb(this._didWork)}this._didWork=!1});else{let i=this.getPendingTasks();this._callbacks=this._callbacks.filter(s=>!s.updateCb||!s.updateCb(i)||(clearTimeout(s.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(i=>({source:i.source,creationLocation:i.creationLocation,data:i.data})):[]}addCallback(i,s,l){let h=-1;s&&s>0&&(h=setTimeout(()=>{this._callbacks=this._callbacks.filter(_=>_.timeoutId!==h),i(this._didWork,this.getPendingTasks())},s)),this._callbacks.push({doneCb:i,timeoutId:h,updateCb:l})}whenStable(i,s,l){if(l&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(i,s,l),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(i){this.registry.registerApplication(i,this)}unregisterApplication(i){this.registry.unregisterApplication(i)}findProviders(i,s,l){return[]}static{this.\u0275fac=function(s){return new(s||t)(me(cs),me(_b),me(vb))}}static{this.\u0275prov=vt({token:t,factory:t.\u0275fac})}}return t})(),_b=(()=>{class t{constructor(){this._applications=new Map}registerApplication(i,s){this._applications.set(i,s)}unregisterApplication(i){this._applications.delete(i)}unregisterAllApplications(){this._applications.clear()}getTestability(i){return this._applications.get(i)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(i,s=!0){return l_?.findTestabilityInTree(this,i,s)??null}static{this.\u0275fac=function(s){return new(s||t)}}static{this.\u0275prov=vt({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})(),Oh=null;const kb=new Dt("AllowMultipleToken"),u_=new Dt("PlatformDestroyListeners"),d_=new Dt("appBootstrapListener");class E5{constructor(n,i){this.name=n,this.token=i}}function wb(t,n,i=[]){const s=`Platform: ${n}`,l=new Dt(s);return(h=[])=>{let _=h_();if(!_||_.injector.get(kb,!1)){const w=[...i,...h,{provide:l,useValue:!0}];t?t(w):function x5(t){if(Oh&&!Oh.get(kb,!1))throw new ke(400,!1);(function bb(){!function pr(t){Lu=t}(()=>{throw new ke(600,!1)})})(),Oh=t;const n=t.get(xb);(function Mb(t){t.get(Pi,null)?.forEach(i=>i())})(t)}(function Eb(t=[],n){return Lc.create({name:n,providers:[{provide:Yd,useValue:"platform"},{provide:u_,useValue:new Set([()=>Oh=null])},...t]})}(w,s))}return function A5(t){const n=h_();if(!n)throw new ke(401,!1);return n}()}}function h_(){return Oh?.get(xb)??null}let xb=(()=>{class t{constructor(i){this._injector=i,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(i,s){const l=function I5(t="zone.js",n){return"noop"===t?new Au:"zone.js"===t?new cs(n):t}(s?.ngZone,function Cb(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:s?.ngZoneEventCoalescing,runCoalescing:s?.ngZoneRunCoalescing}));return l.run(()=>{const h=function U4(t,n,i){return new Wv(t,n,i)}(i.moduleType,this.injector,function Sb(t){return[{provide:cs,useFactory:t},{provide:f1,multi:!0,useFactory:()=>{const n=Ce(D5,{optional:!0});return()=>n.initialize()}},{provide:Db,useFactory:T5},{provide:xm,useFactory:Cm}]}(()=>l)),_=h.injector.get(Kl,null);return l.runOutsideAngular(()=>{const w=l.onError.subscribe({next:T=>{_.handleError(T)}});h.onDestroy(()=>{og(this._modules,h),w.unsubscribe()})}),function Ab(t,n,i){try{const s=i();return rf(s)?s.catch(l=>{throw n.runOutsideAngular(()=>t.handleError(l)),l}):s}catch(s){throw n.runOutsideAngular(()=>t.handleError(s)),s}}(_,l,()=>{const w=h.injector.get(s_);return w.runInitializers(),w.donePromise.then(()=>(function ls(t){Lt(t,"Expected localeId to be defined"),"string"==typeof t&&(Oi=t.toLowerCase().replace(/_/g,"-"))}(h.injector.get(rg,F)||F),this._moduleDoBootstrap(h),h))})})}bootstrapModule(i,s=[]){const l=Ib({},s);return function M5(t,n,i){const s=new Gv(i);return Promise.resolve(s)}(0,0,i).then(h=>this.bootstrapModuleFactory(h,l))}_moduleDoBootstrap(i){const s=i.injector.get(wf);if(i._bootstrapComponents.length>0)i._bootstrapComponents.forEach(l=>s.bootstrap(l));else{if(!i.instance.ngDoBootstrap)throw new ke(-403,!1);i.instance.ngDoBootstrap(s)}this._modules.push(i)}onDestroy(i){this._destroyListeners.push(i)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ke(404,!1);this._modules.slice().forEach(s=>s.destroy()),this._destroyListeners.forEach(s=>s());const i=this._injector.get(u_,null);i&&(i.forEach(s=>s()),i.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static{this.\u0275fac=function(s){return new(s||t)(me(Lc))}}static{this.\u0275prov=vt({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})();function Ib(t,n){return Array.isArray(n)?n.reduce(Ib,t):{...t,...n}}let wf=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Ce(Db),this.zoneIsStable=Ce(xm),this.componentTypes=[],this.components=[],this.isStable=Ce(hb).hasPendingTasks.pipe((0,he.n)(i=>i?(0,Re.of)(!1):this.zoneIsStable),(0,fe.F)(),(0,Oe.u)()),this._injector=Ce(Nc)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(i,s){const l=i instanceof Eu;if(!this._injector.get(s_).done)throw!l&&Ro(i),new ke(405,!1);let _;_=l?i:this._injector.get(b1).resolveComponentFactory(i),this.componentTypes.push(_.componentType);const w=function w5(t){return t.isBoundToModule}(_)?void 0:this._injector.get(ip),z=_.create(Lc.NULL,[],s||_.selector,w),Y=z.location.nativeElement,Ee=z.injector.get(gb,null);return Ee?.registerApplication(Y),z.onDestroy(()=>{this.detachView(z.hostView),og(this.components,z),Ee?.unregisterApplication(Y)}),this._loadComponent(z),z}tick(){if(this._runningTick)throw new ke(101,!1);try{this._runningTick=!0;for(let i of this._views)i.detectChanges()}catch(i){this.internalErrorHandler(i)}finally{this._runningTick=!1}}attachView(i){const s=i;this._views.push(s),s.attachToAppRef(this)}detachView(i){const s=i;og(this._views,s),s.detachFromAppRef()}_loadComponent(i){this.attachView(i.hostView),this.tick(),this.components.push(i);const s=this._injector.get(d_,[]);s.push(...this._bootstrapListeners),s.forEach(l=>l(i))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(i=>i()),this._views.slice().forEach(i=>i.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(i){return this._destroyListeners.push(i),()=>og(this._destroyListeners,i)}destroy(){if(this._destroyed)throw new ke(406,!1);const i=this._injector;i.destroy&&!i.destroyed&&i.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(s){return new(s||t)}}static{this.\u0275prov=vt({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function og(t,n){const i=t.indexOf(n);i>-1&&t.splice(i,1)}const Db=new Dt("",{providedIn:"root",factory:()=>Ce(Kl).handleError.bind(void 0)});function T5(){const t=Ce(cs),n=Ce(Kl);return i=>t.runOutsideAngular(()=>n.handleError(i))}let D5=(()=>{class t{constructor(){this.zone=Ce(cs),this.applicationRef=Ce(wf)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(s){return new(s||t)}}static{this.\u0275prov=vt({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function R5(){return!1}let P5=(()=>{class t{static{this.__NG_ELEMENT_ID__=O5}}return t})();function O5(t){return function N5(t,n,i){if(vo(t)&&!i){const s=eo(t.index,n);return new P1(s,s)}return 47&t.type?new P1(n[Tr],n):null}(ho(),Gt(),16==(16&t))}class Nb{constructor(){}supports(n){return Kp(n)}create(n){return new j5(n)}}const B5=(t,n)=>n;class j5{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||B5}forEachItem(n){let i;for(i=this._itHead;null!==i;i=i._next)n(i)}forEachOperation(n){let i=this._itHead,s=this._removalsHead,l=0,h=null;for(;i||s;){const _=!s||i&&i.currentIndex<Lb(s,l,h)?i:s,w=Lb(_,l,h),T=_.currentIndex;if(_===s)l--,s=s._nextRemoved;else if(i=i._next,null==_.previousIndex)l++;else{h||(h=[]);const z=w-l,Y=T-l;if(z!=Y){for(let et=0;et<z;et++){const ft=et<h.length?h[et]:h[et]=0,Ut=ft+et;Y<=Ut&&Ut<z&&(h[et]=ft+1)}h[_.previousIndex]=Y-z}}w!==T&&n(_,w,T)}}forEachPreviousItem(n){let i;for(i=this._previousItHead;null!==i;i=i._nextPrevious)n(i)}forEachAddedItem(n){let i;for(i=this._additionsHead;null!==i;i=i._nextAdded)n(i)}forEachMovedItem(n){let i;for(i=this._movesHead;null!==i;i=i._nextMoved)n(i)}forEachRemovedItem(n){let i;for(i=this._removalsHead;null!==i;i=i._nextRemoved)n(i)}forEachIdentityChange(n){let i;for(i=this._identityChangesHead;null!==i;i=i._nextIdentityChange)n(i)}diff(n){if(null==n&&(n=[]),!Kp(n))throw new ke(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let l,h,_,i=this._itHead,s=!1;if(Array.isArray(n)){this.length=n.length;for(let w=0;w<this.length;w++)h=n[w],_=this._trackByFn(w,h),null!==i&&Object.is(i.trackById,_)?(s&&(i=this._verifyReinsertion(i,h,_,w)),Object.is(i.item,h)||this._addIdentityChange(i,h)):(i=this._mismatch(i,h,_,w),s=!0),i=i._next}else l=0,function xv(t,n){if(Array.isArray(t))for(let i=0;i<t.length;i++)n(t[i]);else{const i=t[Symbol.iterator]();let s;for(;!(s=i.next()).done;)n(s.value)}}(n,w=>{_=this._trackByFn(l,w),null!==i&&Object.is(i.trackById,_)?(s&&(i=this._verifyReinsertion(i,w,_,l)),Object.is(i.item,w)||this._addIdentityChange(i,w)):(i=this._mismatch(i,w,_,l),s=!0),i=i._next,l++}),this.length=l;return this._truncate(i),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,i,s,l){let h;return null===n?h=this._itTail:(h=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(s,null))?(Object.is(n.item,i)||this._addIdentityChange(n,i),this._reinsertAfter(n,h,l)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(s,l))?(Object.is(n.item,i)||this._addIdentityChange(n,i),this._moveAfter(n,h,l)):n=this._addAfter(new z5(i,s),h,l),n}_verifyReinsertion(n,i,s,l){let h=null===this._unlinkedRecords?null:this._unlinkedRecords.get(s,null);return null!==h?n=this._reinsertAfter(h,n._prev,l):n.currentIndex!=l&&(n.currentIndex=l,this._addToMoves(n,l)),n}_truncate(n){for(;null!==n;){const i=n._next;this._addToRemovals(this._unlink(n)),n=i}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,i,s){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const l=n._prevRemoved,h=n._nextRemoved;return null===l?this._removalsHead=h:l._nextRemoved=h,null===h?this._removalsTail=l:h._prevRemoved=l,this._insertAfter(n,i,s),this._addToMoves(n,s),n}_moveAfter(n,i,s){return this._unlink(n),this._insertAfter(n,i,s),this._addToMoves(n,s),n}_addAfter(n,i,s){return this._insertAfter(n,i,s),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,i,s){const l=null===i?this._itHead:i._next;return n._next=l,n._prev=i,null===l?this._itTail=n:l._prev=n,null===i?this._itHead=n:i._next=n,null===this._linkedRecords&&(this._linkedRecords=new Vb),this._linkedRecords.put(n),n.currentIndex=s,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const i=n._prev,s=n._next;return null===i?this._itHead=s:i._next=s,null===s?this._itTail=i:s._prev=i,n}_addToMoves(n,i){return n.previousIndex===i||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Vb),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,i){return n.item=i,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class z5{constructor(n,i){this.item=n,this.trackById=i,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class U5{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,i){let s;for(s=this._head;null!==s;s=s._nextDup)if((null===i||i<=s.currentIndex)&&Object.is(s.trackById,n))return s;return null}remove(n){const i=n._prevDup,s=n._nextDup;return null===i?this._head=s:i._nextDup=s,null===s?this._tail=i:s._prevDup=i,null===this._head}}class Vb{constructor(){this.map=new Map}put(n){const i=n.trackById;let s=this.map.get(i);s||(s=new U5,this.map.set(i,s)),s.add(n)}get(n,i){const l=this.map.get(n);return l?l.get(n,i):null}remove(n){const i=n.trackById;return this.map.get(i).remove(n)&&this.map.delete(i),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Lb(t,n,i){const s=t.previousIndex;if(null===s)return s;let l=0;return i&&s<i.length&&(l=i[s]),s+n+l}class Fb{constructor(){}supports(n){return n instanceof Map||z0(n)}create(){return new H5}}class H5{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(n){let i;for(i=this._mapHead;null!==i;i=i._next)n(i)}forEachPreviousItem(n){let i;for(i=this._previousMapHead;null!==i;i=i._nextPrevious)n(i)}forEachChangedItem(n){let i;for(i=this._changesHead;null!==i;i=i._nextChanged)n(i)}forEachAddedItem(n){let i;for(i=this._additionsHead;null!==i;i=i._nextAdded)n(i)}forEachRemovedItem(n){let i;for(i=this._removalsHead;null!==i;i=i._nextRemoved)n(i)}diff(n){if(n){if(!(n instanceof Map||z0(n)))throw new ke(900,!1)}else n=new Map;return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let i=this._mapHead;if(this._appendAfter=null,this._forEach(n,(s,l)=>{if(i&&i.key===l)this._maybeAddToChanges(i,s),this._appendAfter=i,i=i._next;else{const h=this._getOrCreateRecordForKey(l,s);i=this._insertBeforeOrAppend(i,h)}}),i){i._prev&&(i._prev._next=null),this._removalsHead=i;for(let s=i;null!==s;s=s._nextRemoved)s===this._mapHead&&(this._mapHead=null),this._records.delete(s.key),s._nextRemoved=s._next,s.previousValue=s.currentValue,s.currentValue=null,s._prev=null,s._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,i){if(n){const s=n._prev;return i._next=n,i._prev=s,n._prev=i,s&&(s._next=i),n===this._mapHead&&(this._mapHead=i),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=i,i._prev=this._appendAfter):this._mapHead=i,this._appendAfter=i,null}_getOrCreateRecordForKey(n,i){if(this._records.has(n)){const l=this._records.get(n);this._maybeAddToChanges(l,i);const h=l._prev,_=l._next;return h&&(h._next=_),_&&(_._prev=h),l._next=null,l._prev=null,l}const s=new q5(n);return this._records.set(n,s),s.currentValue=i,this._addToAdditions(s),s}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;null!==n;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;null!=n;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,i){Object.is(i,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=i,this._addToChanges(n))}_addToAdditions(n){null===this._additionsHead?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){null===this._changesHead?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,i){n instanceof Map?n.forEach(i):Object.keys(n).forEach(s=>i(n[s],s))}}class q5{constructor(n){this.key=n,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Bb(){return new v_([new Nb])}let v_=(()=>{class t{static{this.\u0275prov=vt({token:t,providedIn:"root",factory:Bb})}constructor(i){this.factories=i}static create(i,s){if(null!=s){const l=s.factories.slice();i=i.concat(l)}return new t(i)}static extend(i){return{provide:t,useFactory:s=>t.create(i,s||Bb()),deps:[[t,new Yo,new Rl]]}}find(i){const s=this.factories.find(l=>l.supports(i));if(null!=s)return s;throw new ke(901,!1)}}return t})();function jb(){return new __([new Fb])}let __=(()=>{class t{static{this.\u0275prov=vt({token:t,providedIn:"root",factory:jb})}constructor(i){this.factories=i}static create(i,s){if(s){const l=s.factories.slice();i=i.concat(l)}return new t(i)}static extend(i){return{provide:t,useFactory:s=>t.create(i,s||jb()),deps:[[t,new Yo,new Rl]]}}find(i){const s=this.factories.find(l=>l.supports(i));if(s)return s;throw new ke(901,!1)}}return t})();const G5=wb(null,"core",[]);let K5=(()=>{class t{constructor(i){}static{this.\u0275fac=function(s){return new(s||t)(me(wf))}}static{this.\u0275mod=Go({type:t})}static{this.\u0275inj=dt({})}}return t})();function c3(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}function u3(t){const n=tr(t);if(!n)return null;const i=new O1(n);return{get selector(){return i.selector},get type(){return i.componentType},get inputs(){return i.inputs},get outputs(){return i.outputs},get ngContentSelectors(){return i.ngContentSelectors},get isStandalone(){return n.standalone},get isSignal(){return n.signals}}}},7440:(an,tt,L)=>{L.d(tt,{MW:()=>Ue,Wp:()=>Ot,XU:()=>le,gL:()=>re});var f=L(2214),G=L(7705),ge=L(5407);class le{constructor(Ge){return Ge}}class re{constructor(){return(0,f.Dk)()}}const he=new G.nKC("angularfire2._apps"),fe={provide:le,useFactory:function Oe(ke){return ke&&1===ke.length?ke[0]:new le((0,f.Sx)())},deps:[[new G.Xx1,he]]},te={provide:re,deps:[[new G.Xx1,he]]};function de(ke){return(Ge,je)=>{const $e=Ge.runOutsideAngular(()=>ke(je));return new le($e)}}let Pe=(()=>{class ke{constructor(je){(0,f.KO)("angularfire",ge.xv.full,"core"),(0,f.KO)("angularfire",ge.xv.full,"app"),(0,f.KO)("angular",G.xvI.full,je.toString())}static \u0275fac=function($e){return new($e||ke)(G.KVO(G.Agw))};static \u0275mod=G.$C({type:ke});static \u0275inj=G.G2t({providers:[fe,te]})}return ke})();function Ue(ke,...Ge){return{ngModule:Pe,providers:[{provide:he,useFactory:de(ke),multi:!0,deps:[G.SKi,G.zZn,ge.u0,...Ge]}]}}const Ot=(0,ge.S3)(f.Wp,!0)},4665:(an,tt,L)=>{L.d(tt,{DF:()=>yu});var f=L(5407),re=(L(7705),L(7440),L(2214),L(467)),Re=L(7852),Oe=L(1076),he=L(8041),fe=L(1635),te=L(1362);const fn=function Ot(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Xt=new Oe.FA("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ge=new he.Vy("@firebase/auth");function $e(E,...d){Ge.logLevel<=he.$b.ERROR&&Ge.error(`Auth (${Re.MF}): ${E}`,...d)}function _t(E,...d){throw jn(E,...d)}function Tt(E,...d){return jn(E,...d)}function hn(E,d,v){const I=Object.assign(Object.assign({},fn()),{[d]:v});return new Oe.FA("auth","Firebase",I).create(d,{appName:E.name})}function gn(E){return hn(E,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function jn(E,...d){if("string"!=typeof E){const v=d[0],I=[...d.slice(1)];return I[0]&&(I[0].appName=E.name),E._errorFactory.create(v,...I)}return Xt.create(E,...d)}function zt(E,d,...v){if(!E)throw jn(d,...v)}function Tn(E){const d="INTERNAL ASSERTION FAILED: "+E;throw $e(d),new Error(d)}function rn(E,d){E||Tn(d)}function Cn(){var E;return typeof self<"u"&&(null===(E=self.location)||void 0===E?void 0:E.protocol)||null}class Xe{constructor(d,v){this.shortDelay=d,this.longDelay=v,rn(v>d,"Short delay should be less than long delay!"),this.isMobile=(0,Oe.jZ)()||(0,Oe.lV)()}get(){return function Yt(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function Qt(){return"http:"===Cn()||"https:"===Cn()}()||(0,Oe.sr)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}class lt{static initialize(d,v,I){this.fetchImpl=d,v&&(this.headersImpl=v),I&&(this.responseImpl=I)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void Tn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void Tn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void Tn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Lt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Qe=new Xe(3e4,6e4);function pt(E,d){return E.tenantId&&!d.tenantId?Object.assign(Object.assign({},d),{tenantId:E.tenantId}):d}function Ft(E,d,v,I){return Hn.apply(this,arguments)}function Hn(){return(Hn=(0,re.A)(function*(E,d,v,I,Z={}){return vt(E,Z,(0,re.A)(function*(){let ae={},Je={};I&&("GET"===d?Je=I:ae={body:JSON.stringify(I)});const Ct=(0,Oe.Am)(Object.assign({key:E.config.apiKey},Je)).slice(1),Wt=yield E._getAdditionalHeaders();Wt["Content-Type"]="application/json",E.languageCode&&(Wt["X-Firebase-Locale"]=E.languageCode);const xn=Object.assign({method:d,headers:Wt},ae);return(0,Oe.c1)()||(xn.referrerPolicy="no-referrer"),lt.fetch()(Sn(E,E.config.apiHost,v,Ct),xn)}))})).apply(this,arguments)}function vt(E,d,v){return We.apply(this,arguments)}function We(){return(We=(0,re.A)(function*(E,d,v){E._canInitEmulator=!1;const I=Object.assign(Object.assign({},Lt),d);try{const Z=new Vr(E),ae=yield Promise.race([v(),Z.promise]);Z.clearNetworkTimeout();const Je=yield ae.json();if("needConfirmation"in Je)throw kr(E,"account-exists-with-different-credential",Je);if(ae.ok&&!("errorMessage"in Je))return Je;{const Ct=ae.ok?Je.errorMessage:Je.error.message,[Wt,xn]=Ct.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Wt)throw kr(E,"credential-already-in-use",Je);if("EMAIL_EXISTS"===Wt)throw kr(E,"email-already-in-use",Je);if("USER_DISABLED"===Wt)throw kr(E,"user-disabled",Je);const ur=I[Wt]||Wt.toLowerCase().replace(/[_\s]+/g,"-");if(xn)throw hn(E,ur,xn);_t(E,ur)}}catch(Z){if(Z instanceof Oe.g)throw Z;_t(E,"network-request-failed",{message:String(Z)})}})).apply(this,arguments)}function Sn(E,d,v,I){const Z=`${d}${v}?${I}`;return E.config.emulator?function we(E,d){rn(E.emulator,"Emulator should always be set here");const{url:v}=E.emulator;return d?`${v}${d.startsWith("/")?d.slice(1):d}`:v}(E.config,Z):`${E.config.apiScheme}://${Z}`}class Vr{constructor(d){this.auth=d,this.timer=null,this.promise=new Promise((v,I)=>{this.timer=setTimeout(()=>I(Tt(this.auth,"network-request-failed")),Qe.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function kr(E,d,v){const I={appName:E.name};v.email&&(I.email=v.email),v.phoneNumber&&(I.phoneNumber=v.phoneNumber);const Z=Tt(E,d,I);return Z.customData._tokenResponse=v,Z}function Ae(){return(Ae=(0,re.A)(function*(E,d){return Ft(E,"POST","/v1/accounts:delete",d)})).apply(this,arguments)}function ut(E,d){return Un.apply(this,arguments)}function Un(){return(Un=(0,re.A)(function*(E,d){return Ft(E,"POST","/v1/accounts:lookup",d)})).apply(this,arguments)}function Dt(E){if(E)try{const d=new Date(Number(E));if(!isNaN(d.getTime()))return d.toUTCString()}catch{}}function Zt(){return(Zt=(0,re.A)(function*(E,d=!1){const v=(0,Oe.Ku)(E),I=yield v.getIdToken(d),Z=qr(I);zt(Z&&Z.exp&&Z.auth_time&&Z.iat,v.auth,"internal-error");const ae="object"==typeof Z.firebase?Z.firebase:void 0,Je=ae?.sign_in_provider;return{claims:Z,token:I,authTime:Dt(Ar(Z.auth_time)),issuedAtTime:Dt(Ar(Z.iat)),expirationTime:Dt(Ar(Z.exp)),signInProvider:Je||null,signInSecondFactor:ae?.sign_in_second_factor||null}})).apply(this,arguments)}function Ar(E){return 1e3*Number(E)}function qr(E){const[d,v,I]=E.split(".");if(void 0===d||void 0===v||void 0===I)return $e("JWT malformed, contained fewer than 3 sections"),null;try{const Z=(0,Oe.u)(v);return Z?JSON.parse(Z):($e("Failed to decode base64 JWT payload"),null)}catch(Z){return $e("Caught error parsing JWT payload as JSON",Z?.toString()),null}}function Sr(E){const d=qr(E);return zt(d,"internal-error"),zt(typeof d.exp<"u","internal-error"),zt(typeof d.iat<"u","internal-error"),Number(d.exp)-Number(d.iat)}function er(E,d){return fr.apply(this,arguments)}function fr(){return(fr=(0,re.A)(function*(E,d,v=!1){if(v)return d;try{return yield d}catch(I){throw I instanceof Oe.g&&function vi({code:E}){return"auth/user-disabled"===E||"auth/user-token-expired"===E}(I)&&E.auth.currentUser===E&&(yield E.auth.signOut()),I}})).apply(this,arguments)}class Zr{constructor(d){this.user=d,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(d){var v;if(d){const I=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),I}{this.errorBackoff=3e4;const Z=(null!==(v=this.user.stsTokenManager.expirationTime)&&void 0!==v?v:0)-Date.now()-3e5;return Math.max(0,Z)}}schedule(d=!1){var v=this;if(!this.isRunning)return;const I=this.getInterval(d);this.timerId=setTimeout((0,re.A)(function*(){yield v.iteration()}),I)}iteration(){var d=this;return(0,re.A)(function*(){try{yield d.user.getIdToken(!0)}catch(v){return void("auth/network-request-failed"===v?.code&&d.schedule(!0))}d.schedule()})()}}class di{constructor(d,v){this.createdAt=d,this.lastLoginAt=v,this._initializeTime()}_initializeTime(){this.lastSignInTime=Dt(this.lastLoginAt),this.creationTime=Dt(this.createdAt)}_copy(d){this.createdAt=d.createdAt,this.lastLoginAt=d.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Xr(E){return ar.apply(this,arguments)}function ar(){return(ar=(0,re.A)(function*(E){var d;const v=E.auth,I=yield E.getIdToken(),Z=yield er(E,ut(v,{idToken:I}));zt(Z?.users.length,v,"internal-error");const ae=Z.users[0];E._notifyReloadListener(ae);const Je=null!==(d=ae.providerUserInfo)&&void 0!==d&&d.length?P(ae.providerUserInfo):[],Ct=function pe(E,d){return[...E.filter(I=>!d.some(Z=>Z.providerId===I.providerId)),...d]}(E.providerData,Je),ur=!!E.isAnonymous&&!(E.email&&ae.passwordHash||Ct?.length),rr={uid:ae.localId,displayName:ae.displayName||null,photoURL:ae.photoUrl||null,email:ae.email||null,emailVerified:ae.emailVerified||!1,phoneNumber:ae.phoneNumber||null,tenantId:ae.tenantId||null,providerData:Ct,metadata:new di(ae.createdAt,ae.lastLoginAt),isAnonymous:ur};Object.assign(E,rr)})).apply(this,arguments)}function Nt(){return(Nt=(0,re.A)(function*(E){const d=(0,Oe.Ku)(E);yield Xr(d),yield d.auth._persistUserIfCurrent(d),d.auth._notifyListenersIfCurrent(d)})).apply(this,arguments)}function P(E){return E.map(d=>{var{providerId:v}=d,I=(0,fe.Tt)(d,["providerId"]);return{providerId:v,uid:I.rawId||"",displayName:I.displayName||null,email:I.email||null,phoneNumber:I.phoneNumber||null,photoURL:I.photoUrl||null}})}function O(){return(O=(0,re.A)(function*(E,d){const v=yield vt(E,{},(0,re.A)(function*(){const I=(0,Oe.Am)({grant_type:"refresh_token",refresh_token:d}).slice(1),{tokenApiHost:Z,apiKey:ae}=E.config,Je=Sn(E,Z,"/v1/token",`key=${ae}`),Ct=yield E._getAdditionalHeaders();return Ct["Content-Type"]="application/x-www-form-urlencoded",lt.fetch()(Je,{method:"POST",headers:Ct,body:I})}));return{accessToken:v.access_token,expiresIn:v.expires_in,refreshToken:v.refresh_token}})).apply(this,arguments)}function xe(){return(xe=(0,re.A)(function*(E,d){return Ft(E,"POST","/v2/accounts:revokeToken",pt(E,d))})).apply(this,arguments)}class be{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(d){zt(d.idToken,"internal-error"),zt(typeof d.idToken<"u","internal-error"),zt(typeof d.refreshToken<"u","internal-error");const v="expiresIn"in d&&typeof d.expiresIn<"u"?Number(d.expiresIn):Sr(d.idToken);this.updateTokensAndExpiration(d.idToken,d.refreshToken,v)}updateFromIdToken(d){zt(0!==d.length,"internal-error");const v=Sr(d);this.updateTokensAndExpiration(d,null,v)}getToken(d){var v=this;return(0,re.A)(function*(I,Z=!1){return Z||!v.accessToken||v.isExpired?(zt(v.refreshToken,I,"user-token-expired"),v.refreshToken?(yield v.refresh(I,v.refreshToken),v.accessToken):null):v.accessToken}).apply(this,arguments)}clearRefreshToken(){this.refreshToken=null}refresh(d,v){var I=this;return(0,re.A)(function*(){const{accessToken:Z,refreshToken:ae,expiresIn:Je}=yield function R(E,d){return O.apply(this,arguments)}(d,v);I.updateTokensAndExpiration(Z,ae,Number(Je))})()}updateTokensAndExpiration(d,v,I){this.refreshToken=v||null,this.accessToken=d||null,this.expirationTime=Date.now()+1e3*I}static fromJSON(d,v){const{refreshToken:I,accessToken:Z,expirationTime:ae}=v,Je=new be;return I&&(zt("string"==typeof I,"internal-error",{appName:d}),Je.refreshToken=I),Z&&(zt("string"==typeof Z,"internal-error",{appName:d}),Je.accessToken=Z),ae&&(zt("number"==typeof ae,"internal-error",{appName:d}),Je.expirationTime=ae),Je}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(d){this.accessToken=d.accessToken,this.refreshToken=d.refreshToken,this.expirationTime=d.expirationTime}_clone(){return Object.assign(new be,this.toJSON())}_performRefresh(){return Tn("not implemented")}}function me(E,d){zt("string"==typeof E||typeof E>"u","internal-error",{appName:d})}class se{constructor(d){var{uid:v,auth:I,stsTokenManager:Z}=d,ae=(0,fe.Tt)(d,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Zr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=v,this.auth=I,this.stsTokenManager=Z,this.accessToken=Z.accessToken,this.displayName=ae.displayName||null,this.email=ae.email||null,this.emailVerified=ae.emailVerified||!1,this.phoneNumber=ae.phoneNumber||null,this.photoURL=ae.photoURL||null,this.isAnonymous=ae.isAnonymous||!1,this.tenantId=ae.tenantId||null,this.providerData=ae.providerData?[...ae.providerData]:[],this.metadata=new di(ae.createdAt||void 0,ae.lastLoginAt||void 0)}getIdToken(d){var v=this;return(0,re.A)(function*(){const I=yield er(v,v.stsTokenManager.getToken(v.auth,d));return zt(I,v.auth,"internal-error"),v.accessToken!==I&&(v.accessToken=I,yield v.auth._persistUserIfCurrent(v),v.auth._notifyListenersIfCurrent(v)),I})()}getIdTokenResult(d){return function on(E){return Zt.apply(this,arguments)}(this,d)}reload(){return function hi(E){return Nt.apply(this,arguments)}(this)}_assign(d){this!==d&&(zt(this.uid===d.uid,this.auth,"internal-error"),this.displayName=d.displayName,this.photoURL=d.photoURL,this.email=d.email,this.emailVerified=d.emailVerified,this.phoneNumber=d.phoneNumber,this.isAnonymous=d.isAnonymous,this.tenantId=d.tenantId,this.providerData=d.providerData.map(v=>Object.assign({},v)),this.metadata._copy(d.metadata),this.stsTokenManager._assign(d.stsTokenManager))}_clone(d){const v=new se(Object.assign(Object.assign({},this),{auth:d,stsTokenManager:this.stsTokenManager._clone()}));return v.metadata._copy(this.metadata),v}_onReload(d){zt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=d,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(d){this.reloadListener?this.reloadListener(d):this.reloadUserInfo=d}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(d){var v=this;return(0,re.A)(function*(I,Z=!1){let ae=!1;I.idToken&&I.idToken!==v.stsTokenManager.accessToken&&(v.stsTokenManager.updateFromServerResponse(I),ae=!0),Z&&(yield Xr(v)),yield v.auth._persistUserIfCurrent(v),ae&&v.auth._notifyListenersIfCurrent(v)}).apply(this,arguments)}delete(){var d=this;return(0,re.A)(function*(){if((0,Re.xZ)(d.auth.app))return Promise.reject(gn(d.auth));const v=yield d.getIdToken();return yield er(d,function Fe(E,d){return Ae.apply(this,arguments)}(d.auth,{idToken:v})),d.stsTokenManager.clearRefreshToken(),d.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(d=>Object.assign({},d)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(d,v){var I,Z,ae,Je,Ct,Wt,xn,ur;const rr=null!==(I=v.displayName)&&void 0!==I?I:void 0,Ri=null!==(Z=v.email)&&void 0!==Z?Z:void 0,oc=null!==(ae=v.phoneNumber)&&void 0!==ae?ae:void 0,Jc=null!==(Je=v.photoURL)&&void 0!==Je?Je:void 0,Ba=null!==(Ct=v.tenantId)&&void 0!==Ct?Ct:void 0,Bl=null!==(Wt=v._redirectEventId)&&void 0!==Wt?Wt:void 0,bu=null!==(xn=v.createdAt)&&void 0!==xn?xn:void 0,Ud=null!==(ur=v.lastLoginAt)&&void 0!==ur?ur:void 0,{uid:Jh,emailVerified:Hd,isAnonymous:ad,providerData:ja,stsTokenManager:qd}=v;zt(Jh&&qd,d,"internal-error");const $d=be.fromJSON(this.name,qd);zt("string"==typeof Jh,d,"internal-error"),me(rr,d.name),me(Ri,d.name),zt("boolean"==typeof Hd,d,"internal-error"),zt("boolean"==typeof ad,d,"internal-error"),me(oc,d.name),me(Jc,d.name),me(Ba,d.name),me(Bl,d.name),me(bu,d.name),me(Ud,d.name);const e1=new se({uid:Jh,auth:d,email:Ri,emailVerified:Hd,displayName:rr,isAnonymous:ad,photoURL:Jc,phoneNumber:oc,tenantId:Ba,stsTokenManager:$d,createdAt:bu,lastLoginAt:Ud});return ja&&Array.isArray(ja)&&(e1.providerData=ja.map(Tf=>Object.assign({},Tf))),Bl&&(e1._redirectEventId=Bl),e1}static _fromIdTokenResponse(d,v){return(0,re.A)(function*(I,Z,ae=!1){const Je=new be;Je.updateFromServerResponse(Z);const Ct=new se({uid:Z.localId,auth:I,stsTokenManager:Je,isAnonymous:ae});return yield Xr(Ct),Ct}).apply(this,arguments)}static _fromGetAccountInfoResponse(d,v,I){return(0,re.A)(function*(){const Z=v.users[0];zt(void 0!==Z.localId,"internal-error");const ae=void 0!==Z.providerUserInfo?P(Z.providerUserInfo):[],Je=!(Z.email&&Z.passwordHash||ae?.length),Ct=new be;Ct.updateFromIdToken(I);const Wt=new se({uid:Z.localId,auth:d,stsTokenManager:Ct,isAnonymous:Je}),xn={uid:Z.localId,displayName:Z.displayName||null,photoURL:Z.photoUrl||null,email:Z.email||null,emailVerified:Z.emailVerified||!1,phoneNumber:Z.phoneNumber||null,tenantId:Z.tenantId||null,providerData:ae,metadata:new di(Z.createdAt,Z.lastLoginAt),isAnonymous:!(Z.email&&Z.passwordHash||ae?.length)};return Object.assign(Wt,xn),Wt})()}}const Ce=new Map;function ct(E){rn(E instanceof Function,"Expected a class definition");let d=Ce.get(E);return d?(rn(d instanceof E,"Instance stored in cache mismatched with class"),d):(d=new E,Ce.set(E,d),d)}const Ie=(()=>{class E{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,re.A)(function*(){return!0})()}_set(v,I){var Z=this;return(0,re.A)(function*(){Z.storage[v]=I})()}_get(v){var I=this;return(0,re.A)(function*(){const Z=I.storage[v];return void 0===Z?null:Z})()}_remove(v){var I=this;return(0,re.A)(function*(){delete I.storage[v]})()}_addListener(v,I){}_removeListener(v,I){}}return E.type="NONE",E})();function Me(E,d,v){return`firebase:${E}:${d}:${v}`}class Ve{constructor(d,v,I){this.persistence=d,this.auth=v,this.userKey=I;const{config:Z,name:ae}=this.auth;this.fullUserKey=Me(this.userKey,Z.apiKey,ae),this.fullPersistenceKey=Me("persistence",Z.apiKey,ae),this.boundEventHandler=v._onStorageEvent.bind(v),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(d){return this.persistence._set(this.fullUserKey,d.toJSON())}getCurrentUser(){var d=this;return(0,re.A)(function*(){const v=yield d.persistence._get(d.fullUserKey);return v?se._fromJSON(d.auth,v):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(d){var v=this;return(0,re.A)(function*(){if(v.persistence===d)return;const I=yield v.getCurrentUser();return yield v.removeCurrentUser(),v.persistence=d,I?v.setCurrentUser(I):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(d,v){return(0,re.A)(function*(I,Z,ae="authUser"){if(!Z.length)return new Ve(ct(Ie),I,ae);const Je=(yield Promise.all(Z.map(function(){var rr=(0,re.A)(function*(Ri){if(yield Ri._isAvailable())return Ri});return function(Ri){return rr.apply(this,arguments)}}()))).filter(rr=>rr);let Ct=Je[0]||ct(Ie);const Wt=Me(ae,I.config.apiKey,I.name);let xn=null;for(const rr of Z)try{const Ri=yield rr._get(Wt);if(Ri){const oc=se._fromJSON(I,Ri);rr!==Ct&&(xn=oc),Ct=rr;break}}catch{}const ur=Je.filter(rr=>rr._shouldAllowMigration);return Ct._shouldAllowMigration&&ur.length?(Ct=ur[0],xn&&(yield Ct._set(Wt,xn.toJSON())),yield Promise.all(Z.map(function(){var rr=(0,re.A)(function*(Ri){if(Ri!==Ct)try{yield Ri._remove(Wt)}catch{}});return function(Ri){return rr.apply(this,arguments)}}())),new Ve(Ct,I,ae)):new Ve(Ct,I,ae)}).apply(this,arguments)}}function Rt(E){const d=E.toLowerCase();if(d.includes("opera/")||d.includes("opr/")||d.includes("opios/"))return"Opera";if(function zn(E=(0,Oe.ZQ)()){return/iemobile/i.test(E)}(d))return"IEMobile";if(d.includes("msie")||d.includes("trident/"))return"IE";if(d.includes("edge/"))return"Edge";if(function Ht(E=(0,Oe.ZQ)()){return/firefox\//i.test(E)}(d))return"Firefox";if(d.includes("silk/"))return"Silk";if(function si(E=(0,Oe.ZQ)()){return/blackberry/i.test(E)}(d))return"Blackberry";if(function kt(E=(0,Oe.ZQ)()){return/webos/i.test(E)}(d))return"Webos";if(function dn(E=(0,Oe.ZQ)()){const d=E.toLowerCase();return d.includes("safari/")&&!d.includes("chrome/")&&!d.includes("crios/")&&!d.includes("android")}(d))return"Safari";if((d.includes("chrome/")||function sn(E=(0,Oe.ZQ)()){return/crios\//i.test(E)}(d))&&!d.includes("edge/"))return"Chrome";if(function Jt(E=(0,Oe.ZQ)()){return/android/i.test(E)}(d))return"Android";{const I=E.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===I?.length)return I[1]}return"Other"}function kn(E,d=[]){let v;switch(E){case"Browser":v=Rt((0,Oe.ZQ)());break;case"Worker":v=`${Rt((0,Oe.ZQ)())}-${E}`;break;default:v=E}const I=d.length?d.join(","):"FirebaseCore-web";return`${v}/JsCore/${Re.MF}/${I}`}class vr{constructor(d){this.auth=d,this.queue=[]}pushCallback(d,v){const I=ae=>new Promise((Je,Ct)=>{try{Je(d(ae))}catch(Wt){Ct(Wt)}});I.onAbort=v,this.queue.push(I);const Z=this.queue.length-1;return()=>{this.queue[Z]=()=>Promise.resolve()}}runMiddleware(d){var v=this;return(0,re.A)(function*(){if(v.auth.currentUser===d)return;const I=[];try{for(const Z of v.queue)yield Z(d),Z.onAbort&&I.push(Z.onAbort)}catch(Z){I.reverse();for(const ae of I)try{ae()}catch{}throw v.auth._errorFactory.create("login-blocked",{originalMessage:Z?.message})}})()}}function cr(){return(cr=(0,re.A)(function*(E,d={}){return Ft(E,"GET","/v2/passwordPolicy",pt(E,d))})).apply(this,arguments)}class Bi{constructor(d){var v,I,Z,ae;const Je=d.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(v=Je.minPasswordLength)&&void 0!==v?v:6,Je.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=Je.maxPasswordLength),void 0!==Je.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=Je.containsLowercaseCharacter),void 0!==Je.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=Je.containsUppercaseCharacter),void 0!==Je.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=Je.containsNumericCharacter),void 0!==Je.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=Je.containsNonAlphanumericCharacter),this.enforcementState=d.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(Z=null===(I=d.allowedNonAlphanumericCharacters)||void 0===I?void 0:I.join(""))&&void 0!==Z?Z:"",this.forceUpgradeOnSignin=null!==(ae=d.forceUpgradeOnSignin)&&void 0!==ae&&ae,this.schemaVersion=d.schemaVersion}validatePassword(d){var v,I,Z,ae,Je,Ct;const Wt={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(d,Wt),this.validatePasswordCharacterOptions(d,Wt),Wt.isValid&&(Wt.isValid=null===(v=Wt.meetsMinPasswordLength)||void 0===v||v),Wt.isValid&&(Wt.isValid=null===(I=Wt.meetsMaxPasswordLength)||void 0===I||I),Wt.isValid&&(Wt.isValid=null===(Z=Wt.containsLowercaseLetter)||void 0===Z||Z),Wt.isValid&&(Wt.isValid=null===(ae=Wt.containsUppercaseLetter)||void 0===ae||ae),Wt.isValid&&(Wt.isValid=null===(Je=Wt.containsNumericCharacter)||void 0===Je||Je),Wt.isValid&&(Wt.isValid=null===(Ct=Wt.containsNonAlphanumericCharacter)||void 0===Ct||Ct),Wt}validatePasswordLengthOptions(d,v){const I=this.customStrengthOptions.minPasswordLength,Z=this.customStrengthOptions.maxPasswordLength;I&&(v.meetsMinPasswordLength=d.length>=I),Z&&(v.meetsMaxPasswordLength=d.length<=Z)}validatePasswordCharacterOptions(d,v){let I;this.updatePasswordCharacterOptionsStatuses(v,!1,!1,!1,!1);for(let Z=0;Z<d.length;Z++)I=d.charAt(Z),this.updatePasswordCharacterOptionsStatuses(v,I>="a"&&I<="z",I>="A"&&I<="Z",I>="0"&&I<="9",this.allowedNonAlphanumericCharacters.includes(I))}updatePasswordCharacterOptionsStatuses(d,v,I,Z,ae){this.customStrengthOptions.containsLowercaseLetter&&(d.containsLowercaseLetter||(d.containsLowercaseLetter=v)),this.customStrengthOptions.containsUppercaseLetter&&(d.containsUppercaseLetter||(d.containsUppercaseLetter=I)),this.customStrengthOptions.containsNumericCharacter&&(d.containsNumericCharacter||(d.containsNumericCharacter=Z)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(d.containsNonAlphanumericCharacter||(d.containsNonAlphanumericCharacter=ae))}}class ji{constructor(d,v,I,Z){this.app=d,this.heartbeatServiceProvider=v,this.appCheckServiceProvider=I,this.config=Z,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ai(this),this.idTokenSubscription=new Ai(this),this.beforeStateQueue=new vr(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Xt,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=d.name,this.clientVersion=Z.sdkClientVersion}_initializeWithPersistence(d,v){var I=this;return v&&(this._popupRedirectResolver=ct(v)),this._initializationPromise=this.queue((0,re.A)(function*(){var Z,ae;if(!I._deleted&&(I.persistenceManager=yield Ve.create(I,d),!I._deleted)){if(null!==(Z=I._popupRedirectResolver)&&void 0!==Z&&Z._shouldInitProactively)try{yield I._popupRedirectResolver._initialize(I)}catch{}yield I.initializeCurrentUser(v),I.lastNotifiedUid=(null===(ae=I.currentUser)||void 0===ae?void 0:ae.uid)||null,!I._deleted&&(I._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var d=this;return(0,re.A)(function*(){if(d._deleted)return;const v=yield d.assertedPersistence.getCurrentUser();if(d.currentUser||v){if(d.currentUser&&v&&d.currentUser.uid===v.uid)return d._currentUser._assign(v),void(yield d.currentUser.getIdToken());yield d._updateCurrentUser(v,!0)}})()}initializeCurrentUserFromIdToken(d){var v=this;return(0,re.A)(function*(){try{const I=yield ut(v,{idToken:d}),Z=yield se._fromGetAccountInfoResponse(v,I,d);yield v.directlySetCurrentUser(Z)}catch(I){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",I),yield v.directlySetCurrentUser(null)}})()}initializeCurrentUser(d){var v=this;return(0,re.A)(function*(){var I;if((0,Re.xZ)(v.app)){const Ct=v.app.settings.authIdToken;return Ct?new Promise(Wt=>{setTimeout(()=>v.initializeCurrentUserFromIdToken(Ct).then(Wt,Wt))}):v.directlySetCurrentUser(null)}const Z=yield v.assertedPersistence.getCurrentUser();let ae=Z,Je=!1;if(d&&v.config.authDomain){yield v.getOrInitRedirectPersistenceManager();const Ct=null===(I=v.redirectUser)||void 0===I?void 0:I._redirectEventId,Wt=ae?._redirectEventId,xn=yield v.tryRedirectSignIn(d);(!Ct||Ct===Wt)&&xn?.user&&(ae=xn.user,Je=!0)}if(!ae)return v.directlySetCurrentUser(null);if(!ae._redirectEventId){if(Je)try{yield v.beforeStateQueue.runMiddleware(ae)}catch(Ct){ae=Z,v._popupRedirectResolver._overrideRedirectResult(v,()=>Promise.reject(Ct))}return ae?v.reloadAndSetCurrentUserOrClear(ae):v.directlySetCurrentUser(null)}return zt(v._popupRedirectResolver,v,"argument-error"),yield v.getOrInitRedirectPersistenceManager(),v.redirectUser&&v.redirectUser._redirectEventId===ae._redirectEventId?v.directlySetCurrentUser(ae):v.reloadAndSetCurrentUserOrClear(ae)})()}tryRedirectSignIn(d){var v=this;return(0,re.A)(function*(){let I=null;try{I=yield v._popupRedirectResolver._completeRedirectFn(v,d,!0)}catch{yield v._setRedirectUser(null)}return I})()}reloadAndSetCurrentUserOrClear(d){var v=this;return(0,re.A)(function*(){try{yield Xr(d)}catch(I){if("auth/network-request-failed"!==I?.code)return v.directlySetCurrentUser(null)}return v.directlySetCurrentUser(d)})()}useDeviceLanguage(){this.languageCode=function Le(){if(typeof navigator>"u")return null;const E=navigator;return E.languages&&E.languages[0]||E.language||null}()}_delete(){var d=this;return(0,re.A)(function*(){d._deleted=!0})()}updateCurrentUser(d){var v=this;return(0,re.A)(function*(){if((0,Re.xZ)(v.app))return Promise.reject(gn(v));const I=d?(0,Oe.Ku)(d):null;return I&&zt(I.auth.config.apiKey===v.config.apiKey,v,"invalid-user-token"),v._updateCurrentUser(I&&I._clone(v))})()}_updateCurrentUser(d){var v=this;return(0,re.A)(function*(I,Z=!1){if(!v._deleted)return I&&zt(v.tenantId===I.tenantId,v,"tenant-id-mismatch"),Z||(yield v.beforeStateQueue.runMiddleware(I)),v.queue((0,re.A)(function*(){yield v.directlySetCurrentUser(I),v.notifyAuthListeners()}))}).apply(this,arguments)}signOut(){var d=this;return(0,re.A)(function*(){return(0,Re.xZ)(d.app)?Promise.reject(gn(d)):(yield d.beforeStateQueue.runMiddleware(null),(d.redirectPersistenceManager||d._popupRedirectResolver)&&(yield d._setRedirectUser(null)),d._updateCurrentUser(null,!0))})()}setPersistence(d){var v=this;return(0,Re.xZ)(this.app)?Promise.reject(gn(this)):this.queue((0,re.A)(function*(){yield v.assertedPersistence.setPersistence(ct(d))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(d){var v=this;return(0,re.A)(function*(){v._getPasswordPolicyInternal()||(yield v._updatePasswordPolicy());const I=v._getPasswordPolicyInternal();return I.schemaVersion!==v.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(v._errorFactory.create("unsupported-password-policy-schema-version",{})):I.validatePassword(d)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var d=this;return(0,re.A)(function*(){const v=yield function Rr(E){return cr.apply(this,arguments)}(d),I=new Bi(v);null===d.tenantId?d._projectPasswordPolicy=I:d._tenantPasswordPolicies[d.tenantId]=I})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(d){this._errorFactory=new Oe.FA("auth","Firebase",d())}onAuthStateChanged(d,v,I){return this.registerStateListener(this.authStateSubscription,d,v,I)}beforeAuthStateChanged(d,v){return this.beforeStateQueue.pushCallback(d,v)}onIdTokenChanged(d,v,I){return this.registerStateListener(this.idTokenSubscription,d,v,I)}authStateReady(){return new Promise((d,v)=>{if(this.currentUser)d();else{const I=this.onAuthStateChanged(()=>{I(),d()},v)}})}revokeAccessToken(d){var v=this;return(0,re.A)(function*(){if(v.currentUser){const I=yield v.currentUser.getIdToken(),Z={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:d,idToken:I};null!=v.tenantId&&(Z.tenantId=v.tenantId),yield function ve(E,d){return xe.apply(this,arguments)}(v,Z)}})()}toJSON(){var d;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(d=this._currentUser)||void 0===d?void 0:d.toJSON()}}_setRedirectUser(d,v){var I=this;return(0,re.A)(function*(){const Z=yield I.getOrInitRedirectPersistenceManager(v);return null===d?Z.removeCurrentUser():Z.setCurrentUser(d)})()}getOrInitRedirectPersistenceManager(d){var v=this;return(0,re.A)(function*(){if(!v.redirectPersistenceManager){const I=d&&ct(d)||v._popupRedirectResolver;zt(I,v,"argument-error"),v.redirectPersistenceManager=yield Ve.create(v,[ct(I._redirectPersistence)],"redirectUser"),v.redirectUser=yield v.redirectPersistenceManager.getCurrentUser()}return v.redirectPersistenceManager})()}_redirectUserForId(d){var v=this;return(0,re.A)(function*(){var I,Z;return v._isInitialized&&(yield v.queue((0,re.A)(function*(){}))),(null===(I=v._currentUser)||void 0===I?void 0:I._redirectEventId)===d?v._currentUser:(null===(Z=v.redirectUser)||void 0===Z?void 0:Z._redirectEventId)===d?v.redirectUser:null})()}_persistUserIfCurrent(d){var v=this;return(0,re.A)(function*(){if(d===v.currentUser)return v.queue((0,re.A)(function*(){return v.directlySetCurrentUser(d)}))})()}_notifyListenersIfCurrent(d){d===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var d,v;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const I=null!==(v=null===(d=this.currentUser)||void 0===d?void 0:d.uid)&&void 0!==v?v:null;this.lastNotifiedUid!==I&&(this.lastNotifiedUid=I,this.authStateSubscription.next(this.currentUser))}registerStateListener(d,v,I,Z){if(this._deleted)return()=>{};const ae="function"==typeof v?v:v.next.bind(v);let Je=!1;const Ct=this._isInitialized?Promise.resolve():this._initializationPromise;if(zt(Ct,this,"internal-error"),Ct.then(()=>{Je||ae(this.currentUser)}),"function"==typeof v){const Wt=d.addObserver(v,I,Z);return()=>{Je=!0,Wt()}}{const Wt=d.addObserver(v);return()=>{Je=!0,Wt()}}}directlySetCurrentUser(d){var v=this;return(0,re.A)(function*(){v.currentUser&&v.currentUser!==d&&v._currentUser._stopProactiveRefresh(),d&&v.isProactiveRefreshEnabled&&d._startProactiveRefresh(),v.currentUser=d,d?yield v.assertedPersistence.setCurrentUser(d):yield v.assertedPersistence.removeCurrentUser()})()}queue(d){return this.operations=this.operations.then(d,d),this.operations}get assertedPersistence(){return zt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(d){!d||this.frameworks.includes(d)||(this.frameworks.push(d),this.frameworks.sort(),this.clientVersion=kn(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var d=this;return(0,re.A)(function*(){var v;const I={"X-Client-Version":d.clientVersion};d.app.options.appId&&(I["X-Firebase-gmpid"]=d.app.options.appId);const Z=yield null===(v=d.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===v?void 0:v.getHeartbeatsHeader();Z&&(I["X-Firebase-Client"]=Z);const ae=yield d._getAppCheckToken();return ae&&(I["X-Firebase-AppCheck"]=ae),I})()}_getAppCheckToken(){var d=this;return(0,re.A)(function*(){var v;const I=yield null===(v=d.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===v?void 0:v.getToken();return I?.error&&function je(E,...d){Ge.logLevel<=he.$b.WARN&&Ge.warn(`Auth (${Re.MF}): ${E}`,...d)}(`Error while retrieving App Check token: ${I.error}`),I?.token})()}}class Ai{constructor(d){this.auth=d,this.observer=null,this.addObserver=(0,Oe.tD)(v=>this.observer=v)}get next(){return zt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Qi={loadJS:()=>(0,re.A)(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};(function Ha(E){return`__${E}${Math.floor(1e6*Math.random())}`})("rcb"),new Xe(3e4,6e4),new Xe(2e3,1e4),new Xe(3e4,6e4),new Xe(5e3,15e3),encodeURIComponent("fac");var Ma="@firebase/auth";class Pl{constructor(d){this.auth=d,this.internalListeners=new Map}getUid(){var d;return this.assertAuthConfigured(),(null===(d=this.auth.currentUser)||void 0===d?void 0:d.uid)||null}getToken(d){var v=this;return(0,re.A)(function*(){return v.assertAuthConfigured(),yield v.auth._initializationPromise,v.auth.currentUser?{accessToken:yield v.auth.currentUser.getIdToken(d)}:null})()}addAuthTokenListener(d){if(this.assertAuthConfigured(),this.internalListeners.has(d))return;const v=this.auth.onIdTokenChanged(I=>{d(I?.stsTokenManager.accessToken||null)});this.internalListeners.set(d,v),this.updateProactiveRefresh()}removeAuthTokenListener(d){this.assertAuthConfigured();const v=this.internalListeners.get(d);v&&(this.internalListeners.delete(d),v(),this.updateProactiveRefresh())}assertAuthConfigured(){zt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,Oe.XA)("authIdTokenMaxAge"),function ds(E){Qi=E}({loadJS:E=>new Promise((d,v)=>{const I=document.createElement("script");I.setAttribute("src",E),I.onload=d,I.onerror=Z=>{const ae=Tt("internal-error");ae.customData=Z,v(ae)},I.type="text/javascript",I.charset="UTF-8",function Gh(){var E,d;return null!==(d=null===(E=document.getElementsByTagName("head"))||void 0===E?void 0:E[0])&&void 0!==d?d:document}().appendChild(I)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function Sc(E){(0,Re.om)(new te.uA("auth",(d,{options:v})=>{const I=d.getProvider("app").getImmediate(),Z=d.getProvider("heartbeat"),ae=d.getProvider("app-check-internal"),{apiKey:Je,authDomain:Ct}=I.options;zt(Je&&!Je.includes(":"),"invalid-api-key",{appName:I.name});const Wt={apiKey:Je,authDomain:Ct,clientPlatform:E,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:kn(E)},xn=new ji(I,Z,ae,Wt);return function Go(E,d){const v=d?.persistence||[],I=(Array.isArray(v)?v:[v]).map(ct);d?.errorMap&&E._updateErrorMap(d.errorMap),E._initializeWithPersistence(I,d?.popupRedirectResolver)}(xn,v),xn},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((d,v,I)=>{d.getProvider("auth-internal").initialize()})),(0,Re.om)(new te.uA("auth-internal",d=>{const v=function Lr(E){return(0,Oe.Ku)(E)}(d.getProvider("auth").getImmediate());return new Pl(v)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,Re.KO)(Ma,"1.7.9",function Xc(E){switch(E){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(E)),(0,Re.KO)(Ma,"1.7.9","esm2017")}("Browser");class yu{constructor(){return(0,f.CA)("auth")}}},9173:(an,tt,L)=>{L.r(tt),L.d(tt,{AbstractUserDataWriter:()=>v0,AggregateField:()=>ql,AggregateQuerySnapshot:()=>fd,Bytes:()=>el,CACHE_SIZE_UNLIMITED:()=>bg,CollectionReference:()=>Vc,DocumentReference:()=>fo,DocumentSnapshot:()=>Ql,FieldPath:()=>tl,FieldValue:()=>md,Firestore:()=>hh,FirestoreError:()=>dt,FirestoreInstances:()=>O0,FirestoreModule:()=>V0,GeoPoint:()=>th,LoadBundleTask:()=>l0,PersistentCacheIndexManager:()=>Fm,Query:()=>bo,QueryCompositeFilterConstraint:()=>Gl,QueryConstraint:()=>gd,QueryDocumentSnapshot:()=>C1,QueryEndAtConstraint:()=>sh,QueryFieldFilterConstraint:()=>xu,QueryLimitConstraint:()=>w1,QueryOrderByConstraint:()=>Pp,QuerySnapshot:()=>vd,QueryStartAtConstraint:()=>E1,SnapshotMetadata:()=>Cu,Timestamp:()=>it,Transaction:()=>A1,VectorValue:()=>$l,WriteBatch:()=>b0,_AutoId:()=>nt,_ByteString:()=>Wr,_DatabaseId:()=>ki,_DocumentKey:()=>Zt,_EmptyAppCheckTokenProvider:()=>rt,_EmptyAuthCredentialsProvider:()=>Yn,_FieldPath:()=>on,_TestingHooks:()=>Bm,_cast:()=>Or,_debugAssert:()=>Hn,_internalAggregationQueryToProtoRunAggregationQueryRequest:()=>A0,_internalQueryToProtoQueryTarget:()=>C0,_isBase64Available:()=>_i,_logWarn:()=>Lt,_validateIsNotUsedTogether:()=>a0,addDoc:()=>R1,aggregateFieldEqual:()=>Jm,aggregateQuerySnapshotEqual:()=>Wp,and:()=>O_,arrayRemove:()=>tv,arrayUnion:()=>ey,auditTrail:()=>Xl,average:()=>ty,clearIndexedDbPersistence:()=>nv,collection:()=>rv,collectionChanges:()=>Zm,collectionCount:()=>F0,collectionCountSnap:()=>Yg,collectionData:()=>Xg,collectionGroup:()=>ny,collectionSnapshots:()=>Xm,connectFirestoreEmulator:()=>ry,count:()=>P1,deleteAllPersistentCacheIndexes:()=>iv,deleteDoc:()=>iy,deleteField:()=>B0,disableNetwork:()=>ov,disablePersistentCacheIndexAutoCreation:()=>sv,doc:()=>O1,docData:()=>Ym,docSnapshots:()=>Jg,documentId:()=>av,enableIndexedDbPersistence:()=>cv,enableMultiTabIndexedDbPersistence:()=>lv,enableNetwork:()=>uv,enablePersistentCacheIndexAutoCreation:()=>dv,endAt:()=>hv,endBefore:()=>pv,ensureFirestoreConfigured:()=>mo,executeWrite:()=>_d,firestoreInstance$:()=>Zg,fromRef:()=>$p,getAggregateFromServer:()=>fv,getCountFromServer:()=>oy,getDoc:()=>j0,getDocFromCache:()=>mv,getDocFromServer:()=>Gp,getDocs:()=>yv,getDocsFromCache:()=>gv,getDocsFromServer:()=>vv,getFirestore:()=>_v,getPersistentCacheIndexManager:()=>kv,increment:()=>bv,initializeFirestore:()=>Mv,limit:()=>sy,limitToLast:()=>ay,loadBundle:()=>wv,memoryEagerGarbageCollector:()=>N_,memoryLocalCache:()=>cy,memoryLruGarbageCollector:()=>ly,namedQuery:()=>V_,onSnapshot:()=>Kp,onSnapshotsInSync:()=>Ev,or:()=>xv,orderBy:()=>z0,persistentLocalCache:()=>Cv,persistentMultipleTabManager:()=>il,persistentSingleTabManager:()=>N1,provideFirestore:()=>Qm,query:()=>Ks,queryEqual:()=>Md,refEqual:()=>Qp,runTransaction:()=>sc,serverTimestamp:()=>U0,setDoc:()=>ph,setIndexConfiguration:()=>fh,setLogLevel:()=>mh,snapToData:()=>ev,snapshotEqual:()=>yh,sortedChanges:()=>L0,startAfter:()=>gh,startAt:()=>vh,sum:()=>_h,terminate:()=>kh,updateDoc:()=>bh,vector:()=>Vm,waitForPendingWrites:()=>uy,where:()=>dy,writeBatch:()=>hy});var f=L(5407),G=L(1584),ge=L(8455),le=L(274),re=L(9974),Re=L(4360),Oe=L(5343),he=L(8750);function fe(a,e){return(0,re.N)((r,o)=>{const c=new Set;r.subscribe((0,Re._)(o,p=>{const g=a?a(p):p;c.has(g)||(c.add(g),o.next(p))})),e&&(0,he.Tg)(e).subscribe((0,Re._)(o,()=>c.clear(),Oe.l))})}var ke,Ge,te=L(7705),de=L(7440),Pe=L(4665),Ue=L(2214),ue=L(467),mt=L(7852),Pt=L(1362),Ot=L(8041),wt=L(1076),fn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Xt={};(function(){var a;function o(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function c(ot,Be,Ze){Ze||(Ze=0);var at=Array(16);if("string"==typeof Be)for(var yt=0;16>yt;++yt)at[yt]=Be.charCodeAt(Ze++)|Be.charCodeAt(Ze++)<<8|Be.charCodeAt(Ze++)<<16|Be.charCodeAt(Ze++)<<24;else for(yt=0;16>yt;++yt)at[yt]=Be[Ze++]|Be[Ze++]<<8|Be[Ze++]<<16|Be[Ze++]<<24;var It=ot.g[3],Ke=(Be=ot.g[0])+(It^(Ze=ot.g[1])&((yt=ot.g[2])^It))+at[0]+3614090360&4294967295;Ke=(Ze=(yt=(It=(Be=(Ze=(yt=(It=(Be=(Ze=(yt=(It=(Be=(Ze=(yt=(It=(Be=(Ze=(yt=(It=(Be=(Ze=(yt=(It=(Be=(Ze=(yt=(It=(Be=(Ze=(yt=(It=(Be=(Ze=(yt=(It=(Be=(Ze=(yt=(It=(Be=(Ze=(yt=(It=(Be=(Ze=(yt=(It=(Be=(Ze=(yt=(It=(Be=(Ze=(yt=(It=(Be=(Ze=(yt=(It=(Be=Ze+(Ke<<7&4294967295|Ke>>>25))+((Ke=It+(yt^Be&(Ze^yt))+at[1]+3905402710&4294967295)<<12&4294967295|Ke>>>20))+((Ke=yt+(Ze^It&(Be^Ze))+at[2]+606105819&4294967295)<<17&4294967295|Ke>>>15))+((Ke=Ze+(Be^yt&(It^Be))+at[3]+3250441966&4294967295)<<22&4294967295|Ke>>>10))+((Ke=Be+(It^Ze&(yt^It))+at[4]+4118548399&4294967295)<<7&4294967295|Ke>>>25))+((Ke=It+(yt^Be&(Ze^yt))+at[5]+1200080426&4294967295)<<12&4294967295|Ke>>>20))+((Ke=yt+(Ze^It&(Be^Ze))+at[6]+2821735955&4294967295)<<17&4294967295|Ke>>>15))+((Ke=Ze+(Be^yt&(It^Be))+at[7]+4249261313&4294967295)<<22&4294967295|Ke>>>10))+((Ke=Be+(It^Ze&(yt^It))+at[8]+1770035416&4294967295)<<7&4294967295|Ke>>>25))+((Ke=It+(yt^Be&(Ze^yt))+at[9]+2336552879&4294967295)<<12&4294967295|Ke>>>20))+((Ke=yt+(Ze^It&(Be^Ze))+at[10]+4294925233&4294967295)<<17&4294967295|Ke>>>15))+((Ke=Ze+(Be^yt&(It^Be))+at[11]+2304563134&4294967295)<<22&4294967295|Ke>>>10))+((Ke=Be+(It^Ze&(yt^It))+at[12]+1804603682&4294967295)<<7&4294967295|Ke>>>25))+((Ke=It+(yt^Be&(Ze^yt))+at[13]+4254626195&4294967295)<<12&4294967295|Ke>>>20))+((Ke=yt+(Ze^It&(Be^Ze))+at[14]+2792965006&4294967295)<<17&4294967295|Ke>>>15))+((Ke=Ze+(Be^yt&(It^Be))+at[15]+1236535329&4294967295)<<22&4294967295|Ke>>>10))+((Ke=Be+(yt^It&(Ze^yt))+at[1]+4129170786&4294967295)<<5&4294967295|Ke>>>27))+((Ke=It+(Ze^yt&(Be^Ze))+at[6]+3225465664&4294967295)<<9&4294967295|Ke>>>23))+((Ke=yt+(Be^Ze&(It^Be))+at[11]+643717713&4294967295)<<14&4294967295|Ke>>>18))+((Ke=Ze+(It^Be&(yt^It))+at[0]+3921069994&4294967295)<<20&4294967295|Ke>>>12))+((Ke=Be+(yt^It&(Ze^yt))+at[5]+3593408605&4294967295)<<5&4294967295|Ke>>>27))+((Ke=It+(Ze^yt&(Be^Ze))+at[10]+38016083&4294967295)<<9&4294967295|Ke>>>23))+((Ke=yt+(Be^Ze&(It^Be))+at[15]+3634488961&4294967295)<<14&4294967295|Ke>>>18))+((Ke=Ze+(It^Be&(yt^It))+at[4]+3889429448&4294967295)<<20&4294967295|Ke>>>12))+((Ke=Be+(yt^It&(Ze^yt))+at[9]+568446438&4294967295)<<5&4294967295|Ke>>>27))+((Ke=It+(Ze^yt&(Be^Ze))+at[14]+3275163606&4294967295)<<9&4294967295|Ke>>>23))+((Ke=yt+(Be^Ze&(It^Be))+at[3]+4107603335&4294967295)<<14&4294967295|Ke>>>18))+((Ke=Ze+(It^Be&(yt^It))+at[8]+1163531501&4294967295)<<20&4294967295|Ke>>>12))+((Ke=Be+(yt^It&(Ze^yt))+at[13]+2850285829&4294967295)<<5&4294967295|Ke>>>27))+((Ke=It+(Ze^yt&(Be^Ze))+at[2]+4243563512&4294967295)<<9&4294967295|Ke>>>23))+((Ke=yt+(Be^Ze&(It^Be))+at[7]+1735328473&4294967295)<<14&4294967295|Ke>>>18))+((Ke=Ze+(It^Be&(yt^It))+at[12]+2368359562&4294967295)<<20&4294967295|Ke>>>12))+((Ke=Be+(Ze^yt^It)+at[5]+4294588738&4294967295)<<4&4294967295|Ke>>>28))+((Ke=It+(Be^Ze^yt)+at[8]+2272392833&4294967295)<<11&4294967295|Ke>>>21))+((Ke=yt+(It^Be^Ze)+at[11]+1839030562&4294967295)<<16&4294967295|Ke>>>16))+((Ke=Ze+(yt^It^Be)+at[14]+4259657740&4294967295)<<23&4294967295|Ke>>>9))+((Ke=Be+(Ze^yt^It)+at[1]+2763975236&4294967295)<<4&4294967295|Ke>>>28))+((Ke=It+(Be^Ze^yt)+at[4]+1272893353&4294967295)<<11&4294967295|Ke>>>21))+((Ke=yt+(It^Be^Ze)+at[7]+4139469664&4294967295)<<16&4294967295|Ke>>>16))+((Ke=Ze+(yt^It^Be)+at[10]+3200236656&4294967295)<<23&4294967295|Ke>>>9))+((Ke=Be+(Ze^yt^It)+at[13]+681279174&4294967295)<<4&4294967295|Ke>>>28))+((Ke=It+(Be^Ze^yt)+at[0]+3936430074&4294967295)<<11&4294967295|Ke>>>21))+((Ke=yt+(It^Be^Ze)+at[3]+3572445317&4294967295)<<16&4294967295|Ke>>>16))+((Ke=Ze+(yt^It^Be)+at[6]+76029189&4294967295)<<23&4294967295|Ke>>>9))+((Ke=Be+(Ze^yt^It)+at[9]+3654602809&4294967295)<<4&4294967295|Ke>>>28))+((Ke=It+(Be^Ze^yt)+at[12]+3873151461&4294967295)<<11&4294967295|Ke>>>21))+((Ke=yt+(It^Be^Ze)+at[15]+530742520&4294967295)<<16&4294967295|Ke>>>16))+((Ke=Ze+(yt^It^Be)+at[2]+3299628645&4294967295)<<23&4294967295|Ke>>>9))+((Ke=Be+(yt^(Ze|~It))+at[0]+4096336452&4294967295)<<6&4294967295|Ke>>>26))+((Ke=It+(Ze^(Be|~yt))+at[7]+1126891415&4294967295)<<10&4294967295|Ke>>>22))+((Ke=yt+(Be^(It|~Ze))+at[14]+2878612391&4294967295)<<15&4294967295|Ke>>>17))+((Ke=Ze+(It^(yt|~Be))+at[5]+4237533241&4294967295)<<21&4294967295|Ke>>>11))+((Ke=Be+(yt^(Ze|~It))+at[12]+1700485571&4294967295)<<6&4294967295|Ke>>>26))+((Ke=It+(Ze^(Be|~yt))+at[3]+2399980690&4294967295)<<10&4294967295|Ke>>>22))+((Ke=yt+(Be^(It|~Ze))+at[10]+4293915773&4294967295)<<15&4294967295|Ke>>>17))+((Ke=Ze+(It^(yt|~Be))+at[1]+2240044497&4294967295)<<21&4294967295|Ke>>>11))+((Ke=Be+(yt^(Ze|~It))+at[8]+1873313359&4294967295)<<6&4294967295|Ke>>>26))+((Ke=It+(Ze^(Be|~yt))+at[15]+4264355552&4294967295)<<10&4294967295|Ke>>>22))+((Ke=yt+(Be^(It|~Ze))+at[6]+2734768916&4294967295)<<15&4294967295|Ke>>>17))+((Ke=Ze+(It^(yt|~Be))+at[13]+1309151649&4294967295)<<21&4294967295|Ke>>>11))+((It=(Be=Ze+((Ke=Be+(yt^(Ze|~It))+at[4]+4149444226&4294967295)<<6&4294967295|Ke>>>26))+((Ke=It+(Ze^(Be|~yt))+at[11]+3174756917&4294967295)<<10&4294967295|Ke>>>22))^((yt=It+((Ke=yt+(Be^(It|~Ze))+at[2]+718787259&4294967295)<<15&4294967295|Ke>>>17))|~Be))+at[9]+3951481745&4294967295,ot.g[0]=ot.g[0]+Be&4294967295,ot.g[1]=ot.g[1]+(yt+(Ke<<21&4294967295|Ke>>>11))&4294967295,ot.g[2]=ot.g[2]+yt&4294967295,ot.g[3]=ot.g[3]+It&4294967295}function g(ot,Be){this.h=Be;for(var Ze=[],at=!0,yt=ot.length-1;0<=yt;yt--){var It=0|ot[yt];at&&It==Be||(Ze[yt]=It,at=!1)}this.g=Ze}(function e(ot,Be){function Ze(){}Ze.prototype=Be.prototype,ot.D=Be.prototype,ot.prototype=new Ze,ot.prototype.constructor=ot,ot.C=function(at,yt,It){for(var Ke=Array(arguments.length-2),Yl=2;Yl<arguments.length;Yl++)Ke[Yl-2]=arguments[Yl];return Be.prototype[yt].apply(at,Ke)}})(o,function r(){this.blockSize=-1}),o.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},o.prototype.u=function(ot,Be){void 0===Be&&(Be=ot.length);for(var Ze=Be-this.blockSize,at=this.B,yt=this.h,It=0;It<Be;){if(0==yt)for(;It<=Ze;)c(this,ot,It),It+=this.blockSize;if("string"==typeof ot){for(;It<Be;)if(at[yt++]=ot.charCodeAt(It++),yt==this.blockSize){c(this,at),yt=0;break}}else for(;It<Be;)if(at[yt++]=ot[It++],yt==this.blockSize){c(this,at),yt=0;break}}this.h=yt,this.o+=Be},o.prototype.v=function(){var ot=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);ot[0]=128;for(var Be=1;Be<ot.length-8;++Be)ot[Be]=0;var Ze=8*this.o;for(Be=ot.length-8;Be<ot.length;++Be)ot[Be]=255&Ze,Ze/=256;for(this.u(ot),ot=Array(16),Be=Ze=0;4>Be;++Be)for(var at=0;32>at;at+=8)ot[Ze++]=this.g[Be]>>>at&255;return ot};var C={};function N(ot){return-128<=ot&&128>ot?function p(ot,Be){var Ze=C;return Object.prototype.hasOwnProperty.call(Ze,ot)?Ze[ot]:Ze[ot]=Be(ot)}(ot,function(Be){return new g([0|Be],0>Be?-1:0)}):new g([0|ot],0>ot?-1:0)}function H(ot){if(isNaN(ot)||!isFinite(ot))return ye;if(0>ot)return nn(H(-ot));for(var Be=[],Ze=1,at=0;ot>=Ze;at++)Be[at]=ot/Ze|0,Ze*=4294967296;return new g(Be,0)}var ye=N(0),He=N(1),Mt=N(16777216);function $t(ot){if(0!=ot.h)return!1;for(var Be=0;Be<ot.g.length;Be++)if(0!=ot.g[Be])return!1;return!0}function ln(ot){return-1==ot.h}function nn(ot){for(var Be=ot.g.length,Ze=[],at=0;at<Be;at++)Ze[at]=~ot.g[at];return new g(Ze,~ot.h).add(He)}function Nn(ot,Be){return ot.add(nn(Be))}function Gn(ot,Be){for(;(65535&ot[Be])!=ot[Be];)ot[Be+1]+=ot[Be]>>>16,ot[Be]&=65535,Be++}function On(ot,Be){this.g=ot,this.h=Be}function gr(ot,Be){if($t(Be))throw Error("division by zero");if($t(ot))return new On(ye,ye);if(ln(ot))return Be=gr(nn(ot),Be),new On(nn(Be.g),nn(Be.h));if(ln(Be))return Be=gr(ot,nn(Be)),new On(nn(Be.g),Be.h);if(30<ot.g.length){if(ln(ot)||ln(Be))throw Error("slowDivide_ only works with positive integers.");for(var Ze=He,at=Be;0>=at.l(ot);)Ze=ti(Ze),at=ti(at);var yt=Nr(Ze,1),It=Nr(at,1);for(at=Nr(at,2),Ze=Nr(Ze,2);!$t(at);){var Ke=It.add(at);0>=Ke.l(ot)&&(yt=yt.add(Ze),It=Ke),at=Nr(at,1),Ze=Nr(Ze,1)}return Be=Nn(ot,yt.j(Be)),new On(yt,Be)}for(yt=ye;0<=ot.l(Be);){for(Ze=Math.max(1,Math.floor(ot.m()/Be.m())),at=48>=(at=Math.ceil(Math.log(Ze)/Math.LN2))?1:Math.pow(2,at-48),Ke=(It=H(Ze)).j(Be);ln(Ke)||0<Ke.l(ot);)Ke=(It=H(Ze-=at)).j(Be);$t(It)&&(It=He),yt=yt.add(It),ot=Nn(ot,Ke)}return new On(yt,ot)}function ti(ot){for(var Be=ot.g.length+1,Ze=[],at=0;at<Be;at++)Ze[at]=ot.i(at)<<1|ot.i(at-1)>>>31;return new g(Ze,ot.h)}function Nr(ot,Be){var Ze=Be>>5;Be%=32;for(var at=ot.g.length-Ze,yt=[],It=0;It<at;It++)yt[It]=0<Be?ot.i(It+Ze)>>>Be|ot.i(It+Ze+1)<<32-Be:ot.i(It+Ze);return new g(yt,ot.h)}(a=g.prototype).m=function(){if(ln(this))return-nn(this).m();for(var ot=0,Be=1,Ze=0;Ze<this.g.length;Ze++){var at=this.i(Ze);ot+=(0<=at?at:4294967296+at)*Be,Be*=4294967296}return ot},a.toString=function(ot){if(2>(ot=ot||10)||36<ot)throw Error("radix out of range: "+ot);if($t(this))return"0";if(ln(this))return"-"+nn(this).toString(ot);for(var Be=H(Math.pow(ot,6)),Ze=this,at="";;){var yt=gr(Ze,Be).g,It=((0<(Ze=Nn(Ze,yt.j(Be))).g.length?Ze.g[0]:Ze.h)>>>0).toString(ot);if($t(Ze=yt))return It+at;for(;6>It.length;)It="0"+It;at=It+at}},a.i=function(ot){return 0>ot?0:ot<this.g.length?this.g[ot]:this.h},a.l=function(ot){return ln(ot=Nn(this,ot))?-1:$t(ot)?0:1},a.abs=function(){return ln(this)?nn(this):this},a.add=function(ot){for(var Be=Math.max(this.g.length,ot.g.length),Ze=[],at=0,yt=0;yt<=Be;yt++){var It=at+(65535&this.i(yt))+(65535&ot.i(yt)),Ke=(It>>>16)+(this.i(yt)>>>16)+(ot.i(yt)>>>16);at=Ke>>>16,Ze[yt]=(Ke&=65535)<<16|(It&=65535)}return new g(Ze,-2147483648&Ze[Ze.length-1]?-1:0)},a.j=function(ot){if($t(this)||$t(ot))return ye;if(ln(this))return ln(ot)?nn(this).j(nn(ot)):nn(nn(this).j(ot));if(ln(ot))return nn(this.j(nn(ot)));if(0>this.l(Mt)&&0>ot.l(Mt))return H(this.m()*ot.m());for(var Be=this.g.length+ot.g.length,Ze=[],at=0;at<2*Be;at++)Ze[at]=0;for(at=0;at<this.g.length;at++)for(var yt=0;yt<ot.g.length;yt++){var It=this.i(at)>>>16,Ke=65535&this.i(at),Yl=ot.i(yt)>>>16,wd=65535&ot.i(yt);Ze[2*at+2*yt]+=Ke*wd,Gn(Ze,2*at+2*yt),Ze[2*at+2*yt+1]+=It*wd,Gn(Ze,2*at+2*yt+1),Ze[2*at+2*yt+1]+=Ke*Yl,Gn(Ze,2*at+2*yt+1),Ze[2*at+2*yt+2]+=It*Yl,Gn(Ze,2*at+2*yt+2)}for(at=0;at<Be;at++)Ze[at]=Ze[2*at+1]<<16|Ze[2*at];for(at=Be;at<2*Be;at++)Ze[at]=0;return new g(Ze,0)},a.A=function(ot){return gr(this,ot).h},a.and=function(ot){for(var Be=Math.max(this.g.length,ot.g.length),Ze=[],at=0;at<Be;at++)Ze[at]=this.i(at)&ot.i(at);return new g(Ze,this.h&ot.h)},a.or=function(ot){for(var Be=Math.max(this.g.length,ot.g.length),Ze=[],at=0;at<Be;at++)Ze[at]=this.i(at)|ot.i(at);return new g(Ze,this.h|ot.h)},a.xor=function(ot){for(var Be=Math.max(this.g.length,ot.g.length),Ze=[],at=0;at<Be;at++)Ze[at]=this.i(at)^ot.i(at);return new g(Ze,this.h^ot.h)},o.prototype.digest=o.prototype.v,o.prototype.reset=o.prototype.s,o.prototype.update=o.prototype.u,Ge=Xt.Md5=o,g.prototype.add=g.prototype.add,g.prototype.multiply=g.prototype.j,g.prototype.modulo=g.prototype.A,g.prototype.compare=g.prototype.l,g.prototype.toNumber=g.prototype.m,g.prototype.toString=g.prototype.toString,g.prototype.getBits=g.prototype.i,g.fromNumber=H,g.fromString=function J(ot,Be){if(0==ot.length)throw Error("number format error: empty string");if(2>(Be=Be||10)||36<Be)throw Error("radix out of range: "+Be);if("-"==ot.charAt(0))return nn(J(ot.substring(1),Be));if(0<=ot.indexOf("-"))throw Error('number format error: interior "-" character');for(var Ze=H(Math.pow(Be,8)),at=ye,yt=0;yt<ot.length;yt+=8){var It=Math.min(8,ot.length-yt),Ke=parseInt(ot.substring(yt,yt+It),Be);8>It?(It=H(Math.pow(Be,It)),at=at.j(It).add(H(Ke))):at=(at=at.j(Ze)).add(H(Ke))}return at},ke=Xt.Integer=g}).apply(typeof fn<"u"?fn:typeof self<"u"?self:typeof window<"u"?window:{});var _t,hn,gn,_n,jn,zt,Tn,rn,je=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},$e={};(function(){var a,e="function"==typeof Object.defineProperties?Object.defineProperty:function(y,F,$){return y==Array.prototype||y==Object.prototype||(y[F]=$.value),y},o=function r(y){y=["object"==typeof globalThis&&globalThis,y,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof je&&je];for(var F=0;F<y.length;++F){var $=y[F];if($&&$.Math==Math)return $}throw Error("Cannot find global object")}(this);!function c(y,F){if(F)e:{var $=o;y=y.split(".");for(var ce=0;ce<y.length-1;ce++){var gt=y[ce];if(!(gt in $))break e;$=$[gt]}(F=F(ce=$[y=y[y.length-1]]))!=ce&&null!=F&&e($,y,{configurable:!0,writable:!0,value:F})}}("Array.prototype.values",function(y){return y||function(){return function p(y,F){y instanceof String&&(y+="");var $=0,ce=!1,gt={next:function(){if(!ce&&$<y.length){var St=$++;return{value:F(St,y[St]),done:!1}}return ce=!0,{done:!0,value:void 0}}};return gt[Symbol.iterator]=function(){return gt},gt}(this,function(F,$){return $})}});var g=g||{},C=this||self;function N(y){var F=typeof y;return"array"==(F="object"!=F?F:y?Array.isArray(y)?"array":F:"null")||"object"==F&&"number"==typeof y.length}function H(y){var F=typeof y;return"object"==F&&null!=y||"function"==F}function J(y,F,$){return y.call.apply(y.bind,arguments)}function ye(y,F,$){if(!y)throw Error();if(2<arguments.length){var ce=Array.prototype.slice.call(arguments,2);return function(){var gt=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(gt,ce),y.apply(F,gt)}}return function(){return y.apply(F,arguments)}}function He(y,F,$){return(He=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?J:ye).apply(null,arguments)}function Mt(y,F){var $=Array.prototype.slice.call(arguments,1);return function(){var ce=$.slice();return ce.push.apply(ce,arguments),y.apply(this,ce)}}function $t(y,F){function $(){}$.prototype=F.prototype,y.aa=F.prototype,y.prototype=new $,y.prototype.constructor=y,y.Qb=function(ce,gt,St){for(var vn=Array(arguments.length-2),Oi=2;Oi<arguments.length;Oi++)vn[Oi-2]=arguments[Oi];return F.prototype[gt].apply(ce,vn)}}function ln(y){const F=y.length;if(0<F){const $=Array(F);for(let ce=0;ce<F;ce++)$[ce]=y[ce];return $}return[]}function nn(y,F){for(let $=1;$<arguments.length;$++){const ce=arguments[$];if(N(ce)){const gt=y.length||0,St=ce.length||0;y.length=gt+St;for(let vn=0;vn<St;vn++)y[gt+vn]=ce[vn]}else y.push(ce)}}function Gn(y){return/^[\s\xa0]*$/.test(y)}function On(){var y=C.navigator;return y&&(y=y.userAgent)?y:""}function gr(y){return gr[" "](y),y}gr[" "]=function(){};var ti=!(-1==On().indexOf("Gecko")||-1!=On().toLowerCase().indexOf("webkit")&&-1==On().indexOf("Edge")||-1!=On().indexOf("Trident")||-1!=On().indexOf("MSIE")||-1!=On().indexOf("Edge"));function Nr(y,F,$){for(const ce in y)F.call($,y[ce],ce,y)}function Be(y){const F={};for(const $ in y)F[$]=y[$];return F}const Ze="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function at(y,F){let $,ce;for(let gt=1;gt<arguments.length;gt++){for($ in ce=arguments[gt],ce)y[$]=ce[$];for(let St=0;St<Ze.length;St++)$=Ze[St],Object.prototype.hasOwnProperty.call(ce,$)&&(y[$]=ce[$])}}function yt(y){var F=1;y=y.split(":");const $=[];for(;0<F&&y.length;)$.push(y.shift()),F--;return y.length&&$.push(y.join(":")),$}function It(y){C.setTimeout(()=>{throw y},0)}function Ke(){var y=H0;let F=null;return y.g&&(F=y.g,y.g=y.g.next,y.g||(y.h=null),F.next=null),F}var wd=new class Nn{constructor(F,$){this.i=F,this.j=$,this.h=0,this.g=null}get(){let F;return 0<this.h?(this.h--,F=this.g,this.g=F.next,F.next=null):F=this.i(),F}}(()=>new Zp,y=>y.reset());class Zp{constructor(){this.next=this.g=this.h=null}set(F,$){this.h=F,this.g=$,this.next=null}reset(){this.next=this.g=this.h=null}}let Iu,Xp=!1,H0=new class Yl{constructor(){this.h=this.g=null}add(F,$){const ce=wd.get();ce.set(F,$),this.h?this.h.next=ce:this.g=ce,this.h=ce}},py=()=>{const y=C.Promise.resolve(void 0);Iu=()=>{y.then(q0)}};var q0=()=>{for(var y;y=Ke();){try{y.h.call(y.g)}catch($){It($)}var F=wd;F.j(y),100>F.h&&(F.h++,y.next=F.g,F.g=y)}Xp=!1};function Tu(){this.s=this.s,this.C=this.C}function Is(y,F){this.type=y,this.g=this.target=F,this.defaultPrevented=!1}Tu.prototype.s=!1,Tu.prototype.ma=function(){this.s||(this.s=!0,this.N())},Tu.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},Is.prototype.h=function(){this.defaultPrevented=!0};var Av=function(){if(!C.addEventListener||!Object.defineProperty)return!1;var y=!1,F=Object.defineProperty({},"passive",{get:function(){y=!0}});try{const $=()=>{};C.addEventListener("test",$,F),C.removeEventListener("test",$,F)}catch{}return y}();function V1(y,F){if(Is.call(this,y?y.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,y){var $=this.type=y.type,ce=y.changedTouches&&y.changedTouches.length?y.changedTouches[0]:null;if(this.target=y.target||y.srcElement,this.g=F,F=y.relatedTarget){if(ti){e:{try{gr(F.nodeName);var gt=!0;break e}catch{}gt=!1}gt||(F=null)}}else"mouseover"==$?F=y.fromElement:"mouseout"==$&&(F=y.toElement);this.relatedTarget=F,ce?(this.clientX=void 0!==ce.clientX?ce.clientX:ce.pageX,this.clientY=void 0!==ce.clientY?ce.clientY:ce.pageY,this.screenX=ce.screenX||0,this.screenY=ce.screenY||0):(this.clientX=void 0!==y.clientX?y.clientX:y.pageX,this.clientY=void 0!==y.clientY?y.clientY:y.pageY,this.screenX=y.screenX||0,this.screenY=y.screenY||0),this.button=y.button,this.key=y.key||"",this.ctrlKey=y.ctrlKey,this.altKey=y.altKey,this.shiftKey=y.shiftKey,this.metaKey=y.metaKey,this.pointerId=y.pointerId||0,this.pointerType="string"==typeof y.pointerType?y.pointerType:fy[y.pointerType]||"",this.state=y.state,this.i=y,y.defaultPrevented&&V1.aa.h.call(this)}}$t(V1,Is);var fy={2:"touch",3:"pen",4:"mouse"};V1.prototype.h=function(){V1.aa.h.call(this);var y=this.i;y.preventDefault?y.preventDefault():y.returnValue=!1};var Mh="closure_listenable_"+(1e6*Math.random()|0),my=0;function Iv(y,F,$,ce,gt){this.listener=y,this.proxy=null,this.src=F,this.type=$,this.capture=!!ce,this.ha=gt,this.key=++my,this.da=this.fa=!1}function Yp(y){y.da=!0,y.listener=null,y.proxy=null,y.src=null,y.ha=null}function Jp(y){this.src=y,this.g={},this.h=0}function ef(y,F){var $=F.type;if($ in y.g){var St,ce=y.g[$],gt=Array.prototype.indexOf.call(ce,F,void 0);(St=0<=gt)&&Array.prototype.splice.call(ce,gt,1),St&&(Yp(F),0==y.g[$].length&&(delete y.g[$],y.h--))}}function L1(y,F,$,ce){for(var gt=0;gt<y.length;++gt){var St=y[gt];if(!St.da&&St.listener==F&&St.capture==!!$&&St.ha==ce)return gt}return-1}Jp.prototype.add=function(y,F,$,ce,gt){var St=y.toString();(y=this.g[St])||(y=this.g[St]=[],this.h++);var vn=L1(y,F,ce,gt);return-1<vn?(F=y[vn],$||(F.fa=!1)):((F=new Iv(F,this.src,St,!!ce,gt)).fa=$,y.push(F)),F};var F1="closure_lm_"+(1e6*Math.random()|0),$0={};function B1(y,F,$,ce,gt){if(ce&&ce.once)return G0(y,F,$,ce,gt);if(Array.isArray(F)){for(var St=0;St<F.length;St++)B1(y,F[St],$,ce,gt);return null}return $=nf($),y&&y[Mh]?y.K(F,$,H(ce)?!!ce.capture:!!ce,gt):j1(y,F,$,!1,ce,gt)}function j1(y,F,$,ce,gt,St){if(!F)throw Error("Invalid event type");var vn=H(gt)?!!gt.capture:!!gt,Oi=wh(y);if(Oi||(y[F1]=Oi=new Jp(y)),($=Oi.add(F,$,ce,vn,St)).proxy)return $;if(ce=function W0(){const F=tf;return function y($){return F.call(y.src,y.listener,$)}}(),$.proxy=ce,ce.src=y,ce.listener=$,y.addEventListener)Av||(gt=vn),void 0===gt&&(gt=!1),y.addEventListener(F.toString(),ce,gt);else if(y.attachEvent)y.attachEvent(gy(F.toString()),ce);else{if(!y.addListener||!y.removeListener)throw Error("addEventListener and attachEvent are unavailable.");y.addListener(ce)}return $}function G0(y,F,$,ce,gt){if(Array.isArray(F)){for(var St=0;St<F.length;St++)G0(y,F[St],$,ce,gt);return null}return $=nf($),y&&y[Mh]?y.L(F,$,H(ce)?!!ce.capture:!!ce,gt):j1(y,F,$,!0,ce,gt)}function yy(y,F,$,ce,gt){if(Array.isArray(F))for(var St=0;St<F.length;St++)yy(y,F[St],$,ce,gt);else ce=H(ce)?!!ce.capture:!!ce,$=nf($),y&&y[Mh]?(y=y.i,(F=String(F).toString())in y.g&&-1<($=L1(St=y.g[F],$,ce,gt))&&(Yp(St[$]),Array.prototype.splice.call(St,$,1),0==St.length&&(delete y.g[F],y.h--))):y&&(y=wh(y))&&(F=y.g[F.toString()],y=-1,F&&(y=L1(F,$,ce,gt)),($=-1<y?F[y]:null)&&K0($))}function K0(y){if("number"!=typeof y&&y&&!y.da){var F=y.src;if(F&&F[Mh])ef(F.i,y);else{var $=y.type,ce=y.proxy;F.removeEventListener?F.removeEventListener($,ce,y.capture):F.detachEvent?F.detachEvent(gy($),ce):F.addListener&&F.removeListener&&F.removeListener(ce),($=wh(F))?(ef($,y),0==$.h&&($.src=null,F[F1]=null)):Yp(y)}}}function gy(y){return y in $0?$0[y]:$0[y]="on"+y}function tf(y,F){if(y.da)y=!0;else{F=new V1(F,this);var $=y.listener,ce=y.ha||y.src;y.fa&&K0(y),y=$.call(ce,F)}return y}function wh(y){return(y=y[F1])instanceof Jp?y:null}var z1="__closure_events_fn_"+(1e9*Math.random()>>>0);function nf(y){return"function"==typeof y?y:(y[z1]||(y[z1]=function(F){return y.handleEvent(F)}),y[z1])}function Qs(){Tu.call(this),this.i=new Jp(this),this.M=this,this.F=null}function ua(y,F){var $,ce=y.F;if(ce)for($=[];ce;ce=ce.F)$.push(ce);if(y=y.M,ce=F.type||F,"string"==typeof F)F=new Is(F,y);else if(F instanceof Is)F.target=F.target||y;else{var gt=F;at(F=new Is(ce,y),gt)}if(gt=!0,$)for(var St=$.length-1;0<=St;St--){var vn=F.g=$[St];gt=U1(vn,ce,!0,F)&&gt}if(gt=U1(vn=F.g=y,ce,!0,F)&&gt,gt=U1(vn,ce,!1,F)&&gt,$)for(St=0;St<$.length;St++)gt=U1(vn=F.g=$[St],ce,!1,F)&&gt}function U1(y,F,$,ce){if(!(F=y.i.g[String(F)]))return!0;F=F.concat();for(var gt=!0,St=0;St<F.length;++St){var vn=F[St];if(vn&&!vn.da&&vn.capture==$){var Oi=vn.listener,ls=vn.ha||vn.src;vn.fa&&ef(y.i,vn),gt=!1!==Oi.call(ls,ce)&&gt}}return gt&&!ce.defaultPrevented}function rf(y,F,$){if("function"==typeof y)$&&(y=He(y,$));else{if(!y||"function"!=typeof y.handleEvent)throw Error("Invalid listener argument");y=He(y.handleEvent,y)}return 2147483647<Number(F)?-1:C.setTimeout(y,F||0)}function Q0(y){y.g=rf(()=>{y.g=null,y.i&&(y.i=!1,Q0(y))},y.l);const F=y.h;y.h=null,y.m.apply(null,F)}$t(Qs,Tu),Qs.prototype[Mh]=!0,Qs.prototype.removeEventListener=function(y,F,$,ce){yy(this,y,F,$,ce)},Qs.prototype.N=function(){if(Qs.aa.N.call(this),this.i){var F,y=this.i;for(F in y.g){for(var $=y.g[F],ce=0;ce<$.length;ce++)Yp($[ce]);delete y.g[F],y.h--}}this.F=null},Qs.prototype.K=function(y,F,$,ce){return this.i.add(String(y),F,!1,$,ce)},Qs.prototype.L=function(y,F,$,ce){return this.i.add(String(y),F,!0,$,ce)};class Z0 extends Tu{constructor(F,$){super(),this.m=F,this.l=$,this.h=null,this.i=!1,this.g=null}j(F){this.h=arguments,this.g?this.i=!0:Q0(this)}N(){super.N(),this.g&&(C.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Eh(y){Tu.call(this),this.h=y,this.g={}}$t(Eh,Tu);var vy=[];function X0(y){Nr(y.g,function(F,$){this.g.hasOwnProperty($)&&K0(F)},y),y.g={}}Eh.prototype.N=function(){Eh.aa.N.call(this),X0(this)},Eh.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var sf=C.JSON.stringify,_y=C.JSON.parse,ky=class{stringify(y){return C.JSON.stringify(y,void 0)}parse(y){return C.JSON.parse(y,void 0)}};function Y0(){}function e2(){}Y0.prototype.h=null;var xh={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ch(){Is.call(this,"d")}function af(){Is.call(this,"c")}$t(Ch,Is),$t(af,Is);var Du={},t2=null;function H1(){return t2=t2||new Qs}function n2(y){Is.call(this,Du.La,y)}function Ah(y){const F=H1();ua(F,new n2(F))}function r2(y,F){Is.call(this,Du.STAT_EVENT,y),this.stat=F}function Zs(y){const F=H1();ua(F,new r2(F,y))}function q1(y,F){Is.call(this,Du.Ma,y),this.size=F}function ac(y,F){if("function"!=typeof y)throw Error("Fn must not be null and must be a function");return C.setTimeout(function(){y()},F)}function $1(){this.g=!0}function cc(y,F,$,ce){y.info(function(){return"XMLHTTP TEXT ("+F+"): "+function Dv(y,F){if(!y.g)return F;if(!F)return null;try{var $=JSON.parse(F);if($)for(y=0;y<$.length;y++)if(Array.isArray($[y])){var ce=$[y];if(!(2>ce.length)){var gt=ce[1];if(Array.isArray(gt)&&!(1>gt.length)){var St=gt[0];if("noop"!=St&&"stop"!=St&&"close"!=St)for(var vn=1;vn<gt.length;vn++)gt[vn]=""}}}return sf($)}catch{return F}}(y,$)+(ce?" "+ce:"")})}Du.La="serverreachability",$t(n2,Is),Du.STAT_EVENT="statevent",$t(r2,Is),Du.Ma="timingevent",$t(q1,Is),$1.prototype.xa=function(){this.g=!1},$1.prototype.info=function(){};var by,Ih={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Sv={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function cf(){}function Su(y,F,$,ce){this.j=y,this.i=F,this.l=$,this.R=ce||1,this.U=new Eh(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new lf}function lf(){this.i=null,this.g="",this.h=!1}$t(cf,Y0),cf.prototype.g=function(){return new XMLHttpRequest},cf.prototype.i=function(){return{}},by=new cf;var My={},Do={};function uf(y,F,$){y.L=1,y.v=Pu(Jl(F)),y.m=$,y.P=!0,wy(y,null)}function wy(y,F){y.F=Date.now(),df(y),y.A=Jl(y.v);var $=y.A,ce=y.R;Array.isArray(ce)||(ce=[String(ce)]),Vy($.i,"t",ce),y.C=0,$=y.j.J,y.h=new lf,y.g=Bv(y.j,$?F:null,!y.m),0<y.O&&(y.M=new Z0(He(y.Y,y,y.g),y.O)),F=y.U,$=y.g,ce=y.ca;var gt="readystatechange";Array.isArray(gt)||(gt&&(vy[0]=gt.toString()),gt=vy);for(var St=0;St<gt.length;St++){var vn=B1($,gt[St],ce||F.handleEvent,!1,F.h||F);if(!vn)break;F.g[vn.key]=vn}F=y.H?Be(y.H):{},y.m?(y.u||(y.u="POST"),F["Content-Type"]="application/x-www-form-urlencoded",y.g.ea(y.A,y.u,y.m,F)):(y.u="GET",y.g.ea(y.A,y.u,null,F)),Ah(),function Tv(y,F,$,ce,gt,St){y.info(function(){if(y.g)if(St)for(var vn="",Oi=St.split("&"),ls=0;ls<Oi.length;ls++){var fi=Oi[ls].split("=");if(1<fi.length){var Ts=fi[0];fi=fi[1];var Ds=Ts.split("_");vn=2<=Ds.length&&"type"==Ds[1]?vn+(Ts+"=")+fi+"&":vn+(Ts+"=redacted&")}}else vn=null;else vn=St;return"XMLHTTP REQ ("+ce+") [attempt "+gt+"]: "+F+"\n"+$+"\n"+vn})}(y.i,y.u,y.A,y.l,y.R,y.m)}function Ey(y){return!!y.g&&"GET"==y.u&&2!=y.L&&y.j.Ca}function xy(y,F){var $=y.C,ce=F.indexOf("\n",$);return-1==ce?Do:($=Number(F.substring($,ce)),isNaN($)?My:(ce+=1)+$>F.length?Do:(F=F.slice(ce,ce+$),y.C=ce+$,F))}function df(y){y.S=Date.now()+y.I,a2(y,y.I)}function a2(y,F){if(null!=y.B)throw Error("WatchDog timer not null");y.B=ac(He(y.ba,y),F)}function hf(y){y.B&&(C.clearTimeout(y.B),y.B=null)}function ol(y){0==y.j.G||y.J||Gy(y.j,y)}function Ed(y){hf(y);var F=y.M;F&&"function"==typeof F.ma&&F.ma(),y.M=null,X0(y.U),y.g&&(F=y.g,y.g=null,F.abort(),F.ma())}function c2(y,F){try{var $=y.j;if(0!=$.G&&($.g==y||W1($.h,y)))if(!y.K&&W1($.h,y)&&3==$.G){try{var ce=$.Da.g.parse(F)}catch{ce=null}if(Array.isArray(ce)&&3==ce.length){var gt=ce;if(0==gt[0]){e:if(!$.u){if($.g){if(!($.g.F+3e3<y.F))break e;al($),J1($)}_f($),Zs(18)}}else $.za=gt[1],0<$.za-$.T&&37500>gt[2]&&$.F&&0==$.v&&!$.C&&($.C=ac(He($.Za,$),6e3));if(1>=Rv($.h)&&$.ca){try{$.ca()}catch{}$.ca=void 0}}else za($,11)}else if((y.K||$.g==y)&&al($),!Gn(F))for(gt=$.Da.g.parse(F),F=0;F<gt.length;F++){let fi=gt[F];if($.T=fi[0],fi=fi[1],2==$.G)if("c"==fi[0]){$.K=fi[1],$.ia=fi[2];const Ts=fi[3];null!=Ts&&($.la=Ts,$.j.info("VER="+$.la));const Ds=fi[4];null!=Ds&&($.Aa=Ds,$.j.info("SVER="+$.Aa));const Cd=fi[5];null!=Cd&&"number"==typeof Cd&&0<Cd&&($.L=ce=1.5*Cd,$.j.info("backChannelRequestTimeoutMs_="+ce)),ce=$;const hc=y.g;if(hc){const rp=hc.g?hc.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(rp){var St=ce.h;St.g||-1==rp.indexOf("spdy")&&-1==rp.indexOf("quic")&&-1==rp.indexOf("h2")||(St.j=St.l,St.g=new Set,St.h&&(G1(St,St.h),St.h=null))}if(ce.D){const b2=hc.g?hc.g.getResponseHeader("X-HTTP-Session-Id"):null;b2&&(ce.ya=b2,Fi(ce.I,ce.D,b2))}}$.G=3,$.l&&$.l.ua(),$.ba&&($.R=Date.now()-y.F,$.j.info("Handshake RTT: "+$.R+"ms"));var vn=y;if((ce=$).qa=kf(ce,ce.J?ce.ia:null,ce.W),vn.K){Fc(ce.h,vn);var Oi=vn,ls=ce.L;ls&&(Oi.I=ls),Oi.B&&(hf(Oi),df(Oi)),ce.g=vn}else v2(ce);0<$.i.length&&ep($)}else"stop"!=fi[0]&&"close"!=fi[0]||za($,7);else 3==$.G&&("stop"==fi[0]||"close"==fi[0]?"stop"==fi[0]?za($,7):f2($):"noop"!=fi[0]&&$.l&&$.l.ta(fi),$.v=0)}Ah()}catch{}}function Ay(y){this.l=y||10,y=C.PerformanceNavigationTiming?0<(y=C.performance.getEntriesByType("navigation")).length&&("hq"==y[0].nextHopProtocol||"h2"==y[0].nextHopProtocol):!!(C.chrome&&C.chrome.loadTimes&&C.chrome.loadTimes()&&C.chrome.loadTimes().wasFetchedViaSpdy),this.j=y?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function l2(y){return!!y.h||!!y.g&&y.g.size>=y.j}function Rv(y){return y.h?1:y.g?y.g.size:0}function W1(y,F){return y.h?y.h==F:!!y.g&&y.g.has(F)}function G1(y,F){y.g?y.g.add(F):y.h=F}function Fc(y,F){y.h&&y.h==F?y.h=null:y.g&&y.g.has(F)&&y.g.delete(F)}function Iy(y){if(null!=y.h)return y.i.concat(y.h.D);if(null!=y.g&&0!==y.g.size){let F=y.i;for(const $ of y.g.values())F=F.concat($.D);return F}return ln(y.i)}function lc(y,F){if(y.forEach&&"function"==typeof y.forEach)y.forEach(F,void 0);else if(N(y)||"string"==typeof y)Array.prototype.forEach.call(y,F,void 0);else for(var $=function sl(y){if(y.na&&"function"==typeof y.na)return y.na();if(!y.V||"function"!=typeof y.V){if(typeof Map<"u"&&y instanceof Map)return Array.from(y.keys());if(!(typeof Set<"u"&&y instanceof Set)){if(N(y)||"string"==typeof y){var F=[];y=y.length;for(var $=0;$<y;$++)F.push($);return F}F=[],$=0;for(const ce in y)F[$++]=ce;return F}}}(y),ce=function Ty(y){if(y.V&&"function"==typeof y.V)return y.V();if(typeof Map<"u"&&y instanceof Map||typeof Set<"u"&&y instanceof Set)return Array.from(y.values());if("string"==typeof y)return y.split("");if(N(y)){for(var F=[],$=y.length,ce=0;ce<$;ce++)F.push(y[ce]);return F}for(ce in F=[],$=0,y)F[$++]=y[ce];return F}(y),gt=ce.length,St=0;St<gt;St++)F.call(void 0,ce[St],$&&$[St],y)}Su.prototype.ca=function(y){y=y.target;const F=this.M;F&&3==nu(y)?F.j():this.Y(y)},Su.prototype.Y=function(y){try{if(y==this.g)e:{const Ds=nu(this.g);var F=this.g.Ba();if(this.g.Z(),!(3>Ds)&&(3!=Ds||this.g&&(this.h.h||this.g.oa()||qy(this.g)))){this.J||4!=Ds||7==F||Ah(),hf(this);var $=this.g.Z();this.X=$;t:if(Ey(this)){var ce=qy(this.g);y="";var gt=ce.length,St=4==nu(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Ed(this),ol(this);var vn="";break t}this.h.i=new C.TextDecoder}for(F=0;F<gt;F++)this.h.h=!0,y+=this.h.i.decode(ce[F],{stream:!(St&&F==gt-1)});ce.length=0,this.h.g+=y,this.C=0,vn=this.h.g}else vn=this.g.oa();if(this.o=200==$,function o2(y,F,$,ce,gt,St,vn){y.info(function(){return"XMLHTTP RESP ("+ce+") [ attempt "+gt+"]: "+F+"\n"+$+"\n"+St+" "+vn})}(this.i,this.u,this.A,this.l,this.R,Ds,$),this.o){if(this.T&&!this.K){t:{if(this.g){var Oi,ls=this.g;if((Oi=ls.g?ls.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Gn(Oi)){var fi=Oi;break t}}fi=null}if(!($=fi)){this.o=!1,this.s=3,Zs(12),Ed(this),ol(this);break e}cc(this.i,this.l,$,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,c2(this,$)}if(this.P){let hc;for($=!0;!this.J&&this.C<vn.length;){if(hc=xy(this,vn),hc==Do){4==Ds&&(this.s=4,Zs(14),$=!1),cc(this.i,this.l,null,"[Incomplete Response]");break}if(hc==My){this.s=4,Zs(15),cc(this.i,this.l,vn,"[Invalid Chunk]"),$=!1;break}cc(this.i,this.l,hc,null),c2(this,hc)}if(Ey(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=Ds||0!=vn.length||this.h.h||(this.s=1,Zs(16),$=!1),this.o=this.o&&$,$){if(0<vn.length&&!this.W){this.W=!0;var Ts=this.j;Ts.g==this&&Ts.ba&&!Ts.M&&(Ts.j.info("Great, no buffering proxy detected. Bytes received: "+vn.length),tp(Ts),Ts.M=!0,Zs(11))}}else cc(this.i,this.l,vn,"[Invalid Chunked Response]"),Ed(this),ol(this)}else cc(this.i,this.l,vn,null),c2(this,vn);4==Ds&&Ed(this),this.o&&!this.J&&(4==Ds?Gy(this.j,this):(this.o=!1,df(this)))}else(function Lv(y){const F={};y=(y.g&&2<=nu(y)&&y.g.getAllResponseHeaders()||"").split("\r\n");for(let ce=0;ce<y.length;ce++){if(Gn(y[ce]))continue;var $=yt(y[ce]);const gt=$[0];if("string"!=typeof($=$[1]))continue;$=$.trim();const St=F[gt]||[];F[gt]=St,St.push($)}!function ot(y,F){for(const $ in y)F.call(void 0,y[$],$,y)}(F,function(ce){return ce.join(", ")})})(this.g),400==$&&0<vn.indexOf("Unknown SID")?(this.s=3,Zs(12)):(this.s=0,Zs(13)),Ed(this),ol(this)}}}catch{}},Su.prototype.cancel=function(){this.J=!0,Ed(this)},Su.prototype.ba=function(){this.B=null;const y=Date.now();0<=y-this.S?(function s2(y,F){y.info(function(){return"TIMEOUT: "+F})}(this.i,this.A),2!=this.L&&(Ah(),Zs(17)),Ed(this),this.s=2,ol(this)):a2(this,this.S-y)},Ay.prototype.cancel=function(){if(this.i=Iy(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const y of this.g.values())y.cancel();this.g.clear()}};var uc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ru(y){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,y instanceof Ru){this.h=y.h,pf(this,y.j),this.o=y.o,this.g=y.g,ff(this,y.s),this.l=y.l;var F=y.i,$=new Dh;$.i=F.i,F.g&&($.g=new Map(F.g),$.h=F.h),Sy(this,$),this.m=y.m}else y&&(F=String(y).match(uc))?(this.h=!1,pf(this,F[1]||"",!0),this.o=K1(F[2]||""),this.g=K1(F[3]||"",!0),ff(this,F[4]),this.l=K1(F[5]||"",!0),Sy(this,F[6]||"",!0),this.m=K1(F[7]||"")):(this.h=!1,this.i=new Dh(null,this.h))}function Jl(y){return new Ru(y)}function pf(y,F,$){y.j=$?K1(F,!0):F,y.j&&(y.j=y.j.replace(/:$/,""))}function ff(y,F){if(F){if(F=Number(F),isNaN(F)||0>F)throw Error("Bad port number "+F);y.s=F}else y.s=null}function Sy(y,F,$){F instanceof Dh?(y.i=F,function yf(y,F){F&&!y.j&&(eu(y),y.i=null,y.g.forEach(function($,ce){var gt=ce.toLowerCase();ce!=gt&&(u2(this,ce),Vy(this,gt,$))},y)),y.j=F}(y.i,y.h)):($||(F=Th(F,mf)),y.i=new Dh(F,y.h))}function Fi(y,F,$){y.i.set(F,$)}function Pu(y){return Fi(y,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),y}function K1(y,F){return y?F?decodeURI(y.replace(/%25/g,"%2525")):decodeURIComponent(y):""}function Th(y,F,$){return"string"==typeof y?(y=encodeURI(y).replace(F,Pv),$&&(y=y.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y):null}function Pv(y){return"%"+((y=y.charCodeAt(0))>>4&15).toString(16)+(15&y).toString(16)}Ru.prototype.toString=function(){var y=[],F=this.j;F&&y.push(Th(F,Ry,!0),":");var $=this.g;return($||"file"==F)&&(y.push("//"),(F=this.o)&&y.push(Th(F,Ry,!0),"@"),y.push(encodeURIComponent(String($)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=($=this.s)&&y.push(":",String($))),($=this.l)&&(this.g&&"/"!=$.charAt(0)&&y.push("/"),y.push(Th($,"/"==$.charAt(0)?Oy:Py,!0))),($=this.i.toString())&&y.push("?",$),($=this.m)&&y.push("#",Th($,Ov)),y.join("")};var y,Ry=/[#\/\?@]/g,Py=/[#\?:]/g,Oy=/[#\?]/g,mf=/[#\?@]/g,Ov=/#/g;function Dh(y,F){this.h=this.g=null,this.i=y||null,this.j=!!F}function eu(y){y.g||(y.g=new Map,y.h=0,y.i&&function Dy(y,F){if(y){y=y.split("&");for(var $=0;$<y.length;$++){var ce=y[$].indexOf("="),gt=null;if(0<=ce){var St=y[$].substring(0,ce);gt=y[$].substring(ce+1)}else St=y[$];F(St,gt?decodeURIComponent(gt.replace(/\+/g," ")):"")}}}(y.i,function(F,$){y.add(decodeURIComponent(F.replace(/\+/g," ")),$)}))}function u2(y,F){eu(y),F=Ou(y,F),y.g.has(F)&&(y.i=null,y.h-=y.g.get(F).length,y.g.delete(F))}function Ny(y,F){return eu(y),F=Ou(y,F),y.g.has(F)}function Vy(y,F,$){u2(y,F),0<$.length&&(y.i=null,y.g.set(Ou(y,F),ln($)),y.h+=$.length)}function Ou(y,F){return F=String(F),y.j&&(F=F.toLowerCase()),F}function tu(y,F,$,ce,gt){try{gt&&(gt.onload=null,gt.onerror=null,gt.onabort=null,gt.ontimeout=null),ce($)}catch{}}function Ly(){this.g=new ky}function Fy(y,F,$){const ce=$||"";try{lc(y,function(gt,St){let vn=gt;H(gt)&&(vn=sf(gt)),F.push(ce+St+"="+encodeURIComponent(vn))})}catch(gt){throw F.push(ce+"type="+encodeURIComponent("_badmap")),gt}}function Sh(y){this.l=y.Ub||null,this.j=y.eb||!1}function Q1(y,F){Qs.call(this),this.D=y,this.o=F,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function gf(y){y.j.read().then(y.Pa.bind(y)).catch(y.ga.bind(y))}function Z1(y){y.readyState=4,y.l=null,y.j=null,y.v=null,X1(y)}function X1(y){y.onreadystatechange&&y.onreadystatechange.call(y)}function By(y){let F="";return Nr(y,function($,ce){F+=ce,F+=":",F+=$,F+="\r\n"}),F}function p2(y,F,$){e:{for(ce in $){var ce=!1;break e}ce=!0}ce||($=By($),"string"==typeof y?null!=$&&encodeURIComponent(String($)):Fi(y,F,$))}function So(y){Qs.call(this),this.headers=new Map,this.o=y||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(a=Dh.prototype).add=function(y,F){eu(this),this.i=null,y=Ou(this,y);var $=this.g.get(y);return $||this.g.set(y,$=[]),$.push(F),this.h+=1,this},a.forEach=function(y,F){eu(this),this.g.forEach(function($,ce){$.forEach(function(gt){y.call(F,gt,ce,this)},this)},this)},a.na=function(){eu(this);const y=Array.from(this.g.values()),F=Array.from(this.g.keys()),$=[];for(let ce=0;ce<F.length;ce++){const gt=y[ce];for(let St=0;St<gt.length;St++)$.push(F[ce])}return $},a.V=function(y){eu(this);let F=[];if("string"==typeof y)Ny(this,y)&&(F=F.concat(this.g.get(Ou(this,y))));else{y=Array.from(this.g.values());for(let $=0;$<y.length;$++)F=F.concat(y[$])}return F},a.set=function(y,F){return eu(this),this.i=null,Ny(this,y=Ou(this,y))&&(this.h-=this.g.get(y).length),this.g.set(y,[F]),this.h+=1,this},a.get=function(y,F){return y&&0<(y=this.V(y)).length?String(y[0]):F},a.toString=function(){if(this.i)return this.i;if(!this.g)return"";const y=[],F=Array.from(this.g.keys());for(var $=0;$<F.length;$++){var ce=F[$];const St=encodeURIComponent(String(ce)),vn=this.V(ce);for(ce=0;ce<vn.length;ce++){var gt=St;""!==vn[ce]&&(gt+="="+encodeURIComponent(String(vn[ce]))),y.push(gt)}}return this.i=y.join("&")},$t(Sh,Y0),Sh.prototype.g=function(){return new Q1(this.l,this.j)},Sh.prototype.i=(y={},function(){return y}),$t(Q1,Qs),(a=Q1.prototype).open=function(y,F){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=y,this.A=F,this.readyState=1,X1(this)},a.send=function(y){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const F={headers:this.u,method:this.B,credentials:this.m,cache:void 0};y&&(F.body=y),(this.D||C).fetch(new Request(this.A,F)).then(this.Sa.bind(this),this.ga.bind(this))},a.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Z1(this)),this.readyState=0},a.Sa=function(y){if(this.g&&(this.l=y,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=y.headers,this.readyState=2,X1(this)),this.g&&(this.readyState=3,X1(this),this.g)))if("arraybuffer"===this.responseType)y.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof C.ReadableStream<"u"&&"body"in y){if(this.j=y.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;gf(this)}else y.text().then(this.Ra.bind(this),this.ga.bind(this))},a.Pa=function(y){if(this.g){if(this.o&&y.value)this.response.push(y.value);else if(!this.o){var F=y.value?y.value:new Uint8Array(0);(F=this.v.decode(F,{stream:!y.done}))&&(this.response=this.responseText+=F)}y.done?Z1(this):X1(this),3==this.readyState&&gf(this)}},a.Ra=function(y){this.g&&(this.response=this.responseText=y,Z1(this))},a.Qa=function(y){this.g&&(this.response=y,Z1(this))},a.ga=function(){this.g&&Z1(this)},a.setRequestHeader=function(y,F){this.u.append(y,F)},a.getResponseHeader=function(y){return this.h&&this.h.get(y.toLowerCase())||""},a.getAllResponseHeaders=function(){if(!this.h)return"";const y=[],F=this.h.entries();for(var $=F.next();!$.done;)y.push(($=$.value)[0]+": "+$[1]),$=F.next();return y.join("\r\n")},Object.defineProperty(Q1.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(y){this.m=y?"include":"same-origin"}}),$t(So,Qs);var Nv=/^https?$/i,Vv=["POST","PUT"];function jy(y,F){y.h=!1,y.g&&(y.j=!0,y.g.abort(),y.j=!1),y.l=F,y.m=5,zy(y),vf(y)}function zy(y){y.A||(y.A=!0,ua(y,"complete"),ua(y,"error"))}function Uy(y){if(y.h&&typeof g<"u"&&(!y.v[1]||4!=nu(y)||2!=y.Z()))if(y.u&&4==nu(y))rf(y.Ea,0,y);else if(ua(y,"readystatechange"),4==nu(y)){y.h=!1;try{const vn=y.Z();e:switch(vn){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var F=!0;break e;default:F=!1}var $;if(!($=F)){var ce;if(ce=0===vn){var gt=String(y.D).match(uc)[1]||null;!gt&&C.self&&C.self.location&&(gt=C.self.location.protocol.slice(0,-1)),ce=!Nv.test(gt?gt.toLowerCase():"")}$=ce}if($)ua(y,"complete"),ua(y,"success");else{y.m=6;try{var St=2<nu(y)?y.g.statusText:""}catch{St=""}y.l=St+" ["+y.Z()+"]",zy(y)}}finally{vf(y)}}}function vf(y,F){if(y.g){Hy(y);const $=y.g,ce=y.v[0]?()=>{}:null;y.g=null,y.v=null,F||ua(y,"ready");try{$.onreadystatechange=ce}catch{}}}function Hy(y){y.I&&(C.clearTimeout(y.I),y.I=null)}function nu(y){return y.g?y.g.readyState:0}function qy(y){try{if(!y.g)return null;if("response"in y.g)return y.g.response;switch(y.H){case"":case"text":return y.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in y.g)return y.g.mozResponseArrayBuffer}return null}catch{return null}}function Y1(y,F,$){return $&&$.internalChannelParams&&$.internalChannelParams[y]||F}function $y(y){this.Aa=0,this.i=[],this.j=new $1,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Y1("failFast",!1,y),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Y1("baseRetryDelayMs",5e3,y),this.cb=Y1("retryDelaySeedMs",1e4,y),this.Wa=Y1("forwardChannelMaxRetries",2,y),this.wa=Y1("forwardChannelRequestTimeoutMs",2e4,y),this.pa=y&&y.xmlHttpFactory||void 0,this.Xa=y&&y.Tb||void 0,this.Ca=y&&y.useFetchStreams||!1,this.L=void 0,this.J=y&&y.supportsCrossDomainXhr||!1,this.K="",this.h=new Ay(y&&y.concurrentRequestLimit),this.Da=new Ly,this.P=y&&y.fastHandshake||!1,this.O=y&&y.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=y&&y.Rb||!1,y&&y.xa&&this.j.xa(),y&&y.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&y&&y.detectBufferingProxy||!1,this.ja=void 0,y&&y.longPollingTimeout&&0<y.longPollingTimeout&&(this.ja=y.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function f2(y){if(m2(y),3==y.G){var F=y.U++,$=Jl(y.I);if(Fi($,"SID",y.K),Fi($,"RID",F),Fi($,"TYPE","terminate"),Rh(y,$),(F=new Su(y,y.j,F)).L=2,F.v=Pu(Jl($)),$=!1,C.navigator&&C.navigator.sendBeacon)try{$=C.navigator.sendBeacon(F.v.toString(),"")}catch{}!$&&C.Image&&((new Image).src=F.v,$=!0),$||(F.g=Bv(F.j,null),F.g.ea(F.v)),F.F=Date.now(),df(F)}Fv(y)}function J1(y){y.g&&(tp(y),y.g.cancel(),y.g=null)}function m2(y){J1(y),y.u&&(C.clearTimeout(y.u),y.u=null),al(y),y.h.cancel(),y.s&&("number"==typeof y.s&&C.clearTimeout(y.s),y.s=null)}function ep(y){if(!l2(y.h)&&!y.s){y.s=!0;var F=y.Ga;Iu||py(),Xp||(Iu(),Xp=!0),H0.add(F,y),y.B=0}}function y2(y,F){var $;$=F?F.l:y.U++;const ce=Jl(y.I);Fi(ce,"SID",y.K),Fi(ce,"RID",$),Fi(ce,"AID",y.T),Rh(y,ce),y.m&&y.o&&p2(ce,y.m,y.o),$=new Su(y,y.j,$,y.B+1),null===y.m&&($.H=y.o),F&&(y.i=F.D.concat(y.i)),F=g2(y,$,1e3),$.I=Math.round(.5*y.wa)+Math.round(.5*y.wa*Math.random()),G1(y.h,$),uf($,ce,F)}function Rh(y,F){y.H&&Nr(y.H,function($,ce){Fi(F,ce,$)}),y.l&&lc({},function($,ce){Fi(F,ce,$)})}function g2(y,F,$){$=Math.min(y.i.length,$);var ce=y.l?He(y.l.Na,y.l,y):null;e:{var gt=y.i;let St=-1;for(;;){const vn=["count="+$];-1==St?0<$?(St=gt[0].g,vn.push("ofs="+St)):St=0:vn.push("ofs="+St);let Oi=!0;for(let ls=0;ls<$;ls++){let fi=gt[ls].g;const Ts=gt[ls].map;if(fi-=St,0>fi)St=Math.max(0,gt[ls].g-100),Oi=!1;else try{Fy(Ts,vn,"req"+fi+"_")}catch{ce&&ce(Ts)}}if(Oi){ce=vn.join("&");break e}}}return y=y.i.splice(0,$),F.D=y,ce}function v2(y){if(!y.g&&!y.u){y.Y=1;var F=y.Fa;Iu||py(),Xp||(Iu(),Xp=!0),H0.add(F,y),y.v=0}}function _f(y){return!(y.g||y.u||3<=y.v||(y.Y++,y.u=ac(He(y.Fa,y),Ky(y,y.v)),y.v++,0))}function tp(y){null!=y.A&&(C.clearTimeout(y.A),y.A=null)}function _2(y){y.g=new Su(y,y.j,"rpc",y.Y),null===y.m&&(y.g.H=y.o),y.g.O=0;var F=Jl(y.qa);Fi(F,"RID","rpc"),Fi(F,"SID",y.K),Fi(F,"AID",y.T),Fi(F,"CI",y.F?"0":"1"),!y.F&&y.ja&&Fi(F,"TO",y.ja),Fi(F,"TYPE","xmlhttp"),Rh(y,F),y.m&&y.o&&p2(F,y.m,y.o),y.L&&(y.g.I=y.L);var $=y.g;y=y.ia,$.L=1,$.v=Pu(Jl(F)),$.m=null,$.P=!0,wy($,y)}function al(y){null!=y.C&&(C.clearTimeout(y.C),y.C=null)}function Gy(y,F){var $=null;if(y.g==F){al(y),tp(y),y.g=null;var ce=2}else{if(!W1(y.h,F))return;$=F.D,Fc(y.h,F),ce=1}if(0!=y.G)if(F.o)if(1==ce){$=F.m?F.m.length:0,F=Date.now()-F.F;var gt=y.B;ua(ce=H1(),new q1(ce,$)),ep(y)}else v2(y);else if(3==(gt=F.s)||0==gt&&0<F.X||!(1==ce&&function Wy(y,F){return!(Rv(y.h)>=y.h.j-(y.s?1:0)||(y.s?(y.i=F.D.concat(y.i),0):1==y.G||2==y.G||y.B>=(y.Va?0:y.Wa)||(y.s=ac(He(y.Ga,y,F),Ky(y,y.B)),y.B++,0)))}(y,F)||2==ce&&_f(y)))switch($&&0<$.length&&(F=y.h,F.i=F.i.concat($)),gt){case 1:za(y,5);break;case 4:za(y,10);break;case 3:za(y,6);break;default:za(y,2)}}function Ky(y,F){let $=y.Ta+Math.floor(Math.random()*y.cb);return y.isActive()||($*=2),$*F}function za(y,F){if(y.j.info("Error code "+F),2==F){var $=He(y.fb,y),ce=y.Xa;const gt=!ce;ce=new Ru(ce||"//www.google.com/images/cleardot.gif"),C.location&&"http"==C.location.protocol||pf(ce,"https"),Pu(ce),gt?function d2(y,F){const $=new $1;if(C.Image){const ce=new Image;ce.onload=Mt(tu,$,"TestLoadImage: loaded",!0,F,ce),ce.onerror=Mt(tu,$,"TestLoadImage: error",!1,F,ce),ce.onabort=Mt(tu,$,"TestLoadImage: abort",!1,F,ce),ce.ontimeout=Mt(tu,$,"TestLoadImage: timeout",!1,F,ce),C.setTimeout(function(){ce.ontimeout&&ce.ontimeout()},1e4),ce.src=y}else F(!1)}(ce.toString(),$):function h2(y,F){new $1;const ce=new AbortController,gt=setTimeout(()=>{ce.abort(),tu(0,0,!1,F)},1e4);fetch(y,{signal:ce.signal}).then(St=>{clearTimeout(gt),tu(0,0,!!St.ok,F)}).catch(()=>{clearTimeout(gt),tu(0,0,!1,F)})}(ce.toString(),$)}else Zs(2);y.G=0,y.l&&y.l.sa(F),Fv(y),m2(y)}function Fv(y){if(y.G=0,y.ka=[],y.l){const F=Iy(y.h);(0!=F.length||0!=y.i.length)&&(nn(y.ka,F),nn(y.ka,y.i),y.h.i.length=0,ln(y.i),y.i.length=0),y.l.ra()}}function kf(y,F,$){var ce=$ instanceof Ru?Jl($):new Ru($);if(""!=ce.g)F&&(ce.g=F+"."+ce.g),ff(ce,ce.s);else{var gt=C.location;ce=gt.protocol,F=F?F+"."+gt.hostname:gt.hostname,gt=+gt.port;var St=new Ru(null);ce&&pf(St,ce),F&&(St.g=F),gt&&ff(St,gt),$&&(St.l=$),ce=St}return F=y.ya,($=y.D)&&F&&Fi(ce,$,F),Fi(ce,"VER",y.la),Rh(y,ce),ce}function Bv(y,F,$){if(F&&!y.J)throw Error("Can't create secondary domain capable XhrIo object.");return(F=new So(y.Ca&&!y.pa?new Sh({eb:$}):y.pa)).Ha(y.J),F}function k2(){}function np(){}function dc(y,F){Qs.call(this),this.g=new $y(F),this.l=y,this.h=F&&F.messageUrlParams||null,y=F&&F.messageHeaders||null,F&&F.clientProtocolHeaderRequired&&(y?y["X-Client-Protocol"]="webchannel":y={"X-Client-Protocol":"webchannel"}),this.g.o=y,y=F&&F.initMessageHeaders||null,F&&F.messageContentType&&(y?y["X-WebChannel-Content-Type"]=F.messageContentType:y={"X-WebChannel-Content-Type":F.messageContentType}),F&&F.va&&(y?y["X-WebChannel-Client-Profile"]=F.va:y={"X-WebChannel-Client-Profile":F.va}),this.g.S=y,(y=F&&F.Sb)&&!Gn(y)&&(this.g.m=y),this.v=F&&F.supportsCrossDomainXhr||!1,this.u=F&&F.sendRawJson||!1,(F=F&&F.httpSessionIdParam)&&!Gn(F)&&(this.g.D=F,null!==(y=this.h)&&F in y&&F in(y=this.h)&&delete y[F]),this.j=new Ph(this)}function xd(y){Ch.call(this),y.__headers__&&(this.headers=y.__headers__,this.statusCode=y.__status__,delete y.__headers__,delete y.__status__);var F=y.__sm__;if(F){e:{for(const $ in F){y=$;break e}y=void 0}(this.i=y)&&(y=this.i,F=null!==F&&y in F?F[y]:void 0),this.data=F}else this.data=y}function Qy(){af.call(this),this.status=1}function Ph(y){this.g=y}(a=So.prototype).Ha=function(y){this.J=y},a.ea=function(y,F,$,ce){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+y);F=F?F.toUpperCase():"GET",this.D=y,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():by.g(),this.v=function J0(y){return y.h||(y.h=y.i())}(this.o?this.o:by),this.g.onreadystatechange=He(this.Ea,this);try{this.B=!0,this.g.open(F,String(y),!0),this.B=!1}catch(St){return void jy(this,St)}if(y=$||"",$=new Map(this.headers),ce)if(Object.getPrototypeOf(ce)===Object.prototype)for(var gt in ce)$.set(gt,ce[gt]);else{if("function"!=typeof ce.keys||"function"!=typeof ce.get)throw Error("Unknown input type for opt_headers: "+String(ce));for(const St of ce.keys())$.set(St,ce.get(St))}ce=Array.from($.keys()).find(St=>"content-type"==St.toLowerCase()),gt=C.FormData&&y instanceof C.FormData,!(0<=Array.prototype.indexOf.call(Vv,F,void 0))||ce||gt||$.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[St,vn]of $)this.g.setRequestHeader(St,vn);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Hy(this),this.u=!0,this.g.send(y),this.u=!1}catch(St){jy(this,St)}},a.abort=function(y){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=y||7,ua(this,"complete"),ua(this,"abort"),vf(this))},a.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),vf(this,!0)),So.aa.N.call(this)},a.Ea=function(){this.s||(this.B||this.u||this.j?Uy(this):this.bb())},a.bb=function(){Uy(this)},a.isActive=function(){return!!this.g},a.Z=function(){try{return 2<nu(this)?this.g.status:-1}catch{return-1}},a.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},a.Oa=function(y){if(this.g){var F=this.g.responseText;return y&&0==F.indexOf(y)&&(F=F.substring(y.length)),_y(F)}},a.Ba=function(){return this.m},a.Ka=function(){return"string"==typeof this.l?this.l:String(this.l)},(a=$y.prototype).la=8,a.G=1,a.connect=function(y,F,$,ce){Zs(0),this.W=y,this.H=F||{},$&&void 0!==ce&&(this.H.OSID=$,this.H.OAID=ce),this.F=this.X,this.I=kf(this,null,this.W),ep(this)},a.Ga=function(y){if(this.s)if(this.s=null,1==this.G){if(!y){this.U=Math.floor(1e5*Math.random()),y=this.U++;const gt=new Su(this,this.j,y);let St=this.o;if(this.S&&(St?(St=Be(St),at(St,this.S)):St=this.S),null!==this.m||this.O||(gt.H=St,St=null),this.P)e:{for(var F=0,$=0;$<this.i.length;$++){var ce=this.i[$];if(void 0===(ce="__data__"in ce.map&&"string"==typeof(ce=ce.map.__data__)?ce.length:void 0))break;if(4096<(F+=ce)){F=$;break e}if(4096===F||$===this.i.length-1){F=$+1;break e}}F=1e3}else F=1e3;F=g2(this,gt,F),Fi($=Jl(this.I),"RID",y),Fi($,"CVER",22),this.D&&Fi($,"X-HTTP-Session-Id",this.D),Rh(this,$),St&&(this.O?F="headers="+encodeURIComponent(String(By(St)))+"&"+F:this.m&&p2($,this.m,St)),G1(this.h,gt),this.Ua&&Fi($,"TYPE","init"),this.P?(Fi($,"$req",F),Fi($,"SID","null"),gt.T=!0,uf(gt,$,null)):uf(gt,$,F),this.G=2}}else 3==this.G&&(y?y2(this,y):0==this.i.length||l2(this.h)||y2(this))},a.Fa=function(){if(this.u=null,_2(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var y=2*this.R;this.j.info("BP detection timer enabled: "+y),this.A=ac(He(this.ab,this),y)}},a.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Zs(10),J1(this),_2(this))},a.Za=function(){null!=this.C&&(this.C=null,J1(this),_f(this),Zs(19))},a.fb=function(y){y?(this.j.info("Successfully pinged google.com"),Zs(2)):(this.j.info("Failed to ping google.com"),Zs(1))},a.isActive=function(){return!!this.l&&this.l.isActive(this)},(a=k2.prototype).ua=function(){},a.ta=function(){},a.sa=function(){},a.ra=function(){},a.isActive=function(){return!0},a.Na=function(){},np.prototype.g=function(y,F){return new dc(y,F)},$t(dc,Qs),dc.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},dc.prototype.close=function(){f2(this.g)},dc.prototype.o=function(y){var F=this.g;if("string"==typeof y){var $={};$.__data__=y,y=$}else this.u&&(($={}).__data__=sf(y),y=$);F.i.push(new class{constructor(y,F){this.g=y,this.map=F}}(F.Ya++,y)),3==F.G&&ep(F)},dc.prototype.N=function(){this.g.l=null,delete this.j,f2(this.g),delete this.g,dc.aa.N.call(this)},$t(xd,Ch),$t(Qy,af),$t(Ph,k2),Ph.prototype.ua=function(){ua(this.g,"a")},Ph.prototype.ta=function(y){ua(this.g,new xd(y))},Ph.prototype.sa=function(y){ua(this.g,new Qy)},Ph.prototype.ra=function(){ua(this.g,"b")},np.prototype.createWebChannel=np.prototype.g,dc.prototype.send=dc.prototype.o,dc.prototype.open=dc.prototype.m,dc.prototype.close=dc.prototype.close,rn=$e.createWebChannelTransport=function(){return new np},Tn=$e.getStatEventTarget=function(){return H1()},zt=$e.Event=Du,jn=$e.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ih.NO_ERROR=0,Ih.TIMEOUT=8,Ih.HTTP_ERROR=6,_n=$e.ErrorCode=Ih,Sv.COMPLETE="complete",gn=$e.EventType=Sv,e2.EventType=xh,xh.OPEN="a",xh.CLOSE="b",xh.ERROR="c",xh.MESSAGE="d",Qs.prototype.listen=Qs.prototype.K,hn=$e.WebChannel=e2,$e.FetchXmlHttpFactory=Sh,So.prototype.listenOnce=So.prototype.L,So.prototype.getLastError=So.prototype.Ka,So.prototype.getLastErrorCode=So.prototype.Ba,So.prototype.getStatus=So.prototype.Z,So.prototype.getResponseJson=So.prototype.Oa,So.prototype.getResponseText=So.prototype.oa,So.prototype.send=So.prototype.ea,So.prototype.setWithCredentials=So.prototype.Ha,_t=$e.XhrIo=So}).apply(typeof je<"u"?je:typeof self<"u"?self:typeof window<"u"?window:{});const Mn="@firebase/firestore";class Qt{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Qt.UNAUTHENTICATED=new Qt(null),Qt.GOOGLE_CREDENTIALS=new Qt("google-credentials-uid"),Qt.FIRST_PARTY=new Qt("first-party-uid"),Qt.MOCK_USER=new Qt("mock-user");let Cn="10.14.0";const Yt=new Ot.Vy("@firebase/firestore");function Le(){return Yt.logLevel}function Xe(a){Yt.setLogLevel(a)}function we(a,...e){if(Yt.logLevel<=Ot.$b.DEBUG){const r=e.map(Qe);Yt.debug(`Firestore (${Cn}): ${a}`,...r)}}function lt(a,...e){if(Yt.logLevel<=Ot.$b.ERROR){const r=e.map(Qe);Yt.error(`Firestore (${Cn}): ${a}`,...r)}}function Lt(a,...e){if(Yt.logLevel<=Ot.$b.WARN){const r=e.map(Qe);Yt.warn(`Firestore (${Cn}): ${a}`,...r)}}function Qe(a){if("string"==typeof a)return a;try{return JSON.stringify(a)}catch{return a}}function pt(a="Unexpected state"){const e=`FIRESTORE (${Cn}) INTERNAL ASSERTION FAILED: `+a;throw lt(e),new Error(e)}function Ft(a,e){a||pt()}function Hn(a,e){a||pt()}function vt(a,e){return a}const We={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class dt extends wt.g{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Xn{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}class Sn{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Yn{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r(Qt.UNAUTHENTICATED))}shutdown(){}}class Vr{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class kr{constructor(e){this.t=e,this.currentUser=Qt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){var o=this;Ft(void 0===this.o);let c=this.i;const p=H=>this.i!==c?(c=this.i,r(H)):Promise.resolve();let g=new Xn;this.o=()=>{this.i++,this.currentUser=this.u(),g.resolve(),g=new Xn,e.enqueueRetryable(()=>p(this.currentUser))};const C=()=>{const H=g;e.enqueueRetryable((0,ue.A)(function*(){yield H.promise,yield p(o.currentUser)}))},N=H=>{we("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=H,this.o&&(this.auth.addAuthTokenListener(this.o),C())};this.t.onInit(H=>N(H)),setTimeout(()=>{if(!this.auth){const H=this.t.getImmediate({optional:!0});H?N(H):(we("FirebaseAuthCredentialsProvider","Auth not yet detected"),g.resolve(),g=new Xn)}},0),C()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(o=>this.i!==e?(we("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):o?(Ft("string"==typeof o.accessToken),new Sn(o.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ft(null===e||"string"==typeof e),new Qt(e)}}class Bt{constructor(e,r,o){this.l=e,this.h=r,this.P=o,this.type="FirstParty",this.user=Qt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class ie{constructor(e,r,o){this.l=e,this.h=r,this.P=o}getToken(){return Promise.resolve(new Bt(this.l,this.h,this.P))}start(e,r){e.enqueueRetryable(()=>r(Qt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Se{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class qe{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,r){Ft(void 0===this.o);const o=p=>{null!=p.error&&we("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${p.error.message}`);const g=p.token!==this.R;return this.R=p.token,we("FirebaseAppCheckTokenProvider",`Received ${g?"new":"existing"} token.`),g?r(p.token):Promise.resolve()};this.o=p=>{e.enqueueRetryable(()=>o(p))};const c=p=>{we("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=p,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(p=>c(p)),setTimeout(()=>{if(!this.appCheck){const p=this.A.getImmediate({optional:!0});p?c(p):we("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?(Ft("string"==typeof r.token),this.R=r.token,new Se(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}class rt{getToken(){return Promise.resolve(new Se(""))}invalidateToken(){}start(e,r){}shutdown(){}}function bt(a){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(a);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(r);else for(let o=0;o<a;o++)r[o]=Math.floor(256*Math.random());return r}class nt{static newId(){const r=62*Math.floor(256/62);let o="";for(;o.length<20;){const c=bt(40);for(let p=0;p<c.length;++p)o.length<20&&c[p]<r&&(o+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(c[p]%62))}return o}}function Fe(a,e){return a<e?-1:a>e?1:0}function Ae(a,e,r){return a.length===e.length&&a.every((o,c)=>r(o,e[c]))}function st(a){return a+"\0"}class it{constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new dt(We.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new dt(We.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<-62135596800)throw new dt(We.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new dt(We.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return it.fromMillis(Date.now())}static fromDate(e){return it.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),o=Math.floor(1e6*(e-1e3*r));return new it(r,o)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Fe(this.nanoseconds,e.nanoseconds):Fe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class ut{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ut(e)}static min(){return new ut(new it(0,0))}static max(){return new ut(new it(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Un{constructor(e,r,o){void 0===r?r=0:r>e.length&&pt(),void 0===o?o=e.length-r:o>e.length-r&&pt(),this.segments=e,this.offset=r,this.len=o}get length(){return this.len}isEqual(e){return 0===Un.comparator(this,e)}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof Un?e.forEach(o=>{r.push(o)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,o=this.limit();r<o;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const o=Math.min(e.length,r.length);for(let c=0;c<o;c++){const p=e.get(c),g=r.get(c);if(p<g)return-1;if(p>g)return 1}return e.length<r.length?-1:e.length>r.length?1:0}}class Dt extends Un{construct(e,r,o){return new Dt(e,r,o)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const o of e){if(o.indexOf("//")>=0)throw new dt(We.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);r.push(...o.split("/").filter(c=>c.length>0))}return new Dt(r)}static emptyPath(){return new Dt([])}}const Kn=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class on extends Un{construct(e,r,o){return new on(e,r,o)}static isValidIdentifier(e){return Kn.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),on.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new on(["__name__"])}static fromServerFormat(e){const r=[];let o="",c=0;const p=()=>{if(0===o.length)throw new dt(We.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(o),o=""};let g=!1;for(;c<e.length;){const C=e[c];if("\\"===C){if(c+1===e.length)throw new dt(We.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const N=e[c+1];if("\\"!==N&&"."!==N&&"`"!==N)throw new dt(We.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);o+=N,c+=2}else"`"===C?(g=!g,c++):"."!==C||g?(o+=C,c++):(p(),c++)}if(p(),g)throw new dt(We.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new on(r)}static emptyPath(){return new on([])}}class Zt{constructor(e){this.path=e}static fromPath(e){return new Zt(Dt.fromString(e))}static fromName(e){return new Zt(Dt.fromString(e).popFirst(5))}static empty(){return new Zt(Dt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Dt.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,r){return Dt.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Zt(new Dt(e.slice()))}}class Ar{constructor(e,r,o,c){this.indexId=e,this.collectionGroup=r,this.fields=o,this.indexState=c}}function qr(a){return a.fields.find(e=>2===e.kind)}function Sr(a){return a.fields.filter(e=>2!==e.kind)}function er(a,e){let r=Fe(a.collectionGroup,e.collectionGroup);if(0!==r)return r;for(let o=0;o<Math.min(a.fields.length,e.fields.length);++o)if(r=vi(a.fields[o],e.fields[o]),0!==r)return r;return Fe(a.fields.length,e.fields.length)}Ar.UNKNOWN_ID=-1;class fr{constructor(e,r){this.fieldPath=e,this.kind=r}}function vi(a,e){const r=on.comparator(a.fieldPath,e.fieldPath);return 0!==r?r:Fe(a.kind,e.kind)}class Zr{constructor(e,r){this.sequenceNumber=e,this.offset=r}static empty(){return new Zr(0,ar.min())}}function di(a,e){const r=a.toTimestamp().seconds,o=a.toTimestamp().nanoseconds+1,c=ut.fromTimestamp(1e9===o?new it(r+1,0):new it(r,o));return new ar(c,Zt.empty(),e)}function Xr(a){return new ar(a.readTime,a.key,-1)}class ar{constructor(e,r,o){this.readTime=e,this.documentKey=r,this.largestBatchId=o}static min(){return new ar(ut.min(),Zt.empty(),-1)}static max(){return new ar(ut.max(),Zt.empty(),-1)}}function hi(a,e){let r=a.readTime.compareTo(e.readTime);return 0!==r?r:(r=Zt.comparator(a.documentKey,e.documentKey),0!==r?r:Fe(a.largestBatchId,e.largestBatchId))}const Nt="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class pe{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function P(a){return R.apply(this,arguments)}function R(){return(R=(0,ue.A)(function*(a){if(a.code!==We.FAILED_PRECONDITION||a.message!==Nt)throw a;we("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}class O{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&pt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new O((o,c)=>{this.nextCallback=p=>{this.wrapSuccess(e,p).next(o,c)},this.catchCallback=p=>{this.wrapFailure(r,p).next(o,c)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof O?r:O.resolve(r)}catch(r){return O.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):O.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):O.reject(r)}static resolve(e){return new O((r,o)=>{r(e)})}static reject(e){return new O((r,o)=>{o(e)})}static waitFor(e){return new O((r,o)=>{let c=0,p=0,g=!1;e.forEach(C=>{++c,C.next(()=>{++p,g&&p===c&&r()},N=>o(N))}),g=!0,p===c&&r()})}static or(e){let r=O.resolve(!1);for(const o of e)r=r.next(c=>c?O.resolve(c):o());return r}static forEach(e,r){const o=[];return e.forEach((c,p)=>{o.push(r.call(this,c,p))}),this.waitFor(o)}static mapArray(e,r){return new O((o,c)=>{const p=e.length,g=new Array(p);let C=0;for(let N=0;N<p;N++){const H=N;r(e[H]).next(J=>{g[H]=J,++C,C===p&&o(g)},J=>c(J))}})}static doWhile(e,r){return new O((o,c)=>{const p=()=>{!0===e()?r().next(()=>{p()},c):o()};p()})}}class ve{constructor(e,r){this.action=e,this.transaction=r,this.aborted=!1,this.V=new Xn,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{r.error?this.V.reject(new se(e,r.error)):this.V.resolve()},this.transaction.onerror=o=>{const c=Me(o.target.error);this.V.reject(new se(e,c))}}static open(e,r,o,c){try{return new ve(r,e.transaction(c,o))}catch(p){throw new se(r,p)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(we("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const r=this.transaction.objectStore(e);return new ct(r)}}class xe{constructor(e,r,o){this.name=e,this.version=r,this.p=o,12.2===xe.S((0,wt.ZQ)())&&lt("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return we("SimpleDb","Removing database:",e),Kt(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,wt.zW)())return!1;if(xe.v())return!0;const e=(0,wt.ZQ)(),r=xe.S(e),o=0<r&&r<10,c=be(e),p=0<c&&c<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||o||p)}static v(){var e;return typeof process<"u"&&"YES"===(null===(e=process.__PRIVATE_env)||void 0===e?void 0:e.C)}static F(e,r){return e.store(r)}static S(e){const r=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),o=r?r[1].split("_").slice(0,2).join("."):"-1";return Number(o)}M(e){var r=this;return(0,ue.A)(function*(){return r.db||(we("SimpleDb","Opening database:",r.name),r.db=yield new Promise((o,c)=>{const p=indexedDB.open(r.name,r.version);p.onsuccess=g=>{o(g.target.result)},p.onblocked=()=>{c(new se(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},p.onerror=g=>{const C=g.target.error;c("VersionError"===C.name?new dt(We.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===C.name?new dt(We.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+C):new se(e,C))},p.onupgradeneeded=g=>{we("SimpleDb",'Database "'+r.name+'" requires upgrade from version:',g.oldVersion),r.p.O(g.target.result,p.transaction,g.oldVersion,r.version).next(()=>{we("SimpleDb","Database upgrade to version "+r.version+" complete")})}})),r.N&&(r.db.onversionchange=o=>r.N(o)),r.db})()}L(e){this.N=e,this.db&&(this.db.onversionchange=r=>e(r))}runTransaction(e,r,o,c){var p=this;return(0,ue.A)(function*(){const g="readonly"===r;let C=0;for(;;){++C;try{p.db=yield p.M(e);const N=ve.open(p.db,e,g?"readonly":"readwrite",o),H=c(N).next(J=>(N.g(),J)).catch(J=>(N.abort(J),O.reject(J))).toPromise();return H.catch(()=>{}),yield N.m,H}catch(N){const H=N,J="FirebaseError"!==H.name&&C<3;if(we("SimpleDb","Transaction failed with error:",H.message,"Retrying:",J),p.close(),!J)return Promise.reject(H)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}function be(a){const e=a.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}class me{constructor(e){this.B=e,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(e){this.B=e}done(){this.k=!0}$(e){this.q=e}delete(){return Kt(this.B.delete())}}class se extends dt{constructor(e,r){super(We.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${r}`),this.name="IndexedDbTransactionError"}}function Ce(a){return"IndexedDbTransactionError"===a.name}class ct{constructor(e){this.store=e}put(e,r){let o;return void 0!==r?(we("SimpleDb","PUT",this.store.name,e,r),o=this.store.put(r,e)):(we("SimpleDb","PUT",this.store.name,"<auto-key>",e),o=this.store.put(e)),Kt(o)}add(e){return we("SimpleDb","ADD",this.store.name,e,e),Kt(this.store.add(e))}get(e){return Kt(this.store.get(e)).next(r=>(void 0===r&&(r=null),we("SimpleDb","GET",this.store.name,e,r),r))}delete(e){return we("SimpleDb","DELETE",this.store.name,e),Kt(this.store.delete(e))}count(){return we("SimpleDb","COUNT",this.store.name),Kt(this.store.count())}U(e,r){const o=this.options(e,r),c=o.index?this.store.index(o.index):this.store;if("function"==typeof c.getAll){const p=c.getAll(o.range);return new O((g,C)=>{p.onerror=N=>{C(N.target.error)},p.onsuccess=N=>{g(N.target.result)}})}{const p=this.cursor(o),g=[];return this.W(p,(C,N)=>{g.push(N)}).next(()=>g)}}G(e,r){const o=this.store.getAll(e,null===r?void 0:r);return new O((c,p)=>{o.onerror=g=>{p(g.target.error)},o.onsuccess=g=>{c(g.target.result)}})}j(e,r){we("SimpleDb","DELETE ALL",this.store.name);const o=this.options(e,r);o.H=!1;const c=this.cursor(o);return this.W(c,(p,g,C)=>C.delete())}J(e,r){let o;r?o=e:(o={},r=e);const c=this.cursor(o);return this.W(c,r)}Y(e){const r=this.cursor({});return new O((o,c)=>{r.onerror=p=>{const g=Me(p.target.error);c(g)},r.onsuccess=p=>{const g=p.target.result;g?e(g.primaryKey,g.value).next(C=>{C?g.continue():o()}):o()}})}W(e,r){const o=[];return new O((c,p)=>{e.onerror=g=>{p(g.target.error)},e.onsuccess=g=>{const C=g.target.result;if(!C)return void c();const N=new me(C),H=r(C.primaryKey,C.value,N);if(H instanceof O){const J=H.catch(ye=>(N.done(),O.reject(ye)));o.push(J)}N.isDone?c():null===N.K?C.continue():C.continue(N.K)}}).next(()=>O.waitFor(o))}options(e,r){let o;return void 0!==e&&("string"==typeof e?o=e:r=e),{index:o,range:r}}cursor(e){let r="next";if(e.reverse&&(r="prev"),e.index){const o=this.store.index(e.index);return e.H?o.openKeyCursor(e.range,r):o.openCursor(e.range,r)}return this.store.openCursor(e.range,r)}}function Kt(a){return new O((e,r)=>{a.onsuccess=o=>{e(o.target.result)},a.onerror=o=>{const c=Me(o.target.error);r(c)}})}let Ie=!1;function Me(a){const e=xe.S((0,wt.ZQ)());if(e>=12.2&&e<13){const r="An internal error was encountered in the Indexed Database server";if(a.message.indexOf(r)>=0){const o=new dt("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${r}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Ie||(Ie=!0,setTimeout(()=>{throw o},0)),o}}return a}class Ve{constructor(e,r){this.asyncQueue=e,this.Z=r,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}X(e){var r=this;we("IndexBackfiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,ue.A)(function*(){r.task=null;try{we("IndexBackfiller",`Documents written: ${yield r.Z.ee()}`)}catch(o){Ce(o)?we("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",o):yield P(o)}yield r.X(6e4)}))}}class Rt{constructor(e,r){this.localStore=e,this.persistence=r}ee(){var e=this;return(0,ue.A)(function*(r=50){return e.persistence.runTransaction("Backfill Indexes","readwrite-primary",o=>e.te(o,r))}).apply(this,arguments)}te(e,r){const o=new Set;let c=r,p=!0;return O.doWhile(()=>!0===p&&c>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(g=>{if(null!==g&&!o.has(g))return we("IndexBackfiller",`Processing collection: ${g}`),this.ne(e,g,c).next(C=>{c-=C,o.add(g)});p=!1})).next(()=>r-c)}ne(e,r,o){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,r).next(c=>this.localStore.localDocuments.getNextDocuments(e,r,c,o).next(p=>{const g=p.changes;return this.localStore.indexManager.updateIndexEntries(e,g).next(()=>this.re(c,p)).next(C=>(we("IndexBackfiller",`Updating offset: ${C}`),this.localStore.indexManager.updateCollectionGroup(e,r,C))).next(()=>g.size)}))}re(e,r){let o=e;return r.changes.forEach((c,p)=>{const g=Xr(p);hi(g,o)>0&&(o=g)}),new ar(o.readTime,o.documentKey,Math.max(r.batchId,e.largestBatchId))}}let Ht=(()=>{class a{constructor(r,o){this.previousValue=r,o&&(o.sequenceNumberHandler=c=>this.ie(c),this.se=c=>o.writeSequenceNumber(c))}ie(r){return this.previousValue=Math.max(r,this.previousValue),this.previousValue}next(){const r=++this.previousValue;return this.se&&this.se(r),r}}return a.oe=-1,a})();function dn(a){return null==a}function sn(a){return 0===a&&1/a==-1/0}function zn(a){return"number"==typeof a&&Number.isInteger(a)&&!sn(a)&&a<=Number.MAX_SAFE_INTEGER&&a>=Number.MIN_SAFE_INTEGER}function Jt(a){let e="";for(let r=0;r<a.length;r++)e.length>0&&(e=kt(e)),e=si(a.get(r),e);return kt(e)}function si(a,e){let r=e;const o=a.length;for(let c=0;c<o;c++){const p=a.charAt(c);switch(p){case"\0":r+="\x01\x10";break;case"\x01":r+="\x01\x11";break;default:r+=p}}return r}function kt(a){return a+"\x01\x01"}function Ye(a){const e=a.length;if(Ft(e>=2),2===e)return Ft("\x01"===a.charAt(0)&&"\x01"===a.charAt(1)),Dt.emptyPath();const r=e-2,o=[];let c="";for(let p=0;p<e;){const g=a.indexOf("\x01",p);switch((g<0||g>r)&&pt(),a.charAt(g+1)){case"\x01":const C=a.substring(p,g);let N;0===c.length?N=C:(c+=C,N=c,c=""),o.push(N);break;case"\x10":c+=a.substring(p,g),c+="\0";break;case"\x11":c+=a.substring(p,g+1);break;default:pt()}p=g+2}return new Dt(o)}const Vt=["userId","batchId"];function tn(a,e){return[a,Jt(e)]}function In(a,e,r){return[a,Jt(e),r]}const mn={},kn=["prefixPath","collectionGroup","readTime","documentId"],vr=["prefixPath","collectionGroup","documentId"],Rr=["collectionGroup","readTime","prefixPath","documentId"],cr=["canonicalId","targetId"],Mr=["targetId","path"],Bi=["path","targetId"],ji=["collectionId","parent"],Lr=["indexId","uid"],Ai=["uid","sequenceNumber"],Qi=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],ds=["indexId","uid","orderedDocumentKey"],wi=["userId","collectionPath","documentId"],mc=["userId","collectionPath","largestBatchId"],yc=["userId","collectionGroup","largestBatchId"],jc=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Ha=[...jc,"documentOverlays"],hs=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],da=hs,Ss=[...da,"indexConfiguration","indexState","indexEntries"],Xs=Ss,Zi=[...Ss,"globals"];class $o extends pe{constructor(e,r){super(),this._e=e,this.currentSequenceNumber=r}}function ri(a,e){const r=vt(a);return xe.F(r._e,e)}function Rs(a){let e=0;for(const r in a)Object.prototype.hasOwnProperty.call(a,r)&&e++;return e}function Wo(a,e){for(const r in a)Object.prototype.hasOwnProperty.call(a,r)&&e(r,a[r])}function Ea(a,e){const r=[];for(const o in a)Object.prototype.hasOwnProperty.call(a,o)&&r.push(e(a[o],o,a));return r}function Go(a){for(const e in a)if(Object.prototype.hasOwnProperty.call(a,e))return!1;return!0}class Fr{constructor(e,r){this.comparator=e,this.root=r||ai.EMPTY}insert(e,r){return new Fr(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,ai.BLACK,null,null))}remove(e){return new Fr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ai.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(0===o)return r.value;o<0?r=r.left:o>0&&(r=r.right)}return null}indexOf(e){let r=0,o=this.root;for(;!o.isEmpty();){const c=this.comparator(e,o.key);if(0===c)return r+o.left.size;c<0?o=o.left:(r+=o.left.size+1,o=o.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,o)=>(e(r,o),!1))}toString(){const e=[];return this.inorderTraversal((r,o)=>(e.push(`${r}:${o}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new wo(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new wo(this.root,e,this.comparator,!1)}getReverseIterator(){return new wo(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new wo(this.root,e,this.comparator,!0)}}class wo{constructor(e,r,o,c){this.isReverse=c,this.nodeStack=[];let p=1;for(;!e.isEmpty();)if(p=r?o(e.key,r):1,r&&c&&(p*=-1),p<0)e=this.isReverse?e.left:e.right;else{if(0===p){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ai{constructor(e,r,o,c,p){this.key=e,this.value=r,this.color=o??ai.RED,this.left=c??ai.EMPTY,this.right=p??ai.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,o,c,p){return new ai(e??this.key,r??this.value,o??this.color,c??this.left,p??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,o){let c=this;const p=o(e,c.key);return c=p<0?c.copy(null,null,null,c.left.insert(e,r,o),null):0===p?c.copy(null,r,null,null,null):c.copy(null,null,null,null,c.right.insert(e,r,o)),c.fixUp()}removeMin(){if(this.left.isEmpty())return ai.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let o,c=this;if(r(e,c.key)<0)c.left.isEmpty()||c.left.isRed()||c.left.left.isRed()||(c=c.moveRedLeft()),c=c.copy(null,null,null,c.left.remove(e,r),null);else{if(c.left.isRed()&&(c=c.rotateRight()),c.right.isEmpty()||c.right.isRed()||c.right.left.isRed()||(c=c.moveRedRight()),0===r(e,c.key)){if(c.right.isEmpty())return ai.EMPTY;o=c.right.min(),c=c.copy(o.key,o.value,null,null,c.right.removeMin())}c=c.copy(null,null,null,null,c.right.remove(e,r))}return c.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ai.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ai.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw pt();const e=this.left.check();if(e!==this.right.check())throw pt();return e+(this.isRed()?0:1)}}ai.EMPTY=null,ai.RED=!0,ai.BLACK=!1,ai.EMPTY=new class{constructor(){this.size=0}get key(){throw pt()}get value(){throw pt()}get color(){throw pt()}get left(){throw pt()}get right(){throw pt()}copy(e,r,o,c,p){return this}insert(e,r,o){return new ai(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class dr{constructor(e){this.comparator=e,this.data=new Fr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,o)=>(e(r),!1))}forEachInRange(e,r){const o=this.data.getIteratorFrom(e[0]);for(;o.hasNext();){const c=o.getNext();if(this.comparator(c.key,e[1])>=0)return;r(c.key)}}forEachWhile(e,r){let o;for(o=void 0!==r?this.data.getIteratorFrom(r):this.data.getIterator();o.hasNext();)if(!e(o.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new tr(this.data.getIterator())}getIteratorFrom(e){return new tr(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(o=>{r=r.add(o)}),r}isEqual(e){if(!(e instanceof dr)||this.size!==e.size)return!1;const r=this.data.getIterator(),o=e.data.getIterator();for(;r.hasNext();){const c=r.getNext().key,p=o.getNext().key;if(0!==this.comparator(c,p))return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new dr(this.comparator);return r.data=e,r}}class tr{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function $r(a){return a.hasNext()?a.getNext():void 0}class Ir{constructor(e){this.fields=e,e.sort(on.comparator)}static empty(){return new Ir([])}unionWith(e){let r=new dr(on.comparator);for(const o of this.fields)r=r.add(o);for(const o of e)r=r.add(o);return new Ir(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return Ae(this.fields,e.fields,(r,o)=>r.isEqual(o))}}class Ro extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}function _i(){return typeof atob<"u"}class Wr{constructor(e){this.binaryString=e}static fromBase64String(e){const r=function(c){try{return atob(c)}catch(p){throw typeof DOMException<"u"&&p instanceof DOMException?new Ro("Invalid base64 string: "+p):p}}(e);return new Wr(r)}static fromUint8Array(e){const r=function(c){let p="";for(let g=0;g<c.length;++g)p+=String.fromCharCode(c[g]);return p}(e);return new Wr(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(r){const o=new Uint8Array(r.length);for(let c=0;c<r.length;c++)o[c]=r.charCodeAt(c);return o}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Fe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Wr.EMPTY_BYTE_STRING=new Wr("");const Ys=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ii(a){if(Ft(!!a),"string"==typeof a){let e=0;const r=Ys.exec(a);if(Ft(!!r),r[1]){let c=r[1];c=(c+"000000000").substr(0,9),e=Number(c)}const o=new Date(a);return{seconds:Math.floor(o.getTime()/1e3),nanos:e}}return{seconds:Br(a.seconds),nanos:Br(a.nanos)}}function Br(a){return"number"==typeof a?a:"string"==typeof a?Number(a):0}function zi(a){return"string"==typeof a?Wr.fromBase64String(a):Wr.fromUint8Array(a)}function Yr(a){var e,r;return"server_timestamp"===(null===(r=((null===(e=a?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===r?void 0:r.stringValue)}function pn(a){const e=a.mapValue.fields.__previous_value__;return Yr(e)?pn(e):e}function Vn(a){const e=Ii(a.mapValue.fields.__local_write_time__.timestampValue);return new it(e.seconds,e.nanos)}class Pr{constructor(e,r,o,c,p,g,C,N,H){this.databaseId=e,this.appId=r,this.persistenceKey=o,this.host=c,this.ssl=p,this.forceLongPolling=g,this.autoDetectLongPolling=C,this.longPollingOptions=N,this.useFetchStreams=H}}class ki{constructor(e,r){this.projectId=e,this.database=r||"(default)"}static empty(){return new ki("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof ki&&e.projectId===this.projectId&&e.database===this.database}}const Ei={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},bi={nullValue:"NULL_VALUE"};function Ui(a){return"nullValue"in a?0:"booleanValue"in a?1:"integerValue"in a||"doubleValue"in a?2:"timestampValue"in a?3:"stringValue"in a?5:"bytesValue"in a?6:"referenceValue"in a?7:"geoPointValue"in a?8:"arrayValue"in a?9:"mapValue"in a?Yr(a)?4:fs(a)?9007199254740991:Vi(a)?10:11:pt()}function _r(a,e){if(a===e)return!0;const r=Ui(a);if(r!==Ui(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return a.booleanValue===e.booleanValue;case 4:return Vn(a).isEqual(Vn(e));case 3:return function(c,p){if("string"==typeof c.timestampValue&&"string"==typeof p.timestampValue&&c.timestampValue.length===p.timestampValue.length)return c.timestampValue===p.timestampValue;const g=Ii(c.timestampValue),C=Ii(p.timestampValue);return g.seconds===C.seconds&&g.nanos===C.nanos}(a,e);case 5:return a.stringValue===e.stringValue;case 6:return p=e,zi(a.bytesValue).isEqual(zi(p.bytesValue));case 7:return a.referenceValue===e.referenceValue;case 8:return function(c,p){return Br(c.geoPointValue.latitude)===Br(p.geoPointValue.latitude)&&Br(c.geoPointValue.longitude)===Br(p.geoPointValue.longitude)}(a,e);case 2:return function(c,p){if("integerValue"in c&&"integerValue"in p)return Br(c.integerValue)===Br(p.integerValue);if("doubleValue"in c&&"doubleValue"in p){const g=Br(c.doubleValue),C=Br(p.doubleValue);return g===C?sn(g)===sn(C):isNaN(g)&&isNaN(C)}return!1}(a,e);case 9:return Ae(a.arrayValue.values||[],e.arrayValue.values||[],_r);case 10:case 11:return function(c,p){const g=c.mapValue.fields||{},C=p.mapValue.fields||{};if(Rs(g)!==Rs(C))return!1;for(const N in g)if(g.hasOwnProperty(N)&&(void 0===C[N]||!_r(g[N],C[N])))return!1;return!0}(a,e);default:return pt()}var p}function oo(a,e){return void 0!==(a.values||[]).find(r=>_r(r,e))}function yo(a,e){if(a===e)return 0;const r=Ui(a),o=Ui(e);if(r!==o)return Fe(r,o);switch(r){case 0:case 9007199254740991:return 0;case 1:return Fe(a.booleanValue,e.booleanValue);case 2:return function(p,g){const C=Br(p.integerValue||p.doubleValue),N=Br(g.integerValue||g.doubleValue);return C<N?-1:C>N?1:C===N?0:isNaN(C)?isNaN(N)?0:-1:1}(a,e);case 3:return Fn(a.timestampValue,e.timestampValue);case 4:return Fn(Vn(a),Vn(e));case 5:return Fe(a.stringValue,e.stringValue);case 6:return function(p,g){const C=zi(p),N=zi(g);return C.compareTo(N)}(a.bytesValue,e.bytesValue);case 7:return function(p,g){const C=p.split("/"),N=g.split("/");for(let H=0;H<C.length&&H<N.length;H++){const J=Fe(C[H],N[H]);if(0!==J)return J}return Fe(C.length,N.length)}(a.referenceValue,e.referenceValue);case 8:return function(p,g){const C=Fe(Br(p.latitude),Br(g.latitude));return 0!==C?C:Fe(Br(p.longitude),Br(g.longitude))}(a.geoPointValue,e.geoPointValue);case 9:return Fo(a.arrayValue,e.arrayValue);case 10:return function(p,g){var C,N,H,J;const Mt=null===(C=(p.fields||{}).value)||void 0===C?void 0:C.arrayValue,$t=null===(N=(g.fields||{}).value)||void 0===N?void 0:N.arrayValue,ln=Fe((null===(H=Mt?.values)||void 0===H?void 0:H.length)||0,(null===(J=$t?.values)||void 0===J?void 0:J.length)||0);return 0!==ln?ln:Fo(Mt,$t)}(a.mapValue,e.mapValue);case 11:return function(p,g){if(p===Ei.mapValue&&g===Ei.mapValue)return 0;if(p===Ei.mapValue)return 1;if(g===Ei.mapValue)return-1;const C=p.fields||{},N=Object.keys(C),H=g.fields||{},J=Object.keys(H);N.sort(),J.sort();for(let ye=0;ye<N.length&&ye<J.length;++ye){const He=Fe(N[ye],J[ye]);if(0!==He)return He;const Mt=yo(C[N[ye]],H[J[ye]]);if(0!==Mt)return Mt}return Fe(N.length,J.length)}(a.mapValue,e.mapValue);default:throw pt()}}function Fn(a,e){if("string"==typeof a&&"string"==typeof e&&a.length===e.length)return Fe(a,e);const r=Ii(a),o=Ii(e),c=Fe(r.seconds,o.seconds);return 0!==c?c:Fe(r.nanos,o.nanos)}function Fo(a,e){const r=a.values||[],o=e.values||[];for(let c=0;c<r.length&&c<o.length;++c){const p=yo(r[c],o[c]);if(p)return p}return Fe(r.length,o.length)}function Po(a){return es(a)}function es(a){return"nullValue"in a?"null":"booleanValue"in a?""+a.booleanValue:"integerValue"in a?""+a.integerValue:"doubleValue"in a?""+a.doubleValue:"timestampValue"in a?function(r){const o=Ii(r);return`time(${o.seconds},${o.nanos})`}(a.timestampValue):"stringValue"in a?a.stringValue:"bytesValue"in a?zi(a.bytesValue).toBase64():"referenceValue"in a?Zt.fromName(a.referenceValue).toString():"geoPointValue"in a?function(r){return`geo(${r.latitude},${r.longitude})`}(a.geoPointValue):"arrayValue"in a?function(r){let o="[",c=!0;for(const p of r.values||[])c?c=!1:o+=",",o+=es(p);return o+"]"}(a.arrayValue):"mapValue"in a?function(r){const o=Object.keys(r.fields||{}).sort();let c="{",p=!0;for(const g of o)p?p=!1:c+=",",c+=`${g}:${es(r.fields[g])}`;return c+"}"}(a.mapValue):pt()}function Tr(a){switch(Ui(a)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=pn(a);return e?16+Tr(e):16;case 5:return 2*a.stringValue.length;case 6:return zi(a.bytesValue).approximateByteSize();case 7:return a.referenceValue.length;case 9:return(a.arrayValue.values||[]).reduce((c,p)=>c+Tr(p),0);case 10:case 11:return function(o){let c=0;return Wo(o.fields,(p,g)=>{c+=p.length+Tr(g)}),c}(a.mapValue);default:throw pt()}}function go(a,e){return{referenceValue:`projects/${a.projectId}/databases/${a.database}/documents/${e.path.canonicalString()}`}}function Ti(a){return!!a&&"integerValue"in a}function Xi(a){return!!a&&"arrayValue"in a}function Ni(a){return!!a&&"nullValue"in a}function ps(a){return!!a&&"doubleValue"in a&&isNaN(Number(a.doubleValue))}function so(a){return!!a&&"mapValue"in a}function Vi(a){var e,r;return"__vector__"===(null===(r=((null===(e=a?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===r?void 0:r.stringValue)}function Eo(a){if(a.geoPointValue)return{geoPointValue:Object.assign({},a.geoPointValue)};if(a.timestampValue&&"object"==typeof a.timestampValue)return{timestampValue:Object.assign({},a.timestampValue)};if(a.mapValue){const e={mapValue:{fields:{}}};return Wo(a.mapValue.fields,(r,o)=>e.mapValue.fields[r]=Eo(o)),e}if(a.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(a.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=Eo(a.arrayValue.values[r]);return e}return Object.assign({},a)}function fs(a){return"__max__"===(((a.mapValue||{}).fields||{}).__type__||{}).stringValue}const ir={mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{}}}}};function ha(a){return"nullValue"in a?bi:"booleanValue"in a?{booleanValue:!1}:"integerValue"in a||"doubleValue"in a?{doubleValue:NaN}:"timestampValue"in a?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in a?{stringValue:""}:"bytesValue"in a?{bytesValue:""}:"referenceValue"in a?go(ki.empty(),Zt.empty()):"geoPointValue"in a?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in a?{arrayValue:{}}:"mapValue"in a?Vi(a)?ir:{mapValue:{}}:pt()}function ao(a){return"nullValue"in a?{booleanValue:!1}:"booleanValue"in a?{doubleValue:NaN}:"integerValue"in a||"doubleValue"in a?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in a?{stringValue:""}:"stringValue"in a?{bytesValue:""}:"bytesValue"in a?go(ki.empty(),Zt.empty()):"referenceValue"in a?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in a?{arrayValue:{}}:"arrayValue"in a?ir:"mapValue"in a?Vi(a)?{mapValue:{}}:Ei:pt()}function Ko(a,e){const r=yo(a.value,e.value);return 0!==r?r:a.inclusive&&!e.inclusive?-1:!a.inclusive&&e.inclusive?1:0}function Di(a,e){const r=yo(a.value,e.value);return 0!==r?r:a.inclusive&&!e.inclusive?1:!a.inclusive&&e.inclusive?-1:0}class ci{constructor(e){this.value=e}static empty(){return new ci({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let o=0;o<e.length-1;++o)if(r=(r.mapValue.fields||{})[e.get(o)],!so(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=Eo(r)}setAll(e){let r=on.emptyPath(),o={},c=[];e.forEach((g,C)=>{if(!r.isImmediateParentOf(C)){const N=this.getFieldsMap(r);this.applyChanges(N,o,c),o={},c=[],r=C.popLast()}g?o[C.lastSegment()]=Eo(g):c.push(C.lastSegment())});const p=this.getFieldsMap(r);this.applyChanges(p,o,c)}delete(e){const r=this.field(e.popLast());so(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return _r(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let o=0;o<e.length;++o){let c=r.mapValue.fields[e.get(o)];so(c)&&c.mapValue.fields||(c={mapValue:{fields:{}}},r.mapValue.fields[e.get(o)]=c),r=c}return r.mapValue.fields}applyChanges(e,r,o){Wo(r,(c,p)=>e[c]=p);for(const c of o)delete e[c]}clone(){return new ci(Eo(this.value))}}function Qo(a){const e=[];return Wo(a.fields,(r,o)=>{const c=new on([r]);if(so(o)){const p=Qo(o.mapValue).fields;if(0===p.length)e.push(c);else for(const g of p)e.push(c.child(g))}else e.push(c)}),new Ir(e)}class Ur{constructor(e,r,o,c,p,g,C){this.key=e,this.documentType=r,this.version=o,this.readTime=c,this.createTime=p,this.data=g,this.documentState=C}static newInvalidDocument(e){return new Ur(e,0,ut.min(),ut.min(),ut.min(),ci.empty(),0)}static newFoundDocument(e,r,o,c){return new Ur(e,1,r,ut.min(),o,c,0)}static newNoDocument(e,r){return new Ur(e,2,r,ut.min(),ut.min(),ci.empty(),0)}static newUnknownDocument(e,r){return new Ur(e,3,r,ut.min(),ut.min(),ci.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(ut.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ci.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ci.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ut.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Ur&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ur(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class mr{constructor(e,r){this.position=e,this.inclusive=r}}function Ps(a,e,r){let o=0;for(let c=0;c<a.position.length;c++){const p=e[c],g=a.position[c];if(o=p.field.isKeyField()?Zt.comparator(Zt.fromName(g.referenceValue),r.key):yo(g,r.data.field(p.field)),"desc"===p.dir&&(o*=-1),0!==o)break}return o}function Li(a,e){if(null===a)return null===e;if(null===e||a.inclusive!==e.inclusive||a.position.length!==e.position.length)return!1;for(let r=0;r<a.position.length;r++)if(!_r(a.position[r],e.position[r]))return!1;return!0}class Hr{constructor(e,r="asc"){this.field=e,this.dir=r}}function ts(a,e){return a.dir===e.dir&&a.field.isEqual(e.field)}class vo{}class hr extends vo{constructor(e,r,o){super(),this.field=e,this.op=r,this.value=o}static create(e,r,o){return e.isKeyField()?"in"===r||"not-in"===r?this.createKeyFieldInFilter(e,r,o):new ee(e,r,o):"array-contains"===r?new Hi(e,o):"in"===r?new pa(e,o):"not-in"===r?new xa(e,o):"array-contains-any"===r?new Ad(e,o):new hr(e,r,o)}static createKeyFieldInFilter(e,r,o){return"in"===r?new Ne(e,o):new En(e,o)}matches(e){const r=e.data.field(this.field);return"!="===this.op?null!==r&&this.matchesComparison(yo(r,this.value)):null!==r&&Ui(this.value)===Ui(r)&&this.matchesComparison(yo(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return pt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class or extends vo{constructor(e,r){super(),this.filters=e,this.op=r,this.ae=null}static create(e,r){return new or(e,r)}matches(e){return Bo(this)?void 0===this.filters.find(r=>!r.matches(e)):void 0!==this.filters.find(r=>r.matches(e))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce((e,r)=>e.concat(r.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Bo(a){return"and"===a.op}function Os(a){return"or"===a.op}function ms(a){return zc(a)&&Bo(a)}function zc(a){for(const e of a.filters)if(e instanceof or)return!1;return!0}function Ns(a){if(a instanceof hr)return a.field.canonicalString()+a.op.toString()+Po(a.value);if(ms(a))return a.filters.map(e=>Ns(e)).join(",");{const e=a.filters.map(r=>Ns(r)).join(",");return`${a.op}(${e})`}}function q(a,e){return a instanceof hr?(o=a,(c=e)instanceof hr&&o.op===c.op&&o.field.isEqual(c.field)&&_r(o.value,c.value)):a instanceof or?function(o,c){return c instanceof or&&o.op===c.op&&o.filters.length===c.filters.length&&o.filters.reduce((p,g,C)=>p&&q(g,c.filters[C]),!0)}(a,e):void pt();var o,c}function K(a,e){const r=a.filters.concat(e);return or.create(r,a.op)}function B(a){return a instanceof hr?`${(r=a).field.canonicalString()} ${r.op} ${Po(r.value)}`:a instanceof or?function(r){return r.op.toString()+" {"+r.getFilters().map(B).join(" ,")+"}"}(a):"Filter";var r}class ee extends hr{constructor(e,r,o){super(e,r,o),this.key=Zt.fromName(o.referenceValue)}matches(e){const r=Zt.comparator(e.key,this.key);return this.matchesComparison(r)}}class Ne extends hr{constructor(e,r){super(e,"in",r),this.keys=Qn(0,r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class En extends hr{constructor(e,r){super(e,"not-in",r),this.keys=Qn(0,r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function Qn(a,e){var r;return((null===(r=e.arrayValue)||void 0===r?void 0:r.values)||[]).map(o=>Zt.fromName(o.referenceValue))}class Hi extends hr{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return Xi(r)&&oo(r.arrayValue,this.value)}}class pa extends hr{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return null!==r&&oo(this.value.arrayValue,r)}}class xa extends hr{constructor(e,r){super(e,"not-in",r)}matches(e){if(oo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return null!==r&&!oo(this.value.arrayValue,r)}}class Ad extends hr{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!Xi(r)||!r.arrayValue.values)&&r.arrayValue.values.some(o=>oo(this.value.arrayValue,o))}}class ul{constructor(e,r=null,o=[],c=[],p=null,g=null,C=null){this.path=e,this.collectionGroup=r,this.orderBy=o,this.filters=c,this.limit=p,this.startAt=g,this.endAt=C,this.ue=null}}function qa(a,e=null,r=[],o=[],c=null,p=null,g=null){return new ul(a,e,r,o,c,p,g)}function ys(a){const e=vt(a);if(null===e.ue){let r=e.path.canonicalString();null!==e.collectionGroup&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(o=>Ns(o)).join(","),r+="|ob:",r+=e.orderBy.map(o=>{return(p=o).field.canonicalString()+p.dir;var p}).join(","),dn(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(o=>Po(o)).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(o=>Po(o)).join(",")),e.ue=r}return e.ue}function Vs(a,e){if(a.limit!==e.limit||a.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<a.orderBy.length;r++)if(!ts(a.orderBy[r],e.orderBy[r]))return!1;if(a.filters.length!==e.filters.length)return!1;for(let r=0;r<a.filters.length;r++)if(!q(a.filters[r],e.filters[r]))return!1;return a.collectionGroup===e.collectionGroup&&!!a.path.isEqual(e.path)&&!!Li(a.startAt,e.startAt)&&Li(a.endAt,e.endAt)}function $a(a){return Zt.isDocumentKey(a.path)&&null===a.collectionGroup&&0===a.filters.length}function fa(a,e){return a.filters.filter(r=>r instanceof hr&&r.field.isEqual(e))}function ma(a,e,r){let o=bi,c=!0;for(const p of fa(a,e)){let g=bi,C=!0;switch(p.op){case"<":case"<=":g=ha(p.value);break;case"==":case"in":case">=":g=p.value;break;case">":g=p.value,C=!1;break;case"!=":case"not-in":g=bi}Ko({value:o,inclusive:c},{value:g,inclusive:C})<0&&(o=g,c=C)}if(null!==r)for(let p=0;p<a.orderBy.length;++p)if(a.orderBy[p].field.isEqual(e)){const g=r.position[p];Ko({value:o,inclusive:c},{value:g,inclusive:r.inclusive})<0&&(o=g,c=r.inclusive);break}return{value:o,inclusive:c}}function ns(a,e,r){let o=Ei,c=!0;for(const p of fa(a,e)){let g=Ei,C=!0;switch(p.op){case">=":case">":g=ao(p.value),C=!1;break;case"==":case"in":case"<=":g=p.value;break;case"<":g=p.value,C=!1;break;case"!=":case"not-in":g=Ei}Di({value:o,inclusive:c},{value:g,inclusive:C})>0&&(o=g,c=C)}if(null!==r)for(let p=0;p<a.orderBy.length;++p)if(a.orderBy[p].field.isEqual(e)){const g=r.position[p];Di({value:o,inclusive:c},{value:g,inclusive:r.inclusive})>0&&(o=g,c=r.inclusive);break}return{value:o,inclusive:c}}class mi{constructor(e,r=null,o=[],c=[],p=null,g="F",C=null,N=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=o,this.filters=c,this.limit=p,this.limitType=g,this.startAt=C,this.endAt=N,this.ce=null,this.le=null,this.he=null}}function Js(a,e,r,o,c,p,g,C){return new mi(a,e,r,o,c,p,g,C)}function rs(a){return new mi(a)}function Yi(a){return 0===a.filters.length&&null===a.limit&&null==a.startAt&&null==a.endAt&&(0===a.explicitOrderBy.length||1===a.explicitOrderBy.length&&a.explicitOrderBy[0].field.isKeyField())}function gs(a){return null!==a.collectionGroup}function qi(a){const e=vt(a);if(null===e.ce){e.ce=[];const r=new Set;for(const p of e.explicitOrderBy)e.ce.push(p),r.add(p.field.canonicalString());const o=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(g){let C=new dr(on.comparator);return g.filters.forEach(N=>{N.getFlattenedFilters().forEach(H=>{H.isInequality()&&(C=C.add(H.field))})}),C})(e).forEach(p=>{r.has(p.canonicalString())||p.isKeyField()||e.ce.push(new Hr(p,o))}),r.has(on.keyField().canonicalString())||e.ce.push(new Hr(on.keyField(),o))}return e.ce}function $i(a){const e=vt(a);return e.le||(e.le=Wa(e,qi(a))),e.le}function Ca(a){const e=vt(a);return e.he||(e.he=Wa(e,a.explicitOrderBy)),e.he}function Wa(a,e){if("F"===a.limitType)return qa(a.path,a.collectionGroup,e,a.filters,a.limit,a.startAt,a.endAt);{e=e.map(c=>new Hr(c.field,"desc"===c.dir?"asc":"desc"));const r=a.endAt?new mr(a.endAt.position,a.endAt.inclusive):null,o=a.startAt?new mr(a.startAt.position,a.startAt.inclusive):null;return qa(a.path,a.collectionGroup,e,a.filters,a.limit,r,o)}}function Aa(a,e){const r=a.filters.concat([e]);return new mi(a.path,a.collectionGroup,a.explicitOrderBy.slice(),r,a.limit,a.limitType,a.startAt,a.endAt)}function ea(a,e,r){return new mi(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),e,r,a.startAt,a.endAt)}function vs(a,e){return Vs($i(a),$i(e))&&a.limitType===e.limitType}function Ga(a){return`${ys($i(a))}|lt:${a.limitType}`}function Ls(a){return`Query(target=${function(r){let o=r.path.canonicalString();return null!==r.collectionGroup&&(o+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(o+=`, filters: [${r.filters.map(c=>B(c)).join(", ")}]`),dn(r.limit)||(o+=", limit: "+r.limit),r.orderBy.length>0&&(o+=`, orderBy: [${r.orderBy.map(c=>{return`${(g=c).field.canonicalString()} (${g.dir})`;var g}).join(", ")}]`),r.startAt&&(o+=", startAt: ",o+=r.startAt.inclusive?"b:":"a:",o+=r.startAt.position.map(c=>Po(c)).join(",")),r.endAt&&(o+=", endAt: ",o+=r.endAt.inclusive?"a:":"b:",o+=r.endAt.position.map(c=>Po(c)).join(",")),`Target(${o})`}($i(a))}; limitType=${a.limitType})`}function Fs(a,e){return e.isFoundDocument()&&function(o,c){const p=c.key.path;return null!==o.collectionGroup?c.key.hasCollectionId(o.collectionGroup)&&o.path.isPrefixOf(p):Zt.isDocumentKey(o.path)?o.path.isEqual(p):o.path.isImmediateParentOf(p)}(a,e)&&function(o,c){for(const p of qi(o))if(!p.field.isKeyField()&&null===c.data.field(p.field))return!1;return!0}(a,e)&&function(o,c){for(const p of o.filters)if(!p.matches(c))return!1;return!0}(a,e)&&(c=e,!((o=a).startAt&&!function(g,C,N){const H=Ps(g,C,N);return g.inclusive?H<=0:H<0}(o.startAt,qi(o),c)||o.endAt&&!function(g,C,N){const H=Ps(g,C,N);return g.inclusive?H>=0:H>0}(o.endAt,qi(o),c)));var o,c}function ya(a){return a.collectionGroup||(a.path.length%2==1?a.path.lastSegment():a.path.get(a.path.length-2))}function gc(a){return(e,r)=>{let o=!1;for(const c of qi(a)){const p=dl(c,e,r);if(0!==p)return p;o=o||c.field.isKeyField()}return 0}}function dl(a,e,r){const o=a.field.isKeyField()?Zt.comparator(e.key,r.key):function(p,g,C){const N=g.data.field(p),H=C.data.field(p);return null!==N&&null!==H?yo(N,H):pt()}(a.field,e,r);switch(a.dir){case"asc":return o;case"desc":return-1*o;default:return pt()}}class xo{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),o=this.inner[r];if(void 0!==o)for(const[c,p]of o)if(this.equalsFn(c,e))return p}has(e){return void 0!==this.get(e)}set(e,r){const o=this.mapKeyFn(e),c=this.inner[o];if(void 0===c)return this.inner[o]=[[e,r]],void this.innerSize++;for(let p=0;p<c.length;p++)if(this.equalsFn(c[p][0],e))return void(c[p]=[e,r]);c.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),o=this.inner[r];if(void 0===o)return!1;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return 1===o.length?delete this.inner[r]:o.splice(c,1),this.innerSize--,!0;return!1}forEach(e){Wo(this.inner,(r,o)=>{for(const[c,p]of o)e(c,p)})}isEmpty(){return Go(this.inner)}size(){return this.innerSize}}const vc=new Fr(Zt.comparator);function co(){return vc}const Nu=new Fr(Zt.comparator);function Ia(...a){let e=Nu;for(const r of a)e=e.insert(r.key,r);return e}function Vu(a){let e=Nu;return a.forEach((r,o)=>e=e.insert(r,o.overlayedDocument)),e}function jo(){return Ka()}function ru(){return Ka()}function Ka(){return new xo(a=>a.toString(),(a,e)=>a.isEqual(e))}const Lu=new Fr(Zt.comparator),ta=new dr(Zt.comparator);function pr(...a){let e=ta;for(const r of a)e=e.add(r);return e}const ga=new dr(Fe);function _c(){return ga}function Ta(a,e){if(a.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:sn(e)?"-0":e}}function Qa(a){return{integerValue:""+a}}function A(a,e){return zn(e)?Qa(e):Ta(a,e)}class X{constructor(){this._=void 0}}function j(a,e,r){return a instanceof Et?function(c,p){const g={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:c.seconds,nanos:c.nanoseconds}}}};return p&&Yr(p)&&(p=pn(p)),p&&(g.fields.__previous_value__=p),{mapValue:g}}(r,e):a instanceof jt?An(a,e):a instanceof Rn?qn(a,e):function(c,p){const g=Te(c,p),C=lr(g)+lr(c.Pe);return Ti(g)&&Ti(c.Pe)?Qa(C):Ta(c.serializer,C)}(a,e)}function Q(a,e,r){return a instanceof jt?An(a,e):a instanceof Rn?qn(a,e):r}function Te(a,e){return a instanceof yr?Ti(o=e)||(p=o)&&"doubleValue"in p?e:{integerValue:0}:null;var o,p}class Et extends X{}class jt extends X{constructor(e){super(),this.elements=e}}function An(a,e){const r=Jr(e);for(const o of a.elements)r.some(c=>_r(c,o))||r.push(o);return{arrayValue:{values:r}}}class Rn extends X{constructor(e){super(),this.elements=e}}function qn(a,e){let r=Jr(e);for(const o of a.elements)r=r.filter(c=>!_r(c,o));return{arrayValue:{values:r}}}class yr extends X{constructor(e,r){super(),this.serializer=e,this.Pe=r}}function lr(a){return Br(a.integerValue||a.doubleValue)}function Jr(a){return Xi(a)&&a.arrayValue.values?a.arrayValue.values.slice():[]}class Gr{constructor(e,r){this.field=e,this.transform=r}}class Co{constructor(e,r){this.version=e,this.transformResults=r}}class wr{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new wr}static exists(e){return new wr(void 0,e)}static updateTime(e){return new wr(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function is(a,e){return void 0!==a.updateTime?e.isFoundDocument()&&e.version.isEqual(a.updateTime):void 0===a.exists||a.exists===e.isFoundDocument()}class Mi{}function _s(a,e){if(!a.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return a.isNoDocument()?new zo(a.key,wr.none()):new Bs(a.key,a.data,wr.none());{const r=a.data,o=ci.empty();let c=new dr(on.comparator);for(let p of e.fields)if(!c.has(p)){let g=r.field(p);null===g&&p.length>1&&(p=p.popLast(),g=r.field(p)),null===g?o.delete(p):o.set(p,g),c=c.add(p)}return new os(a.key,o,new Ir(c.toArray()),wr.none())}}function lo(a,e,r){a instanceof Bs?function(c,p,g){const C=c.value.clone(),N=pl(c.fieldTransforms,p,g.transformResults);C.setAll(N),p.convertToFoundDocument(g.version,C).setHasCommittedMutations()}(a,e,r):a instanceof os?function(c,p,g){if(!is(c.precondition,p))return void p.convertToUnknownDocument(g.version);const C=pl(c.fieldTransforms,p,g.transformResults),N=p.data;N.setAll(Ao(c)),N.setAll(C),p.convertToFoundDocument(g.version,N).setHasCommittedMutations()}(a,e,r):e.convertToNoDocument(r.version).setHasCommittedMutations()}function yi(a,e,r,o){return a instanceof Bs?function(p,g,C,N){if(!is(p.precondition,g))return C;const H=p.value.clone(),J=Uc(p.fieldTransforms,N,g);return H.setAll(J),g.convertToFoundDocument(g.version,H).setHasLocalMutations(),null}(a,e,r,o):a instanceof os?function(p,g,C,N){if(!is(p.precondition,g))return C;const H=Uc(p.fieldTransforms,N,g),J=g.data;return J.setAll(Ao(p)),J.setAll(H),g.convertToFoundDocument(g.version,J).setHasLocalMutations(),null===C?null:C.unionWith(p.fieldMask.fields).unionWith(p.fieldTransforms.map(ye=>ye.field))}(a,e,r,o):(C=r,is(a.precondition,g=e)?(g.convertToNoDocument(g.version).setHasLocalMutations(),null):C);var g,C}function hl(a,e){let r=null;for(const o of a.fieldTransforms){const c=e.data.field(o.field),p=Te(o.transform,c||null);null!=p&&(null===r&&(r=ci.empty()),r.set(o.field,p))}return r||null}function ii(a,e){return a.type===e.type&&!!a.key.isEqual(e.key)&&!!a.precondition.isEqual(e.precondition)&&(c=e.fieldTransforms,!!(void 0===(o=a.fieldTransforms)&&void 0===c||o&&c&&Ae(o,c,(p,g)=>function Ji(a,e){return a.field.isEqual(e.field)&&(c=e.transform,(o=a.transform)instanceof jt&&c instanceof jt||o instanceof Rn&&c instanceof Rn?Ae(o.elements,c.elements,_r):o instanceof yr&&c instanceof yr?_r(o.Pe,c.Pe):o instanceof Et&&c instanceof Et);var o,c}(p,g))))&&(0===a.type?a.value.isEqual(e.value):1!==a.type||a.data.isEqual(e.data)&&a.fieldMask.isEqual(e.fieldMask));var o,c}class Bs extends Mi{constructor(e,r,o,c=[]){super(),this.key=e,this.value=r,this.precondition=o,this.fieldTransforms=c,this.type=0}getFieldMask(){return null}}class os extends Mi{constructor(e,r,o,c,p=[]){super(),this.key=e,this.data=r,this.fieldMask=o,this.precondition=c,this.fieldTransforms=p,this.type=1}getFieldMask(){return this.fieldMask}}function Ao(a){const e=new Map;return a.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const o=a.data.field(r);e.set(r,o)}}),e}function pl(a,e,r){const o=new Map;Ft(a.length===r.length);for(let c=0;c<r.length;c++){const p=a[c],g=p.transform,C=e.data.field(p.field);o.set(p.field,Q(g,C,r[c]))}return o}function Uc(a,e,r){const o=new Map;for(const c of a){const p=c.transform,g=r.data.field(c.field);o.set(c.field,j(p,g,e))}return o}class zo extends Mi{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class eo extends Mi{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class uo{constructor(e,r,o,c){this.batchId=e,this.localWriteTime=r,this.baseMutations=o,this.mutations=c}applyToRemoteDocument(e,r){const o=r.mutationResults;for(let c=0;c<this.mutations.length;c++){const p=this.mutations[c];p.key.isEqual(e.key)&&lo(p,e,o[c])}}applyToLocalView(e,r){for(const o of this.baseMutations)o.key.isEqual(e.key)&&(r=yi(o,e,r,this.localWriteTime));for(const o of this.mutations)o.key.isEqual(e.key)&&(r=yi(o,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const o=ru();return this.mutations.forEach(c=>{const p=e.get(c.key),g=p.overlayedDocument;let C=this.applyToLocalView(g,p.mutatedFields);C=r.has(c.key)?null:C;const N=_s(g,C);null!==N&&o.set(c.key,N),g.isValidDocument()||g.convertToNoDocument(ut.min())}),o}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),pr())}isEqual(e){return this.batchId===e.batchId&&Ae(this.mutations,e.mutations,(r,o)=>ii(r,o))&&Ae(this.baseMutations,e.baseMutations,(r,o)=>ii(r,o))}}class fl{constructor(e,r,o,c){this.batch=e,this.commitVersion=r,this.mutationResults=o,this.docVersions=c}static from(e,r,o){Ft(e.mutations.length===o.length);let c=Lu;const p=e.mutations;for(let g=0;g<p.length;g++)c=c.insert(p[g].key,o[g].version);return new fl(e,r,o,c)}}class Fu{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class na{constructor(e,r,o){this.alias=e,this.aggregateType=r,this.fieldPath=o}}class ra{constructor(e,r){this.count=e,this.unchangedNames=r}}var to,Dr;function ks(a){switch(a){default:return pt();case We.CANCELLED:case We.UNKNOWN:case We.DEADLINE_EXCEEDED:case We.RESOURCE_EXHAUSTED:case We.INTERNAL:case We.UNAVAILABLE:case We.UNAUTHENTICATED:return!1;case We.INVALID_ARGUMENT:case We.NOT_FOUND:case We.ALREADY_EXISTS:case We.PERMISSION_DENIED:case We.FAILED_PRECONDITION:case We.ABORTED:case We.OUT_OF_RANGE:case We.UNIMPLEMENTED:case We.DATA_LOSS:return!0}}function kc(a){if(void 0===a)return lt("GRPC error has no .code"),We.UNKNOWN;switch(a){case to.OK:return We.OK;case to.CANCELLED:return We.CANCELLED;case to.UNKNOWN:return We.UNKNOWN;case to.DEADLINE_EXCEEDED:return We.DEADLINE_EXCEEDED;case to.RESOURCE_EXHAUSTED:return We.RESOURCE_EXHAUSTED;case to.INTERNAL:return We.INTERNAL;case to.UNAVAILABLE:return We.UNAVAILABLE;case to.UNAUTHENTICATED:return We.UNAUTHENTICATED;case to.INVALID_ARGUMENT:return We.INVALID_ARGUMENT;case to.NOT_FOUND:return We.NOT_FOUND;case to.ALREADY_EXISTS:return We.ALREADY_EXISTS;case to.PERMISSION_DENIED:return We.PERMISSION_DENIED;case to.FAILED_PRECONDITION:return We.FAILED_PRECONDITION;case to.ABORTED:return We.ABORTED;case to.OUT_OF_RANGE:return We.OUT_OF_RANGE;case to.UNIMPLEMENTED:return We.UNIMPLEMENTED;case to.DATA_LOSS:return We.DATA_LOSS;default:return pt()}}(Dr=to||(to={}))[Dr.OK=0]="OK",Dr[Dr.CANCELLED=1]="CANCELLED",Dr[Dr.UNKNOWN=2]="UNKNOWN",Dr[Dr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Dr[Dr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Dr[Dr.NOT_FOUND=5]="NOT_FOUND",Dr[Dr.ALREADY_EXISTS=6]="ALREADY_EXISTS",Dr[Dr.PERMISSION_DENIED=7]="PERMISSION_DENIED",Dr[Dr.UNAUTHENTICATED=16]="UNAUTHENTICATED",Dr[Dr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Dr[Dr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Dr[Dr.ABORTED=10]="ABORTED",Dr[Dr.OUT_OF_RANGE=11]="OUT_OF_RANGE",Dr[Dr.UNIMPLEMENTED=12]="UNIMPLEMENTED",Dr[Dr.INTERNAL=13]="INTERNAL",Dr[Dr.UNAVAILABLE=14]="UNAVAILABLE",Dr[Dr.DATA_LOSS=15]="DATA_LOSS";let Za=null;function $n(){return new TextEncoder}const ss=new ke([4294967295,4294967295],0);function Bu(a){const e=$n().encode(a),r=new Ge;return r.update(e),new Uint8Array(r.digest())}function Da(a){const e=new DataView(a.buffer),r=e.getUint32(0,!0),o=e.getUint32(4,!0),c=e.getUint32(8,!0),p=e.getUint32(12,!0);return[new ke([r,o],0),new ke([c,p],0)]}class ml{constructor(e,r,o){if(this.bitmap=e,this.padding=r,this.hashCount=o,r<0||r>=8)throw new va(`Invalid padding: ${r}`);if(o<0)throw new va(`Invalid hash count: ${o}`);if(e.length>0&&0===this.hashCount)throw new va(`Invalid hash count: ${o}`);if(0===e.length&&0!==r)throw new va(`Invalid padding when bitmap length is 0: ${r}`);this.Ie=8*e.length-r,this.Te=ke.fromNumber(this.Ie)}Ee(e,r,o){let c=e.add(r.multiply(ke.fromNumber(o)));return 1===c.compare(ss)&&(c=new ke([c.getBits(0),c.getBits(1)],0)),c.modulo(this.Te).toNumber()}de(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Ie)return!1;const r=Bu(e),[o,c]=Da(r);for(let p=0;p<this.hashCount;p++){const g=this.Ee(o,c,p);if(!this.de(g))return!1}return!0}static create(e,r,o){const c=e%8==0?0:8-e%8,p=new Uint8Array(Math.ceil(e/8)),g=new ml(p,c,r);return o.forEach(C=>g.insert(C)),g}insert(e){if(0===this.Ie)return;const r=Bu(e),[o,c]=Da(r);for(let p=0;p<this.hashCount;p++){const g=this.Ee(o,c,p);this.Ae(g)}}Ae(e){const r=Math.floor(e/8);this.bitmap[r]|=1<<e%8}}class va extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class bs{constructor(e,r,o,c,p){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=o,this.documentUpdates=c,this.resolvedLimboDocuments=p}static createSynthesizedRemoteEventForCurrentChange(e,r,o){const c=new Map;return c.set(e,_a.createSynthesizedTargetChangeForCurrentChange(e,r,o)),new bs(ut.min(),c,new Fr(Fe),co(),pr())}}class _a{constructor(e,r,o,c,p){this.resumeToken=e,this.current=r,this.addedDocuments=o,this.modifiedDocuments=c,this.removedDocuments=p}static createSynthesizedTargetChangeForCurrentChange(e,r,o){return new _a(o,r,pr(),pr(),pr())}}class Hc{constructor(e,r,o,c){this.Re=e,this.removedTargetIds=r,this.key=o,this.Ve=c}}class Id{constructor(e,r){this.targetId=e,this.me=r}}class ju{constructor(e,r,o=Wr.EMPTY_BYTE_STRING,c=null){this.state=e,this.targetIds=r,this.resumeToken=o,this.cause=c}}class Td{constructor(){this.fe=0,this.ge=jr(),this.pe=Wr.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=pr(),r=pr(),o=pr();return this.ge.forEach((c,p)=>{switch(p){case 0:e=e.add(c);break;case 2:r=r.add(c);break;case 1:o=o.add(c);break;default:pt()}}),new _a(this.pe,this.ye,e,r,o)}Ce(){this.we=!1,this.ge=jr()}Fe(e,r){this.we=!0,this.ge=this.ge.insert(e,r)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Ft(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class zu{constructor(e){this.Le=e,this.Be=new Map,this.ke=co(),this.qe=Gt(),this.Qe=new Fr(Fe)}Ke(e){for(const r of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(r,e.Ve):this.Ue(r,e.key,e.Ve);for(const r of e.removedTargetIds)this.Ue(r,e.key,e.Ve)}We(e){this.forEachTarget(e,r=>{const o=this.Ge(r);switch(e.state){case 0:this.ze(r)&&o.De(e.resumeToken);break;case 1:o.Oe(),o.Se||o.Ce(),o.De(e.resumeToken);break;case 2:o.Oe(),o.Se||this.removeTarget(r);break;case 3:this.ze(r)&&(o.Ne(),o.De(e.resumeToken));break;case 4:this.ze(r)&&(this.je(r),o.De(e.resumeToken));break;default:pt()}})}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.Be.forEach((o,c)=>{this.ze(c)&&r(c)})}He(e){const r=e.targetId,o=e.me.count,c=this.Je(r);if(c){const p=c.target;if($a(p))if(0===o){const g=new Zt(p.path);this.Ue(r,g,Ur.newNoDocument(g,ut.min()))}else Ft(1===o);else{const g=this.Ye(r);if(g!==o){const C=this.Ze(e),N=C?this.Xe(C,e,g):1;0!==N&&(this.je(r),this.Qe=this.Qe.insert(r,2===N?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),Za?.et(function(J,ye,He,Mt,$t){var ln,nn,Nn,Gn,On,gr;const ti={localCacheCount:J,existenceFilterCount:ye.count,databaseId:He.database,projectId:He.projectId},Nr=ye.unchangedNames;return Nr&&(ti.bloomFilter={applied:0===$t,hashCount:null!==(ln=Nr?.hashCount)&&void 0!==ln?ln:0,bitmapLength:null!==(Gn=null===(Nn=null===(nn=Nr?.bits)||void 0===nn?void 0:nn.bitmap)||void 0===Nn?void 0:Nn.length)&&void 0!==Gn?Gn:0,padding:null!==(gr=null===(On=Nr?.bits)||void 0===On?void 0:On.padding)&&void 0!==gr?gr:0,mightContain:ot=>{var Be;return null!==(Be=Mt?.mightContain(ot))&&void 0!==Be&&Be}}),ti}(g,e.me,this.Le.tt(),C,N))}}}}Ze(e){const r=e.me.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:o="",padding:c=0},hashCount:p=0}=r;let g,C;try{g=zi(o).toUint8Array()}catch(N){if(N instanceof Ro)return Lt("Decoding the base64 bloom filter in existence filter failed ("+N.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw N}try{C=new ml(g,c,p)}catch(N){return Lt(N instanceof va?"BloomFilter error: ":"Applying bloom filter failed: ",N),null}return 0===C.Ie?null:C}Xe(e,r,o){return r.me.count===o-this.nt(e,r.targetId)?0:2}nt(e,r){const o=this.Le.getRemoteKeysForTarget(r);let c=0;return o.forEach(p=>{const g=this.Le.tt(),C=`projects/${g.projectId}/databases/${g.database}/documents/${p.path.canonicalString()}`;e.mightContain(C)||(this.Ue(r,p,null),c++)}),c}rt(e){const r=new Map;this.Be.forEach((p,g)=>{const C=this.Je(g);if(C){if(p.current&&$a(C.target)){const N=new Zt(C.target.path);null!==this.ke.get(N)||this.it(g,N)||this.Ue(g,N,Ur.newNoDocument(N,e))}p.be&&(r.set(g,p.ve()),p.Ce())}});let o=pr();this.qe.forEach((p,g)=>{let C=!0;g.forEachWhile(N=>{const H=this.Je(N);return!H||"TargetPurposeLimboResolution"===H.purpose||(C=!1,!1)}),C&&(o=o.add(p))}),this.ke.forEach((p,g)=>g.setReadTime(e));const c=new bs(e,r,this.Qe,this.ke,o);return this.ke=co(),this.qe=Gt(),this.Qe=new Fr(Fe),c}$e(e,r){if(!this.ze(e))return;const o=this.it(e,r.key)?2:0;this.Ge(e).Fe(r.key,o),this.ke=this.ke.insert(r.key,r),this.qe=this.qe.insert(r.key,this.st(r.key).add(e))}Ue(e,r,o){if(!this.ze(e))return;const c=this.Ge(e);this.it(e,r)?c.Fe(r,1):c.Me(r),this.qe=this.qe.insert(r,this.st(r).delete(e)),o&&(this.ke=this.ke.insert(r,o))}removeTarget(e){this.Be.delete(e)}Ye(e){const r=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let r=this.Be.get(e);return r||(r=new Td,this.Be.set(e,r)),r}st(e){let r=this.qe.get(e);return r||(r=new dr(Fe),this.qe=this.qe.insert(e,r)),r}ze(e){const r=null!==this.Je(e);return r||we("WatchChangeAggregator","Detected inactive target",e),r}Je(e){const r=this.Be.get(e);return r&&r.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Td),this.Le.getRemoteKeysForTarget(e).forEach(r=>{this.Ue(e,r,null)})}it(e,r){return this.Le.getRemoteKeysForTarget(e).has(r)}}function Gt(){return new Fr(Zt.comparator)}function jr(){return new Fr(Zt.comparator)}const yl={asc:"ASCENDING",desc:"DESCENDING"},Ms={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ho={and:"AND",or:"OR"};class bc{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function Sa(a,e){return a.useProto3Json||dn(e)?e:{value:e}}function zr(a,e){return a.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Xa(a,e){return a.useProto3Json?e.toBase64():e.toUint8Array()}function Mc(a,e){return zr(a,e.toTimestamp())}function no(a){return Ft(!!a),ut.fromTimestamp(function(r){const o=Ii(r);return new it(o.seconds,o.nanos)}(a))}function gl(a,e){return iu(a,e).canonicalString()}function iu(a,e){const r=(c=a,new Dt(["projects",c.projectId,"databases",c.database])).child("documents");var c;return void 0===e?r:r.child(e)}function xi(a){const e=Dt.fromString(a);return Ft(ou(e)),e}function Oo(a,e){return gl(a.databaseId,e.path)}function js(a,e){const r=xi(e);if(r.get(1)!==a.databaseId.projectId)throw new dt(We.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+a.databaseId.projectId);if(r.get(3)!==a.databaseId.database)throw new dt(We.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+a.databaseId.database);return new Zt(D(r))}function x(a,e){return gl(a.databaseId,e)}function S(a){const e=xi(a);return 4===e.length?Dt.emptyPath():D(e)}function M(a){return new Dt(["projects",a.databaseId.projectId,"databases",a.databaseId.database]).canonicalString()}function D(a){return Ft(a.length>4&&"documents"===a.get(4)),a.popFirst(5)}function U(a,e,r){return{name:Oo(a,e),fields:r.value.mapValue.fields}}function ne(a,e,r){const o=js(a,e.name),c=no(e.updateTime),p=e.createTime?no(e.createTime):ut.min(),g=new ci({mapValue:{fields:e.fields}}),C=Ur.newFoundDocument(o,c,p,g);return r&&C.setHasCommittedMutations(),r?C.setHasCommittedMutations():C}function xt(a,e){let r;if(e instanceof Bs)r={update:U(a,e.key,e.value)};else if(e instanceof zo)r={delete:Oo(a,e.key)};else if(e instanceof os)r={update:U(a,e.key,e.data),updateMask:Uu(e.fieldMask)};else{if(!(e instanceof eo))return pt();r={verify:Oo(a,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map(o=>function(p,g){const C=g.transform;if(C instanceof Et)return{fieldPath:g.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(C instanceof jt)return{fieldPath:g.field.canonicalString(),appendMissingElements:{values:C.elements}};if(C instanceof Rn)return{fieldPath:g.field.canonicalString(),removeAllFromArray:{values:C.elements}};if(C instanceof yr)return{fieldPath:g.field.canonicalString(),increment:C.Pe};throw pt()}(0,o))),e.precondition.isNone||(r.currentDocument=void 0!==(p=e.precondition).updateTime?{updateTime:Mc(a,p.updateTime)}:void 0!==p.exists?{exists:p.exists}:pt()),r;var p}function yn(a,e){const r=e.currentDocument?void 0!==(p=e.currentDocument).updateTime?wr.updateTime(no(p.updateTime)):void 0!==p.exists?wr.exists(p.exists):wr.none():wr.none(),o=e.updateTransforms?e.updateTransforms.map(c=>function(g,C){let N=null;"setToServerValue"in C?(Ft("REQUEST_TIME"===C.setToServerValue),N=new Et):"appendMissingElements"in C?N=new jt(C.appendMissingElements.values||[]):"removeAllFromArray"in C?N=new Rn(C.removeAllFromArray.values||[]):"increment"in C?N=new yr(g,C.increment):pt();const H=on.fromServerFormat(C.fieldPath);return new Gr(H,N)}(a,c)):[];var p;if(e.update){const c=js(a,e.update.name),p=new ci({mapValue:{fields:e.update.fields}});if(e.updateMask){const g=new Ir((e.updateMask.fieldPaths||[]).map(J=>on.fromServerFormat(J)));return new os(c,p,g,r,o)}return new Bs(c,p,r,o)}if(e.delete){const c=js(a,e.delete);return new zo(c,r)}if(e.verify){const c=js(a,e.verify);return new eo(c,r)}return pt()}function li(a,e){return{documents:[x(a,e.path)]}}function Er(a,e){const r={structuredQuery:{}},o=e.path;let c;null!==e.collectionGroup?(c=o,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(c=o.popLast(),r.structuredQuery.from=[{collectionId:o.lastSegment()}]),r.parent=x(a,c);const p=function(H){if(0!==H.length)return pi(or.create(H,"and"))}(e.filters);p&&(r.structuredQuery.where=p);const g=function(H){if(0!==H.length)return H.map(J=>{return{field:Ci((He=J).field),direction:_o(He.dir)};var He})}(e.orderBy);g&&(r.structuredQuery.orderBy=g);const C=Sa(a,e.limit);return null!==C&&(r.structuredQuery.limit=C),e.startAt&&(r.structuredQuery.startAt={before:(H=e.startAt).inclusive,values:H.position}),e.endAt&&(r.structuredQuery.endAt=function(H){return{before:!H.inclusive,values:H.position}}(e.endAt)),{_t:r,parent:c};var H}function ws(a,e,r,o){const{_t:c,parent:p}=Er(a,e),g={},C=[];let N=0;return r.forEach(H=>{const J=o?H.alias:"aggregate_"+N++;g[J]=H.alias,"count"===H.aggregateType?C.push({alias:J,count:{}}):"avg"===H.aggregateType?C.push({alias:J,avg:{field:Ci(H.fieldPath)}}):"sum"===H.aggregateType&&C.push({alias:J,sum:{field:Ci(H.fieldPath)}})}),{request:{structuredAggregationQuery:{aggregations:C,structuredQuery:c.structuredQuery},parent:c.parent},ut:g,parent:p}}function Ra(a){let e=S(a.parent);const r=a.structuredQuery,o=r.from?r.from.length:0;let c=null;if(o>0){Ft(1===o);const J=r.from[0];J.allDescendants?c=J.collectionId:e=e.child(J.collectionId)}let p=[];r.where&&(p=function(ye){const He=Uo(ye);return He instanceof or&&ms(He)?He.getFilters():[He]}(r.where));let g=[];r.orderBy&&(g=r.orderBy.map(He=>{return new Hr(No(($t=He).field),function(nn){switch(nn){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}($t.direction));var $t}));let C=null;r.limit&&(C=function(ye){let He;return He="object"==typeof ye?ye.value:ye,dn(He)?null:He}(r.limit));let N=null;var ye;r.startAt&&(N=new mr((ye=r.startAt).values||[],!!ye.before));let H=null;return r.endAt&&(H=function(ye){return new mr(ye.values||[],!ye.before)}(r.endAt)),Js(e,c,g,p,C,"F",N,H)}function Uo(a){return void 0!==a.unaryFilter?function(r){switch(r.unaryFilter.op){case"IS_NAN":const o=No(r.unaryFilter.field);return hr.create(o,"==",{doubleValue:NaN});case"IS_NULL":const c=No(r.unaryFilter.field);return hr.create(c,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const p=No(r.unaryFilter.field);return hr.create(p,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const g=No(r.unaryFilter.field);return hr.create(g,"!=",{nullValue:"NULL_VALUE"});default:return pt()}}(a):void 0!==a.fieldFilter?hr.create(No((r=a).fieldFilter.field),function(c){switch(c){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return pt()}}(r.fieldFilter.op),r.fieldFilter.value):void 0!==a.compositeFilter?function(r){return or.create(r.compositeFilter.filters.map(o=>Uo(o)),function(c){switch(c){case"AND":return"and";case"OR":return"or";default:return pt()}}(r.compositeFilter.op))}(a):pt();var r}function _o(a){return yl[a]}function qc(a){return Ms[a]}function Vh(a){return ho[a]}function Ci(a){return{fieldPath:a.canonicalString()}}function No(a){return on.fromServerFormat(a.fieldPath)}function pi(a){return a instanceof hr?function(r){if("=="===r.op){if(ps(r.value))return{unaryFilter:{field:Ci(r.field),op:"IS_NAN"}};if(Ni(r.value))return{unaryFilter:{field:Ci(r.field),op:"IS_NULL"}}}else if("!="===r.op){if(ps(r.value))return{unaryFilter:{field:Ci(r.field),op:"IS_NOT_NAN"}};if(Ni(r.value))return{unaryFilter:{field:Ci(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ci(r.field),op:qc(r.op),value:r.value}}}(a):a instanceof or?function(r){const o=r.getFilters().map(c=>pi(c));return 1===o.length?o[0]:{compositeFilter:{op:Vh(r.op),filters:o}}}(a):pt()}function Uu(a){const e=[];return a.fields.forEach(r=>e.push(r.canonicalString())),{fieldPaths:e}}function ou(a){return a.length>=4&&"projects"===a.get(0)&&"databases"===a.get(2)}class ia{constructor(e,r,o,c,p=ut.min(),g=ut.min(),C=Wr.EMPTY_BYTE_STRING,N=null){this.target=e,this.targetId=r,this.purpose=o,this.sequenceNumber=c,this.snapshotVersion=p,this.lastLimboFreeSnapshotVersion=g,this.resumeToken=C,this.expectedCount=N}withSequenceNumber(e){return new ia(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new ia(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ia(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ia(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Dd{constructor(e){this.ct=e}}function Hu(a,e){const r=e.key,o={prefixPath:r.getCollectionPath().popLast().toArray(),collectionGroup:r.collectionGroup,documentId:r.path.lastSegment(),readTime:Ja(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())o.document={name:Oo(p=a.ct,(g=e).key),fields:g.data.value.mapValue.fields,updateTime:zr(p,g.version.toTimestamp()),createTime:zr(p,g.createTime.toTimestamp())};else if(e.isNoDocument())o.noDocument={path:r.path.toArray(),readTime:Zo(e.version)};else{if(!e.isUnknownDocument())return pt();o.unknownDocument={path:r.path.toArray(),version:Zo(e.version)}}var p,g;return o}function Ja(a){const e=a.toTimestamp();return[e.seconds,e.nanoseconds]}function Zo(a){const e=a.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function wc(a){const e=new it(a.seconds,a.nanoseconds);return ut.fromTimestamp(e)}function Es(a,e){const r=(e.baseMutations||[]).map(p=>yn(a.ct,p));for(let p=0;p<e.mutations.length-1;++p)p+1<e.mutations.length&&void 0!==e.mutations[p+1].transform&&(e.mutations[p].updateTransforms=e.mutations[p+1].transform.fieldTransforms,e.mutations.splice(p+1,1),++p);const o=e.mutations.map(p=>yn(a.ct,p)),c=it.fromMillis(e.localWriteTimeMs);return new uo(e.batchId,c,r,o)}function zs(a){const e=wc(a.readTime),r=void 0!==a.lastLimboFreeSnapshotVersion?wc(a.lastLimboFreeSnapshotVersion):ut.min();let o;return o=void 0!==a.query.documents?(Ft(1===(p=a.query).documents.length),$i(rs(S(p.documents[0])))):function(p){return $i(Ra(p))}(a.query),new ia(o,a.targetId,"TargetPurposeListen",a.lastListenSequenceNumber,e,r,Wr.fromBase64String(a.resumeToken));var p}function su(a,e){const r=Zo(e.snapshotVersion),o=Zo(e.lastLimboFreeSnapshotVersion);let c;c=$a(e.target)?li(a.ct,e.target):Er(a.ct,e.target)._t;const p=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:ys(e.target),readTime:r,resumeToken:p,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:o,query:c}}function Ec(a){const e=Ra({parent:a.parent,structuredQuery:a.structuredQuery});return"LAST"===a.limitType?ea(e,e.limit,"L"):e}function au(a,e){return new Fu(e.largestBatchId,yn(a.ct,e.overlayMutation))}function vl(a,e){const r=e.path.lastSegment();return[a,Jt(e.path.popLast()),r]}function ap(a,e,r,o){return{indexId:a,uid:e,sequenceNumber:r,readTime:Zo(o.readTime),documentKey:Jt(o.documentKey.path),largestBatchId:o.largestBatchId}}class ro{getBundleMetadata(e,r){return ka(e).get(r).next(o=>{if(o)return{id:(p=o).bundleId,createTime:wc(p.createTime),version:p.version};var p})}saveBundleMetadata(e,r){return ka(e).put({bundleId:(c=r).id,createTime:Zo(no(c.createTime)),version:c.version});var c}getNamedQuery(e,r){return cu(e).get(r).next(o=>{if(o)return{name:(p=o).name,query:Ec(p.bundledQuery),readTime:wc(p.readTime)};var p})}saveNamedQuery(e,r){return cu(e).put({name:(c=r).name,readTime:Zo(no(c.readTime)),bundledQuery:c.bundledQuery});var c}}function ka(a){return ri(a,"bundles")}function cu(a){return ri(a,"namedQueries")}class xc{constructor(e,r){this.serializer=e,this.userId=r}static lt(e,r){return new xc(e,r.uid||"")}getOverlay(e,r){return ba(e).get(vl(this.userId,r)).next(o=>o?au(this.serializer,o):null)}getOverlays(e,r){const o=jo();return O.forEach(r,c=>this.getOverlay(e,c).next(p=>{null!==p&&o.set(c,p)})).next(()=>o)}saveOverlays(e,r,o){const c=[];return o.forEach((p,g)=>{const C=new Fu(r,g);c.push(this.ht(e,C))}),O.waitFor(c)}removeOverlaysForBatchId(e,r,o){const c=new Set;r.forEach(g=>c.add(Jt(g.getCollectionPath())));const p=[];return c.forEach(g=>{const C=IDBKeyRange.bound([this.userId,g,o],[this.userId,g,o+1],!1,!0);p.push(ba(e).j("collectionPathOverlayIndex",C))}),O.waitFor(p)}getOverlaysForCollection(e,r,o){const c=jo(),p=Jt(r),g=IDBKeyRange.bound([this.userId,p,o],[this.userId,p,Number.POSITIVE_INFINITY],!0);return ba(e).U("collectionPathOverlayIndex",g).next(C=>{for(const N of C){const H=au(this.serializer,N);c.set(H.getKey(),H)}return c})}getOverlaysForCollectionGroup(e,r,o,c){const p=jo();let g;const C=IDBKeyRange.bound([this.userId,r,o],[this.userId,r,Number.POSITIVE_INFINITY],!0);return ba(e).J({index:"collectionGroupOverlayIndex",range:C},(N,H,J)=>{const ye=au(this.serializer,H);p.size()<c||ye.largestBatchId===g?(p.set(ye.getKey(),ye),g=ye.largestBatchId):J.done()}).next(()=>p)}ht(e,r){return ba(e).put(function(c,p,g){const[C,N,H]=vl(p,g.mutation.key);return{userId:p,collectionPath:N,documentId:H,collectionGroup:g.mutation.key.getCollectionGroup(),largestBatchId:g.largestBatchId,overlayMutation:xt(c.ct,g.mutation)}}(this.serializer,this.userId,r))}}function ba(a){return ri(a,"documentOverlays")}class O2{Pt(e){return ri(e,"globals")}getSessionToken(e){return this.Pt(e).get("sessionToken").next(r=>{const o=r?.value;return o?Wr.fromUint8Array(o):Wr.EMPTY_BYTE_STRING})}setSessionToken(e,r){return this.Pt(e).put({name:"sessionToken",value:r.toUint8Array()})}}class xs{constructor(){}It(e,r){this.Tt(e,r),r.Et()}Tt(e,r){if("nullValue"in e)this.dt(r,5);else if("booleanValue"in e)this.dt(r,10),r.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(r,15),r.At(Br(e.integerValue));else if("doubleValue"in e){const o=Br(e.doubleValue);isNaN(o)?this.dt(r,13):(this.dt(r,15),sn(o)?r.At(0):r.At(o))}else if("timestampValue"in e){let o=e.timestampValue;this.dt(r,20),"string"==typeof o&&(o=Ii(o)),r.Rt(`${o.seconds||""}`),r.At(o.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,r),this.ft(r);else if("bytesValue"in e)this.dt(r,30),r.gt(zi(e.bytesValue)),this.ft(r);else if("referenceValue"in e)this.yt(e.referenceValue,r);else if("geoPointValue"in e){const o=e.geoPointValue;this.dt(r,45),r.At(o.latitude||0),r.At(o.longitude||0)}else"mapValue"in e?fs(e)?this.dt(r,Number.MAX_SAFE_INTEGER):Vi(e)?this.wt(e.mapValue,r):(this.St(e.mapValue,r),this.ft(r)):"arrayValue"in e?(this.bt(e.arrayValue,r),this.ft(r)):pt()}Vt(e,r){this.dt(r,25),this.Dt(e,r)}Dt(e,r){r.Rt(e)}St(e,r){const o=e.fields||{};this.dt(r,55);for(const c of Object.keys(o))this.Vt(c,r),this.Tt(o[c],r)}wt(e,r){var o,c;const p=e.fields||{};this.dt(r,53);const g="value",C=(null===(c=null===(o=p[g].arrayValue)||void 0===o?void 0:o.values)||void 0===c?void 0:c.length)||0;this.dt(r,15),r.At(Br(C)),this.Vt(g,r),this.Tt(p[g],r)}bt(e,r){const o=e.values||[];this.dt(r,50);for(const c of o)this.Tt(c,r)}yt(e,r){this.dt(r,37),Zt.fromName(e).path.forEach(o=>{this.dt(r,60),this.Dt(o,r)})}dt(e,r){e.At(r)}ft(e){e.At(2)}}function Cs(a){if(0===a)return 8;let e=0;return!(a>>4)&&(e+=4,a<<=4),!(a>>6)&&(e+=2,a<<=2),!(a>>7)&&(e+=1),e}function Lh(a){const e=64-function(o){let c=0;for(let p=0;p<8;++p){const g=Cs(255&o[p]);if(c+=g,8!==g)break}return c}(a);return Math.ceil(e/8)}xs.vt=new xs;class cp{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ct(e){const r=e[Symbol.iterator]();let o=r.next();for(;!o.done;)this.Ft(o.value),o=r.next();this.Mt()}xt(e){const r=e[Symbol.iterator]();let o=r.next();for(;!o.done;)this.Ot(o.value),o=r.next();this.Nt()}Lt(e){for(const r of e){const o=r.charCodeAt(0);if(o<128)this.Ft(o);else if(o<2048)this.Ft(960|o>>>6),this.Ft(128|63&o);else if(r<"\ud800"||"\udbff"<r)this.Ft(480|o>>>12),this.Ft(128|63&o>>>6),this.Ft(128|63&o);else{const c=r.codePointAt(0);this.Ft(240|c>>>18),this.Ft(128|63&c>>>12),this.Ft(128|63&c>>>6),this.Ft(128|63&c)}}this.Mt()}Bt(e){for(const r of e){const o=r.charCodeAt(0);if(o<128)this.Ot(o);else if(o<2048)this.Ot(960|o>>>6),this.Ot(128|63&o);else if(r<"\ud800"||"\udbff"<r)this.Ot(480|o>>>12),this.Ot(128|63&o>>>6),this.Ot(128|63&o);else{const c=r.codePointAt(0);this.Ot(240|c>>>18),this.Ot(128|63&c>>>12),this.Ot(128|63&c>>>6),this.Ot(128|63&c)}}this.Nt()}kt(e){const r=this.qt(e),o=Lh(r);this.Qt(1+o),this.buffer[this.position++]=255&o;for(let c=r.length-o;c<r.length;++c)this.buffer[this.position++]=255&r[c]}Kt(e){const r=this.qt(e),o=Lh(r);this.Qt(1+o),this.buffer[this.position++]=~(255&o);for(let c=r.length-o;c<r.length;++c)this.buffer[this.position++]=~(255&r[c])}$t(){this.Ut(255),this.Ut(255)}Wt(){this.Gt(255),this.Gt(255)}reset(){this.position=0}seed(e){this.Qt(e.length),this.buffer.set(e,this.position),this.position+=e.length}zt(){return this.buffer.slice(0,this.position)}qt(e){const r=function(p){const g=new DataView(new ArrayBuffer(8));return g.setFloat64(0,p,!1),new Uint8Array(g.buffer)}(e),o=0!=(128&r[0]);r[0]^=o?255:128;for(let c=1;c<r.length;++c)r[c]^=o?255:0;return r}Ft(e){const r=255&e;0===r?(this.Ut(0),this.Ut(255)):255===r?(this.Ut(255),this.Ut(0)):this.Ut(r)}Ot(e){const r=255&e;0===r?(this.Gt(0),this.Gt(255)):255===r?(this.Gt(255),this.Gt(0)):this.Gt(e)}Mt(){this.Ut(0),this.Ut(1)}Nt(){this.Gt(0),this.Gt(1)}Ut(e){this.Qt(1),this.buffer[this.position++]=e}Gt(e){this.Qt(1),this.buffer[this.position++]=~e}Qt(e){const r=e+this.position;if(r<=this.buffer.length)return;let o=2*this.buffer.length;o<r&&(o=r);const c=new Uint8Array(o);c.set(this.buffer),this.buffer=c}}class qu{constructor(e){this.jt=e}gt(e){this.jt.Ct(e)}Rt(e){this.jt.Lt(e)}At(e){this.jt.kt(e)}Et(){this.jt.$t()}}class Cc{constructor(e){this.jt=e}gt(e){this.jt.xt(e)}Rt(e){this.jt.Bt(e)}At(e){this.jt.Kt(e)}Et(){this.jt.Wt()}}class _l{constructor(){this.jt=new cp,this.Ht=new qu(this.jt),this.Jt=new Cc(this.jt)}seed(e){this.jt.seed(e)}Yt(e){return 0===e?this.Ht:this.Jt}zt(){return this.jt.zt()}reset(){this.jt.reset()}}class Ho{constructor(e,r,o,c){this.indexId=e,this.documentKey=r,this.arrayValue=o,this.directionalValue=c}Zt(){const e=this.directionalValue.length,r=0===e||255===this.directionalValue[e-1]?e+1:e,o=new Uint8Array(r);return o.set(this.directionalValue,0),r!==e?o.set([0],this.directionalValue.length):++o[o.length-1],new Ho(this.indexId,this.documentKey,this.arrayValue,o)}}function Pa(a,e){let r=a.indexId-e.indexId;return 0!==r?r:(r=Ac(a.arrayValue,e.arrayValue),0!==r?r:(r=Ac(a.directionalValue,e.directionalValue),0!==r?r:Zt.comparator(a.documentKey,e.documentKey)))}function Ac(a,e){for(let r=0;r<a.length&&r<e.length;++r){const o=a[r]-e[r];if(0!==o)return o}return a.length-e.length}class Fh{constructor(e){this.Xt=new dr((r,o)=>on.comparator(r.field,o.field)),this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.en=e.orderBy,this.tn=[];for(const r of e.filters){const o=r;o.isInequality()?this.Xt=this.Xt.add(o):this.tn.push(o)}}get nn(){return this.Xt.size>1}rn(e){if(Ft(e.collectionGroup===this.collectionId),this.nn)return!1;const r=qr(e);if(void 0!==r&&!this.sn(r))return!1;const o=Sr(e);let c=new Set,p=0,g=0;for(;p<o.length&&this.sn(o[p]);++p)c=c.add(o[p].fieldPath.canonicalString());if(p===o.length)return!0;if(this.Xt.size>0){const C=this.Xt.getIterator().getNext();if(!c.has(C.field.canonicalString())){const N=o[p];if(!this.on(C,N)||!this._n(this.en[g++],N))return!1}++p}for(;p<o.length;++p)if(g>=this.en.length||!this._n(this.en[g++],o[p]))return!1;return!0}an(){if(this.nn)return null;let e=new dr(on.comparator);const r=[];for(const o of this.tn)if(!o.field.isKeyField())if("array-contains"===o.op||"array-contains-any"===o.op)r.push(new fr(o.field,2));else{if(e.has(o.field))continue;e=e.add(o.field),r.push(new fr(o.field,0))}for(const o of this.en)o.field.isKeyField()||e.has(o.field)||(e=e.add(o.field),r.push(new fr(o.field,"asc"===o.dir?0:1)));return new Ar(Ar.UNKNOWN_ID,this.collectionId,r,Zr.empty())}sn(e){for(const r of this.tn)if(this.on(r,e))return!0;return!1}on(e,r){return!(void 0===e||!e.field.isEqual(r.fieldPath))&&2===r.kind==("array-contains"===e.op||"array-contains-any"===e.op)}_n(e,r){return!!e.field.isEqual(r.fieldPath)&&(0===r.kind&&"asc"===e.dir||1===r.kind&&"desc"===e.dir)}}function kl(a){var e,r;if(Ft(a instanceof hr||a instanceof or),a instanceof hr){if(a instanceof pa){const c=(null===(r=null===(e=a.value.arrayValue)||void 0===e?void 0:e.values)||void 0===r?void 0:r.map(p=>hr.create(a.field,"==",p)))||[];return or.create(c,"or")}return a}const o=a.filters.map(c=>kl(c));return or.create(o,a.op)}function Bh(a){if(0===a.getFilters().length)return[];const e=oa(kl(a));return Ft(lu(e)),bl(e)||Xo(e)?[e]:e.getFilters()}function bl(a){return a instanceof hr}function Xo(a){return a instanceof or&&ms(a)}function lu(a){return bl(a)||Xo(a)||function(r){if(r instanceof or&&Os(r)){for(const o of r.getFilters())if(!bl(o)&&!Xo(o))return!1;return!0}return!1}(a)}function oa(a){if(Ft(a instanceof hr||a instanceof or),a instanceof hr)return a;if(1===a.filters.length)return oa(a.filters[0]);const e=a.filters.map(o=>oa(o));let r=or.create(e,a.op);return r=Oa(r),lu(r)?r:(Ft(r instanceof or),Ft(Bo(r)),Ft(r.filters.length>1),r.filters.reduce((o,c)=>Ml(o,c)))}function Ml(a,e){let r;return Ft(a instanceof hr||a instanceof or),Ft(e instanceof hr||e instanceof or),r=a instanceof hr?e instanceof hr?or.create([a,e],"and"):$u(a,e):e instanceof hr?$u(e,a):function(c,p){if(Ft(c.filters.length>0&&p.filters.length>0),Bo(c)&&Bo(p))return K(c,p.getFilters());const g=Os(c)?c:p,C=Os(c)?p:c,N=g.filters.map(H=>Ml(H,C));return or.create(N,"or")}(a,e),Oa(r)}function $u(a,e){if(Bo(e))return K(e,a.getFilters());{const r=e.filters.map(o=>Ml(a,o));return or.create(r,"or")}}function Oa(a){if(Ft(a instanceof hr||a instanceof or),a instanceof hr)return a;const e=a.getFilters();if(1===e.length)return Oa(e[0]);if(zc(a))return a;const r=e.map(c=>Oa(c)),o=[];return r.forEach(c=>{c instanceof hr?o.push(c):c instanceof or&&(c.op===a.op?o.push(...c.filters):o.push(c))}),1===o.length?o[0]:or.create(o,a.op)}class wl{constructor(){this.un=new $c}addToCollectionParentIndex(e,r){return this.un.add(r),O.resolve()}getCollectionParents(e,r){return O.resolve(this.un.getEntries(r))}addFieldIndex(e,r){return O.resolve()}deleteFieldIndex(e,r){return O.resolve()}deleteAllFieldIndexes(e){return O.resolve()}createTargetIndexes(e,r){return O.resolve()}getDocumentsMatchingTarget(e,r){return O.resolve(null)}getIndexType(e,r){return O.resolve(0)}getFieldIndexes(e,r){return O.resolve([])}getNextCollectionGroupToUpdate(e){return O.resolve(null)}getMinOffset(e,r){return O.resolve(ar.min())}getMinOffsetFromCollectionGroup(e,r){return O.resolve(ar.min())}updateCollectionGroup(e,r,o){return O.resolve()}updateIndexEntries(e,r){return O.resolve()}}class $c{constructor(){this.index={}}add(e){const r=e.lastSegment(),o=e.popLast(),c=this.index[r]||new dr(Dt.comparator),p=!c.has(o);return this.index[r]=c.add(o),p}has(e){const r=e.lastSegment(),o=e.popLast(),c=this.index[r];return c&&c.has(o)}getEntries(e){return(this.index[e]||new dr(Dt.comparator)).toArray()}}const uu=new Uint8Array(0);class Rd{constructor(e,r){this.databaseId=r,this.cn=new $c,this.ln=new xo(o=>ys(o),(o,c)=>Vs(o,c)),this.uid=e.uid||""}addToCollectionParentIndex(e,r){if(!this.cn.has(r)){const o=r.lastSegment(),c=r.popLast();e.addOnCommittedListener(()=>{this.cn.add(r)});const p={collectionId:o,parent:Jt(c)};return El(e).put(p)}return O.resolve()}getCollectionParents(e,r){const o=[],c=IDBKeyRange.bound([r,""],[st(r),""],!1,!0);return El(e).U(c).next(p=>{for(const g of p){if(g.collectionId!==r)break;o.push(Ye(g.parent))}return o})}addFieldIndex(e,r){const o=xl(e),c={indexId:(C=r).indexId,collectionGroup:C.collectionGroup,fields:C.fields.map(N=>[N.fieldPath.canonicalString(),N.kind])};var C;delete c.indexId;const p=o.add(c);if(r.indexState){const g=Na(e);return p.next(C=>{g.put(ap(C,this.uid,r.indexState.sequenceNumber,r.indexState.offset))})}return p.next()}deleteFieldIndex(e,r){const o=xl(e),c=Na(e),p=ec(e);return o.delete(r.indexId).next(()=>c.delete(IDBKeyRange.bound([r.indexId],[r.indexId+1],!1,!0))).next(()=>p.delete(IDBKeyRange.bound([r.indexId],[r.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const r=xl(e),o=ec(e),c=Na(e);return r.j().next(()=>o.j()).next(()=>c.j())}createTargetIndexes(e,r){return O.forEach(this.hn(r),o=>this.getIndexType(e,o).next(c=>{if(0===c||1===c){const p=new Fh(o).an();if(null!=p)return this.addFieldIndex(e,p)}}))}getDocumentsMatchingTarget(e,r){const o=ec(e);let c=!0;const p=new Map;return O.forEach(this.hn(r),g=>this.Pn(e,g).next(C=>{c&&(c=!!C),p.set(g,C)})).next(()=>{if(c){let g=pr();const C=[];return O.forEach(p,(N,H)=>{var On;we("IndexedDbIndexManager",`Using index ${On=N,`id=${On.indexId}|cg=${On.collectionGroup}|f=${On.fields.map(gr=>`${gr.fieldPath}:${gr.kind}`).join(",")}`} to execute ${ys(r)}`);const J=function(On,gr){const ti=qr(gr);if(void 0===ti)return null;for(const Nr of fa(On,ti.fieldPath))switch(Nr.op){case"array-contains-any":return Nr.value.arrayValue.values||[];case"array-contains":return[Nr.value]}return null}(H,N),ye=function(On,gr){const ti=new Map;for(const Nr of Sr(gr))for(const ot of fa(On,Nr.fieldPath))switch(ot.op){case"==":case"in":ti.set(Nr.fieldPath.canonicalString(),ot.value);break;case"not-in":case"!=":return ti.set(Nr.fieldPath.canonicalString(),ot.value),Array.from(ti.values())}return null}(H,N),He=function(On,gr){const ti=[];let Nr=!0;for(const ot of Sr(gr)){const Be=0===ot.kind?ma(On,ot.fieldPath,On.startAt):ns(On,ot.fieldPath,On.startAt);ti.push(Be.value),Nr&&(Nr=Be.inclusive)}return new mr(ti,Nr)}(H,N),Mt=function(On,gr){const ti=[];let Nr=!0;for(const ot of Sr(gr)){const Be=0===ot.kind?ns(On,ot.fieldPath,On.endAt):ma(On,ot.fieldPath,On.endAt);ti.push(Be.value),Nr&&(Nr=Be.inclusive)}return new mr(ti,Nr)}(H,N),$t=this.In(N,H,He),ln=this.In(N,H,Mt),nn=this.Tn(N,H,ye),Nn=this.En(N.indexId,J,$t,He.inclusive,ln,Mt.inclusive,nn);return O.forEach(Nn,Gn=>o.G(Gn,r.limit).next(On=>{On.forEach(gr=>{const ti=Zt.fromSegments(gr.documentKey);g.has(ti)||(g=g.add(ti),C.push(ti))})}))}).next(()=>C)}return O.resolve(null)})}hn(e){let r=this.ln.get(e);return r||(r=0===e.filters.length?[e]:Bh(or.create(e.filters,"and")).map(o=>qa(e.path,e.collectionGroup,e.orderBy,o.getFilters(),e.limit,e.startAt,e.endAt)),this.ln.set(e,r),r)}En(e,r,o,c,p,g,C){const N=(null!=r?r.length:1)*Math.max(o.length,p.length),H=N/(null!=r?r.length:1),J=[];for(let ye=0;ye<N;++ye){const He=r?this.dn(r[ye/H]):uu,Mt=this.An(e,He,o[ye%H],c),$t=this.Rn(e,He,p[ye%H],g),ln=C.map(nn=>this.An(e,He,nn,!0));J.push(...this.createRange(Mt,$t,ln))}return J}An(e,r,o,c){const p=new Ho(e,Zt.empty(),r,o);return c?p:p.Zt()}Rn(e,r,o,c){const p=new Ho(e,Zt.empty(),r,o);return c?p.Zt():p}Pn(e,r){const o=new Fh(r),c=null!=r.collectionGroup?r.collectionGroup:r.path.lastSegment();return this.getFieldIndexes(e,c).next(p=>{let g=null;for(const C of p)o.rn(C)&&(!g||C.fields.length>g.fields.length)&&(g=C);return g})}getIndexType(e,r){let o=2;const c=this.hn(r);return O.forEach(c,p=>this.Pn(e,p).next(g=>{g?0!==o&&g.fields.length<function(N){let H=new dr(on.comparator),J=!1;for(const ye of N.filters)for(const He of ye.getFlattenedFilters())He.field.isKeyField()||("array-contains"===He.op||"array-contains-any"===He.op?J=!0:H=H.add(He.field));for(const ye of N.orderBy)ye.field.isKeyField()||(H=H.add(ye.field));return H.size+(J?1:0)}(p)&&(o=1):o=0})).next(()=>null!==r.limit&&c.length>1&&2===o?1:o)}Vn(e,r){const o=new _l;for(const c of Sr(e)){const p=r.data.field(c.fieldPath);if(null==p)return null;const g=o.Yt(c.kind);xs.vt.It(p,g)}return o.zt()}dn(e){const r=new _l;return xs.vt.It(e,r.Yt(0)),r.zt()}mn(e,r){const o=new _l;return xs.vt.It(go(this.databaseId,r),o.Yt(function(p){const g=Sr(p);return 0===g.length?0:g[g.length-1].kind}(e))),o.zt()}Tn(e,r,o){if(null===o)return[];let c=[];c.push(new _l);let p=0;for(const g of Sr(e)){const C=o[p++];for(const N of c)if(this.fn(r,g.fieldPath)&&Xi(C))c=this.gn(c,g,C);else{const H=N.Yt(g.kind);xs.vt.It(C,H)}}return this.pn(c)}In(e,r,o){return this.Tn(e,r,o.position)}pn(e){const r=[];for(let o=0;o<e.length;++o)r[o]=e[o].zt();return r}gn(e,r,o){const c=[...e],p=[];for(const g of o.arrayValue.values||[])for(const C of c){const N=new _l;N.seed(C.zt()),xs.vt.It(g,N.Yt(r.kind)),p.push(N)}return p}fn(e,r){return!!e.filters.find(o=>o instanceof hr&&o.field.isEqual(r)&&("in"===o.op||"not-in"===o.op))}getFieldIndexes(e,r){const o=xl(e),c=Na(e);return(r?o.U("collectionGroupIndex",IDBKeyRange.bound(r,r)):o.U()).next(p=>{const g=[];return O.forEach(p,C=>c.get([C.indexId,this.uid]).next(N=>{g.push(function(J,ye){const He=ye?new Zr(ye.sequenceNumber,new ar(wc(ye.readTime),new Zt(Ye(ye.documentKey)),ye.largestBatchId)):Zr.empty(),Mt=J.fields.map(([$t,ln])=>new fr(on.fromServerFormat($t),ln));return new Ar(J.indexId,J.collectionGroup,Mt,He)}(C,N))})).next(()=>g)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(r=>0===r.length?null:(r.sort((o,c)=>{const p=o.indexState.sequenceNumber-c.indexState.sequenceNumber;return 0!==p?p:Fe(o.collectionGroup,c.collectionGroup)}),r[0].collectionGroup))}updateCollectionGroup(e,r,o){const c=xl(e),p=Na(e);return this.yn(e).next(g=>c.U("collectionGroupIndex",IDBKeyRange.bound(r,r)).next(C=>O.forEach(C,N=>p.put(ap(N.indexId,this.uid,g,o)))))}updateIndexEntries(e,r){const o=new Map;return O.forEach(r,(c,p)=>{const g=o.get(c.collectionGroup);return(g?O.resolve(g):this.getFieldIndexes(e,c.collectionGroup)).next(C=>(o.set(c.collectionGroup,C),O.forEach(C,N=>this.wn(e,c,N).next(H=>{const J=this.Sn(p,N);return H.isEqual(J)?O.resolve():this.bn(e,p,N,H,J)}))))})}Dn(e,r,o,c){return ec(e).put({indexId:c.indexId,uid:this.uid,arrayValue:c.arrayValue,directionalValue:c.directionalValue,orderedDocumentKey:this.mn(o,r.key),documentKey:r.key.path.toArray()})}vn(e,r,o,c){return ec(e).delete([c.indexId,this.uid,c.arrayValue,c.directionalValue,this.mn(o,r.key),r.key.path.toArray()])}wn(e,r,o){const c=ec(e);let p=new dr(Pa);return c.J({index:"documentKeyIndex",range:IDBKeyRange.only([o.indexId,this.uid,this.mn(o,r)])},(g,C)=>{p=p.add(new Ho(o.indexId,r,C.arrayValue,C.directionalValue))}).next(()=>p)}Sn(e,r){let o=new dr(Pa);const c=this.Vn(r,e);if(null==c)return o;const p=qr(r);if(null!=p){const g=e.data.field(p.fieldPath);if(Xi(g))for(const C of g.arrayValue.values||[])o=o.add(new Ho(r.indexId,e.key,this.dn(C),c))}else o=o.add(new Ho(r.indexId,e.key,uu,c));return o}bn(e,r,o,c,p){we("IndexedDbIndexManager","Updating index entries for document '%s'",r.key);const g=[];return function(N,H,J,ye,He){const Mt=N.getIterator(),$t=H.getIterator();let ln=$r(Mt),nn=$r($t);for(;ln||nn;){let Nn=!1,Gn=!1;if(ln&&nn){const On=J(ln,nn);On<0?Gn=!0:On>0&&(Nn=!0)}else null!=ln?Gn=!0:Nn=!0;Nn?(ye(nn),nn=$r($t)):Gn?(He(ln),ln=$r(Mt)):(ln=$r(Mt),nn=$r($t))}}(c,p,Pa,C=>{g.push(this.Dn(e,r,o,C))},C=>{g.push(this.vn(e,r,o,C))}),O.waitFor(g)}yn(e){let r=1;return Na(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(o,c,p)=>{p.done(),r=c.sequenceNumber+1}).next(()=>r)}createRange(e,r,o){o=o.sort((g,C)=>Pa(g,C)).filter((g,C,N)=>!C||0!==Pa(g,N[C-1]));const c=[];c.push(e);for(const g of o){const C=Pa(g,e),N=Pa(g,r);if(0===C)c[0]=e.Zt();else if(C>0&&N<0)c.push(g),c.push(g.Zt());else if(N>0)break}c.push(r);const p=[];for(let g=0;g<c.length;g+=2){if(this.Cn(c[g],c[g+1]))return[];p.push(IDBKeyRange.bound([c[g].indexId,this.uid,c[g].arrayValue,c[g].directionalValue,uu,[]],[c[g+1].indexId,this.uid,c[g+1].arrayValue,c[g+1].directionalValue,uu,[]]))}return p}Cn(e,r){return Pa(e,r)>0}getMinOffsetFromCollectionGroup(e,r){return this.getFieldIndexes(e,r).next(Us)}getMinOffset(e,r){return O.mapArray(this.hn(r),o=>this.Pn(e,o).next(c=>c||pt())).next(Us)}}function El(a){return ri(a,"collectionParents")}function ec(a){return ri(a,"indexEntries")}function xl(a){return ri(a,"indexConfiguration")}function Na(a){return ri(a,"indexState")}function Us(a){Ft(0!==a.length);let e=a[0].indexState.offset,r=e.largestBatchId;for(let o=1;o<a.length;o++){const c=a[o].indexState.offset;hi(c,e)<0&&(e=c),r<c.largestBatchId&&(r=c.largestBatchId)}return new ar(e.readTime,e.documentKey,r)}const Pd={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Io{constructor(e,r,o){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=o}static withCacheSize(e){return new Io(e,Io.DEFAULT_COLLECTION_PERCENTILE,Io.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Wc(a,e,r){const o=a.store("mutations"),c=a.store("documentMutations"),p=[],g=IDBKeyRange.only(r.batchId);let C=0;const N=o.J({range:g},(J,ye,He)=>(C++,He.delete()));p.push(N.next(()=>{Ft(1===C)}));const H=[];for(const J of r.mutations){const ye=In(e,J.key.path,r.batchId);p.push(c.delete(ye)),H.push(J.key)}return O.waitFor(p).next(()=>H)}function Gc(a){if(!a)return 0;let e;if(a.document)e=a.document;else if(a.unknownDocument)e=a.unknownDocument;else{if(!a.noDocument)throw pt();e=a.noDocument}return JSON.stringify(e).length}Io.DEFAULT_COLLECTION_PERCENTILE=10,Io.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Io.DEFAULT=new Io(41943040,Io.DEFAULT_COLLECTION_PERCENTILE,Io.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Io.DISABLED=new Io(-1,0,0);class Wu{constructor(e,r,o,c){this.userId=e,this.serializer=r,this.indexManager=o,this.referenceDelegate=c,this.Fn={}}static lt(e,r,o,c){Ft(""!==e.uid);const p=e.isAuthenticated()?e.uid:"";return new Wu(p,r,o,c)}checkEmpty(e){let r=!0;const o=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Kc(e).J({index:"userMutationsIndex",range:o},(c,p,g)=>{r=!1,g.done()}).next(()=>r)}addMutationBatch(e,r,o,c){const p=tc(e),g=Kc(e);return g.add({}).next(C=>{Ft("number"==typeof C);const N=new uo(C,r,o,c),H=function(Mt,$t,ln){const nn=ln.baseMutations.map(Gn=>xt(Mt.ct,Gn)),Nn=ln.mutations.map(Gn=>xt(Mt.ct,Gn));return{userId:$t,batchId:ln.batchId,localWriteTimeMs:ln.localWriteTime.toMillis(),baseMutations:nn,mutations:Nn}}(this.serializer,this.userId,N),J=[];let ye=new dr((He,Mt)=>Fe(He.canonicalString(),Mt.canonicalString()));for(const He of c){const Mt=In(this.userId,He.key.path,C);ye=ye.add(He.key.path.popLast()),J.push(g.put(H)),J.push(p.put(Mt,mn))}return ye.forEach(He=>{J.push(this.indexManager.addToCollectionParentIndex(e,He))}),e.addOnCommittedListener(()=>{this.Fn[C]=N.keys()}),O.waitFor(J).next(()=>N)})}lookupMutationBatch(e,r){return Kc(e).get(r).next(o=>o?(Ft(o.userId===this.userId),Es(this.serializer,o)):null)}Mn(e,r){return this.Fn[r]?O.resolve(this.Fn[r]):this.lookupMutationBatch(e,r).next(o=>{if(o){const c=o.keys();return this.Fn[r]=c,c}return null})}getNextMutationBatchAfterBatchId(e,r){const o=r+1,c=IDBKeyRange.lowerBound([this.userId,o]);let p=null;return Kc(e).J({index:"userMutationsIndex",range:c},(g,C,N)=>{C.userId===this.userId&&(Ft(C.batchId>=o),p=Es(this.serializer,C)),N.done()}).next(()=>p)}getHighestUnacknowledgedBatchId(e){const r=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let o=-1;return Kc(e).J({index:"userMutationsIndex",range:r,reverse:!0},(c,p,g)=>{o=p.batchId,g.done()}).next(()=>o)}getAllMutationBatches(e){const r=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Kc(e).U("userMutationsIndex",r).next(o=>o.map(c=>Es(this.serializer,c)))}getAllMutationBatchesAffectingDocumentKey(e,r){const o=tn(this.userId,r.path),c=IDBKeyRange.lowerBound(o),p=[];return tc(e).J({range:c},(g,C,N)=>{const[H,J,ye]=g,He=Ye(J);if(H===this.userId&&r.path.isEqual(He))return Kc(e).get(ye).next(Mt=>{if(!Mt)throw pt();Ft(Mt.userId===this.userId),p.push(Es(this.serializer,Mt))});N.done()}).next(()=>p)}getAllMutationBatchesAffectingDocumentKeys(e,r){let o=new dr(Fe);const c=[];return r.forEach(p=>{const g=tn(this.userId,p.path),C=IDBKeyRange.lowerBound(g),N=tc(e).J({range:C},(H,J,ye)=>{const[He,Mt,$t]=H,ln=Ye(Mt);He===this.userId&&p.path.isEqual(ln)?o=o.add($t):ye.done()});c.push(N)}),O.waitFor(c).next(()=>this.xn(e,o))}getAllMutationBatchesAffectingQuery(e,r){const o=r.path,c=o.length+1,p=tn(this.userId,o),g=IDBKeyRange.lowerBound(p);let C=new dr(Fe);return tc(e).J({range:g},(N,H,J)=>{const[ye,He,Mt]=N,$t=Ye(He);ye===this.userId&&o.isPrefixOf($t)?$t.length===c&&(C=C.add(Mt)):J.done()}).next(()=>this.xn(e,C))}xn(e,r){const o=[],c=[];return r.forEach(p=>{c.push(Kc(e).get(p).next(g=>{if(null===g)throw pt();Ft(g.userId===this.userId),o.push(Es(this.serializer,g))}))}),O.waitFor(c).next(()=>o)}removeMutationBatch(e,r){return Wc(e._e,this.userId,r).next(o=>(e.addOnCommittedListener(()=>{this.On(r.batchId)}),O.forEach(o,c=>this.referenceDelegate.markPotentiallyOrphaned(e,c))))}On(e){delete this.Fn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(r=>{if(!r)return O.resolve();const o=IDBKeyRange.lowerBound([this.userId]),c=[];return tc(e).J({range:o},(p,g,C)=>{if(p[0]===this.userId){const N=Ye(p[1]);c.push(N)}else C.done()}).next(()=>{Ft(0===c.length)})})}containsKey(e,r){return Vo(e,this.userId,r)}Nn(e){return du(e).get(this.userId).next(r=>r||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Vo(a,e,r){const o=tn(e,r.path),c=o[1],p=IDBKeyRange.lowerBound(o);let g=!1;return tc(a).J({range:p,H:!0},(C,N,H)=>{const[J,ye,He]=C;J===e&&ye===c&&(g=!0),H.done()}).next(()=>g)}function Kc(a){return ri(a,"mutations")}function tc(a){return ri(a,"documentMutations")}function du(a){return ri(a,"mutationQueues")}class nc{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new nc(0)}static kn(){return new nc(-1)}}class Od{constructor(e,r){this.referenceDelegate=e,this.serializer=r}allocateTargetId(e){return this.qn(e).next(r=>{const o=new nc(r.highestTargetId);return r.highestTargetId=o.next(),this.Qn(e,r).next(()=>r.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.qn(e).next(r=>ut.fromTimestamp(new it(r.lastRemoteSnapshotVersion.seconds,r.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.qn(e).next(r=>r.highestListenSequenceNumber)}setTargetsMetadata(e,r,o){return this.qn(e).next(c=>(c.highestListenSequenceNumber=r,o&&(c.lastRemoteSnapshotVersion=o.toTimestamp()),r>c.highestListenSequenceNumber&&(c.highestListenSequenceNumber=r),this.Qn(e,c)))}addTargetData(e,r){return this.Kn(e,r).next(()=>this.qn(e).next(o=>(o.targetCount+=1,this.$n(r,o),this.Qn(e,o))))}updateTargetData(e,r){return this.Kn(e,r)}removeTargetData(e,r){return this.removeMatchingKeysForTargetId(e,r.targetId).next(()=>Va(e).delete(r.targetId)).next(()=>this.qn(e)).next(o=>(Ft(o.targetCount>0),o.targetCount-=1,this.Qn(e,o)))}removeTargets(e,r,o){let c=0;const p=[];return Va(e).J((g,C)=>{const N=zs(C);N.sequenceNumber<=r&&null===o.get(N.targetId)&&(c++,p.push(this.removeTargetData(e,N)))}).next(()=>O.waitFor(p)).next(()=>c)}forEachTarget(e,r){return Va(e).J((o,c)=>{const p=zs(c);r(p)})}qn(e){return Qc(e).get("targetGlobalKey").next(r=>(Ft(null!==r),r))}Qn(e,r){return Qc(e).put("targetGlobalKey",r)}Kn(e,r){return Va(e).put(su(this.serializer,r))}$n(e,r){let o=!1;return e.targetId>r.highestTargetId&&(r.highestTargetId=e.targetId,o=!0),e.sequenceNumber>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e.sequenceNumber,o=!0),o}getTargetCount(e){return this.qn(e).next(r=>r.targetCount)}getTargetData(e,r){const o=ys(r),c=IDBKeyRange.bound([o,Number.NEGATIVE_INFINITY],[o,Number.POSITIVE_INFINITY]);let p=null;return Va(e).J({range:c,index:"queryTargetsIndex"},(g,C,N)=>{const H=zs(C);Vs(r,H.target)&&(p=H,N.done())}).next(()=>p)}addMatchingKeys(e,r,o){const c=[],p=Hs(e);return r.forEach(g=>{const C=Jt(g.path);c.push(p.put({targetId:o,path:C})),c.push(this.referenceDelegate.addReference(e,o,g))}),O.waitFor(c)}removeMatchingKeys(e,r,o){const c=Hs(e);return O.forEach(r,p=>{const g=Jt(p.path);return O.waitFor([c.delete([o,g]),this.referenceDelegate.removeReference(e,o,p)])})}removeMatchingKeysForTargetId(e,r){const o=Hs(e),c=IDBKeyRange.bound([r],[r+1],!1,!0);return o.delete(c)}getMatchingKeysForTargetId(e,r){const o=IDBKeyRange.bound([r],[r+1],!1,!0),c=Hs(e);let p=pr();return c.J({range:o,H:!0},(g,C,N)=>{const H=Ye(g[1]),J=new Zt(H);p=p.add(J)}).next(()=>p)}containsKey(e,r){const o=Jt(r.path),c=IDBKeyRange.bound([o],[st(o)],!1,!0);let p=0;return Hs(e).J({index:"documentTargetsIndex",H:!0,range:c},([g,C],N,H)=>{0!==g&&(p++,H.done())}).next(()=>p>0)}ot(e,r){return Va(e).get(r).next(o=>o?zs(o):null)}}function Va(a){return ri(a,"targets")}function Qc(a){return ri(a,"targetGlobal")}function Hs(a){return ri(a,"targetDocuments")}function Ic([a,e],[r,o]){const c=Fe(a,r);return 0===c?Fe(e,o):c}class Gu{constructor(e){this.Un=e,this.buffer=new dr(Ic),this.Wn=0}Gn(){return++this.Wn}zn(e){const r=[e,this.Gn()];if(this.buffer.size<this.Un)this.buffer=this.buffer.add(r);else{const o=this.buffer.last();Ic(r,o)<0&&(this.buffer=this.buffer.delete(o).add(r))}}get maxValue(){return this.buffer.last()[0]}}class hu{constructor(e,r,o){this.garbageCollector=e,this.asyncQueue=r,this.localStore=o,this.jn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Hn(6e4)}stop(){this.jn&&(this.jn.cancel(),this.jn=null)}get started(){return null!==this.jn}Hn(e){var r=this;we("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,ue.A)(function*(){r.jn=null;try{yield r.localStore.collectGarbage(r.garbageCollector)}catch(o){Ce(o)?we("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",o):yield P(o)}yield r.Hn(3e5)}))}}class Cl{constructor(e,r){this.Jn=e,this.params=r}calculateTargetCount(e,r){return this.Jn.Yn(e).next(o=>Math.floor(r/100*o))}nthSequenceNumber(e,r){if(0===r)return O.resolve(Ht.oe);const o=new Gu(r);return this.Jn.forEachTarget(e,c=>o.zn(c.sequenceNumber)).next(()=>this.Jn.Zn(e,c=>o.zn(c))).next(()=>o.maxValue)}removeTargets(e,r,o){return this.Jn.removeTargets(e,r,o)}removeOrphanedDocuments(e,r){return this.Jn.removeOrphanedDocuments(e,r)}collect(e,r){return-1===this.params.cacheSizeCollectionThreshold?(we("LruGarbageCollector","Garbage collection skipped; disabled"),O.resolve(Pd)):this.getCacheSize(e).next(o=>o<this.params.cacheSizeCollectionThreshold?(we("LruGarbageCollector",`Garbage collection skipped; Cache size ${o} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Pd):this.Xn(e,r))}getCacheSize(e){return this.Jn.getCacheSize(e)}Xn(e,r){let o,c,p,g,C,N,H;const J=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(ye=>(ye>this.params.maximumSequenceNumbersToCollect?(we("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${ye}`),c=this.params.maximumSequenceNumbersToCollect):c=ye,g=Date.now(),this.nthSequenceNumber(e,c))).next(ye=>(o=ye,C=Date.now(),this.removeTargets(e,o,r))).next(ye=>(p=ye,N=Date.now(),this.removeOrphanedDocuments(e,o))).next(ye=>(H=Date.now(),Le()<=Ot.$b.DEBUG&&we("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${g-J}ms\n\tDetermined least recently used ${c} in `+(C-g)+`ms\n\tRemoved ${p} targets in `+(N-C)+`ms\n\tRemoved ${ye} documents in `+(H-N)+`ms\nTotal Duration: ${H-J}ms`),O.resolve({didRun:!0,sequenceNumbersCollected:c,targetsRemoved:p,documentsRemoved:ye})))}}function Nd(a,e){return new Cl(a,e)}class jh{constructor(e,r){this.db=e,this.garbageCollector=Nd(this,r)}Yn(e){const r=this.er(e);return this.db.getTargetCache().getTargetCount(e).next(o=>r.next(c=>o+c))}er(e){let r=0;return this.Zn(e,o=>{r++}).next(()=>r)}forEachTarget(e,r){return this.db.getTargetCache().forEachTarget(e,r)}Zn(e,r){return this.tr(e,(o,c)=>r(c))}addReference(e,r,o){return Ku(e,o)}removeReference(e,r,o){return Ku(e,o)}removeTargets(e,r,o){return this.db.getTargetCache().removeTargets(e,r,o)}markPotentiallyOrphaned(e,r){return Ku(e,r)}nr(e,r){return function(c,p){let g=!1;return du(c).Y(C=>Vo(c,C,p).next(N=>(N&&(g=!0),O.resolve(!N)))).next(()=>g)}(e,r)}removeOrphanedDocuments(e,r){const o=this.db.getRemoteDocumentCache().newChangeBuffer(),c=[];let p=0;return this.tr(e,(g,C)=>{if(C<=r){const N=this.nr(e,g).next(H=>{if(!H)return p++,o.getEntry(e,g).next(()=>(o.removeEntry(g,ut.min()),Hs(e).delete([0,Jt(g.path)])))});c.push(N)}}).next(()=>O.waitFor(c)).next(()=>o.apply(e)).next(()=>p)}removeTarget(e,r){const o=r.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,o)}updateLimboDocument(e,r){return Ku(e,r)}tr(e,r){const o=Hs(e);let c,p=Ht.oe;return o.J({index:"documentTargetsIndex"},([g,C],{path:N,sequenceNumber:H})=>{0===g?(p!==Ht.oe&&r(new Zt(Ye(c)),p),p=H,c=N):p=Ht.oe}).next(()=>{p!==Ht.oe&&r(new Zt(Ye(c)),p)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Ku(a,e){return Hs(a).put((c=a.currentSequenceNumber,{targetId:0,path:Jt(e.path),sequenceNumber:c}));var c}class Qu{constructor(){this.changes=new xo(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,Ur.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const o=this.changes.get(r);return void 0!==o?O.resolve(o):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Zu{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,r,o){return qs(e).put(o)}removeEntry(e,r,o){return qs(e).delete(function(p,g){const C=p.path.toArray();return[C.slice(0,C.length-2),C[C.length-2],Ja(g),C[C.length-1]]}(r,o))}updateMetadata(e,r){return this.getMetadata(e).next(o=>(o.byteSize+=r,this.rr(e,o)))}getEntry(e,r){let o=Ur.newInvalidDocument(r);return qs(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(rc(r))},(c,p)=>{o=this.ir(r,p)}).next(()=>o)}sr(e,r){let o={size:0,document:Ur.newInvalidDocument(r)};return qs(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(rc(r))},(c,p)=>{o={document:this.ir(r,p),size:Gc(p)}}).next(()=>o)}getEntries(e,r){let o=co();return this._r(e,r,(c,p)=>{const g=this.ir(c,p);o=o.insert(c,g)}).next(()=>o)}ar(e,r){let o=co(),c=new Fr(Zt.comparator);return this._r(e,r,(p,g)=>{const C=this.ir(p,g);o=o.insert(p,C),c=c.insert(p,Gc(g))}).next(()=>({documents:o,ur:c}))}_r(e,r,o){if(r.isEmpty())return O.resolve();let c=new dr(po);r.forEach(N=>c=c.add(N));const p=IDBKeyRange.bound(rc(c.first()),rc(c.last())),g=c.getIterator();let C=g.getNext();return qs(e).J({index:"documentKeyIndex",range:p},(N,H,J)=>{const ye=Zt.fromSegments([...H.prefixPath,H.collectionGroup,H.documentId]);for(;C&&po(C,ye)<0;)o(C,null),C=g.getNext();C&&C.isEqual(ye)&&(o(C,H),C=g.hasNext()?g.getNext():null),C?J.$(rc(C)):J.done()}).next(()=>{for(;C;)o(C,null),C=g.hasNext()?g.getNext():null})}getDocumentsMatchingQuery(e,r,o,c,p){const g=r.path,C=[g.popLast().toArray(),g.lastSegment(),Ja(o.readTime),o.documentKey.path.isEmpty()?"":o.documentKey.path.lastSegment()],N=[g.popLast().toArray(),g.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return qs(e).U(IDBKeyRange.bound(C,N,!0)).next(H=>{p?.incrementDocumentReadCount(H.length);let J=co();for(const ye of H){const He=this.ir(Zt.fromSegments(ye.prefixPath.concat(ye.collectionGroup,ye.documentId)),ye);He.isFoundDocument()&&(Fs(r,He)||c.has(He.key))&&(J=J.insert(He.key,He))}return J})}getAllFromCollectionGroup(e,r,o,c){let p=co();const g=Vd(r,o),C=Vd(r,ar.max());return qs(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(g,C,!0)},(N,H,J)=>{const ye=this.ir(Zt.fromSegments(H.prefixPath.concat(H.collectionGroup,H.documentId)),H);p=p.insert(ye.key,ye),p.size===c&&J.done()}).next(()=>p)}newChangeBuffer(e){return new Ef(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(r=>r.byteSize)}getMetadata(e){return pu(e).get("remoteDocumentGlobalKey").next(r=>(Ft(!!r),r))}rr(e,r){return pu(e).put("remoteDocumentGlobalKey",r)}ir(e,r){if(r){const o=function Sd(a,e){let r;if(e.document)r=ne(a.ct,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const o=Zt.fromSegments(e.noDocument.path),c=wc(e.noDocument.readTime);r=Ur.newNoDocument(o,c),e.hasCommittedMutations&&r.setHasCommittedMutations()}else{if(!e.unknownDocument)return pt();{const o=Zt.fromSegments(e.unknownDocument.path),c=wc(e.unknownDocument.version);r=Ur.newUnknownDocument(o,c)}}return e.readTime&&r.setReadTime(function(c){const p=new it(c[0],c[1]);return ut.fromTimestamp(p)}(e.readTime)),r}(this.serializer,r);if(!o.isNoDocument()||!o.version.isEqual(ut.min()))return o}return Ur.newInvalidDocument(e)}}function zh(a){return new Zu(a)}class Ef extends Qu{constructor(e,r){super(),this.cr=e,this.trackRemovals=r,this.lr=new xo(o=>o.toString(),(o,c)=>o.isEqual(c))}applyChanges(e){const r=[];let o=0,c=new dr((p,g)=>Fe(p.canonicalString(),g.canonicalString()));return this.changes.forEach((p,g)=>{const C=this.lr.get(p);if(r.push(this.cr.removeEntry(e,p,C.readTime)),g.isValidDocument()){const N=Hu(this.cr.serializer,g);c=c.add(p.path.popLast());const H=Gc(N);o+=H-C.size,r.push(this.cr.addEntry(e,p,N))}else if(o-=C.size,this.trackRemovals){const N=Hu(this.cr.serializer,g.convertToNoDocument(ut.min()));r.push(this.cr.addEntry(e,p,N))}}),c.forEach(p=>{r.push(this.cr.indexManager.addToCollectionParentIndex(e,p))}),r.push(this.cr.updateMetadata(e,o)),O.waitFor(r)}getFromCache(e,r){return this.cr.sr(e,r).next(o=>(this.lr.set(r,{size:o.size,readTime:o.document.readTime}),o.document))}getAllFromCache(e,r){return this.cr.ar(e,r).next(({documents:o,ur:c})=>(c.forEach((p,g)=>{this.lr.set(p,{size:g,readTime:o.get(p).readTime})}),o))}}function pu(a){return ri(a,"remoteDocumentGlobal")}function qs(a){return ri(a,"remoteDocumentsV14")}function rc(a){const e=a.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function Vd(a,e){const r=e.documentKey.path.toArray();return[a,Ja(e.readTime),r.slice(0,r.length-2),r.length>0?r[r.length-1]:""]}function po(a,e){const r=a.path.toArray(),o=e.path.toArray();let c=0;for(let p=0;p<r.length-2&&p<o.length-2;++p)if(c=Fe(r[p],o[p]),c)return c;return c=Fe(r.length,o.length),c||(c=Fe(r[r.length-2],o[o.length-2]),c||Fe(r[r.length-1],o[o.length-1]))}class Uh{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}class Zc{constructor(e,r,o,c){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=o,this.indexManager=c}getDocument(e,r){let o=null;return this.documentOverlayCache.getOverlay(e,r).next(c=>(o=c,this.remoteDocumentCache.getEntry(e,r))).next(c=>(null!==o&&yi(o.mutation,c,Ir.empty(),it.now()),c))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next(o=>this.getLocalViewOfDocuments(e,o,pr()).next(()=>o))}getLocalViewOfDocuments(e,r,o=pr()){const c=jo();return this.populateOverlays(e,c,r).next(()=>this.computeViews(e,r,c,o).next(p=>{let g=Ia();return p.forEach((C,N)=>{g=g.insert(C,N.overlayedDocument)}),g}))}getOverlayedDocuments(e,r){const o=jo();return this.populateOverlays(e,o,r).next(()=>this.computeViews(e,r,o,pr()))}populateOverlays(e,r,o){const c=[];return o.forEach(p=>{r.has(p)||c.push(p)}),this.documentOverlayCache.getOverlays(e,c).next(p=>{p.forEach((g,C)=>{r.set(g,C)})})}computeViews(e,r,o,c){let p=co();const g=Ka(),C=Ka();return r.forEach((N,H)=>{const J=o.get(H.key);c.has(H.key)&&(void 0===J||J.mutation instanceof os)?p=p.insert(H.key,H):void 0!==J?(g.set(H.key,J.mutation.getFieldMask()),yi(J.mutation,H,J.mutation.getFieldMask(),it.now())):g.set(H.key,Ir.empty())}),this.recalculateAndSaveOverlays(e,p).next(N=>(N.forEach((H,J)=>g.set(H,J)),r.forEach((H,J)=>{var ye;return C.set(H,new Uh(J,null!==(ye=g.get(H))&&void 0!==ye?ye:null))}),C))}recalculateAndSaveOverlays(e,r){const o=Ka();let c=new Fr((g,C)=>g-C),p=pr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next(g=>{for(const C of g)C.keys().forEach(N=>{const H=r.get(N);if(null===H)return;let J=o.get(N)||Ir.empty();J=C.applyToLocalView(H,J),o.set(N,J);const ye=(c.get(C.batchId)||pr()).add(N);c=c.insert(C.batchId,ye)})}).next(()=>{const g=[],C=c.getReverseIterator();for(;C.hasNext();){const N=C.getNext(),H=N.key,J=N.value,ye=ru();J.forEach(He=>{if(!p.has(He)){const Mt=_s(r.get(He),o.get(He));null!==Mt&&ye.set(He,Mt),p=p.add(He)}}),g.push(this.documentOverlayCache.saveOverlays(e,H,ye))}return O.waitFor(g)}).next(()=>o)}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next(o=>this.recalculateAndSaveOverlays(e,o))}getDocumentsMatchingQuery(e,r,o,c){return Zt.isDocumentKey((g=r).path)&&null===g.collectionGroup&&0===g.filters.length?this.getDocumentsMatchingDocumentQuery(e,r.path):gs(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,o,c):this.getDocumentsMatchingCollectionQuery(e,r,o,c);var g}getNextDocuments(e,r,o,c){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,o,c).next(p=>{const g=c-p.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,o.largestBatchId,c-p.size):O.resolve(jo());let C=-1,N=p;return g.next(H=>O.forEach(H,(J,ye)=>(C<ye.largestBatchId&&(C=ye.largestBatchId),p.get(J)?O.resolve():this.remoteDocumentCache.getEntry(e,J).next(He=>{N=N.insert(J,He)}))).next(()=>this.populateOverlays(e,H,p)).next(()=>this.computeViews(e,N,H,pr())).next(J=>({batchId:C,changes:Vu(J)})))})}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new Zt(r)).next(o=>{let c=Ia();return o.isFoundDocument()&&(c=c.insert(o.key,o)),c})}getDocumentsMatchingCollectionGroupQuery(e,r,o,c){const p=r.collectionGroup;let g=Ia();return this.indexManager.getCollectionParents(e,p).next(C=>O.forEach(C,N=>{const H=(ye=r,He=N.child(p),new mi(He,null,ye.explicitOrderBy.slice(),ye.filters.slice(),ye.limit,ye.limitType,ye.startAt,ye.endAt));var ye,He;return this.getDocumentsMatchingCollectionQuery(e,H,o,c).next(J=>{J.forEach((ye,He)=>{g=g.insert(ye,He)})})}).next(()=>g))}getDocumentsMatchingCollectionQuery(e,r,o,c){let p;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,o.largestBatchId).next(g=>(p=g,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,o,p,c))).next(g=>{p.forEach((N,H)=>{const J=H.getKey();null===g.get(J)&&(g=g.insert(J,Ur.newInvalidDocument(J)))});let C=Ia();return g.forEach((N,H)=>{const J=p.get(N);void 0!==J&&yi(J.mutation,H,Ir.empty(),it.now()),Fs(r,H)&&(C=C.insert(N,H))}),C})}}class lp{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,r){return O.resolve(this.hr.get(r))}saveBundleMetadata(e,r){return this.hr.set(r.id,{id:(c=r).id,version:c.version,createTime:no(c.createTime)}),O.resolve();var c}getNamedQuery(e,r){return O.resolve(this.Pr.get(r))}saveNamedQuery(e,r){return this.Pr.set(r.name,{name:(c=r).name,query:Ec(c.bundledQuery),readTime:no(c.readTime)}),O.resolve();var c}}class sa{constructor(){this.overlays=new Fr(Zt.comparator),this.Ir=new Map}getOverlay(e,r){return O.resolve(this.overlays.get(r))}getOverlays(e,r){const o=jo();return O.forEach(r,c=>this.getOverlay(e,c).next(p=>{null!==p&&o.set(c,p)})).next(()=>o)}saveOverlays(e,r,o){return o.forEach((c,p)=>{this.ht(e,r,p)}),O.resolve()}removeOverlaysForBatchId(e,r,o){const c=this.Ir.get(o);return void 0!==c&&(c.forEach(p=>this.overlays=this.overlays.remove(p)),this.Ir.delete(o)),O.resolve()}getOverlaysForCollection(e,r,o){const c=jo(),p=r.length+1,g=new Zt(r.child("")),C=this.overlays.getIteratorFrom(g);for(;C.hasNext();){const N=C.getNext().value,H=N.getKey();if(!r.isPrefixOf(H.path))break;H.path.length===p&&N.largestBatchId>o&&c.set(N.getKey(),N)}return O.resolve(c)}getOverlaysForCollectionGroup(e,r,o,c){let p=new Fr((H,J)=>H-J);const g=this.overlays.getIterator();for(;g.hasNext();){const H=g.getNext().value;if(H.getKey().getCollectionGroup()===r&&H.largestBatchId>o){let J=p.get(H.largestBatchId);null===J&&(J=jo(),p=p.insert(H.largestBatchId,J)),J.set(H.getKey(),H)}}const C=jo(),N=p.getIterator();for(;N.hasNext()&&(N.getNext().value.forEach((H,J)=>C.set(H,J)),!(C.size()>=c)););return O.resolve(C)}ht(e,r,o){const c=this.overlays.get(o.key);if(null!==c){const g=this.Ir.get(c.largestBatchId).delete(o.key);this.Ir.set(c.largestBatchId,g)}this.overlays=this.overlays.insert(o.key,new Fu(r,o));let p=this.Ir.get(r);void 0===p&&(p=pr(),this.Ir.set(r,p)),this.Ir.set(r,p.add(o.key))}}class Al{constructor(){this.sessionToken=Wr.EMPTY_BYTE_STRING}getSessionToken(e){return O.resolve(this.sessionToken)}setSessionToken(e,r){return this.sessionToken=r,O.resolve()}}class Xu{constructor(){this.Tr=new dr(Wi.Er),this.dr=new dr(Wi.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,r){const o=new Wi(e,r);this.Tr=this.Tr.add(o),this.dr=this.dr.add(o)}Rr(e,r){e.forEach(o=>this.addReference(o,r))}removeReference(e,r){this.Vr(new Wi(e,r))}mr(e,r){e.forEach(o=>this.removeReference(o,r))}gr(e){const r=new Zt(new Dt([])),o=new Wi(r,e),c=new Wi(r,e+1),p=[];return this.dr.forEachInRange([o,c],g=>{this.Vr(g),p.push(g.key)}),p}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const r=new Zt(new Dt([])),o=new Wi(r,e),c=new Wi(r,e+1);let p=pr();return this.dr.forEachInRange([o,c],g=>{p=p.add(g.key)}),p}containsKey(e){const r=new Wi(e,0),o=this.Tr.firstAfterOrEqual(r);return null!==o&&e.isEqual(o.key)}}class Wi{constructor(e,r){this.key=e,this.wr=r}static Er(e,r){return Zt.comparator(e.key,r.key)||Fe(e.wr,r.wr)}static Ar(e,r){return Fe(e.wr,r.wr)||Zt.comparator(e.key,r.key)}}class fu{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.Sr=1,this.br=new dr(Wi.Er)}checkEmpty(e){return O.resolve(0===this.mutationQueue.length)}addMutationBatch(e,r,o,c){const p=this.Sr;this.Sr++;const g=new uo(p,r,o,c);this.mutationQueue.push(g);for(const C of c)this.br=this.br.add(new Wi(C.key,p)),this.indexManager.addToCollectionParentIndex(e,C.key.path.popLast());return O.resolve(g)}lookupMutationBatch(e,r){return O.resolve(this.Dr(r))}getNextMutationBatchAfterBatchId(e,r){const c=this.vr(r+1),p=c<0?0:c;return O.resolve(this.mutationQueue.length>p?this.mutationQueue[p]:null)}getHighestUnacknowledgedBatchId(){return O.resolve(0===this.mutationQueue.length?-1:this.Sr-1)}getAllMutationBatches(e){return O.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const o=new Wi(r,0),c=new Wi(r,Number.POSITIVE_INFINITY),p=[];return this.br.forEachInRange([o,c],g=>{const C=this.Dr(g.wr);p.push(C)}),O.resolve(p)}getAllMutationBatchesAffectingDocumentKeys(e,r){let o=new dr(Fe);return r.forEach(c=>{const p=new Wi(c,0),g=new Wi(c,Number.POSITIVE_INFINITY);this.br.forEachInRange([p,g],C=>{o=o.add(C.wr)})}),O.resolve(this.Cr(o))}getAllMutationBatchesAffectingQuery(e,r){const o=r.path,c=o.length+1;let p=o;Zt.isDocumentKey(p)||(p=p.child(""));const g=new Wi(new Zt(p),0);let C=new dr(Fe);return this.br.forEachWhile(N=>{const H=N.key.path;return!!o.isPrefixOf(H)&&(H.length===c&&(C=C.add(N.wr)),!0)},g),O.resolve(this.Cr(C))}Cr(e){const r=[];return e.forEach(o=>{const c=this.Dr(o);null!==c&&r.push(c)}),r}removeMutationBatch(e,r){Ft(0===this.Fr(r.batchId,"removed")),this.mutationQueue.shift();let o=this.br;return O.forEach(r.mutations,c=>{const p=new Wi(c.key,r.batchId);return o=o.delete(p),this.referenceDelegate.markPotentiallyOrphaned(e,c.key)}).next(()=>{this.br=o})}On(e){}containsKey(e,r){const o=new Wi(r,0),c=this.br.firstAfterOrEqual(o);return O.resolve(r.isEqual(c&&c.key))}performConsistencyCheck(e){return O.resolve()}Fr(e,r){return this.vr(e)}vr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Dr(e){const r=this.vr(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}class up{constructor(e){this.Mr=e,this.docs=new Fr(Zt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const o=r.key,c=this.docs.get(o),p=c?c.size:0,g=this.Mr(r);return this.docs=this.docs.insert(o,{document:r.mutableCopy(),size:g}),this.size+=g-p,this.indexManager.addToCollectionParentIndex(e,o.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const o=this.docs.get(r);return O.resolve(o?o.document.mutableCopy():Ur.newInvalidDocument(r))}getEntries(e,r){let o=co();return r.forEach(c=>{const p=this.docs.get(c);o=o.insert(c,p?p.document.mutableCopy():Ur.newInvalidDocument(c))}),O.resolve(o)}getDocumentsMatchingQuery(e,r,o,c){let p=co();const g=r.path,C=new Zt(g.child("")),N=this.docs.getIteratorFrom(C);for(;N.hasNext();){const{key:H,value:{document:J}}=N.getNext();if(!g.isPrefixOf(H.path))break;H.path.length>g.length+1||hi(Xr(J),o)<=0||(c.has(J.key)||Fs(r,J))&&(p=p.insert(J.key,J.mutableCopy()))}return O.resolve(p)}getAllFromCollectionGroup(e,r,o,c){pt()}Or(e,r){return O.forEach(this.docs,o=>r(o))}newChangeBuffer(e){return new xf(this)}getSize(e){return O.resolve(this.size)}}class xf extends Qu{constructor(e){super(),this.cr=e}applyChanges(e){const r=[];return this.changes.forEach((o,c)=>{c.isValidDocument()?r.push(this.cr.addEntry(e,c)):this.cr.removeEntry(o)}),O.waitFor(r)}getFromCache(e,r){return this.cr.getEntry(e,r)}getAllFromCache(e,r){return this.cr.getEntries(e,r)}}class Hh{constructor(e){this.persistence=e,this.Nr=new xo(r=>ys(r),Vs),this.lastRemoteSnapshotVersion=ut.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Xu,this.targetCount=0,this.kr=nc.Bn()}forEachTarget(e,r){return this.Nr.forEach((o,c)=>r(c)),O.resolve()}getLastRemoteSnapshotVersion(e){return O.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return O.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),O.resolve(this.highestTargetId)}setTargetsMetadata(e,r,o){return o&&(this.lastRemoteSnapshotVersion=o),r>this.Lr&&(this.Lr=r),O.resolve()}Kn(e){this.Nr.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.kr=new nc(r),this.highestTargetId=r),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,r){return this.Kn(r),this.targetCount+=1,O.resolve()}updateTargetData(e,r){return this.Kn(r),O.resolve()}removeTargetData(e,r){return this.Nr.delete(r.target),this.Br.gr(r.targetId),this.targetCount-=1,O.resolve()}removeTargets(e,r,o){let c=0;const p=[];return this.Nr.forEach((g,C)=>{C.sequenceNumber<=r&&null===o.get(C.targetId)&&(this.Nr.delete(g),p.push(this.removeMatchingKeysForTargetId(e,C.targetId)),c++)}),O.waitFor(p).next(()=>c)}getTargetCount(e){return O.resolve(this.targetCount)}getTargetData(e,r){const o=this.Nr.get(r)||null;return O.resolve(o)}addMatchingKeys(e,r,o){return this.Br.Rr(r,o),O.resolve()}removeMatchingKeys(e,r,o){this.Br.mr(r,o);const c=this.persistence.referenceDelegate,p=[];return c&&r.forEach(g=>{p.push(c.markPotentiallyOrphaned(e,g))}),O.waitFor(p)}removeMatchingKeysForTargetId(e,r){return this.Br.gr(r),O.resolve()}getMatchingKeysForTargetId(e,r){const o=this.Br.yr(r);return O.resolve(o)}containsKey(e,r){return O.resolve(this.Br.containsKey(r))}}class qh{constructor(e,r){this.qr={},this.overlays={},this.Qr=new Ht(0),this.Kr=!1,this.Kr=!0,this.$r=new Al,this.referenceDelegate=e(this),this.Ur=new Hh(this),this.indexManager=new wl,this.remoteDocumentCache=new up(o=>this.referenceDelegate.Wr(o)),this.serializer=new Dd(r),this.Gr=new lp(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new sa,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let o=this.qr[e.toKey()];return o||(o=new fu(r,this.referenceDelegate),this.qr[e.toKey()]=o),o}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,r,o){we("MemoryPersistence","Starting transaction:",e);const c=new As(this.Qr.next());return this.referenceDelegate.zr(),o(c).next(p=>this.referenceDelegate.jr(c).next(()=>p)).toPromise().then(p=>(c.raiseOnCommittedEvent(),p))}Hr(e,r){return O.or(Object.values(this.qr).map(o=>()=>o.containsKey(e,r)))}}class As extends pe{constructor(e){super(),this.currentSequenceNumber=e}}class Il{constructor(e){this.persistence=e,this.Jr=new Xu,this.Yr=null}static Zr(e){return new Il(e)}get Xr(){if(this.Yr)return this.Yr;throw pt()}addReference(e,r,o){return this.Jr.addReference(o,r),this.Xr.delete(o.toString()),O.resolve()}removeReference(e,r,o){return this.Jr.removeReference(o,r),this.Xr.add(o.toString()),O.resolve()}markPotentiallyOrphaned(e,r){return this.Xr.add(r.toString()),O.resolve()}removeTarget(e,r){this.Jr.gr(r.targetId).forEach(c=>this.Xr.add(c.toString()));const o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(e,r.targetId).next(c=>{c.forEach(p=>this.Xr.add(p.toString()))}).next(()=>o.removeTargetData(e,r))}zr(){this.Yr=new Set}jr(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return O.forEach(this.Xr,o=>{const c=Zt.fromPath(o);return this.ei(e,c).next(p=>{p||r.removeEntry(c,ut.min())})}).next(()=>(this.Yr=null,r.apply(e)))}updateLimboDocument(e,r){return this.ei(e,r).next(o=>{o?this.Xr.delete(r.toString()):this.Xr.add(r.toString())})}Wr(e){return 0}ei(e,r){return O.or([()=>O.resolve(this.Jr.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Hr(e,r)])}}class ic{constructor(e,r){this.persistence=e,this.ti=new xo(o=>Jt(o.path),(o,c)=>o.isEqual(c)),this.garbageCollector=Nd(this,r)}static Zr(e,r){return new ic(e,r)}zr(){}jr(e){return O.resolve()}forEachTarget(e,r){return this.persistence.getTargetCache().forEachTarget(e,r)}Yn(e){const r=this.er(e);return this.persistence.getTargetCache().getTargetCount(e).next(o=>r.next(c=>o+c))}er(e){let r=0;return this.Zn(e,o=>{r++}).next(()=>r)}Zn(e,r){return O.forEach(this.ti,(o,c)=>this.nr(e,o,c).next(p=>p?O.resolve():r(c)))}removeTargets(e,r,o){return this.persistence.getTargetCache().removeTargets(e,r,o)}removeOrphanedDocuments(e,r){let o=0;const c=this.persistence.getRemoteDocumentCache(),p=c.newChangeBuffer();return c.Or(e,g=>this.nr(e,g,r).next(C=>{C||(o++,p.removeEntry(g,ut.min()))})).next(()=>p.apply(e)).next(()=>o)}markPotentiallyOrphaned(e,r){return this.ti.set(r,e.currentSequenceNumber),O.resolve()}removeTarget(e,r){const o=r.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,o)}addReference(e,r,o){return this.ti.set(o,e.currentSequenceNumber),O.resolve()}removeReference(e,r,o){return this.ti.set(o,e.currentSequenceNumber),O.resolve()}updateLimboDocument(e,r){return this.ti.set(r,e.currentSequenceNumber),O.resolve()}Wr(e){let r=e.key.toString().length;return e.isFoundDocument()&&(r+=Tr(e.data.value)),r}nr(e,r,o){return O.or([()=>this.persistence.Hr(e,r),()=>this.persistence.getTargetCache().containsKey(e,r),()=>{const c=this.ti.get(r);return O.resolve(void 0!==c&&c>o)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Cf{constructor(e){this.serializer=e}O(e,r,o,c){const p=new ve("createOrUpgrade",r);var N;o<1&&c>=1&&(e.createObjectStore("owner"),(N=e).createObjectStore("mutationQueues",{keyPath:"userId"}),N.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Vt,{unique:!0}),N.createObjectStore("documentMutations"),Ld(e),function(N){N.createObjectStore("remoteDocuments")}(e));let g=O.resolve();return o<3&&c>=3&&(0!==o&&(function(N){N.deleteObjectStore("targetDocuments"),N.deleteObjectStore("targets"),N.deleteObjectStore("targetGlobal")}(e),Ld(e)),g=g.next(()=>function(N){const H=N.store("targetGlobal"),J={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:ut.min().toTimestamp(),targetCount:0};return H.put("targetGlobalKey",J)}(p))),o<4&&c>=4&&(0!==o&&(g=g.next(()=>function(N,H){return H.store("mutations").U().next(J=>{N.deleteObjectStore("mutations"),N.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Vt,{unique:!0});const ye=H.store("mutations"),He=J.map(Mt=>ye.put(Mt));return O.waitFor(He)})}(e,p))),g=g.next(()=>{!function(N){N.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),o<5&&c>=5&&(g=g.next(()=>this.ni(p))),o<6&&c>=6&&(g=g.next(()=>(function(N){N.createObjectStore("remoteDocumentGlobal")}(e),this.ri(p)))),o<7&&c>=7&&(g=g.next(()=>this.ii(p))),o<8&&c>=8&&(g=g.next(()=>this.si(e,p))),o<9&&c>=9&&(g=g.next(()=>{!function(N){N.objectStoreNames.contains("remoteDocumentChanges")&&N.deleteObjectStore("remoteDocumentChanges")}(e)})),o<10&&c>=10&&(g=g.next(()=>this.oi(p))),o<11&&c>=11&&(g=g.next(()=>{(function(N){N.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(N){N.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),o<12&&c>=12&&(g=g.next(()=>{!function(N){const H=N.createObjectStore("documentOverlays",{keyPath:wi});H.createIndex("collectionPathOverlayIndex",mc,{unique:!1}),H.createIndex("collectionGroupOverlayIndex",yc,{unique:!1})}(e)})),o<13&&c>=13&&(g=g.next(()=>function(N){const H=N.createObjectStore("remoteDocumentsV14",{keyPath:kn});H.createIndex("documentKeyIndex",vr),H.createIndex("collectionGroupIndex",Rr)}(e)).next(()=>this._i(e,p)).next(()=>e.deleteObjectStore("remoteDocuments"))),o<14&&c>=14&&(g=g.next(()=>this.ai(e,p))),o<15&&c>=15&&(g=g.next(()=>function(N){N.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),N.createObjectStore("indexState",{keyPath:Lr}).createIndex("sequenceNumberIndex",Ai,{unique:!1}),N.createObjectStore("indexEntries",{keyPath:Qi}).createIndex("documentKeyIndex",ds,{unique:!1})}(e))),o<16&&c>=16&&(g=g.next(()=>{r.objectStore("indexState").clear()}).next(()=>{r.objectStore("indexEntries").clear()})),o<17&&c>=17&&(g=g.next(()=>{!function(N){N.createObjectStore("globals",{keyPath:"name"})}(e)})),g}ri(e){let r=0;return e.store("remoteDocuments").J((o,c)=>{r+=Gc(c)}).next(()=>{const o={byteSize:r};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",o)})}ni(e){const r=e.store("mutationQueues"),o=e.store("mutations");return r.U().next(c=>O.forEach(c,p=>{const g=IDBKeyRange.bound([p.userId,-1],[p.userId,p.lastAcknowledgedBatchId]);return o.U("userMutationsIndex",g).next(C=>O.forEach(C,N=>{Ft(N.userId===p.userId);const H=Es(this.serializer,N);return Wc(e,p.userId,H).next(()=>{})}))}))}ii(e){const r=e.store("targetDocuments"),o=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(c=>{const p=[];return o.J((g,C)=>{const N=new Dt(g),H=[0,Jt(N)];p.push(r.get(H).next(J=>J?O.resolve():r.put({targetId:0,path:Jt(N),sequenceNumber:c.highestListenSequenceNumber})))}).next(()=>O.waitFor(p))})}si(e,r){e.createObjectStore("collectionParents",{keyPath:ji});const o=r.store("collectionParents"),c=new $c,p=g=>{if(c.add(g)){const C=g.lastSegment(),N=g.popLast();return o.put({collectionId:C,parent:Jt(N)})}};return r.store("remoteDocuments").J({H:!0},(g,C)=>{const N=new Dt(g);return p(N.popLast())}).next(()=>r.store("documentMutations").J({H:!0},([g,C,N],H)=>{const J=Ye(C);return p(J.popLast())}))}oi(e){const r=e.store("targets");return r.J((o,c)=>{const p=zs(c),g=su(this.serializer,p);return r.put(g)})}_i(e,r){const o=r.store("remoteDocuments"),c=[];return o.J((p,g)=>{const C=r.store("remoteDocumentsV14"),N=(ye=g,ye.document?new Zt(Dt.fromString(ye.document.name).popFirst(5)):ye.noDocument?Zt.fromSegments(ye.noDocument.path):ye.unknownDocument?Zt.fromSegments(ye.unknownDocument.path):pt()).path.toArray(),H={prefixPath:N.slice(0,N.length-2),collectionGroup:N[N.length-2],documentId:N[N.length-1],readTime:g.readTime||[0,0],unknownDocument:g.unknownDocument,noDocument:g.noDocument,document:g.document,hasCommittedMutations:!!g.hasCommittedMutations};var ye;c.push(C.put(H))}).next(()=>O.waitFor(c))}ai(e,r){const o=r.store("mutations"),c=zh(this.serializer),p=new qh(Il.Zr,this.serializer.ct);return o.U().next(g=>{const C=new Map;return g.forEach(N=>{var H;let J=null!==(H=C.get(N.userId))&&void 0!==H?H:pr();Es(this.serializer,N).keys().forEach(ye=>J=J.add(ye)),C.set(N.userId,J)}),O.forEach(C,(N,H)=>{const J=new Qt(H),ye=xc.lt(this.serializer,J),He=p.getIndexManager(J),Mt=Wu.lt(J,this.serializer,He,p.referenceDelegate);return new Zc(c,Mt,ye,He).recalculateAndSaveOverlaysForDocumentKeys(new $o(r,Ht.oe),N).next()})})}}function Ld(a){a.createObjectStore("targetDocuments",{keyPath:Mr}).createIndex("documentTargetsIndex",Bi,{unique:!0}),a.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",cr,{unique:!0}),a.createObjectStore("targetGlobal")}const Fd="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Yu{constructor(e,r,o,c,p,g,C,N,H,J,ye=17){if(this.allowTabSynchronization=e,this.persistenceKey=r,this.clientId=o,this.ui=p,this.window=g,this.document=C,this.ci=H,this.li=J,this.hi=ye,this.Qr=null,this.Kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Pi=null,this.inForeground=!1,this.Ii=null,this.Ti=null,this.Ei=Number.NEGATIVE_INFINITY,this.di=He=>Promise.resolve(),!Yu.D())throw new dt(We.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new jh(this,c),this.Ai=r+"main",this.serializer=new Dd(N),this.Ri=new xe(this.Ai,this.hi,new Cf(this.serializer)),this.$r=new O2,this.Ur=new Od(this.referenceDelegate,this.serializer),this.remoteDocumentCache=zh(this.serializer),this.Gr=new ro,this.window&&this.window.localStorage?this.Vi=this.window.localStorage:(this.Vi=null,!1===J&&lt("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new dt(We.FAILED_PRECONDITION,Fd);return this.fi(),this.gi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Ur.getHighestSequenceNumber(e))}).then(e=>{this.Qr=new Ht(e,this.ci)}).then(()=>{this.Kr=!0}).catch(e=>(this.Ri&&this.Ri.close(),Promise.reject(e)))}yi(e){var r=this;return this.di=function(){var o=(0,ue.A)(function*(c){if(r.started)return e(c)});return function(c){return o.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ri.L(function(){var r=(0,ue.A)(function*(o){null===o.newVersion&&(yield e())});return function(o){return r.apply(this,arguments)}}())}setNetworkEnabled(e){var r=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.ui.enqueueAndForget((0,ue.A)(function*(){r.started&&(yield r.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Tl(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.wi(e).next(r=>{r||(this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)))})}).next(()=>this.Si(e)).next(r=>this.isPrimary&&!r?this.bi(e).next(()=>!1):!!r&&this.Di(e).next(()=>!0))).catch(e=>{if(Ce(e))return we("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return we("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ui.enqueueRetryable(()=>this.di(e)),this.isPrimary=e})}wi(e){return ko(e).get("owner").next(r=>O.resolve(this.vi(r)))}Ci(e){return Tl(e).delete(this.clientId)}Fi(){var e=this;return(0,ue.A)(function*(){if(e.isPrimary&&!e.Mi(e.Ei,18e5)){e.Ei=Date.now();const r=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",o=>{const c=ri(o,"clientMetadata");return c.U().next(p=>{const g=e.xi(p,18e5),C=p.filter(N=>-1===g.indexOf(N));return O.forEach(C,N=>c.delete(N.clientId)).next(()=>C)})}).catch(()=>[]);if(e.Vi)for(const o of r)e.Vi.removeItem(e.Oi(o.clientId))}})()}pi(){this.Ti=this.ui.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.Fi()).then(()=>this.pi()))}vi(e){return!!e&&e.ownerId===this.clientId}Si(e){return this.li?O.resolve(!0):ko(e).get("owner").next(r=>{if(null!==r&&this.Mi(r.leaseTimestampMs,5e3)&&!this.Ni(r.ownerId)){if(this.vi(r)&&this.networkEnabled)return!0;if(!this.vi(r)){if(!r.allowTabSynchronization)throw new dt(We.FAILED_PRECONDITION,Fd);return!1}}return!(!this.networkEnabled||!this.inForeground)||Tl(e).U().next(o=>void 0===this.xi(o,5e3).find(c=>!(this.clientId===c.clientId||!(!this.networkEnabled&&c.networkEnabled||!this.inForeground&&c.inForeground&&this.networkEnabled===c.networkEnabled))))}).next(r=>(this.isPrimary!==r&&we("IndexedDbPersistence",`Client ${r?"is":"is not"} eligible for a primary lease.`),r))}shutdown(){var e=this;return(0,ue.A)(function*(){e.Kr=!1,e.Li(),e.Ti&&(e.Ti.cancel(),e.Ti=null),e.Bi(),e.ki(),yield e.Ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],r=>{const o=new $o(r,Ht.oe);return e.bi(o).next(()=>e.Ci(o))}),e.Ri.close(),e.qi()})()}xi(e,r){return e.filter(o=>this.Mi(o.updateTimeMs,r)&&!this.Ni(o.clientId))}Qi(){return this.runTransaction("getActiveClients","readonly",e=>Tl(e).U().next(r=>this.xi(r,18e5).map(o=>o.clientId)))}get started(){return this.Kr}getGlobalsCache(){return this.$r}getMutationQueue(e,r){return Wu.lt(e,this.serializer,r,this.referenceDelegate)}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Rd(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return xc.lt(this.serializer,e)}getBundleCache(){return this.Gr}runTransaction(e,r,o){we("IndexedDbPersistence","Starting transaction:",e);const c="readonly"===r?"readonly":"readwrite",p=17===(N=this.hi)?Zi:16===N?Xs:15===N?Ss:14===N?da:13===N?hs:12===N?Ha:11===N?jc:void pt();var N;let g;return this.Ri.runTransaction(e,c,p,C=>(g=new $o(C,this.Qr?this.Qr.next():Ht.oe),"readwrite-primary"===r?this.wi(g).next(N=>!!N||this.Si(g)).next(N=>{if(!N)throw lt(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)),new dt(We.FAILED_PRECONDITION,Nt);return o(g)}).next(N=>this.Di(g).next(()=>N)):this.Ki(g).next(()=>o(g)))).then(C=>(g.raiseOnCommittedEvent(),C))}Ki(e){return ko(e).get("owner").next(r=>{if(null!==r&&this.Mi(r.leaseTimestampMs,5e3)&&!this.Ni(r.ownerId)&&!this.vi(r)&&!(this.li||this.allowTabSynchronization&&r.allowTabSynchronization))throw new dt(We.FAILED_PRECONDITION,Fd)})}Di(e){const r={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return ko(e).put("owner",r)}static D(){return xe.D()}bi(e){const r=ko(e);return r.get("owner").next(o=>this.vi(o)?(we("IndexedDbPersistence","Releasing primary lease."),r.delete("owner")):O.resolve())}Mi(e,r){const o=Date.now();return!(e<o-r||e>o&&(lt(`Detected an update time that is in the future: ${e} > ${o}`),1))}fi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ii=()=>{this.ui.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.Ii),this.inForeground="visible"===this.document.visibilityState)}Bi(){this.Ii&&(this.document.removeEventListener("visibilitychange",this.Ii),this.Ii=null)}gi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Pi=()=>{this.Li();const r=/(?:Version|Mobile)\/1[456]/;(0,wt.nr)()&&(navigator.appVersion.match(r)||navigator.userAgent.match(r))&&this.ui.enterRestrictedMode(!0),this.ui.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Pi))}ki(){this.Pi&&(this.window.removeEventListener("pagehide",this.Pi),this.Pi=null)}Ni(e){var r;try{const o=null!==(null===(r=this.Vi)||void 0===r?void 0:r.getItem(this.Oi(e)));return we("IndexedDbPersistence",`Client '${e}' ${o?"is":"is not"} zombied in LocalStorage`),o}catch(o){return lt("IndexedDbPersistence","Failed to get zombied client id.",o),!1}}Li(){if(this.Vi)try{this.Vi.setItem(this.Oi(this.clientId),String(Date.now()))}catch(e){lt("Failed to set zombie client id.",e)}}qi(){if(this.Vi)try{this.Vi.removeItem(this.Oi(this.clientId))}catch{}}Oi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function ko(a){return ri(a,"owner")}function Tl(a){return ri(a,"clientMetadata")}function Dl(a,e){let r=a.projectId;return a.isDefaultDatabase||(r+="."+a.database),"firestore/"+e+"/"+r+"/"}class Ju{constructor(e,r,o,c){this.targetId=e,this.fromCache=r,this.$i=o,this.Ui=c}static Wi(e,r){let o=pr(),c=pr();for(const p of r.docChanges)switch(p.type){case 0:o=o.add(p.doc.key);break;case 1:c=c.add(p.doc.key)}return new Ju(e,r.fromCache,o,c)}}class Sl{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Tc{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=(0,wt.nr)()?8:be((0,wt.ZQ)())>0?6:4}initialize(e,r){this.Ji=e,this.indexManager=r,this.Gi=!0}getDocumentsMatchingQuery(e,r,o,c){const p={result:null};return this.Yi(e,r).next(g=>{p.result=g}).next(()=>{if(!p.result)return this.Zi(e,r,c,o).next(g=>{p.result=g})}).next(()=>{if(p.result)return;const g=new Sl;return this.Xi(e,r,g).next(C=>{if(p.result=C,this.zi)return this.es(e,r,g,C.size)})}).next(()=>p.result)}es(e,r,o,c){return o.documentReadCount<this.ji?(Le()<=Ot.$b.DEBUG&&we("QueryEngine","SDK will not create cache indexes for query:",Ls(r),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),O.resolve()):(Le()<=Ot.$b.DEBUG&&we("QueryEngine","Query:",Ls(r),"scans",o.documentReadCount,"local documents and returns",c,"documents as results."),o.documentReadCount>this.Hi*c?(Le()<=Ot.$b.DEBUG&&we("QueryEngine","The SDK decides to create cache indexes for query:",Ls(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,$i(r))):O.resolve())}Yi(e,r){if(Yi(r))return O.resolve(null);let o=$i(r);return this.indexManager.getIndexType(e,o).next(c=>0===c?null:(null!==r.limit&&1===c&&(r=ea(r,null,"F"),o=$i(r)),this.indexManager.getDocumentsMatchingTarget(e,o).next(p=>{const g=pr(...p);return this.Ji.getDocuments(e,g).next(C=>this.indexManager.getMinOffset(e,o).next(N=>{const H=this.ts(r,C);return this.ns(r,H,g,N.readTime)?this.Yi(e,ea(r,null,"F")):this.rs(e,H,r,N)}))})))}Zi(e,r,o,c){return Yi(r)||c.isEqual(ut.min())?O.resolve(null):this.Ji.getDocuments(e,o).next(p=>{const g=this.ts(r,p);return this.ns(r,g,o,c)?O.resolve(null):(Le()<=Ot.$b.DEBUG&&we("QueryEngine","Re-using previous result from %s to execute query: %s",c.toString(),Ls(r)),this.rs(e,g,r,di(c,-1)).next(C=>C))})}ts(e,r){let o=new dr(gc(e));return r.forEach((c,p)=>{Fs(e,p)&&(o=o.add(p))}),o}ns(e,r,o,c){if(null===e.limit)return!1;if(o.size!==r.size)return!0;const p="F"===e.limitType?r.last():r.first();return!!p&&(p.hasPendingWrites||p.version.compareTo(c)>0)}Xi(e,r,o){return Le()<=Ot.$b.DEBUG&&we("QueryEngine","Using full collection scan to execute query:",Ls(r)),this.Ji.getDocumentsMatchingQuery(e,r,ar.min(),o)}rs(e,r,o,c){return this.Ji.getDocumentsMatchingQuery(e,o,c).next(p=>(r.forEach(g=>{p=p.insert(g.key,g)}),p))}}class mu{constructor(e,r,o,c){this.persistence=e,this.ss=r,this.serializer=c,this.os=new Fr(Fe),this._s=new xo(p=>ys(p),Vs),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(o)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Zc(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.os))}}function Rl(a,e,r,o){return new mu(a,e,r,o)}function Bd(a,e){return Yo.apply(this,arguments)}function Yo(){return(Yo=(0,ue.A)(function*(a,e){const r=vt(a);return yield r.persistence.runTransaction("Handle user change","readonly",o=>{let c;return r.mutationQueue.getAllMutationBatches(o).next(p=>(c=p,r.ls(e),r.mutationQueue.getAllMutationBatches(o))).next(p=>{const g=[],C=[];let N=pr();for(const H of c){g.push(H.batchId);for(const J of H.mutations)N=N.add(J.key)}for(const H of p){C.push(H.batchId);for(const J of H.mutations)N=N.add(J.key)}return r.localDocuments.getDocuments(o,N).next(H=>({hs:H,removedBatchIds:g,addedBatchIds:C}))})})})).apply(this,arguments)}function Dc(a){const e=vt(a);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.Ur.getLastRemoteSnapshotVersion(r))}function aa(a,e,r){let o=pr(),c=pr();return r.forEach(p=>o=o.add(p)),e.getEntries(a,o).next(p=>{let g=co();return r.forEach((C,N)=>{const H=p.get(C);N.isFoundDocument()!==H.isFoundDocument()&&(c=c.add(C)),N.isNoDocument()&&N.version.isEqual(ut.min())?(e.removeEntry(C,N.readTime),g=g.insert(C,N)):!H.isValidDocument()||N.version.compareTo(H.version)>0||0===N.version.compareTo(H.version)&&H.hasPendingWrites?(e.addEntry(N),g=g.insert(C,N)):we("LocalStore","Ignoring outdated watch update for ",C,". Current version:",H.version," Watch version:",N.version)}),{Ps:g,Is:c}})}function Pl(a,e){const r=vt(a);return r.persistence.runTransaction("Get next mutation batch","readonly",o=>(void 0===e&&(e=-1),r.mutationQueue.getNextMutationBatchAfterBatchId(o,e)))}function Xc(a,e){const r=vt(a);return r.persistence.runTransaction("Allocate target","readwrite",o=>{let c;return r.Ur.getTargetData(o,e).next(p=>p?(c=p,O.resolve(c)):r.Ur.allocateTargetId(o).next(g=>(c=new ia(e,g,"TargetPurposeListen",o.currentSequenceNumber),r.Ur.addTargetData(o,c).next(()=>c))))}).then(o=>{const c=r.os.get(o.targetId);return(null===c||o.snapshotVersion.compareTo(c.snapshotVersion)>0)&&(r.os=r.os.insert(o.targetId,o),r._s.set(e,o.targetId)),o})}function Sc(a,e,r){return La.apply(this,arguments)}function La(){return(La=(0,ue.A)(function*(a,e,r){const o=vt(a),c=o.os.get(e),p=r?"readwrite":"readwrite-primary";try{r||(yield o.persistence.runTransaction("Release target",p,g=>o.persistence.referenceDelegate.removeTarget(g,c)))}catch(g){if(!Ce(g))throw g;we("LocalStore",`Failed to update sequence numbers for target ${e}: ${g}`)}o.os=o.os.remove(e),o._s.delete(c.target)})).apply(this,arguments)}function Fa(a,e,r){const o=vt(a);let c=ut.min(),p=pr();return o.persistence.runTransaction("Execute query","readwrite",g=>function(N,H,J){const ye=vt(N),He=ye._s.get(J);return void 0!==He?O.resolve(ye.os.get(He)):ye.Ur.getTargetData(H,J)}(o,g,$i(e)).next(C=>{if(C)return c=C.lastLimboFreeSnapshotVersion,o.Ur.getMatchingKeysForTargetId(g,C.targetId).next(N=>{p=N})}).next(()=>o.ss.getDocumentsMatchingQuery(g,e,r?c:ut.min(),r?p:pr())).next(C=>(td(o,ya(e),C),{documents:C,Ts:p})))}function ed(a,e){const r=vt(a),o=vt(r.Ur),c=r.os.get(e);return c?Promise.resolve(c.target):r.persistence.runTransaction("Get target data","readonly",p=>o.ot(p,e).next(g=>g?g.target:null))}function Wh(a,e){const r=vt(a),o=r.us.get(e)||ut.min();return r.persistence.runTransaction("Get new document changes","readonly",c=>r.cs.getAllFromCollectionGroup(c,e,di(o,-1),Number.MAX_SAFE_INTEGER)).then(c=>(td(r,e,c),c))}function td(a,e,r){let o=a.us.get(e)||ut.min();r.forEach((c,p)=>{p.readTime.compareTo(o)>0&&(o=p.readTime)}),a.us.set(e,o)}function nd(){return(nd=(0,ue.A)(function*(a,e,r,o){const c=vt(a);let p=pr(),g=co();for(const H of r){const J=e.Es(H.metadata.name);H.document&&(p=p.add(J));const ye=e.ds(H);ye.setReadTime(e.As(H.metadata.readTime)),g=g.insert(J,ye)}const C=c.cs.newChangeBuffer({trackRemovals:!0}),N=yield Xc(c,(J=o,$i(rs(Dt.fromString(`__bundle__/docs/${J}`)))));var J;return c.persistence.runTransaction("Apply bundle documents","readwrite",H=>aa(H,C,g).next(J=>(C.apply(H),J)).next(J=>c.Ur.removeMatchingKeysForTargetId(H,N.targetId).next(()=>c.Ur.addMatchingKeys(H,p,N.targetId)).next(()=>c.localDocuments.getLocalViewOfDocuments(H,J.Ps,J.Is)).next(()=>J.Ps)))})).apply(this,arguments)}function wa(a,e){return yu.apply(this,arguments)}function yu(){return(yu=(0,ue.A)(function*(a,e,r=pr()){const o=yield Xc(a,$i(Ec(e.bundledQuery))),c=vt(a);return c.persistence.runTransaction("Save named query","readwrite",p=>{const g=no(e.readTime);if(o.snapshotVersion.compareTo(g)>=0)return c.Gr.saveNamedQuery(p,e);const C=o.withResumeToken(Wr.EMPTY_BYTE_STRING,g);return c.os=c.os.insert(C.targetId,C),c.Ur.updateTargetData(p,C).next(()=>c.Ur.removeMatchingKeysForTargetId(p,o.targetId)).next(()=>c.Ur.addMatchingKeys(p,r,o.targetId)).next(()=>c.Gr.saveNamedQuery(p,e))})})).apply(this,arguments)}function Kh(a,e){return`firestore_clients_${a}_${e}`}function Rc(a,e,r){let o=`firestore_mutations_${a}_${r}`;return e.isAuthenticated()&&(o+=`_${e.uid}`),o}function gu(a,e){return`firestore_targets_${a}_${e}`}class vu{constructor(e,r,o,c){this.user=e,this.batchId=r,this.state=o,this.error=c}static Rs(e,r,o){const c=JSON.parse(o);let p,g="object"==typeof c&&-1!==["pending","acknowledged","rejected"].indexOf(c.state)&&(void 0===c.error||"object"==typeof c.error);return g&&c.error&&(g="string"==typeof c.error.message&&"string"==typeof c.error.code,g&&(p=new dt(c.error.code,c.error.message))),g?new vu(e,r,c.state,p):(lt("SharedClientState",`Failed to parse mutation state for ID '${r}': ${o}`),null)}Vs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Ol{constructor(e,r,o){this.targetId=e,this.state=r,this.error=o}static Rs(e,r){const o=JSON.parse(r);let c,p="object"==typeof o&&-1!==["not-current","current","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return p&&o.error&&(p="string"==typeof o.error.message&&"string"==typeof o.error.code,p&&(c=new dt(o.error.code,o.error.message))),p?new Ol(e,o.state,c):(lt("SharedClientState",`Failed to parse target state for ID '${e}': ${r}`),null)}Vs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class rd{constructor(e,r){this.clientId=e,this.activeTargetIds=r}static Rs(e,r){const o=JSON.parse(r);let c="object"==typeof o&&o.activeTargetIds instanceof Array,p=_c();for(let g=0;c&&g<o.activeTargetIds.length;++g)c=zn(o.activeTargetIds[g]),p=p.add(o.activeTargetIds[g]);return c?new rd(e,p):(lt("SharedClientState",`Failed to parse client data for instance '${e}': ${r}`),null)}}class _u{constructor(e,r){this.clientId=e,this.onlineState=r}static Rs(e){const r=JSON.parse(e);return"object"==typeof r&&-1!==["Unknown","Online","Offline"].indexOf(r.onlineState)&&"string"==typeof r.clientId?new _u(r.clientId,r.onlineState):(lt("SharedClientState",`Failed to parse online state: ${e}`),null)}}class Qh{constructor(){this.activeTargetIds=_c()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Yc{constructor(e,r,o,c,p){this.window=e,this.ui=r,this.persistenceKey=o,this.ps=c,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ys=this.ws.bind(this),this.Ss=new Fr(Fe),this.started=!1,this.bs=[];const g=o.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=p,this.Ds=Kh(this.persistenceKey,this.ps),this.vs=`firestore_sequence_number_${this.persistenceKey}`,this.Ss=this.Ss.insert(this.ps,new Qh),this.Cs=new RegExp(`^firestore_clients_${g}_([^_]*)$`),this.Fs=new RegExp(`^firestore_mutations_${g}_(\\d+)(?:_(.*))?$`),this.Ms=new RegExp(`^firestore_targets_${g}_(\\d+)$`),this.xs=`firestore_online_state_${this.persistenceKey}`,this.Os=function(N){return`firestore_bundle_loaded_v2_${N}`}(this.persistenceKey),this.window.addEventListener("storage",this.ys)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,ue.A)(function*(){const r=yield e.syncEngine.Qi();for(const c of r){if(c===e.ps)continue;const p=e.getItem(Kh(e.persistenceKey,c));if(p){const g=rd.Rs(c,p);g&&(e.Ss=e.Ss.insert(g.clientId,g))}}e.Ns();const o=e.storage.getItem(e.xs);if(o){const c=e.Ls(o);c&&e.Bs(c)}for(const c of e.bs)e.ws(c);e.bs=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.vs,JSON.stringify(e))}getAllActiveQueryTargets(){return this.ks(this.Ss)}isActiveQueryTarget(e){let r=!1;return this.Ss.forEach((o,c)=>{c.activeTargetIds.has(e)&&(r=!0)}),r}addPendingMutation(e){this.qs(e,"pending")}updateMutationState(e,r,o){this.qs(e,r,o),this.Qs(e)}addLocalQueryTarget(e,r=!0){let o="not-current";if(this.isActiveQueryTarget(e)){const c=this.storage.getItem(gu(this.persistenceKey,e));if(c){const p=Ol.Rs(e,c);p&&(o=p.state)}}return r&&this.Ks.fs(e),this.Ns(),o}removeLocalQueryTarget(e){this.Ks.gs(e),this.Ns()}isLocalQueryTarget(e){return this.Ks.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(gu(this.persistenceKey,e))}updateQueryState(e,r,o){this.$s(e,r,o)}handleUserChange(e,r,o){r.forEach(c=>{this.Qs(c)}),this.currentUser=e,o.forEach(c=>{this.addPendingMutation(c)})}setOnlineState(e){this.Us(e)}notifyBundleLoaded(e){this.Ws(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ys),this.removeItem(this.Ds),this.started=!1)}getItem(e){const r=this.storage.getItem(e);return we("SharedClientState","READ",e,r),r}setItem(e,r){we("SharedClientState","SET",e,r),this.storage.setItem(e,r)}removeItem(e){we("SharedClientState","REMOVE",e),this.storage.removeItem(e)}ws(e){var r=this;const o=e;if(o.storageArea===this.storage){if(we("SharedClientState","EVENT",o.key,o.newValue),o.key===this.Ds)return void lt("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ui.enqueueRetryable((0,ue.A)(function*(){if(r.started){if(null!==o.key)if(r.Cs.test(o.key)){if(null==o.newValue){const c=r.Gs(o.key);return r.zs(c,null)}{const c=r.js(o.key,o.newValue);if(c)return r.zs(c.clientId,c)}}else if(r.Fs.test(o.key)){if(null!==o.newValue){const c=r.Hs(o.key,o.newValue);if(c)return r.Js(c)}}else if(r.Ms.test(o.key)){if(null!==o.newValue){const c=r.Ys(o.key,o.newValue);if(c)return r.Zs(c)}}else if(o.key===r.xs){if(null!==o.newValue){const c=r.Ls(o.newValue);if(c)return r.Bs(c)}}else if(o.key===r.vs){const c=function(g){let C=Ht.oe;if(null!=g)try{const N=JSON.parse(g);Ft("number"==typeof N),C=N}catch(N){lt("SharedClientState","Failed to read sequence number from WebStorage",N)}return C}(o.newValue);c!==Ht.oe&&r.sequenceNumberHandler(c)}else if(o.key===r.Os){const c=r.Xs(o.newValue);yield Promise.all(c.map(p=>r.syncEngine.eo(p)))}}else r.bs.push(o)}))}}get Ks(){return this.Ss.get(this.ps)}Ns(){this.setItem(this.Ds,this.Ks.Vs())}qs(e,r,o){const c=new vu(this.currentUser,e,r,o),p=Rc(this.persistenceKey,this.currentUser,e);this.setItem(p,c.Vs())}Qs(e){const r=Rc(this.persistenceKey,this.currentUser,e);this.removeItem(r)}Us(e){this.storage.setItem(this.xs,JSON.stringify({clientId:this.ps,onlineState:e}))}$s(e,r,o){const c=gu(this.persistenceKey,e),p=new Ol(e,r,o);this.setItem(c,p.Vs())}Ws(e){const r=JSON.stringify(Array.from(e));this.setItem(this.Os,r)}Gs(e){const r=this.Cs.exec(e);return r?r[1]:null}js(e,r){const o=this.Gs(e);return rd.Rs(o,r)}Hs(e,r){const o=this.Fs.exec(e),c=Number(o[1]);return vu.Rs(new Qt(void 0!==o[2]?o[2]:null),c,r)}Ys(e,r){const o=this.Ms.exec(e),c=Number(o[1]);return Ol.Rs(c,r)}Ls(e){return _u.Rs(e)}Xs(e){return JSON.parse(e)}Js(e){var r=this;return(0,ue.A)(function*(){if(e.user.uid===r.currentUser.uid)return r.syncEngine.no(e.batchId,e.state,e.error);we("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Zs(e){return this.syncEngine.ro(e.targetId,e.state,e.error)}zs(e,r){const o=r?this.Ss.insert(e,r):this.Ss.remove(e),c=this.ks(this.Ss),p=this.ks(o),g=[],C=[];return p.forEach(N=>{c.has(N)||g.push(N)}),c.forEach(N=>{p.has(N)||C.push(N)}),this.syncEngine.io(g,C).then(()=>{this.Ss=o})}Bs(e){this.Ss.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}ks(e){let r=_c();return e.forEach((o,c)=>{r=r.unionWith(c.activeTargetIds)}),r}}class Zh{constructor(){this.so=new Qh,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,o){}addLocalQueryTarget(e,r=!0){return r&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,r,o){this.oo[e]=r}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new Qh,Promise.resolve()}handleUserChange(e,r,o){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Nl{_o(e){}shutdown(){}}class Xh{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){we("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){we("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let id=null;function Vl(){return null===id?id=268435456+Math.round(2147483648*Math.random()):id++,"0x"+id.toString(16)}const Af={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class dp{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}const Jo="WebChannelConnection";class If extends class{constructor(r){this.databaseInfo=r,this.databaseId=r.databaseId;const o=r.ssl?"https":"http",c=encodeURIComponent(this.databaseId.projectId),p=encodeURIComponent(this.databaseId.database);this.Do=o+"://"+r.host,this.vo=`projects/${c}/databases/${p}`,this.Co="(default)"===this.databaseId.database?`project_id=${c}`:`project_id=${c}&database_id=${p}`}get Fo(){return!1}Mo(r,o,c,p,g){const C=Vl(),N=this.xo(r,o.toUriEncodedString());we("RestConnection",`Sending RPC '${r}' ${C}:`,N,c);const H={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(H,p,g),this.No(r,N,H,c).then(J=>(we("RestConnection",`Received RPC '${r}' ${C}: `,J),J),J=>{throw Lt("RestConnection",`RPC '${r}' ${C} failed with error: `,J,"url: ",N,"request:",c),J})}Lo(r,o,c,p,g,C){return this.Mo(r,o,c,p,g)}Oo(r,o,c){r["X-Goog-Api-Client"]="gl-js/ fire/"+Cn,r["Content-Type"]="text/plain",this.databaseInfo.appId&&(r["X-Firebase-GMPID"]=this.databaseInfo.appId),o&&o.headers.forEach((p,g)=>r[g]=p),c&&c.headers.forEach((p,g)=>r[g]=p)}xo(r,o){return`${this.Do}/v1/${o}:${Af[r]}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,r,o,c){const p=Vl();return new Promise((g,C)=>{const N=new _t;N.setWithCredentials(!0),N.listenOnce(gn.COMPLETE,()=>{try{switch(N.getLastErrorCode()){case _n.NO_ERROR:const J=N.getResponseJson();we(Jo,`XHR for RPC '${e}' ${p} received:`,JSON.stringify(J)),g(J);break;case _n.TIMEOUT:we(Jo,`RPC '${e}' ${p} timed out`),C(new dt(We.DEADLINE_EXCEEDED,"Request time out"));break;case _n.HTTP_ERROR:const ye=N.getStatus();if(we(Jo,`RPC '${e}' ${p} failed with status:`,ye,"response text:",N.getResponseText()),ye>0){let He=N.getResponseJson();Array.isArray(He)&&(He=He[0]);const Mt=He?.error;if(Mt&&Mt.status&&Mt.message){const $t=function(nn){const Nn=nn.toLowerCase().replace(/_/g,"-");return Object.values(We).indexOf(Nn)>=0?Nn:We.UNKNOWN}(Mt.status);C(new dt($t,Mt.message))}else C(new dt(We.UNKNOWN,"Server responded with status "+N.getStatus()))}else C(new dt(We.UNAVAILABLE,"Connection failed."));break;default:pt()}}finally{we(Jo,`RPC '${e}' ${p} completed.`)}});const H=JSON.stringify(c);we(Jo,`RPC '${e}' ${p} sending request:`,c),N.send(r,"POST",H,o,15)})}Bo(e,r,o){const c=Vl(),p=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],g=rn(),C=Tn(),N={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},H=this.longPollingOptions.timeoutSeconds;void 0!==H&&(N.longPollingTimeout=Math.round(1e3*H)),this.useFetchStreams&&(N.useFetchStreams=!0),this.Oo(N.initMessageHeaders,r,o),N.encodeInitMessageHeaders=!0;const J=p.join("");we(Jo,`Creating RPC '${e}' stream ${c}: ${J}`,N);const ye=g.createWebChannel(J,N);let He=!1,Mt=!1;const $t=new dp({Io:nn=>{Mt?we(Jo,`Not sending because RPC '${e}' stream ${c} is closed:`,nn):(He||(we(Jo,`Opening RPC '${e}' stream ${c} transport.`),ye.open(),He=!0),we(Jo,`RPC '${e}' stream ${c} sending:`,nn),ye.send(nn))},To:()=>ye.close()}),ln=(nn,Nn,Gn)=>{nn.listen(Nn,On=>{try{Gn(On)}catch(gr){setTimeout(()=>{throw gr},0)}})};return ln(ye,hn.EventType.OPEN,()=>{Mt||(we(Jo,`RPC '${e}' stream ${c} transport opened.`),$t.yo())}),ln(ye,hn.EventType.CLOSE,()=>{Mt||(Mt=!0,we(Jo,`RPC '${e}' stream ${c} transport closed`),$t.So())}),ln(ye,hn.EventType.ERROR,nn=>{Mt||(Mt=!0,Lt(Jo,`RPC '${e}' stream ${c} transport errored:`,nn),$t.So(new dt(We.UNAVAILABLE,"The operation could not be completed")))}),ln(ye,hn.EventType.MESSAGE,nn=>{var Nn;if(!Mt){const Gn=nn.data[0];Ft(!!Gn);const gr=Gn.error||(null===(Nn=Gn[0])||void 0===Nn?void 0:Nn.error);if(gr){we(Jo,`RPC '${e}' stream ${c} received error:`,gr);const ti=gr.status;let Nr=function(Ze){const at=to[Ze];if(void 0!==at)return kc(at)}(ti),ot=gr.message;void 0===Nr&&(Nr=We.INTERNAL,ot="Unknown error status: "+ti+" with message "+gr.message),Mt=!0,$t.So(new dt(Nr,ot)),ye.close()}else we(Jo,`RPC '${e}' stream ${c} received:`,Gn),$t.bo(Gn)}}),ln(C,zt.STAT_EVENT,nn=>{nn.stat===jn.PROXY?we(Jo,`RPC '${e}' stream ${c} detected buffering proxy`):nn.stat===jn.NOPROXY&&we(Jo,`RPC '${e}' stream ${c} detected no buffering proxy`)}),setTimeout(()=>{$t.wo()},0),$t}}function jd(){return typeof window<"u"?window:null}function od(){return typeof document<"u"?document:null}function Pc(a){return new bc(a,!0)}class Ll{constructor(e,r,o=1e3,c=1.5,p=6e4){this.ui=e,this.timerId=r,this.ko=o,this.qo=c,this.Qo=p,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const r=Math.floor(this.Ko+this.zo()),o=Math.max(0,Date.now()-this.Uo),c=Math.max(0,r-o);c>0&&we("ExponentialBackoff",`Backing off for ${c} ms (base delay: ${this.Ko} ms, delay with jitter: ${r} ms, last attempt: ${o} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,c,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){null!==this.$o&&(this.$o.skipDelay(),this.$o=null)}cancel(){null!==this.$o&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}class k{constructor(e,r,o,c,p,g,C,N){this.ui=e,this.Ho=o,this.Jo=c,this.connection=p,this.authCredentialsProvider=g,this.appCheckCredentialsProvider=C,this.listener=N,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new Ll(e,r)}n_(){return 1===this.state||5===this.state||this.r_()}r_(){return 2===this.state||3===this.state}start(){this.e_=0,4!==this.state?this.auth():this.i_()}stop(){var e=this;return(0,ue.A)(function*(){e.n_()&&(yield e.close(0))})()}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&null===this.Zo&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){var e=this;return(0,ue.A)(function*(){if(e.r_())return e.close(0)})()}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,r){var o=this;return(0,ue.A)(function*(){o.u_(),o.c_(),o.t_.cancel(),o.Yo++,4!==e?o.t_.reset():r&&r.code===We.RESOURCE_EXHAUSTED?(lt(r.toString()),lt("Using maximum backoff delay to prevent overloading the backend."),o.t_.Wo()):r&&r.code===We.UNAUTHENTICATED&&3!==o.state&&(o.authCredentialsProvider.invalidateToken(),o.appCheckCredentialsProvider.invalidateToken()),null!==o.stream&&(o.l_(),o.stream.close(),o.stream=null),o.state=e,yield o.listener.mo(r)})()}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),r=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([o,c])=>{this.Yo===r&&this.P_(o,c)},o=>{e(()=>{const c=new dt(We.UNKNOWN,"Fetching auth token failed: "+o.message);return this.I_(c)})})}P_(e,r){const o=this.h_(this.Yo);this.stream=this.T_(e,r),this.stream.Eo(()=>{o(()=>this.listener.Eo())}),this.stream.Ro(()=>{o(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(c=>{o(()=>this.I_(c))}),this.stream.onMessage(c=>{o(()=>1==++this.e_?this.E_(c):this.onNext(c))})}i_(){var e=this;this.state=5,this.t_.Go((0,ue.A)(function*(){e.state=0,e.start()}))}I_(e){return we("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return r=>{this.ui.enqueueAndForget(()=>this.Yo===e?r():(we("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class u extends k{constructor(e,r,o,c,p,g){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,o,c,g),this.serializer=p}T_(e,r){return this.connection.Bo("Listen",e,r)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const r=function At(a,e){let r;if("targetChange"in e){const o="NO_CHANGE"===(H=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===H?1:"REMOVE"===H?2:"CURRENT"===H?3:"RESET"===H?4:pt(),c=e.targetChange.targetIds||[],p=function(H,J){return H.useProto3Json?(Ft(void 0===J||"string"==typeof J),Wr.fromBase64String(J||"")):(Ft(void 0===J||J instanceof Buffer||J instanceof Uint8Array),Wr.fromUint8Array(J||new Uint8Array))}(a,e.targetChange.resumeToken),g=e.targetChange.cause,C=g&&function(H){const J=void 0===H.code?We.UNKNOWN:kc(H.code);return new dt(J,H.message||"")}(g);r=new ju(o,c,p,C||null)}else if("documentChange"in e){const o=e.documentChange,c=js(a,o.document.name),p=no(o.document.updateTime),g=o.document.createTime?no(o.document.createTime):ut.min(),C=new ci({mapValue:{fields:o.document.fields}}),N=Ur.newFoundDocument(c,p,g,C);r=new Hc(o.targetIds||[],o.removedTargetIds||[],N.key,N)}else if("documentDelete"in e){const o=e.documentDelete,c=js(a,o.document),p=o.readTime?no(o.readTime):ut.min(),g=Ur.newNoDocument(c,p);r=new Hc([],o.removedTargetIds||[],g.key,g)}else if("documentRemove"in e){const o=e.documentRemove,c=js(a,o.document);r=new Hc([],o.removedTargetIds||[],c,null)}else{if(!("filter"in e))return pt();{const o=e.filter,{count:c=0,unchangedNames:p}=o,g=new ra(c,p);r=new Id(o.targetId,g)}}var H;return r}(this.serializer,e),o=function(p){if(!("targetChange"in p))return ut.min();const g=p.targetChange;return g.targetIds&&g.targetIds.length?ut.min():g.readTime?no(g.readTime):ut.min()}(e);return this.listener.d_(r,o)}A_(e){const r={};r.database=M(this.serializer),r.addTarget=function(p,g){let C;const N=g.target;if(C=$a(N)?{documents:li(p,N)}:{query:Er(p,N)._t},C.targetId=g.targetId,g.resumeToken.approximateByteSize()>0){C.resumeToken=Xa(p,g.resumeToken);const H=Sa(p,g.expectedCount);null!==H&&(C.expectedCount=H)}else if(g.snapshotVersion.compareTo(ut.min())>0){C.readTime=zr(p,g.snapshotVersion.toTimestamp());const H=Sa(p,g.expectedCount);null!==H&&(C.expectedCount=H)}return C}(this.serializer,e);const o=function Ya(a,e){const r=function(c){switch(c){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return pt()}}(e.purpose);return null==r?null:{"goog-listen-tags":r}}(0,e);o&&(r.labels=o),this.a_(r)}R_(e){const r={};r.database=M(this.serializer),r.removeTarget=e,this.a_(r)}}class m extends k{constructor(e,r,o,c,p,g){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,o,c,g),this.serializer=p}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,r){return this.connection.Bo("Write",e,r)}E_(e){return Ft(!!e.streamToken),this.lastStreamToken=e.streamToken,Ft(!e.writeResults||0===e.writeResults.length),this.listener.f_()}onNext(e){Ft(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const r=function br(a,e){return a&&a.length>0?(Ft(void 0!==e),a.map(r=>function(c,p){let g=no(c.updateTime?c.updateTime:p);return g.isEqual(ut.min())&&(g=no(p)),new Co(g,c.transformResults||[])}(r,e))):[]}(e.writeResults,e.commitTime),o=no(e.commitTime);return this.listener.g_(o,r)}p_(){const e={};e.database=M(this.serializer),this.a_(e)}m_(e){const r={streamToken:this.lastStreamToken,writes:e.map(o=>xt(this.serializer,o))};this.a_(r)}}class b extends class{}{constructor(e,r,o,c){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=o,this.serializer=c,this.y_=!1}w_(){if(this.y_)throw new dt(We.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,r,o,c){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([p,g])=>this.connection.Mo(e,iu(r,o),c,p,g)).catch(p=>{throw"FirebaseError"===p.name?(p.code===We.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),p):new dt(We.UNKNOWN,p.toString())})}Lo(e,r,o,c,p){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([g,C])=>this.connection.Lo(e,iu(r,o),c,g,C,p)).catch(g=>{throw"FirebaseError"===g.name?(g.code===We.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),g):new dt(We.UNKNOWN,g.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class V{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){0===this.S_&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){"Online"===this.state?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,"Online"===e&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const r=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(lt(r),this.D_=!1):we("OnlineStateTracker",r)}x_(){null!==this.b_&&(this.b_.cancel(),this.b_=null)}}class W{constructor(e,r,o,c,p){var g=this;this.localStore=e,this.datastore=r,this.asyncQueue=o,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=p,this.k_._o(C=>{o.enqueueAndForget((0,ue.A)(function*(){var N;Jn(g)&&(we("RemoteStore","Restarting streams for network reachability change."),yield(N=(0,ue.A)(function*(J){const ye=vt(J);ye.L_.add(4),yield ze(ye),ye.q_.set("Unknown"),ye.L_.delete(4),yield oe(ye)}),function H(J){return N.apply(this,arguments)})(g))}))}),this.q_=new V(o,c)}}function oe(a){return _e.apply(this,arguments)}function _e(){return(_e=(0,ue.A)(function*(a){if(Jn(a))for(const e of a.B_)yield e(!0)})).apply(this,arguments)}function ze(a){return ht.apply(this,arguments)}function ht(){return(ht=(0,ue.A)(function*(a){for(const e of a.B_)yield e(!1)})).apply(this,arguments)}function qt(a,e){const r=vt(a);r.N_.has(e.targetId)||(r.N_.set(e.targetId,e),Ln(r)?bn(r):ae(r).r_()&&Bn(r,e))}function cn(a,e){const r=vt(a),o=ae(r);r.N_.delete(e),o.r_()&&Dn(r,e),0===r.N_.size&&(o.r_()?o.o_():Jn(r)&&r.q_.set("Unknown"))}function Bn(a,e){if(a.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ut.min())>0){const r=a.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}ae(a).A_(e)}function Dn(a,e){a.Q_.xe(e),ae(a).R_(e)}function bn(a){a.Q_=new zu({getRemoteKeysForTarget:e=>a.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>a.N_.get(e)||null,tt:()=>a.datastore.serializer.databaseId}),ae(a).start(),a.q_.v_()}function Ln(a){return Jn(a)&&!ae(a).n_()&&a.N_.size>0}function Jn(a){return 0===vt(a).L_.size}function oi(a){a.Q_=void 0}function gi(a){return Kr.apply(this,arguments)}function Kr(){return(Kr=(0,ue.A)(function*(a){a.q_.set("Online")})).apply(this,arguments)}function sr(a){return qo.apply(this,arguments)}function qo(){return(qo=(0,ue.A)(function*(a){a.N_.forEach((e,r)=>{Bn(a,e)})})).apply(this,arguments)}function Lo(a,e){return Gi.apply(this,arguments)}function Gi(){return(Gi=(0,ue.A)(function*(a,e){oi(a),Ln(a)?(a.q_.M_(e),bn(a)):a.q_.set("Unknown")})).apply(this,arguments)}function ui(a,e,r){return To.apply(this,arguments)}function To(){return To=(0,ue.A)(function*(a,e,r){if(a.q_.set("Online"),e instanceof ju&&2===e.state&&e.cause)try{yield(o=(0,ue.A)(function*(p,g){const C=g.cause;for(const N of g.targetIds)p.N_.has(N)&&(yield p.remoteSyncer.rejectListen(N,C),p.N_.delete(N),p.Q_.removeTarget(N))}),function c(p,g){return o.apply(this,arguments)})(a,e)}catch(o){we("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),o),yield $s(a,o)}else if(e instanceof Hc?a.Q_.Ke(e):e instanceof Id?a.Q_.He(e):a.Q_.We(e),!r.isEqual(ut.min()))try{const o=yield Dc(a.localStore);r.compareTo(o)>=0&&(yield function(p,g){const C=p.Q_.rt(g);return C.targetChanges.forEach((N,H)=>{if(N.resumeToken.approximateByteSize()>0){const J=p.N_.get(H);J&&p.N_.set(H,J.withResumeToken(N.resumeToken,g))}}),C.targetMismatches.forEach((N,H)=>{const J=p.N_.get(N);if(!J)return;p.N_.set(N,J.withResumeToken(Wr.EMPTY_BYTE_STRING,J.snapshotVersion)),Dn(p,N);const ye=new ia(J.target,N,H,J.sequenceNumber);Bn(p,ye)}),p.remoteSyncer.applyRemoteEvent(C)}(a,r))}catch(o){we("RemoteStore","Failed to raise snapshot:",o),yield $s(a,o)}var o}),To.apply(this,arguments)}function $s(a,e,r){return ku.apply(this,arguments)}function ku(){return(ku=(0,ue.A)(function*(a,e,r){if(!Ce(e))throw e;a.L_.add(1),yield ze(a),a.q_.set("Offline"),r||(r=()=>Dc(a.localStore)),a.asyncQueue.enqueueRetryable((0,ue.A)(function*(){we("RemoteStore","Retrying IndexedDB access"),yield r(),a.L_.delete(1),yield oe(a)}))})).apply(this,arguments)}function Fl(a,e){return e().catch(r=>$s(a,r,e))}function Ws(a){return sd.apply(this,arguments)}function sd(){return(sd=(0,ue.A)(function*(a){const e=vt(a),r=Je(e);let o=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;zd(e);)try{const c=yield Pl(e.localStore,o);if(null===c){0===e.O_.length&&r.o_();break}o=c.batchId,Pn(e,c)}catch(c){yield $s(e,c)}Wn(e)&&nr(e)})).apply(this,arguments)}function zd(a){return Jn(a)&&a.O_.length<10}function Pn(a,e){a.O_.push(e);const r=Je(a);r.r_()&&r.V_&&r.m_(e.mutations)}function Wn(a){return Jn(a)&&!Je(a).n_()&&a.O_.length>0}function nr(a){Je(a).start()}function ei(a){return io.apply(this,arguments)}function io(){return(io=(0,ue.A)(function*(a){Je(a).p_()})).apply(this,arguments)}function ca(a){return as.apply(this,arguments)}function as(){return(as=(0,ue.A)(function*(a){const e=Je(a);for(const r of a.O_)e.m_(r.mutations)})).apply(this,arguments)}function la(a,e,r){return Si.apply(this,arguments)}function Si(){return(Si=(0,ue.A)(function*(a,e,r){const o=a.O_.shift(),c=fl.from(o,e,r);yield Fl(a,()=>a.remoteSyncer.applySuccessfulWrite(c)),yield Ws(a)})).apply(this,arguments)}function Yh(a,e){return E.apply(this,arguments)}function E(){return E=(0,ue.A)(function*(a,e){var r;e&&Je(a).V_&&(yield(r=(0,ue.A)(function*(c,p){if(ks(C=p.code)&&C!==We.ABORTED){const g=c.O_.shift();Je(c).s_(),yield Fl(c,()=>c.remoteSyncer.rejectFailedWrite(g.batchId,p)),yield Ws(c)}var C}),function o(c,p){return r.apply(this,arguments)})(a,e)),Wn(a)&&nr(a)}),E.apply(this,arguments)}function d(a,e){return v.apply(this,arguments)}function v(){return(v=(0,ue.A)(function*(a,e){const r=vt(a);r.asyncQueue.verifyOperationInProgress(),we("RemoteStore","RemoteStore received new credentials");const o=Jn(r);r.L_.add(3),yield ze(r),o&&r.q_.set("Unknown"),yield r.remoteSyncer.handleCredentialChange(e),r.L_.delete(3),yield oe(r)})).apply(this,arguments)}function I(a,e){return Z.apply(this,arguments)}function Z(){return(Z=(0,ue.A)(function*(a,e){const r=vt(a);e?(r.L_.delete(2),yield oe(r)):e||(r.L_.add(2),yield ze(r),r.q_.set("Unknown"))})).apply(this,arguments)}function ae(a){return a.K_||(a.K_=function(r,o,c){const p=vt(r);return p.w_(),new u(o,p.connection,p.authCredentials,p.appCheckCredentials,p.serializer,c)}(a.datastore,a.asyncQueue,{Eo:gi.bind(null,a),Ro:sr.bind(null,a),mo:Lo.bind(null,a),d_:ui.bind(null,a)}),a.B_.push(function(){var e=(0,ue.A)(function*(r){r?(a.K_.s_(),Ln(a)?bn(a):a.q_.set("Unknown")):(yield a.K_.stop(),oi(a))});return function(r){return e.apply(this,arguments)}}())),a.K_}function Je(a){return a.U_||(a.U_=function(r,o,c){const p=vt(r);return p.w_(),new m(o,p.connection,p.authCredentials,p.appCheckCredentials,p.serializer,c)}(a.datastore,a.asyncQueue,{Eo:()=>Promise.resolve(),Ro:ei.bind(null,a),mo:Yh.bind(null,a),f_:ca.bind(null,a),g_:la.bind(null,a)}),a.B_.push(function(){var e=(0,ue.A)(function*(r){r?(a.U_.s_(),yield Ws(a)):(yield a.U_.stop(),a.O_.length>0&&(we("RemoteStore",`Stopping write stream with ${a.O_.length} pending writes`),a.O_=[]))});return function(r){return e.apply(this,arguments)}}())),a.U_}class Ct{constructor(e,r,o,c,p){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=o,this.op=c,this.removalCallback=p,this.deferred=new Xn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(g=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,r,o,c,p){const g=Date.now()+o,C=new Ct(e,r,g,c,p);return C.start(o),C}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new dt(We.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Wt(a,e){if(lt("AsyncQueue",`${e}: ${a}`),Ce(a))return new dt(We.UNAVAILABLE,`${e}: ${a}`);throw a}class xn{constructor(e){this.comparator=e?(r,o)=>e(r,o)||Zt.comparator(r.key,o.key):(r,o)=>Zt.comparator(r.key,o.key),this.keyedMap=Ia(),this.sortedSet=new Fr(this.comparator)}static emptySet(e){return new xn(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((r,o)=>(e(r),!1))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof xn)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),o=e.sortedSet.getIterator();for(;r.hasNext();){const c=r.getNext().key,p=o.getNext().key;if(!c.isEqual(p))return!1}return!0}toString(){const e=[];return this.forEach(r=>{e.push(r.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,r){const o=new xn;return o.comparator=this.comparator,o.keyedMap=e,o.sortedSet=r,o}}class ur{constructor(){this.W_=new Fr(Zt.comparator)}track(e){const r=e.doc.key,o=this.W_.get(r);o?0!==e.type&&3===o.type?this.W_=this.W_.insert(r,e):3===e.type&&1!==o.type?this.W_=this.W_.insert(r,{type:o.type,doc:e.doc}):2===e.type&&2===o.type?this.W_=this.W_.insert(r,{type:2,doc:e.doc}):2===e.type&&0===o.type?this.W_=this.W_.insert(r,{type:0,doc:e.doc}):1===e.type&&0===o.type?this.W_=this.W_.remove(r):1===e.type&&2===o.type?this.W_=this.W_.insert(r,{type:1,doc:o.doc}):0===e.type&&1===o.type?this.W_=this.W_.insert(r,{type:2,doc:e.doc}):pt():this.W_=this.W_.insert(r,e)}G_(){const e=[];return this.W_.inorderTraversal((r,o)=>{e.push(o)}),e}}class rr{constructor(e,r,o,c,p,g,C,N,H){this.query=e,this.docs=r,this.oldDocs=o,this.docChanges=c,this.mutatedKeys=p,this.fromCache=g,this.syncStateChanged=C,this.excludesMetadataChanges=N,this.hasCachedResults=H}static fromInitialDocuments(e,r,o,c,p){const g=[];return r.forEach(C=>{g.push({type:0,doc:C})}),new rr(e,r,xn.emptySet(r),g,o,c,!0,!1,p)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&vs(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,o=e.docChanges;if(r.length!==o.length)return!1;for(let c=0;c<r.length;c++)if(r[c].type!==o[c].type||!r[c].doc.isEqual(o[c].doc))return!1;return!0}}class Ri{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class oc{constructor(){this.queries=Jc(),this.onlineState="Unknown",this.Y_=new Set}terminate(){!function(r,o){const c=vt(r),p=c.queries;c.queries=Jc(),p.forEach((g,C)=>{for(const N of C.j_)N.onError(o)})}(this,new dt(We.ABORTED,"Firestore shutting down"))}}function Jc(){return new xo(a=>Ga(a),vs)}function Ba(a,e){return Bl.apply(this,arguments)}function Bl(){return(Bl=(0,ue.A)(function*(a,e){const r=vt(a);let o=3;const c=e.query;let p=r.queries.get(c);p?!p.H_()&&e.J_()&&(o=2):(p=new Ri,o=e.J_()?0:1);try{switch(o){case 0:p.z_=yield r.onListen(c,!0);break;case 1:p.z_=yield r.onListen(c,!1);break;case 2:yield r.onFirstRemoteStoreListen(c)}}catch(g){const C=Wt(g,`Initialization of query '${Ls(e.query)}' failed`);return void e.onError(C)}r.queries.set(c,p),p.j_.push(e),e.Z_(r.onlineState),p.z_&&e.X_(p.z_)&&ad(r)})).apply(this,arguments)}function bu(a,e){return Ud.apply(this,arguments)}function Ud(){return(Ud=(0,ue.A)(function*(a,e){const r=vt(a),o=e.query;let c=3;const p=r.queries.get(o);if(p){const g=p.j_.indexOf(e);g>=0&&(p.j_.splice(g,1),0===p.j_.length?c=e.J_()?0:1:!p.H_()&&e.J_()&&(c=2))}switch(c){case 0:return r.queries.delete(o),r.onUnlisten(o,!0);case 1:return r.queries.delete(o),r.onUnlisten(o,!1);case 2:return r.onLastRemoteStoreUnlisten(o);default:return}})).apply(this,arguments)}function Jh(a,e){const r=vt(a);let o=!1;for(const c of e){const g=r.queries.get(c.query);if(g){for(const C of g.j_)C.X_(c)&&(o=!0);g.z_=c}}o&&ad(r)}function Hd(a,e,r){const o=vt(a),c=o.queries.get(e);if(c)for(const p of c.j_)p.onError(r);o.queries.delete(e)}function ad(a){a.Y_.forEach(e=>{e.next()})}var ja,qd;(qd=ja||(ja={})).ea="default",qd.Cache="cache";class $d{constructor(e,r,o){this.query=e,this.ta=r,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=o||{}}X_(e){if(!this.options.includeMetadataChanges){const o=[];for(const c of e.docChanges)3!==c.type&&o.push(c);e=new rr(e.query,e.docs,e.oldDocs,o,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.na?this.ia(e)&&(this.ta.next(e),r=!0):this.sa(e,this.onlineState)&&(this.oa(e),r=!0),this.ra=e,r}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let r=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),r=!0),r}sa(e,r){return!e.fromCache||!this.J_()||(!this.options._a||!("Offline"!==r))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===r)}ia(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}oa(e){e=rr.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==ja.Cache}}class e1{constructor(e,r){this.aa=e,this.byteLength=r}ua(){return"metadata"in this.aa}}class Tf{constructor(e){this.serializer=e}Es(e){return js(this.serializer,e)}ds(e){return e.metadata.exists?ne(this.serializer,e.document,!1):Ur.newNoDocument(this.Es(e.metadata.name),this.As(e.metadata.readTime))}As(e){return no(e)}}class hp{constructor(e,r,o){this.ca=e,this.localStore=r,this.serializer=o,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=N2(e)}la(e){this.progress.bytesLoaded+=e.byteLength;let r=this.progress.documentsLoaded;if(e.aa.namedQuery)this.queries.push(e.aa.namedQuery);else if(e.aa.documentMetadata){this.documents.push({metadata:e.aa.documentMetadata}),e.aa.documentMetadata.exists||++r;const o=Dt.fromString(e.aa.documentMetadata.name);this.collectionGroups.add(o.get(o.length-2))}else e.aa.document&&(this.documents[this.documents.length-1].document=e.aa.document,++r);return r!==this.progress.documentsLoaded?(this.progress.documentsLoaded=r,Object.assign({},this.progress)):null}ha(e){const r=new Map,o=new Tf(this.serializer);for(const c of e)if(c.metadata.queries){const p=o.Es(c.metadata.name);for(const g of c.metadata.queries){const C=(r.get(g)||pr()).add(p);r.set(g,C)}}return r}complete(){var e=this;return(0,ue.A)(function*(){const r=yield function Gh(a,e,r,o){return nd.apply(this,arguments)}(e.localStore,new Tf(e.serializer),e.documents,e.ca.id),o=e.ha(e.documents);for(const c of e.queries)yield wa(e.localStore,c,o.get(c.name));return e.progress.taskState="Success",{progress:e.progress,Pa:e.collectionGroups,Ia:r}})()}}function N2(a){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:a.totalDocuments,totalBytes:a.totalBytes}}class Df{constructor(e){this.key=e}}class Sf{constructor(e){this.key=e}}class Rf{constructor(e,r){this.query=e,this.Ta=r,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=pr(),this.mutatedKeys=pr(),this.Aa=gc(e),this.Ra=new xn(this.Aa)}get Va(){return this.Ta}ma(e,r){const o=r?r.fa:new ur,c=r?r.Ra:this.Ra;let p=r?r.mutatedKeys:this.mutatedKeys,g=c,C=!1;const N="F"===this.query.limitType&&c.size===this.query.limit?c.last():null,H="L"===this.query.limitType&&c.size===this.query.limit?c.first():null;if(e.inorderTraversal((J,ye)=>{const He=c.get(J),Mt=Fs(this.query,ye)?ye:null,$t=!!He&&this.mutatedKeys.has(He.key),ln=!!Mt&&(Mt.hasLocalMutations||this.mutatedKeys.has(Mt.key)&&Mt.hasCommittedMutations);let nn=!1;He&&Mt?He.data.isEqual(Mt.data)?$t!==ln&&(o.track({type:3,doc:Mt}),nn=!0):this.ga(He,Mt)||(o.track({type:2,doc:Mt}),nn=!0,(N&&this.Aa(Mt,N)>0||H&&this.Aa(Mt,H)<0)&&(C=!0)):!He&&Mt?(o.track({type:0,doc:Mt}),nn=!0):He&&!Mt&&(o.track({type:1,doc:He}),nn=!0,(N||H)&&(C=!0)),nn&&(Mt?(g=g.add(Mt),p=ln?p.add(J):p.delete(J)):(g=g.delete(J),p=p.delete(J)))}),null!==this.query.limit)for(;g.size>this.query.limit;){const J="F"===this.query.limitType?g.last():g.first();g=g.delete(J.key),p=p.delete(J.key),o.track({type:1,doc:J})}return{Ra:g,fa:o,ns:C,mutatedKeys:p}}ga(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,o,c){const p=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const g=e.fa.G_();g.sort((J,ye)=>function(Mt,$t){const ln=nn=>{switch(nn){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return pt()}};return ln(Mt)-ln($t)}(J.type,ye.type)||this.Aa(J.doc,ye.doc)),this.pa(o),c=null!=c&&c;const C=r&&!c?this.ya():[],N=0===this.da.size&&this.current&&!c?1:0,H=N!==this.Ea;return this.Ea=N,0!==g.length||H?{snapshot:new rr(this.query,e.Ra,p,g,e.mutatedKeys,0===N,H,!1,!!o&&o.resumeToken.approximateByteSize()>0),wa:C}:{wa:C}}Z_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new ur,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(r=>this.Ta=this.Ta.add(r)),e.modifiedDocuments.forEach(r=>{}),e.removedDocuments.forEach(r=>this.Ta=this.Ta.delete(r)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=pr(),this.Ra.forEach(o=>{this.Sa(o.key)&&(this.da=this.da.add(o.key))});const r=[];return e.forEach(o=>{this.da.has(o)||r.push(new Sf(o))}),this.da.forEach(o=>{e.has(o)||r.push(new Df(o))}),r}ba(e){this.Ta=e.Ts,this.da=pr();const r=this.ma(e.documents);return this.applyChanges(r,!0)}Da(){return rr.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,0===this.Ea,this.hasCachedResults)}}class Pf{constructor(e,r,o){this.query=e,this.targetId=r,this.view=o}}class V2{constructor(e){this.key=e,this.va=!1}}class pp{constructor(e,r,o,c,p,g){this.localStore=e,this.remoteStore=r,this.eventManager=o,this.sharedClientState=c,this.currentUser=p,this.maxConcurrentLimboResolutions=g,this.Ca={},this.Fa=new xo(C=>Ga(C),vs),this.Ma=new Map,this.xa=new Set,this.Oa=new Fr(Zt.comparator),this.Na=new Map,this.La=new Xu,this.Ba={},this.ka=new Map,this.qa=nc.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return!0===this.Qa}}function t1(a,e){return fp.apply(this,arguments)}function fp(){return(fp=(0,ue.A)(function*(a,e,r=!0){const o=c1(a);let c;const p=o.Fa.get(e);return p?(o.sharedClientState.addLocalQueryTarget(p.targetId),c=p.view.Da()):c=yield Nf(o,e,r,!0),c})).apply(this,arguments)}function Of(a,e){return Wd.apply(this,arguments)}function Wd(){return(Wd=(0,ue.A)(function*(a,e){const r=c1(a);yield Nf(r,e,!0,!1)})).apply(this,arguments)}function Nf(a,e,r,o){return n1.apply(this,arguments)}function n1(){return(n1=(0,ue.A)(function*(a,e,r,o){const c=yield Xc(a.localStore,$i(e)),p=c.targetId,g=a.sharedClientState.addLocalQueryTarget(p,r);let C;return o&&(C=yield cd(a,e,p,"current"===g,c.resumeToken)),a.isPrimaryClient&&r&&qt(a.remoteStore,c),C})).apply(this,arguments)}function cd(a,e,r,o,c){return Vf.apply(this,arguments)}function Vf(){return Vf=(0,ue.A)(function*(a,e,r,o,c){a.Ka=(ye,He,Mt)=>{return($t=(0,ue.A)(function*(nn,Nn,Gn,On){let gr=Nn.view.ma(Gn);gr.ns&&(gr=yield Fa(nn.localStore,Nn.query,!1).then(({documents:Be})=>Nn.view.ma(Be,gr)));const ti=On&&On.targetChanges.get(Nn.targetId),Nr=On&&null!=On.targetMismatches.get(Nn.targetId),ot=Nn.view.applyChanges(gr,nn.isPrimaryClient,ti,Nr);return jl(nn,Nn.targetId,ot.wa),ot.snapshot}),function ln(nn,Nn,Gn,On){return $t.apply(this,arguments)})(a,ye,He,Mt);var $t};const p=yield Fa(a.localStore,e,!0),g=new Rf(e,p.Ts),C=g.ma(p.documents),N=_a.createSynthesizedTargetChangeForCurrentChange(r,o&&"Offline"!==a.onlineState,c),H=g.applyChanges(C,a.isPrimaryClient,N);jl(a,r,H.wa);const J=new Pf(e,r,g);return a.Fa.set(e,J),a.Ma.has(r)?a.Ma.get(r).push(e):a.Ma.set(r,[e]),H.snapshot}),Vf.apply(this,arguments)}function L2(a,e,r){return Lf.apply(this,arguments)}function Lf(){return(Lf=(0,ue.A)(function*(a,e,r){const o=vt(a),c=o.Fa.get(e),p=o.Ma.get(c.targetId);if(p.length>1)return o.Ma.set(c.targetId,p.filter(g=>!vs(g,e))),void o.Fa.delete(e);o.isPrimaryClient?(o.sharedClientState.removeLocalQueryTarget(c.targetId),o.sharedClientState.isActiveQueryTarget(c.targetId)||(yield Sc(o.localStore,c.targetId,!1).then(()=>{o.sharedClientState.clearQueryState(c.targetId),r&&cn(o.remoteStore,c.targetId),ud(o,c.targetId)}).catch(P))):(ud(o,c.targetId),yield Sc(o.localStore,c.targetId,!0))})).apply(this,arguments)}function cg(a,e){return Ff.apply(this,arguments)}function Ff(){return(Ff=(0,ue.A)(function*(a,e){const r=vt(a),o=r.Fa.get(e),c=r.Ma.get(o.targetId);r.isPrimaryClient&&1===c.length&&(r.sharedClientState.removeLocalQueryTarget(o.targetId),cn(r.remoteStore,o.targetId))})).apply(this,arguments)}function mp(){return(mp=(0,ue.A)(function*(a,e,r){const o=H2(a);try{const c=yield function(g,C){const N=vt(g),H=it.now(),J=C.reduce((Mt,$t)=>Mt.add($t.key),pr());let ye,He;return N.persistence.runTransaction("Locally write mutations","readwrite",Mt=>{let $t=co(),ln=pr();return N.cs.getEntries(Mt,J).next(nn=>{$t=nn,$t.forEach((Nn,Gn)=>{Gn.isValidDocument()||(ln=ln.add(Nn))})}).next(()=>N.localDocuments.getOverlayedDocuments(Mt,$t)).next(nn=>{ye=nn;const Nn=[];for(const Gn of C){const On=hl(Gn,ye.get(Gn.key).overlayedDocument);null!=On&&Nn.push(new os(Gn.key,On,Qo(On.value.mapValue),wr.exists(!0)))}return N.mutationQueue.addMutationBatch(Mt,H,Nn,C)}).next(nn=>{He=nn;const Nn=nn.applyToLocalDocumentSet(ye,ln);return N.documentOverlayCache.saveOverlays(Mt,nn.batchId,Nn)})}).then(()=>({batchId:He.batchId,changes:Vu(ye)}))}(o.localStore,e);o.sharedClientState.addPendingMutation(c.batchId),function(g,C,N){let H=g.Ba[g.currentUser.toKey()];H||(H=new Fr(Fe)),H=H.insert(C,N),g.Ba[g.currentUser.toKey()]=H}(o,c.batchId,r),yield zl(o,c.changes),yield Ws(o.remoteStore)}catch(c){const p=Wt(c,"Failed to persist write");r.reject(p)}})).apply(this,arguments)}function r1(a,e){return o1.apply(this,arguments)}function o1(){return(o1=(0,ue.A)(function*(a,e){const r=vt(a);try{const o=yield function Ma(a,e){const r=vt(a),o=e.snapshotVersion;let c=r.os;return r.persistence.runTransaction("Apply remote event","readwrite-primary",p=>{const g=r.cs.newChangeBuffer({trackRemovals:!0});c=r.os;const C=[];e.targetChanges.forEach((J,ye)=>{const He=c.get(ye);if(!He)return;C.push(r.Ur.removeMatchingKeys(p,J.removedDocuments,ye).next(()=>r.Ur.addMatchingKeys(p,J.addedDocuments,ye)));let Mt=He.withSequenceNumber(p.currentSequenceNumber);var ln,nn,Nn;null!==e.targetMismatches.get(ye)?Mt=Mt.withResumeToken(Wr.EMPTY_BYTE_STRING,ut.min()).withLastLimboFreeSnapshotVersion(ut.min()):J.resumeToken.approximateByteSize()>0&&(Mt=Mt.withResumeToken(J.resumeToken,o)),c=c.insert(ye,Mt),nn=Mt,Nn=J,(0===(ln=He).resumeToken.approximateByteSize()||nn.snapshotVersion.toMicroseconds()-ln.snapshotVersion.toMicroseconds()>=3e8||Nn.addedDocuments.size+Nn.modifiedDocuments.size+Nn.removedDocuments.size>0)&&C.push(r.Ur.updateTargetData(p,Mt))});let N=co(),H=pr();if(e.documentUpdates.forEach(J=>{e.resolvedLimboDocuments.has(J)&&C.push(r.persistence.referenceDelegate.updateLimboDocument(p,J))}),C.push(aa(p,g,e.documentUpdates).next(J=>{N=J.Ps,H=J.Is})),!o.isEqual(ut.min())){const J=r.Ur.getLastRemoteSnapshotVersion(p).next(ye=>r.Ur.setTargetsMetadata(p,p.currentSequenceNumber,o));C.push(J)}return O.waitFor(C).next(()=>g.apply(p)).next(()=>r.localDocuments.getLocalViewOfDocuments(p,N,H)).next(()=>N)}).then(p=>(r.os=c,p))}(r.localStore,e);e.targetChanges.forEach((c,p)=>{const g=r.Na.get(p);g&&(Ft(c.addedDocuments.size+c.modifiedDocuments.size+c.removedDocuments.size<=1),c.addedDocuments.size>0?g.va=!0:c.modifiedDocuments.size>0?Ft(g.va):c.removedDocuments.size>0&&(Ft(g.va),g.va=!1))}),yield zl(r,o,e)}catch(o){yield P(o)}})).apply(this,arguments)}function ld(a,e,r){const o=vt(a);if(o.isPrimaryClient&&0===r||!o.isPrimaryClient&&1===r){const c=[];o.Fa.forEach((p,g)=>{const C=g.view.Z_(e);C.snapshot&&c.push(C.snapshot)}),function(g,C){const N=vt(g);N.onlineState=C;let H=!1;N.queries.forEach((J,ye)=>{for(const He of ye.j_)He.Z_(C)&&(H=!0)}),H&&ad(N)}(o.eventManager,e),c.length&&o.Ca.d_(c),o.onlineState=e,o.isPrimaryClient&&o.sharedClientState.setOnlineState(e)}}function lg(a,e,r){return Bf.apply(this,arguments)}function Bf(){return(Bf=(0,ue.A)(function*(a,e,r){const o=vt(a);o.sharedClientState.updateQueryState(e,"rejected",r);const c=o.Na.get(e),p=c&&c.key;if(p){let g=new Fr(Zt.comparator);g=g.insert(p,Ur.newNoDocument(p,ut.min()));const C=pr().add(p),N=new bs(ut.min(),new Map,new Fr(Fe),g,C);yield r1(o,N),o.Oa=o.Oa.remove(p),o.Na.delete(e),qf(o)}else yield Sc(o.localStore,e,!1).then(()=>ud(o,e,r)).catch(P)})).apply(this,arguments)}function M_(a,e){return jf.apply(this,arguments)}function jf(){return(jf=(0,ue.A)(function*(a,e){const r=vt(a),o=e.batch.batchId;try{const c=yield function $h(a,e){const r=vt(a);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",o=>{const c=e.batch.keys(),p=r.cs.newChangeBuffer({trackRemovals:!0});return function(C,N,H,J){const ye=H.batch,He=ye.keys();let Mt=O.resolve();return He.forEach($t=>{Mt=Mt.next(()=>J.getEntry(N,$t)).next(ln=>{const nn=H.docVersions.get($t);Ft(null!==nn),ln.version.compareTo(nn)<0&&(ye.applyToRemoteDocument(ln,H),ln.isValidDocument()&&(ln.setReadTime(H.commitVersion),J.addEntry(ln)))})}),Mt.next(()=>C.mutationQueue.removeMutationBatch(N,ye))}(r,o,e,p).next(()=>p.apply(o)).next(()=>r.mutationQueue.performConsistencyCheck(o)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(o,c,e.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(o,function(C){let N=pr();for(let H=0;H<C.mutationResults.length;++H)C.mutationResults[H].transformResults.length>0&&(N=N.add(C.batch.mutations[H].key));return N}(e))).next(()=>r.localDocuments.getDocuments(o,c))})}(r.localStore,e);yp(r,o,null),s1(r,o),r.sharedClientState.updateMutationState(o,"acknowledged"),yield zl(r,c)}catch(c){yield P(c)}})).apply(this,arguments)}function zf(a,e,r){return Uf.apply(this,arguments)}function Uf(){return(Uf=(0,ue.A)(function*(a,e,r){const o=vt(a);try{const c=yield function(g,C){const N=vt(g);return N.persistence.runTransaction("Reject batch","readwrite-primary",H=>{let J;return N.mutationQueue.lookupMutationBatch(H,C).next(ye=>(Ft(null!==ye),J=ye.keys(),N.mutationQueue.removeMutationBatch(H,ye))).next(()=>N.mutationQueue.performConsistencyCheck(H)).next(()=>N.documentOverlayCache.removeOverlaysForBatchId(H,J,C)).next(()=>N.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(H,J)).next(()=>N.localDocuments.getDocuments(H,J))})}(o.localStore,e);yp(o,e,r),s1(o,e),o.sharedClientState.updateMutationState(e,"rejected",r),yield zl(o,c)}catch(c){yield P(c)}})).apply(this,arguments)}function Kd(){return(Kd=(0,ue.A)(function*(a,e){const r=vt(a);Jn(r.remoteStore)||we("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const o=yield function(g){const C=vt(g);return C.persistence.runTransaction("Get highest unacknowledged batch id","readonly",N=>C.mutationQueue.getHighestUnacknowledgedBatchId(N))}(r.localStore);if(-1===o)return void e.resolve();const c=r.ka.get(o)||[];c.push(e),r.ka.set(o,c)}catch(o){const c=Wt(o,"Initialization of waitForPendingWrites() operation failed");e.reject(c)}})).apply(this,arguments)}function s1(a,e){(a.ka.get(e)||[]).forEach(r=>{r.resolve()}),a.ka.delete(e)}function yp(a,e,r){const o=vt(a);let c=o.Ba[o.currentUser.toKey()];if(c){const p=c.get(e);p&&(r?p.reject(r):p.resolve(),c=c.remove(e)),o.Ba[o.currentUser.toKey()]=c}}function ud(a,e,r=null){a.sharedClientState.removeLocalQueryTarget(e);for(const o of a.Ma.get(e))a.Fa.delete(o),r&&a.Ca.$a(o,r);a.Ma.delete(e),a.isPrimaryClient&&a.La.gr(e).forEach(o=>{a.La.containsKey(o)||Hf(a,o)})}function Hf(a,e){a.xa.delete(e.path.canonicalString());const r=a.Oa.get(e);null!==r&&(cn(a.remoteStore,r),a.Oa=a.Oa.remove(e),a.Na.delete(r),qf(a))}function jl(a,e,r){for(const o of r)o instanceof Df?(a.La.addReference(o.key,e),ug(a,o)):o instanceof Sf?(we("SyncEngine","Document no longer in limbo: "+o.key),a.La.removeReference(o.key,e),a.La.containsKey(o.key)||Hf(a,o.key)):pt()}function ug(a,e){const r=e.key,o=r.path.canonicalString();a.Oa.get(r)||a.xa.has(o)||(we("SyncEngine","New document in limbo: "+r),a.xa.add(o),qf(a))}function qf(a){for(;a.xa.size>0&&a.Oa.size<a.maxConcurrentLimboResolutions;){const e=a.xa.values().next().value;a.xa.delete(e);const r=new Zt(Dt.fromString(e)),o=a.qa.next();a.Na.set(o,new V2(r)),a.Oa=a.Oa.insert(r,o),qt(a.remoteStore,new ia($i(rs(r.path)),o,"TargetPurposeLimboResolution",Ht.oe))}}function zl(a,e,r){return $f.apply(this,arguments)}function $f(){return $f=(0,ue.A)(function*(a,e,r){const o=vt(a),c=[],p=[],g=[];var C;o.Fa.isEmpty()||(o.Fa.forEach((C,N)=>{g.push(o.Ka(N,e,r).then(H=>{var J;if((H||r)&&o.isPrimaryClient){const ye=H?!H.fromCache:null===(J=r?.targetChanges.get(N.targetId))||void 0===J?void 0:J.current;o.sharedClientState.updateQueryState(N.targetId,ye?"current":"not-current")}if(H){c.push(H);const ye=Ju.Wi(N.targetId,H);p.push(ye)}}))}),yield Promise.all(g),o.Ca.d_(c),yield(C=(0,ue.A)(function*(H,J){const ye=vt(H);try{yield ye.persistence.runTransaction("notifyLocalViewChanges","readwrite",He=>O.forEach(J,Mt=>O.forEach(Mt.$i,$t=>ye.persistence.referenceDelegate.addReference(He,Mt.targetId,$t)).next(()=>O.forEach(Mt.Ui,$t=>ye.persistence.referenceDelegate.removeReference(He,Mt.targetId,$t)))))}catch(He){if(!Ce(He))throw He;we("LocalStore","Failed to update sequence numbers: "+He)}for(const He of J){const Mt=He.targetId;if(!He.fromCache){const $t=ye.os.get(Mt),nn=$t.withLastLimboFreeSnapshotVersion($t.snapshotVersion);ye.os=ye.os.insert(Mt,nn)}}}),function N(H,J){return C.apply(this,arguments)})(o.localStore,p))}),$f.apply(this,arguments)}function dg(a,e){return Oc.apply(this,arguments)}function Oc(){return(Oc=(0,ue.A)(function*(a,e){const r=vt(a);if(!r.currentUser.isEqual(e)){we("SyncEngine","User change. New user:",e.toKey());const o=yield Bd(r.localStore,e);r.currentUser=e,(p=r).ka.forEach(C=>{C.forEach(N=>{N.reject(new dt(We.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),p.ka.clear(),r.sharedClientState.handleUserChange(e,o.removedBatchIds,o.addedBatchIds),yield zl(r,o.hs)}var p})).apply(this,arguments)}function Qd(a,e){const r=vt(a),o=r.Na.get(e);if(o&&o.va)return pr().add(o.key);{let c=pr();const p=r.Ma.get(e);if(!p)return c;for(const g of p){const C=r.Fa.get(g);c=c.unionWith(C.view.Va)}return c}}function hg(a,e){return Wf.apply(this,arguments)}function Wf(){return(Wf=(0,ue.A)(function*(a,e){const r=vt(a),o=yield Fa(r.localStore,e.query,!0),c=e.view.ba(o);return r.isPrimaryClient&&jl(r,e.targetId,c.wa),c})).apply(this,arguments)}function pg(a,e){return Gf.apply(this,arguments)}function Gf(){return(Gf=(0,ue.A)(function*(a,e){const r=vt(a);return Wh(r.localStore,e).then(o=>zl(r,o))})).apply(this,arguments)}function fg(a,e,r,o){return Kf.apply(this,arguments)}function Kf(){return(Kf=(0,ue.A)(function*(a,e,r,o){const c=vt(a),p=yield function(C,N){const H=vt(C),J=vt(H.mutationQueue);return H.persistence.runTransaction("Lookup mutation documents","readonly",ye=>J.Mn(ye,N).next(He=>He?H.localDocuments.getDocuments(ye,He):O.resolve(null)))}(c.localStore,e);var N;null!==p?("pending"===r?yield Ws(c.remoteStore):"acknowledged"===r||"rejected"===r?(yp(c,e,o||null),s1(c,e),N=e,vt(vt(c.localStore).mutationQueue).On(N)):pt(),yield zl(c,p)):we("SyncEngine","Cannot apply mutation batch with id: "+e)})).apply(this,arguments)}function Qf(){return(Qf=(0,ue.A)(function*(a,e){const r=vt(a);if(c1(r),H2(r),!0===e&&!0!==r.Qa){const o=r.sharedClientState.getAllActiveQueryTargets(),c=yield j2(r,o.toArray());r.Qa=!0,yield I(r.remoteStore,!0);for(const p of c)qt(r.remoteStore,p)}else if(!1===e&&!1!==r.Qa){const o=[];let c=Promise.resolve();r.Ma.forEach((p,g)=>{r.sharedClientState.isLocalQueryTarget(g)?o.push(g):c=c.then(()=>(ud(r,g),Sc(r.localStore,g,!0))),cn(r.remoteStore,g)}),yield c,yield j2(r,o),function(g){const C=vt(g);C.Na.forEach((N,H)=>{cn(C.remoteStore,H)}),C.La.pr(),C.Na=new Map,C.Oa=new Fr(Zt.comparator)}(r),r.Qa=!1,yield I(r.remoteStore,!1)}})).apply(this,arguments)}function j2(a,e,r){return Zf.apply(this,arguments)}function Zf(){return(Zf=(0,ue.A)(function*(a,e,r){const o=vt(a),c=[],p=[];for(const g of e){let C;const N=o.Ma.get(g);if(N&&0!==N.length){C=yield Xc(o.localStore,$i(N[0]));for(const H of N){const J=o.Fa.get(H),ye=yield hg(o,J);ye.snapshot&&p.push(ye.snapshot)}}else{const H=yield ed(o.localStore,g);C=yield Xc(o.localStore,H),yield cd(o,z2(H),g,!1,C.resumeToken)}c.push(C)}return o.Ca.d_(p),c})).apply(this,arguments)}function z2(a){return Js(a.path,a.collectionGroup,a.orderBy,a.filters,a.limit,"F",a.startAt,a.endAt)}function a1(a){return r=vt(a).localStore,vt(vt(r).persistence).Qi();var r}function Ul(a,e,r,o){return dd.apply(this,arguments)}function dd(){return(dd=(0,ue.A)(function*(a,e,r,o){const c=vt(a);if(c.Qa)return void we("SyncEngine","Ignoring unexpected query state notification.");const p=c.Ma.get(e);if(p&&p.length>0)switch(r){case"current":case"not-current":{const g=yield Wh(c.localStore,ya(p[0])),C=bs.createSynthesizedRemoteEventForCurrentChange(e,"current"===r,Wr.EMPTY_BYTE_STRING);yield zl(c,g,C);break}case"rejected":yield Sc(c.localStore,e,!0),ud(c,e,o);break;default:pt()}})).apply(this,arguments)}function U2(a,e,r){return gp.apply(this,arguments)}function gp(){return(gp=(0,ue.A)(function*(a,e,r){const o=c1(a);if(o.Qa){for(const c of e){if(o.Ma.has(c)&&o.sharedClientState.isActiveQueryTarget(c)){we("SyncEngine","Adding an already active target "+c);continue}const p=yield ed(o.localStore,c),g=yield Xc(o.localStore,p);yield cd(o,z2(p),g.targetId,!1,g.resumeToken),qt(o.remoteStore,g)}for(const c of r)o.Ma.has(c)&&(yield Sc(o.localStore,c,!1).then(()=>{cn(o.remoteStore,c),ud(o,c)}).catch(P))}})).apply(this,arguments)}function c1(a){const e=vt(a);return e.remoteStore.remoteSyncer.applyRemoteEvent=r1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Qd.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=lg.bind(null,e),e.Ca.d_=Jh.bind(null,e.eventManager),e.Ca.$a=Hd.bind(null,e.eventManager),e}function H2(a){const e=vt(a);return e.remoteStore.remoteSyncer.applySuccessfulWrite=M_.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=zf.bind(null,e),e}let l1=(()=>{class a{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(r){var o=this;return(0,ue.A)(function*(){o.serializer=Pc(r.databaseInfo.databaseId),o.sharedClientState=o.Wa(r),o.persistence=o.Ga(r),yield o.persistence.start(),o.localStore=o.za(r),o.gcScheduler=o.ja(r,o.localStore),o.indexBackfillerScheduler=o.Ha(r,o.localStore)})()}ja(r,o){return null}Ha(r,o){return null}za(r){return Rl(this.persistence,new Tc,r.initialUser,this.serializer)}Ga(r){return new qh(Il.Zr,this.serializer)}Wa(r){return new Zh}terminate(){var r=this;return(0,ue.A)(function*(){var o,c;null===(o=r.gcScheduler)||void 0===o||o.stop(),null===(c=r.indexBackfillerScheduler)||void 0===c||c.stop(),r.sharedClientState.shutdown(),yield r.persistence.shutdown()})()}}return a.provider={build:()=>new a},a})();class Xf extends l1{constructor(e){super(),this.cacheSizeBytes=e}ja(e,r){return Ft(this.persistence.referenceDelegate instanceof ic),new hu(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,r)}Ga(e){const r=void 0!==this.cacheSizeBytes?Io.withCacheSize(this.cacheSizeBytes):Io.DEFAULT;return new qh(o=>ic.Zr(o,r),this.serializer)}}class u1 extends l1{constructor(e,r,o){super(),this.Ja=e,this.cacheSizeBytes=r,this.forceOwnership=o,this.kind="persistent",this.synchronizeTabs=!1}initialize(e){var r=()=>super.initialize,o=this;return(0,ue.A)(function*(){yield r().call(o,e),yield o.Ja.initialize(o,e),yield H2(o.Ja.syncEngine),yield Ws(o.Ja.remoteStore),yield o.persistence.yi(()=>(o.gcScheduler&&!o.gcScheduler.started&&o.gcScheduler.start(),o.indexBackfillerScheduler&&!o.indexBackfillerScheduler.started&&o.indexBackfillerScheduler.start(),Promise.resolve()))})()}za(e){return Rl(this.persistence,new Tc,e.initialUser,this.serializer)}ja(e,r){return new hu(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,r)}Ha(e,r){const o=new Rt(r,this.persistence);return new Ve(e.asyncQueue,o)}Ga(e){const r=Dl(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),o=void 0!==this.cacheSizeBytes?Io.withCacheSize(this.cacheSizeBytes):Io.DEFAULT;return new Yu(this.synchronizeTabs,r,e.clientId,o,e.asyncQueue,jd(),od(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Wa(e){return new Zh}}class mg extends u1{constructor(e,r){super(e,r,!1),this.Ja=e,this.cacheSizeBytes=r,this.synchronizeTabs=!0}initialize(e){var r=()=>super.initialize,o=this;return(0,ue.A)(function*(){yield r().call(o,e);const c=o.Ja.syncEngine;o.sharedClientState instanceof Yc&&(o.sharedClientState.syncEngine={no:fg.bind(null,c),ro:Ul.bind(null,c),io:U2.bind(null,c),Qi:a1.bind(null,c),eo:pg.bind(null,c)},yield o.sharedClientState.start()),yield o.persistence.yi(function(){var p=(0,ue.A)(function*(g){yield function B2(a,e){return Qf.apply(this,arguments)}(o.Ja.syncEngine,g),o.gcScheduler&&(g&&!o.gcScheduler.started?o.gcScheduler.start():g||o.gcScheduler.stop()),o.indexBackfillerScheduler&&(g&&!o.indexBackfillerScheduler.started?o.indexBackfillerScheduler.start():g||o.indexBackfillerScheduler.stop())});return function(g){return p.apply(this,arguments)}}())})()}Wa(e){const r=jd();if(!Yc.D(r))throw new dt(We.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const o=Dl(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Yc(r,e.asyncQueue,o,e.clientId,e.initialUser)}}let d1=(()=>{class a{initialize(r,o){var c=this;return(0,ue.A)(function*(){c.localStore||(c.localStore=r.localStore,c.sharedClientState=r.sharedClientState,c.datastore=c.createDatastore(o),c.remoteStore=c.createRemoteStore(o),c.eventManager=c.createEventManager(o),c.syncEngine=c.createSyncEngine(o,!r.synchronizeTabs),c.sharedClientState.onlineStateHandler=p=>ld(c.syncEngine,p,1),c.remoteStore.remoteSyncer.handleCredentialChange=dg.bind(null,c.syncEngine),yield I(c.remoteStore,c.syncEngine.isPrimaryClient))})()}createEventManager(r){return new oc}createDatastore(r){const o=Pc(r.databaseInfo.databaseId),c=new If(r.databaseInfo);return new b(r.authCredentials,r.appCheckCredentials,c,o)}createRemoteStore(r){return c=this.localStore,p=this.datastore,g=r.asyncQueue,C=o=>ld(this.syncEngine,o,0),N=Xh.D()?new Xh:new Nl,new W(c,p,g,C,N);var c,p,g,C,N}createSyncEngine(r,o){return function(p,g,C,N,H,J,ye){const He=new pp(p,g,C,N,H,J);return ye&&(He.Qa=!0),He}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,r.initialUser,r.maxConcurrentLimboResolutions,o)}terminate(){var r=this;return(0,ue.A)(function*(){var o,c,p;yield(p=(0,ue.A)(function*(C){const N=vt(C);we("RemoteStore","RemoteStore shutting down."),N.L_.add(5),yield ze(N),N.k_.shutdown(),N.q_.set("Unknown")}),function g(C){return p.apply(this,arguments)})(r.remoteStore),null===(o=r.datastore)||void 0===o||o.terminate(),null===(c=r.eventManager)||void 0===c||c.terminate()})()}}return a.provider={build:()=>new a},a})();function Yf(a,e=10240){let r=0;return{read:()=>(0,ue.A)(function*(){if(r<a.byteLength){const o={value:a.slice(r,r+e),done:!1};return r+=e,o}return{done:!0}})(),cancel:()=>(0,ue.A)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class vp{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):lt("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,r){setTimeout(()=>{this.muted||e(r)},0)}}class yg{constructor(e,r){this.Xa=e,this.serializer=r,this.metadata=new Xn,this.buffer=new Uint8Array,this.eu=new TextDecoder("utf-8"),this.tu().then(o=>{o&&o.ua()?this.metadata.resolve(o.aa.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(o?.aa)}`))},o=>this.metadata.reject(o))}close(){return this.Xa.cancel()}getMetadata(){var e=this;return(0,ue.A)(function*(){return e.metadata.promise})()}Ua(){var e=this;return(0,ue.A)(function*(){return yield e.getMetadata(),e.tu()})()}tu(){var e=this;return(0,ue.A)(function*(){const r=yield e.nu();if(null===r)return null;const o=e.eu.decode(r),c=Number(o);isNaN(c)&&e.ru(`length string (${o}) is not valid number`);const p=yield e.iu(c);return new e1(JSON.parse(p),r.length+c)})()}su(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}nu(){var e=this;return(0,ue.A)(function*(){for(;e.su()<0&&!(yield e.ou()););if(0===e.buffer.length)return null;const r=e.su();r<0&&e.ru("Reached the end of bundle when a length string is expected.");const o=e.buffer.slice(0,r);return e.buffer=e.buffer.slice(r),o})()}iu(e){var r=this;return(0,ue.A)(function*(){for(;r.buffer.length<e;)(yield r.ou())&&r.ru("Reached the end of bundle when more is expected.");const o=r.eu.decode(r.buffer.slice(0,e));return r.buffer=r.buffer.slice(e),o})()}ru(e){throw this.Xa.cancel(),new Error(`Invalid bundle format: ${e}`)}ou(){var e=this;return(0,ue.A)(function*(){const r=yield e.Xa.read();if(!r.done){const o=new Uint8Array(e.buffer.length+r.value.length);o.set(e.buffer),o.set(r.value,e.buffer.length),e.buffer=o}return r.done})()}}class gg{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}lookup(e){var r=this;return(0,ue.A)(function*(){if(r.ensureCommitNotCalled(),r.mutations.length>0)throw r.lastTransactionError=new dt(We.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),r.lastTransactionError;const o=yield(c=(0,ue.A)(function*(g,C){const N=vt(g),H={documents:C.map(Mt=>Oo(N.serializer,Mt))},J=yield N.Lo("BatchGetDocuments",N.serializer.databaseId,Dt.emptyPath(),H,C.length),ye=new Map;J.forEach(Mt=>{const $t=function De(a,e){return"found"in e?function(o,c){Ft(!!c.found);const p=js(o,c.found.name),g=no(c.found.updateTime),C=c.found.createTime?no(c.found.createTime):ut.min(),N=new ci({mapValue:{fields:c.found.fields}});return Ur.newFoundDocument(p,g,C,N)}(a,e):"missing"in e?function(o,c){Ft(!!c.missing),Ft(!!c.readTime);const p=js(o,c.missing),g=no(c.readTime);return Ur.newNoDocument(p,g)}(a,e):pt()}(N.serializer,Mt);ye.set($t.key.toString(),$t)});const He=[];return C.forEach(Mt=>{const $t=ye.get(Mt.toString());Ft(!!$t),He.push($t)}),He}),function p(g,C){return c.apply(this,arguments)})(r.datastore,e);var c;return o.forEach(c=>r.recordVersion(c)),o})()}set(e,r){this.write(r.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,r){try{this.write(r.toMutation(e,this.preconditionForUpdate(e)))}catch(o){this.lastTransactionError=o}this.writtenDocs.add(e.toString())}delete(e){this.write(new zo(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,ue.A)(function*(){if(e.ensureCommitNotCalled(),e.lastTransactionError)throw e.lastTransactionError;const r=e.readVersions;var o;e.mutations.forEach(o=>{r.delete(o.key.toString())}),r.forEach((o,c)=>{const p=Zt.fromPath(c);e.mutations.push(new eo(p,e.precondition(p)))}),yield(o=(0,ue.A)(function*(p,g){const C=vt(p),N={writes:g.map(H=>xt(C.serializer,H))};yield C.Mo("Commit",C.serializer.databaseId,Dt.emptyPath(),N)}),function c(p,g){return o.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let r;if(e.isFoundDocument())r=e.version;else{if(!e.isNoDocument())throw pt();r=ut.min()}const o=this.readVersions.get(e.key.toString());if(o){if(!r.isEqual(o))throw new dt(We.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),r)}precondition(e){const r=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&r?r.isEqual(ut.min())?wr.exists(!1):wr.updateTime(r):wr.none()}preconditionForUpdate(e){const r=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&r){if(r.isEqual(ut.min()))throw new dt(We.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return wr.updateTime(r)}return wr.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class vg{constructor(e,r,o,c,p){this.asyncQueue=e,this.datastore=r,this.options=o,this.updateFunction=c,this.deferred=p,this._u=o.maxAttempts,this.t_=new Ll(this.asyncQueue,"transaction_retry")}au(){this._u-=1,this.uu()}uu(){var e=this;this.t_.Go((0,ue.A)(function*(){const r=new gg(e.datastore),o=e.cu(r);o&&o.then(c=>{e.asyncQueue.enqueueAndForget(()=>r.commit().then(()=>{e.deferred.resolve(c)}).catch(p=>{e.lu(p)}))}).catch(c=>{e.lu(c)})}))}cu(e){try{const r=this.updateFunction(e);return!dn(r)&&r.catch&&r.then?r:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(r){return this.deferred.reject(r),null}}lu(e){this._u>0&&this.hu(e)?(this._u-=1,this.asyncQueue.enqueueAndForget(()=>(this.uu(),Promise.resolve()))):this.deferred.reject(e)}hu(e){if("FirebaseError"===e.name){const r=e.code;return"aborted"===r||"failed-precondition"===r||"already-exists"===r||!ks(r)}return!1}}class q2{constructor(e,r,o,c,p){var g=this;this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=o,this.databaseInfo=c,this.user=Qt.UNAUTHENTICATED,this.clientId=nt.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=p,this.authCredentials.start(o,function(){var C=(0,ue.A)(function*(N){we("FirestoreClient","Received user=",N.uid),yield g.authCredentialListener(N),g.user=N});return function(N){return C.apply(this,arguments)}}()),this.appCheckCredentials.start(o,C=>(we("FirestoreClient","Received new app check token=",C),this.appCheckCredentialListener(C,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const r=new Xn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,ue.A)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),r.resolve()}catch(o){const c=Wt(o,"Failed to shutdown persistence");r.reject(c)}})),r.promise}}function Zd(a,e){return _p.apply(this,arguments)}function _p(){return _p=(0,ue.A)(function*(a,e){a.asyncQueue.verifyOperationInProgress(),we("FirestoreClient","Initializing OfflineComponentProvider");const r=a.configuration;yield e.initialize(r);let o=r.initialUser;a.setCredentialChangeListener(function(){var c=(0,ue.A)(function*(p){o.isEqual(p)||(yield Bd(e.localStore,p),o=p)});return function(p){return c.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>a.terminate()),a._offlineComponents=e}),_p.apply(this,arguments)}function kp(a,e){return Jf.apply(this,arguments)}function Jf(){return(Jf=(0,ue.A)(function*(a,e){a.asyncQueue.verifyOperationInProgress();const r=yield Hl(a);we("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(r,a.configuration),a.setCredentialChangeListener(o=>d(e.remoteStore,o)),a.setAppCheckTokenChangeListener((o,c)=>d(e.remoteStore,c)),a._onlineComponents=e})).apply(this,arguments)}function Hl(a){return e0.apply(this,arguments)}function e0(){return(e0=(0,ue.A)(function*(a){if(!a._offlineComponents)if(a._uninitializedComponentsProvider){we("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Zd(a,a._uninitializedComponentsProvider._offline)}catch(e){if(!("FirebaseError"===(c=e).name?c.code===We.FAILED_PRECONDITION||c.code===We.UNIMPLEMENTED:!(typeof DOMException<"u"&&c instanceof DOMException)||22===c.code||20===c.code||11===c.code))throw e;Lt("Error using user provided cache. Falling back to memory cache: "+e),yield Zd(a,new l1)}}else we("FirestoreClient","Using default OfflineComponentProvider"),yield Zd(a,new l1);var c;return a._offlineComponents})).apply(this,arguments)}function bp(a){return h1.apply(this,arguments)}function h1(){return(h1=(0,ue.A)(function*(a){return a._onlineComponents||(a._uninitializedComponentsProvider?(we("FirestoreClient","Using user provided OnlineComponentProvider"),yield kp(a,a._uninitializedComponentsProvider._online)):(we("FirestoreClient","Using default OnlineComponentProvider"),yield kp(a,new d1))),a._onlineComponents})).apply(this,arguments)}function t0(a){return Hl(a).then(e=>e.persistence)}function Xd(a){return Hl(a).then(e=>e.localStore)}function $2(a){return bp(a).then(e=>e.remoteStore)}function n0(a){return bp(a).then(e=>e.syncEngine)}function W2(a){return bp(a).then(e=>e.datastore)}function hd(a){return G2.apply(this,arguments)}function G2(){return(G2=(0,ue.A)(function*(a){const e=yield bp(a),r=e.eventManager;return r.onListen=t1.bind(null,e.syncEngine),r.onUnlisten=L2.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=Of.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=cg.bind(null,e.syncEngine),r})).apply(this,arguments)}function r0(a,e,r={}){const o=new Xn;return a.asyncQueue.enqueueAndForget((0,ue.A)(function*(){return function(p,g,C,N,H){const J=new vp({next:He=>{J.Za(),g.enqueueAndForget(()=>bu(p,ye));const Mt=He.docs.has(C);!Mt&&He.fromCache?H.reject(new dt(We.UNAVAILABLE,"Failed to get document because the client is offline.")):Mt&&He.fromCache&&N&&"server"===N.source?H.reject(new dt(We.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):H.resolve(He)},error:He=>H.reject(He)}),ye=new $d(rs(C.path),J,{includeMetadataChanges:!0,_a:!0});return Ba(p,ye)}(yield hd(a),a.asyncQueue,e,r,o)})),o.promise}function Mp(a,e,r={}){const o=new Xn;return a.asyncQueue.enqueueAndForget((0,ue.A)(function*(){return function(p,g,C,N,H){const J=new vp({next:He=>{J.Za(),g.enqueueAndForget(()=>bu(p,ye)),He.fromCache&&"server"===N.source?H.reject(new dt(We.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):H.resolve(He)},error:He=>H.reject(He)}),ye=new $d(C,J,{includeMetadataChanges:!0,_a:!0});return Ba(p,ye)}(yield hd(a),a.asyncQueue,e,r,o)})),o.promise}function X2(a){const e={};return void 0!==a.timeoutSeconds&&(e.timeoutSeconds=a.timeoutSeconds),e}const Ep=new Map;function xp(a,e,r){if(!r)throw new dt(We.INVALID_ARGUMENT,`Function ${a}() cannot be called with an empty ${e}.`)}function a0(a,e,r,o){if(!0===e&&!0===o)throw new dt(We.INVALID_ARGUMENT,`${a} and ${r} cannot be used together.`)}function Mu(a){if(!Zt.isDocumentKey(a))throw new dt(We.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${a} has ${a.length}.`)}function Y2(a){if(Zt.isDocumentKey(a))throw new dt(We.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${a} has ${a.length}.`)}function Yd(a){if(void 0===a)return"undefined";if(null===a)return"null";if("string"==typeof a)return a.length>20&&(a=`${a.substring(0,20)}...`),JSON.stringify(a);if("number"==typeof a||"boolean"==typeof a)return""+a;if("object"==typeof a){if(a instanceof Array)return"an array";{const e=(o=a).constructor?o.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var o;return"function"==typeof a?"a function":pt()}function Or(a,e){if("_delegate"in a&&(a=a._delegate),!(a instanceof e)){if(e.name===a.constructor.name)throw new dt(We.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=Yd(a);throw new dt(We.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return a}function J2(a,e){if(e<=0)throw new dt(We.INVALID_ARGUMENT,`Function ${a}() requires a positive number, but it was: ${e}.`)}class Cp{constructor(e){var r,o;if(void 0===e.host){if(void 0!==e.ssl)throw new dt(We.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(r=e.ssl)||void 0===r||r;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new dt(We.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}a0("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=X2(null!==(o=e.experimentalLongPollingOptions)&&void 0!==o?o:{}),function(p){if(void 0!==p.timeoutSeconds){if(isNaN(p.timeoutSeconds))throw new dt(We.INVALID_ARGUMENT,`invalid long polling timeout: ${p.timeoutSeconds} (must not be NaN)`);if(p.timeoutSeconds<5)throw new dt(We.INVALID_ARGUMENT,`invalid long polling timeout: ${p.timeoutSeconds} (minimum allowed value is 5)`);if(p.timeoutSeconds>30)throw new dt(We.INVALID_ARGUMENT,`invalid long polling timeout: ${p.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class wu{constructor(e,r,o,c){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=o,this._app=c,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Cp({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new dt(We.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new dt(We.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Cp(e),void 0!==e.credentials&&(this._authCredentials=function(o){if(!o)return new Yn;switch(o.type){case"firstParty":return new ie(o.sessionIndex||"0",o.iamToken||null,o.authTokenFactory||null);case"provider":return o.client;default:throw new dt(We.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){var e=this;return(0,ue.A)(function*(){"notTerminated"===e._terminateTask?yield e._terminate():e._terminateTask="notTerminated"})()}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const o=Ep.get(r);o&&(we("ComponentProvider","Removing Datastore"),Ep.delete(r),o.terminate())}(this),Promise.resolve()}}function Nc(a,e,r,o={}){var c;const p=(a=Or(a,wu))._getSettings(),g=`${e}:${r}`;if("firestore.googleapis.com"!==p.host&&p.host!==g&&Lt("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),a._setSettings(Object.assign(Object.assign({},p),{host:g,ssl:!1})),o.mockUserToken){let C,N;if("string"==typeof o.mockUserToken)C=o.mockUserToken,N=Qt.MOCK_USER;else{C=(0,wt.Fy)(o.mockUserToken,null===(c=a._app)||void 0===c?void 0:c.options.projectId);const H=o.mockUserToken.sub||o.mockUserToken.user_id;if(!H)throw new dt(We.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");N=new Qt(H)}a._authCredentials=new Vr(new Sn(C,N))}}class bo{constructor(e,r,o){this.converter=r,this._query=o,this.type="query",this.firestore=e}withConverter(e){return new bo(this.firestore,e,this._query)}}class fo{constructor(e,r,o){this.converter=r,this._key=o,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Vc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new fo(this.firestore,e,this._key)}}class Vc extends bo{constructor(e,r,o){super(e,r,rs(o)),this._path=o,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new fo(this.firestore,null,new Zt(e))}withConverter(e){return new Vc(this.firestore,e,this._path)}}function kg(a,e,...r){if(a=(0,wt.Ku)(a),xp("collection","path",e),a instanceof wu){const o=Dt.fromString(e,...r);return Y2(o),new Vc(a,null,o)}{if(!(a instanceof fo||a instanceof Vc))throw new dt(We.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=a._path.child(Dt.fromString(e,...r));return Y2(o),new Vc(a.firestore,null,o)}}function em(a,e){if(a=Or(a,wu),xp("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new dt(We.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new bo(a,null,(o=e,new mi(Dt.emptyPath(),o)));var o}function pd(a,e,...r){if(a=(0,wt.Ku)(a),1===arguments.length&&(e=nt.newId()),xp("doc","path",e),a instanceof wu){const o=Dt.fromString(e,...r);return Mu(o),new fo(a,null,new Zt(o))}{if(!(a instanceof fo||a instanceof Vc))throw new dt(We.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=a._path.child(Dt.fromString(e,...r));return Mu(o),new fo(a.firestore,a instanceof Vc?a.converter:null,new Zt(o))}}function Jd(a,e){return a=(0,wt.Ku)(a),e=(0,wt.Ku)(e),(a instanceof fo||a instanceof Vc)&&(e instanceof fo||e instanceof Vc)&&a.firestore===e.firestore&&a.path===e.path&&a.converter===e.converter}function c0(a,e){return a=(0,wt.Ku)(a),e=(0,wt.Ku)(e),a instanceof bo&&e instanceof bo&&a.firestore===e.firestore&&vs(a._query,e._query)&&a.converter===e.converter}class tm{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new Ll(this,"async_queue_retry"),this.Vu=()=>{const o=od();o&&we("AsyncQueue","Visibility state changed to "+o.visibilityState),this.t_.jo()},this.mu=e;const r=od();r&&"function"==typeof r.addEventListener&&r.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const r=od();r&&"function"==typeof r.removeEventListener&&r.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const r=new Xn;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}pu(){var e=this;return(0,ue.A)(function*(){if(0!==e.Pu.length){try{yield e.Pu[0](),e.Pu.shift(),e.t_.reset()}catch(r){if(!Ce(r))throw r;we("AsyncQueue","Operation failed with retryable error: "+r)}e.Pu.length>0&&e.t_.Go(()=>e.pu())}})()}gu(e){const r=this.mu.then(()=>(this.du=!0,e().catch(o=>{throw this.Eu=o,this.du=!1,lt("INTERNAL UNHANDLED ERROR: ",function(g){let C=g.message||"";return g.stack&&(C=g.stack.includes(g.message)?g.stack:g.message+"\n"+g.stack),C}(o)),o}).then(o=>(this.du=!1,o))));return this.mu=r,r}enqueueAfterDelay(e,r,o){this.fu(),this.Ru.indexOf(e)>-1&&(r=0);const c=Ct.createAndSchedule(this,e,r,o,p=>this.yu(p));return this.Tu.push(c),c}fu(){this.Eu&&pt()}verifyOperationInProgress(){}wu(){var e=this;return(0,ue.A)(function*(){let r;do{r=e.mu,yield r}while(r!==e.mu)})()}Su(e){for(const r of this.Tu)if(r.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((r,o)=>r.targetTimeMs-o.targetTimeMs);for(const r of this.Tu)if(r.skipDelay(),"all"!==e&&r.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const r=this.Tu.indexOf(e);this.Tu.splice(r,1)}}function m1(a){return function(r,o){if("object"!=typeof r||null===r)return!1;const c=r;for(const p of["next","error","complete"])if(p in c&&"function"==typeof c[p])return!0;return!1}(a)}class l0{constructor(){this._progressObserver={},this._taskCompletionResolver=new Xn,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,r,o){this._progressObserver={next:e,error:r,complete:o}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,r){return this._taskCompletionResolver.promise.then(e,r)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}const bg=-1;class Pi extends wu{constructor(e,r,o,c){super(e,r,o,c),this.type="firestore",this._queue=new tm,this._persistenceKey=c?.name||"[DEFAULT]"}_terminate(){var e=this;return(0,ue.A)(function*(){if(e._firestoreClient){const r=e._firestoreClient.terminate();e._queue=new tm(r),e._firestoreClient=void 0,yield r}})()}}function u0(a,e,r){r||(r="(default)");const o=(0,mt.j6)(a,"firestore");if(o.isInitialized(r)){const c=o.getImmediate({identifier:r}),p=o.getOptions(r);if((0,wt.bD)(p,e))return c;throw new dt(We.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(void 0!==e.cacheSizeBytes&&void 0!==e.localCache)throw new dt(We.INVALID_ARGUMENT,"cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object");if(void 0!==e.cacheSizeBytes&&-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new dt(We.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return o.initialize({options:e,instanceIdentifier:r})}function C_(a,e){const r="object"==typeof a?a:(0,mt.Sx)(),o="string"==typeof a?a:e||"(default)",c=(0,mt.j6)(r,"firestore").getImmediate({identifier:o});if(!c._initialized){const p=(0,wt.yU)("firestore");p&&Nc(c,...p)}return c}function mo(a){if(a._terminated)throw new dt(We.FAILED_PRECONDITION,"The client has already been terminated.");return a._firestoreClient||nm(a),a._firestoreClient}function nm(a){var e,r,o;const c=a._freezeSettings(),p=(N=(null===(e=a._app)||void 0===e?void 0:e.options.appId)||"",new Pr(a._databaseId,N,a._persistenceKey,(J=c).host,J.ssl,J.experimentalForceLongPolling,J.experimentalAutoDetectLongPolling,X2(J.experimentalLongPollingOptions),J.useFetchStreams));var N,J;a._componentsProvider||!(null===(r=c.localCache)||void 0===r)&&r._offlineComponentProvider&&!(null===(o=c.localCache)||void 0===o)&&o._onlineComponentProvider&&(a._componentsProvider={_offline:c.localCache._offlineComponentProvider,_online:c.localCache._onlineComponentProvider}),a._firestoreClient=new q2(a._authCredentials,a._appCheckCredentials,a._queue,p,a._componentsProvider&&function(C){const N=C?._online.build();return{_offline:C?._offline.build(N),_online:N}}(a._componentsProvider))}function Mg(a,e){Lt("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=a._freezeSettings();return y1(a,d1.provider,{build:o=>new u1(o,r.cacheSizeBytes,e?.forceOwnership)}),Promise.resolve()}function A_(a){return rm.apply(this,arguments)}function rm(){return(rm=(0,ue.A)(function*(a){Lt("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const e=a._freezeSettings();y1(a,d1.provider,{build:r=>new mg(r,e.cacheSizeBytes)})})).apply(this,arguments)}function y1(a,e,r){if((a=Or(a,Pi))._firestoreClient||a._terminated)throw new dt(We.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(a._componentsProvider||a._getSettings().localCache)throw new dt(We.FAILED_PRECONDITION,"SDK cache is already specified.");a._componentsProvider={_online:e,_offline:r},nm(a)}function wg(a){if(a._initialized&&!a._terminated)throw new dt(We.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Xn;return a._queue.enqueueAndForgetEvenWhileRestricted((0,ue.A)(function*(){try{yield(r=(0,ue.A)(function*(c){if(!xe.D())return Promise.resolve();const p=c+"main";yield xe.delete(p)}),function o(c){return r.apply(this,arguments)})(Dl(a._databaseId,a._persistenceKey)),e.resolve()}catch(r){e.reject(r)}var r})),e.promise}function d0(a){return function(r){const o=new Xn;return r.asyncQueue.enqueueAndForget((0,ue.A)(function*(){return function Gd(a,e){return Kd.apply(this,arguments)}(yield n0(r),o)})),o.promise}(mo(a=Or(a,Pi)))}function h0(a){return function E_(a){return a.asyncQueue.enqueue((0,ue.A)(function*(){const e=yield t0(a),r=yield $2(a);return e.setNetworkEnabled(!0),function(c){const p=vt(c);return p.L_.delete(0),oe(p)}(r)}))}(mo(a=Or(a,Pi)))}function eh(a){return function p1(a){return a.asyncQueue.enqueue((0,ue.A)(function*(){const e=yield t0(a),r=yield $2(a);return e.setNetworkEnabled(!1),(o=(0,ue.A)(function*(p){const g=vt(p);g.L_.add(0),yield ze(g),g.q_.set("Offline")}),function c(p){return o.apply(this,arguments)})(r);var o}))}(mo(a=Or(a,Pi)))}function p0(a){return(0,mt.Us)(a.app,"firestore",a._databaseId.database),a._delete()}function f0(a,e){const r=mo(a=Or(a,Pi)),o=new l0;return function Q2(a,e,r,o){const c=function(g,C){let N;return N="string"==typeof g?$n().encode(g):g,J=function(J,ye){if(J instanceof Uint8Array)return Yf(J,void 0);if(J instanceof ArrayBuffer)return Yf(new Uint8Array(J),void 0);if(J instanceof ReadableStream)return J.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(N),new yg(J,C);var J}(r,Pc(e));a.asyncQueue.enqueueAndForget((0,ue.A)(function*(){!function w_(a,e,r){const o=vt(a);var c;(c=(0,ue.A)(function*(g,C,N){try{const H=yield C.getMetadata();if(yield function($t,ln){const nn=vt($t),Nn=no(ln.createTime);return nn.persistence.runTransaction("hasNewerBundle","readonly",Gn=>nn.Gr.getBundleMetadata(Gn,ln.id)).then(Gn=>!!Gn&&Gn.createTime.compareTo(Nn)>=0)}(g.localStore,H))return yield C.close(),N._completeWith({taskState:"Success",documentsLoaded:($t=H).totalDocuments,bytesLoaded:$t.totalBytes,totalDocuments:$t.totalDocuments,totalBytes:$t.totalBytes}),Promise.resolve(new Set);N._updateProgress(N2(H));const J=new hp(H,g.localStore,C.serializer);let ye=yield C.Ua();for(;ye;){const Mt=yield J.la(ye);Mt&&N._updateProgress(Mt),ye=yield C.Ua()}const He=yield J.complete();return yield zl(g,He.Ia,void 0),yield function($t,ln){const nn=vt($t);return nn.persistence.runTransaction("Save bundle","readwrite",Nn=>nn.Gr.saveBundleMetadata(Nn,ln))}(g.localStore,H),N._completeWith(He.progress),Promise.resolve(He.Pa)}catch(H){return Lt("SyncEngine",`Loading bundle failed with ${H}`),N._failWith(H),Promise.resolve(new Set)}var $t}),function p(g,C,N){return c.apply(this,arguments)})(o,e,r).then(c=>{o.sharedClientState.notifyBundleLoaded(c)})}(yield n0(a),c,o)}))}(r,a._databaseId,e,o),o}function g1(a,e){return function Z2(a,e){return a.asyncQueue.enqueue((0,ue.A)(function*(){return function(o,c){const p=vt(o);return p.persistence.runTransaction("Get named query","readonly",g=>p.Gr.getNamedQuery(g,c))}(yield Xd(a),e)}))}(mo(a=Or(a,Pi)),e).then(r=>r?new bo(a,null,r.query):null)}class ql{constructor(e="count",r){this._internalFieldPath=r,this.type="AggregateField",this.aggregateType=e}}class fd{constructor(e,r,o){this._userDataWriter=r,this._data=o,this.type="AggregateQuerySnapshot",this.query=e}data(){return this._userDataWriter.convertObjectMap(this._data)}}class el{constructor(e){this._byteString=e}static fromBase64String(e){try{return new el(Wr.fromBase64String(e))}catch(r){throw new dt(We.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new el(Wr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class tl{constructor(...e){for(let r=0;r<e.length;++r)if(0===e[r].length)throw new dt(We.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new on(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}function Ap(){return new tl("__name__")}class md{constructor(e){this._methodName=e}}class th{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new dt(We.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new dt(We.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Fe(this._lat,e._lat)||Fe(this._long,e._long)}}class $l{constructor(e){this._values=(e||[]).map(r=>r)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(o,c){if(o.length!==c.length)return!1;for(let p=0;p<o.length;++p)if(o[p]!==c[p])return!1;return!0}(this._values,e._values)}}const Eg=/^__.*__$/;class im{constructor(e,r,o){this.data=e,this.fieldMask=r,this.fieldTransforms=o}toMutation(e,r){return null!==this.fieldMask?new os(e,this.data,this.fieldMask,r,this.fieldTransforms):new Bs(e,this.data,r,this.fieldTransforms)}}class om{constructor(e,r,o){this.data=e,this.fieldMask=r,this.fieldTransforms=o}toMutation(e,r){return new os(e,this.data,this.fieldMask,r,this.fieldTransforms)}}function sm(a){switch(a){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw pt()}}class nh{constructor(e,r,o,c,p,g){this.settings=e,this.databaseId=r,this.serializer=o,this.ignoreUndefinedProperties=c,void 0===p&&this.vu(),this.fieldTransforms=p||[],this.fieldMask=g||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new nh(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var r;const o=null===(r=this.path)||void 0===r?void 0:r.child(e),c=this.Fu({path:o,xu:!1});return c.Ou(e),c}Nu(e){var r;const o=null===(r=this.path)||void 0===r?void 0:r.child(e),c=this.Fu({path:o,xu:!1});return c.vu(),c}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Wl(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return void 0!==this.fieldMask.find(r=>e.isPrefixOf(r))||void 0!==this.fieldTransforms.find(r=>e.isPrefixOf(r.field))}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(0===e.length)throw this.Bu("Document fields must not be empty");if(sm(this.Cu)&&Eg.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class am{constructor(e,r,o){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=o||Pc(e)}Qu(e,r,o,c=!1){return new nh({Cu:e,methodName:r,qu:o,path:on.emptyPath(),xu:!1,ku:c},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function yd(a){const e=a._freezeSettings(),r=Pc(a._databaseId);return new am(a._databaseId,!!e.ignoreUndefinedProperties,r)}function Ip(a,e,r,o,c,p={}){const g=a.Qu(p.merge||p.mergeFields?2:0,e,r,c);dm("Data must be an object, but it was:",g,o);const C=um(o,g);let N,H;if(p.merge)N=new Ir(g.fieldMask),H=g.fieldTransforms;else if(p.mergeFields){const J=[];for(const ye of p.mergeFields){const He=k1(e,ye,r);if(!g.contains(He))throw new dt(We.INVALID_ARGUMENT,`Field '${He}' is specified in your field mask but missing from your input data.`);oh(J,He)||J.push(He)}N=new Ir(J),H=g.fieldTransforms.filter(ye=>N.covers(ye.field))}else N=null,H=g.fieldTransforms;return new im(new ci(C),N,H)}class Tp extends md{_toFieldTransform(e){if(2!==e.Cu)throw e.Bu(1===e.Cu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Tp}}function cm(a,e,r){return new nh({Cu:3,qu:e.settings.qu,methodName:a._methodName,xu:r},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class rh extends md{_toFieldTransform(e){return new Gr(e.path,new Et)}isEqual(e){return e instanceof rh}}class v1 extends md{constructor(e,r){super(e),this.Ku=r}_toFieldTransform(e){const r=cm(this,e,!0),o=this.Ku.map(p=>Eu(p,r)),c=new jt(o);return new Gr(e.path,c)}isEqual(e){return e instanceof v1&&(0,wt.bD)(this.Ku,e.Ku)}}class m0 extends md{constructor(e,r){super(e),this.Ku=r}_toFieldTransform(e){const r=cm(this,e,!0),o=this.Ku.map(p=>Eu(p,r)),c=new Rn(o);return new Gr(e.path,c)}isEqual(e){return e instanceof m0&&(0,wt.bD)(this.Ku,e.Ku)}}class Dp extends md{constructor(e,r){super(e),this.$u=r}_toFieldTransform(e){const r=new yr(e.serializer,A(e.serializer,this.$u));return new Gr(e.path,r)}isEqual(e){return e instanceof Dp&&this.$u===e.$u}}function _1(a,e,r,o){const c=a.Qu(1,e,r);dm("Data must be an object, but it was:",c,o);const p=[],g=ci.empty();Wo(o,(N,H)=>{const J=Sp(e,N,r);H=(0,wt.Ku)(H);const ye=c.Nu(J);if(H instanceof Tp)p.push(J);else{const He=Eu(H,ye);null!=He&&(p.push(J),g.set(J,He))}});const C=new Ir(p);return new om(g,C,c.fieldTransforms)}function ih(a,e,r,o,c,p){const g=a.Qu(1,e,r),C=[k1(e,o,r)],N=[c];if(p.length%2!=0)throw new dt(We.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let He=0;He<p.length;He+=2)C.push(k1(e,p[He])),N.push(p[He+1]);const H=[],J=ci.empty();for(let He=C.length-1;He>=0;--He)if(!oh(H,C[He])){const Mt=C[He];let $t=N[He];$t=(0,wt.Ku)($t);const ln=g.Nu(Mt);if($t instanceof Tp)H.push(Mt);else{const nn=Eu($t,ln);null!=nn&&(H.push(Mt),J.set(Mt,nn))}}const ye=new Ir(H);return new om(J,ye,g.fieldTransforms)}function lm(a,e,r,o=!1){return Eu(r,a.Qu(o?4:3,e))}function Eu(a,e){if(y0(a=(0,wt.Ku)(a)))return dm("Unsupported field value:",e,a),um(a,e);if(a instanceof md)return function(o,c){if(!sm(c.Cu))throw c.Bu(`${o._methodName}() can only be used with update() and set()`);if(!c.path)throw c.Bu(`${o._methodName}() is not currently supported inside arrays`);const p=o._toFieldTransform(c);p&&c.fieldTransforms.push(p)}(a,e),null;if(void 0===a&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),a instanceof Array){if(e.settings.xu&&4!==e.Cu)throw e.Bu("Nested arrays are not supported");return function(o,c){const p=[];let g=0;for(const C of o){let N=Eu(C,c.Lu(g));null==N&&(N={nullValue:"NULL_VALUE"}),p.push(N),g++}return{arrayValue:{values:p}}}(a,e)}return function(o,c){if(null===(o=(0,wt.Ku)(o)))return{nullValue:"NULL_VALUE"};if("number"==typeof o)return A(c.serializer,o);if("boolean"==typeof o)return{booleanValue:o};if("string"==typeof o)return{stringValue:o};if(o instanceof Date){const p=it.fromDate(o);return{timestampValue:zr(c.serializer,p)}}if(o instanceof it){const p=new it(o.seconds,1e3*Math.floor(o.nanoseconds/1e3));return{timestampValue:zr(c.serializer,p)}}if(o instanceof th)return{geoPointValue:{latitude:o.latitude,longitude:o.longitude}};if(o instanceof el)return{bytesValue:Xa(c.serializer,o._byteString)};if(o instanceof fo){const p=c.databaseId,g=o.firestore._databaseId;if(!g.isEqual(p))throw c.Bu(`Document reference is for database ${g.projectId}/${g.database} but should be for database ${p.projectId}/${p.database}`);return{referenceValue:gl(o.firestore._databaseId||c.databaseId,o._key.path)}}if(o instanceof $l)return C=c,{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(N=>{if("number"!=typeof N)throw C.Bu("VectorValues must only contain numeric values.");return Ta(C.serializer,N)})}}}}};var C;throw c.Bu(`Unsupported field value: ${Yd(o)}`)}(a,e)}function um(a,e){const r={};return Go(a)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Wo(a,(o,c)=>{const p=Eu(c,e.Mu(o));null!=p&&(r[o]=p)}),{mapValue:{fields:r}}}function y0(a){return!("object"!=typeof a||null===a||a instanceof Array||a instanceof Date||a instanceof it||a instanceof th||a instanceof el||a instanceof fo||a instanceof md||a instanceof $l)}function dm(a,e,r){if(!y0(r)||"object"!=typeof(c=r)||null===c||Object.getPrototypeOf(c)!==Object.prototype&&null!==Object.getPrototypeOf(c)){const o=Yd(r);throw e.Bu("an object"===o?a+" a custom object":a+" "+o)}var c}function k1(a,e,r){if((e=(0,wt.Ku)(e))instanceof tl)return e._internalPath;if("string"==typeof e)return Sp(a,e);throw Wl("Field path arguments must be of type string or ",a,!1,void 0,r)}const b1=new RegExp("[~\\*/\\[\\]]");function Sp(a,e,r){if(e.search(b1)>=0)throw Wl(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,a,!1,void 0,r);try{return new tl(...e.split("."))._internalPath}catch{throw Wl(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,a,!1,void 0,r)}}function Wl(a,e,r,o,c){const p=o&&!o.isEmpty(),g=void 0!==c;let C=`Function ${e}() called with invalid data`;r&&(C+=" (via `toFirestore()`)"),C+=". ";let N="";return(p||g)&&(N+=" (found",p&&(N+=` in field ${o}`),g&&(N+=` in document ${c}`),N+=")"),new dt(We.INVALID_ARGUMENT,C+a+N)}function oh(a,e){return a.some(r=>r.isEqual(e))}class M1{constructor(e,r,o,c,p){this._firestore=e,this._userDataWriter=r,this._key=o,this._document=c,this._converter=p}get id(){return this._key.path.lastSegment()}get ref(){return new fo(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new hm(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(Rp("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r)}}}class hm extends M1{data(){return super.data()}}function Rp(a,e){return"string"==typeof e?Sp(a,e):e instanceof tl?e._internalPath:e._delegate._internalPath}function pm(a){if("L"===a.limitType&&0===a.explicitOrderBy.length)throw new dt(We.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class g0{}class gd extends g0{}function fm(a,e,...r){let o=[];e instanceof g0&&o.push(e),o=o.concat(r),function(p){const g=p.filter(N=>N instanceof Gl).length,C=p.filter(N=>N instanceof xu).length;if(g>1||g>0&&C>0)throw new dt(We.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(o);for(const c of o)a=c._apply(a);return a}class xu extends gd{constructor(e,r,o){super(),this._field=e,this._op=r,this._value=o,this.type="where"}static _create(e,r,o){return new xu(e,r,o)}_apply(e){const r=this._parse(e);return x1(e._query,r),new bo(e.firestore,e.converter,Aa(e._query,r))}_parse(e){const r=yd(e.firestore);return function(p,g,C,N,H,J,ye){let He;if(H.isKeyField()){if("array-contains"===J||"array-contains-any"===J)throw new dt(We.INVALID_ARGUMENT,`Invalid Query. You can't perform '${J}' queries on documentId().`);if("in"===J||"not-in"===J){Kl(ye,J);const Mt=[];for(const $t of ye)Mt.push(Op(N,p,$t));He={arrayValue:{values:Mt}}}else He=Op(N,p,ye)}else"in"!==J&&"not-in"!==J&&"array-contains-any"!==J||Kl(ye,J),He=lm(C,"where",ye,"in"===J||"not-in"===J);return hr.create(H,J,He)}(e._query,0,r,e.firestore._databaseId,this._field,this._op,this._value)}}function I_(a,e,r){const o=e,c=Rp("where",a);return xu._create(c,o,r)}class Gl extends g0{constructor(e,r){super(),this.type=e,this._queryConstraints=r}static _create(e,r){return new Gl(e,r)}_parse(e){const r=this._queryConstraints.map(o=>o._parse(e)).filter(o=>o.getFilters().length>0);return 1===r.length?r[0]:or.create(r,this._getOperator())}_apply(e){const r=this._parse(e);return 0===r.getFilters().length?e:(function(c,p){let g=c;const C=p.getFlattenedFilters();for(const N of C)x1(g,N),g=Aa(g,N)}(e._query,r),new bo(e.firestore,e.converter,Aa(e._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}function mm(...a){return a.forEach(e=>km("or",e)),Gl._create("or",a)}function xg(...a){return a.forEach(e=>km("and",e)),Gl._create("and",a)}class Pp extends gd{constructor(e,r){super(),this._field=e,this._direction=r,this.type="orderBy"}static _create(e,r){return new Pp(e,r)}_apply(e){const r=function(c,p,g){if(null!==c.startAt)throw new dt(We.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==c.endAt)throw new dt(We.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Hr(p,g)}(e._query,this._field,this._direction);return new bo(e.firestore,e.converter,function(c,p){const g=c.explicitOrderBy.concat([p]);return new mi(c.path,c.collectionGroup,g,c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt)}(e._query,r))}}function ym(a,e="asc"){const r=e,o=Rp("orderBy",a);return Pp._create(o,r)}class w1 extends gd{constructor(e,r,o){super(),this.type=e,this._limit=r,this._limitType=o}static _create(e,r,o){return new w1(e,r,o)}_apply(e){return new bo(e.firestore,e.converter,ea(e._query,this._limit,this._limitType))}}function gm(a){return J2("limit",a),w1._create("limit",a,"F")}function Cg(a){return J2("limitToLast",a),w1._create("limitToLast",a,"L")}class E1 extends gd{constructor(e,r,o){super(),this.type=e,this._docOrFields=r,this._inclusive=o}static _create(e,r,o){return new E1(e,r,o)}_apply(e){const r=Ag(e,this.type,this._docOrFields,this._inclusive);return new bo(e.firestore,e.converter,(p=r,new mi((c=e._query).path,c.collectionGroup,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,p,c.endAt)));var c,p}}function T_(...a){return E1._create("startAt",a,!0)}function vm(...a){return E1._create("startAfter",a,!1)}class sh extends gd{constructor(e,r,o){super(),this.type=e,this._docOrFields=r,this._inclusive=o}static _create(e,r,o){return new sh(e,r,o)}_apply(e){const r=Ag(e,this.type,this._docOrFields,this._inclusive);return new bo(e.firestore,e.converter,(p=r,new mi((c=e._query).path,c.collectionGroup,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,p)));var c,p}}function Lc(...a){return sh._create("endBefore",a,!1)}function _m(...a){return sh._create("endAt",a,!0)}function Ag(a,e,r,o){if(r[0]=(0,wt.Ku)(r[0]),r[0]instanceof M1)return function(p,g,C,N,H){if(!N)throw new dt(We.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${C}().`);const J=[];for(const ye of qi(p))if(ye.field.isKeyField())J.push(go(g,N.key));else{const He=N.data.field(ye.field);if(Yr(He))throw new dt(We.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+ye.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===He){const Mt=ye.field.canonicalString();throw new dt(We.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${Mt}' (used as the orderBy) does not exist.`)}J.push(He)}return new mr(J,H)}(a._query,a.firestore._databaseId,e,r[0]._document,o);{const c=yd(a.firestore);return function(g,C,N,H,J,ye){const He=g.explicitOrderBy;if(J.length>He.length)throw new dt(We.INVALID_ARGUMENT,`Too many arguments provided to ${H}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const Mt=[];for(let $t=0;$t<J.length;$t++){const ln=J[$t];if(He[$t].field.isKeyField()){if("string"!=typeof ln)throw new dt(We.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${H}(), but got a ${typeof ln}`);if(!gs(g)&&-1!==ln.indexOf("/"))throw new dt(We.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${H}() must be a plain document ID, but '${ln}' contains a slash.`);const nn=g.path.child(Dt.fromString(ln));if(!Zt.isDocumentKey(nn))throw new dt(We.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${H}() must result in a valid document path, but '${nn}' is not because it contains an odd number of segments.`);const Nn=new Zt(nn);Mt.push(go(C,Nn))}else{const nn=lm(N,H,ln);Mt.push(nn)}}return new mr(Mt,ye)}(a._query,a.firestore._databaseId,c,e,r,o)}}function Op(a,e,r){if("string"==typeof(r=(0,wt.Ku)(r))){if(""===r)throw new dt(We.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!gs(e)&&-1!==r.indexOf("/"))throw new dt(We.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const o=e.path.child(Dt.fromString(r));if(!Zt.isDocumentKey(o))throw new dt(We.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${o}' is not because it has an odd number of segments (${o.length}).`);return go(a,new Zt(o))}if(r instanceof fo)return go(a,r._key);throw new dt(We.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Yd(r)}.`)}function Kl(a,e){if(!Array.isArray(a)||0===a.length)throw new dt(We.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function x1(a,e){const r=function(c,p){for(const g of c)for(const C of g.getFlattenedFilters())if(p.indexOf(C.op)>=0)return C.op;return null}(a.filters,function(c){switch(c){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==r)throw new dt(We.INVALID_ARGUMENT,r===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${r.toString()}' filters.`)}function km(a,e){if(!(e instanceof xu||e instanceof Gl))throw new dt(We.INVALID_ARGUMENT,`Function ${a}() requires AppliableConstraints created with a call to 'where(...)', 'or(...)', or 'and(...)'.`)}class v0{convertValue(e,r="none"){switch(Ui(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Br(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(zi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 11:return this.convertObject(e.mapValue,r);case 10:return this.convertVectorValue(e.mapValue);default:throw pt()}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const o={};return Wo(e,(c,p)=>{o[c]=this.convertValue(p,r)}),o}convertVectorValue(e){var r,o,c;const p=null===(c=null===(o=null===(r=e.fields)||void 0===r?void 0:r.value.arrayValue)||void 0===o?void 0:o.values)||void 0===c?void 0:c.map(g=>Br(g.doubleValue));return new $l(p)}convertGeoPoint(e){return new th(Br(e.latitude),Br(e.longitude))}convertArray(e,r){return(e.values||[]).map(o=>this.convertValue(o,r))}convertServerTimestamp(e,r){switch(r){case"previous":const o=pn(e);return null==o?null:this.convertValue(o,r);case"estimate":return this.convertTimestamp(Vn(e));default:return null}}convertTimestamp(e){const r=Ii(e);return new it(r.seconds,r.nanos)}convertDocumentKey(e,r){const o=Dt.fromString(e);Ft(ou(o));const c=new ki(o.get(1),o.get(3)),p=new Zt(o.popFirst(5));return c.isEqual(r)||lt(`Document ${p} contains a document reference within a different database (${c.projectId}/${c.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),p}}function Np(a,e,r){let o;return o=a?r&&(r.merge||r.mergeFields)?a.toFirestore(e,r):a.toFirestore(e):e,o}class _0 extends v0{constructor(e){super(),this.firestore=e}convertBytes(e){return new el(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new fo(this.firestore,null,r)}}function nl(a){return new ql("sum",k1("sum",a))}function bm(a){return new ql("avg",k1("average",a))}function Mm(){return new ql("count")}function D_(a,e){var r,o;return a instanceof ql&&e instanceof ql&&a.aggregateType===e.aggregateType&&(null===(r=a._internalFieldPath)||void 0===r?void 0:r.canonicalString())===(null===(o=e._internalFieldPath)||void 0===o?void 0:o.canonicalString())}function cs(a,e){return c0(a.query,e.query)&&(0,wt.bD)(a.data(),e.data())}class Cu{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ql extends M1{constructor(e,r,o,c,p,g){super(e,r,o,c,g),this._firestore=e,this._firestoreImpl=e,this.metadata=p}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new C1(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const o=this._document.data.field(Rp("DocumentSnapshot.get",e));if(null!==o)return this._userDataWriter.convertValue(o,r.serverTimestamps)}}}class C1 extends Ql{data(e={}){return super.data(e)}}class vd{constructor(e,r,o,c){this._firestore=e,this._userDataWriter=r,this._snapshot=c,this.metadata=new Cu(c.hasPendingWrites,c.fromCache),this.query=o}get docs(){const e=[];return this.forEach(r=>e.push(r)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,r){this._snapshot.docs.forEach(o=>{e.call(r,new C1(this._firestore,this._userDataWriter,o.key,o,new Cu(this._snapshot.mutatedKeys.has(o.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new dt(We.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(c,p){if(c._snapshot.oldDocs.isEmpty()){let g=0;return c._snapshot.docChanges.map(C=>({type:"added",doc:new C1(c._firestore,c._userDataWriter,C.doc.key,C.doc,new Cu(c._snapshot.mutatedKeys.has(C.doc.key),c._snapshot.fromCache),c.query.converter),oldIndex:-1,newIndex:g++}))}{let g=c._snapshot.oldDocs;return c._snapshot.docChanges.filter(C=>p||3!==C.type).map(C=>{const N=new C1(c._firestore,c._userDataWriter,C.doc.key,C.doc,new Cu(c._snapshot.mutatedKeys.has(C.doc.key),c._snapshot.fromCache),c.query.converter);let H=-1,J=-1;return 0!==C.type&&(H=g.indexOf(C.doc.key),g=g.delete(C.doc.key)),1!==C.type&&(g=g.add(C.doc),J=g.indexOf(C.doc.key)),{type:k0(C.type),doc:N,oldIndex:H,newIndex:J}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function k0(a){switch(a){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return pt()}}function wm(a,e){return a instanceof Ql&&e instanceof Ql?a._firestore===e._firestore&&a._key.isEqual(e._key)&&(null===a._document?null===e._document:a._document.isEqual(e._document))&&a._converter===e._converter:a instanceof vd&&e instanceof vd&&a._firestore===e._firestore&&c0(a.query,e.query)&&a.metadata.isEqual(e.metadata)&&a._snapshot.isEqual(e._snapshot)}function Em(a){a=Or(a,fo);const e=Or(a.firestore,Pi);return r0(mo(e),a._key).then(r=>Vp(e,a,r))}class Au extends v0{constructor(e){super(),this.firestore=e}convertBytes(e){return new el(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new fo(this.firestore,null,r)}}function xm(a){a=Or(a,fo);const e=Or(a.firestore,Pi),r=mo(e),o=new Au(e);return function f1(a,e){const r=new Xn;return a.asyncQueue.enqueueAndForget((0,ue.A)(function*(){return(o=(0,ue.A)(function*(p,g,C){try{const N=yield function(J,ye){const He=vt(J);return He.persistence.runTransaction("read document","readonly",Mt=>He.localDocuments.getDocument(Mt,ye))}(p,g);N.isFoundDocument()?C.resolve(N):N.isNoDocument()?C.resolve(null):C.reject(new dt(We.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(N){const H=Wt(N,`Failed to get document '${g} from cache`);C.reject(H)}}),function c(p,g,C){return o.apply(this,arguments)})(yield Xd(a),e,r);var o})),r.promise}(r,a._key).then(c=>new Ql(e,o,a._key,c,new Cu(null!==c&&c.hasLocalMutations,!0),a.converter))}function Cm(a){a=Or(a,fo);const e=Or(a.firestore,Pi);return r0(mo(e),a._key,{source:"server"}).then(r=>Vp(e,a,r))}function Ig(a){a=Or(a,bo);const e=Or(a.firestore,Pi),r=mo(e),o=new Au(e);return pm(a._query),Mp(r,a._query).then(c=>new vd(e,o,a,c))}function Tg(a){a=Or(a,bo);const e=Or(a.firestore,Pi),r=mo(e),o=new Au(e);return function K2(a,e){const r=new Xn;return a.asyncQueue.enqueueAndForget((0,ue.A)(function*(){return(o=(0,ue.A)(function*(p,g,C){try{const N=yield Fa(p,g,!0),H=new Rf(g,N.Ts),J=H.ma(N.documents),ye=H.applyChanges(J,!1);C.resolve(ye.snapshot)}catch(N){const H=Wt(N,`Failed to execute query '${g} against cache`);C.reject(H)}}),function c(p,g,C){return o.apply(this,arguments)})(yield Xd(a),e,r);var o})),r.promise}(r,a._query).then(c=>new vd(e,o,a,c))}function Dg(a){a=Or(a,bo);const e=Or(a.firestore,Pi),r=mo(e),o=new Au(e);return Mp(r,a._query,{source:"server"}).then(c=>new vd(e,o,a,c))}function Am(a,e,r){a=Or(a,fo);const o=Or(a.firestore,Pi),c=Np(a.converter,e,r);return _d(o,[Ip(yd(o),"setDoc",a._key,c,null!==a.converter,r).toMutation(a._key,wr.none())])}function ah(a,e,r,...o){a=Or(a,fo);const c=Or(a.firestore,Pi),p=yd(c);let g;return g="string"==typeof(e=(0,wt.Ku)(e))||e instanceof tl?ih(p,"updateDoc",a._key,e,r,o):_1(p,"updateDoc",a._key,e),_d(c,[g.toMutation(a._key,wr.exists(!0))])}function Zl(a){return _d(Or(a.firestore,Pi),[new zo(a._key,wr.none())])}function ch(a,e){const r=Or(a.firestore,Pi),o=pd(a),c=Np(a.converter,e);return _d(r,[Ip(yd(a.firestore),"addDoc",o._key,c,null!==a.converter,{}).toMutation(o._key,wr.exists(!1))]).then(()=>o)}function Im(a,...e){var r,o,c;a=(0,wt.Ku)(a);let p={includeMetadataChanges:!1,source:"default"},g=0;"object"!=typeof e[g]||m1(e[g])||(p=e[g],g++);const C={includeMetadataChanges:p.includeMetadataChanges,source:p.source};if(m1(e[g])){const ye=e[g];e[g]=null===(r=ye.next)||void 0===r?void 0:r.bind(ye),e[g+1]=null===(o=ye.error)||void 0===o?void 0:o.bind(ye),e[g+2]=null===(c=ye.complete)||void 0===c?void 0:c.bind(ye)}let N,H,J;if(a instanceof fo)H=Or(a.firestore,Pi),J=rs(a._key.path),N={next:ye=>{e[g]&&e[g](Vp(H,a,ye))},error:e[g+1],complete:e[g+2]};else{const ye=Or(a,bo);H=Or(ye.firestore,Pi),J=ye._query;const He=new Au(H);N={next:Mt=>{e[g]&&e[g](new vd(H,He,ye,Mt))},error:e[g+1],complete:e[g+2]},pm(a._query)}return function(He,Mt,$t,ln){const nn=new vp(ln),Nn=new $d(Mt,nn,$t);return He.asyncQueue.enqueueAndForget((0,ue.A)(function*(){return Ba(yield hd(He),Nn)})),()=>{nn.Za(),He.asyncQueue.enqueueAndForget((0,ue.A)(function*(){return bu(yield hd(He),Nn)}))}}(mo(H),J,C,N)}function Sg(a,e){return function _g(a,e){const r=new vp(e);return a.asyncQueue.enqueueAndForget((0,ue.A)(function*(){return c=yield hd(a),p=r,vt(c).Y_.add(p),void p.next();var c,p})),()=>{r.Za(),a.asyncQueue.enqueueAndForget((0,ue.A)(function*(){return c=yield hd(a),p=r,void vt(c).Y_.delete(p);var c,p}))}}(mo(a=Or(a,Pi)),m1(e)?e:{next:e})}function _d(a,e){return function(o,c){const p=new Xn;return o.asyncQueue.enqueueAndForget((0,ue.A)(function*(){return function F2(a,e,r){return mp.apply(this,arguments)}(yield n0(o),c,p)})),p.promise}(mo(a),e)}function Vp(a,e,r){const o=r.docs.get(e._key),c=new Au(a);return new Ql(a,c,e._key,o,new Cu(r.hasPendingWrites,r.fromCache),e.converter)}function Lp(a){return lh(a,{count:Mm()})}function lh(a,e){const r=Or(a.firestore,Pi),o=mo(r),c=Ea(e,(p,g)=>new na(g,p.aggregateType,p._internalFieldPath));return function o0(a,e,r){const o=new Xn;return a.asyncQueue.enqueueAndForget((0,ue.A)(function*(){try{const c=yield W2(a);o.resolve((p=(0,ue.A)(function*(C,N,H){var J;const ye=vt(C),{request:He,ut:Mt,parent:$t}=ws(ye.serializer,Ca(N),H);ye.connection.Fo||delete He.parent;const ln=(yield ye.Lo("RunAggregationQuery",ye.serializer.databaseId,$t,He,1)).filter(Nn=>!!Nn.result);Ft(1===ln.length);const nn=null===(J=ln[0].result)||void 0===J?void 0:J.aggregateFields;return Object.keys(nn).reduce((Nn,Gn)=>(Nn[Mt[Gn]]=nn[Gn],Nn),{})}),function g(C,N,H){return p.apply(this,arguments)})(c,e,r))}catch(c){o.reject(c)}var p})),o.promise}(o,a._query,c).then(p=>function(C,N,H){const J=new Au(C);return new fd(N,J,H)}(r,a,p))}class Fp{constructor(e){this.kind="memory",this._onlineComponentProvider=d1.provider,this._offlineComponentProvider=e?.garbageCollector?e.garbageCollector._offlineComponentProvider:l1.provider}toJSON(){return{kind:this.kind}}}class Tm{constructor(e){let r;this.kind="persistent",e?.tabManager?(e.tabManager._initialize(e),r=e.tabManager):(r=Lg(void 0),r._initialize(e)),this._onlineComponentProvider=r._onlineComponentProvider,this._offlineComponentProvider=r._offlineComponentProvider}toJSON(){return{kind:this.kind}}}class Dm{constructor(){this.kind="memoryEager",this._offlineComponentProvider=l1.provider}toJSON(){return{kind:this.kind}}}class Rg{constructor(e){this.kind="memoryLru",this._offlineComponentProvider={build:()=>new Xf(e)}}toJSON(){return{kind:this.kind}}}function Pg(){return new Dm}function Og(a){return new Rg(a?.cacheSizeBytes)}function Ng(a){return new Fp(a)}function Sm(a){return new Tm(a)}class S_{constructor(e){this.forceOwnership=e,this.kind="persistentSingleTab"}toJSON(){return{kind:this.kind}}_initialize(e){this._onlineComponentProvider=d1.provider,this._offlineComponentProvider={build:r=>new u1(r,e?.cacheSizeBytes,this.forceOwnership)}}}class Vg{constructor(){this.kind="PersistentMultipleTab"}toJSON(){return{kind:this.kind}}_initialize(e){this._onlineComponentProvider=d1.provider,this._offlineComponentProvider={build:r=>new mg(r,e?.cacheSizeBytes)}}}function Lg(a){return new S_(a?.forceOwnership)}function R_(){return new Vg}const Rm={maxAttempts:5};class b0{constructor(e,r){this._firestore=e,this._commitHandler=r,this._mutations=[],this._committed=!1,this._dataReader=yd(e)}set(e,r,o){this._verifyNotCommitted();const c=kd(e,this._firestore),p=Np(c.converter,r,o),g=Ip(this._dataReader,"WriteBatch.set",c._key,p,null!==c.converter,o);return this._mutations.push(g.toMutation(c._key,wr.none())),this}update(e,r,o,...c){this._verifyNotCommitted();const p=kd(e,this._firestore);let g;return g="string"==typeof(r=(0,wt.Ku)(r))||r instanceof tl?ih(this._dataReader,"WriteBatch.update",p._key,r,o,c):_1(this._dataReader,"WriteBatch.update",p._key,r),this._mutations.push(g.toMutation(p._key,wr.exists(!0))),this}delete(e){this._verifyNotCommitted();const r=kd(e,this._firestore);return this._mutations=this._mutations.concat(new zo(r._key,wr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new dt(We.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function kd(a,e){if((a=(0,wt.Ku)(a)).firestore!==e)throw new dt(We.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return a}class A1 extends class{constructor(r,o){this._firestore=r,this._transaction=o,this._dataReader=yd(r)}get(r){const o=kd(r,this._firestore),c=new _0(this._firestore);return this._transaction.lookup([o._key]).then(p=>{if(!p||1!==p.length)return pt();const g=p[0];if(g.isFoundDocument())return new M1(this._firestore,c,g.key,g,o.converter);if(g.isNoDocument())return new M1(this._firestore,c,o._key,null,o.converter);throw pt()})}set(r,o,c){const p=kd(r,this._firestore),g=Np(p.converter,o,c),C=Ip(this._dataReader,"Transaction.set",p._key,g,null!==p.converter,c);return this._transaction.set(p._key,C),this}update(r,o,c,...p){const g=kd(r,this._firestore);let C;return C="string"==typeof(o=(0,wt.Ku)(o))||o instanceof tl?ih(this._dataReader,"Transaction.update",g._key,o,c,p):_1(this._dataReader,"Transaction.update",g._key,o),this._transaction.update(g._key,C),this}delete(r){const o=kd(r,this._firestore);return this._transaction.delete(o._key),this}}{constructor(e,r){super(e,r),this._firestore=e}get(e){const r=kd(e,this._firestore),o=new Au(this._firestore);return super.get(e).then(c=>new Ql(this._firestore,o,r._key,c._document,new Cu(!1,!1),r.converter))}}function Pm(a,e,r){a=Or(a,Pi);const o=Object.assign(Object.assign({},Rm),r);return function(p){if(p.maxAttempts<1)throw new dt(We.INVALID_ARGUMENT,"Max attempts must be at least 1")}(o),function(p,g,C){const N=new Xn;return p.asyncQueue.enqueueAndForget((0,ue.A)(function*(){const H=yield W2(p);new vg(p.asyncQueue,H,C,g,N).au()})),N.promise}(mo(a),c=>e(new A1(a,c)),o)}function Om(){return new Tp("deleteField")}function Fg(){return new rh("serverTimestamp")}function M0(...a){return new v1("arrayUnion",a)}function Nm(...a){return new m0("arrayRemove",a)}function xr(a){return new Dp("increment",a)}function Vm(a){return new $l(a)}function Lm(a){return mo(a=Or(a,Pi)),new b0(a,e=>_d(a,e))}function uh(a,e){const r=mo(a=Or(a,Pi));return r._uninitializedComponentsProvider&&"memory"!==r._uninitializedComponentsProvider._offline.kind?function wp(a,e){return a.asyncQueue.enqueue((0,ue.A)(function*(){return(r=(0,ue.A)(function*(c,p){const g=vt(c),C=g.indexManager,N=[];return g.persistence.runTransaction("Configure indexes","readwrite",H=>C.getFieldIndexes(H).next(J=>
/**
                  * @license
                  * Copyright 2017 Google LLC
                  *
                  * Licensed under the Apache License, Version 2.0 (the "License");
                  * you may not use this file except in compliance with the License.
                  * You may obtain a copy of the License at
                  *
                  *   http://www.apache.org/licenses/LICENSE-2.0
                  *
                  * Unless required by applicable law or agreed to in writing, software
                  * distributed under the License is distributed on an "AS IS" BASIS,
                  * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
                  * See the License for the specific language governing permissions and
                  * limitations under the License.
                  */function(He,Mt,$t,ln,nn){He=[...He],Mt=[...Mt],He.sort($t),Mt.sort($t);const Nn=He.length,Gn=Mt.length;let On=0,gr=0;for(;On<Gn&&gr<Nn;){const ti=$t(He[gr],Mt[On]);ti<0?nn(He[gr++]):ti>0?ln(Mt[On++]):(On++,gr++)}for(;On<Gn;)ln(Mt[On++]);for(;gr<Nn;)nn(He[gr++])}(J,p,er,ye=>{N.push(C.addFieldIndex(H,ye))},ye=>{N.push(C.deleteFieldIndex(H,ye))})).next(()=>O.waitFor(N)))}),function o(c,p){return r.apply(this,arguments)})(yield Xd(a),e);var r}))}(r,function(p){const g="string"==typeof p?function(H){try{return JSON.parse(H)}catch(J){throw new dt(We.INVALID_ARGUMENT,"Failed to parse JSON: "+J?.message)}}(p):p,C=[];if(Array.isArray(g.indexes))for(const N of g.indexes){const H=w0(N,"collectionGroup"),J=[];if(Array.isArray(N.fields))for(const ye of N.fields){const He=Sp("setIndexConfiguration",w0(ye,"fieldPath"));"CONTAINS"===ye.arrayConfig?J.push(new fr(He,2)):"ASCENDING"===ye.order?J.push(new fr(He,0)):"DESCENDING"===ye.order&&J.push(new fr(He,1))}C.push(new Ar(Ar.UNKNOWN_ID,H,J,Zr.empty()))}return C}(e)):(Lt("Cannot enable indexes when persistence is disabled"),Promise.resolve())}function w0(a,e){if("string"!=typeof a[e])throw new dt(We.INVALID_ARGUMENT,"Missing string value for: "+e);return a[e]}class Fm{constructor(e){this._firestore=e,this.type="PersistentCacheIndexManager"}}function Bp(a){var e;a=Or(a,Pi);const r=jp.get(a);if(r)return r;if("persistent"!==(null===(e=mo(a)._uninitializedComponentsProvider)||void 0===e?void 0:e._offline.kind))return null;const o=new Fm(a);return jp.set(a,o),o}function dh(a){x0(a,!0)}function E0(a){x0(a,!1)}function I1(a){(function s0(a){return a.asyncQueue.enqueue((0,ue.A)(function*(){return function(r){const o=vt(r),c=o.indexManager;return o.persistence.runTransaction("Delete All Indexes","readwrite",p=>c.deleteAllFieldIndexes(p))}(yield Xd(a))}))})(mo(a._firestore)).then(e=>we("deleting all persistent cache indexes succeeded")).catch(e=>Lt("deleting all persistent cache indexes failed",e))}function x0(a,e){(function x_(a,e){return a.asyncQueue.enqueue((0,ue.A)(function*(){return o=yield Xd(a),c=e,void(vt(o).ss.zi=c);var o,c}))})(mo(a._firestore),e).then(r=>we(`setting persistent cache index auto creation isEnabled=${e} succeeded`)).catch(r=>Lt(`setting persistent cache index auto creation isEnabled=${e} failed`,r))}const jp=new WeakMap;function C0(a){var e;const r=null===(e=mo(Or(a.firestore,Pi))._onlineComponents)||void 0===e?void 0:e.datastore.serializer;return void 0===r?null:Er(r,$i(a._query))._t}function A0(a,e){var r;const o=Ea(e,(p,g)=>new na(g,p.aggregateType,p._internalFieldPath)),c=null===(r=mo(Or(a.firestore,Pi))._onlineComponents)||void 0===r?void 0:r.datastore.serializer;return void 0===c?null:ws(c,Ca(a._query),o,!0).request}class Bm{constructor(){throw new Error("instances of this class should not be created")}static onExistenceFilterMismatch(e){return T1.instance.onExistenceFilterMismatch(e)}}class T1{constructor(){this.Uu=new Map}static get instance(){return zp||(zp=new T1,function(r){if(Za)throw new Error("a TestingHooksSpi instance is already set");Za=r}(zp)),zp}et(e){this.Uu.forEach(r=>r(e))}onExistenceFilterMismatch(e){const r=Symbol(),o=this.Uu;return o.set(r,e),()=>o.delete(r)}}let zp=null;!function(e,r=!0){Cn=mt.MF,(0,mt.om)(new Pt.uA("firestore",(o,{instanceIdentifier:c,options:p})=>{const g=o.getProvider("app").getImmediate(),C=new Pi(new kr(o.getProvider("auth-internal")),new qe(o.getProvider("app-check-internal")),function(H,J){if(!Object.prototype.hasOwnProperty.apply(H.options,["projectId"]))throw new dt(We.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ki(H.options.projectId,J)}(g,c),g);return p=Object.assign({useFetchStreams:r},p),C._setSettings(p),C},"PUBLIC").setMultipleInstances(!0)),(0,mt.KO)(Mn,"4.7.3",e),(0,mt.KO)(Mn,"4.7.3","esm2017")}();var Bg=L(1985),jm=L(1203),bd=L(6354),zm=L(5964),jg=L(9172),Um=L(2816),Hm=L(3294),D1=function(){return D1=Object.assign||function(e){for(var r,o=1,c=arguments.length;o<c;o++)for(var p in r=arguments[o])Object.prototype.hasOwnProperty.call(r,p)&&(e[p]=r[p]);return e},D1.apply(this,arguments)};function I0(a,e,r){if(r||2===arguments.length)for(var p,o=0,c=e.length;o<c;o++)(p||!(o in e))&&(p||(p=Array.prototype.slice.call(e,0,o)),p[o]=e[o]);return a.concat(p||Array.prototype.slice.call(e))}"function"==typeof SuppressedError&&SuppressedError;var Ug={includeMetadataChanges:!1};function Gs(a,e){return void 0===e&&(e=Ug),new Bg.c(function(r){return{unsubscribe:Im(a,e,{next:r.next.bind(r),error:r.error.bind(r),complete:r.complete.bind(r)})}})}function qm(a){return Gs(a,{includeMetadataChanges:!0})}function Hg(a,e){return void 0===e&&(e={}),qm(a).pipe((0,bd.T)(function(r){return T0(r,e)}))}function T0(a,e){var r;void 0===e&&(e={});var o=a.data(e);return a.exists()&&"object"==typeof o&&null!==o&&e.idField?D1(D1({},o),((r={})[e.idField]=a.id,r)):o}var Up=["added","modified","removed"],$m=function(a){return(0,zm.p)(function(e){for(var r=!1,o=0;o<e.length;o++)if(a&&a.indexOf(e[o].type)>=0){r=!0;break}return r})};function D0(a,e,r){for(var o=[],c=3;c<arguments.length;c++)o[c-3]=arguments[c];var p=a.slice();return p.splice.apply(p,I0([e,r],o,!1)),p}var S0=function(){return(0,jm.F)((0,jg.Z)(void 0),function zg(){return(0,re.N)((a,e)=>{let r,o=!1;a.subscribe((0,Re._)(e,c=>{const p=r;r=c,o&&e.next([p,c]),o=!0}))})}())},R0=function(a,e){return JSON.stringify(a.metadata)===JSON.stringify(e.metadata)},Wg=function(){return(0,jm.F)(S0(),(0,zm.p)(function(a){return a[1].length>0||void 0===a[0]}),(0,bd.T)(function(a){return a[1]}))};function S1(a,e){return void 0===e&&(e={}),Gs(a,{includeMetadataChanges:!0}).pipe(S0(),(0,bd.T)(function(r){var o=r[0],c=r[1],p=c.docChanges();return o&&!R0(o,c)&&c.docs.forEach(function(g,C){var N=p.find(function(J){return Jd(J.doc.ref,g.ref)});if(N){if(R0(N.doc,g))return}else{var H=o?.docs.find(function(J){return Jd(J.ref,g.ref)});if(H&&R0(H,g))return}p.push({oldIndex:C,newIndex:C,type:"modified",doc:g})}),p}),$m(e.events||Up),Wg())}function Wm(a){return Gs(a,{includeMetadataChanges:!0}).pipe((0,bd.T)(function(e){return e.docs}))}function Gg(a,e){return void 0===e&&(e={}),S1(a,e).pipe((0,Um.S)(function(r,o){return function $g(a,e,r){return void 0===r&&(r=Up),e.forEach(function(o){r.indexOf(o.type)>-1&&(a=function qg(a,e){switch(e.type){case"added":if(!a[e.newIndex]||!Jd(a[e.newIndex].doc.ref,e.doc.ref))return D0(a,e.newIndex,0,e);break;case"modified":if(null==a[e.oldIndex]||Jd(a[e.oldIndex].doc.ref,e.doc.ref)){if(e.oldIndex!==e.newIndex){var r=a.slice();return r.splice(e.oldIndex,1),r.splice(e.newIndex,0,e),r}return D0(a,e.newIndex,1,e)}break;case"removed":if(a[e.oldIndex]&&Jd(a[e.oldIndex].doc.ref,e.doc.ref))return D0(a,e.oldIndex,1)}return a}(a,o))}),a}(r,o,e.events)},[]),(0,Hm.F)())}function Kg(a,e){return void 0===e&&(e={}),S1(a,e).pipe((0,Um.S)(function(r,o){return I0(I0([],r,!0),o,!0)},[]))}function Qg(a,e){return void 0===e&&(e={}),Wm(a).pipe((0,bd.T)(function(r){return r.map(function(o){return T0(o,e)})}))}function Gm(a){return(0,ge.H)(Lp(a))}function rl(a){return Gm(a).pipe((0,bd.T)(function(e){return e.data().count}))}class hh{constructor(e){return e}}const P0="firestore";class O0{constructor(){return(0,f.CA)(P0)}}const Zg=(0,G.O)(0,300).pipe((0,le.H)(()=>(0,ge.H)((0,f.CA)(P0))),fe()),Hp=new te.nKC("angularfire2.firestore-instances");function qp(a){return(e,r)=>{const o=e.runOutsideAngular(()=>a(r));return new hh(o)}}const N0={provide:O0,deps:[[new te.Xx1,Hp]]},P_={provide:hh,useFactory:function Km(a,e){const r=(0,f.lR)(P0,a,e);return r&&new hh(r)},deps:[[new te.Xx1,Hp],de.XU]};let V0=(()=>{class a{constructor(){(0,Ue.KO)("angularfire",f.xv.full,"fst")}static \u0275fac=function(o){return new(o||a)};static \u0275mod=te.$C({type:a});static \u0275inj=te.G2t({providers:[P_,N0]})}return a})();function Qm(a,...e){return{ngModule:V0,providers:[{provide:Hp,useFactory:qp(a),multi:!0,deps:[te.SKi,te.zZn,f.u0,de.gL,[new te.Xx1,Pe.DF],[new te.Xx1,f.Jv],...e]}]}}const Zm=(0,f.S3)(S1,!0),Xm=(0,f.S3)(Wm,!0),L0=(0,f.S3)(Gg,!0),Xl=(0,f.S3)(Kg,!0),Xg=(0,f.S3)(Qg,!0),Yg=(0,f.S3)(Gm,!0),F0=(0,f.S3)(rl,!0),Jg=(0,f.S3)(qm,!0),Ym=(0,f.S3)(Hg,!0),ev=(0,f.S3)(T0,!0),$p=(0,f.S3)(Gs,!0),R1=(0,f.S3)(ch,!0),Jm=(0,f.S3)(D_,!0),Wp=(0,f.S3)(cs,!0),O_=(0,f.S3)(xg,!0),tv=(0,f.S3)(Nm,!0),ey=(0,f.S3)(M0,!0),ty=(0,f.S3)(bm,!0),nv=(0,f.S3)(wg,!0),rv=(0,f.S3)(kg,!0),ny=(0,f.S3)(em,!0),ry=(0,f.S3)(Nc,!0),P1=(0,f.S3)(Mm,!0),iv=(0,f.S3)(I1,!0),iy=(0,f.S3)(Zl,!0),B0=(0,f.S3)(Om,!0),ov=(0,f.S3)(eh,!0),sv=(0,f.S3)(E0,!0),O1=(0,f.S3)(pd,!0),av=(0,f.S3)(Ap,!0),cv=(0,f.S3)(Mg,!0),lv=(0,f.S3)(A_,!0),uv=(0,f.S3)(h0,!0),dv=(0,f.S3)(dh,!0),hv=(0,f.S3)(_m,!0),pv=(0,f.S3)(Lc,!0),fv=(0,f.S3)(lh,!0),oy=(0,f.S3)(Lp,!0),j0=(0,f.S3)(Em,!0),mv=(0,f.S3)(xm,!0),Gp=(0,f.S3)(Cm,!0),yv=(0,f.S3)(Ig,!0),gv=(0,f.S3)(Tg,!0),vv=(0,f.S3)(Dg,!0),_v=(0,f.S3)(C_,!0),kv=(0,f.S3)(Bp,!0),bv=(0,f.S3)(xr,!0),Mv=(0,f.S3)(u0,!0),sy=(0,f.S3)(gm,!0),ay=(0,f.S3)(Cg,!0),wv=(0,f.S3)(f0,!0),N_=(0,f.S3)(Pg,!0),cy=(0,f.S3)(Ng,!0),ly=(0,f.S3)(Og,!0),V_=(0,f.S3)(g1,!0),Kp=(0,f.S3)(Im,!0),Ev=(0,f.S3)(Sg,!0),xv=(0,f.S3)(mm,!0),z0=(0,f.S3)(ym,!0),Cv=(0,f.S3)(Sm,!0),il=(0,f.S3)(R_,!0),N1=(0,f.S3)(Lg,!0),Ks=(0,f.S3)(fm,!0),Md=(0,f.S3)(c0,!0),Qp=(0,f.S3)(Jd,!0),sc=(0,f.S3)(Pm,!0),U0=(0,f.S3)(Fg,!0),ph=(0,f.S3)(Am,!0),fh=(0,f.S3)(uh,!0),mh=(0,f.S3)(Xe,!0),yh=(0,f.S3)(wm,!0),gh=(0,f.S3)(vm,!0),vh=(0,f.S3)(T_,!0),_h=(0,f.S3)(nl,!0),kh=(0,f.S3)(p0,!0),bh=(0,f.S3)(ah,!0),uy=(0,f.S3)(d0,!0),dy=(0,f.S3)(I_,!0),hy=(0,f.S3)(Lm,!0)},5407:(an,tt,L)=>{L.d(tt,{xv:()=>ue,u0:()=>je,Jv:()=>wt,CA:()=>Ot,lR:()=>Pt,S3:()=>Tn});var f=L(7705),G=L(2214),ge=L(6780),re=L(3604);const Oe=new class Re extends re.q{}(class le extends ge.R{constructor(Mn,Qt){super(Mn,Qt),this.scheduler=Mn,this.work=Qt}schedule(Mn,Qt=0){return Qt>0?super.schedule(Mn,Qt):(this.delay=Qt,this.state=Mn,this.scheduler.flush(this),this)}execute(Mn,Qt){return Qt>0||this.closed?super.execute(Mn,Qt):this._execute(Mn,Qt)}requestAsyncId(Mn,Qt,Cn=0){return null!=Cn&&Cn>0||null==Cn&&this.delay>0?super.requestAsyncId(Mn,Qt,Cn):(Mn.flush(this),0)}});var fe=L(3236),te=L(1985),de=L(8141),Pe=L(6745),Ue=L(941);const ue=new f.RxE("ANGULARFIRE2_VERSION");function Pt(rn,Mn,Qt){if(Mn){if(1===Mn.length)return Mn[0];const Le=Mn.filter(Xe=>Xe.app===Qt);if(1===Le.length)return Le[0]}return Qt.container.getProvider(rn).getImmediate({optional:!0})}const Ot=(rn,Mn)=>{const Qt=Mn?[Mn]:(0,G.Dk)(),Cn=[];return Qt.forEach(Yt=>{Yt.container.getProvider(rn).instances.forEach(Xe=>{Cn.includes(Xe)||Cn.push(Xe)})}),Cn};class wt{constructor(){return Ot(fn)}}const fn="app-check";function Xt(){}class ke{zone;delegate;constructor(Mn,Qt=Oe){this.zone=Mn,this.delegate=Qt}now(){return this.delegate.now()}schedule(Mn,Qt,Cn){const Yt=this.zone;return this.delegate.schedule(function(Xe){Yt.runGuarded(()=>{Mn.apply(this,[Xe])})},Qt,Cn)}}class Ge{zone;task=null;constructor(Mn){this.zone=Mn}call(Mn,Qt){const Cn=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Xt,{},Xt,Xt)),Qt.pipe((0,de.M)({next:Cn,complete:Cn,error:Cn})).subscribe(Mn).add(Cn)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let je=(()=>{class rn{ngZone;outsideAngular;insideAngular;constructor(Qt){this.ngZone=Qt,this.outsideAngular=Qt.runOutsideAngular(()=>new ke(Zone.current)),this.insideAngular=Qt.run(()=>new ke(Zone.current,fe.E)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(Cn){return new(Cn||rn)(f.KVO(f.SKi))};static \u0275prov=f.jDH({token:rn,factory:rn.\u0275fac,providedIn:"root"})}return rn})();function $e(){const rn=globalThis.\u0275AngularFireScheduler;if(!rn)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return rn}function Tt(rn){return $e().ngZone.run(()=>rn())}function _n(rn){return function jn(rn){return function(Qt){return(Qt=Qt.lift(new Ge(rn.ngZone))).pipe((0,Pe._)(rn.outsideAngular),(0,Ue.Q)(rn.insideAngular))}}($e())(rn)}const zt=(rn,Mn)=>function(){const Cn=arguments;return Mn&&setTimeout(()=>{"scheduled"===Mn.state&&Mn.invoke()},10),Tt(()=>rn.apply(void 0,Cn))},Tn=(rn,Mn)=>function(){let Qt;const Cn=arguments;for(let Le=0;Le<arguments.length;Le++)"function"==typeof Cn[Le]&&(Mn&&(Qt||=Tt(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Xt,{},Xt,Xt))),Cn[Le]=zt(Cn[Le],Qt));const Yt=function _t(rn){return $e().ngZone.runOutsideAngular(()=>rn())}(()=>rn.apply(this,Cn));if(!Mn){if(Yt instanceof te.c){const Le=$e();return Yt.pipe((0,Pe._)(Le.outsideAngular),(0,Ue.Q)(Le.insideAngular))}return Tt(()=>Yt)}return Yt instanceof te.c?Yt.pipe(_n):Yt instanceof Promise?Tt(()=>new Promise((Le,Xe)=>Yt.then(we=>Tt(()=>Le(we)),we=>Tt(()=>Xe(we))))):"function"==typeof Yt&&Qt?function(){return setTimeout(()=>{Qt&&"scheduled"===Qt.state&&Qt.invoke()},10),Yt.apply(this,arguments)}:Tt(()=>Yt)}},9417:(an,tt,L)=>{L.d(tt,{$R:()=>Ys,BC:()=>Vr,Fm:()=>wo,JD:()=>pn,MJ:()=>Ai,Q0:()=>Rs,VZ:()=>Ni,X1:()=>Ns,YN:()=>zc,Zm:()=>te,cV:()=>Bi,cb:()=>kr,cz:()=>Ot,j4:()=>_i,k0:()=>Xt,kq:()=>he,l_:()=>Ir,me:()=>ue,ok:()=>or,qT:()=>$o,v8:()=>Br,vO:()=>dt,vS:()=>Zi,wz:()=>Ei,xH:()=>bi,xq:()=>Eo,y7:()=>Fo});var f=L(7705),G=L(177),ge=L(8455),le=L(7468),re=L(6354);let Re=(()=>{class q{constructor(B,ee){this._renderer=B,this._elementRef=ee,this.onChange=Ne=>{},this.onTouched=()=>{}}setProperty(B,ee){this._renderer.setProperty(this._elementRef.nativeElement,B,ee)}registerOnTouched(B){this.onTouched=B}registerOnChange(B){this.onChange=B}setDisabledState(B){this.setProperty("disabled",B)}static{this.\u0275fac=function(ee){return new(ee||q)(f.rXU(f.sFG),f.rXU(f.aKT))}}static{this.\u0275dir=f.FsC({type:q})}}return q})(),Oe=(()=>{class q extends Re{static{this.\u0275fac=function(){let B;return function(Ne){return(B||(B=f.xGo(q)))(Ne||q)}}()}static{this.\u0275dir=f.FsC({type:q,features:[f.Vt3]})}}return q})();const he=new f.nKC("NgValueAccessor"),fe={provide:he,useExisting:(0,f.Rfq)(()=>te),multi:!0};let te=(()=>{class q extends Oe{writeValue(B){this.setProperty("checked",B)}static{this.\u0275fac=function(){let B;return function(Ne){return(B||(B=f.xGo(q)))(Ne||q)}}()}static{this.\u0275dir=f.FsC({type:q,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(ee,Ne){1&ee&&f.bIt("change",function(Qn){return Ne.onChange(Qn.target.checked)})("blur",function(){return Ne.onTouched()})},features:[f.Jv_([fe]),f.Vt3]})}}return q})();const de={provide:he,useExisting:(0,f.Rfq)(()=>ue),multi:!0},Ue=new f.nKC("CompositionEventMode");let ue=(()=>{class q extends Re{constructor(B,ee,Ne){super(B,ee),this._compositionMode=Ne,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Pe(){const q=(0,G.QT)()?(0,G.QT)().getUserAgent():"";return/android (\d+)/.test(q.toLowerCase())}())}writeValue(B){this.setProperty("value",B??"")}_handleInput(B){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(B)}_compositionStart(){this._composing=!0}_compositionEnd(B){this._composing=!1,this._compositionMode&&this.onChange(B)}static{this.\u0275fac=function(ee){return new(ee||q)(f.rXU(f.sFG),f.rXU(f.aKT),f.rXU(Ue,8))}}static{this.\u0275dir=f.FsC({type:q,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(ee,Ne){1&ee&&f.bIt("input",function(Qn){return Ne._handleInput(Qn.target.value)})("blur",function(){return Ne.onTouched()})("compositionstart",function(){return Ne._compositionStart()})("compositionend",function(Qn){return Ne._compositionEnd(Qn.target.value)})},features:[f.Jv_([de]),f.Vt3]})}}return q})();function mt(q){return null==q||("string"==typeof q||Array.isArray(q))&&0===q.length}function Pt(q){return null!=q&&"number"==typeof q.length}const Ot=new f.nKC("NgValidators"),wt=new f.nKC("NgAsyncValidators"),fn=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Xt{static min(K){return ke(K)}static max(K){return function Ge(q){return K=>{if(mt(K.value)||mt(q))return null;const B=parseFloat(K.value);return!isNaN(B)&&B>q?{max:{max:q,actual:K.value}}:null}}(K)}static required(K){return je(K)}static requiredTrue(K){return $e(K)}static email(K){return function _t(q){return mt(q.value)||fn.test(q.value)?null:{email:!0}}(K)}static minLength(K){return function Tt(q){return K=>mt(K.value)||!Pt(K.value)?null:K.value.length<q?{minlength:{requiredLength:q,actualLength:K.value.length}}:null}(K)}static maxLength(K){return function hn(q){return K=>Pt(K.value)&&K.value.length>q?{maxlength:{requiredLength:q,actualLength:K.value.length}}:null}(K)}static pattern(K){return function gn(q){if(!q)return _n;let K,B;return"string"==typeof q?(B="","^"!==q.charAt(0)&&(B+="^"),B+=q,"$"!==q.charAt(q.length-1)&&(B+="$"),K=new RegExp(B)):(B=q.toString(),K=q),ee=>{if(mt(ee.value))return null;const Ne=ee.value;return K.test(Ne)?null:{pattern:{requiredPattern:B,actualValue:Ne}}}}(K)}static nullValidator(K){return null}static compose(K){return Cn(K)}static composeAsync(K){return Le(K)}}function ke(q){return K=>{if(mt(K.value)||mt(q))return null;const B=parseFloat(K.value);return!isNaN(B)&&B<q?{min:{min:q,actual:K.value}}:null}}function je(q){return mt(q.value)?{required:!0}:null}function $e(q){return!0===q.value?null:{required:!0}}function _n(q){return null}function jn(q){return null!=q}function zt(q){return(0,f.jNT)(q)?(0,ge.H)(q):q}function Tn(q){let K={};return q.forEach(B=>{K=null!=B?{...K,...B}:K}),0===Object.keys(K).length?null:K}function rn(q,K){return K.map(B=>B(q))}function Qt(q){return q.map(K=>function Mn(q){return!q.validate}(K)?K:B=>K.validate(B))}function Cn(q){if(!q)return null;const K=q.filter(jn);return 0==K.length?null:function(B){return Tn(rn(B,K))}}function Yt(q){return null!=q?Cn(Qt(q)):null}function Le(q){if(!q)return null;const K=q.filter(jn);return 0==K.length?null:function(B){const ee=rn(B,K).map(zt);return(0,le.p)(ee).pipe((0,re.T)(Tn))}}function Xe(q){return null!=q?Le(Qt(q)):null}function we(q,K){return null===q?[K]:Array.isArray(q)?[...q,K]:[q,K]}function lt(q){return q._rawValidators}function Lt(q){return q._rawAsyncValidators}function Qe(q){return q?Array.isArray(q)?q:[q]:[]}function pt(q,K){return Array.isArray(q)?q.includes(K):q===K}function Ft(q,K){const B=Qe(K);return Qe(q).forEach(Ne=>{pt(B,Ne)||B.push(Ne)}),B}function Hn(q,K){return Qe(K).filter(B=>!pt(q,B))}class vt{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(K){this._rawValidators=K||[],this._composedValidatorFn=Yt(this._rawValidators)}_setAsyncValidators(K){this._rawAsyncValidators=K||[],this._composedAsyncValidatorFn=Xe(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(K){this._onDestroyCallbacks.push(K)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(K=>K()),this._onDestroyCallbacks=[]}reset(K=void 0){this.control&&this.control.reset(K)}hasError(K,B){return!!this.control&&this.control.hasError(K,B)}getError(K,B){return this.control?this.control.getError(K,B):null}}class We extends vt{get formDirective(){return null}get path(){return null}}class dt extends vt{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Xn{constructor(K){this._cd=K}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Vr=(()=>{class q extends Xn{constructor(B){super(B)}static{this.\u0275fac=function(ee){return new(ee||q)(f.rXU(dt,2))}}static{this.\u0275dir=f.FsC({type:q,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(ee,Ne){2&ee&&f.AVh("ng-untouched",Ne.isUntouched)("ng-touched",Ne.isTouched)("ng-pristine",Ne.isPristine)("ng-dirty",Ne.isDirty)("ng-valid",Ne.isValid)("ng-invalid",Ne.isInvalid)("ng-pending",Ne.isPending)},features:[f.Vt3]})}}return q})(),kr=(()=>{class q extends Xn{constructor(B){super(B)}static{this.\u0275fac=function(ee){return new(ee||q)(f.rXU(We,10))}}static{this.\u0275dir=f.FsC({type:q,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(ee,Ne){2&ee&&f.AVh("ng-untouched",Ne.isUntouched)("ng-touched",Ne.isTouched)("ng-pristine",Ne.isPristine)("ng-dirty",Ne.isDirty)("ng-valid",Ne.isValid)("ng-invalid",Ne.isInvalid)("ng-pending",Ne.isPending)("ng-submitted",Ne.isSubmitted)},features:[f.Vt3]})}}return q})();const Ar="VALID",qr="INVALID",Sr="PENDING",er="DISABLED";function fr(q){return(Xr(q)?q.validators:q)||null}function Zr(q,K){return(Xr(K)?K.asyncValidators:q)||null}function Xr(q){return null!=q&&!Array.isArray(q)&&"object"==typeof q}function ar(q,K,B){const ee=q.controls;if(!(K?Object.keys(ee):ee).length)throw new f.wOt(1e3,"");if(!ee[B])throw new f.wOt(1001,"")}function hi(q,K,B){q._forEachChild((ee,Ne)=>{if(void 0===B[Ne])throw new f.wOt(1002,"")})}class Nt{constructor(K,B){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(K),this._assignAsyncValidators(B)}get validator(){return this._composedValidatorFn}set validator(K){this._rawValidators=this._composedValidatorFn=K}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(K){this._rawAsyncValidators=this._composedAsyncValidatorFn=K}get parent(){return this._parent}get valid(){return this.status===Ar}get invalid(){return this.status===qr}get pending(){return this.status==Sr}get disabled(){return this.status===er}get enabled(){return this.status!==er}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(K){this._assignValidators(K)}setAsyncValidators(K){this._assignAsyncValidators(K)}addValidators(K){this.setValidators(Ft(K,this._rawValidators))}addAsyncValidators(K){this.setAsyncValidators(Ft(K,this._rawAsyncValidators))}removeValidators(K){this.setValidators(Hn(K,this._rawValidators))}removeAsyncValidators(K){this.setAsyncValidators(Hn(K,this._rawAsyncValidators))}hasValidator(K){return pt(this._rawValidators,K)}hasAsyncValidator(K){return pt(this._rawAsyncValidators,K)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(K={}){this.touched=!0,this._parent&&!K.onlySelf&&this._parent.markAsTouched(K)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(K=>K.markAllAsTouched())}markAsUntouched(K={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(B=>{B.markAsUntouched({onlySelf:!0})}),this._parent&&!K.onlySelf&&this._parent._updateTouched(K)}markAsDirty(K={}){this.pristine=!1,this._parent&&!K.onlySelf&&this._parent.markAsDirty(K)}markAsPristine(K={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(B=>{B.markAsPristine({onlySelf:!0})}),this._parent&&!K.onlySelf&&this._parent._updatePristine(K)}markAsPending(K={}){this.status=Sr,!1!==K.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!K.onlySelf&&this._parent.markAsPending(K)}disable(K={}){const B=this._parentMarkedDirty(K.onlySelf);this.status=er,this.errors=null,this._forEachChild(ee=>{ee.disable({...K,onlySelf:!0})}),this._updateValue(),!1!==K.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...K,skipPristineCheck:B}),this._onDisabledChange.forEach(ee=>ee(!0))}enable(K={}){const B=this._parentMarkedDirty(K.onlySelf);this.status=Ar,this._forEachChild(ee=>{ee.enable({...K,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:K.emitEvent}),this._updateAncestors({...K,skipPristineCheck:B}),this._onDisabledChange.forEach(ee=>ee(!1))}_updateAncestors(K){this._parent&&!K.onlySelf&&(this._parent.updateValueAndValidity(K),K.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(K){this._parent=K}getRawValue(){return this.value}updateValueAndValidity(K={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ar||this.status===Sr)&&this._runAsyncValidator(K.emitEvent)),!1!==K.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!K.onlySelf&&this._parent.updateValueAndValidity(K)}_updateTreeValidity(K={emitEvent:!0}){this._forEachChild(B=>B._updateTreeValidity(K)),this.updateValueAndValidity({onlySelf:!0,emitEvent:K.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?er:Ar}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(K){if(this.asyncValidator){this.status=Sr,this._hasOwnPendingAsyncValidator=!0;const B=zt(this.asyncValidator(this));this._asyncValidationSubscription=B.subscribe(ee=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(ee,{emitEvent:K})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(K,B={}){this.errors=K,this._updateControlsErrors(!1!==B.emitEvent)}get(K){let B=K;return null==B||(Array.isArray(B)||(B=B.split(".")),0===B.length)?null:B.reduce((ee,Ne)=>ee&&ee._find(Ne),this)}getError(K,B){const ee=B?this.get(B):this;return ee&&ee.errors?ee.errors[K]:null}hasError(K,B){return!!this.getError(K,B)}get root(){let K=this;for(;K._parent;)K=K._parent;return K}_updateControlsErrors(K){this.status=this._calculateStatus(),K&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(K)}_initObservables(){this.valueChanges=new f.bkB,this.statusChanges=new f.bkB}_calculateStatus(){return this._allControlsDisabled()?er:this.errors?qr:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Sr)?Sr:this._anyControlsHaveStatus(qr)?qr:Ar}_anyControlsHaveStatus(K){return this._anyControls(B=>B.status===K)}_anyControlsDirty(){return this._anyControls(K=>K.dirty)}_anyControlsTouched(){return this._anyControls(K=>K.touched)}_updatePristine(K={}){this.pristine=!this._anyControlsDirty(),this._parent&&!K.onlySelf&&this._parent._updatePristine(K)}_updateTouched(K={}){this.touched=this._anyControlsTouched(),this._parent&&!K.onlySelf&&this._parent._updateTouched(K)}_registerOnCollectionChange(K){this._onCollectionChange=K}_setUpdateStrategy(K){Xr(K)&&null!=K.updateOn&&(this._updateOn=K.updateOn)}_parentMarkedDirty(K){return!K&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(K){return null}_assignValidators(K){this._rawValidators=Array.isArray(K)?K.slice():K,this._composedValidatorFn=function vi(q){return Array.isArray(q)?Yt(q):q||null}(this._rawValidators)}_assignAsyncValidators(K){this._rawAsyncValidators=Array.isArray(K)?K.slice():K,this._composedAsyncValidatorFn=function di(q){return Array.isArray(q)?Xe(q):q||null}(this._rawAsyncValidators)}}class pe extends Nt{constructor(K,B,ee){super(fr(B),Zr(ee,B)),this.controls=K,this._initObservables(),this._setUpdateStrategy(B),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(K,B){return this.controls[K]?this.controls[K]:(this.controls[K]=B,B.setParent(this),B._registerOnCollectionChange(this._onCollectionChange),B)}addControl(K,B,ee={}){this.registerControl(K,B),this.updateValueAndValidity({emitEvent:ee.emitEvent}),this._onCollectionChange()}removeControl(K,B={}){this.controls[K]&&this.controls[K]._registerOnCollectionChange(()=>{}),delete this.controls[K],this.updateValueAndValidity({emitEvent:B.emitEvent}),this._onCollectionChange()}setControl(K,B,ee={}){this.controls[K]&&this.controls[K]._registerOnCollectionChange(()=>{}),delete this.controls[K],B&&this.registerControl(K,B),this.updateValueAndValidity({emitEvent:ee.emitEvent}),this._onCollectionChange()}contains(K){return this.controls.hasOwnProperty(K)&&this.controls[K].enabled}setValue(K,B={}){hi(this,0,K),Object.keys(K).forEach(ee=>{ar(this,!0,ee),this.controls[ee].setValue(K[ee],{onlySelf:!0,emitEvent:B.emitEvent})}),this.updateValueAndValidity(B)}patchValue(K,B={}){null!=K&&(Object.keys(K).forEach(ee=>{const Ne=this.controls[ee];Ne&&Ne.patchValue(K[ee],{onlySelf:!0,emitEvent:B.emitEvent})}),this.updateValueAndValidity(B))}reset(K={},B={}){this._forEachChild((ee,Ne)=>{ee.reset(K?K[Ne]:null,{onlySelf:!0,emitEvent:B.emitEvent})}),this._updatePristine(B),this._updateTouched(B),this.updateValueAndValidity(B)}getRawValue(){return this._reduceChildren({},(K,B,ee)=>(K[ee]=B.getRawValue(),K))}_syncPendingControls(){let K=this._reduceChildren(!1,(B,ee)=>!!ee._syncPendingControls()||B);return K&&this.updateValueAndValidity({onlySelf:!0}),K}_forEachChild(K){Object.keys(this.controls).forEach(B=>{const ee=this.controls[B];ee&&K(ee,B)})}_setUpControls(){this._forEachChild(K=>{K.setParent(this),K._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(K){for(const[B,ee]of Object.entries(this.controls))if(this.contains(B)&&K(ee))return!0;return!1}_reduceValue(){return this._reduceChildren({},(B,ee,Ne)=>((ee.enabled||this.disabled)&&(B[Ne]=ee.value),B))}_reduceChildren(K,B){let ee=K;return this._forEachChild((Ne,En)=>{ee=B(ee,Ne,En)}),ee}_allControlsDisabled(){for(const K of Object.keys(this.controls))if(this.controls[K].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(K){return this.controls.hasOwnProperty(K)?this.controls[K]:null}}class O extends pe{}const xe=new f.nKC("CallSetDisabledState",{providedIn:"root",factory:()=>be}),be="always";function me(q,K){return[...K.path,q]}function se(q,K,B=be){Ie(q,K),K.valueAccessor.writeValue(q.value),(q.disabled||"always"===B)&&K.valueAccessor.setDisabledState?.(q.disabled),function Ve(q,K){K.valueAccessor.registerOnChange(B=>{q._pendingValue=B,q._pendingChange=!0,q._pendingDirty=!0,"change"===q.updateOn&&Ht(q,K)})}(q,K),function dn(q,K){const B=(ee,Ne)=>{K.valueAccessor.writeValue(ee),Ne&&K.viewToModelUpdate(ee)};q.registerOnChange(B),K._registerOnDestroy(()=>{q._unregisterOnChange(B)})}(q,K),function Rt(q,K){K.valueAccessor.registerOnTouched(()=>{q._pendingTouched=!0,"blur"===q.updateOn&&q._pendingChange&&Ht(q,K),"submit"!==q.updateOn&&q.markAsTouched()})}(q,K),function Kt(q,K){if(K.valueAccessor.setDisabledState){const B=ee=>{K.valueAccessor.setDisabledState(ee)};q.registerOnDisabledChange(B),K._registerOnDestroy(()=>{q._unregisterOnDisabledChange(B)})}}(q,K)}function Ce(q,K,B=!0){const ee=()=>{};K.valueAccessor&&(K.valueAccessor.registerOnChange(ee),K.valueAccessor.registerOnTouched(ee)),Me(q,K),q&&(K._invokeOnDestroyCallbacks(),q._registerOnCollectionChange(()=>{}))}function ct(q,K){q.forEach(B=>{B.registerOnValidatorChange&&B.registerOnValidatorChange(K)})}function Ie(q,K){const B=lt(q);null!==K.validator?q.setValidators(we(B,K.validator)):"function"==typeof B&&q.setValidators([B]);const ee=Lt(q);null!==K.asyncValidator?q.setAsyncValidators(we(ee,K.asyncValidator)):"function"==typeof ee&&q.setAsyncValidators([ee]);const Ne=()=>q.updateValueAndValidity();ct(K._rawValidators,Ne),ct(K._rawAsyncValidators,Ne)}function Me(q,K){let B=!1;if(null!==q){if(null!==K.validator){const Ne=lt(q);if(Array.isArray(Ne)&&Ne.length>0){const En=Ne.filter(Qn=>Qn!==K.validator);En.length!==Ne.length&&(B=!0,q.setValidators(En))}}if(null!==K.asyncValidator){const Ne=Lt(q);if(Array.isArray(Ne)&&Ne.length>0){const En=Ne.filter(Qn=>Qn!==K.asyncValidator);En.length!==Ne.length&&(B=!0,q.setAsyncValidators(En))}}}const ee=()=>{};return ct(K._rawValidators,ee),ct(K._rawAsyncValidators,ee),B}function Ht(q,K){q._pendingDirty&&q.markAsDirty(),q.setValue(q._pendingValue,{emitModelToViewChange:!1}),K.viewToModelUpdate(q._pendingValue),q._pendingChange=!1}function sn(q,K){Ie(q,K)}function tn(q,K){if(!q.hasOwnProperty("model"))return!1;const B=q.model;return!!B.isFirstChange()||!Object.is(K,B.currentValue)}function mn(q,K){q._syncPendingControls(),K.forEach(B=>{const ee=B.control;"submit"===ee.updateOn&&ee._pendingChange&&(B.viewToModelUpdate(ee._pendingValue),ee._pendingChange=!1)})}function kn(q,K){if(!K)return null;let B,ee,Ne;return Array.isArray(K),K.forEach(En=>{En.constructor===ue?B=En:function In(q){return Object.getPrototypeOf(q.constructor)===Oe}(En)?ee=En:Ne=En}),Ne||ee||B||null}const cr={provide:We,useExisting:(0,f.Rfq)(()=>Bi)},Mr=(()=>Promise.resolve())();let Bi=(()=>{class q extends We{constructor(B,ee,Ne){super(),this.callSetDisabledState=Ne,this.submitted=!1,this._directives=new Set,this.ngSubmit=new f.bkB,this.form=new pe({},Yt(B),Xe(ee))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(B){Mr.then(()=>{const ee=this._findContainer(B.path);B.control=ee.registerControl(B.name,B.control),se(B.control,B,this.callSetDisabledState),B.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(B)})}getControl(B){return this.form.get(B.path)}removeControl(B){Mr.then(()=>{const ee=this._findContainer(B.path);ee&&ee.removeControl(B.name),this._directives.delete(B)})}addFormGroup(B){Mr.then(()=>{const ee=this._findContainer(B.path),Ne=new pe({});sn(Ne,B),ee.registerControl(B.name,Ne),Ne.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(B){Mr.then(()=>{const ee=this._findContainer(B.path);ee&&ee.removeControl(B.name)})}getFormGroup(B){return this.form.get(B.path)}updateModel(B,ee){Mr.then(()=>{this.form.get(B.path).setValue(ee)})}setValue(B){this.control.setValue(B)}onSubmit(B){return this.submitted=!0,mn(this.form,this._directives),this.ngSubmit.emit(B),"dialog"===B?.target?.method}onReset(){this.resetForm()}resetForm(B=void 0){this.form.reset(B),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(B){return B.pop(),B.length?this.form.get(B):this.form}static{this.\u0275fac=function(ee){return new(ee||q)(f.rXU(Ot,10),f.rXU(wt,10),f.rXU(xe,8))}}static{this.\u0275dir=f.FsC({type:q,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(ee,Ne){1&ee&&f.bIt("submit",function(Qn){return Ne.onSubmit(Qn)})("reset",function(){return Ne.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[f.Jv_([cr]),f.Vt3]})}}return q})();function ji(q,K){const B=q.indexOf(K);B>-1&&q.splice(B,1)}function Lr(q){return"object"==typeof q&&null!==q&&2===Object.keys(q).length&&"value"in q&&"disabled"in q}const Ai=class extends Nt{constructor(K=null,B,ee){super(fr(B),Zr(ee,B)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(K),this._setUpdateStrategy(B),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Xr(B)&&(B.nonNullable||B.initialValueIsDefault)&&(this.defaultValue=Lr(K)?K.value:K)}setValue(K,B={}){this.value=this._pendingValue=K,this._onChange.length&&!1!==B.emitModelToViewChange&&this._onChange.forEach(ee=>ee(this.value,!1!==B.emitViewToModelChange)),this.updateValueAndValidity(B)}patchValue(K,B={}){this.setValue(K,B)}reset(K=this.defaultValue,B={}){this._applyFormState(K),this.markAsPristine(B),this.markAsUntouched(B),this.setValue(this.value,B),this._pendingChange=!1}_updateValue(){}_anyControls(K){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(K){this._onChange.push(K)}_unregisterOnChange(K){ji(this._onChange,K)}registerOnDisabledChange(K){this._onDisabledChange.push(K)}_unregisterOnDisabledChange(K){ji(this._onDisabledChange,K)}_forEachChild(K){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(K){Lr(K)?(this.value=this._pendingValue=K.value,K.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=K}};let wi=(()=>{class q extends We{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return me(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}static{this.\u0275fac=function(){let B;return function(Ne){return(B||(B=f.xGo(q)))(Ne||q)}}()}static{this.\u0275dir=f.FsC({type:q,features:[f.Vt3]})}}return q})();const Ss={provide:dt,useExisting:(0,f.Rfq)(()=>Zi)},Xs=(()=>Promise.resolve())();let Zi=(()=>{class q extends dt{constructor(B,ee,Ne,En,Qn,Hi){super(),this._changeDetectorRef=Qn,this.callSetDisabledState=Hi,this.control=new Ai,this._registered=!1,this.name="",this.update=new f.bkB,this._parent=B,this._setValidators(ee),this._setAsyncValidators(Ne),this.valueAccessor=kn(0,En)}ngOnChanges(B){if(this._checkForErrors(),!this._registered||"name"in B){if(this._registered&&(this._checkName(),this.formDirective)){const ee=B.name.previousValue;this.formDirective.removeControl({name:ee,path:this._getPath(ee)})}this._setUpControl()}"isDisabled"in B&&this._updateDisabled(B),tn(B,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(B){this.viewModel=B,this.update.emit(B)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){se(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(B){Xs.then(()=>{this.control.setValue(B,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(B){const ee=B.isDisabled.currentValue,Ne=0!==ee&&(0,f.L39)(ee);Xs.then(()=>{Ne&&!this.control.disabled?this.control.disable():!Ne&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(B){return this._parent?me(B,this._parent):[B]}static{this.\u0275fac=function(ee){return new(ee||q)(f.rXU(We,9),f.rXU(Ot,10),f.rXU(wt,10),f.rXU(he,10),f.rXU(f.gRc,8),f.rXU(xe,8))}}static{this.\u0275dir=f.FsC({type:q,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[f.Jv_([Ss]),f.Vt3,f.OA$]})}}return q})(),$o=(()=>{class q{static{this.\u0275fac=function(ee){return new(ee||q)}}static{this.\u0275dir=f.FsC({type:q,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return q})();const ri={provide:he,useExisting:(0,f.Rfq)(()=>Rs),multi:!0};let Rs=(()=>{class q extends Oe{writeValue(B){this.setProperty("value",B??"")}registerOnChange(B){this.onChange=ee=>{B(""==ee?null:parseFloat(ee))}}static{this.\u0275fac=function(){let B;return function(Ne){return(B||(B=f.xGo(q)))(Ne||q)}}()}static{this.\u0275dir=f.FsC({type:q,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(ee,Ne){1&ee&&f.bIt("input",function(Qn){return Ne.onChange(Qn.target.value)})("blur",function(){return Ne.onTouched()})},features:[f.Jv_([ri]),f.Vt3]})}}return q})();const Wo={provide:he,useExisting:(0,f.Rfq)(()=>wo),multi:!0};let Go=(()=>{class q{static{this.\u0275fac=function(ee){return new(ee||q)}}static{this.\u0275mod=f.$C({type:q})}static{this.\u0275inj=f.G2t({})}}return q})(),Fr=(()=>{class q{constructor(){this._accessors=[]}add(B,ee){this._accessors.push([B,ee])}remove(B){for(let ee=this._accessors.length-1;ee>=0;--ee)if(this._accessors[ee][1]===B)return void this._accessors.splice(ee,1)}select(B){this._accessors.forEach(ee=>{this._isSameGroup(ee,B)&&ee[1]!==B&&ee[1].fireUncheck(B.value)})}_isSameGroup(B,ee){return!!B[0].control&&B[0]._parent===ee._control._parent&&B[1].name===ee.name}static{this.\u0275fac=function(ee){return new(ee||q)}}static{this.\u0275prov=f.jDH({token:q,factory:q.\u0275fac,providedIn:Go})}}return q})(),wo=(()=>{class q extends Oe{constructor(B,ee,Ne,En){super(B,ee),this._registry=Ne,this._injector=En,this.setDisabledStateFired=!1,this.onChange=()=>{},this.callSetDisabledState=(0,f.WQX)(xe,{optional:!0})??be}ngOnInit(){this._control=this._injector.get(dt),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(B){this._state=B===this.value,this.setProperty("checked",this._state)}registerOnChange(B){this._fn=B,this.onChange=()=>{B(this.value),this._registry.select(this)}}setDisabledState(B){(this.setDisabledStateFired||B||"whenDisabledForLegacyCode"===this.callSetDisabledState)&&this.setProperty("disabled",B),this.setDisabledStateFired=!0}fireUncheck(B){this.writeValue(B)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}static{this.\u0275fac=function(ee){return new(ee||q)(f.rXU(f.sFG),f.rXU(f.aKT),f.rXU(Fr),f.rXU(f.zZn))}}static{this.\u0275dir=f.FsC({type:q,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(ee,Ne){1&ee&&f.bIt("change",function(){return Ne.onChange()})("blur",function(){return Ne.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[f.Jv_([Wo]),f.Vt3]})}}return q})();const tr=new f.nKC("NgModelWithFormControlWarning"),$r={provide:dt,useExisting:(0,f.Rfq)(()=>Ir)};let Ir=(()=>{class q extends dt{set isDisabled(B){}static{this._ngModelWarningSentOnce=!1}constructor(B,ee,Ne,En,Qn){super(),this._ngModelWarningConfig=En,this.callSetDisabledState=Qn,this.update=new f.bkB,this._ngModelWarningSent=!1,this._setValidators(B),this._setAsyncValidators(ee),this.valueAccessor=kn(0,Ne)}ngOnChanges(B){if(this._isControlChanged(B)){const ee=B.form.previousValue;ee&&Ce(ee,this,!1),se(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}tn(B,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&Ce(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(B){this.viewModel=B,this.update.emit(B)}_isControlChanged(B){return B.hasOwnProperty("form")}static{this.\u0275fac=function(ee){return new(ee||q)(f.rXU(Ot,10),f.rXU(wt,10),f.rXU(he,10),f.rXU(tr,8),f.rXU(xe,8))}}static{this.\u0275dir=f.FsC({type:q,selectors:[["","formControl",""]],inputs:{form:["formControl","form"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[f.Jv_([$r]),f.Vt3,f.OA$]})}}return q})();const Ro={provide:We,useExisting:(0,f.Rfq)(()=>_i)};let _i=(()=>{class q extends We{constructor(B,ee,Ne){super(),this.callSetDisabledState=Ne,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new f.bkB,this._setValidators(B),this._setAsyncValidators(ee)}ngOnChanges(B){this._checkFormPresent(),B.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Me(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(B){const ee=this.form.get(B.path);return se(ee,B,this.callSetDisabledState),ee.updateValueAndValidity({emitEvent:!1}),this.directives.push(B),ee}getControl(B){return this.form.get(B.path)}removeControl(B){Ce(B.control||null,B,!1),function vr(q,K){const B=q.indexOf(K);B>-1&&q.splice(B,1)}(this.directives,B)}addFormGroup(B){this._setUpFormContainer(B)}removeFormGroup(B){this._cleanUpFormContainer(B)}getFormGroup(B){return this.form.get(B.path)}addFormArray(B){this._setUpFormContainer(B)}removeFormArray(B){this._cleanUpFormContainer(B)}getFormArray(B){return this.form.get(B.path)}updateModel(B,ee){this.form.get(B.path).setValue(ee)}onSubmit(B){return this.submitted=!0,mn(this.form,this.directives),this.ngSubmit.emit(B),"dialog"===B?.target?.method}onReset(){this.resetForm()}resetForm(B=void 0){this.form.reset(B),this.submitted=!1}_updateDomValue(){this.directives.forEach(B=>{const ee=B.control,Ne=this.form.get(B.path);ee!==Ne&&(Ce(ee||null,B),(q=>q instanceof Ai)(Ne)&&(se(Ne,B,this.callSetDisabledState),B.control=Ne))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(B){const ee=this.form.get(B.path);sn(ee,B),ee.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(B){if(this.form){const ee=this.form.get(B.path);ee&&function zn(q,K){return Me(q,K)}(ee,B)&&ee.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Ie(this.form,this),this._oldForm&&Me(this._oldForm,this)}_checkFormPresent(){}static{this.\u0275fac=function(ee){return new(ee||q)(f.rXU(Ot,10),f.rXU(wt,10),f.rXU(xe,8))}}static{this.\u0275dir=f.FsC({type:q,selectors:[["","formGroup",""]],hostBindings:function(ee,Ne){1&ee&&f.bIt("submit",function(Qn){return Ne.onSubmit(Qn)})("reset",function(){return Ne.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[f.Jv_([Ro]),f.Vt3,f.OA$]})}}return q})();const Wr={provide:We,useExisting:(0,f.Rfq)(()=>Ys)};let Ys=(()=>{class q extends wi{constructor(B,ee,Ne){super(),this.name=null,this._parent=B,this._setValidators(ee),this._setAsyncValidators(Ne)}_checkParentType(){zi(this._parent)}static{this.\u0275fac=function(ee){return new(ee||q)(f.rXU(We,13),f.rXU(Ot,10),f.rXU(wt,10))}}static{this.\u0275dir=f.FsC({type:q,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[f.Jv_([Wr]),f.Vt3]})}}return q})();const Ii={provide:We,useExisting:(0,f.Rfq)(()=>Br)};let Br=(()=>{class q extends We{constructor(B,ee,Ne){super(),this.name=null,this._parent=B,this._setValidators(ee),this._setAsyncValidators(Ne)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return me(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){zi(this._parent)}static{this.\u0275fac=function(ee){return new(ee||q)(f.rXU(We,13),f.rXU(Ot,10),f.rXU(wt,10))}}static{this.\u0275dir=f.FsC({type:q,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[f.Jv_([Ii]),f.Vt3]})}}return q})();function zi(q){return!(q instanceof Ys||q instanceof _i||q instanceof Br)}const Yr={provide:dt,useExisting:(0,f.Rfq)(()=>pn)};let pn=(()=>{class q extends dt{set isDisabled(B){}static{this._ngModelWarningSentOnce=!1}constructor(B,ee,Ne,En,Qn){super(),this._ngModelWarningConfig=Qn,this._added=!1,this.name=null,this.update=new f.bkB,this._ngModelWarningSent=!1,this._parent=B,this._setValidators(ee),this._setAsyncValidators(Ne),this.valueAccessor=kn(0,En)}ngOnChanges(B){this._added||this._setUpControl(),tn(B,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(B){this.viewModel=B,this.update.emit(B)}get path(){return me(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static{this.\u0275fac=function(ee){return new(ee||q)(f.rXU(We,13),f.rXU(Ot,10),f.rXU(wt,10),f.rXU(he,10),f.rXU(tr,8))}}static{this.\u0275dir=f.FsC({type:q,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[f.Jv_([Yr]),f.Vt3,f.OA$]})}}return q})();const Vn={provide:he,useExisting:(0,f.Rfq)(()=>Ei),multi:!0};function Pr(q,K){return null==q?`${K}`:(K&&"object"==typeof K&&(K="Object"),`${q}: ${K}`.slice(0,50))}let Ei=(()=>{class q extends Oe{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(B){this._compareWith=B}writeValue(B){this.value=B;const Ne=Pr(this._getOptionId(B),B);this.setProperty("value",Ne)}registerOnChange(B){this.onChange=ee=>{this.value=this._getOptionValue(ee),B(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(B){for(const ee of this._optionMap.keys())if(this._compareWith(this._optionMap.get(ee),B))return ee;return null}_getOptionValue(B){const ee=function ki(q){return q.split(":")[0]}(B);return this._optionMap.has(ee)?this._optionMap.get(ee):B}static{this.\u0275fac=function(){let B;return function(Ne){return(B||(B=f.xGo(q)))(Ne||q)}}()}static{this.\u0275dir=f.FsC({type:q,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(ee,Ne){1&ee&&f.bIt("change",function(Qn){return Ne.onChange(Qn.target.value)})("blur",function(){return Ne.onTouched()})},inputs:{compareWith:"compareWith"},features:[f.Jv_([Vn]),f.Vt3]})}}return q})(),bi=(()=>{class q{constructor(B,ee,Ne){this._element=B,this._renderer=ee,this._select=Ne,this._select&&(this.id=this._select._registerOption())}set ngValue(B){null!=this._select&&(this._select._optionMap.set(this.id,B),this._setElementValue(Pr(this.id,B)),this._select.writeValue(this._select.value))}set value(B){this._setElementValue(B),this._select&&this._select.writeValue(this._select.value)}_setElementValue(B){this._renderer.setProperty(this._element.nativeElement,"value",B)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(ee){return new(ee||q)(f.rXU(f.aKT),f.rXU(f.sFG),f.rXU(Ei,9))}}static{this.\u0275dir=f.FsC({type:q,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return q})();const Ui={provide:he,useExisting:(0,f.Rfq)(()=>Fn),multi:!0};function _r(q,K){return null==q?`${K}`:("string"==typeof K&&(K=`'${K}'`),K&&"object"==typeof K&&(K="Object"),`${q}: ${K}`.slice(0,50))}let Fn=(()=>{class q extends Oe{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(B){this._compareWith=B}writeValue(B){let ee;if(this.value=B,Array.isArray(B)){const Ne=B.map(En=>this._getOptionId(En));ee=(En,Qn)=>{En._setSelected(Ne.indexOf(Qn.toString())>-1)}}else ee=(Ne,En)=>{Ne._setSelected(!1)};this._optionMap.forEach(ee)}registerOnChange(B){this.onChange=ee=>{const Ne=[],En=ee.selectedOptions;if(void 0!==En){const Qn=En;for(let Hi=0;Hi<Qn.length;Hi++){const xa=this._getOptionValue(Qn[Hi].value);Ne.push(xa)}}else{const Qn=ee.options;for(let Hi=0;Hi<Qn.length;Hi++){const pa=Qn[Hi];if(pa.selected){const xa=this._getOptionValue(pa.value);Ne.push(xa)}}}this.value=Ne,B(Ne)}}_registerOption(B){const ee=(this._idCounter++).toString();return this._optionMap.set(ee,B),ee}_getOptionId(B){for(const ee of this._optionMap.keys())if(this._compareWith(this._optionMap.get(ee)._value,B))return ee;return null}_getOptionValue(B){const ee=function oo(q){return q.split(":")[0]}(B);return this._optionMap.has(ee)?this._optionMap.get(ee)._value:B}static{this.\u0275fac=function(){let B;return function(Ne){return(B||(B=f.xGo(q)))(Ne||q)}}()}static{this.\u0275dir=f.FsC({type:q,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(ee,Ne){1&ee&&f.bIt("change",function(Qn){return Ne.onChange(Qn.target)})("blur",function(){return Ne.onTouched()})},inputs:{compareWith:"compareWith"},features:[f.Jv_([Ui]),f.Vt3]})}}return q})(),Fo=(()=>{class q{constructor(B,ee,Ne){this._element=B,this._renderer=ee,this._select=Ne,this._select&&(this.id=this._select._registerOption(this))}set ngValue(B){null!=this._select&&(this._value=B,this._setElementValue(_r(this.id,B)),this._select.writeValue(this._select.value))}set value(B){this._select?(this._value=B,this._setElementValue(_r(this.id,B)),this._select.writeValue(this._select.value)):this._setElementValue(B)}_setElementValue(B){this._renderer.setProperty(this._element.nativeElement,"value",B)}_setSelected(B){this._renderer.setProperty(this._element.nativeElement,"selected",B)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(ee){return new(ee||q)(f.rXU(f.aKT),f.rXU(f.sFG),f.rXU(Fn,9))}}static{this.\u0275dir=f.FsC({type:q,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return q})();let Tr=(()=>{class q{constructor(){this._validator=_n}ngOnChanges(B){if(this.inputName in B){const ee=this.normalizeInput(B[this.inputName].currentValue);this._enabled=this.enabled(ee),this._validator=this._enabled?this.createValidator(ee):_n,this._onChange&&this._onChange()}}validate(B){return this._validator(B)}registerOnValidatorChange(B){this._onChange=B}enabled(B){return null!=B}static{this.\u0275fac=function(ee){return new(ee||q)}}static{this.\u0275dir=f.FsC({type:q,features:[f.OA$]})}}return q})();const Xi={provide:Ot,useExisting:(0,f.Rfq)(()=>Ni),multi:!0};let Ni=(()=>{class q extends Tr{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=B=>function es(q){return"number"==typeof q?q:parseFloat(q)}(B),this.createValidator=B=>ke(B)}static{this.\u0275fac=function(){let B;return function(Ne){return(B||(B=f.xGo(q)))(Ne||q)}}()}static{this.\u0275dir=f.FsC({type:q,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(ee,Ne){2&ee&&f.BMQ("min",Ne._enabled?Ne.min:null)},inputs:{min:"min"},features:[f.Jv_([Xi]),f.Vt3]})}}return q})();const ps={provide:Ot,useExisting:(0,f.Rfq)(()=>Vi),multi:!0},so={provide:Ot,useExisting:(0,f.Rfq)(()=>Eo),multi:!0};let Vi=(()=>{class q extends Tr{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=f.L39,this.createValidator=B=>je}enabled(B){return B}static{this.\u0275fac=function(){let B;return function(Ne){return(B||(B=f.xGo(q)))(Ne||q)}}()}static{this.\u0275dir=f.FsC({type:q,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(ee,Ne){2&ee&&f.BMQ("required",Ne._enabled?"":null)},inputs:{required:"required"},features:[f.Jv_([ps]),f.Vt3]})}}return q})(),Eo=(()=>{class q extends Vi{constructor(){super(...arguments),this.createValidator=B=>$e}static{this.\u0275fac=function(){let B;return function(Ne){return(B||(B=f.xGo(q)))(Ne||q)}}()}static{this.\u0275dir=f.FsC({type:q,selectors:[["input","type","checkbox","required","","formControlName",""],["input","type","checkbox","required","","formControl",""],["input","type","checkbox","required","","ngModel",""]],hostVars:1,hostBindings:function(ee,Ne){2&ee&&f.BMQ("required",Ne._enabled?"":null)},features:[f.Jv_([so]),f.Vt3]})}}return q})(),Li=(()=>{class q{static{this.\u0275fac=function(ee){return new(ee||q)}}static{this.\u0275mod=f.$C({type:q})}static{this.\u0275inj=f.G2t({imports:[Go]})}}return q})();class Hr extends Nt{constructor(K,B,ee){super(fr(B),Zr(ee,B)),this.controls=K,this._initObservables(),this._setUpdateStrategy(B),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(K){return this.controls[this._adjustIndex(K)]}push(K,B={}){this.controls.push(K),this._registerControl(K),this.updateValueAndValidity({emitEvent:B.emitEvent}),this._onCollectionChange()}insert(K,B,ee={}){this.controls.splice(K,0,B),this._registerControl(B),this.updateValueAndValidity({emitEvent:ee.emitEvent})}removeAt(K,B={}){let ee=this._adjustIndex(K);ee<0&&(ee=0),this.controls[ee]&&this.controls[ee]._registerOnCollectionChange(()=>{}),this.controls.splice(ee,1),this.updateValueAndValidity({emitEvent:B.emitEvent})}setControl(K,B,ee={}){let Ne=this._adjustIndex(K);Ne<0&&(Ne=0),this.controls[Ne]&&this.controls[Ne]._registerOnCollectionChange(()=>{}),this.controls.splice(Ne,1),B&&(this.controls.splice(Ne,0,B),this._registerControl(B)),this.updateValueAndValidity({emitEvent:ee.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(K,B={}){hi(this,0,K),K.forEach((ee,Ne)=>{ar(this,!1,Ne),this.at(Ne).setValue(ee,{onlySelf:!0,emitEvent:B.emitEvent})}),this.updateValueAndValidity(B)}patchValue(K,B={}){null!=K&&(K.forEach((ee,Ne)=>{this.at(Ne)&&this.at(Ne).patchValue(ee,{onlySelf:!0,emitEvent:B.emitEvent})}),this.updateValueAndValidity(B))}reset(K=[],B={}){this._forEachChild((ee,Ne)=>{ee.reset(K[Ne],{onlySelf:!0,emitEvent:B.emitEvent})}),this._updatePristine(B),this._updateTouched(B),this.updateValueAndValidity(B)}getRawValue(){return this.controls.map(K=>K.getRawValue())}clear(K={}){this.controls.length<1||(this._forEachChild(B=>B._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:K.emitEvent}))}_adjustIndex(K){return K<0?K+this.length:K}_syncPendingControls(){let K=this.controls.reduce((B,ee)=>!!ee._syncPendingControls()||B,!1);return K&&this.updateValueAndValidity({onlySelf:!0}),K}_forEachChild(K){this.controls.forEach((B,ee)=>{K(B,ee)})}_updateValue(){this.value=this.controls.filter(K=>K.enabled||this.disabled).map(K=>K.value)}_anyControls(K){return this.controls.some(B=>B.enabled&&K(B))}_setUpControls(){this._forEachChild(K=>this._registerControl(K))}_allControlsDisabled(){for(const K of this.controls)if(K.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(K){K.setParent(this),K._registerOnCollectionChange(this._onCollectionChange)}_find(K){return this.at(K)??null}}function hr(q){return!!q&&(void 0!==q.asyncValidators||void 0!==q.validators||void 0!==q.updateOn)}let or=(()=>{class q{constructor(){this.useNonNullable=!1}get nonNullable(){const B=new q;return B.useNonNullable=!0,B}group(B,ee=null){const Ne=this._reduceControls(B);let En={};return hr(ee)?En=ee:null!==ee&&(En.validators=ee.validator,En.asyncValidators=ee.asyncValidator),new pe(Ne,En)}record(B,ee=null){const Ne=this._reduceControls(B);return new O(Ne,ee)}control(B,ee,Ne){let En={};return this.useNonNullable?(hr(ee)?En=ee:(En.validators=ee,En.asyncValidators=Ne),new Ai(B,{...En,nonNullable:!0})):new Ai(B,ee,Ne)}array(B,ee,Ne){const En=B.map(Qn=>this._createControl(Qn));return new Hr(En,ee,Ne)}_reduceControls(B){const ee={};return Object.keys(B).forEach(Ne=>{ee[Ne]=this._createControl(B[Ne])}),ee}_createControl(B){return B instanceof Ai||B instanceof Nt?B:Array.isArray(B)?this.control(B[0],B.length>1?B[1]:null,B.length>2?B[2]:null):this.control(B)}static{this.\u0275fac=function(ee){return new(ee||q)}}static{this.\u0275prov=f.jDH({token:q,factory:q.\u0275fac,providedIn:"root"})}}return q})(),zc=(()=>{class q{static withConfig(B){return{ngModule:q,providers:[{provide:xe,useValue:B.callSetDisabledState??be}]}}static{this.\u0275fac=function(ee){return new(ee||q)}}static{this.\u0275mod=f.$C({type:q})}static{this.\u0275inj=f.G2t({imports:[Li]})}}return q})(),Ns=(()=>{class q{static withConfig(B){return{ngModule:q,providers:[{provide:tr,useValue:B.warnOnNgModelWithFormControl??"always"},{provide:xe,useValue:B.callSetDisabledState??be}]}}static{this.\u0275fac=function(ee){return new(ee||q)}}static{this.\u0275mod=f.$C({type:q})}static{this.\u0275inj=f.G2t({imports:[Li]})}}return q})()},8834:(an,tt,L)=>{L.d(tt,{Hl:()=>Mn});var f=L(7705),G=L(6600);let Mn=(()=>{class Qt{static{this.\u0275fac=function(Le){return new(Le||Qt)}}static{this.\u0275mod=f.$C({type:Qt})}static{this.\u0275inj=f.G2t({imports:[G.yE,G.pZ,G.yE]})}}return Qt})()},6600:(an,tt,L)=>{L.d(tt,{r5:()=>wt,ed:()=>fn,MJ:()=>Mn,es:()=>Qe,de:()=>Qt,$E:()=>qe,yE:()=>Ge,WX:()=>lt,Sy:()=>er,r6:()=>rt,Ej:()=>hi,pZ:()=>bt,Zc:()=>hn,GG:()=>gn,Ob:()=>Tt,J8:()=>jn,BF:()=>_n});var f=L(7705),G=L(7645),ge=L(8203),re=L(177),Re=L(6860),Oe=L(4085),he=L(1413);let wt=(()=>{class Nt{static{this.STANDARD_CURVE="cubic-bezier(0.4,0.0,0.2,1)"}static{this.DECELERATION_CURVE="cubic-bezier(0.0,0.0,0.2,1)"}static{this.ACCELERATION_CURVE="cubic-bezier(0.4,0.0,1,1)"}static{this.SHARP_CURVE="cubic-bezier(0.4,0.0,0.6,1)"}}return Nt})(),fn=(()=>{class Nt{static{this.COMPLEX="375ms"}static{this.ENTERING="225ms"}static{this.EXITING="195ms"}}return Nt})();const ke=new f.nKC("mat-sanity-checks",{providedIn:"root",factory:function Xt(){return!0}});let Ge=(()=>{class Nt{constructor(P,R,O){this._sanityChecks=R,this._document=O,this._hasDoneGlobalChecks=!1,P._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(P){return!(0,Re.v8)()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[P])}static{this.\u0275fac=function(R){return new(R||Nt)(f.KVO(G.Q_),f.KVO(ke,8),f.KVO(re.qQ))}}static{this.\u0275mod=f.$C({type:Nt})}static{this.\u0275inj=f.G2t({imports:[ge.jI,ge.jI]})}}return Nt})();function Tt(Nt){return class extends Nt{get disabled(){return this._disabled}set disabled(pe){this._disabled=(0,Oe.he)(pe)}constructor(...pe){super(...pe),this._disabled=!1}}}function hn(Nt,pe){return class extends Nt{get color(){return this._color}set color(P){const R=P||this.defaultColor;R!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),R&&this._elementRef.nativeElement.classList.add(`mat-${R}`),this._color=R)}constructor(...P){super(...P),this.defaultColor=pe,this.color=pe}}}function gn(Nt){return class extends Nt{get disableRipple(){return this._disableRipple}set disableRipple(pe){this._disableRipple=(0,Oe.he)(pe)}constructor(...pe){super(...pe),this._disableRipple=!1}}}function _n(Nt,pe=0){return class extends Nt{get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(P){this._tabIndex=null!=P?(0,Oe.OE)(P):this.defaultTabIndex}constructor(...P){super(...P),this._tabIndex=pe,this.defaultTabIndex=pe}}}function jn(Nt){return class extends Nt{updateErrorState(){const pe=this.errorState,ve=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);ve!==pe&&(this.errorState=ve,this.stateChanges.next())}constructor(...pe){super(...pe),this.errorState=!1}}}const Tn=new f.nKC("MAT_DATE_LOCALE",{providedIn:"root",factory:function rn(){return(0,f.WQX)(f.xe9)}});class Mn{constructor(){this._localeChanges=new he.B,this.localeChanges=this._localeChanges}getValidDateOrNull(pe){return this.isDateInstance(pe)&&this.isValid(pe)?pe:null}deserialize(pe){return null==pe||this.isDateInstance(pe)&&this.isValid(pe)?pe:this.invalid()}setLocale(pe){this.locale=pe,this._localeChanges.next()}compareDate(pe,P){return this.getYear(pe)-this.getYear(P)||this.getMonth(pe)-this.getMonth(P)||this.getDate(pe)-this.getDate(P)}sameDate(pe,P){if(pe&&P){let R=this.isValid(pe),O=this.isValid(P);return R&&O?!this.compareDate(pe,P):R==O}return pe==P}clampDate(pe,P,R){return P&&this.compareDate(pe,P)<0?P:R&&this.compareDate(pe,R)>0?R:pe}}const Qt=new f.nKC("mat-date-formats"),Cn=/^\d{4}-\d{2}-\d{2}(?:T\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|(?:(?:\+|-)\d{2}:\d{2}))?)?$/;function Yt(Nt,pe){const P=Array(Nt);for(let R=0;R<Nt;R++)P[R]=pe(R);return P}let Le=(()=>{class Nt extends Mn{constructor(P,R){super(),this.useUtcForDisplay=!1,super.setLocale(P)}getYear(P){return P.getFullYear()}getMonth(P){return P.getMonth()}getDate(P){return P.getDate()}getDayOfWeek(P){return P.getDay()}getMonthNames(P){const R=new Intl.DateTimeFormat(this.locale,{month:P,timeZone:"utc"});return Yt(12,O=>this._format(R,new Date(2017,O,1)))}getDateNames(){const P=new Intl.DateTimeFormat(this.locale,{day:"numeric",timeZone:"utc"});return Yt(31,R=>this._format(P,new Date(2017,0,R+1)))}getDayOfWeekNames(P){const R=new Intl.DateTimeFormat(this.locale,{weekday:P,timeZone:"utc"});return Yt(7,O=>this._format(R,new Date(2017,0,O+1)))}getYearName(P){const R=new Intl.DateTimeFormat(this.locale,{year:"numeric",timeZone:"utc"});return this._format(R,P)}getFirstDayOfWeek(){return 0}getNumDaysInMonth(P){return this.getDate(this._createDateWithOverflow(this.getYear(P),this.getMonth(P)+1,0))}clone(P){return new Date(P.getTime())}createDate(P,R,O){let ve=this._createDateWithOverflow(P,R,O);return ve.getMonth(),ve}today(){return new Date}parse(P,R){return"number"==typeof P?new Date(P):P?new Date(Date.parse(P)):null}format(P,R){if(!this.isValid(P))throw Error("NativeDateAdapter: Cannot format invalid date.");const O=new Intl.DateTimeFormat(this.locale,{...R,timeZone:"utc"});return this._format(O,P)}addCalendarYears(P,R){return this.addCalendarMonths(P,12*R)}addCalendarMonths(P,R){let O=this._createDateWithOverflow(this.getYear(P),this.getMonth(P)+R,this.getDate(P));return this.getMonth(O)!=((this.getMonth(P)+R)%12+12)%12&&(O=this._createDateWithOverflow(this.getYear(O),this.getMonth(O),0)),O}addCalendarDays(P,R){return this._createDateWithOverflow(this.getYear(P),this.getMonth(P),this.getDate(P)+R)}toIso8601(P){return[P.getUTCFullYear(),this._2digit(P.getUTCMonth()+1),this._2digit(P.getUTCDate())].join("-")}deserialize(P){if("string"==typeof P){if(!P)return null;if(Cn.test(P)){let R=new Date(P);if(this.isValid(R))return R}}return super.deserialize(P)}isDateInstance(P){return P instanceof Date}isValid(P){return!isNaN(P.getTime())}invalid(){return new Date(NaN)}_createDateWithOverflow(P,R,O){const ve=new Date;return ve.setFullYear(P,R,O),ve.setHours(0,0,0,0),ve}_2digit(P){return("00"+P).slice(-2)}_format(P,R){const O=new Date;return O.setUTCFullYear(R.getFullYear(),R.getMonth(),R.getDate()),O.setUTCHours(R.getHours(),R.getMinutes(),R.getSeconds(),R.getMilliseconds()),P.format(O)}static{this.\u0275fac=function(R){return new(R||Nt)(f.KVO(Tn,8),f.KVO(Re.OD))}}static{this.\u0275prov=f.jDH({token:Nt,factory:Nt.\u0275fac})}}return Nt})();const Xe={parse:{dateInput:null},display:{dateInput:{year:"numeric",month:"numeric",day:"numeric"},monthYearLabel:{year:"numeric",month:"short"},dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"}}};let we=(()=>{class Nt{static{this.\u0275fac=function(R){return new(R||Nt)}}static{this.\u0275mod=f.$C({type:Nt})}static{this.\u0275inj=f.G2t({providers:[{provide:Mn,useClass:Le}]})}}return Nt})(),lt=(()=>{class Nt{static{this.\u0275fac=function(R){return new(R||Nt)}}static{this.\u0275mod=f.$C({type:Nt})}static{this.\u0275inj=f.G2t({providers:[{provide:Qt,useValue:Xe}],imports:[we]})}}return Nt})(),Qe=(()=>{class Nt{isErrorState(P,R){return!!(P&&P.invalid&&(P.touched||R&&R.submitted))}static{this.\u0275fac=function(R){return new(R||Nt)}}static{this.\u0275prov=f.jDH({token:Nt,factory:Nt.\u0275fac,providedIn:"root"})}}return Nt})();class We{constructor(pe,P,R,O=!1){this._renderer=pe,this.element=P,this.config=R,this._animationForciblyDisabledThroughCss=O,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const dt=(0,Re.BQ)({passive:!0,capture:!0});class Xn{constructor(){this._events=new Map,this._delegateEventHandler=pe=>{const P=(0,Re.Fb)(pe);P&&this._events.get(pe.type)?.forEach((R,O)=>{(O===P||O.contains(P))&&R.forEach(ve=>ve.handleEvent(pe))})}}addHandler(pe,P,R,O){const ve=this._events.get(P);if(ve){const xe=ve.get(R);xe?xe.add(O):ve.set(R,new Set([O]))}else this._events.set(P,new Map([[R,new Set([O])]])),pe.runOutsideAngular(()=>{document.addEventListener(P,this._delegateEventHandler,dt)})}removeHandler(pe,P,R){const O=this._events.get(pe);if(!O)return;const ve=O.get(P);ve&&(ve.delete(R),0===ve.size&&O.delete(P),0===O.size&&(this._events.delete(pe),document.removeEventListener(pe,this._delegateEventHandler,dt)))}}const Sn={enterDuration:225,exitDuration:150},Vr=(0,Re.BQ)({passive:!0,capture:!0}),kr=["mousedown","touchstart"],Bt=["mouseup","mouseleave","touchend","touchcancel"];class ie{static{this._eventManager=new Xn}constructor(pe,P,R,O){this._target=pe,this._ngZone=P,this._platform=O,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,O.isBrowser&&(this._containerElement=(0,Oe.i8)(R))}fadeInRipple(pe,P,R={}){const O=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),ve={...Sn,...R.animation};R.centered&&(pe=O.left+O.width/2,P=O.top+O.height/2);const xe=R.radius||function Se(Nt,pe,P){const R=Math.max(Math.abs(Nt-P.left),Math.abs(Nt-P.right)),O=Math.max(Math.abs(pe-P.top),Math.abs(pe-P.bottom));return Math.sqrt(R*R+O*O)}(pe,P,O),be=pe-O.left,me=P-O.top,se=ve.enterDuration,Ce=document.createElement("div");Ce.classList.add("mat-ripple-element"),Ce.style.left=be-xe+"px",Ce.style.top=me-xe+"px",Ce.style.height=2*xe+"px",Ce.style.width=2*xe+"px",null!=R.color&&(Ce.style.backgroundColor=R.color),Ce.style.transitionDuration=`${se}ms`,this._containerElement.appendChild(Ce);const ct=window.getComputedStyle(Ce),Ie=ct.transitionDuration,Me="none"===ct.transitionProperty||"0s"===Ie||"0s, 0s"===Ie||0===O.width&&0===O.height,Ve=new We(this,Ce,R,Me);Ce.style.transform="scale3d(1, 1, 1)",Ve.state=0,R.persistent||(this._mostRecentTransientRipple=Ve);let Rt=null;return!Me&&(se||ve.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const Ht=()=>this._finishRippleTransition(Ve),dn=()=>this._destroyRipple(Ve);Ce.addEventListener("transitionend",Ht),Ce.addEventListener("transitioncancel",dn),Rt={onTransitionEnd:Ht,onTransitionCancel:dn}}),this._activeRipples.set(Ve,Rt),(Me||!se)&&this._finishRippleTransition(Ve),Ve}fadeOutRipple(pe){if(2===pe.state||3===pe.state)return;const P=pe.element,R={...Sn,...pe.config.animation};P.style.transitionDuration=`${R.exitDuration}ms`,P.style.opacity="0",pe.state=2,(pe._animationForciblyDisabledThroughCss||!R.exitDuration)&&this._finishRippleTransition(pe)}fadeOutAll(){this._getActiveRipples().forEach(pe=>pe.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(pe=>{pe.config.persistent||pe.fadeOut()})}setupTriggerEvents(pe){const P=(0,Oe.i8)(pe);!this._platform.isBrowser||!P||P===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=P,kr.forEach(R=>{ie._eventManager.addHandler(this._ngZone,R,P,this)}))}handleEvent(pe){"mousedown"===pe.type?this._onMousedown(pe):"touchstart"===pe.type?this._onTouchStart(pe):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{Bt.forEach(P=>{this._triggerElement.addEventListener(P,this,Vr)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(pe){0===pe.state?this._startFadeOutTransition(pe):2===pe.state&&this._destroyRipple(pe)}_startFadeOutTransition(pe){const P=pe===this._mostRecentTransientRipple,{persistent:R}=pe.config;pe.state=1,!R&&(!P||!this._isPointerDown)&&pe.fadeOut()}_destroyRipple(pe){const P=this._activeRipples.get(pe)??null;this._activeRipples.delete(pe),this._activeRipples.size||(this._containerRect=null),pe===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),pe.state=3,null!==P&&(pe.element.removeEventListener("transitionend",P.onTransitionEnd),pe.element.removeEventListener("transitioncancel",P.onTransitionCancel)),pe.element.remove()}_onMousedown(pe){const P=(0,G._G)(pe),R=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!P&&!R&&(this._isPointerDown=!0,this.fadeInRipple(pe.clientX,pe.clientY,this._target.rippleConfig))}_onTouchStart(pe){if(!this._target.rippleDisabled&&!(0,G.w6)(pe)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const P=pe.changedTouches;if(P)for(let R=0;R<P.length;R++)this.fadeInRipple(P[R].clientX,P[R].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(pe=>{!pe.config.persistent&&(1===pe.state||pe.config.terminateOnPointerUp&&0===pe.state)&&pe.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const pe=this._triggerElement;pe&&(kr.forEach(P=>ie._eventManager.removeHandler(P,pe,this)),this._pointerUpEventsRegistered&&Bt.forEach(P=>pe.removeEventListener(P,this,Vr)))}}const qe=new f.nKC("mat-ripple-global-options");let rt=(()=>{class Nt{get disabled(){return this._disabled}set disabled(P){P&&this.fadeOutAllNonPersistent(),this._disabled=P,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(P){this._trigger=P,this._setupTriggerEventsIfEnabled()}constructor(P,R,O,ve,xe){this._elementRef=P,this._animationMode=xe,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=ve||{},this._rippleRenderer=new ie(this,R,P,O)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(P,R=0,O){return"number"==typeof P?this._rippleRenderer.fadeInRipple(P,R,{...this.rippleConfig,...O}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...P})}static{this.\u0275fac=function(R){return new(R||Nt)(f.rXU(f.aKT),f.rXU(f.SKi),f.rXU(Re.OD),f.rXU(qe,8),f.rXU(f.bc$,8))}}static{this.\u0275dir=f.FsC({type:Nt,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(R,O){2&R&&f.AVh("mat-ripple-unbounded",O.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]})}}return Nt})(),bt=(()=>{class Nt{static{this.\u0275fac=function(R){return new(R||Nt)}}static{this.\u0275mod=f.$C({type:Nt})}static{this.\u0275inj=f.G2t({imports:[Ge,Ge]})}}return Nt})(),Fe=(()=>{class Nt{static{this.\u0275fac=function(R){return new(R||Nt)}}static{this.\u0275mod=f.$C({type:Nt})}static{this.\u0275inj=f.G2t({imports:[Ge]})}}return Nt})(),er=(()=>{class Nt{static{this.\u0275fac=function(R){return new(R||Nt)}}static{this.\u0275mod=f.$C({type:Nt})}static{this.\u0275inj=f.G2t({imports:[bt,re.MD,Ge,Fe]})}}return Nt})();const fr={capture:!0},vi=["focus","click","mouseenter","touchstart"],Zr="mat-ripple-loader-uninitialized",di="mat-ripple-loader-class-name",Xr="mat-ripple-loader-centered",ar="mat-ripple-loader-disabled";let hi=(()=>{class Nt{constructor(){this._document=(0,f.WQX)(re.qQ,{optional:!0}),this._animationMode=(0,f.WQX)(f.bc$,{optional:!0}),this._globalRippleOptions=(0,f.WQX)(qe,{optional:!0}),this._platform=(0,f.WQX)(Re.OD),this._ngZone=(0,f.WQX)(f.SKi),this._hosts=new Map,this._onInteraction=P=>{if(!(P.target instanceof HTMLElement))return;const O=P.target.closest(`[${Zr}]`);O&&this._createRipple(O)},this._ngZone.runOutsideAngular(()=>{for(const P of vi)this._document?.addEventListener(P,this._onInteraction,fr)})}ngOnDestroy(){const P=this._hosts.keys();for(const R of P)this.destroyRipple(R);for(const R of vi)this._document?.removeEventListener(R,this._onInteraction,fr)}configureRipple(P,R){P.setAttribute(Zr,""),(R.className||!P.hasAttribute(di))&&P.setAttribute(di,R.className||""),R.centered&&P.setAttribute(Xr,""),R.disabled&&P.setAttribute(ar,"")}getRipple(P){return this._hosts.get(P)||this._createRipple(P)}setDisabled(P,R){const O=this._hosts.get(P);O?O.disabled=R:R?P.setAttribute(ar,""):P.removeAttribute(ar)}_createRipple(P){if(!this._document)return;const R=this._hosts.get(P);if(R)return R;P.querySelector(".mat-ripple")?.remove();const O=this._document.createElement("span");O.classList.add("mat-ripple",P.getAttribute(di)),P.append(O);const ve=new rt(new f.aKT(O),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return ve._isInitialized=!0,ve.trigger=P,ve.centered=P.hasAttribute(Xr),ve.disabled=P.hasAttribute(ar),this.attachRipple(P,ve),ve}attachRipple(P,R){P.removeAttribute(Zr),this._hosts.set(P,R)}destroyRipple(P){const R=this._hosts.get(P);R&&(R.ngOnDestroy(),this._hosts.delete(P))}static{this.\u0275fac=function(R){return new(R||Nt)}}static{this.\u0275prov=f.jDH({token:Nt,factory:Nt.\u0275fac,providedIn:"root"})}}return Nt})()},345:(an,tt,L)=>{L.d(tt,{B7:()=>Tt,Bb:()=>Sn,hE:()=>ie,sG:()=>vt,up:()=>qr});var f=L(7705),G=L(177);class ge extends G.VF{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class le extends ge{static makeCurrent(){(0,G.ZD)(new le)}onAndCancel(P,R,O){return P.addEventListener(R,O),()=>{P.removeEventListener(R,O)}}dispatchEvent(P,R){P.dispatchEvent(R)}remove(P){P.parentNode&&P.parentNode.removeChild(P)}createElement(P,R){return(R=R||this.getDefaultDocument()).createElement(P)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(P){return P.nodeType===Node.ELEMENT_NODE}isShadowRoot(P){return P instanceof DocumentFragment}getGlobalEventTarget(P,R){return"window"===R?window:"document"===R?P:"body"===R?P.body:null}getBaseHref(P){const R=function Re(){return re=re||document.querySelector("base"),re?re.getAttribute("href"):null}();return null==R?null:function he(pe){Oe=Oe||document.createElement("a"),Oe.setAttribute("href",pe);const P=Oe.pathname;return"/"===P.charAt(0)?P:`/${P}`}(R)}resetBaseElement(){re=null}getUserAgent(){return window.navigator.userAgent}getCookie(P){return(0,G._b)(document.cookie,P)}}let Oe,re=null,te=(()=>{class pe{build(){return new XMLHttpRequest}static{this.\u0275fac=function(O){return new(O||pe)}}static{this.\u0275prov=f.jDH({token:pe,factory:pe.\u0275fac})}}return pe})();const de=new f.nKC("EventManagerPlugins");let Pe=(()=>{class pe{constructor(R,O){this._zone=O,this._eventNameToPlugin=new Map,R.forEach(ve=>{ve.manager=this}),this._plugins=R.slice().reverse()}addEventListener(R,O,ve){return this._findPluginFor(O).addEventListener(R,O,ve)}getZone(){return this._zone}_findPluginFor(R){let O=this._eventNameToPlugin.get(R);if(O)return O;if(O=this._plugins.find(xe=>xe.supports(R)),!O)throw new f.wOt(5101,!1);return this._eventNameToPlugin.set(R,O),O}static{this.\u0275fac=function(O){return new(O||pe)(f.KVO(de),f.KVO(f.SKi))}}static{this.\u0275prov=f.jDH({token:pe,factory:pe.\u0275fac})}}return pe})();class Ue{constructor(P){this._doc=P}}const ue="ng-app-id";let mt=(()=>{class pe{constructor(R,O,ve,xe={}){this.doc=R,this.appId=O,this.nonce=ve,this.platformId=xe,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,G.Vy)(xe),this.resetHostNodes()}addStyles(R){for(const O of R)1===this.changeUsageCount(O,1)&&this.onStyleAdded(O)}removeStyles(R){for(const O of R)this.changeUsageCount(O,-1)<=0&&this.onStyleRemoved(O)}ngOnDestroy(){const R=this.styleNodesInDOM;R&&(R.forEach(O=>O.remove()),R.clear());for(const O of this.getAllStyles())this.onStyleRemoved(O);this.resetHostNodes()}addHost(R){this.hostNodes.add(R);for(const O of this.getAllStyles())this.addStyleToHost(R,O)}removeHost(R){this.hostNodes.delete(R)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(R){for(const O of this.hostNodes)this.addStyleToHost(O,R)}onStyleRemoved(R){const O=this.styleRef;O.get(R)?.elements?.forEach(ve=>ve.remove()),O.delete(R)}collectServerRenderedStyles(){const R=this.doc.head?.querySelectorAll(`style[${ue}="${this.appId}"]`);if(R?.length){const O=new Map;return R.forEach(ve=>{null!=ve.textContent&&O.set(ve.textContent,ve)}),O}return null}changeUsageCount(R,O){const ve=this.styleRef;if(ve.has(R)){const xe=ve.get(R);return xe.usage+=O,xe.usage}return ve.set(R,{usage:O,elements:[]}),O}getStyleElement(R,O){const ve=this.styleNodesInDOM,xe=ve?.get(O);if(xe?.parentNode===R)return ve.delete(O),xe.removeAttribute(ue),xe;{const be=this.doc.createElement("style");return this.nonce&&be.setAttribute("nonce",this.nonce),be.textContent=O,this.platformIsServer&&be.setAttribute(ue,this.appId),be}}addStyleToHost(R,O){const ve=this.getStyleElement(R,O);R.appendChild(ve);const xe=this.styleRef,be=xe.get(O)?.elements;be?be.push(ve):xe.set(O,{elements:[ve],usage:1})}resetHostNodes(){const R=this.hostNodes;R.clear(),R.add(this.doc.head)}static{this.\u0275fac=function(O){return new(O||pe)(f.KVO(G.qQ),f.KVO(f.sZ2),f.KVO(f.BIS,8),f.KVO(f.Agw))}}static{this.\u0275prov=f.jDH({token:pe,factory:pe.\u0275fac})}}return pe})();const Pt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Ot=/%COMP%/g,Ge=new f.nKC("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function _t(pe,P){return P.map(R=>R.replace(Ot,pe))}let Tt=(()=>{class pe{constructor(R,O,ve,xe,be,me,se,Ce=null){this.eventManager=R,this.sharedStylesHost=O,this.appId=ve,this.removeStylesOnCompDestroy=xe,this.doc=be,this.platformId=me,this.ngZone=se,this.nonce=Ce,this.rendererByCompId=new Map,this.platformIsServer=(0,G.Vy)(me),this.defaultRenderer=new hn(R,be,se,this.platformIsServer)}createRenderer(R,O){if(!R||!O)return this.defaultRenderer;this.platformIsServer&&O.encapsulation===f.gXe.ShadowDom&&(O={...O,encapsulation:f.gXe.Emulated});const ve=this.getOrCreateRenderer(R,O);return ve instanceof rn?ve.applyToHost(R):ve instanceof Tn&&ve.applyStyles(),ve}getOrCreateRenderer(R,O){const ve=this.rendererByCompId;let xe=ve.get(O.id);if(!xe){const be=this.doc,me=this.ngZone,se=this.eventManager,Ce=this.sharedStylesHost,ct=this.removeStylesOnCompDestroy,Kt=this.platformIsServer;switch(O.encapsulation){case f.gXe.Emulated:xe=new rn(se,Ce,O,this.appId,ct,be,me,Kt);break;case f.gXe.ShadowDom:return new zt(se,Ce,R,O,be,me,this.nonce,Kt);default:xe=new Tn(se,Ce,O,ct,be,me,Kt)}ve.set(O.id,xe)}return xe}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(O){return new(O||pe)(f.KVO(Pe),f.KVO(mt),f.KVO(f.sZ2),f.KVO(Ge),f.KVO(G.qQ),f.KVO(f.Agw),f.KVO(f.SKi),f.KVO(f.BIS))}}static{this.\u0275prov=f.jDH({token:pe,factory:pe.\u0275fac})}}return pe})();class hn{constructor(P,R,O,ve){this.eventManager=P,this.doc=R,this.ngZone=O,this.platformIsServer=ve,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(P,R){return R?this.doc.createElementNS(Pt[R]||R,P):this.doc.createElement(P)}createComment(P){return this.doc.createComment(P)}createText(P){return this.doc.createTextNode(P)}appendChild(P,R){(jn(P)?P.content:P).appendChild(R)}insertBefore(P,R,O){P&&(jn(P)?P.content:P).insertBefore(R,O)}removeChild(P,R){P&&P.removeChild(R)}selectRootElement(P,R){let O="string"==typeof P?this.doc.querySelector(P):P;if(!O)throw new f.wOt(-5104,!1);return R||(O.textContent=""),O}parentNode(P){return P.parentNode}nextSibling(P){return P.nextSibling}setAttribute(P,R,O,ve){if(ve){R=ve+":"+R;const xe=Pt[ve];xe?P.setAttributeNS(xe,R,O):P.setAttribute(R,O)}else P.setAttribute(R,O)}removeAttribute(P,R,O){if(O){const ve=Pt[O];ve?P.removeAttributeNS(ve,R):P.removeAttribute(`${O}:${R}`)}else P.removeAttribute(R)}addClass(P,R){P.classList.add(R)}removeClass(P,R){P.classList.remove(R)}setStyle(P,R,O,ve){ve&(f.czy.DashCase|f.czy.Important)?P.style.setProperty(R,O,ve&f.czy.Important?"important":""):P.style[R]=O}removeStyle(P,R,O){O&f.czy.DashCase?P.style.removeProperty(R):P.style[R]=""}setProperty(P,R,O){P[R]=O}setValue(P,R){P.nodeValue=R}listen(P,R,O){if("string"==typeof P&&!(P=(0,G.QT)().getGlobalEventTarget(this.doc,P)))throw new Error(`Unsupported event target ${P} for event ${R}`);return this.eventManager.addEventListener(P,R,this.decoratePreventDefault(O))}decoratePreventDefault(P){return R=>{if("__ngUnwrap__"===R)return P;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>P(R)):P(R))&&R.preventDefault()}}}function jn(pe){return"TEMPLATE"===pe.tagName&&void 0!==pe.content}class zt extends hn{constructor(P,R,O,ve,xe,be,me,se){super(P,xe,be,se),this.sharedStylesHost=R,this.hostEl=O,this.shadowRoot=O.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Ce=_t(ve.id,ve.styles);for(const ct of Ce){const Kt=document.createElement("style");me&&Kt.setAttribute("nonce",me),Kt.textContent=ct,this.shadowRoot.appendChild(Kt)}}nodeOrShadowRoot(P){return P===this.hostEl?this.shadowRoot:P}appendChild(P,R){return super.appendChild(this.nodeOrShadowRoot(P),R)}insertBefore(P,R,O){return super.insertBefore(this.nodeOrShadowRoot(P),R,O)}removeChild(P,R){return super.removeChild(this.nodeOrShadowRoot(P),R)}parentNode(P){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(P)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Tn extends hn{constructor(P,R,O,ve,xe,be,me,se){super(P,xe,be,me),this.sharedStylesHost=R,this.removeStylesOnCompDestroy=ve,this.styles=se?_t(se,O.styles):O.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class rn extends Tn{constructor(P,R,O,ve,xe,be,me,se){const Ce=ve+"-"+O.id;super(P,R,O,xe,be,me,se,Ce),this.contentAttr=function je(pe){return"_ngcontent-%COMP%".replace(Ot,pe)}(Ce),this.hostAttr=function $e(pe){return"_nghost-%COMP%".replace(Ot,pe)}(Ce)}applyToHost(P){this.applyStyles(),this.setAttribute(P,this.hostAttr,"")}createElement(P,R){const O=super.createElement(P,R);return super.setAttribute(O,this.contentAttr,""),O}}let Mn=(()=>{class pe extends Ue{constructor(R){super(R)}supports(R){return!0}addEventListener(R,O,ve){return R.addEventListener(O,ve,!1),()=>this.removeEventListener(R,O,ve)}removeEventListener(R,O,ve){return R.removeEventListener(O,ve)}static{this.\u0275fac=function(O){return new(O||pe)(f.KVO(G.qQ))}}static{this.\u0275prov=f.jDH({token:pe,factory:pe.\u0275fac})}}return pe})();const Qt=["alt","control","meta","shift"],Cn={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Yt={alt:pe=>pe.altKey,control:pe=>pe.ctrlKey,meta:pe=>pe.metaKey,shift:pe=>pe.shiftKey};let Le=(()=>{class pe extends Ue{constructor(R){super(R)}supports(R){return null!=pe.parseEventName(R)}addEventListener(R,O,ve){const xe=pe.parseEventName(O),be=pe.eventCallback(xe.fullKey,ve,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,G.QT)().onAndCancel(R,xe.domEventName,be))}static parseEventName(R){const O=R.toLowerCase().split("."),ve=O.shift();if(0===O.length||"keydown"!==ve&&"keyup"!==ve)return null;const xe=pe._normalizeKey(O.pop());let be="",me=O.indexOf("code");if(me>-1&&(O.splice(me,1),be="code."),Qt.forEach(Ce=>{const ct=O.indexOf(Ce);ct>-1&&(O.splice(ct,1),be+=Ce+".")}),be+=xe,0!=O.length||0===xe.length)return null;const se={};return se.domEventName=ve,se.fullKey=be,se}static matchEventFullKeyCode(R,O){let ve=Cn[R.key]||R.key,xe="";return O.indexOf("code.")>-1&&(ve=R.code,xe="code."),!(null==ve||!ve)&&(ve=ve.toLowerCase()," "===ve?ve="space":"."===ve&&(ve="dot"),Qt.forEach(be=>{be!==ve&&(0,Yt[be])(R)&&(xe+=be+".")}),xe+=ve,xe===O)}static eventCallback(R,O,ve){return xe=>{pe.matchEventFullKeyCode(xe,R)&&ve.runGuarded(()=>O(xe))}}static _normalizeKey(R){return"esc"===R?"escape":R}static{this.\u0275fac=function(O){return new(O||pe)(f.KVO(G.qQ))}}static{this.\u0275prov=f.jDH({token:pe,factory:pe.\u0275fac})}}return pe})();const vt=(0,f.oH4)(f.fpN,"browser",[{provide:f.Agw,useValue:G.AJ},{provide:f.PLl,useValue:function Qe(){le.makeCurrent()},multi:!0},{provide:G.qQ,useFactory:function Ft(){return(0,f.TL$)(document),document},deps:[]}]),We=new f.nKC(""),dt=[{provide:f.e01,useClass:class fe{addToWindow(P){f.JZv.getAngularTestability=(O,ve=!0)=>{const xe=P.findTestabilityInTree(O,ve);if(null==xe)throw new f.wOt(5103,!1);return xe},f.JZv.getAllAngularTestabilities=()=>P.getAllTestabilities(),f.JZv.getAllAngularRootElements=()=>P.getAllRootElements(),f.JZv.frameworkStabilizers||(f.JZv.frameworkStabilizers=[]),f.JZv.frameworkStabilizers.push(O=>{const ve=f.JZv.getAllAngularTestabilities();let xe=ve.length,be=!1;const me=function(se){be=be||se,xe--,0==xe&&O(be)};ve.forEach(se=>{se.whenStable(me)})})}findTestabilityInTree(P,R,O){return null==R?null:P.getTestability(R)??(O?(0,G.QT)().isShadowRoot(R)?this.findTestabilityInTree(P,R.host,!0):this.findTestabilityInTree(P,R.parentElement,!0):null)}},deps:[]},{provide:f.WHO,useClass:f.NYb,deps:[f.SKi,f.giA,f.e01]},{provide:f.NYb,useClass:f.NYb,deps:[f.SKi,f.giA,f.e01]}],Xn=[{provide:f.H8p,useValue:"root"},{provide:f.zcH,useFactory:function pt(){return new f.zcH},deps:[]},{provide:de,useClass:Mn,multi:!0,deps:[G.qQ,f.SKi,f.Agw]},{provide:de,useClass:Le,multi:!0,deps:[G.qQ]},Tt,mt,Pe,{provide:f._9s,useExisting:Tt},{provide:G.N0,useClass:te,deps:[]},[]];let Sn=(()=>{class pe{constructor(R){}static withServerTransition(R){return{ngModule:pe,providers:[{provide:f.sZ2,useValue:R.appId}]}}static{this.\u0275fac=function(O){return new(O||pe)(f.KVO(We,12))}}static{this.\u0275mod=f.$C({type:pe})}static{this.\u0275inj=f.G2t({providers:[...Xn,...dt],imports:[G.MD,f.Hbi]})}}return pe})(),ie=(()=>{class pe{constructor(R){this._doc=R}getTitle(){return this._doc.title}setTitle(R){this._doc.title=R||""}static{this.\u0275fac=function(O){return new(O||pe)(f.KVO(G.qQ))}}static{this.\u0275prov=f.jDH({token:pe,factory:function(O){let ve=null;return ve=O?new O:function Bt(){return new ie((0,f.KVO)(G.qQ))}(),ve},providedIn:"root"})}}return pe})();typeof window<"u"&&window;let qr=(()=>{class pe{static{this.\u0275fac=function(O){return new(O||pe)}}static{this.\u0275prov=f.jDH({token:pe,factory:function(O){let ve=null;return ve=O?new(O||pe):f.KVO(er),ve},providedIn:"root"})}}return pe})(),er=(()=>{class pe extends qr{constructor(R){super(),this._doc=R}sanitize(R,O){if(null==O)return null;switch(R){case f.WPN.NONE:return O;case f.WPN.HTML:return(0,f.ZF7)(O,"HTML")?(0,f.rcV)(O):(0,f.h9k)(this._doc,String(O)).toString();case f.WPN.STYLE:return(0,f.ZF7)(O,"Style")?(0,f.rcV)(O):O;case f.WPN.SCRIPT:if((0,f.ZF7)(O,"Script"))return(0,f.rcV)(O);throw new f.wOt(5200,!1);case f.WPN.URL:return(0,f.ZF7)(O,"URL")?(0,f.rcV)(O):(0,f.$MX)(String(O));case f.WPN.RESOURCE_URL:if((0,f.ZF7)(O,"ResourceURL"))return(0,f.rcV)(O);throw new f.wOt(5201,!1);default:throw new f.wOt(5202,!1)}}bypassSecurityTrustHtml(R){return(0,f.Kcf)(R)}bypassSecurityTrustStyle(R){return(0,f.cWb)(R)}bypassSecurityTrustScript(R){return(0,f.UyX)(R)}bypassSecurityTrustUrl(R){return(0,f.osQ)(R)}bypassSecurityTrustResourceUrl(R){return(0,f.e5t)(R)}static{this.\u0275fac=function(O){return new(O||pe)(f.KVO(G.qQ))}}static{this.\u0275prov=f.jDH({token:pe,factory:function(O){let ve=null;return ve=O?new O:function Sr(pe){return new er(pe.get(G.qQ))}(f.KVO(f.zZn)),ve},providedIn:"root"})}}return pe})()},5743:(an,tt,L)=>{L.d(tt,{wF:()=>ji,Ix:()=>yi,Wk:()=>Bs,wQ:()=>os,iI:()=>yl,n3:()=>Pr});var f=L(7705),G=L(4402),ge=L(8455),le=L(7673),re=L(4412),Re=L(4572);const he=(0,L(1853).L)(x=>function(){x(this),this.name="EmptyError",this.message="no elements in sequence"});var fe=L(8793),te=L(9030),de=L(1203),Pe=L(8810),Ue=L(983),ue=L(17),mt=L(1413),Pt=L(8359),Ot=L(177),wt=L(6354),fn=L(5558),Xt=L(6697),ke=L(9172),Ge=L(5964),je=L(1397),$e=L(9974),_t=L(4360);function Tt(x){return(0,$e.N)((S,M)=>{let D=!1;S.subscribe((0,_t._)(M,U=>{D=!0,M.next(U)},()=>{D||M.next(x),M.complete()}))})}function hn(x=gn){return(0,$e.N)((S,M)=>{let D=!1;S.subscribe((0,_t._)(M,U=>{D=!0,M.next(U)},()=>D?M.complete():M.error(x())))})}function gn(){return new he}var _n=L(3669);function jn(x,S){const M=arguments.length>=2;return D=>D.pipe(x?(0,Ge.p)((U,ne)=>x(U,ne,D)):_n.D,(0,Xt.s)(1),M?Tt(S):hn(()=>new he))}var zt=L(274),Tn=L(8141),rn=L(9437),Mn=L(2816);function Qt(x){return x<=0?()=>Ue.w:(0,$e.N)((S,M)=>{let D=[];S.subscribe((0,_t._)(M,U=>{D.push(U),x<D.length&&D.shift()},()=>{for(const U of D)M.next(U);M.complete()},void 0,()=>{D=null}))})}var Yt=L(3703),Le=L(980),Xe=L(9898),we=L(6977),lt=L(6365),Lt=L(345);const Qe="primary",pt=Symbol("RouteTitle");class Ft{constructor(S){this.params=S||{}}has(S){return Object.prototype.hasOwnProperty.call(this.params,S)}get(S){if(this.has(S)){const M=this.params[S];return Array.isArray(M)?M[0]:M}return null}getAll(S){if(this.has(S)){const M=this.params[S];return Array.isArray(M)?M:[M]}return[]}get keys(){return Object.keys(this.params)}}function Hn(x){return new Ft(x)}function vt(x,S,M){const D=M.path.split("/");if(D.length>x.length||"full"===M.pathMatch&&(S.hasChildren()||D.length<x.length))return null;const U={};for(let ne=0;ne<D.length;ne++){const De=D[ne],At=x[ne];if(De.startsWith(":"))U[De.substring(1)]=At;else if(De!==At.path)return null}return{consumed:x.slice(0,D.length),posParams:U}}function dt(x,S){const M=x?Object.keys(x):void 0,D=S?Object.keys(S):void 0;if(!M||!D||M.length!=D.length)return!1;let U;for(let ne=0;ne<M.length;ne++)if(U=M[ne],!Xn(x[U],S[U]))return!1;return!0}function Xn(x,S){if(Array.isArray(x)&&Array.isArray(S)){if(x.length!==S.length)return!1;const M=[...x].sort(),D=[...S].sort();return M.every((U,ne)=>D[ne]===U)}return x===S}function Sn(x){return x.length>0?x[x.length-1]:null}function Yn(x){return(0,G.A)(x)?x:(0,f.jNT)(x)?(0,ge.H)(Promise.resolve(x)):(0,le.of)(x)}const Vr={exact:function Se(x,S,M){if(!ut(x.segments,S.segments)||!nt(x.segments,S.segments,M)||x.numberOfChildren!==S.numberOfChildren)return!1;for(const D in S.children)if(!x.children[D]||!Se(x.children[D],S.children[D],M))return!1;return!0},subset:rt},kr={exact:function ie(x,S){return dt(x,S)},subset:function qe(x,S){return Object.keys(S).length<=Object.keys(x).length&&Object.keys(S).every(M=>Xn(x[M],S[M]))},ignored:()=>!0};function Bt(x,S,M){return Vr[M.paths](x.root,S.root,M.matrixParams)&&kr[M.queryParams](x.queryParams,S.queryParams)&&!("exact"===M.fragment&&x.fragment!==S.fragment)}function rt(x,S,M){return bt(x,S,S.segments,M)}function bt(x,S,M,D){if(x.segments.length>M.length){const U=x.segments.slice(0,M.length);return!(!ut(U,M)||S.hasChildren()||!nt(U,M,D))}if(x.segments.length===M.length){if(!ut(x.segments,M)||!nt(x.segments,M,D))return!1;for(const U in S.children)if(!x.children[U]||!rt(x.children[U],S.children[U],D))return!1;return!0}{const U=M.slice(0,x.segments.length),ne=M.slice(x.segments.length);return!!(ut(x.segments,U)&&nt(x.segments,U,D)&&x.children[Qe])&&bt(x.children[Qe],S,ne,D)}}function nt(x,S,M){return S.every((D,U)=>kr[M](x[U].parameters,D.parameters))}class Fe{constructor(S=new Ae([],{}),M={},D=null){this.root=S,this.queryParams=M,this.fragment=D}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Hn(this.queryParams)),this._queryParamMap}toString(){return on.serialize(this)}}class Ae{constructor(S,M){this.segments=S,this.children=M,this.parent=null,Object.values(M).forEach(D=>D.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Zt(this)}}class st{constructor(S,M){this.path=S,this.parameters=M}get parameterMap(){return this._parameterMap||(this._parameterMap=Hn(this.parameters)),this._parameterMap}toString(){return di(this)}}function ut(x,S){return x.length===S.length&&x.every((M,D)=>M.path===S[D].path)}let Dt=(()=>{class x{static{this.\u0275fac=function(D){return new(D||x)}}static{this.\u0275prov=f.jDH({token:x,factory:function(){return new Kn},providedIn:"root"})}}return x})();class Kn{parse(S){const M=new be(S);return new Fe(M.parseRootSegment(),M.parseQueryParams(),M.parseFragment())}serialize(S){const M=`/${Ar(S.root,!0)}`,D=function ar(x){const S=Object.keys(x).map(M=>{const D=x[M];return Array.isArray(D)?D.map(U=>`${Sr(M)}=${Sr(U)}`).join("&"):`${Sr(M)}=${Sr(D)}`}).filter(M=>!!M);return S.length?`?${S.join("&")}`:""}(S.queryParams);return`${M}${D}${"string"==typeof S.fragment?`#${function er(x){return encodeURI(x)}(S.fragment)}`:""}`}}const on=new Kn;function Zt(x){return x.segments.map(S=>di(S)).join("/")}function Ar(x,S){if(!x.hasChildren())return Zt(x);if(S){const M=x.children[Qe]?Ar(x.children[Qe],!1):"",D=[];return Object.entries(x.children).forEach(([U,ne])=>{U!==Qe&&D.push(`${U}:${Ar(ne,!1)}`)}),D.length>0?`${M}(${D.join("//")})`:M}{const M=function Un(x,S){let M=[];return Object.entries(x.children).forEach(([D,U])=>{D===Qe&&(M=M.concat(S(U,D)))}),Object.entries(x.children).forEach(([D,U])=>{D!==Qe&&(M=M.concat(S(U,D)))}),M}(x,(D,U)=>U===Qe?[Ar(x.children[Qe],!1)]:[`${U}:${Ar(D,!1)}`]);return 1===Object.keys(x.children).length&&null!=x.children[Qe]?`${Zt(x)}/${M[0]}`:`${Zt(x)}/(${M.join("//")})`}}function qr(x){return encodeURIComponent(x).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Sr(x){return qr(x).replace(/%3B/gi,";")}function fr(x){return qr(x).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function vi(x){return decodeURIComponent(x)}function Zr(x){return vi(x.replace(/\+/g,"%20"))}function di(x){return`${fr(x.path)}${function Xr(x){return Object.keys(x).map(S=>`;${fr(S)}=${fr(x[S])}`).join("")}(x.parameters)}`}const hi=/^[^\/()?;#]+/;function Nt(x){const S=x.match(hi);return S?S[0]:""}const pe=/^[^\/()?;=#]+/,R=/^[^=?&#]+/,ve=/^[^&#]+/;class be{constructor(S){this.url=S,this.remaining=S}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ae([],{}):new Ae([],this.parseChildren())}parseQueryParams(){const S={};if(this.consumeOptional("?"))do{this.parseQueryParam(S)}while(this.consumeOptional("&"));return S}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const S=[];for(this.peekStartsWith("(")||S.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),S.push(this.parseSegment());let M={};this.peekStartsWith("/(")&&(this.capture("/"),M=this.parseParens(!0));let D={};return this.peekStartsWith("(")&&(D=this.parseParens(!1)),(S.length>0||Object.keys(M).length>0)&&(D[Qe]=new Ae(S,M)),D}parseSegment(){const S=Nt(this.remaining);if(""===S&&this.peekStartsWith(";"))throw new f.wOt(4009,!1);return this.capture(S),new st(vi(S),this.parseMatrixParams())}parseMatrixParams(){const S={};for(;this.consumeOptional(";");)this.parseParam(S);return S}parseParam(S){const M=function P(x){const S=x.match(pe);return S?S[0]:""}(this.remaining);if(!M)return;this.capture(M);let D="";if(this.consumeOptional("=")){const U=Nt(this.remaining);U&&(D=U,this.capture(D))}S[vi(M)]=vi(D)}parseQueryParam(S){const M=function O(x){const S=x.match(R);return S?S[0]:""}(this.remaining);if(!M)return;this.capture(M);let D="";if(this.consumeOptional("=")){const De=function xe(x){const S=x.match(ve);return S?S[0]:""}(this.remaining);De&&(D=De,this.capture(D))}const U=Zr(M),ne=Zr(D);if(S.hasOwnProperty(U)){let De=S[U];Array.isArray(De)||(De=[De],S[U]=De),De.push(ne)}else S[U]=ne}parseParens(S){const M={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const D=Nt(this.remaining),U=this.remaining[D.length];if("/"!==U&&")"!==U&&";"!==U)throw new f.wOt(4010,!1);let ne;D.indexOf(":")>-1?(ne=D.slice(0,D.indexOf(":")),this.capture(ne),this.capture(":")):S&&(ne=Qe);const De=this.parseChildren();M[ne]=1===Object.keys(De).length?De[Qe]:new Ae([],De),this.consumeOptional("//")}return M}peekStartsWith(S){return this.remaining.startsWith(S)}consumeOptional(S){return!!this.peekStartsWith(S)&&(this.remaining=this.remaining.substring(S.length),!0)}capture(S){if(!this.consumeOptional(S))throw new f.wOt(4011,!1)}}function me(x){return x.segments.length>0?new Ae([],{[Qe]:x}):x}function se(x){const S={};for(const D of Object.keys(x.children)){const ne=se(x.children[D]);if(D===Qe&&0===ne.segments.length&&ne.hasChildren())for(const[De,At]of Object.entries(ne.children))S[De]=At;else(ne.segments.length>0||ne.hasChildren())&&(S[D]=ne)}return function Ce(x){if(1===x.numberOfChildren&&x.children[Qe]){const S=x.children[Qe];return new Ae(x.segments.concat(S.segments),S.children)}return x}(new Ae(x.segments,S))}function ct(x){return x instanceof Fe}function Ie(x){let S;const U=me(function M(ne){const De={};for(const xt of ne.children){const yn=M(xt);De[xt.outlet]=yn}const At=new Ae(ne.url,De);return ne===x&&(S=At),At}(x.root));return S??U}function Me(x,S,M,D){let U=x;for(;U.parent;)U=U.parent;if(0===S.length)return Ht(U,U,U,M,D);const ne=function zn(x){if("string"==typeof x[0]&&1===x.length&&"/"===x[0])return new sn(!0,0,x);let S=0,M=!1;const D=x.reduce((U,ne,De)=>{if("object"==typeof ne&&null!=ne){if(ne.outlets){const At={};return Object.entries(ne.outlets).forEach(([xt,yn])=>{At[xt]="string"==typeof yn?yn.split("/"):yn}),[...U,{outlets:At}]}if(ne.segmentPath)return[...U,ne.segmentPath]}return"string"!=typeof ne?[...U,ne]:0===De?(ne.split("/").forEach((At,xt)=>{0==xt&&"."===At||(0==xt&&""===At?M=!0:".."===At?S++:""!=At&&U.push(At))}),U):[...U,ne]},[]);return new sn(M,S,D)}(S);if(ne.toRoot())return Ht(U,U,new Ae([],{}),M,D);const De=function si(x,S,M){if(x.isAbsolute)return new Jt(S,!0,0);if(!M)return new Jt(S,!1,NaN);if(null===M.parent)return new Jt(M,!0,0);const D=Ve(x.commands[0])?0:1;return function kt(x,S,M){let D=x,U=S,ne=M;for(;ne>U;){if(ne-=U,D=D.parent,!D)throw new f.wOt(4005,!1);U=D.segments.length}return new Jt(D,!1,U-ne)}(M,M.segments.length-1+D,x.numberOfDoubleDots)}(ne,U,x),At=De.processChildren?tn(De.segmentGroup,De.index,ne.commands):Vt(De.segmentGroup,De.index,ne.commands);return Ht(U,De.segmentGroup,At,M,D)}function Ve(x){return"object"==typeof x&&null!=x&&!x.outlets&&!x.segmentPath}function Rt(x){return"object"==typeof x&&null!=x&&x.outlets}function Ht(x,S,M,D,U){let De,ne={};D&&Object.entries(D).forEach(([xt,yn])=>{ne[xt]=Array.isArray(yn)?yn.map(br=>`${br}`):`${yn}`}),De=x===S?M:dn(x,S,M);const At=me(se(De));return new Fe(At,ne,U)}function dn(x,S,M){const D={};return Object.entries(x.children).forEach(([U,ne])=>{D[U]=ne===S?M:dn(ne,S,M)}),new Ae(x.segments,D)}class sn{constructor(S,M,D){if(this.isAbsolute=S,this.numberOfDoubleDots=M,this.commands=D,S&&D.length>0&&Ve(D[0]))throw new f.wOt(4003,!1);const U=D.find(Rt);if(U&&U!==Sn(D))throw new f.wOt(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Jt{constructor(S,M,D){this.segmentGroup=S,this.processChildren=M,this.index=D}}function Vt(x,S,M){if(x||(x=new Ae([],{})),0===x.segments.length&&x.hasChildren())return tn(x,S,M);const D=function In(x,S,M){let D=0,U=S;const ne={match:!1,pathIndex:0,commandIndex:0};for(;U<x.segments.length;){if(D>=M.length)return ne;const De=x.segments[U],At=M[D];if(Rt(At))break;const xt=`${At}`,yn=D<M.length-1?M[D+1]:null;if(U>0&&void 0===xt)break;if(xt&&yn&&"object"==typeof yn&&void 0===yn.outlets){if(!Rr(xt,yn,De))return ne;D+=2}else{if(!Rr(xt,{},De))return ne;D++}U++}return{match:!0,pathIndex:U,commandIndex:D}}(x,S,M),U=M.slice(D.commandIndex);if(D.match&&D.pathIndex<x.segments.length){const ne=new Ae(x.segments.slice(0,D.pathIndex),{});return ne.children[Qe]=new Ae(x.segments.slice(D.pathIndex),x.children),tn(ne,0,U)}return D.match&&0===U.length?new Ae(x.segments,{}):D.match&&!x.hasChildren()?mn(x,S,M):D.match?tn(x,0,U):mn(x,S,M)}function tn(x,S,M){if(0===M.length)return new Ae(x.segments,{});{const D=function Ye(x){return Rt(x[0])?x[0].outlets:{[Qe]:x}}(M),U={};if(Object.keys(D).some(ne=>ne!==Qe)&&x.children[Qe]&&1===x.numberOfChildren&&0===x.children[Qe].segments.length){const ne=tn(x.children[Qe],S,M);return new Ae(x.segments,ne.children)}return Object.entries(D).forEach(([ne,De])=>{"string"==typeof De&&(De=[De]),null!==De&&(U[ne]=Vt(x.children[ne],S,De))}),Object.entries(x.children).forEach(([ne,De])=>{void 0===D[ne]&&(U[ne]=De)}),new Ae(x.segments,U)}}function mn(x,S,M){const D=x.segments.slice(0,S);let U=0;for(;U<M.length;){const ne=M[U];if(Rt(ne)){const xt=kn(ne.outlets);return new Ae(D,xt)}if(0===U&&Ve(M[0])){D.push(new st(x.segments[S].path,vr(M[0]))),U++;continue}const De=Rt(ne)?ne.outlets[Qe]:`${ne}`,At=U<M.length-1?M[U+1]:null;De&&At&&Ve(At)?(D.push(new st(De,vr(At))),U+=2):(D.push(new st(De,{})),U++)}return new Ae(D,{})}function kn(x){const S={};return Object.entries(x).forEach(([M,D])=>{"string"==typeof D&&(D=[D]),null!==D&&(S[M]=mn(new Ae([],{}),0,D))}),S}function vr(x){const S={};return Object.entries(x).forEach(([M,D])=>S[M]=`${D}`),S}function Rr(x,S,M){return x==M.path&&dt(S,M.parameters)}const cr="imperative";class Mr{constructor(S,M){this.id=S,this.url=M}}class Bi extends Mr{constructor(S,M,D="imperative",U=null){super(S,M),this.type=0,this.navigationTrigger=D,this.restoredState=U}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ji extends Mr{constructor(S,M,D){super(S,M),this.urlAfterRedirects=D,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Lr extends Mr{constructor(S,M,D,U){super(S,M),this.reason=D,this.code=U,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Ai extends Mr{constructor(S,M,D,U){super(S,M),this.reason=D,this.code=U,this.type=16}}class Qi extends Mr{constructor(S,M,D,U){super(S,M),this.error=D,this.target=U,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class ds extends Mr{constructor(S,M,D,U){super(S,M),this.urlAfterRedirects=D,this.state=U,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class wi extends Mr{constructor(S,M,D,U){super(S,M),this.urlAfterRedirects=D,this.state=U,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class mc extends Mr{constructor(S,M,D,U,ne){super(S,M),this.urlAfterRedirects=D,this.state=U,this.shouldActivate=ne,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class yc extends Mr{constructor(S,M,D,U){super(S,M),this.urlAfterRedirects=D,this.state=U,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class jc extends Mr{constructor(S,M,D,U){super(S,M),this.urlAfterRedirects=D,this.state=U,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ha{constructor(S){this.route=S,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class hs{constructor(S){this.route=S,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class da{constructor(S){this.snapshot=S,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ss{constructor(S){this.snapshot=S,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Xs{constructor(S){this.snapshot=S,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Zi{constructor(S){this.snapshot=S,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class $o{constructor(S,M,D){this.routerEvent=S,this.position=M,this.anchor=D,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class ri{}class Rs{constructor(S){this.url=S}}class Ea{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Go,this.attachRef=null}}let Go=(()=>{class x{constructor(){this.contexts=new Map}onChildOutletCreated(M,D){const U=this.getOrCreateContext(M);U.outlet=D,this.contexts.set(M,U)}onChildOutletDestroyed(M){const D=this.getContext(M);D&&(D.outlet=null,D.attachRef=null)}onOutletDeactivated(){const M=this.contexts;return this.contexts=new Map,M}onOutletReAttached(M){this.contexts=M}getOrCreateContext(M){let D=this.getContext(M);return D||(D=new Ea,this.contexts.set(M,D)),D}getContext(M){return this.contexts.get(M)||null}static{this.\u0275fac=function(D){return new(D||x)}}static{this.\u0275prov=f.jDH({token:x,factory:x.\u0275fac,providedIn:"root"})}}return x})();class Fr{constructor(S){this._root=S}get root(){return this._root.value}parent(S){const M=this.pathFromRoot(S);return M.length>1?M[M.length-2]:null}children(S){const M=wo(S,this._root);return M?M.children.map(D=>D.value):[]}firstChild(S){const M=wo(S,this._root);return M&&M.children.length>0?M.children[0].value:null}siblings(S){const M=ai(S,this._root);return M.length<2?[]:M[M.length-2].children.map(U=>U.value).filter(U=>U!==S)}pathFromRoot(S){return ai(S,this._root).map(M=>M.value)}}function wo(x,S){if(x===S.value)return S;for(const M of S.children){const D=wo(x,M);if(D)return D}return null}function ai(x,S){if(x===S.value)return[S];for(const M of S.children){const D=ai(x,M);if(D.length)return D.unshift(S),D}return[]}class dr{constructor(S,M){this.value=S,this.children=M}toString(){return`TreeNode(${this.value})`}}function tr(x){const S={};return x&&x.children.forEach(M=>S[M.value.outlet]=M),S}class $r extends Fr{constructor(S,M){super(S),this.snapshot=M,zi(this,S)}toString(){return this.snapshot.toString()}}function Ir(x,S){const M=function Ro(x,S){const De=new Ii([],{},{},"",{},Qe,S,null,{});return new Br("",new dr(De,[]))}(0,S),D=new re.t([new st("",{})]),U=new re.t({}),ne=new re.t({}),De=new re.t({}),At=new re.t(""),xt=new _i(D,U,De,At,ne,Qe,S,M.root);return xt.snapshot=M.root,new $r(new dr(xt,[]),M)}class _i{constructor(S,M,D,U,ne,De,At,xt){this.urlSubject=S,this.paramsSubject=M,this.queryParamsSubject=D,this.fragmentSubject=U,this.dataSubject=ne,this.outlet=De,this.component=At,this._futureSnapshot=xt,this.title=this.dataSubject?.pipe((0,wt.T)(yn=>yn[pt]))??(0,le.of)(void 0),this.url=S,this.params=M,this.queryParams=D,this.fragment=U,this.data=ne}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,wt.T)(S=>Hn(S)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,wt.T)(S=>Hn(S)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Wr(x,S="emptyOnly"){const M=x.pathFromRoot;let D=0;if("always"!==S)for(D=M.length-1;D>=1;){const U=M[D],ne=M[D-1];if(U.routeConfig&&""===U.routeConfig.path)D--;else{if(ne.component)break;D--}}return function Ys(x){return x.reduce((S,M)=>({params:{...S.params,...M.params},data:{...S.data,...M.data},resolve:{...M.data,...S.resolve,...M.routeConfig?.data,...M._resolvedData}}),{params:{},data:{},resolve:{}})}(M.slice(D))}class Ii{get title(){return this.data?.[pt]}constructor(S,M,D,U,ne,De,At,xt,yn){this.url=S,this.params=M,this.queryParams=D,this.fragment=U,this.data=ne,this.outlet=De,this.component=At,this.routeConfig=xt,this._resolve=yn}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Hn(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Hn(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(D=>D.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Br extends Fr{constructor(S,M){super(M),this.url=S,zi(this,M)}toString(){return Yr(this._root)}}function zi(x,S){S.value._routerState=x,S.children.forEach(M=>zi(x,M))}function Yr(x){const S=x.children.length>0?` { ${x.children.map(Yr).join(", ")} } `:"";return`${x.value}${S}`}function pn(x){if(x.snapshot){const S=x.snapshot,M=x._futureSnapshot;x.snapshot=M,dt(S.queryParams,M.queryParams)||x.queryParamsSubject.next(M.queryParams),S.fragment!==M.fragment&&x.fragmentSubject.next(M.fragment),dt(S.params,M.params)||x.paramsSubject.next(M.params),function We(x,S){if(x.length!==S.length)return!1;for(let M=0;M<x.length;++M)if(!dt(x[M],S[M]))return!1;return!0}(S.url,M.url)||x.urlSubject.next(M.url),dt(S.data,M.data)||x.dataSubject.next(M.data)}else x.snapshot=x._futureSnapshot,x.dataSubject.next(x._futureSnapshot.data)}function Vn(x,S){const M=dt(x.params,S.params)&&function it(x,S){return ut(x,S)&&x.every((M,D)=>dt(M.parameters,S[D].parameters))}(x.url,S.url);return M&&!(!x.parent!=!S.parent)&&(!x.parent||Vn(x.parent,S.parent))}let Pr=(()=>{class x{constructor(){this.activated=null,this._activatedRoute=null,this.name=Qe,this.activateEvents=new f.bkB,this.deactivateEvents=new f.bkB,this.attachEvents=new f.bkB,this.detachEvents=new f.bkB,this.parentContexts=(0,f.WQX)(Go),this.location=(0,f.WQX)(f.c1b),this.changeDetector=(0,f.WQX)(f.gRc),this.environmentInjector=(0,f.WQX)(f.uvJ),this.inputBinder=(0,f.WQX)(Ei,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(M){if(M.name){const{firstChange:D,previousValue:U}=M.name;if(D)return;this.isTrackedInParentContexts(U)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(U)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(M){return this.parentContexts.getContext(M)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const M=this.parentContexts.getContext(this.name);M?.route&&(M.attachRef?this.attach(M.attachRef,M.route):this.activateWith(M.route,M.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new f.wOt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new f.wOt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new f.wOt(4012,!1);this.location.detach();const M=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(M.instance),M}attach(M,D){this.activated=M,this._activatedRoute=D,this.location.insert(M.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(M.instance)}deactivate(){if(this.activated){const M=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(M)}}activateWith(M,D){if(this.isActivated)throw new f.wOt(4013,!1);this._activatedRoute=M;const U=this.location,De=M.snapshot.component,At=this.parentContexts.getOrCreateContext(this.name).children,xt=new ki(M,At,U.injector);this.activated=U.createComponent(De,{index:U.length,injector:xt,environmentInjector:D??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(D){return new(D||x)}}static{this.\u0275dir=f.FsC({type:x,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[f.OA$]})}}return x})();class ki{constructor(S,M,D){this.route=S,this.childContexts=M,this.parent=D}get(S,M){return S===_i?this.route:S===Go?this.childContexts:this.parent.get(S,M)}}const Ei=new f.nKC("");let bi=(()=>{class x{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(M){this.unsubscribeFromRouteData(M),this.subscribeToRouteData(M)}unsubscribeFromRouteData(M){this.outletDataSubscriptions.get(M)?.unsubscribe(),this.outletDataSubscriptions.delete(M)}subscribeToRouteData(M){const{activatedRoute:D}=M,U=(0,Re.z)([D.queryParams,D.params,D.data]).pipe((0,fn.n)(([ne,De,At],xt)=>(At={...ne,...De,...At},0===xt?(0,le.of)(At):Promise.resolve(At)))).subscribe(ne=>{if(!M.isActivated||!M.activatedComponentRef||M.activatedRoute!==D||null===D.component)return void this.unsubscribeFromRouteData(M);const De=(0,f.HJs)(D.component);if(De)for(const{templateName:At}of De.inputs)M.activatedComponentRef.setInput(At,ne[At]);else this.unsubscribeFromRouteData(M)});this.outletDataSubscriptions.set(M,U)}static{this.\u0275fac=function(D){return new(D||x)}}static{this.\u0275prov=f.jDH({token:x,factory:x.\u0275fac})}}return x})();function _r(x,S,M){if(M&&x.shouldReuseRoute(S.value,M.value.snapshot)){const D=M.value;D._futureSnapshot=S.value;const U=function oo(x,S,M){return S.children.map(D=>{for(const U of M.children)if(x.shouldReuseRoute(D.value,U.value.snapshot))return _r(x,D,U);return _r(x,D)})}(x,S,M);return new dr(D,U)}{if(x.shouldAttach(S.value)){const ne=x.retrieve(S.value);if(null!==ne){const De=ne.route;return De.value._futureSnapshot=S.value,De.children=S.children.map(At=>_r(x,At)),De}}const D=function yo(x){return new _i(new re.t(x.url),new re.t(x.params),new re.t(x.queryParams),new re.t(x.fragment),new re.t(x.data),x.outlet,x.component,x)}(S.value),U=S.children.map(ne=>_r(x,ne));return new dr(D,U)}}const Fn="ngNavigationCancelingError";function Fo(x,S){const{redirectTo:M,navigationBehaviorOptions:D}=ct(S)?{redirectTo:S,navigationBehaviorOptions:void 0}:S,U=Po(!1,0,S);return U.url=M,U.navigationBehaviorOptions=D,U}function Po(x,S,M){const D=new Error("NavigationCancelingError: "+(x||""));return D[Fn]=!0,D.cancellationCode=S,M&&(D.url=M),D}function Tr(x){return x&&x[Fn]}let go=(()=>{class x{static{this.\u0275fac=function(D){return new(D||x)}}static{this.\u0275cmp=f.VBU({type:x,selectors:[["ng-component"]],standalone:!0,features:[f.aNF],decls:1,vars:0,template:function(D,U){1&D&&f.nrm(0,"router-outlet")},dependencies:[Pr],encapsulation:2})}}return x})();function ha(x){const S=x.children&&x.children.map(ha),M=S?{...x,children:S}:{...x};return!M.component&&!M.loadComponent&&(S||M.loadChildren)&&M.outlet&&M.outlet!==Qe&&(M.component=go),M}function ao(x){return x.outlet||Qe}function Di(x){if(!x)return null;if(x.routeConfig?._injector)return x.routeConfig._injector;for(let S=x.parent;S;S=S.parent){const M=S.routeConfig;if(M?._loadedInjector)return M._loadedInjector;if(M?._injector)return M._injector}return null}class Ur{constructor(S,M,D,U,ne){this.routeReuseStrategy=S,this.futureState=M,this.currState=D,this.forwardEvent=U,this.inputBindingEnabled=ne}activate(S){const M=this.futureState._root,D=this.currState?this.currState._root:null;this.deactivateChildRoutes(M,D,S),pn(this.futureState.root),this.activateChildRoutes(M,D,S)}deactivateChildRoutes(S,M,D){const U=tr(M);S.children.forEach(ne=>{const De=ne.value.outlet;this.deactivateRoutes(ne,U[De],D),delete U[De]}),Object.values(U).forEach(ne=>{this.deactivateRouteAndItsChildren(ne,D)})}deactivateRoutes(S,M,D){const U=S.value,ne=M?M.value:null;if(U===ne)if(U.component){const De=D.getContext(U.outlet);De&&this.deactivateChildRoutes(S,M,De.children)}else this.deactivateChildRoutes(S,M,D);else ne&&this.deactivateRouteAndItsChildren(M,D)}deactivateRouteAndItsChildren(S,M){S.value.component&&this.routeReuseStrategy.shouldDetach(S.value.snapshot)?this.detachAndStoreRouteSubtree(S,M):this.deactivateRouteAndOutlet(S,M)}detachAndStoreRouteSubtree(S,M){const D=M.getContext(S.value.outlet),U=D&&S.value.component?D.children:M,ne=tr(S);for(const De of Object.keys(ne))this.deactivateRouteAndItsChildren(ne[De],U);if(D&&D.outlet){const De=D.outlet.detach(),At=D.children.onOutletDeactivated();this.routeReuseStrategy.store(S.value.snapshot,{componentRef:De,route:S,contexts:At})}}deactivateRouteAndOutlet(S,M){const D=M.getContext(S.value.outlet),U=D&&S.value.component?D.children:M,ne=tr(S);for(const De of Object.keys(ne))this.deactivateRouteAndItsChildren(ne[De],U);D&&(D.outlet&&(D.outlet.deactivate(),D.children.onOutletDeactivated()),D.attachRef=null,D.route=null)}activateChildRoutes(S,M,D){const U=tr(M);S.children.forEach(ne=>{this.activateRoutes(ne,U[ne.value.outlet],D),this.forwardEvent(new Zi(ne.value.snapshot))}),S.children.length&&this.forwardEvent(new Ss(S.value.snapshot))}activateRoutes(S,M,D){const U=S.value,ne=M?M.value:null;if(pn(U),U===ne)if(U.component){const De=D.getOrCreateContext(U.outlet);this.activateChildRoutes(S,M,De.children)}else this.activateChildRoutes(S,M,D);else if(U.component){const De=D.getOrCreateContext(U.outlet);if(this.routeReuseStrategy.shouldAttach(U.snapshot)){const At=this.routeReuseStrategy.retrieve(U.snapshot);this.routeReuseStrategy.store(U.snapshot,null),De.children.onOutletReAttached(At.contexts),De.attachRef=At.componentRef,De.route=At.route.value,De.outlet&&De.outlet.attach(At.componentRef,At.route.value),pn(At.route.value),this.activateChildRoutes(S,null,De.children)}else{const At=Di(U.snapshot);De.attachRef=null,De.route=U,De.injector=At,De.outlet&&De.outlet.activateWith(U,De.injector),this.activateChildRoutes(S,null,De.children)}}else this.activateChildRoutes(S,null,D)}}class mr{constructor(S){this.path=S,this.route=this.path[this.path.length-1]}}class Ps{constructor(S,M){this.component=S,this.route=M}}function Li(x,S,M){const D=x._root;return vo(D,S?S._root:null,M,[D.value])}function ts(x,S){const M=Symbol(),D=S.get(x,M);return D===M?"function"!=typeof x||(0,f.LfX)(x)?S.get(x):x:D}function vo(x,S,M,D,U={canDeactivateChecks:[],canActivateChecks:[]}){const ne=tr(S);return x.children.forEach(De=>{(function hr(x,S,M,D,U={canDeactivateChecks:[],canActivateChecks:[]}){const ne=x.value,De=S?S.value:null,At=M?M.getContext(x.value.outlet):null;if(De&&ne.routeConfig===De.routeConfig){const xt=function or(x,S,M){if("function"==typeof M)return M(x,S);switch(M){case"pathParamsChange":return!ut(x.url,S.url);case"pathParamsOrQueryParamsChange":return!ut(x.url,S.url)||!dt(x.queryParams,S.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Vn(x,S)||!dt(x.queryParams,S.queryParams);default:return!Vn(x,S)}}(De,ne,ne.routeConfig.runGuardsAndResolvers);xt?U.canActivateChecks.push(new mr(D)):(ne.data=De.data,ne._resolvedData=De._resolvedData),vo(x,S,ne.component?At?At.children:null:M,D,U),xt&&At&&At.outlet&&At.outlet.isActivated&&U.canDeactivateChecks.push(new Ps(At.outlet.component,De))}else De&&Bo(S,At,U),U.canActivateChecks.push(new mr(D)),vo(x,null,ne.component?At?At.children:null:M,D,U)})(De,ne[De.value.outlet],M,D.concat([De.value]),U),delete ne[De.value.outlet]}),Object.entries(ne).forEach(([De,At])=>Bo(At,M.getContext(De),U)),U}function Bo(x,S,M){const D=tr(x),U=x.value;Object.entries(D).forEach(([ne,De])=>{Bo(De,U.component?S?S.children.getContext(ne):null:S,M)}),M.canDeactivateChecks.push(new Ps(U.component&&S&&S.outlet&&S.outlet.isActivated?S.outlet.component:null,U))}function Os(x){return"function"==typeof x}function En(x){return x instanceof he||"EmptyError"===x?.name}const Qn=Symbol("INITIAL_VALUE");function Hi(){return(0,fn.n)(x=>(0,Re.z)(x.map(S=>S.pipe((0,Xt.s)(1),(0,ke.Z)(Qn)))).pipe((0,wt.T)(S=>{for(const M of S)if(!0!==M){if(M===Qn)return Qn;if(!1===M||M instanceof Fe)return M}return!0}),(0,Ge.p)(S=>S!==Qn),(0,Xt.s)(1)))}function ma(x){return(0,de.F)((0,Tn.M)(S=>{if(ct(S))throw Fo(0,S)}),(0,wt.T)(S=>!0===S))}class mi{constructor(S){this.segmentGroup=S||null}}class Js{constructor(S){this.urlTree=S}}function rs(x){return(0,Pe.$)(new mi(x))}function Yi(x){return(0,Pe.$)(new Js(x))}class $i{constructor(S,M){this.urlSerializer=S,this.urlTree=M}noMatchError(S){return new f.wOt(4002,!1)}lineralizeSegments(S,M){let D=[],U=M.root;for(;;){if(D=D.concat(U.segments),0===U.numberOfChildren)return(0,le.of)(D);if(U.numberOfChildren>1||!U.children[Qe])return(0,Pe.$)(new f.wOt(4e3,!1));U=U.children[Qe]}}applyRedirectCommands(S,M,D){return this.applyRedirectCreateUrlTree(M,this.urlSerializer.parse(M),S,D)}applyRedirectCreateUrlTree(S,M,D,U){const ne=this.createSegmentGroup(S,M.root,D,U);return new Fe(ne,this.createQueryParams(M.queryParams,this.urlTree.queryParams),M.fragment)}createQueryParams(S,M){const D={};return Object.entries(S).forEach(([U,ne])=>{if("string"==typeof ne&&ne.startsWith(":")){const At=ne.substring(1);D[U]=M[At]}else D[U]=ne}),D}createSegmentGroup(S,M,D,U){const ne=this.createSegments(S,M.segments,D,U);let De={};return Object.entries(M.children).forEach(([At,xt])=>{De[At]=this.createSegmentGroup(S,xt,D,U)}),new Ae(ne,De)}createSegments(S,M,D,U){return M.map(ne=>ne.path.startsWith(":")?this.findPosParam(S,ne,U):this.findOrReturn(ne,D))}findPosParam(S,M,D){const U=D[M.path.substring(1)];if(!U)throw new f.wOt(4001,!1);return U}findOrReturn(S,M){let D=0;for(const U of M){if(U.path===S.path)return M.splice(D),U;D++}return S}}const Ca={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Wa(x,S,M,D,U){const ne=Aa(x,S,M);return ne.matched?(D=function Ti(x,S){return x.providers&&!x._injector&&(x._injector=(0,f.Ol2)(x.providers,S,`Route: ${x.path}`)),x._injector??S}(S,D),function ns(x,S,M,D){const U=S.canMatch;if(!U||0===U.length)return(0,le.of)(!0);const ne=U.map(De=>{const At=ts(De,x);return Yn(function B(x){return x&&Os(x.canMatch)}(At)?At.canMatch(S,M):x.runInContext(()=>At(S,M)))});return(0,le.of)(ne).pipe(Hi(),ma())}(D,S,M).pipe((0,wt.T)(De=>!0===De?ne:{...Ca}))):(0,le.of)(ne)}function Aa(x,S,M){if(""===S.path)return"full"===S.pathMatch&&(x.hasChildren()||M.length>0)?{...Ca}:{matched:!0,consumedSegments:[],remainingSegments:M,parameters:{},positionalParamSegments:{}};const U=(S.matcher||vt)(M,x,S);if(!U)return{...Ca};const ne={};Object.entries(U.posParams??{}).forEach(([At,xt])=>{ne[At]=xt.path});const De=U.consumed.length>0?{...ne,...U.consumed[U.consumed.length-1].parameters}:ne;return{matched:!0,consumedSegments:U.consumed,remainingSegments:M.slice(U.consumed.length),parameters:De,positionalParamSegments:U.posParams??{}}}function ea(x,S,M,D){return M.length>0&&function Ls(x,S,M){return M.some(D=>ya(x,S,D)&&ao(D)!==Qe)}(x,M,D)?{segmentGroup:new Ae(S,Ga(D,new Ae(M,x.children))),slicedSegments:[]}:0===M.length&&function Fs(x,S,M){return M.some(D=>ya(x,S,D))}(x,M,D)?{segmentGroup:new Ae(x.segments,vs(x,0,M,D,x.children)),slicedSegments:M}:{segmentGroup:new Ae(x.segments,x.children),slicedSegments:M}}function vs(x,S,M,D,U){const ne={};for(const De of D)if(ya(x,M,De)&&!U[ao(De)]){const At=new Ae([],{});ne[ao(De)]=At}return{...U,...ne}}function Ga(x,S){const M={};M[Qe]=S;for(const D of x)if(""===D.path&&ao(D)!==Qe){const U=new Ae([],{});M[ao(D)]=U}return M}function ya(x,S,M){return(!(x.hasChildren()||S.length>0)||"full"!==M.pathMatch)&&""===M.path}class vc{constructor(S,M,D,U,ne,De,At){this.injector=S,this.configLoader=M,this.rootComponentType=D,this.config=U,this.urlTree=ne,this.paramsInheritanceStrategy=De,this.urlSerializer=At,this.allowRedirects=!0,this.applyRedirects=new $i(this.urlSerializer,this.urlTree)}noMatchError(S){return new f.wOt(4002,!1)}recognize(){const S=ea(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,S,Qe).pipe((0,rn.W)(M=>{if(M instanceof Js)return this.allowRedirects=!1,this.urlTree=M.urlTree,this.match(M.urlTree);throw M instanceof mi?this.noMatchError(M):M}),(0,wt.T)(M=>{const D=new Ii([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Qe,this.rootComponentType,null,{}),U=new dr(D,M),ne=new Br("",U),De=function Kt(x,S,M=null,D=null){return Me(Ie(x),S,M,D)}(D,[],this.urlTree.queryParams,this.urlTree.fragment);return De.queryParams=this.urlTree.queryParams,ne.url=this.urlSerializer.serialize(De),this.inheritParamsAndData(ne._root),{state:ne,tree:De}}))}match(S){return this.processSegmentGroup(this.injector,this.config,S.root,Qe).pipe((0,rn.W)(D=>{throw D instanceof mi?this.noMatchError(D):D}))}inheritParamsAndData(S){const M=S.value,D=Wr(M,this.paramsInheritanceStrategy);M.params=Object.freeze(D.params),M.data=Object.freeze(D.data),S.children.forEach(U=>this.inheritParamsAndData(U))}processSegmentGroup(S,M,D,U){return 0===D.segments.length&&D.hasChildren()?this.processChildren(S,M,D):this.processSegment(S,M,D,D.segments,U,!0)}processChildren(S,M,D){const U=[];for(const ne of Object.keys(D.children))"primary"===ne?U.unshift(ne):U.push(ne);return(0,ge.H)(U).pipe((0,zt.H)(ne=>{const De=D.children[ne],At=function Ko(x,S){const M=x.filter(D=>ao(D)===S);return M.push(...x.filter(D=>ao(D)!==S)),M}(M,ne);return this.processSegmentGroup(S,At,De,ne)}),(0,Mn.S)((ne,De)=>(ne.push(...De),ne)),Tt(null),function Cn(x,S){const M=arguments.length>=2;return D=>D.pipe(x?(0,Ge.p)((U,ne)=>x(U,ne,D)):_n.D,Qt(1),M?Tt(S):hn(()=>new he))}(),(0,je.Z)(ne=>{if(null===ne)return rs(D);const De=Ia(ne);return function co(x){x.sort((S,M)=>S.value.outlet===Qe?-1:M.value.outlet===Qe?1:S.value.outlet.localeCompare(M.value.outlet))}(De),(0,le.of)(De)}))}processSegment(S,M,D,U,ne,De){return(0,ge.H)(M).pipe((0,zt.H)(At=>this.processSegmentAgainstRoute(At._injector??S,M,At,D,U,ne,De).pipe((0,rn.W)(xt=>{if(xt instanceof mi)return(0,le.of)(null);throw xt}))),jn(At=>!!At),(0,rn.W)(At=>{if(En(At))return function dl(x,S,M){return 0===S.length&&!x.children[M]}(D,U,ne)?(0,le.of)([]):rs(D);throw At}))}processSegmentAgainstRoute(S,M,D,U,ne,De,At){return function gc(x,S,M,D){return!!(ao(x)===D||D!==Qe&&ya(S,M,x))&&("**"===x.path||Aa(S,x,M).matched)}(D,U,ne,De)?void 0===D.redirectTo?this.matchSegmentAgainstRoute(S,U,D,ne,De,At):At&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(S,U,M,D,ne,De):rs(U):rs(U)}expandSegmentAgainstRouteUsingRedirect(S,M,D,U,ne,De){return"**"===U.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(S,D,U,De):this.expandRegularSegmentAgainstRouteUsingRedirect(S,M,D,U,ne,De)}expandWildCardWithParamsAgainstRouteUsingRedirect(S,M,D,U){const ne=this.applyRedirects.applyRedirectCommands([],D.redirectTo,{});return D.redirectTo.startsWith("/")?Yi(ne):this.applyRedirects.lineralizeSegments(D,ne).pipe((0,je.Z)(De=>{const At=new Ae(De,{});return this.processSegment(S,M,At,De,U,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(S,M,D,U,ne,De){const{matched:At,consumedSegments:xt,remainingSegments:yn,positionalParamSegments:br}=Aa(M,U,ne);if(!At)return rs(M);const li=this.applyRedirects.applyRedirectCommands(xt,U.redirectTo,br);return U.redirectTo.startsWith("/")?Yi(li):this.applyRedirects.lineralizeSegments(U,li).pipe((0,je.Z)(Er=>this.processSegment(S,D,M,Er.concat(yn),De,!1)))}matchSegmentAgainstRoute(S,M,D,U,ne,De){let At;if("**"===D.path){const xt=U.length>0?Sn(U).parameters:{},yn=new Ii(U,xt,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,jo(D),ao(D),D.component??D._loadedComponent??null,D,ru(D));At=(0,le.of)({snapshot:yn,consumedSegments:[],remainingSegments:[]}),M.children={}}else At=Wa(M,D,U,S).pipe((0,wt.T)(({matched:xt,consumedSegments:yn,remainingSegments:br,parameters:li})=>xt?{snapshot:new Ii(yn,li,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,jo(D),ao(D),D.component??D._loadedComponent??null,D,ru(D)),consumedSegments:yn,remainingSegments:br}:null));return At.pipe((0,fn.n)(xt=>null===xt?rs(M):this.getChildConfig(S=D._injector??S,D,U).pipe((0,fn.n)(({routes:yn})=>{const br=D._loadedInjector??S,{snapshot:li,consumedSegments:Er,remainingSegments:ws}=xt,{segmentGroup:Ra,slicedSegments:Ya}=ea(M,Er,ws,yn);if(0===Ya.length&&Ra.hasChildren())return this.processChildren(br,yn,Ra).pipe((0,wt.T)(_o=>null===_o?null:[new dr(li,_o)]));if(0===yn.length&&0===Ya.length)return(0,le.of)([new dr(li,[])]);const Uo=ao(D)===ne;return this.processSegment(br,yn,Ra,Ya,Uo?Qe:ne,!0).pipe((0,wt.T)(_o=>[new dr(li,_o)]))}))))}getChildConfig(S,M,D){return M.children?(0,le.of)({routes:M.children,injector:S}):M.loadChildren?void 0!==M._loadedRoutes?(0,le.of)({routes:M._loadedRoutes,injector:M._loadedInjector}):function fa(x,S,M,D){const U=S.canLoad;if(void 0===U||0===U.length)return(0,le.of)(!0);const ne=U.map(De=>{const At=ts(De,x);return Yn(function zc(x){return x&&Os(x.canLoad)}(At)?At.canLoad(S,M):x.runInContext(()=>At(S,M)))});return(0,le.of)(ne).pipe(Hi(),ma())}(S,M,D).pipe((0,je.Z)(U=>U?this.configLoader.loadChildren(S,M).pipe((0,Tn.M)(ne=>{M._loadedRoutes=ne.routes,M._loadedInjector=ne.injector})):function qi(x){return(0,Pe.$)(Po(!1,3))}())):(0,le.of)({routes:[],injector:S})}}function Nu(x){const S=x.value.routeConfig;return S&&""===S.path}function Ia(x){const S=[],M=new Set;for(const D of x){if(!Nu(D)){S.push(D);continue}const U=S.find(ne=>D.value.routeConfig===ne.value.routeConfig);void 0!==U?(U.children.push(...D.children),M.add(U)):S.push(D)}for(const D of M){const U=Ia(D.children);S.push(new dr(D.value,U))}return S.filter(D=>!M.has(D))}function jo(x){return x.data||{}}function ru(x){return x.resolve||{}}function Ta(x){return"string"==typeof x.title||null===x.title}function Qa(x){return(0,fn.n)(S=>{const M=x(S);return M?(0,ge.H)(M).pipe((0,wt.T)(()=>S)):(0,le.of)(S)})}const A=new f.nKC("ROUTES");let X=(()=>{class x{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,f.WQX)(f.Ql9)}loadComponent(M){if(this.componentLoaders.get(M))return this.componentLoaders.get(M);if(M._loadedComponent)return(0,le.of)(M._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(M);const D=Yn(M.loadComponent()).pipe((0,wt.T)(Te),(0,Tn.M)(ne=>{this.onLoadEndListener&&this.onLoadEndListener(M),M._loadedComponent=ne}),(0,Le.j)(()=>{this.componentLoaders.delete(M)})),U=new ue.G(D,()=>new mt.B).pipe((0,Xe.B)());return this.componentLoaders.set(M,U),U}loadChildren(M,D){if(this.childrenLoaders.get(D))return this.childrenLoaders.get(D);if(D._loadedRoutes)return(0,le.of)({routes:D._loadedRoutes,injector:D._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(D);const ne=function j(x,S,M,D){return Yn(x.loadChildren()).pipe((0,wt.T)(Te),(0,je.Z)(U=>U instanceof f.Co$||Array.isArray(U)?(0,le.of)(U):(0,ge.H)(S.compileModuleAsync(U))),(0,wt.T)(U=>{D&&D(x);let ne,De,At=!1;return Array.isArray(U)?(De=U,!0):(ne=U.create(M).injector,De=ne.get(A,[],{optional:!0,self:!0}).flat()),{routes:De.map(ha),injector:ne}}))}(D,this.compiler,M,this.onLoadEndListener).pipe((0,Le.j)(()=>{this.childrenLoaders.delete(D)})),De=new ue.G(ne,()=>new mt.B).pipe((0,Xe.B)());return this.childrenLoaders.set(D,De),De}static{this.\u0275fac=function(D){return new(D||x)}}static{this.\u0275prov=f.jDH({token:x,factory:x.\u0275fac,providedIn:"root"})}}return x})();function Te(x){return function Q(x){return x&&"object"==typeof x&&"default"in x}(x)?x.default:x}let Et=(()=>{class x{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new mt.B,this.transitionAbortSubject=new mt.B,this.configLoader=(0,f.WQX)(X),this.environmentInjector=(0,f.WQX)(f.uvJ),this.urlSerializer=(0,f.WQX)(Dt),this.rootContexts=(0,f.WQX)(Go),this.inputBindingEnabled=null!==(0,f.WQX)(Ei,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,le.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=U=>this.events.next(new hs(U)),this.configLoader.onLoadStartListener=U=>this.events.next(new Ha(U))}complete(){this.transitions?.complete()}handleNavigationRequest(M){const D=++this.navigationId;this.transitions?.next({...this.transitions.value,...M,id:D})}setupNavigations(M,D,U){return this.transitions=new re.t({id:0,currentUrlTree:D,currentRawUrl:D,currentBrowserUrl:D,extractedUrl:M.urlHandlingStrategy.extract(D),urlAfterRedirects:M.urlHandlingStrategy.extract(D),rawUrl:D,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:cr,restoredState:null,currentSnapshot:U.snapshot,targetSnapshot:null,currentRouterState:U,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,Ge.p)(ne=>0!==ne.id),(0,wt.T)(ne=>({...ne,extractedUrl:M.urlHandlingStrategy.extract(ne.rawUrl)})),(0,fn.n)(ne=>{this.currentTransition=ne;let De=!1,At=!1;return(0,le.of)(ne).pipe((0,Tn.M)(xt=>{this.currentNavigation={id:xt.id,initialUrl:xt.rawUrl,extractedUrl:xt.extractedUrl,trigger:xt.source,extras:xt.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,fn.n)(xt=>{const yn=xt.currentBrowserUrl.toString(),br=!M.navigated||xt.extractedUrl.toString()!==yn||yn!==xt.currentUrlTree.toString();if(!br&&"reload"!==(xt.extras.onSameUrlNavigation??M.onSameUrlNavigation)){const Er="";return this.events.next(new Ai(xt.id,this.urlSerializer.serialize(xt.rawUrl),Er,0)),xt.resolve(null),Ue.w}if(M.urlHandlingStrategy.shouldProcessUrl(xt.rawUrl))return(0,le.of)(xt).pipe((0,fn.n)(Er=>{const ws=this.transitions?.getValue();return this.events.next(new Bi(Er.id,this.urlSerializer.serialize(Er.extractedUrl),Er.source,Er.restoredState)),ws!==this.transitions?.getValue()?Ue.w:Promise.resolve(Er)}),function Ka(x,S,M,D,U,ne){return(0,je.Z)(De=>function xo(x,S,M,D,U,ne,De="emptyOnly"){return new vc(x,S,M,D,U,De,ne).recognize()}(x,S,M,D,De.extractedUrl,U,ne).pipe((0,wt.T)(({state:At,tree:xt})=>({...De,targetSnapshot:At,urlAfterRedirects:xt}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,M.config,this.urlSerializer,M.paramsInheritanceStrategy),(0,Tn.M)(Er=>{ne.targetSnapshot=Er.targetSnapshot,ne.urlAfterRedirects=Er.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:Er.urlAfterRedirects};const ws=new ds(Er.id,this.urlSerializer.serialize(Er.extractedUrl),this.urlSerializer.serialize(Er.urlAfterRedirects),Er.targetSnapshot);this.events.next(ws)}));if(br&&M.urlHandlingStrategy.shouldProcessUrl(xt.currentRawUrl)){const{id:Er,extractedUrl:ws,source:Ra,restoredState:Ya,extras:Uo}=xt,_o=new Bi(Er,this.urlSerializer.serialize(ws),Ra,Ya);this.events.next(_o);const qc=Ir(0,this.rootComponentType).snapshot;return this.currentTransition=ne={...xt,targetSnapshot:qc,urlAfterRedirects:ws,extras:{...Uo,skipLocationChange:!1,replaceUrl:!1}},(0,le.of)(ne)}{const Er="";return this.events.next(new Ai(xt.id,this.urlSerializer.serialize(xt.extractedUrl),Er,1)),xt.resolve(null),Ue.w}}),(0,Tn.M)(xt=>{const yn=new wi(xt.id,this.urlSerializer.serialize(xt.extractedUrl),this.urlSerializer.serialize(xt.urlAfterRedirects),xt.targetSnapshot);this.events.next(yn)}),(0,wt.T)(xt=>(this.currentTransition=ne={...xt,guards:Li(xt.targetSnapshot,xt.currentSnapshot,this.rootContexts)},ne)),function pa(x,S){return(0,je.Z)(M=>{const{targetSnapshot:D,currentSnapshot:U,guards:{canActivateChecks:ne,canDeactivateChecks:De}}=M;return 0===De.length&&0===ne.length?(0,le.of)({...M,guardsResult:!0}):function xa(x,S,M,D){return(0,ge.H)(x).pipe((0,je.Z)(U=>function $a(x,S,M,D,U){const ne=S&&S.routeConfig?S.routeConfig.canDeactivate:null;if(!ne||0===ne.length)return(0,le.of)(!0);const De=ne.map(At=>{const xt=Di(S)??U,yn=ts(At,xt);return Yn(function K(x){return x&&Os(x.canDeactivate)}(yn)?yn.canDeactivate(x,S,M,D):xt.runInContext(()=>yn(x,S,M,D))).pipe(jn())});return(0,le.of)(De).pipe(Hi())}(U.component,U.route,M,S,D)),jn(U=>!0!==U,!0))}(De,D,U,x).pipe((0,je.Z)(At=>At&&function ms(x){return"boolean"==typeof x}(At)?function Ad(x,S,M,D){return(0,ge.H)(S).pipe((0,zt.H)(U=>(0,fe.x)(function qa(x,S){return null!==x&&S&&S(new da(x)),(0,le.of)(!0)}(U.route.parent,D),function ul(x,S){return null!==x&&S&&S(new Xs(x)),(0,le.of)(!0)}(U.route,D),function Vs(x,S,M){const D=S[S.length-1],ne=S.slice(0,S.length-1).reverse().map(De=>function Hr(x){const S=x.routeConfig?x.routeConfig.canActivateChild:null;return S&&0!==S.length?{node:x,guards:S}:null}(De)).filter(De=>null!==De).map(De=>(0,te.v)(()=>{const At=De.guards.map(xt=>{const yn=Di(De.node)??M,br=ts(xt,yn);return Yn(function q(x){return x&&Os(x.canActivateChild)}(br)?br.canActivateChild(D,x):yn.runInContext(()=>br(D,x))).pipe(jn())});return(0,le.of)(At).pipe(Hi())}));return(0,le.of)(ne).pipe(Hi())}(x,U.path,M),function ys(x,S,M){const D=S.routeConfig?S.routeConfig.canActivate:null;if(!D||0===D.length)return(0,le.of)(!0);const U=D.map(ne=>(0,te.v)(()=>{const De=Di(S)??M,At=ts(ne,De);return Yn(function Ns(x){return x&&Os(x.canActivate)}(At)?At.canActivate(S,x):De.runInContext(()=>At(S,x))).pipe(jn())}));return(0,le.of)(U).pipe(Hi())}(x,U.route,M))),jn(U=>!0!==U,!0))}(D,ne,x,S):(0,le.of)(At)),(0,wt.T)(At=>({...M,guardsResult:At})))})}(this.environmentInjector,xt=>this.events.next(xt)),(0,Tn.M)(xt=>{if(ne.guardsResult=xt.guardsResult,ct(xt.guardsResult))throw Fo(0,xt.guardsResult);const yn=new mc(xt.id,this.urlSerializer.serialize(xt.extractedUrl),this.urlSerializer.serialize(xt.urlAfterRedirects),xt.targetSnapshot,!!xt.guardsResult);this.events.next(yn)}),(0,Ge.p)(xt=>!!xt.guardsResult||(this.cancelNavigationTransition(xt,"",3),!1)),Qa(xt=>{if(xt.guards.canActivateChecks.length)return(0,le.of)(xt).pipe((0,Tn.M)(yn=>{const br=new yc(yn.id,this.urlSerializer.serialize(yn.extractedUrl),this.urlSerializer.serialize(yn.urlAfterRedirects),yn.targetSnapshot);this.events.next(br)}),(0,fn.n)(yn=>{let br=!1;return(0,le.of)(yn).pipe(function Lu(x,S){return(0,je.Z)(M=>{const{targetSnapshot:D,guards:{canActivateChecks:U}}=M;if(!U.length)return(0,le.of)(M);let ne=0;return(0,ge.H)(U).pipe((0,zt.H)(De=>function ta(x,S,M,D){const U=x.routeConfig,ne=x._resolve;return void 0!==U?.title&&!Ta(U)&&(ne[pt]=U.title),function pr(x,S,M,D){const U=function ga(x){return[...Object.keys(x),...Object.getOwnPropertySymbols(x)]}(x);if(0===U.length)return(0,le.of)({});const ne={};return(0,ge.H)(U).pipe((0,je.Z)(De=>function _c(x,S,M,D){const U=Di(S)??D,ne=ts(x,U);return Yn(ne.resolve?ne.resolve(S,M):U.runInContext(()=>ne(S,M)))}(x[De],S,M,D).pipe(jn(),(0,Tn.M)(At=>{ne[De]=At}))),Qt(1),(0,Yt.u)(ne),(0,rn.W)(De=>En(De)?Ue.w:(0,Pe.$)(De)))}(ne,x,S,D).pipe((0,wt.T)(De=>(x._resolvedData=De,x.data=Wr(x,M).resolve,U&&Ta(U)&&(x.data[pt]=U.title),null)))}(De.route,D,x,S)),(0,Tn.M)(()=>ne++),Qt(1),(0,je.Z)(De=>ne===U.length?(0,le.of)(M):Ue.w))})}(M.paramsInheritanceStrategy,this.environmentInjector),(0,Tn.M)({next:()=>br=!0,complete:()=>{br||this.cancelNavigationTransition(yn,"",2)}}))}),(0,Tn.M)(yn=>{const br=new jc(yn.id,this.urlSerializer.serialize(yn.extractedUrl),this.urlSerializer.serialize(yn.urlAfterRedirects),yn.targetSnapshot);this.events.next(br)}))}),Qa(xt=>{const yn=br=>{const li=[];br.routeConfig?.loadComponent&&!br.routeConfig._loadedComponent&&li.push(this.configLoader.loadComponent(br.routeConfig).pipe((0,Tn.M)(Er=>{br.component=Er}),(0,wt.T)(()=>{})));for(const Er of br.children)li.push(...yn(Er));return li};return(0,Re.z)(yn(xt.targetSnapshot.root)).pipe(Tt(),(0,Xt.s)(1))}),Qa(()=>this.afterPreactivation()),(0,wt.T)(xt=>{const yn=function Ui(x,S,M){const D=_r(x,S._root,M?M._root:void 0);return new $r(D,S)}(M.routeReuseStrategy,xt.targetSnapshot,xt.currentRouterState);return this.currentTransition=ne={...xt,targetRouterState:yn},ne}),(0,Tn.M)(()=>{this.events.next(new ri)}),((x,S,M,D)=>(0,wt.T)(U=>(new Ur(S,U.targetRouterState,U.currentRouterState,M,D).activate(x),U)))(this.rootContexts,M.routeReuseStrategy,xt=>this.events.next(xt),this.inputBindingEnabled),(0,Xt.s)(1),(0,Tn.M)({next:xt=>{De=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new ji(xt.id,this.urlSerializer.serialize(xt.extractedUrl),this.urlSerializer.serialize(xt.urlAfterRedirects))),M.titleStrategy?.updateTitle(xt.targetRouterState.snapshot),xt.resolve(!0)},complete:()=>{De=!0}}),(0,we.Q)(this.transitionAbortSubject.pipe((0,Tn.M)(xt=>{throw xt}))),(0,Le.j)(()=>{De||At||this.cancelNavigationTransition(ne,"",1),this.currentNavigation?.id===ne.id&&(this.currentNavigation=null)}),(0,rn.W)(xt=>{if(At=!0,Tr(xt))this.events.next(new Lr(ne.id,this.urlSerializer.serialize(ne.extractedUrl),xt.message,xt.cancellationCode)),function es(x){return Tr(x)&&ct(x.url)}(xt)?this.events.next(new Rs(xt.url)):ne.resolve(!1);else{this.events.next(new Qi(ne.id,this.urlSerializer.serialize(ne.extractedUrl),xt,ne.targetSnapshot??void 0));try{ne.resolve(M.errorHandler(xt))}catch(yn){ne.reject(yn)}}return Ue.w}))}))}cancelNavigationTransition(M,D,U){const ne=new Lr(M.id,this.urlSerializer.serialize(M.extractedUrl),D,U);this.events.next(ne),M.resolve(!1)}static{this.\u0275fac=function(D){return new(D||x)}}static{this.\u0275prov=f.jDH({token:x,factory:x.\u0275fac,providedIn:"root"})}}return x})();function jt(x){return x!==cr}let An=(()=>{class x{buildTitle(M){let D,U=M.root;for(;void 0!==U;)D=this.getResolvedTitleForRoute(U)??D,U=U.children.find(ne=>ne.outlet===Qe);return D}getResolvedTitleForRoute(M){return M.data[pt]}static{this.\u0275fac=function(D){return new(D||x)}}static{this.\u0275prov=f.jDH({token:x,factory:function(){return(0,f.WQX)(Rn)},providedIn:"root"})}}return x})(),Rn=(()=>{class x extends An{constructor(M){super(),this.title=M}updateTitle(M){const D=this.buildTitle(M);void 0!==D&&this.title.setTitle(D)}static{this.\u0275fac=function(D){return new(D||x)(f.KVO(Lt.hE))}}static{this.\u0275prov=f.jDH({token:x,factory:x.\u0275fac,providedIn:"root"})}}return x})(),qn=(()=>{class x{static{this.\u0275fac=function(D){return new(D||x)}}static{this.\u0275prov=f.jDH({token:x,factory:function(){return(0,f.WQX)(lr)},providedIn:"root"})}}return x})();class yr{shouldDetach(S){return!1}store(S,M){}shouldAttach(S){return!1}retrieve(S){return null}shouldReuseRoute(S,M){return S.routeConfig===M.routeConfig}}let lr=(()=>{class x extends yr{static{this.\u0275fac=function(){let M;return function(U){return(M||(M=f.xGo(x)))(U||x)}}()}static{this.\u0275prov=f.jDH({token:x,factory:x.\u0275fac,providedIn:"root"})}}return x})();const Jr=new f.nKC("",{providedIn:"root",factory:()=>({})});let Gr=(()=>{class x{static{this.\u0275fac=function(D){return new(D||x)}}static{this.\u0275prov=f.jDH({token:x,factory:function(){return(0,f.WQX)(Ji)},providedIn:"root"})}}return x})(),Ji=(()=>{class x{shouldProcessUrl(M){return!0}extract(M){return M}merge(M,D){return M}static{this.\u0275fac=function(D){return new(D||x)}}static{this.\u0275prov=f.jDH({token:x,factory:x.\u0275fac,providedIn:"root"})}}return x})();var Co=function(x){return x[x.COMPLETE=0]="COMPLETE",x[x.FAILED=1]="FAILED",x[x.REDIRECTING=2]="REDIRECTING",x}(Co||{});function wr(x,S){x.events.pipe((0,Ge.p)(M=>M instanceof ji||M instanceof Lr||M instanceof Qi||M instanceof Ai),(0,wt.T)(M=>M instanceof ji||M instanceof Ai?Co.COMPLETE:M instanceof Lr&&(0===M.code||1===M.code)?Co.REDIRECTING:Co.FAILED),(0,Ge.p)(M=>M!==Co.REDIRECTING),(0,Xt.s)(1)).subscribe(()=>{S()})}function is(x){throw x}function Mi(x,S,M){return S.parse("/")}const _s={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},lo={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let yi=(()=>{class x{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,f.WQX)(f.H3F),this.isNgZoneEnabled=!1,this._events=new mt.B,this.options=(0,f.WQX)(Jr,{optional:!0})||{},this.pendingTasks=(0,f.WQX)(f.$K3),this.errorHandler=this.options.errorHandler||is,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Mi,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,f.WQX)(Gr),this.routeReuseStrategy=(0,f.WQX)(qn),this.titleStrategy=(0,f.WQX)(An),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,f.WQX)(A,{optional:!0})?.flat()??[],this.navigationTransitions=(0,f.WQX)(Et),this.urlSerializer=(0,f.WQX)(Dt),this.location=(0,f.WQX)(Ot.aZ),this.componentInputBindingEnabled=!!(0,f.WQX)(Ei,{optional:!0}),this.eventsSubscription=new Pt.yU,this.isNgZoneEnabled=(0,f.WQX)(f.SKi)instanceof f.SKi&&f.SKi.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Fe,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Ir(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(M=>{this.lastSuccessfulId=M.id,this.currentPageId=this.browserPageId},M=>{this.console.warn(`Unhandled Navigation Error: ${M}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const M=this.navigationTransitions.events.subscribe(D=>{try{const{currentTransition:U}=this.navigationTransitions;if(null===U)return void(ii(D)&&this._events.next(D));if(D instanceof Bi)jt(U.source)&&(this.browserUrlTree=U.extractedUrl);else if(D instanceof Ai)this.rawUrlTree=U.rawUrl;else if(D instanceof ds){if("eager"===this.urlUpdateStrategy){if(!U.extras.skipLocationChange){const ne=this.urlHandlingStrategy.merge(U.urlAfterRedirects,U.rawUrl);this.setBrowserUrl(ne,U)}this.browserUrlTree=U.urlAfterRedirects}}else if(D instanceof ri)this.currentUrlTree=U.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(U.urlAfterRedirects,U.rawUrl),this.routerState=U.targetRouterState,"deferred"===this.urlUpdateStrategy&&(U.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,U),this.browserUrlTree=U.urlAfterRedirects);else if(D instanceof Lr)0!==D.code&&1!==D.code&&(this.navigated=!0),(3===D.code||2===D.code)&&this.restoreHistory(U);else if(D instanceof Rs){const ne=this.urlHandlingStrategy.merge(D.url,U.currentRawUrl),De={skipLocationChange:U.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||jt(U.source)};this.scheduleNavigation(ne,cr,null,De,{resolve:U.resolve,reject:U.reject,promise:U.promise})}D instanceof Qi&&this.restoreHistory(U,!0),D instanceof ji&&(this.navigated=!0),ii(D)&&this._events.next(D)}catch(U){this.navigationTransitions.transitionAbortSubject.next(U)}});this.eventsSubscription.add(M)}resetRootComponentType(M){this.routerState.root.component=M,this.navigationTransitions.rootComponentType=M}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const M=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),cr,M)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(M=>{const D="popstate"===M.type?"popstate":"hashchange";"popstate"===D&&setTimeout(()=>{this.navigateToSyncWithBrowser(M.url,D,M.state)},0)}))}navigateToSyncWithBrowser(M,D,U){const ne={replaceUrl:!0},De=U?.navigationId?U:null;if(U){const xt={...U};delete xt.navigationId,delete xt.\u0275routerPageId,0!==Object.keys(xt).length&&(ne.state=xt)}const At=this.parseUrl(M);this.scheduleNavigation(At,D,De,ne)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(M){this.config=M.map(ha),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(M,D={}){const{relativeTo:U,queryParams:ne,fragment:De,queryParamsHandling:At,preserveFragment:xt}=D,yn=xt?this.currentUrlTree.fragment:De;let li,br=null;switch(At){case"merge":br={...this.currentUrlTree.queryParams,...ne};break;case"preserve":br=this.currentUrlTree.queryParams;break;default:br=ne||null}null!==br&&(br=this.removeEmptyProps(br));try{li=Ie(U?U.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof M[0]||!M[0].startsWith("/"))&&(M=[]),li=this.currentUrlTree.root}return Me(li,M,br,yn??null)}navigateByUrl(M,D={skipLocationChange:!1}){const U=ct(M)?M:this.parseUrl(M),ne=this.urlHandlingStrategy.merge(U,this.rawUrlTree);return this.scheduleNavigation(ne,cr,null,D)}navigate(M,D={skipLocationChange:!1}){return function hl(x){for(let S=0;S<x.length;S++)if(null==x[S])throw new f.wOt(4008,!1)}(M),this.navigateByUrl(this.createUrlTree(M,D),D)}serializeUrl(M){return this.urlSerializer.serialize(M)}parseUrl(M){let D;try{D=this.urlSerializer.parse(M)}catch(U){D=this.malformedUriErrorHandler(U,this.urlSerializer,M)}return D}isActive(M,D){let U;if(U=!0===D?{..._s}:!1===D?{...lo}:D,ct(M))return Bt(this.currentUrlTree,M,U);const ne=this.parseUrl(M);return Bt(this.currentUrlTree,ne,U)}removeEmptyProps(M){return Object.keys(M).reduce((D,U)=>{const ne=M[U];return null!=ne&&(D[U]=ne),D},{})}scheduleNavigation(M,D,U,ne,De){if(this.disposed)return Promise.resolve(!1);let At,xt,yn;De?(At=De.resolve,xt=De.reject,yn=De.promise):yn=new Promise((li,Er)=>{At=li,xt=Er});const br=this.pendingTasks.add();return wr(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(br))}),this.navigationTransitions.handleNavigationRequest({source:D,restoredState:U,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:M,extras:ne,resolve:At,reject:xt,promise:yn,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),yn.catch(li=>Promise.reject(li))}setBrowserUrl(M,D){const U=this.urlSerializer.serialize(M);if(this.location.isCurrentPathEqualTo(U)||D.extras.replaceUrl){const De={...D.extras.state,...this.generateNgRouterState(D.id,this.browserPageId)};this.location.replaceState(U,"",De)}else{const ne={...D.extras.state,...this.generateNgRouterState(D.id,this.browserPageId+1)};this.location.go(U,"",ne)}}restoreHistory(M,D=!1){if("computed"===this.canceledNavigationResolution){const ne=this.currentPageId-this.browserPageId;0!==ne?this.location.historyGo(ne):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===ne&&(this.resetState(M),this.browserUrlTree=M.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(D&&this.resetState(M),this.resetUrlToCurrentUrlTree())}resetState(M){this.routerState=M.currentRouterState,this.currentUrlTree=M.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,M.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(M,D){return"computed"===this.canceledNavigationResolution?{navigationId:M,\u0275routerPageId:D}:{navigationId:M}}static{this.\u0275fac=function(D){return new(D||x)}}static{this.\u0275prov=f.jDH({token:x,factory:x.\u0275fac,providedIn:"root"})}}return x})();function ii(x){return!(x instanceof ri||x instanceof Rs)}let Bs=(()=>{class x{constructor(M,D,U,ne,De,At){this.router=M,this.route=D,this.tabIndexAttribute=U,this.renderer=ne,this.el=De,this.locationStrategy=At,this.href=null,this.commands=null,this.onChanges=new mt.B,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const xt=De.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===xt||"area"===xt,this.isAnchorElement?this.subscription=M.events.subscribe(yn=>{yn instanceof ji&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(M){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",M)}ngOnChanges(M){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(M){null!=M?(this.commands=Array.isArray(M)?M:[M],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(M,D,U,ne,De){return!!(null===this.urlTree||this.isAnchorElement&&(0!==M||D||U||ne||De||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const M=null===this.href?null:(0,f.n$t)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",M)}applyAttributeValue(M,D){const U=this.renderer,ne=this.el.nativeElement;null!==D?U.setAttribute(ne,M,D):U.removeAttribute(ne,M)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(D){return new(D||x)(f.rXU(yi),f.rXU(_i),f.kS0("tabindex"),f.rXU(f.sFG),f.rXU(f.aKT),f.rXU(Ot.hb))}}static{this.\u0275dir=f.FsC({type:x,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(D,U){1&D&&f.bIt("click",function(De){return U.onClick(De.button,De.ctrlKey,De.shiftKey,De.altKey,De.metaKey)}),2&D&&f.BMQ("target",U.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",f.L39],skipLocationChange:["skipLocationChange","skipLocationChange",f.L39],replaceUrl:["replaceUrl","replaceUrl",f.L39],routerLink:"routerLink"},standalone:!0,features:[f.GFd,f.OA$]})}}return x})(),os=(()=>{class x{get isActive(){return this._isActive}constructor(M,D,U,ne,De){this.router=M,this.element=D,this.renderer=U,this.cdr=ne,this.link=De,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new f.bkB,this.routerEventsSubscription=M.events.subscribe(At=>{At instanceof ji&&this.update()})}ngAfterContentInit(){(0,le.of)(this.links.changes,(0,le.of)(null)).pipe((0,lt.U)()).subscribe(M=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const M=[...this.links.toArray(),this.link].filter(D=>!!D).map(D=>D.onChanges);this.linkInputChangesSubscription=(0,ge.H)(M).pipe((0,lt.U)()).subscribe(D=>{this._isActive!==this.isLinkActive(this.router)(D)&&this.update()})}set routerLinkActive(M){const D=Array.isArray(M)?M:M.split(" ");this.classes=D.filter(U=>!!U)}ngOnChanges(M){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{const M=this.hasActiveLinks();this._isActive!==M&&(this._isActive=M,this.cdr.markForCheck(),this.classes.forEach(D=>{M?this.renderer.addClass(this.element.nativeElement,D):this.renderer.removeClass(this.element.nativeElement,D)}),M&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(M))})}isLinkActive(M){const D=function Ao(x){return!!x.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return U=>!!U.urlTree&&M.isActive(U.urlTree,D)}hasActiveLinks(){const M=this.isLinkActive(this.router);return this.link&&M(this.link)||this.links.some(M)}static{this.\u0275fac=function(D){return new(D||x)(f.rXU(yi),f.rXU(f.aKT),f.rXU(f.sFG),f.rXU(f.gRc),f.rXU(Bs,8))}}static{this.\u0275dir=f.FsC({type:x,selectors:[["","routerLinkActive",""]],contentQueries:function(D,U,ne){if(1&D&&f.wni(ne,Bs,5),2&D){let De;f.mGM(De=f.lsd())&&(U.links=De)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[f.OA$]})}}return x})();class pl{}let eo=(()=>{class x{constructor(M,D,U,ne,De){this.router=M,this.injector=U,this.preloadingStrategy=ne,this.loader=De}setUpPreloading(){this.subscription=this.router.events.pipe((0,Ge.p)(M=>M instanceof ji),(0,zt.H)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(M,D){const U=[];for(const ne of D){ne.providers&&!ne._injector&&(ne._injector=(0,f.Ol2)(ne.providers,M,`Route: ${ne.path}`));const De=ne._injector??M,At=ne._loadedInjector??De;(ne.loadChildren&&!ne._loadedRoutes&&void 0===ne.canLoad||ne.loadComponent&&!ne._loadedComponent)&&U.push(this.preloadConfig(De,ne)),(ne.children||ne._loadedRoutes)&&U.push(this.processRoutes(At,ne.children??ne._loadedRoutes))}return(0,ge.H)(U).pipe((0,lt.U)())}preloadConfig(M,D){return this.preloadingStrategy.preload(D,()=>{let U;U=D.loadChildren&&void 0===D.canLoad?this.loader.loadChildren(M,D):(0,le.of)(null);const ne=U.pipe((0,je.Z)(De=>null===De?(0,le.of)(void 0):(D._loadedRoutes=De.routes,D._loadedInjector=De.injector,this.processRoutes(De.injector??M,De.routes))));if(D.loadComponent&&!D._loadedComponent){const De=this.loader.loadComponent(D);return(0,ge.H)([ne,De]).pipe((0,lt.U)())}return ne})}static{this.\u0275fac=function(D){return new(D||x)(f.KVO(yi),f.KVO(f.Ql9),f.KVO(f.uvJ),f.KVO(pl),f.KVO(X))}}static{this.\u0275prov=f.jDH({token:x,factory:x.\u0275fac,providedIn:"root"})}}return x})();const uo=new f.nKC("");let fl=(()=>{class x{constructor(M,D,U,ne,De={}){this.urlSerializer=M,this.transitions=D,this.viewportScroller=U,this.zone=ne,this.options=De,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},De.scrollPositionRestoration=De.scrollPositionRestoration||"disabled",De.anchorScrolling=De.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(M=>{M instanceof Bi?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=M.navigationTrigger,this.restoredId=M.restoredState?M.restoredState.navigationId:0):M instanceof ji?(this.lastId=M.id,this.scheduleScrollEvent(M,this.urlSerializer.parse(M.urlAfterRedirects).fragment)):M instanceof Ai&&0===M.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(M,this.urlSerializer.parse(M.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(M=>{M instanceof $o&&(M.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(M.position):M.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(M.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(M,D){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new $o(M,"popstate"===this.lastSource?this.store[this.restoredId]:null,D))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(D){f.QTQ()}}static{this.\u0275prov=f.jDH({token:x,factory:x.\u0275fac})}}return x})();function ra(x,S){return{\u0275kind:x,\u0275providers:S}}function Za(){const x=(0,f.WQX)(f.zZn);return S=>{const M=x.get(f.o8S);if(S!==M.components[0])return;const D=x.get(yi),U=x.get($n);1===x.get(ss)&&D.initialNavigation(),x.get(va,null,f.$GK.Optional)?.setUpPreloading(),x.get(uo,null,f.$GK.Optional)?.init(),D.resetRootComponentType(M.componentTypes[0]),U.closed||(U.next(),U.complete(),U.unsubscribe())}}const $n=new f.nKC("",{factory:()=>new mt.B}),ss=new f.nKC("",{providedIn:"root",factory:()=>1}),va=new f.nKC("");function bs(x){return ra(0,[{provide:va,useExisting:eo},{provide:pl,useExisting:x}])}const zu=new f.nKC("ROUTER_FORROOT_GUARD"),Gt=[Ot.aZ,{provide:Dt,useClass:Kn},yi,Go,{provide:_i,useFactory:function na(x){return x.routerState.root},deps:[yi]},X,[]];function jr(){return new f.NEm("Router",yi)}let yl=(()=>{class x{constructor(M){}static forRoot(M,D){return{ngModule:x,providers:[Gt,[],{provide:A,multi:!0,useValue:M},{provide:zu,useFactory:Sa,deps:[[yi,new f.Xx1,new f.kdw]]},{provide:Jr,useValue:D||{}},D?.useHash?{provide:Ot.hb,useClass:Ot.fw}:{provide:Ot.hb,useClass:Ot.Sm},{provide:uo,useFactory:()=>{const x=(0,f.WQX)(Ot.Xr),S=(0,f.WQX)(f.SKi),M=(0,f.WQX)(Jr),D=(0,f.WQX)(Et),U=(0,f.WQX)(Dt);return M.scrollOffset&&x.setOffset(M.scrollOffset),new fl(U,D,x,S,M)}},D?.preloadingStrategy?bs(D.preloadingStrategy).\u0275providers:[],{provide:f.NEm,multi:!0,useFactory:jr},D?.initialNavigation?zr(D):[],D?.bindToComponentInputs?ra(8,[bi,{provide:Ei,useExisting:bi}]).\u0275providers:[],[{provide:Xa,useFactory:Za},{provide:f.iLQ,multi:!0,useExisting:Xa}]]}}static forChild(M){return{ngModule:x,providers:[{provide:A,multi:!0,useValue:M}]}}static{this.\u0275fac=function(D){return new(D||x)(f.KVO(zu,8))}}static{this.\u0275mod=f.$C({type:x})}static{this.\u0275inj=f.G2t({})}}return x})();function Sa(x){return"guarded"}function zr(x){return["disabled"===x.initialNavigation?ra(3,[{provide:f.hnV,multi:!0,useFactory:()=>{const S=(0,f.WQX)(yi);return()=>{S.setUpLocationChangeListener()}}},{provide:ss,useValue:2}]).\u0275providers:[],"enabledBlocking"===x.initialNavigation?ra(2,[{provide:ss,useValue:0},{provide:f.hnV,multi:!0,deps:[f.zZn],useFactory:S=>{const M=S.get(Ot.hj,Promise.resolve());return()=>M.then(()=>new Promise(D=>{const U=S.get(yi),ne=S.get($n);wr(U,()=>{D(!0)}),S.get(Et).afterPreactivation=()=>(D(!0),ne.closed?(0,le.of)(void 0):ne),U.initialNavigation()}))}}]).\u0275providers:[]]}const Xa=new f.nKC("")},7852:(an,tt,L)=>{L.d(tt,{MF:()=>Zr,j6:()=>Kn,xZ:()=>Ar,om:()=>Dt,Us:()=>on,Sx:()=>ar,Dk:()=>hi,Wp:()=>di,KO:()=>P});var f=L(467),G=L(1362),ge=L(8041),le=L(1076);const re=(kt,Ye)=>Ye.some(Vt=>kt instanceof Vt);let Re,Oe;const te=new WeakMap,de=new WeakMap,Pe=new WeakMap,Ue=new WeakMap,ue=new WeakMap;let Ot={get(kt,Ye,Vt){if(kt instanceof IDBTransaction){if("done"===Ye)return de.get(kt);if("objectStoreNames"===Ye)return kt.objectStoreNames||Pe.get(kt);if("store"===Ye)return Vt.objectStoreNames[1]?void 0:Vt.objectStore(Vt.objectStoreNames[0])}return ke(kt[Ye])},set:(kt,Ye,Vt)=>(kt[Ye]=Vt,!0),has:(kt,Ye)=>kt instanceof IDBTransaction&&("done"===Ye||"store"===Ye)||Ye in kt};function Xt(kt){return"function"==typeof kt?function fn(kt){return kt!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function fe(){return Oe||(Oe=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(kt)?function(...Ye){return kt.apply(Ge(this),Ye),ke(te.get(this))}:function(...Ye){return ke(kt.apply(Ge(this),Ye))}:function(Ye,...Vt){const tn=kt.call(Ge(this),Ye,...Vt);return Pe.set(tn,Ye.sort?Ye.sort():[Ye]),ke(tn)}}(kt):(kt instanceof IDBTransaction&&function Pt(kt){if(de.has(kt))return;const Ye=new Promise((Vt,tn)=>{const In=()=>{kt.removeEventListener("complete",mn),kt.removeEventListener("error",kn),kt.removeEventListener("abort",kn)},mn=()=>{Vt(),In()},kn=()=>{tn(kt.error||new DOMException("AbortError","AbortError")),In()};kt.addEventListener("complete",mn),kt.addEventListener("error",kn),kt.addEventListener("abort",kn)});de.set(kt,Ye)}(kt),re(kt,function he(){return Re||(Re=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(kt,Ot):kt)}function ke(kt){if(kt instanceof IDBRequest)return function mt(kt){const Ye=new Promise((Vt,tn)=>{const In=()=>{kt.removeEventListener("success",mn),kt.removeEventListener("error",kn)},mn=()=>{Vt(ke(kt.result)),In()},kn=()=>{tn(kt.error),In()};kt.addEventListener("success",mn),kt.addEventListener("error",kn)});return Ye.then(Vt=>{Vt instanceof IDBCursor&&te.set(Vt,kt)}).catch(()=>{}),ue.set(Ye,kt),Ye}(kt);if(Ue.has(kt))return Ue.get(kt);const Ye=Xt(kt);return Ye!==kt&&(Ue.set(kt,Ye),ue.set(Ye,kt)),Ye}const Ge=kt=>ue.get(kt),_t=["get","getKey","getAll","getAllKeys","count"],Tt=["put","add","delete","clear"],hn=new Map;function gn(kt,Ye){if(!(kt instanceof IDBDatabase)||Ye in kt||"string"!=typeof Ye)return;if(hn.get(Ye))return hn.get(Ye);const Vt=Ye.replace(/FromIndex$/,""),tn=Ye!==Vt,In=Tt.includes(Vt);if(!(Vt in(tn?IDBIndex:IDBObjectStore).prototype)||!In&&!_t.includes(Vt))return;const mn=function(){var kn=(0,f.A)(function*(vr,...Rr){const cr=this.transaction(vr,In?"readwrite":"readonly");let Mr=cr.store;return tn&&(Mr=Mr.index(Rr.shift())),(yield Promise.all([Mr[Vt](...Rr),In&&cr.done]))[0]});return function(Rr){return kn.apply(this,arguments)}}();return hn.set(Ye,mn),mn}!function wt(kt){Ot=kt(Ot)}(kt=>({...kt,get:(Ye,Vt,tn)=>gn(Ye,Vt)||kt.get(Ye,Vt,tn),has:(Ye,Vt)=>!!gn(Ye,Vt)||kt.has(Ye,Vt)}));class _n{constructor(Ye){this.container=Ye}getPlatformInfoString(){return this.container.getProviders().map(Vt=>{if(function jn(kt){const Ye=kt.getComponent();return"VERSION"===Ye?.type}(Vt)){const tn=Vt.getImmediate();return`${tn.library}/${tn.version}`}return null}).filter(Vt=>Vt).join(" ")}}const zt="@firebase/app",Tn="0.10.13",rn=new ge.Vy("@firebase/app"),nt="[DEFAULT]",Fe={[zt]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/data-connect":"fire-data-connect","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","@firebase/vertexai-preview":"fire-vertex","fire-js":"fire-js",firebase:"fire-js-all"},Ae=new Map,st=new Map,it=new Map;function ut(kt,Ye){try{kt.container.addComponent(Ye)}catch(Vt){rn.debug(`Component ${Ye.name} failed to register with FirebaseApp ${kt.name}`,Vt)}}function Dt(kt){const Ye=kt.name;if(it.has(Ye))return rn.debug(`There were multiple attempts to register component ${Ye}.`),!1;it.set(Ye,kt);for(const Vt of Ae.values())ut(Vt,kt);for(const Vt of st.values())ut(Vt,kt);return!0}function Kn(kt,Ye){const Vt=kt.container.getProvider("heartbeat").getImmediate({optional:!0});return Vt&&Vt.triggerHeartbeat(),kt.container.getProvider(Ye)}function on(kt,Ye,Vt=nt){Kn(kt,Ye).clearInstance(Vt)}function Ar(kt){return void 0!==kt.settings}const er=new le.FA("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class fr{constructor(Ye,Vt,tn){this._isDeleted=!1,this._options=Object.assign({},Ye),this._config=Object.assign({},Vt),this._name=Vt.name,this._automaticDataCollectionEnabled=Vt.automaticDataCollectionEnabled,this._container=tn,this.container.addComponent(new G.uA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ye){this.checkDestroyed(),this._automaticDataCollectionEnabled=Ye}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Ye){this._isDeleted=Ye}checkDestroyed(){if(this.isDeleted)throw er.create("app-deleted",{appName:this._name})}}const Zr="10.14.1";function di(kt,Ye={}){let Vt=kt;"object"!=typeof Ye&&(Ye={name:Ye});const tn=Object.assign({name:nt,automaticDataCollectionEnabled:!1},Ye),In=tn.name;if("string"!=typeof In||!In)throw er.create("bad-app-name",{appName:String(In)});if(Vt||(Vt=(0,le.T9)()),!Vt)throw er.create("no-options");const mn=Ae.get(In);if(mn){if((0,le.bD)(Vt,mn.options)&&(0,le.bD)(tn,mn.config))return mn;throw er.create("duplicate-app",{appName:In})}const kn=new G.h1(In);for(const Rr of it.values())kn.addComponent(Rr);const vr=new fr(Vt,tn,kn);return Ae.set(In,vr),vr}function ar(kt=nt){const Ye=Ae.get(kt);if(!Ye&&kt===nt&&(0,le.T9)())return di();if(!Ye)throw er.create("no-app",{appName:kt});return Ye}function hi(){return Array.from(Ae.values())}function P(kt,Ye,Vt){var tn;let In=null!==(tn=Fe[kt])&&void 0!==tn?tn:kt;Vt&&(In+=`-${Vt}`);const mn=In.match(/\s|\//),kn=Ye.match(/\s|\//);if(mn||kn){const vr=[`Unable to register library "${In}" with version "${Ye}":`];return mn&&vr.push(`library name "${In}" contains illegal characters (whitespace or "/")`),mn&&kn&&vr.push("and"),kn&&vr.push(`version name "${Ye}" contains illegal characters (whitespace or "/")`),void rn.warn(vr.join(" "))}Dt(new G.uA(`${In}-version`,()=>({library:In,version:Ye}),"VERSION"))}const ve="firebase-heartbeat-database",xe=1,be="firebase-heartbeat-store";let me=null;function se(){return me||(me=function je(kt,Ye,{blocked:Vt,upgrade:tn,blocking:In,terminated:mn}={}){const kn=indexedDB.open(kt,Ye),vr=ke(kn);return tn&&kn.addEventListener("upgradeneeded",Rr=>{tn(ke(kn.result),Rr.oldVersion,Rr.newVersion,ke(kn.transaction),Rr)}),Vt&&kn.addEventListener("blocked",Rr=>Vt(Rr.oldVersion,Rr.newVersion,Rr)),vr.then(Rr=>{mn&&Rr.addEventListener("close",()=>mn()),In&&Rr.addEventListener("versionchange",cr=>In(cr.oldVersion,cr.newVersion,cr))}).catch(()=>{}),vr}(ve,xe,{upgrade:(kt,Ye)=>{if(0===Ye)try{kt.createObjectStore(be)}catch(Vt){console.warn(Vt)}}}).catch(kt=>{throw er.create("idb-open",{originalErrorMessage:kt.message})})),me}function ct(){return(ct=(0,f.A)(function*(kt){try{const Vt=(yield se()).transaction(be),tn=yield Vt.objectStore(be).get(Me(kt));return yield Vt.done,tn}catch(Ye){if(Ye instanceof le.g)rn.warn(Ye.message);else{const Vt=er.create("idb-get",{originalErrorMessage:Ye?.message});rn.warn(Vt.message)}}})).apply(this,arguments)}function Kt(kt,Ye){return Ie.apply(this,arguments)}function Ie(){return(Ie=(0,f.A)(function*(kt,Ye){try{const tn=(yield se()).transaction(be,"readwrite");yield tn.objectStore(be).put(Ye,Me(kt)),yield tn.done}catch(Vt){if(Vt instanceof le.g)rn.warn(Vt.message);else{const tn=er.create("idb-set",{originalErrorMessage:Vt?.message});rn.warn(tn.message)}}})).apply(this,arguments)}function Me(kt){return`${kt.name}!${kt.options.appId}`}class Ht{constructor(Ye){this.container=Ye,this._heartbeatsCache=null;const Vt=this.container.getProvider("app").getImmediate();this._storage=new zn(Vt),this._heartbeatsCachePromise=this._storage.read().then(tn=>(this._heartbeatsCache=tn,tn))}triggerHeartbeat(){var Ye=this;return(0,f.A)(function*(){var Vt,tn;try{const mn=Ye.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),kn=dn();return null==(null===(Vt=Ye._heartbeatsCache)||void 0===Vt?void 0:Vt.heartbeats)&&(Ye._heartbeatsCache=yield Ye._heartbeatsCachePromise,null==(null===(tn=Ye._heartbeatsCache)||void 0===tn?void 0:tn.heartbeats))||Ye._heartbeatsCache.lastSentHeartbeatDate===kn||Ye._heartbeatsCache.heartbeats.some(vr=>vr.date===kn)?void 0:(Ye._heartbeatsCache.heartbeats.push({date:kn,agent:mn}),Ye._heartbeatsCache.heartbeats=Ye._heartbeatsCache.heartbeats.filter(vr=>{const Rr=new Date(vr.date).valueOf();return Date.now()-Rr<=2592e6}),Ye._storage.overwrite(Ye._heartbeatsCache))}catch(In){rn.warn(In)}})()}getHeartbeatsHeader(){var Ye=this;return(0,f.A)(function*(){var Vt;try{if(null===Ye._heartbeatsCache&&(yield Ye._heartbeatsCachePromise),null==(null===(Vt=Ye._heartbeatsCache)||void 0===Vt?void 0:Vt.heartbeats)||0===Ye._heartbeatsCache.heartbeats.length)return"";const tn=dn(),{heartbeatsToSend:In,unsentEntries:mn}=function sn(kt,Ye=1024){const Vt=[];let tn=kt.slice();for(const In of kt){const mn=Vt.find(kn=>kn.agent===In.agent);if(mn){if(mn.dates.push(In.date),Jt(Vt)>Ye){mn.dates.pop();break}}else if(Vt.push({agent:In.agent,dates:[In.date]}),Jt(Vt)>Ye){Vt.pop();break}tn=tn.slice(1)}return{heartbeatsToSend:Vt,unsentEntries:tn}}(Ye._heartbeatsCache.heartbeats),kn=(0,le.Uj)(JSON.stringify({version:2,heartbeats:In}));return Ye._heartbeatsCache.lastSentHeartbeatDate=tn,mn.length>0?(Ye._heartbeatsCache.heartbeats=mn,yield Ye._storage.overwrite(Ye._heartbeatsCache)):(Ye._heartbeatsCache.heartbeats=[],Ye._storage.overwrite(Ye._heartbeatsCache)),kn}catch(tn){return rn.warn(tn),""}})()}}function dn(){return(new Date).toISOString().substring(0,10)}class zn{constructor(Ye){this.app=Ye,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,f.A)(function*(){return!!(0,le.zW)()&&(0,le.eX)().then(()=>!0).catch(()=>!1)})()}read(){var Ye=this;return(0,f.A)(function*(){if(yield Ye._canUseIndexedDBPromise){const tn=yield function Ce(kt){return ct.apply(this,arguments)}(Ye.app);return tn?.heartbeats?tn:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(Ye){var Vt=this;return(0,f.A)(function*(){var tn;if(yield Vt._canUseIndexedDBPromise){const mn=yield Vt.read();return Kt(Vt.app,{lastSentHeartbeatDate:null!==(tn=Ye.lastSentHeartbeatDate)&&void 0!==tn?tn:mn.lastSentHeartbeatDate,heartbeats:Ye.heartbeats})}})()}add(Ye){var Vt=this;return(0,f.A)(function*(){var tn;if(yield Vt._canUseIndexedDBPromise){const mn=yield Vt.read();return Kt(Vt.app,{lastSentHeartbeatDate:null!==(tn=Ye.lastSentHeartbeatDate)&&void 0!==tn?tn:mn.lastSentHeartbeatDate,heartbeats:[...mn.heartbeats,...Ye.heartbeats]})}})()}}function Jt(kt){return(0,le.Uj)(JSON.stringify({version:2,heartbeats:kt})).length}!function si(kt){Dt(new G.uA("platform-logger",Ye=>new _n(Ye),"PRIVATE")),Dt(new G.uA("heartbeat",Ye=>new Ht(Ye),"PRIVATE")),P(zt,Tn,kt),P(zt,Tn,"esm2017"),P("fire-js","")}("")},1362:(an,tt,L)=>{L.d(tt,{h1:()=>he,uA:()=>ge});var f=L(467),G=L(1076);class ge{constructor(te,de,Pe){this.name=te,this.instanceFactory=de,this.type=Pe,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(te){return this.instantiationMode=te,this}setMultipleInstances(te){return this.multipleInstances=te,this}setServiceProps(te){return this.serviceProps=te,this}setInstanceCreatedCallback(te){return this.onInstanceCreated=te,this}}const le="[DEFAULT]";class re{constructor(te,de){this.name=te,this.container=de,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(te){const de=this.normalizeInstanceIdentifier(te);if(!this.instancesDeferred.has(de)){const Pe=new G.cY;if(this.instancesDeferred.set(de,Pe),this.isInitialized(de)||this.shouldAutoInitialize())try{const Ue=this.getOrInitializeService({instanceIdentifier:de});Ue&&Pe.resolve(Ue)}catch{}}return this.instancesDeferred.get(de).promise}getImmediate(te){var de;const Pe=this.normalizeInstanceIdentifier(te?.identifier),Ue=null!==(de=te?.optional)&&void 0!==de&&de;if(!this.isInitialized(Pe)&&!this.shouldAutoInitialize()){if(Ue)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Pe})}catch(ue){if(Ue)return null;throw ue}}getComponent(){return this.component}setComponent(te){if(te.name!==this.name)throw Error(`Mismatching Component ${te.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=te,this.shouldAutoInitialize()){if(function Oe(fe){return"EAGER"===fe.instantiationMode}(te))try{this.getOrInitializeService({instanceIdentifier:le})}catch{}for(const[de,Pe]of this.instancesDeferred.entries()){const Ue=this.normalizeInstanceIdentifier(de);try{const ue=this.getOrInitializeService({instanceIdentifier:Ue});Pe.resolve(ue)}catch{}}}}clearInstance(te=le){this.instancesDeferred.delete(te),this.instancesOptions.delete(te),this.instances.delete(te)}delete(){var te=this;return(0,f.A)(function*(){const de=Array.from(te.instances.values());yield Promise.all([...de.filter(Pe=>"INTERNAL"in Pe).map(Pe=>Pe.INTERNAL.delete()),...de.filter(Pe=>"_delete"in Pe).map(Pe=>Pe._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(te=le){return this.instances.has(te)}getOptions(te=le){return this.instancesOptions.get(te)||{}}initialize(te={}){const{options:de={}}=te,Pe=this.normalizeInstanceIdentifier(te.instanceIdentifier);if(this.isInitialized(Pe))throw Error(`${this.name}(${Pe}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ue=this.getOrInitializeService({instanceIdentifier:Pe,options:de});for(const[ue,mt]of this.instancesDeferred.entries())Pe===this.normalizeInstanceIdentifier(ue)&&mt.resolve(Ue);return Ue}onInit(te,de){var Pe;const Ue=this.normalizeInstanceIdentifier(de),ue=null!==(Pe=this.onInitCallbacks.get(Ue))&&void 0!==Pe?Pe:new Set;ue.add(te),this.onInitCallbacks.set(Ue,ue);const mt=this.instances.get(Ue);return mt&&te(mt,Ue),()=>{ue.delete(te)}}invokeOnInitCallbacks(te,de){const Pe=this.onInitCallbacks.get(de);if(Pe)for(const Ue of Pe)try{Ue(te,de)}catch{}}getOrInitializeService({instanceIdentifier:te,options:de={}}){let Pe=this.instances.get(te);if(!Pe&&this.component&&(Pe=this.component.instanceFactory(this.container,{instanceIdentifier:(fe=te,fe===le?void 0:fe),options:de}),this.instances.set(te,Pe),this.instancesOptions.set(te,de),this.invokeOnInitCallbacks(Pe,te),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,te,Pe)}catch{}var fe;return Pe||null}normalizeInstanceIdentifier(te=le){return this.component?this.component.multipleInstances?te:le:te}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class he{constructor(te){this.name=te,this.providers=new Map}addComponent(te){const de=this.getProvider(te.name);if(de.isComponentSet())throw new Error(`Component ${te.name} has already been registered with ${this.name}`);de.setComponent(te)}addOrOverwriteComponent(te){this.getProvider(te.name).isComponentSet()&&this.providers.delete(te.name),this.addComponent(te)}getProvider(te){if(this.providers.has(te))return this.providers.get(te);const de=new re(te,this);return this.providers.set(te,de),de}getProviders(){return Array.from(this.providers.values())}}},8041:(an,tt,L)=>{L.d(tt,{$b:()=>G,Vy:()=>Oe});const f=[];var G=function(te){return te[te.DEBUG=0]="DEBUG",te[te.VERBOSE=1]="VERBOSE",te[te.INFO=2]="INFO",te[te.WARN=3]="WARN",te[te.ERROR=4]="ERROR",te[te.SILENT=5]="SILENT",te}(G||{});const ge={debug:G.DEBUG,verbose:G.VERBOSE,info:G.INFO,warn:G.WARN,error:G.ERROR,silent:G.SILENT},le=G.INFO,re={[G.DEBUG]:"log",[G.VERBOSE]:"log",[G.INFO]:"info",[G.WARN]:"warn",[G.ERROR]:"error"},Re=(te,de,...Pe)=>{if(de<te.logLevel)return;const Ue=(new Date).toISOString(),ue=re[de];if(!ue)throw new Error(`Attempted to log a message with an invalid logType (value: ${de})`);console[ue](`[${Ue}]  ${te.name}:`,...Pe)};class Oe{constructor(de){this.name=de,this._logLevel=le,this._logHandler=Re,this._userLogHandler=null,f.push(this)}get logLevel(){return this._logLevel}set logLevel(de){if(!(de in G))throw new TypeError(`Invalid value "${de}" assigned to \`logLevel\``);this._logLevel=de}setLogLevel(de){this._logLevel="string"==typeof de?ge[de]:de}get logHandler(){return this._logHandler}set logHandler(de){if("function"!=typeof de)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=de}get userLogHandler(){return this._userLogHandler}set userLogHandler(de){this._userLogHandler=de}debug(...de){this._userLogHandler&&this._userLogHandler(this,G.DEBUG,...de),this._logHandler(this,G.DEBUG,...de)}log(...de){this._userLogHandler&&this._userLogHandler(this,G.VERBOSE,...de),this._logHandler(this,G.VERBOSE,...de)}info(...de){this._userLogHandler&&this._userLogHandler(this,G.INFO,...de),this._logHandler(this,G.INFO,...de)}warn(...de){this._userLogHandler&&this._userLogHandler(this,G.WARN,...de),this._logHandler(this,G.WARN,...de)}error(...de){this._userLogHandler&&this._userLogHandler(this,G.ERROR,...de),this._logHandler(this,G.ERROR,...de)}}},2214:(an,tt,L)=>{L.d(tt,{Dk:()=>f.Dk,KO:()=>f.KO,Sx:()=>f.Sx,Wp:()=>f.Wp});var f=L(7852);(0,f.KO)("firebase","10.14.1","app")},8516:(an,tt,L)=>{L.d(tt,{CD5:()=>rp,FEq:()=>cb,Fhv:()=>Q4,HxJ:()=>T0,JBW:()=>vk,KJW:()=>R2,R2D:()=>M0,WGl:()=>D3,YDL:()=>pb,aJd:()=>za,bcf:()=>gf,flO:()=>P3,iUU:()=>a1,lPX:()=>Do,nUv:()=>B0,ntg:()=>p_,rjK:()=>Ak,sEC:()=>xi,wB_:()=>ak,zO8:()=>lf,zWC:()=>Gb});var f=L(7705);const G=["*"],xi=[["path",{d:"M17 21a1 1 0 0 0 1-1v-5.35c0-.457.316-.844.727-1.041a4 4 0 0 0-2.134-7.589 5 5 0 0 0-9.186 0 4 4 0 0 0-2.134 7.588c.411.198.727.585.727 1.041V20a1 1 0 0 0 1 1Z",key:"1qvrer"}],["path",{d:"M6 17h12",key:"1jwigz"}]],a1=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],M0=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],T0=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],B0=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],lf=[["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}],["circle",{cx:"18.5",cy:"15.5",r:"2.5",key:"b5zd12"}],["path",{d:"M20.27 17.27 22 19",key:"1l4muz"}]],Do=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],gf=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],za=[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]],rp=[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M8 12h5",key:"1g6qi8"}],["path",{d:"M16 9.5a4 4 0 1 0 0 5.2",key:"b2px4r"}]],ak=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Q4=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M6.376 18.91a6 6 0 0 1 11.249.003",key:"hnjrf2"}],["circle",{cx:"12",cy:"11",r:"4",key:"1gt34v"}]],vk=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],Ak=[["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M12 21v-9",key:"17s77i"}],["path",{d:"M12 8V3",key:"13r4qs"}],["path",{d:"M17 16h4",key:"h1uq16"}],["path",{d:"M19 12V3",key:"o1uvq1"}],["path",{d:"M19 21v-5",key:"qua636"}],["path",{d:"M3 14h4",key:"bcjad9"}],["path",{d:"M5 10V3",key:"cb8scm"}],["path",{d:"M5 21v-7",key:"1w1uti"}]],cb=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],pb=[["path",{d:"M13.172 2a2 2 0 0 1 1.414.586l6.71 6.71a2.4 2.4 0 0 1 0 3.408l-4.592 4.592a2.4 2.4 0 0 1-3.408 0l-6.71-6.71A2 2 0 0 1 6 9.172V3a1 1 0 0 1 1-1z",key:"16rjxf"}],["path",{d:"M2 7v6.172a2 2 0 0 0 .586 1.414l6.71 6.71a2.4 2.4 0 0 0 3.191.193",key:"178nd4"}],["circle",{cx:"10.5",cy:"6.5",r:".5",fill:"currentColor",key:"12ikhr"}]],p_=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],R2=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Gb=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]];var b_={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"};const rw=new f.nKC("LucideIcons",{factory:()=>new iw({})});class iw{constructor(fc){this.icons=fc}getIcon(fc){return this.hasIcon(fc)?this.icons[fc]:null}hasIcon(fc){return"object"==typeof this.icons&&fc in this.icons}}let I3=(()=>{class Mo{constructor(){this.color=b_.stroke,this.size=b_.width,this.strokeWidth=b_["stroke-width"],this.absoluteStrokeWidth=!1}}return Mo.\u0275fac=function(ni){return new(ni||Mo)},Mo.\u0275prov=f.jDH({token:Mo,factory:Mo.\u0275fac,providedIn:"root"}),Mo})();function T3(Mo,fc=3){return parseFloat(Mo.toFixed(fc)).toString(10)}let D3=(()=>{class Mo{constructor(ni,us,cl,sp,ll){this.elem=ni,this.renderer=us,this.changeDetector=cl,this.iconProviders=sp,this.iconConfig=ll,this.absoluteStrokeWidth=!1,this.defaultSize=b_.height}get size(){return this._size??this.iconConfig.size}set size(ni){ni?this._size=this.parseNumber(ni):delete this._size}get strokeWidth(){return this._strokeWidth??this.iconConfig.strokeWidth}set strokeWidth(ni){ni?this._strokeWidth=this.parseNumber(ni):delete this._strokeWidth}ngOnChanges(ni){if(ni.name||ni.img||ni.color||ni.size||ni.absoluteStrokeWidth||ni.strokeWidth||ni.class){this.color=this.color??this.iconConfig.color,this.size=this.parseNumber(this.size??this.iconConfig.size),this.strokeWidth=this.parseNumber(this.strokeWidth??this.iconConfig.strokeWidth),this.absoluteStrokeWidth=this.absoluteStrokeWidth??this.iconConfig.absoluteStrokeWidth;const us=this.img??this.name;if("string"==typeof us){const cl=this.getIcon(this.toPascalCase(us));if(!cl)throw new Error(`The "${us}" icon has not been provided by any available icon providers.`);this.replaceElement(cl)}else{if(!Array.isArray(us))throw new Error("No icon name or image has been provided.");this.replaceElement(us)}}this.changeDetector.markForCheck()}replaceElement(ni){const us={...b_,width:this.size,height:this.size,stroke:this.color??this.iconConfig.color,"stroke-width":this.absoluteStrokeWidth?T3(this.strokeWidth/(this.size/this.defaultSize)):this.strokeWidth.toString(10)},cl=this.createElement(["svg",us,ni]);cl.classList.add("lucide"),"string"==typeof this.name&&cl.classList.add(`lucide-${this.name.replace("_","-")}`),this.class&&cl.classList.add(...this.class.split(/ /).map(ll=>ll.trim()).filter(ll=>ll.length>0));const sp=this.elem.nativeElement.childNodes;for(const ll of sp)this.renderer.removeChild(this.elem.nativeElement,ll);this.renderer.appendChild(this.elem.nativeElement,cl)}toPascalCase(ni){return ni.replace(/(\w)([a-z0-9]*)(_|-|\s*)/g,(us,cl,sp)=>cl.toUpperCase()+sp.toLowerCase())}parseNumber(ni){if("string"==typeof ni){const us=parseInt(ni,10);if(isNaN(us))throw new Error(`${ni} is not numeric.`);return us}return ni}getIcon(ni){for(const us of Array.isArray(this.iconProviders)?this.iconProviders:[this.iconProviders])if(us.hasIcon(ni))return us.getIcon(ni);return null}createElement([ni,us,cl=[]]){const sp=this.renderer.createElement(ni,"http://www.w3.org/2000/svg");return Object.keys(us).forEach(ll=>{const ow="string"==typeof us[ll]?us[ll]:us[ll].toString(10);this.renderer.setAttribute(sp,ll,ow)}),cl.length&&cl.forEach(ll=>{const ow=this.createElement(ll);this.renderer.appendChild(sp,ow)}),sp}}return Mo.\u0275fac=function(ni){return new(ni||Mo)(f.rXU(f.aKT),f.rXU(f.sFG),f.rXU(f.gRc),f.rXU(rw),f.rXU(I3))},Mo.\u0275cmp=f.VBU({type:Mo,selectors:[["lucide-angular"],["lucide-icon"],["i-lucide"],["span-lucide"]],inputs:{class:"class",name:"name",img:"img",color:"color",absoluteStrokeWidth:"absoluteStrokeWidth",size:"size",strokeWidth:"strokeWidth"},features:[f.OA$],ngContentSelectors:G,decls:1,vars:0,template:function(ni,us){1&ni&&(f.NAR(),f.SdG(0))},encapsulation:2}),Mo})();class S3{constructor(fc){this.icons=fc}}const R3=Mo=>new iw(Mo??{});let P3=(()=>{class Mo{static pick(ni){return{ngModule:Mo,providers:[{provide:rw,multi:!0,useValue:new iw(ni)},{provide:rw,multi:!0,useFactory:R3,deps:[[new f.Xx1,S3]]}]}}}return Mo.\u0275fac=function(ni){return new(ni||Mo)},Mo.\u0275mod=f.$C({type:Mo}),Mo.\u0275inj=f.G2t({imports:[[]]}),Mo})()},467:(an,tt,L)=>{function f(ge,le,re,Re,Oe,he,fe){try{var te=ge[he](fe),de=te.value}catch(Pe){return void re(Pe)}te.done?le(de):Promise.resolve(de).then(Re,Oe)}function G(ge){return function(){var le=this,re=arguments;return new Promise(function(Re,Oe){var he=ge.apply(le,re);function fe(de){f(he,Re,Oe,fe,te,"next",de)}function te(de){f(he,Re,Oe,fe,te,"throw",de)}fe(void 0)})}}L.d(tt,{A:()=>G})},1635:(an,tt,L)=>{function le(Le,Xe){var we={};for(var lt in Le)Object.prototype.hasOwnProperty.call(Le,lt)&&Xe.indexOf(lt)<0&&(we[lt]=Le[lt]);if(null!=Le&&"function"==typeof Object.getOwnPropertySymbols){var Lt=0;for(lt=Object.getOwnPropertySymbols(Le);Lt<lt.length;Lt++)Xe.indexOf(lt[Lt])<0&&Object.prototype.propertyIsEnumerable.call(Le,lt[Lt])&&(we[lt[Lt]]=Le[lt[Lt]])}return we}function Pe(Le,Xe,we,lt){return new(we||(we=Promise))(function(Qe,pt){function Ft(We){try{vt(lt.next(We))}catch(dt){pt(dt)}}function Hn(We){try{vt(lt.throw(We))}catch(dt){pt(dt)}}function vt(We){We.done?Qe(We.value):function Lt(Qe){return Qe instanceof we?Qe:new we(function(pt){pt(Qe)})}(We.value).then(Ft,Hn)}vt((lt=lt.apply(Le,Xe||[])).next())})}function ke(Le){return this instanceof ke?(this.v=Le,this):new ke(Le)}function Ge(Le,Xe,we){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Lt,lt=we.apply(Le,Xe||[]),Qe=[];return Lt=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),Ft("next"),Ft("throw"),Ft("return",function pt(Sn){return function(Yn){return Promise.resolve(Yn).then(Sn,dt)}}),Lt[Symbol.asyncIterator]=function(){return this},Lt;function Ft(Sn,Yn){lt[Sn]&&(Lt[Sn]=function(Vr){return new Promise(function(kr,Bt){Qe.push([Sn,Vr,kr,Bt])>1||Hn(Sn,Vr)})},Yn&&(Lt[Sn]=Yn(Lt[Sn])))}function Hn(Sn,Yn){try{!function vt(Sn){Sn.value instanceof ke?Promise.resolve(Sn.value.v).then(We,dt):Xn(Qe[0][2],Sn)}(lt[Sn](Yn))}catch(Vr){Xn(Qe[0][3],Vr)}}function We(Sn){Hn("next",Sn)}function dt(Sn){Hn("throw",Sn)}function Xn(Sn,Yn){Sn(Yn),Qe.shift(),Qe.length&&Hn(Qe[0][0],Qe[0][1])}}function $e(Le){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var we,Xe=Le[Symbol.asyncIterator];return Xe?Xe.call(Le):(Le=function Pt(Le){var Xe="function"==typeof Symbol&&Symbol.iterator,we=Xe&&Le[Xe],lt=0;if(we)return we.call(Le);if(Le&&"number"==typeof Le.length)return{next:function(){return Le&&lt>=Le.length&&(Le=void 0),{value:Le&&Le[lt++],done:!Le}}};throw new TypeError(Xe?"Object is not iterable.":"Symbol.iterator is not defined.")}(Le),we={},lt("next"),lt("throw"),lt("return"),we[Symbol.asyncIterator]=function(){return this},we);function lt(Qe){we[Qe]=Le[Qe]&&function(pt){return new Promise(function(Ft,Hn){!function Lt(Qe,pt,Ft,Hn){Promise.resolve(Hn).then(function(vt){Qe({value:vt,done:Ft})},pt)}(Ft,Hn,(pt=Le[Qe](pt)).done,pt.value)})}}}L.d(tt,{AQ:()=>Ge,N3:()=>ke,Tt:()=>le,sH:()=>Pe,xN:()=>$e}),"function"==typeof SuppressedError&&SuppressedError}},an=>{an(an.s=94)}]);