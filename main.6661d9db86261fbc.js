"use strict";(self.webpackChunkrigel=self.webpackChunkrigel||[]).push([[792],{1076:(nn,Je,F)=>{F.d(Je,{Am:()=>Ye,FA:()=>yt,Fy:()=>Qe,Ku:()=>pe,T9:()=>be,Uj:()=>Ie,XA:()=>We,ZQ:()=>ft,bD:()=>Ce,c1:()=>Ln,cY:()=>je,eX:()=>ke,g:()=>Tt,jZ:()=>Ct,lV:()=>mt,nr:()=>kt,sr:()=>Bt,tD:()=>Ge,u:()=>ne,yU:()=>Zt,zW:()=>Ue});const he=function(P){const R=[];let U=0;for(let ve=0;ve<P.length;ve++){let Se=P.charCodeAt(ve);Se<128?R[U++]=Se:Se<2048?(R[U++]=Se>>6|192,R[U++]=63&Se|128):55296==(64512&Se)&&ve+1<P.length&&56320==(64512&P.charCodeAt(ve+1))?(Se=65536+((1023&Se)<<10)+(1023&P.charCodeAt(++ve)),R[U++]=Se>>18|240,R[U++]=Se>>12&63|128,R[U++]=Se>>6&63|128,R[U++]=63&Se|128):(R[U++]=Se>>12|224,R[U++]=Se>>6&63|128,R[U++]=63&Se|128)}return R},se={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(P,R){if(!Array.isArray(P))throw Error("encodeByteArray takes an array as a parameter");this.init_();const U=R?this.byteToCharMapWebSafe_:this.byteToCharMap_,ve=[];for(let Se=0;Se<P.length;Se+=3){const Me=P[Se],ye=Se+1<P.length,re=ye?P[Se+1]:0,Te=Se+2<P.length,st=Te?P[Se+2]:0;let we=(15&re)<<2|st>>6,Le=63&st;Te||(Le=64,ye||(we=64)),ve.push(U[Me>>2],U[(3&Me)<<4|re>>4],U[we],U[Le])}return ve.join("")},encodeString(P,R){return this.HAS_NATIVE_SUPPORT&&!R?btoa(P):this.encodeByteArray(he(P),R)},decodeString(P,R){return this.HAS_NATIVE_SUPPORT&&!R?atob(P):function(P){const R=[];let U=0,ve=0;for(;U<P.length;){const Se=P[U++];if(Se<128)R[ve++]=String.fromCharCode(Se);else if(Se>191&&Se<224){const Me=P[U++];R[ve++]=String.fromCharCode((31&Se)<<6|63&Me)}else if(Se>239&&Se<365){const Te=((7&Se)<<18|(63&P[U++])<<12|(63&P[U++])<<6|63&P[U++])-65536;R[ve++]=String.fromCharCode(55296+(Te>>10)),R[ve++]=String.fromCharCode(56320+(1023&Te))}else{const Me=P[U++],ye=P[U++];R[ve++]=String.fromCharCode((15&Se)<<12|(63&Me)<<6|63&ye)}}return R.join("")}(this.decodeStringToByteArray(P,R))},decodeStringToByteArray(P,R){this.init_();const U=R?this.charToByteMapWebSafe_:this.charToByteMap_,ve=[];for(let Se=0;Se<P.length;){const Me=U[P.charAt(Se++)],re=Se<P.length?U[P.charAt(Se)]:0;++Se;const st=Se<P.length?U[P.charAt(Se)]:64;++Se;const Ee=Se<P.length?U[P.charAt(Se)]:64;if(++Se,null==Me||null==re||null==st||null==Ee)throw new Ne;ve.push(Me<<2|re>>4),64!==st&&(ve.push(re<<4&240|st>>2),64!==Ee&&ve.push(st<<6&192|Ee))}return ve},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let P=0;P<this.ENCODED_VALS.length;P++)this.byteToCharMap_[P]=this.ENCODED_VALS.charAt(P),this.charToByteMap_[this.byteToCharMap_[P]]=P,this.byteToCharMapWebSafe_[P]=this.ENCODED_VALS_WEBSAFE.charAt(P),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[P]]=P,P>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(P)]=P,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(P)]=P)}}};class Ne extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ie=function(P){return function(P){const R=he(P);return se.encodeByteArray(R,!0)}(P).replace(/\./g,"")},ne=function(P){try{return se.decodeString(P,!0)}catch(R){console.error("base64Decode failed: ",R)}return null},Lt=()=>{try{return function pt(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const P=process.env.__FIREBASE_DEFAULTS__;return P?JSON.parse(P):void 0})()||(()=>{if(typeof document>"u")return;let P;try{P=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const R=P&&ne(P[1]);return R&&JSON.parse(R)})()}catch(P){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${P}`)}},Zt=P=>{const R=(P=>{var R,U;return null===(U=null===(R=Lt())||void 0===R?void 0:R.emulatorHosts)||void 0===U?void 0:U[P]})(P);if(!R)return;const U=R.lastIndexOf(":");if(U<=0||U+1===R.length)throw new Error(`Invalid host ${R} with no separate hostname and port!`);const ve=parseInt(R.substring(U+1),10);return"["===R[0]?[R.substring(1,U-1),ve]:[R.substring(0,U),ve]},be=()=>{var P;return null===(P=Lt())||void 0===P?void 0:P.config},We=P=>{var R;return null===(R=Lt())||void 0===R?void 0:R[`_${P}`]};class je{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((R,U)=>{this.resolve=R,this.reject=U})}wrapCallback(R){return(U,ve)=>{U?this.reject(U):this.resolve(ve),"function"==typeof R&&(this.promise.catch(()=>{}),1===R.length?R(U):R(U,ve))}}}function Qe(P,R){if(P.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const ve=R||"demo-project",Se=P.iat||0,Me=P.sub||P.user_id;if(!Me)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const ye=Object.assign({iss:`https://securetoken.google.com/${ve}`,aud:ve,iat:Se,exp:Se+3600,auth_time:Se,sub:Me,user_id:Me,firebase:{sign_in_provider:"custom",identities:{}}},P);return[Ie(JSON.stringify({alg:"none",type:"JWT"})),Ie(JSON.stringify(ye)),""].join(".")}function ft(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ct(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ft())}function Ln(){return typeof navigator<"u"&&"Cloudflare-Workers"===navigator.userAgent}function Bt(){const P="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof P&&void 0!==P.id}function mt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function kt(){return!function Yt(){var P;const R=null===(P=Lt())||void 0===P?void 0:P.forceEnvironment;if("node"===R)return!0;if("browser"===R)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ue(){try{return"object"==typeof indexedDB}catch{return!1}}function ke(){return new Promise((P,R)=>{try{let U=!0;const ve="validate-browser-context-for-indexeddb-analytics-module",Se=self.indexedDB.open(ve);Se.onsuccess=()=>{Se.result.close(),U||self.indexedDB.deleteDatabase(ve),P(!0)},Se.onupgradeneeded=()=>{U=!1},Se.onerror=()=>{var Me;R((null===(Me=Se.error)||void 0===Me?void 0:Me.message)||"")}}catch(U){R(U)}})}class Tt extends Error{constructor(R,U,ve){super(U),this.code=R,this.customData=ve,this.name="FirebaseError",Object.setPrototypeOf(this,Tt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,yt.prototype.create)}}class yt{constructor(R,U,ve){this.service=R,this.serviceName=U,this.errors=ve}create(R,...U){const ve=U[0]||{},Se=`${this.service}/${R}`,Me=this.errors[R],ye=Me?function Dt(P,R){return P.replace(vn,(U,ve)=>{const Se=R[ve];return null!=Se?String(Se):`<${ve}?>`})}(Me,ve):"Error";return new Tt(Se,`${this.serviceName}: ${ye} (${Se}).`,ve)}}const vn=/\{\$([^}]+)}/g;function Ce(P,R){if(P===R)return!0;const U=Object.keys(P),ve=Object.keys(R);for(const Se of U){if(!ve.includes(Se))return!1;const Me=P[Se],ye=R[Se];if(Ae(Me)&&Ae(ye)){if(!Ce(Me,ye))return!1}else if(Me!==ye)return!1}for(const Se of ve)if(!U.includes(Se))return!1;return!0}function Ae(P){return null!==P&&"object"==typeof P}function Ye(P){const R=[];for(const[U,ve]of Object.entries(P))Array.isArray(ve)?ve.forEach(Se=>{R.push(encodeURIComponent(U)+"="+encodeURIComponent(Se))}):R.push(encodeURIComponent(U)+"="+encodeURIComponent(ve));return R.length?"&"+R.join("&"):""}function Ge(P,R){const U=new ut(P,R);return U.subscribe.bind(U)}class ut{constructor(R,U){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=U,this.task.then(()=>{R(this)}).catch(ve=>{this.error(ve)})}next(R){this.forEachObserver(U=>{U.next(R)})}error(R){this.forEachObserver(U=>{U.error(R)}),this.close(R)}complete(){this.forEachObserver(R=>{R.complete()}),this.close()}subscribe(R,U,ve){let Se;if(void 0===R&&void 0===U&&void 0===ve)throw new Error("Missing Observer.");Se=function zn(P,R){if("object"!=typeof P||null===P)return!1;for(const U of R)if(U in P&&"function"==typeof P[U])return!0;return!1}(R,["next","error","complete"])?R:{next:R,error:U,complete:ve},void 0===Se.next&&(Se.next=qt),void 0===Se.error&&(Se.error=qt),void 0===Se.complete&&(Se.complete=qt);const Me=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?Se.error(this.finalError):Se.complete()}catch{}}),this.observers.push(Se),Me}unsubscribeOne(R){void 0===this.observers||void 0===this.observers[R]||(delete this.observers[R],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(R){if(!this.finalized)for(let U=0;U<this.observers.length;U++)this.sendOne(U,R)}sendOne(R,U){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[R])try{U(this.observers[R])}catch(ve){typeof console<"u"&&console.error&&console.error(ve)}})}close(R){this.finalized||(this.finalized=!0,void 0!==R&&(this.finalError=R),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function qt(){}function pe(P){return P&&P._delegate?P._delegate:P}},6971:(nn,Je,F)=>{F.d(Je,{d:()=>he});var y=F(8498),G=F(7705),_e=F(4441);const he=(ie,se)=>{const Ne=(0,G.WQX)(y.Ix);return!(0,G.WQX)(_e.u).isLoggedIn()||Ne.parseUrl("/private/dashboard")}},4441:(nn,Je,F)=>{F.d(Je,{u:()=>ie});var y=F(467),G=F(2418),_e=F(7705),he=F(8498);let ie=(()=>{class se{constructor(De,Ie){this.router=De,this.firestore=Ie,this._isLoggedIn=null}login(De,Ie){var ne=this;return(0,y.A)(function*(){try{const me=(0,G.rJ)(ne.firestore,"usuarios"),Be=(0,G.P)(me,(0,G._M)("email","==",De),(0,G._M)("password","==",Ie),(0,G._M)("activo","==",!0)),qe=yield(0,G.GG)(Be);if(qe.empty)return console.warn("Credenciales inv\xe1lidas o usuario inactivo"),!1;{const pt=qe.docs[0],_t=pt.data();return yield ne.updateLastAccess(pt.id),ne.saveUserData({id:pt.id,nombre:_t.nombre,email:_t.email,rol:_t.rol,permisos:_t.permisos||[],telefono:_t.telefono||""}),ne.router.navigate(["/private"]),!0}}catch(me){return console.error("Error en login:",me),!1}})()}logout(){this.clearUserData(),this.router.navigate(["/public/sign-in"])}isLoggedIn(){if(null===this._isLoggedIn){const De=localStorage.getItem("userId");this._isLoggedIn=!!De,console.log("AuthService.isLoggedIn() - userId:",De)}return this._isLoggedIn}getCurrentUser(){return this.isLoggedIn()?{id:localStorage.getItem("userId"),nombre:localStorage.getItem("nombre"),email:localStorage.getItem("email"),rol:localStorage.getItem("rol"),permisos:JSON.parse(localStorage.getItem("permisos")||"[]"),telefono:localStorage.getItem("telefono")}:null}hasPermission(De){const Ie=this.getCurrentUser();return!!Ie&&("Administrador"===Ie.rol||Ie.permisos.includes(De))}hasRole(De){return this.getCurrentUser()?.rol===De}updateLastAccess(De){var Ie=this;return(0,y.A)(function*(){try{const ne=(0,G.H9)(Ie.firestore,"usuarios",De);yield(0,G.mZ)(ne,{ultimoAcceso:new Date})}catch(ne){console.error("Error actualizando \xfaltimo acceso:",ne)}})()}saveUserData(De){localStorage.setItem("userId",De.id),localStorage.setItem("nombre",De.nombre),localStorage.setItem("email",De.email),localStorage.setItem("rol",De.rol),localStorage.setItem("permisos",JSON.stringify(De.permisos)),localStorage.setItem("telefono",De.telefono),this._isLoggedIn=!0}clearUserData(){localStorage.removeItem("userId"),localStorage.removeItem("nombre"),localStorage.removeItem("email"),localStorage.removeItem("rol"),localStorage.removeItem("permisos"),localStorage.removeItem("telefono"),this._isLoggedIn=!1}static{this.\u0275fac=function(Ie){return new(Ie||se)(_e.KVO(he.Ix),_e.KVO(G._7))}}static{this.\u0275prov=_e.jDH({token:se,factory:se.\u0275fac,providedIn:"root"})}}return se})()},94:(nn,Je,F)=>{var y=F(345),G=F(7705),_e=F(9417),he=F(8498),ie=F(4441);const De=[{path:"private",canActivate:[(k,u)=>{const f=(0,G.WQX)(he.Ix);return!!(0,G.WQX)(ie.u).isLoggedIn()||f.parseUrl("/public/sign-in")}],loadChildren:()=>F.e(432).then(F.bind(F,2432)).then(k=>k.PrivateModule)},{path:"public",canActivate:[F(6971).d],loadChildren:()=>F.e(719).then(F.bind(F,6719)).then(k=>k.PublicModule)},{path:"",redirectTo:"private",pathMatch:"full"},{path:"**",redirectTo:"public/sign-in"}];let Ie=(()=>{class k{static{this.\u0275fac=function(b){return new(b||k)}}static{this.\u0275mod=G.$C({type:k})}static{this.\u0275inj=G.G2t({imports:[he.iI.forRoot(De),he.iI]})}}return k})(),ne=(()=>{class k{constructor(){this.title="Rigel"}static{this.\u0275fac=function(b){return new(b||k)}}static{this.\u0275cmp=G.VBU({type:k,selectors:[["app-root"]],decls:1,vars:0,template:function(b,N){1&b&&G.nrm(0,"router-outlet")},dependencies:[he.n3]})}}return k})();const me_firebase={apiKey:"AIzaSyCDRmcu80MmOuBfPmRYxfuy-GO1_Ue0-fg",authDomain:"rigel-9d30c.firebaseapp.com",projectId:"rigel-9d30c",storageBucket:"rigel-9d30c.firebasestorage.app",messagingSenderId:"747258352161",appId:"1:747258352161:web:dd77e892dc14b8edad4960"};var Be=F(1626),qe=F(9969);function _t(k){return new G.wOt(3e3,!1)}function cr(k){switch(k.length){case 0:return new qe.sf;case 1:return k[0];default:return new qe.ui(k)}}function lr(k,u,f=new Map,b=new Map){const N=[],W=[];let ae=-1,ge=null;if(u.forEach(ze=>{const ct=ze.get("offset"),$t=ct==ae,cn=$t&&ge||new Map;ze.forEach((Wn,Rn)=>{let Cn=Rn,Bn=Wn;if("offset"!==Rn)switch(Cn=k.normalizePropertyName(Cn,N),Bn){case qe.FX:Bn=f.get(Rn);break;case qe.kp:Bn=b.get(Rn);break;default:Bn=k.normalizeStyleValue(Rn,Cn,Bn,N)}cn.set(Cn,Bn)}),$t||W.push(cn),ge=cn,ae=ct}),N.length)throw function ke(k){return new G.wOt(3502,!1)}();return W}function hn(k,u,f,b){switch(u){case"start":k.onStart(()=>b(f&&Pt(f,"start",k)));break;case"done":k.onDone(()=>b(f&&Pt(f,"done",k)));break;case"destroy":k.onDestroy(()=>b(f&&Pt(f,"destroy",k)))}}function Pt(k,u,f){const W=oe(k.element,k.triggerName,k.fromState,k.toState,u||k.phaseName,f.totalTime??k.totalTime,!!f.disabled),ae=k._data;return null!=ae&&(W._data=ae),W}function oe(k,u,f,b,N="",W=0,ae){return{element:k,triggerName:u,fromState:f,toState:b,phaseName:N,totalTime:W,disabled:!!ae}}function Ce(k,u,f){let b=k.get(u);return b||k.set(u,b=f),b}function Ae(k){const u=k.indexOf(":");return[k.substring(1,u),k.slice(u+1)]}const rt=(()=>typeof document>"u"?null:document.documentElement)();function Ye(k){const u=k.parentNode||k.host||null;return u===rt?null:u}let $e=null,de=!1;function zn(k,u){for(;u;){if(u===k)return!0;u=Ye(u)}return!1}function qt(k,u,f){if(f)return Array.from(k.querySelectorAll(u));const b=k.querySelector(u);return b?[b]:[]}let yn=(()=>{class k{validateStyleProperty(f){return function Ge(k){$e||($e=function Ut(){return typeof document<"u"?document.body:null}()||{},de=!!$e.style&&"WebkitAppearance"in $e.style);let u=!0;return $e.style&&!function it(k){return"ebkit"==k.substring(1,6)}(k)&&(u=k in $e.style,!u&&de&&(u="Webkit"+k.charAt(0).toUpperCase()+k.slice(1)in $e.style)),u}(f)}matchesElement(f,b){return!1}containsElement(f,b){return zn(f,b)}getParentElement(f){return Ye(f)}query(f,b,N){return qt(f,b,N)}computeStyle(f,b,N){return N||""}animate(f,b,N,W,ae,ge=[],ze){return new qe.sf(N,W)}static{this.\u0275fac=function(b){return new(b||k)}}static{this.\u0275prov=G.jDH({token:k,factory:k.\u0275fac})}}return k})(),yi=(()=>{class k{static{this.NOOP=new yn}}return k})();const Wr=1e3,Kn="ng-enter",Or="ng-leave",Xr="ng-trigger",ei=".ng-trigger",et="ng-animating",Lr=".ng-animating";function pr(k){if("number"==typeof k)return k;const u=k.match(/^(-?[\.\d]+)(m?s)/);return!u||u.length<2?0:gi(parseFloat(u[1]),u[2])}function gi(k,u){return"s"===u?k*Wr:k}function St(k,u,f){return k.hasOwnProperty("duration")?k:function pe(k,u,f){let N,W=0,ae="";if("string"==typeof k){const ge=k.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===ge)return u.push(_t()),{duration:0,delay:0,easing:""};N=gi(parseFloat(ge[1]),ge[2]);const ze=ge[3];null!=ze&&(W=gi(parseFloat(ze),ge[4]));const ct=ge[5];ct&&(ae=ct)}else N=k;if(!f){let ge=!1,ze=u.length;N<0&&(u.push(function It(){return new G.wOt(3100,!1)}()),ge=!0),W<0&&(u.push(function Nt(){return new G.wOt(3101,!1)}()),ge=!0),ge&&u.splice(ze,0,_t())}return{duration:N,delay:W,easing:ae}}(k,u,f)}function P(k,u={}){return Object.keys(k).forEach(f=>{u[f]=k[f]}),u}function R(k){const u=new Map;return Object.keys(k).forEach(f=>{u.set(f,k[f])}),u}function Se(k,u=new Map,f){if(f)for(let[b,N]of f)u.set(b,N);for(let[b,N]of k)u.set(b,N);return u}function Me(k,u,f){u.forEach((b,N)=>{const W=At(N);f&&!f.has(N)&&f.set(N,k.style[W]),k.style[W]=b})}function ye(k,u){u.forEach((f,b)=>{const N=At(b);k.style[N]=""})}function re(k){return Array.isArray(k)?1==k.length?k[0]:(0,qe.K2)(k):k}const st=new RegExp("{{\\s*(.+?)\\s*}}","g");function Gt(k){let u=[];if("string"==typeof k){let f;for(;f=st.exec(k);)u.push(f[1]);st.lastIndex=0}return u}function Ee(k,u,f){const b=k.toString(),N=b.replace(st,(W,ae)=>{let ge=u[ae];return null==ge&&(f.push(function dn(k){return new G.wOt(3003,!1)}()),ge=""),ge.toString()});return N==b?k:N}function we(k){const u=[];let f=k.next();for(;!f.done;)u.push(f.value),f=k.next();return u}const Le=/-+([a-z0-9])/g;function At(k){return k.replace(Le,(...u)=>u[1].toUpperCase())}function Un(k,u,f){switch(u.type){case 7:return k.visitTrigger(u,f);case 0:return k.visitState(u,f);case 1:return k.visitTransition(u,f);case 2:return k.visitSequence(u,f);case 3:return k.visitGroup(u,f);case 4:return k.visitAnimate(u,f);case 5:return k.visitKeyframes(u,f);case 6:return k.visitStyle(u,f);case 8:return k.visitReference(u,f);case 9:return k.visitAnimateChild(u,f);case 10:return k.visitAnimateRef(u,f);case 11:return k.visitQuery(u,f);case 12:return k.visitStagger(u,f);default:throw function Zt(k){return new G.wOt(3004,!1)}()}}function pn(k,u){return window.getComputedStyle(k)[u]}const gn="*";function wn(k,u){const f=[];return"string"==typeof k?k.split(/\s*,\s*/).forEach(b=>function vr(k,u,f){if(":"==k[0]){const ze=function Rr(k,u){switch(k){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(f,b)=>parseFloat(b)>parseFloat(f);case":decrement":return(f,b)=>parseFloat(b)<parseFloat(f);default:return u.push(function ln(k){return new G.wOt(3016,!1)}()),"* => *"}}(k,f);if("function"==typeof ze)return void u.push(ze);k=ze}const b=k.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==b||b.length<4)return f.push(function mn(k){return new G.wOt(3015,!1)}()),u;const N=b[1],W=b[2],ae=b[3];u.push(li(N,ae));"<"==W[0]&&!(N==gn&&ae==gn)&&u.push(li(ae,N))}(b,f,u)):f.push(k),f}const fr=new Set(["true","1"]),Fr=new Set(["false","0"]);function li(k,u){const f=fr.has(k)||Fr.has(k),b=fr.has(u)||Fr.has(u);return(N,W)=>{let ae=k==gn||k==N,ge=u==gn||u==W;return!ae&&f&&"boolean"==typeof N&&(ae=N?fr.has(k):Fr.has(k)),!ge&&b&&"boolean"==typeof W&&(ge=W?fr.has(u):Fr.has(u)),ae&&ge}}const br=new RegExp("s*:selfs*,?","g");function Ci(k,u,f,b){return new Po(k).build(u,f,b)}class Po{constructor(u){this._driver=u}build(u,f,b){const N=new Ea(f);return this._resetContextStyleTimingState(N),Un(this,re(u),N)}_resetContextStyleTimingState(u){u.currentQuerySelector="",u.collectedStyles=new Map,u.collectedStyles.set("",new Map),u.currentTime=0}visitTrigger(u,f){let b=f.queryCount=0,N=f.depCount=0;const W=[],ae=[];return"@"==u.name.charAt(0)&&f.errors.push(function We(){return new G.wOt(3006,!1)}()),u.definitions.forEach(ge=>{if(this._resetContextStyleTimingState(f),0==ge.type){const ze=ge,ct=ze.name;ct.toString().split(/\s*,\s*/).forEach($t=>{ze.name=$t,W.push(this.visitState(ze,f))}),ze.name=ct}else if(1==ge.type){const ze=this.visitTransition(ge,f);b+=ze.queryCount,N+=ze.depCount,ae.push(ze)}else f.errors.push(function je(){return new G.wOt(3007,!1)}())}),{type:7,name:u.name,states:W,transitions:ae,queryCount:b,depCount:N,options:null}}visitState(u,f){const b=this.visitStyle(u.styles,f),N=u.options&&u.options.params||null;if(b.containsDynamicStyles){const W=new Set,ae=N||{};b.styles.forEach(ge=>{ge instanceof Map&&ge.forEach(ze=>{Gt(ze).forEach(ct=>{ae.hasOwnProperty(ct)||W.add(ct)})})}),W.size&&(we(W.values()),f.errors.push(function Qe(k,u){return new G.wOt(3008,!1)}()))}return{type:0,name:u.name,style:b,options:N?{params:N}:null}}visitTransition(u,f){f.queryCount=0,f.depCount=0;const b=Un(this,re(u.animation),f);return{type:1,matchers:wn(u.expr,f.errors),animation:b,queryCount:f.queryCount,depCount:f.depCount,options:lo(u.options)}}visitSequence(u,f){return{type:2,steps:u.steps.map(b=>Un(this,b,f)),options:lo(u.options)}}visitGroup(u,f){const b=f.currentTime;let N=0;const W=u.steps.map(ae=>{f.currentTime=b;const ge=Un(this,ae,f);return N=Math.max(N,f.currentTime),ge});return f.currentTime=N,{type:3,steps:W,options:lo(u.options)}}visitAnimate(u,f){const b=function xa(k,u){if(k.hasOwnProperty("duration"))return k;if("number"==typeof k)return sa(St(k,u).duration,0,"");const f=k;if(f.split(/\s+/).some(W=>"{"==W.charAt(0)&&"{"==W.charAt(1))){const W=sa(0,0,"");return W.dynamic=!0,W.strValue=f,W}const N=St(f,u);return sa(N.duration,N.delay,N.easing)}(u.timings,f.errors);f.currentAnimateTimings=b;let N,W=u.styles?u.styles:(0,qe.iF)({});if(5==W.type)N=this.visitKeyframes(W,f);else{let ae=u.styles,ge=!1;if(!ae){ge=!0;const ct={};b.easing&&(ct.easing=b.easing),ae=(0,qe.iF)(ct)}f.currentTime+=b.duration+b.delay;const ze=this.visitStyle(ae,f);ze.isEmptyStep=ge,N=ze}return f.currentAnimateTimings=null,{type:4,timings:b,style:N,options:null}}visitStyle(u,f){const b=this._makeStyleAst(u,f);return this._validateStyleAst(b,f),b}_makeStyleAst(u,f){const b=[],N=Array.isArray(u.styles)?u.styles:[u.styles];for(let ge of N)"string"==typeof ge?ge===qe.kp?b.push(ge):f.errors.push(new G.wOt(3002,!1)):b.push(R(ge));let W=!1,ae=null;return b.forEach(ge=>{if(ge instanceof Map&&(ge.has("easing")&&(ae=ge.get("easing"),ge.delete("easing")),!W))for(let ze of ge.values())if(ze.toString().indexOf("{{")>=0){W=!0;break}}),{type:6,styles:b,easing:ae,offset:u.offset,containsDynamicStyles:W,options:null}}_validateStyleAst(u,f){const b=f.currentAnimateTimings;let N=f.currentTime,W=f.currentTime;b&&W>0&&(W-=b.duration+b.delay),u.styles.forEach(ae=>{"string"!=typeof ae&&ae.forEach((ge,ze)=>{const ct=f.collectedStyles.get(f.currentQuerySelector),$t=ct.get(ze);let cn=!0;$t&&(W!=N&&W>=$t.startTime&&N<=$t.endTime&&(f.errors.push(function Yt(k,u,f,b,N){return new G.wOt(3010,!1)}()),cn=!1),W=$t.startTime),cn&&ct.set(ze,{startTime:W,endTime:N}),f.options&&function Te(k,u,f){const b=u.params||{},N=Gt(k);N.length&&N.forEach(W=>{b.hasOwnProperty(W)||f.push(function Lt(k){return new G.wOt(3001,!1)}())})}(ge,f.options,f.errors)})})}visitKeyframes(u,f){const b={type:5,styles:[],options:null};if(!f.currentAnimateTimings)return f.errors.push(function fn(){return new G.wOt(3011,!1)}()),b;let W=0;const ae=[];let ge=!1,ze=!1,ct=0;const $t=u.steps.map(ni=>{const oi=this._makeStyleAst(ni,f);let Kr=null!=oi.offset?oi.offset:function Oi(k){if("string"==typeof k)return null;let u=null;if(Array.isArray(k))k.forEach(f=>{if(f instanceof Map&&f.has("offset")){const b=f;u=parseFloat(b.get("offset")),b.delete("offset")}});else if(k instanceof Map&&k.has("offset")){const f=k;u=parseFloat(f.get("offset")),f.delete("offset")}return u}(oi.styles),rr=0;return null!=Kr&&(W++,rr=oi.offset=Kr),ze=ze||rr<0||rr>1,ge=ge||rr<ct,ct=rr,ae.push(rr),oi});ze&&f.errors.push(function bn(){return new G.wOt(3012,!1)}()),ge&&f.errors.push(function Ln(){return new G.wOt(3200,!1)}());const cn=u.steps.length;let Wn=0;W>0&&W<cn?f.errors.push(function Bt(){return new G.wOt(3202,!1)}()):0==W&&(Wn=1/(cn-1));const Rn=cn-1,Cn=f.currentTime,Bn=f.currentAnimateTimings,dr=Bn.duration;return $t.forEach((ni,oi)=>{const Kr=Wn>0?oi==Rn?1:Wn*oi:ae[oi],rr=Kr*dr;f.currentTime=Cn+Bn.delay+rr,Bn.duration=rr,this._validateStyleAst(ni,f),ni.offset=Kr,b.styles.push(ni)}),b}visitReference(u,f){return{type:8,animation:Un(this,re(u.animation),f),options:lo(u.options)}}visitAnimateChild(u,f){return f.depCount++,{type:9,options:lo(u.options)}}visitAnimateRef(u,f){return{type:10,animation:this.visitReference(u.animation,f),options:lo(u.options)}}visitQuery(u,f){const b=f.currentQuerySelector,N=u.options||{};f.queryCount++,f.currentQuery=u;const[W,ae]=function ki(k){const u=!!k.split(/\s*,\s*/).find(f=>":self"==f);return u&&(k=k.replace(br,"")),k=k.replace(/@\*/g,ei).replace(/@\w+/g,f=>ei+"-"+f.slice(1)).replace(/:animating/g,Lr),[k,u]}(u.selector);f.currentQuerySelector=b.length?b+" "+W:W,Ce(f.collectedStyles,f.currentQuerySelector,new Map);const ge=Un(this,re(u.animation),f);return f.currentQuery=null,f.currentQuerySelector=b,{type:11,selector:W,limit:N.limit||0,optional:!!N.optional,includeSelf:ae,animation:ge,originalSelector:u.selector,options:lo(u.options)}}visitStagger(u,f){f.currentQuery||f.errors.push(function mt(){return new G.wOt(3013,!1)}());const b="full"===u.timings?{duration:0,delay:0,easing:"full"}:St(u.timings,f.errors,!0);return{type:12,animation:Un(this,re(u.animation),f),timings:b,options:null}}}class Ea{constructor(u){this.errors=u,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function lo(k){return k?(k=P(k)).params&&(k.params=function sc(k){return k?P(k):null}(k.params)):k={},k}function sa(k,u,f){return{duration:k,delay:u,easing:f}}function Us(k,u,f,b,N,W,ae=null,ge=!1){return{type:1,element:k,keyframes:u,preStyleProps:f,postStyleProps:b,duration:N,delay:W,totalTime:N+W,easing:ae,subTimeline:ge}}class Nr{constructor(){this._map=new Map}get(u){return this._map.get(u)||[]}append(u,f){let b=this._map.get(u);b||this._map.set(u,b=[]),b.push(...f)}has(u){return this._map.has(u)}clear(){this._map.clear()}}const Tr=new RegExp(":enter","g"),Ho=new RegExp(":leave","g");function Xi(k,u,f,b,N,W=new Map,ae=new Map,ge,ze,ct=[]){return(new Hs).buildKeyframes(k,u,f,b,N,W,ae,ge,ze,ct)}class Hs{buildKeyframes(u,f,b,N,W,ae,ge,ze,ct,$t=[]){ct=ct||new Nr;const cn=new Br(u,f,ct,N,W,$t,[]);cn.options=ze;const Wn=ze.delay?pr(ze.delay):0;cn.currentTimeline.delayNextStep(Wn),cn.currentTimeline.setStyles([ae],null,cn.errors,ze),Un(this,b,cn);const Rn=cn.timelines.filter(Cn=>Cn.containsAnimation());if(Rn.length&&ge.size){let Cn;for(let Bn=Rn.length-1;Bn>=0;Bn--){const dr=Rn[Bn];if(dr.element===f){Cn=dr;break}}Cn&&!Cn.allowOnlyTimelineStyles()&&Cn.setStyles([ge],null,cn.errors,ze)}return Rn.length?Rn.map(Cn=>Cn.buildKeyframes()):[Us(f,[],[],[],0,Wn,"",!1)]}visitTrigger(u,f){}visitState(u,f){}visitTransition(u,f){}visitAnimateChild(u,f){const b=f.subInstructions.get(f.element);if(b){const N=f.createSubContext(u.options),W=f.currentTimeline.currentTime,ae=this._visitSubInstructions(b,N,N.options);W!=ae&&f.transformIntoNewTimeline(ae)}f.previousNode=u}visitAnimateRef(u,f){const b=f.createSubContext(u.options);b.transformIntoNewTimeline(),this._applyAnimationRefDelays([u.options,u.animation.options],f,b),this.visitReference(u.animation,b),f.transformIntoNewTimeline(b.currentTimeline.currentTime),f.previousNode=u}_applyAnimationRefDelays(u,f,b){for(const N of u){const W=N?.delay;if(W){const ae="number"==typeof W?W:pr(Ee(W,N?.params??{},f.errors));b.delayNextStep(ae)}}}_visitSubInstructions(u,f,b){let W=f.currentTimeline.currentTime;const ae=null!=b.duration?pr(b.duration):null,ge=null!=b.delay?pr(b.delay):null;return 0!==ae&&u.forEach(ze=>{const ct=f.appendInstructionToTimeline(ze,ae,ge);W=Math.max(W,ct.duration+ct.delay)}),W}visitReference(u,f){f.updateOptions(u.options,!0),Un(this,u.animation,f),f.previousNode=u}visitSequence(u,f){const b=f.subContextCount;let N=f;const W=u.options;if(W&&(W.params||W.delay)&&(N=f.createSubContext(W),N.transformIntoNewTimeline(),null!=W.delay)){6==N.previousNode.type&&(N.currentTimeline.snapshotCurrentStyles(),N.previousNode=bs);const ae=pr(W.delay);N.delayNextStep(ae)}u.steps.length&&(u.steps.forEach(ae=>Un(this,ae,N)),N.currentTimeline.applyStylesToKeyframe(),N.subContextCount>b&&N.transformIntoNewTimeline()),f.previousNode=u}visitGroup(u,f){const b=[];let N=f.currentTimeline.currentTime;const W=u.options&&u.options.delay?pr(u.options.delay):0;u.steps.forEach(ae=>{const ge=f.createSubContext(u.options);W&&ge.delayNextStep(W),Un(this,ae,ge),N=Math.max(N,ge.currentTimeline.currentTime),b.push(ge.currentTimeline)}),b.forEach(ae=>f.currentTimeline.mergeTimelineCollectedStyles(ae)),f.transformIntoNewTimeline(N),f.previousNode=u}_visitTiming(u,f){if(u.dynamic){const b=u.strValue;return St(f.params?Ee(b,f.params,f.errors):b,f.errors)}return{duration:u.duration,delay:u.delay,easing:u.easing}}visitAnimate(u,f){const b=f.currentAnimateTimings=this._visitTiming(u.timings,f),N=f.currentTimeline;b.delay&&(f.incrementTime(b.delay),N.snapshotCurrentStyles());const W=u.style;5==W.type?this.visitKeyframes(W,f):(f.incrementTime(b.duration),this.visitStyle(W,f),N.applyStylesToKeyframe()),f.currentAnimateTimings=null,f.previousNode=u}visitStyle(u,f){const b=f.currentTimeline,N=f.currentAnimateTimings;!N&&b.hasCurrentStyleProperties()&&b.forwardFrame();const W=N&&N.easing||u.easing;u.isEmptyStep?b.applyEmptyStep(W):b.setStyles(u.styles,W,f.errors,f.options),f.previousNode=u}visitKeyframes(u,f){const b=f.currentAnimateTimings,N=f.currentTimeline.duration,W=b.duration,ge=f.createSubContext().currentTimeline;ge.easing=b.easing,u.styles.forEach(ze=>{ge.forwardTime((ze.offset||0)*W),ge.setStyles(ze.styles,ze.easing,f.errors,f.options),ge.applyStylesToKeyframe()}),f.currentTimeline.mergeTimelineCollectedStyles(ge),f.transformIntoNewTimeline(N+W),f.previousNode=u}visitQuery(u,f){const b=f.currentTimeline.currentTime,N=u.options||{},W=N.delay?pr(N.delay):0;W&&(6===f.previousNode.type||0==b&&f.currentTimeline.hasCurrentStyleProperties())&&(f.currentTimeline.snapshotCurrentStyles(),f.previousNode=bs);let ae=b;const ge=f.invokeQuery(u.selector,u.originalSelector,u.limit,u.includeSelf,!!N.optional,f.errors);f.currentQueryTotal=ge.length;let ze=null;ge.forEach((ct,$t)=>{f.currentQueryIndex=$t;const cn=f.createSubContext(u.options,ct);W&&cn.delayNextStep(W),ct===f.element&&(ze=cn.currentTimeline),Un(this,u.animation,cn),cn.currentTimeline.applyStylesToKeyframe(),ae=Math.max(ae,cn.currentTimeline.currentTime)}),f.currentQueryIndex=0,f.currentQueryTotal=0,f.transformIntoNewTimeline(ae),ze&&(f.currentTimeline.mergeTimelineCollectedStyles(ze),f.currentTimeline.snapshotCurrentStyles()),f.previousNode=u}visitStagger(u,f){const b=f.parentContext,N=f.currentTimeline,W=u.timings,ae=Math.abs(W.duration),ge=ae*(f.currentQueryTotal-1);let ze=ae*f.currentQueryIndex;switch(W.duration<0?"reverse":W.easing){case"reverse":ze=ge-ze;break;case"full":ze=b.currentStaggerTime}const $t=f.currentTimeline;ze&&$t.delayNextStep(ze);const cn=$t.currentTime;Un(this,u.animation,f),f.previousNode=u,b.currentStaggerTime=N.currentTime-cn+(N.startTime-b.currentTimeline.startTime)}}const bs={};class Br{constructor(u,f,b,N,W,ae,ge,ze){this._driver=u,this.element=f,this.subInstructions=b,this._enterClassName=N,this._leaveClassName=W,this.errors=ae,this.timelines=ge,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=bs,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=ze||new Ms(this._driver,f,0),ge.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(u,f){if(!u)return;const b=u;let N=this.options;null!=b.duration&&(N.duration=pr(b.duration)),null!=b.delay&&(N.delay=pr(b.delay));const W=b.params;if(W){let ae=N.params;ae||(ae=this.options.params={}),Object.keys(W).forEach(ge=>{(!f||!ae.hasOwnProperty(ge))&&(ae[ge]=Ee(W[ge],ae,this.errors))})}}_copyOptions(){const u={};if(this.options){const f=this.options.params;if(f){const b=u.params={};Object.keys(f).forEach(N=>{b[N]=f[N]})}}return u}createSubContext(u=null,f,b){const N=f||this.element,W=new Br(this._driver,N,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(N,b||0));return W.previousNode=this.previousNode,W.currentAnimateTimings=this.currentAnimateTimings,W.options=this._copyOptions(),W.updateOptions(u),W.currentQueryIndex=this.currentQueryIndex,W.currentQueryTotal=this.currentQueryTotal,W.parentContext=this,this.subContextCount++,W}transformIntoNewTimeline(u){return this.previousNode=bs,this.currentTimeline=this.currentTimeline.fork(this.element,u),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(u,f,b){const N={duration:f??u.duration,delay:this.currentTimeline.currentTime+(b??0)+u.delay,easing:""},W=new Yi(this._driver,u.element,u.keyframes,u.preStyleProps,u.postStyleProps,N,u.stretchStartingKeyframe);return this.timelines.push(W),N}incrementTime(u){this.currentTimeline.forwardTime(this.currentTimeline.duration+u)}delayNextStep(u){u>0&&this.currentTimeline.delayNextStep(u)}invokeQuery(u,f,b,N,W,ae){let ge=[];if(N&&ge.push(this.element),u.length>0){u=(u=u.replace(Tr,"."+this._enterClassName)).replace(Ho,"."+this._leaveClassName);let ct=this._driver.query(this.element,u,1!=b);0!==b&&(ct=b<0?ct.slice(ct.length+b,ct.length):ct.slice(0,b)),ge.push(...ct)}return!W&&0==ge.length&&ae.push(function zt(k){return new G.wOt(3014,!1)}()),ge}}class Ms{constructor(u,f,b,N){this._driver=u,this.element=f,this.startTime=b,this._elementTimelineStylesLookup=N,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(f),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(f,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(u){const f=1===this._keyframes.size&&this._pendingStyles.size;this.duration||f?(this.forwardTime(this.currentTime+u),f&&this.snapshotCurrentStyles()):this.startTime+=u}fork(u,f){return this.applyStylesToKeyframe(),new Ms(this._driver,u,f||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(u){this.applyStylesToKeyframe(),this.duration=u,this._loadKeyframe()}_updateStyle(u,f){this._localTimelineStyles.set(u,f),this._globalTimelineStyles.set(u,f),this._styleSummary.set(u,{time:this.currentTime,value:f})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(u){u&&this._previousKeyframe.set("easing",u);for(let[f,b]of this._globalTimelineStyles)this._backFill.set(f,b||qe.kp),this._currentKeyframe.set(f,qe.kp);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(u,f,b,N){f&&this._previousKeyframe.set("easing",f);const W=N&&N.params||{},ae=function Mr(k,u){const f=new Map;let b;return k.forEach(N=>{if("*"===N){b=b||u.keys();for(let W of b)f.set(W,qe.kp)}else Se(N,f)}),f}(u,this._globalTimelineStyles);for(let[ge,ze]of ae){const ct=Ee(ze,W,b);this._pendingStyles.set(ge,ct),this._localTimelineStyles.has(ge)||this._backFill.set(ge,this._globalTimelineStyles.get(ge)??qe.kp),this._updateStyle(ge,ct)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((u,f)=>{this._currentKeyframe.set(f,u)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((u,f)=>{this._currentKeyframe.has(f)||this._currentKeyframe.set(f,u)}))}snapshotCurrentStyles(){for(let[u,f]of this._localTimelineStyles)this._pendingStyles.set(u,f),this._updateStyle(u,f)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const u=[];for(let f in this._currentKeyframe)u.push(f);return u}mergeTimelineCollectedStyles(u){u._styleSummary.forEach((f,b)=>{const N=this._styleSummary.get(b);(!N||f.time>N.time)&&this._updateStyle(b,f.value)})}buildKeyframes(){this.applyStylesToKeyframe();const u=new Set,f=new Set,b=1===this._keyframes.size&&0===this.duration;let N=[];this._keyframes.forEach((ge,ze)=>{const ct=Se(ge,new Map,this._backFill);ct.forEach(($t,cn)=>{$t===qe.FX?u.add(cn):$t===qe.kp&&f.add(cn)}),b||ct.set("offset",ze/this.duration),N.push(ct)});const W=u.size?we(u.values()):[],ae=f.size?we(f.values()):[];if(b){const ge=N[0],ze=new Map(ge);ge.set("offset",0),ze.set("offset",1),N=[ge,ze]}return Us(this.element,N,W,ae,this.duration,this.startTime,this.easing,!1)}}class Yi extends Ms{constructor(u,f,b,N,W,ae,ge=!1){super(u,f,ae.delay),this.keyframes=b,this.preStyleProps=N,this.postStyleProps=W,this._stretchStartingKeyframe=ge,this.timings={duration:ae.duration,delay:ae.delay,easing:ae.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let u=this.keyframes,{delay:f,duration:b,easing:N}=this.timings;if(this._stretchStartingKeyframe&&f){const W=[],ae=b+f,ge=f/ae,ze=Se(u[0]);ze.set("offset",0),W.push(ze);const ct=Se(u[0]);ct.set("offset",En(ge)),W.push(ct);const $t=u.length-1;for(let cn=1;cn<=$t;cn++){let Wn=Se(u[cn]);const Rn=Wn.get("offset");Wn.set("offset",En((f+Rn*b)/ae)),W.push(Wn)}b=ae,f=0,N="",u=W}return Us(this.element,u,this.preStyleProps,this.postStyleProps,b,f,N,!0)}}function En(k,u=3){const f=Math.pow(10,u-1);return Math.round(k*f)/f}class Ji{}const ts=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Co extends Ji{normalizePropertyName(u,f){return At(u)}normalizeStyleValue(u,f,b,N){let W="";const ae=b.toString().trim();if(ts.has(f)&&0!==b&&"0"!==b)if("number"==typeof b)W="px";else{const ge=b.match(/^[+-]?[\d\.]+([a-z]*)$/);ge&&0==ge[1].length&&N.push(function be(k,u){return new G.wOt(3005,!1)}())}return ae+W}}function eo(k,u,f,b,N,W,ae,ge,ze,ct,$t,cn,Wn){return{type:0,element:k,triggerName:u,isRemovalTransition:N,fromState:f,fromStyles:W,toState:b,toStyles:ae,timelines:ge,queriedElements:ze,preStyleProps:ct,postStyleProps:$t,totalTime:cn,errors:Wn}}const Ao={};class to{constructor(u,f,b){this._triggerName=u,this.ast=f,this._stateStyles=b}match(u,f,b,N){return function un(k,u,f,b,N){return k.some(W=>W(u,f,b,N))}(this.ast.matchers,u,f,b,N)}buildStyles(u,f,b){let N=this._stateStyles.get("*");return void 0!==u&&(N=this._stateStyles.get(u?.toString())||N),N?N.buildStyles(f,b):new Map}build(u,f,b,N,W,ae,ge,ze,ct,$t){const cn=[],Wn=this.ast.options&&this.ast.options.params||Ao,Cn=this.buildStyles(b,ge&&ge.params||Ao,cn),Bn=ze&&ze.params||Ao,dr=this.buildStyles(N,Bn,cn),ni=new Set,oi=new Map,Kr=new Map,rr="void"===N,ko={params:On(Bn,Wn),delay:this.ast.options?.delay},bo=$t?[]:Xi(u,f,this.ast.animation,W,ae,Cn,dr,ko,ct,cn);let ao=0;if(bo.forEach(Bo=>{ao=Math.max(Bo.duration+Bo.delay,ao)}),cn.length)return eo(f,this._triggerName,b,N,rr,Cn,dr,[],[],oi,Kr,ao,cn);bo.forEach(Bo=>{const _a=Bo.element,Bd=Ce(oi,_a,new Set);Bo.preStyleProps.forEach(Sc=>Bd.add(Sc));const rl=Ce(Kr,_a,new Set);Bo.postStyleProps.forEach(Sc=>rl.add(Sc)),_a!==f&&ni.add(_a)});const si=we(ni.values());return eo(f,this._triggerName,b,N,rr,Cn,dr,bo,si,oi,Kr,ao)}}function On(k,u){const f=P(u);for(const b in k)k.hasOwnProperty(b)&&null!=k[b]&&(f[b]=k[b]);return f}class Dr{constructor(u,f,b){this.styles=u,this.defaultParams=f,this.normalizer=b}buildStyles(u,f){const b=new Map,N=P(this.defaultParams);return Object.keys(u).forEach(W=>{const ae=u[W];null!==ae&&(N[W]=ae)}),this.styles.styles.forEach(W=>{"string"!=typeof W&&W.forEach((ae,ge)=>{ae&&(ae=Ee(ae,N,f));const ze=this.normalizer.normalizePropertyName(ge,f);ae=this.normalizer.normalizeStyleValue(ge,ze,ae,f),b.set(ge,ae)})}),b}}class no{constructor(u,f,b){this.name=u,this.ast=f,this._normalizer=b,this.transitionFactories=[],this.states=new Map,f.states.forEach(N=>{this.states.set(N.name,new Dr(N.style,N.options&&N.options.params||{},b))}),uo(this.states,"true","1"),uo(this.states,"false","0"),f.transitions.forEach(N=>{this.transitionFactories.push(new to(u,N,this.states))}),this.fallbackTransition=function vi(k,u,f){return new to(k,{type:1,animation:{type:2,steps:[],options:null},matchers:[(ae,ge)=>!0],options:null,queryCount:0,depCount:0},u)}(u,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(u,f,b,N){return this.transitionFactories.find(ae=>ae.match(u,f,b,N))||null}matchStyles(u,f,b){return this.fallbackTransition.buildStyles(u,f,b)}}function uo(k,u,f){k.has(u)?k.has(f)||k.set(f,k.get(u)):k.has(f)&&k.set(u,k.get(f))}const jr=new Nr;class ji{constructor(u,f,b){this.bodyNode=u,this._driver=f,this._normalizer=b,this._animations=new Map,this._playersById=new Map,this.players=[]}register(u,f){const b=[],W=Ci(this._driver,f,b,[]);if(b.length)throw function ue(k){return new G.wOt(3503,!1)}();this._animations.set(u,W)}_buildPlayer(u,f,b){const N=u.element,W=lr(this._normalizer,u.keyframes,f,b);return this._driver.animate(N,W,u.duration,u.delay,u.easing,[],!0)}create(u,f,b={}){const N=[],W=this._animations.get(u);let ae;const ge=new Map;if(W?(ae=Xi(this._driver,f,W,Kn,Or,new Map,new Map,b,jr,N),ae.forEach($t=>{const cn=Ce(ge,$t.element,new Map);$t.postStyleProps.forEach(Wn=>cn.set(Wn,null))})):(N.push(function Oe(){return new G.wOt(3300,!1)}()),ae=[]),N.length)throw function Tt(k){return new G.wOt(3504,!1)}();ge.forEach(($t,cn)=>{$t.forEach((Wn,Rn)=>{$t.set(Rn,this._driver.computeStyle(cn,Rn,qe.kp))})});const ct=cr(ae.map($t=>{const cn=ge.get($t.element);return this._buildPlayer($t,new Map,cn)}));return this._playersById.set(u,ct),ct.onDestroy(()=>this.destroy(u)),this.players.push(ct),ct}destroy(u){const f=this._getPlayer(u);f.destroy(),this._playersById.delete(u);const b=this.players.indexOf(f);b>=0&&this.players.splice(b,1)}_getPlayer(u){const f=this._playersById.get(u);if(!f)throw function yt(k){return new G.wOt(3301,!1)}();return f}listen(u,f,b,N){const W=oe(f,"","","");return hn(this._getPlayer(u),b,W,N),()=>{}}command(u,f,b,N){if("register"==b)return void this.register(u,N[0]);if("create"==b)return void this.create(u,f,N[0]||{});const W=this._getPlayer(u);switch(b){case"play":W.play();break;case"pause":W.pause();break;case"reset":W.reset();break;case"restart":W.restart();break;case"finish":W.finish();break;case"init":W.init();break;case"setPosition":W.setPosition(parseFloat(N[0]));break;case"destroy":this.destroy(u)}}}const qo="ng-animate-queued",Oo="ng-animate-disabled",us=[],Ti={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Io={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},zi="__ng_removed";class ws{get params(){return this.options.params}constructor(u,f=""){this.namespaceId=f;const b=u&&u.hasOwnProperty("value");if(this.value=function Es(k){return k??null}(b?u.value:u),b){const W=P(u);delete W.value,this.options=W}else this.options={};this.options.params||(this.options.params={})}absorbOptions(u){const f=u.params;if(f){const b=this.options.params;Object.keys(f).forEach(N=>{null==b[N]&&(b[N]=f[N])})}}}const To="void",zr=new ws(To);class Wo{constructor(u,f,b){this.id=u,this.hostElement=f,this._engine=b,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+u,wr(f,this._hostClassName)}listen(u,f,b,N){if(!this._triggers.has(f))throw function Dt(k,u){return new G.wOt(3302,!1)}();if(null==b||0==b.length)throw function vn(k){return new G.wOt(3303,!1)}();if(!function ho(k){return"start"==k||"done"==k}(b))throw function tr(k,u){return new G.wOt(3400,!1)}();const W=Ce(this._elementListeners,u,[]),ae={name:f,phase:b,callback:N};W.push(ae);const ge=Ce(this._engine.statesByElement,u,new Map);return ge.has(f)||(wr(u,Xr),wr(u,Xr+"-"+f),ge.set(f,zr)),()=>{this._engine.afterFlush(()=>{const ze=W.indexOf(ae);ze>=0&&W.splice(ze,1),this._triggers.has(f)||ge.delete(f)})}}register(u,f){return!this._triggers.has(u)&&(this._triggers.set(u,f),!0)}_getTrigger(u){const f=this._triggers.get(u);if(!f)throw function an(k){return new G.wOt(3401,!1)}();return f}trigger(u,f,b,N=!0){const W=this._getTrigger(f),ae=new Qn(this.id,f,u);let ge=this._engine.statesByElement.get(u);ge||(wr(u,Xr),wr(u,Xr+"-"+f),this._engine.statesByElement.set(u,ge=new Map));let ze=ge.get(f);const ct=new ws(b,this.id);if(!(b&&b.hasOwnProperty("value"))&&ze&&ct.absorbOptions(ze.options),ge.set(f,ct),ze||(ze=zr),ct.value!==To&&ze.value===ct.value){if(!function ro(k,u){const f=Object.keys(k),b=Object.keys(u);if(f.length!=b.length)return!1;for(let N=0;N<f.length;N++){const W=f[N];if(!u.hasOwnProperty(W)||k[W]!==u[W])return!1}return!0}(ze.params,ct.params)){const Bn=[],dr=W.matchStyles(ze.value,ze.params,Bn),ni=W.matchStyles(ct.value,ct.params,Bn);Bn.length?this._engine.reportError(Bn):this._engine.afterFlush(()=>{ye(u,dr),Me(u,ni)})}return}const Wn=Ce(this._engine.playersByElement,u,[]);Wn.forEach(Bn=>{Bn.namespaceId==this.id&&Bn.triggerName==f&&Bn.queued&&Bn.destroy()});let Rn=W.matchTransition(ze.value,ct.value,u,ct.params),Cn=!1;if(!Rn){if(!N)return;Rn=W.fallbackTransition,Cn=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:u,triggerName:f,transition:Rn,fromState:ze,toState:ct,player:ae,isFallbackTransition:Cn}),Cn||(wr(u,qo),ae.onStart(()=>{qs(u,qo)})),ae.onDone(()=>{let Bn=this.players.indexOf(ae);Bn>=0&&this.players.splice(Bn,1);const dr=this._engine.playersByElement.get(u);if(dr){let ni=dr.indexOf(ae);ni>=0&&dr.splice(ni,1)}}),this.players.push(ae),Wn.push(ae),ae}deregister(u){this._triggers.delete(u),this._engine.statesByElement.forEach(f=>f.delete(u)),this._elementListeners.forEach((f,b)=>{this._elementListeners.set(b,f.filter(N=>N.name!=u))})}clearElementCache(u){this._engine.statesByElement.delete(u),this._elementListeners.delete(u);const f=this._engine.playersByElement.get(u);f&&(f.forEach(b=>b.destroy()),this._engine.playersByElement.delete(u))}_signalRemovalForInnerTriggers(u,f){const b=this._engine.driver.query(u,ei,!0);b.forEach(N=>{if(N[zi])return;const W=this._engine.fetchNamespacesByElement(N);W.size?W.forEach(ae=>ae.triggerLeaveAnimation(N,f,!1,!0)):this.clearElementCache(N)}),this._engine.afterFlushAnimationsDone(()=>b.forEach(N=>this.clearElementCache(N)))}triggerLeaveAnimation(u,f,b,N){const W=this._engine.statesByElement.get(u),ae=new Map;if(W){const ge=[];if(W.forEach((ze,ct)=>{if(ae.set(ct,ze.value),this._triggers.has(ct)){const $t=this.trigger(u,ct,To,N);$t&&ge.push($t)}}),ge.length)return this._engine.markElementAsRemoved(this.id,u,!0,f,ae),b&&cr(ge).onDone(()=>this._engine.processLeaveNode(u)),!0}return!1}prepareLeaveAnimationListeners(u){const f=this._elementListeners.get(u),b=this._engine.statesByElement.get(u);if(f&&b){const N=new Set;f.forEach(W=>{const ae=W.name;if(N.has(ae))return;N.add(ae);const ze=this._triggers.get(ae).fallbackTransition,ct=b.get(ae)||zr,$t=new ws(To),cn=new Qn(this.id,ae,u);this._engine.totalQueuedPlayers++,this._queue.push({element:u,triggerName:ae,transition:ze,fromState:ct,toState:$t,player:cn,isFallbackTransition:!0})})}}removeNode(u,f){const b=this._engine;if(u.childElementCount&&this._signalRemovalForInnerTriggers(u,f),this.triggerLeaveAnimation(u,f,!0))return;let N=!1;if(b.totalAnimations){const W=b.players.length?b.playersByQueriedElement.get(u):[];if(W&&W.length)N=!0;else{let ae=u;for(;ae=ae.parentNode;)if(b.statesByElement.get(ae)){N=!0;break}}}if(this.prepareLeaveAnimationListeners(u),N)b.markElementAsRemoved(this.id,u,!1,f);else{const W=u[zi];(!W||W===Ti)&&(b.afterFlush(()=>this.clearElementCache(u)),b.destroyInnerAnimations(u),b._onRemovalComplete(u,f))}}insertNode(u,f){wr(u,this._hostClassName)}drainQueuedTransitions(u){const f=[];return this._queue.forEach(b=>{const N=b.player;if(N.destroyed)return;const W=b.element,ae=this._elementListeners.get(W);ae&&ae.forEach(ge=>{if(ge.name==b.triggerName){const ze=oe(W,b.triggerName,b.fromState.value,b.toState.value);ze._data=u,hn(b.player,ge.phase,ze,ge.callback)}}),N.markedForDestroy?this._engine.afterFlush(()=>{N.destroy()}):f.push(b)}),this._queue=[],f.sort((b,N)=>{const W=b.transition.ast.depCount,ae=N.transition.ast.depCount;return 0==W||0==ae?W-ae:this._engine.driver.containsElement(b.element,N.element)?1:-1})}destroy(u){this.players.forEach(f=>f.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,u)}}class Ur{_onRemovalComplete(u,f){this.onRemovalComplete(u,f)}constructor(u,f,b){this.bodyNode=u,this.driver=f,this._normalizer=b,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(N,W)=>{}}get queuedPlayers(){const u=[];return this._namespaceList.forEach(f=>{f.players.forEach(b=>{b.queued&&u.push(b)})}),u}createNamespace(u,f){const b=new Wo(u,f,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,f)?this._balanceNamespaceList(b,f):(this.newHostElements.set(f,b),this.collectEnterElement(f)),this._namespaceLookup[u]=b}_balanceNamespaceList(u,f){const b=this._namespaceList,N=this.namespacesByHostElement;if(b.length-1>=0){let ae=!1,ge=this.driver.getParentElement(f);for(;ge;){const ze=N.get(ge);if(ze){const ct=b.indexOf(ze);b.splice(ct+1,0,u),ae=!0;break}ge=this.driver.getParentElement(ge)}ae||b.unshift(u)}else b.push(u);return N.set(f,u),u}register(u,f){let b=this._namespaceLookup[u];return b||(b=this.createNamespace(u,f)),b}registerTrigger(u,f,b){let N=this._namespaceLookup[u];N&&N.register(f,b)&&this.totalAnimations++}destroy(u,f){u&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const b=this._fetchNamespace(u);this.namespacesByHostElement.delete(b.hostElement);const N=this._namespaceList.indexOf(b);N>=0&&this._namespaceList.splice(N,1),b.destroy(f),delete this._namespaceLookup[u]}))}_fetchNamespace(u){return this._namespaceLookup[u]}fetchNamespacesByElement(u){const f=new Set,b=this.statesByElement.get(u);if(b)for(let N of b.values())if(N.namespaceId){const W=this._fetchNamespace(N.namespaceId);W&&f.add(W)}return f}trigger(u,f,b,N){if(hi(f)){const W=this._fetchNamespace(u);if(W)return W.trigger(f,b,N),!0}return!1}insertNode(u,f,b,N){if(!hi(f))return;const W=f[zi];if(W&&W.setForRemoval){W.setForRemoval=!1,W.setForMove=!0;const ae=this.collectedLeaveElements.indexOf(f);ae>=0&&this.collectedLeaveElements.splice(ae,1)}if(u){const ae=this._fetchNamespace(u);ae&&ae.insertNode(f,b)}N&&this.collectEnterElement(f)}collectEnterElement(u){this.collectedEnterElements.push(u)}markElementAsDisabled(u,f){f?this.disabledNodes.has(u)||(this.disabledNodes.add(u),wr(u,Oo)):this.disabledNodes.has(u)&&(this.disabledNodes.delete(u),qs(u,Oo))}removeNode(u,f,b){if(hi(f)){const N=u?this._fetchNamespace(u):null;N?N.removeNode(f,b):this.markElementAsRemoved(u,f,!1,b);const W=this.namespacesByHostElement.get(f);W&&W.id!==u&&W.removeNode(f,b)}else this._onRemovalComplete(f,b)}markElementAsRemoved(u,f,b,N,W){this.collectedLeaveElements.push(f),f[zi]={namespaceId:u,setForRemoval:N,hasAnimation:b,removedBeforeQueried:!1,previousTriggersValues:W}}listen(u,f,b,N,W){return hi(f)?this._fetchNamespace(u).listen(f,b,N,W):()=>{}}_buildInstruction(u,f,b,N,W){return u.transition.build(this.driver,u.element,u.fromState.value,u.toState.value,b,N,u.fromState.options,u.toState.options,f,W)}destroyInnerAnimations(u){let f=this.driver.query(u,ei,!0);f.forEach(b=>this.destroyActiveAnimationsForElement(b)),0!=this.playersByQueriedElement.size&&(f=this.driver.query(u,Lr,!0),f.forEach(b=>this.finishActiveQueriedAnimationOnElement(b)))}destroyActiveAnimationsForElement(u){const f=this.playersByElement.get(u);f&&f.forEach(b=>{b.queued?b.markedForDestroy=!0:b.destroy()})}finishActiveQueriedAnimationOnElement(u){const f=this.playersByQueriedElement.get(u);f&&f.forEach(b=>b.finish())}whenRenderingDone(){return new Promise(u=>{if(this.players.length)return cr(this.players).onDone(()=>u());u()})}processLeaveNode(u){const f=u[zi];if(f&&f.setForRemoval){if(u[zi]=Ti,f.namespaceId){this.destroyInnerAnimations(u);const b=this._fetchNamespace(f.namespaceId);b&&b.clearElementCache(u)}this._onRemovalComplete(u,f.setForRemoval)}u.classList?.contains(Oo)&&this.markElementAsDisabled(u,!1),this.driver.query(u,".ng-animate-disabled",!0).forEach(b=>{this.markElementAsDisabled(b,!1)})}flush(u=-1){let f=[];if(this.newHostElements.size&&(this.newHostElements.forEach((b,N)=>this._balanceNamespaceList(b,N)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let b=0;b<this.collectedEnterElements.length;b++)wr(this.collectedEnterElements[b],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const b=[];try{f=this._flushAnimations(b,u)}finally{for(let N=0;N<b.length;N++)b[N]()}}else for(let b=0;b<this.collectedLeaveElements.length;b++)this.processLeaveNode(this.collectedLeaveElements[b]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(b=>b()),this._flushFns=[],this._whenQuietFns.length){const b=this._whenQuietFns;this._whenQuietFns=[],f.length?cr(f).onDone(()=>{b.forEach(N=>N())}):b.forEach(N=>N())}}reportError(u){throw function In(k){return new G.wOt(3402,!1)}()}_flushAnimations(u,f){const b=new Nr,N=[],W=new Map,ae=[],ge=new Map,ze=new Map,ct=new Map,$t=new Set;this.disabledNodes.forEach(Pn=>{$t.add(Pn);const Xn=this.driver.query(Pn,".ng-animate-queued",!0);for(let er=0;er<Xn.length;er++)$t.add(Xn[er])});const cn=this.bodyNode,Wn=Array.from(this.statesByElement.keys()),Rn=Ar(Wn,this.collectedEnterElements),Cn=new Map;let Bn=0;Rn.forEach((Pn,Xn)=>{const er=Kn+Bn++;Cn.set(Xn,er),Pn.forEach(Qr=>wr(Qr,er))});const dr=[],ni=new Set,oi=new Set;for(let Pn=0;Pn<this.collectedLeaveElements.length;Pn++){const Xn=this.collectedLeaveElements[Pn],er=Xn[zi];er&&er.setForRemoval&&(dr.push(Xn),ni.add(Xn),er.hasAnimation?this.driver.query(Xn,".ng-star-inserted",!0).forEach(Qr=>ni.add(Qr)):oi.add(Xn))}const Kr=new Map,rr=Ar(Wn,Array.from(ni));rr.forEach((Pn,Xn)=>{const er=Or+Bn++;Kr.set(Xn,er),Pn.forEach(Qr=>wr(Qr,er))}),u.push(()=>{Rn.forEach((Pn,Xn)=>{const er=Cn.get(Xn);Pn.forEach(Qr=>qs(Qr,er))}),rr.forEach((Pn,Xn)=>{const er=Kr.get(Xn);Pn.forEach(Qr=>qs(Qr,er))}),dr.forEach(Pn=>{this.processLeaveNode(Pn)})});const ko=[],bo=[];for(let Pn=this._namespaceList.length-1;Pn>=0;Pn--)this._namespaceList[Pn].drainQueuedTransitions(f).forEach(er=>{const Qr=er.player,Qi=er.element;if(ko.push(Qr),this.collectedEnterElements.length){const d=Qi[zi];if(d&&d.setForMove){if(d.previousTriggersValues&&d.previousTriggersValues.has(er.triggerName)){const v=d.previousTriggersValues.get(er.triggerName),I=this.statesByElement.get(er.element);if(I&&I.has(er.triggerName)){const Z=I.get(er.triggerName);Z.value=v,I.set(er.triggerName,Z)}}return void Qr.destroy()}}const Ss=!cn||!this.driver.containsElement(cn,Qi),gs=Kr.get(Qi),es=Cn.get(Qi),ai=this._buildInstruction(er,b,es,gs,Ss);if(ai.errors&&ai.errors.length)return void bo.push(ai);if(Ss)return Qr.onStart(()=>ye(Qi,ai.fromStyles)),Qr.onDestroy(()=>Me(Qi,ai.toStyles)),void N.push(Qr);if(er.isFallbackTransition)return Qr.onStart(()=>ye(Qi,ai.fromStyles)),Qr.onDestroy(()=>Me(Qi,ai.toStyles)),void N.push(Qr);const rd=[];ai.timelines.forEach(d=>{d.stretchStartingKeyframe=!0,this.disabledNodes.has(d.element)||rd.push(d)}),ai.timelines=rd,b.append(Qi,ai.timelines),ae.push({instruction:ai,player:Qr,element:Qi}),ai.queriedElements.forEach(d=>Ce(ge,d,[]).push(Qr)),ai.preStyleProps.forEach((d,v)=>{if(d.size){let I=ze.get(v);I||ze.set(v,I=new Set),d.forEach((Z,ce)=>I.add(ce))}}),ai.postStyleProps.forEach((d,v)=>{let I=ct.get(v);I||ct.set(v,I=new Set),d.forEach((Z,ce)=>I.add(ce))})});if(bo.length){const Pn=[];bo.forEach(Xn=>{Pn.push(function gr(k,u){return new G.wOt(3505,!1)}())}),ko.forEach(Xn=>Xn.destroy()),this.reportError(Pn)}const ao=new Map,si=new Map;ae.forEach(Pn=>{const Xn=Pn.element;b.has(Xn)&&(si.set(Xn,Xn),this._beforeAnimationBuild(Pn.player.namespaceId,Pn.instruction,ao))}),N.forEach(Pn=>{const Xn=Pn.element;this._getPreviousPlayers(Xn,!1,Pn.namespaceId,Pn.triggerName,null).forEach(Qr=>{Ce(ao,Xn,[]).push(Qr),Qr.destroy()})});const Bo=dr.filter(Pn=>rs(Pn,ze,ct)),_a=new Map;nr(_a,this.driver,oi,ct,qe.kp).forEach(Pn=>{rs(Pn,ze,ct)&&Bo.push(Pn)});const rl=new Map;Rn.forEach((Pn,Xn)=>{nr(rl,this.driver,new Set(Pn),ze,qe.FX)}),Bo.forEach(Pn=>{const Xn=_a.get(Pn),er=rl.get(Pn);_a.set(Pn,new Map([...Xn?.entries()??[],...er?.entries()??[]]))});const Sc=[],nd=[],jd={};ae.forEach(Pn=>{const{element:Xn,player:er,instruction:Qr}=Pn;if(b.has(Xn)){if($t.has(Xn))return er.onDestroy(()=>Me(Xn,Qr.toStyles)),er.disabled=!0,er.overrideTotalTime(Qr.totalTime),void N.push(er);let Qi=jd;if(si.size>1){let gs=Xn;const es=[];for(;gs=gs.parentNode;){const ai=si.get(gs);if(ai){Qi=ai;break}es.push(gs)}es.forEach(ai=>si.set(ai,Qi))}const Ss=this._buildAnimation(er.namespaceId,Qr,ao,W,rl,_a);if(er.setRealPlayer(Ss),Qi===jd)Sc.push(er);else{const gs=this.playersByElement.get(Qi);gs&&gs.length&&(er.parentPlayer=cr(gs)),N.push(er)}}else ye(Xn,Qr.fromStyles),er.onDestroy(()=>Me(Xn,Qr.toStyles)),nd.push(er),$t.has(Xn)&&N.push(er)}),nd.forEach(Pn=>{const Xn=W.get(Pn.element);if(Xn&&Xn.length){const er=cr(Xn);Pn.setRealPlayer(er)}}),N.forEach(Pn=>{Pn.parentPlayer?Pn.syncPlayerEvents(Pn.parentPlayer):Pn.destroy()});for(let Pn=0;Pn<dr.length;Pn++){const Xn=dr[Pn],er=Xn[zi];if(qs(Xn,Or),er&&er.hasAnimation)continue;let Qr=[];if(ge.size){let Ss=ge.get(Xn);Ss&&Ss.length&&Qr.push(...Ss);let gs=this.driver.query(Xn,Lr,!0);for(let es=0;es<gs.length;es++){let ai=ge.get(gs[es]);ai&&ai.length&&Qr.push(...ai)}}const Qi=Qr.filter(Ss=>!Ss.destroyed);Qi.length?_i(this,Xn,Qi):this.processLeaveNode(Xn)}return dr.length=0,Sc.forEach(Pn=>{this.players.push(Pn),Pn.onDone(()=>{Pn.destroy();const Xn=this.players.indexOf(Pn);this.players.splice(Xn,1)}),Pn.play()}),Sc}afterFlush(u){this._flushFns.push(u)}afterFlushAnimationsDone(u){this._whenQuietFns.push(u)}_getPreviousPlayers(u,f,b,N,W){let ae=[];if(f){const ge=this.playersByQueriedElement.get(u);ge&&(ae=ge)}else{const ge=this.playersByElement.get(u);if(ge){const ze=!W||W==To;ge.forEach(ct=>{ct.queued||!ze&&ct.triggerName!=N||ae.push(ct)})}}return(b||N)&&(ae=ae.filter(ge=>!(b&&b!=ge.namespaceId||N&&N!=ge.triggerName))),ae}_beforeAnimationBuild(u,f,b){const W=f.element,ae=f.isRemovalTransition?void 0:u,ge=f.isRemovalTransition?void 0:f.triggerName;for(const ze of f.timelines){const ct=ze.element,$t=ct!==W,cn=Ce(b,ct,[]);this._getPreviousPlayers(ct,$t,ae,ge,f.toState).forEach(Rn=>{const Cn=Rn.getRealPlayer();Cn.beforeDestroy&&Cn.beforeDestroy(),Rn.destroy(),cn.push(Rn)})}ye(W,f.fromStyles)}_buildAnimation(u,f,b,N,W,ae){const ge=f.triggerName,ze=f.element,ct=[],$t=new Set,cn=new Set,Wn=f.timelines.map(Cn=>{const Bn=Cn.element;$t.add(Bn);const dr=Bn[zi];if(dr&&dr.removedBeforeQueried)return new qe.sf(Cn.duration,Cn.delay);const ni=Bn!==ze,oi=function ti(k){const u=[];return $s(k,u),u}((b.get(Bn)||us).map(ao=>ao.getRealPlayer())).filter(ao=>!!ao.element&&ao.element===Bn),Kr=W.get(Bn),rr=ae.get(Bn),ko=lr(this._normalizer,Cn.keyframes,Kr,rr),bo=this._buildPlayer(Cn,ko,oi);if(Cn.subTimeline&&N&&cn.add(Bn),ni){const ao=new Qn(u,ge,Bn);ao.setRealPlayer(bo),ct.push(ao)}return bo});ct.forEach(Cn=>{Ce(this.playersByQueriedElement,Cn.element,[]).push(Cn),Cn.onDone(()=>function Ca(k,u,f){let b=k.get(u);if(b){if(b.length){const N=b.indexOf(f);b.splice(N,1)}0==b.length&&k.delete(u)}return b}(this.playersByQueriedElement,Cn.element,Cn))}),$t.forEach(Cn=>wr(Cn,et));const Rn=cr(Wn);return Rn.onDestroy(()=>{$t.forEach(Cn=>qs(Cn,et)),Me(ze,f.toStyles)}),cn.forEach(Cn=>{Ce(N,Cn,[]).push(Rn)}),Rn}_buildPlayer(u,f,b){return f.length>0?this.driver.animate(u.element,f,u.duration,u.delay,u.easing,b):new qe.sf(u.duration,u.delay)}}class Qn{constructor(u,f,b){this.namespaceId=u,this.triggerName=f,this.element=b,this._player=new qe.sf,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(u){this._containsRealPlayer||(this._player=u,this._queuedCallbacks.forEach((f,b)=>{f.forEach(N=>hn(u,b,void 0,N))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(u.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(u){this.totalTime=u}syncPlayerEvents(u){const f=this._player;f.triggerCallback&&u.onStart(()=>f.triggerCallback("start")),u.onDone(()=>this.finish()),u.onDestroy(()=>this.destroy())}_queueEvent(u,f){Ce(this._queuedCallbacks,u,[]).push(f)}onDone(u){this.queued&&this._queueEvent("done",u),this._player.onDone(u)}onStart(u){this.queued&&this._queueEvent("start",u),this._player.onStart(u)}onDestroy(u){this.queued&&this._queueEvent("destroy",u),this._player.onDestroy(u)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(u){this.queued||this._player.setPosition(u)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(u){const f=this._player;f.triggerCallback&&f.triggerCallback(u)}}function hi(k){return k&&1===k.nodeType}function po(k,u){const f=k.style.display;return k.style.display=u??"none",f}function nr(k,u,f,b,N){const W=[];f.forEach(ze=>W.push(po(ze)));const ae=[];b.forEach((ze,ct)=>{const $t=new Map;ze.forEach(cn=>{const Wn=u.computeStyle(ct,cn,N);$t.set(cn,Wn),(!Wn||0==Wn.length)&&(ct[zi]=Io,ae.push(ct))}),k.set(ct,$t)});let ge=0;return f.forEach(ze=>po(ze,W[ge++])),ae}function Ar(k,u){const f=new Map;if(k.forEach(ge=>f.set(ge,[])),0==u.length)return f;const N=new Set(u),W=new Map;function ae(ge){if(!ge)return 1;let ze=W.get(ge);if(ze)return ze;const ct=ge.parentNode;return ze=f.has(ct)?ct:N.has(ct)?1:ae(ct),W.set(ge,ze),ze}return u.forEach(ge=>{const ze=ae(ge);1!==ze&&f.get(ze).push(ge)}),f}function wr(k,u){k.classList?.add(u)}function qs(k,u){k.classList?.remove(u)}function _i(k,u,f){cr(f).onDone(()=>k.processLeaveNode(u))}function $s(k,u){for(let f=0;f<k.length;f++){const b=k[f];b instanceof qe.ui?$s(b.players,u):u.push(b)}}function rs(k,u,f){const b=f.get(k);if(!b)return!1;let N=u.get(k);return N?b.forEach(W=>N.add(W)):u.set(k,b),f.delete(k),!0}class io{constructor(u,f,b){this.bodyNode=u,this._driver=f,this._normalizer=b,this._triggerCache={},this.onRemovalComplete=(N,W)=>{},this._transitionEngine=new Ur(u,f,b),this._timelineEngine=new ji(u,f,b),this._transitionEngine.onRemovalComplete=(N,W)=>this.onRemovalComplete(N,W)}registerTrigger(u,f,b,N,W){const ae=u+"-"+N;let ge=this._triggerCache[ae];if(!ge){const ze=[],$t=Ci(this._driver,W,ze,[]);if(ze.length)throw function Ue(k,u){return new G.wOt(3404,!1)}();ge=function Bi(k,u,f){return new no(k,u,f)}(N,$t,this._normalizer),this._triggerCache[ae]=ge}this._transitionEngine.registerTrigger(f,N,ge)}register(u,f){this._transitionEngine.register(u,f)}destroy(u,f){this._transitionEngine.destroy(u,f)}onInsert(u,f,b,N){this._transitionEngine.insertNode(u,f,b,N)}onRemove(u,f,b){this._transitionEngine.removeNode(u,f,b)}disableAnimations(u,f){this._transitionEngine.markElementAsDisabled(u,f)}process(u,f,b,N){if("@"==b.charAt(0)){const[W,ae]=Ae(b);this._timelineEngine.command(W,f,ae,N)}else this._transitionEngine.trigger(u,f,b,N)}listen(u,f,b,N,W){if("@"==b.charAt(0)){const[ae,ge]=Ae(b);return this._timelineEngine.listen(ae,f,ge,W)}return this._transitionEngine.listen(u,f,b,N,W)}flush(u=-1){this._transitionEngine.flush(u)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(u){this._transitionEngine.afterFlushAnimationsDone(u)}}let aa=(()=>{class k{static{this.initialStylesByElement=new WeakMap}constructor(f,b,N){this._element=f,this._startStyles=b,this._endStyles=N,this._state=0;let W=k.initialStylesByElement.get(f);W||k.initialStylesByElement.set(f,W=new Map),this._initialStyles=W}start(){this._state<1&&(this._startStyles&&Me(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Me(this._element,this._initialStyles),this._endStyles&&(Me(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(k.initialStylesByElement.delete(this._element),this._startStyles&&(ye(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(ye(this._element,this._endStyles),this._endStyles=null),Me(this._element,this._initialStyles),this._state=3)}}return k})();function is(k){let u=null;return k.forEach((f,b)=>{(function Bc(k){return"display"===k||"position"===k})(b)&&(u=u||new Map,u.set(b,f))}),u}class ca{constructor(u,f,b,N){this.element=u,this.keyframes=f,this.options=b,this._specialStyles=N,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=b.duration,this._delay=b.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(u=>u()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const u=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,u,this.options),this._finalKeyframe=u.length?u[u.length-1]:new Map;const f=()=>this._onFinish();this.domPlayer.addEventListener("finish",f),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",f)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(u){const f=[];return u.forEach(b=>{f.push(Object.fromEntries(b))}),f}_triggerWebAnimation(u,f,b){return u.animate(this._convertKeyframesToObject(f),b)}onStart(u){this._originalOnStartFns.push(u),this._onStartFns.push(u)}onDone(u){this._originalOnDoneFns.push(u),this._onDoneFns.push(u)}onDestroy(u){this._onDestroyFns.push(u)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(u=>u()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(u=>u()),this._onDestroyFns=[])}setPosition(u){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=u*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const u=new Map;this.hasStarted()&&this._finalKeyframe.forEach((b,N)=>{"offset"!==N&&u.set(N,this._finished?b:pn(this.element,N))}),this.currentSnapshot=u}triggerCallback(u){const f="start"===u?this._onStartFns:this._onDoneFns;f.forEach(b=>b()),f.length=0}}class q{validateStyleProperty(u){return!0}validateAnimatableStyleProperty(u){return!0}matchesElement(u,f){return!1}containsElement(u,f){return zn(u,f)}getParentElement(u){return Ye(u)}query(u,f,b){return qt(u,f,b)}computeStyle(u,f,b){return window.getComputedStyle(u)[f]}animate(u,f,b,N,W,ae=[]){const ze={duration:b,delay:N,fill:0==N?"both":"forwards"};W&&(ze.easing=W);const ct=new Map,$t=ae.filter(Rn=>Rn instanceof ca);(function sn(k,u){return 0===k||0===u})(b,N)&&$t.forEach(Rn=>{Rn.currentSnapshot.forEach((Cn,Bn)=>ct.set(Bn,Cn))});let cn=function U(k){return k.length?k[0]instanceof Map?k:k.map(u=>R(u)):[]}(f).map(Rn=>Se(Rn));cn=function tn(k,u,f){if(f.size&&u.length){let b=u[0],N=[];if(f.forEach((W,ae)=>{b.has(ae)||N.push(ae),b.set(ae,W)}),N.length)for(let W=1;W<u.length;W++){let ae=u[W];N.forEach(ge=>ae.set(ge,pn(k,ge)))}}return u}(u,cn,ct);const Wn=function ac(k,u){let f=null,b=null;return Array.isArray(u)&&u.length?(f=is(u[0]),u.length>1&&(b=is(u[u.length-1]))):u instanceof Map&&(f=is(u)),f||b?new aa(k,f,b):null}(u,cn);return new ca(u,cn,ze,Wn)}}var Q=F(177);let L=(()=>{class k extends qe.S6{constructor(f,b){super(),this._nextAnimationId=0,this._renderer=f.createRenderer(b.body,{id:"0",encapsulation:G.gXe.None,styles:[],data:{animation:[]}})}build(f){const b=this._nextAnimationId.toString();this._nextAnimationId++;const N=Array.isArray(f)?(0,qe.K2)(f):f;return xn(this._renderer,null,b,"register",[N]),new ee(b,this._renderer)}static{this.\u0275fac=function(b){return new(b||k)(G.KVO(G._9s),G.KVO(Q.qQ))}}static{this.\u0275prov=G.jDH({token:k,factory:k.\u0275fac})}}return k})();class ee extends qe.Ro{constructor(u,f){super(),this._id=u,this._renderer=f}create(u,f){return new Ve(this._id,u,f||{},this._renderer)}}class Ve{constructor(u,f,b,N){this.id=u,this.element=f,this._renderer=N,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",b)}_listen(u,f){return this._renderer.listen(this.element,`@@${this.id}:${u}`,f)}_command(u,...f){return xn(this._renderer,this.element,this.id,u,f)}onDone(u){this._listen("done",u)}onStart(u){this._listen("start",u)}onDestroy(u){this._listen("destroy",u)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(u){this._command("setPosition",u)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function xn(k,u,f,b,N){return k.setProperty(u,`@@${f}:${b}`,N)}const Ni="@.disabled";let No=(()=>{class k{constructor(f,b,N){this.delegate=f,this.engine=b,this._zone=N,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,b.onRemovalComplete=(W,ae)=>{const ge=ae?.parentNode(W);ge&&ae.removeChild(ge,W)}}createRenderer(f,b){const W=this.delegate.createRenderer(f,b);if(!(f&&b&&b.data&&b.data.animation)){let $t=this._rendererCache.get(W);return $t||($t=new la("",W,this.engine,()=>this._rendererCache.delete(W)),this._rendererCache.set(W,$t)),$t}const ae=b.id,ge=b.id+"-"+this._currentId;this._currentId++,this.engine.register(ge,f);const ze=$t=>{Array.isArray($t)?$t.forEach(ze):this.engine.registerTrigger(ae,ge,f,$t.name,$t)};return b.data.animation.forEach(ze),new Pu(this,ge,W,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(f,b,N){f>=0&&f<this._microtaskId?this._zone.run(()=>b(N)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(W=>{const[ae,ge]=W;ae(ge)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([b,N]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}static{this.\u0275fac=function(b){return new(b||k)(G.KVO(G._9s),G.KVO(io),G.KVO(G.SKi))}}static{this.\u0275prov=G.jDH({token:k,factory:k.\u0275fac})}}return k})();class la{constructor(u,f,b,N){this.namespaceId=u,this.delegate=f,this.engine=b,this._onDestroy=N}get data(){return this.delegate.data}destroyNode(u){this.delegate.destroyNode?.(u)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(u,f){return this.delegate.createElement(u,f)}createComment(u){return this.delegate.createComment(u)}createText(u){return this.delegate.createText(u)}appendChild(u,f){this.delegate.appendChild(u,f),this.engine.onInsert(this.namespaceId,f,u,!1)}insertBefore(u,f,b,N=!0){this.delegate.insertBefore(u,f,b),this.engine.onInsert(this.namespaceId,f,u,N)}removeChild(u,f,b){this.engine.onRemove(this.namespaceId,f,this.delegate)}selectRootElement(u,f){return this.delegate.selectRootElement(u,f)}parentNode(u){return this.delegate.parentNode(u)}nextSibling(u){return this.delegate.nextSibling(u)}setAttribute(u,f,b,N){this.delegate.setAttribute(u,f,b,N)}removeAttribute(u,f,b){this.delegate.removeAttribute(u,f,b)}addClass(u,f){this.delegate.addClass(u,f)}removeClass(u,f){this.delegate.removeClass(u,f)}setStyle(u,f,b,N){this.delegate.setStyle(u,f,b,N)}removeStyle(u,f,b){this.delegate.removeStyle(u,f,b)}setProperty(u,f,b){"@"==f.charAt(0)&&f==Ni?this.disableAnimations(u,!!b):this.delegate.setProperty(u,f,b)}setValue(u,f){this.delegate.setValue(u,f)}listen(u,f,b){return this.delegate.listen(u,f,b)}disableAnimations(u,f){this.engine.disableAnimations(u,f)}}class Pu extends la{constructor(u,f,b,N,W){super(f,b,N,W),this.factory=u,this.namespaceId=f}setProperty(u,f,b){"@"==f.charAt(0)?"."==f.charAt(1)&&f==Ni?this.disableAnimations(u,b=void 0===b||!!b):this.engine.process(this.namespaceId,u,f.slice(1),b):this.delegate.setProperty(u,f,b)}listen(u,f,b){if("@"==f.charAt(0)){const N=function xs(k){switch(k){case"body":return document.body;case"document":return document;case"window":return window;default:return k}}(u);let W=f.slice(1),ae="";return"@"!=W.charAt(0)&&([W,ae]=function cc(k){const u=k.indexOf(".");return[k.substring(0,u),k.slice(u+1)]}(W)),this.engine.listen(this.namespaceId,N,W,ae,ge=>{this.factory.scheduleListenerCallback(ge._data||-1,b,ge)})}return this.delegate.listen(u,f,b)}}const Ns=[{provide:qe.S6,useClass:L},{provide:Ji,useFactory:function Aa(){return new Co}},{provide:io,useClass:(()=>{class k extends io{constructor(f,b,N,W){super(f.body,b,N)}ngOnDestroy(){this.flush()}static{this.\u0275fac=function(b){return new(b||k)(G.KVO(Q.qQ),G.KVO(yi),G.KVO(Ji),G.KVO(G.o8S))}}static{this.\u0275prov=G.jDH({token:k,factory:k.\u0275fac})}}return k})()},{provide:G._9s,useFactory:function lc(k,u,f){return new No(k,u,f)},deps:[y.B7,io,G.SKi]}],Vi=[{provide:yi,useFactory:()=>new q},{provide:G.bc$,useValue:"BrowserAnimations"},...Ns],os=[{provide:yi,useClass:yn},{provide:G.bc$,useValue:"NoopAnimations"},...Ns];let Vo=(()=>{class k{static withConfig(f){return{ngModule:k,providers:f.disableAnimations?os:Vi}}static{this.\u0275fac=function(b){return new(b||k)}}static{this.\u0275mod=G.$C({type:k})}static{this.\u0275inj=G.G2t({providers:Vi,imports:[y.Bb]})}}return k})();var Cs=F(8834),Ui=F(6939),Ws=F(7987),uc=F(6600);let zc=(()=>{class k{static{this.\u0275fac=function(b){return new(b||k)}}static{this.\u0275mod=G.$C({type:k})}static{this.\u0275inj=G.G2t({imports:[Ws.z_,Ui.jc,Q.MD,Cs.Hl,uc.yE,uc.yE]})}}return k})();var Gs=F(7440),$l=F(2418),Ks=F(5407),ha=F(4665),Ls=F(2214),mc=F(467),A=F(7852),X=F(1076),B=F(1362);const K="firebasestorage.googleapis.com";class _n extends X.g{constructor(u,f,b=0){super(_r(u),`Firebase Storage: ${f} (${_r(u)})`),this.status_=b,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,_n.prototype)}get status(){return this.status_}set status(u){this.status_=u}_codeEquals(u){return _r(u)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(u){this.customData.serverResponse=u,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var qn=function(k){return k.UNKNOWN="unknown",k.OBJECT_NOT_FOUND="object-not-found",k.BUCKET_NOT_FOUND="bucket-not-found",k.PROJECT_NOT_FOUND="project-not-found",k.QUOTA_EXCEEDED="quota-exceeded",k.UNAUTHENTICATED="unauthenticated",k.UNAUTHORIZED="unauthorized",k.UNAUTHORIZED_APP="unauthorized-app",k.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",k.INVALID_CHECKSUM="invalid-checksum",k.CANCELED="canceled",k.INVALID_EVENT_NAME="invalid-event-name",k.INVALID_URL="invalid-url",k.INVALID_DEFAULT_BUCKET="invalid-default-bucket",k.NO_DEFAULT_BUCKET="no-default-bucket",k.CANNOT_SLICE_BLOB="cannot-slice-blob",k.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",k.NO_DOWNLOAD_URL="no-download-url",k.INVALID_ARGUMENT="invalid-argument",k.INVALID_ARGUMENT_COUNT="invalid-argument-count",k.APP_DELETED="app-deleted",k.INVALID_ROOT_OPERATION="invalid-root-operation",k.INVALID_FORMAT="invalid-format",k.INTERNAL_ERROR="internal-error",k.UNSUPPORTED_ENVIRONMENT="unsupported-environment",k}(qn||{});function _r(k){return"storage/"+k}function mo(k){return new _n(qn.INVALID_ARGUMENT,k)}function Ou(){return new _n(qn.APP_DELETED,"The Firebase app was deleted.")}class Fo{constructor(u,f){this.bucket=u,this.path_=f}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const u=encodeURIComponent;return"/b/"+u(this.bucket)+"/o/"+u(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(u,f){let b;try{b=Fo.makeFromUrl(u,f)}catch{return new Fo(u,"")}if(""===b.path)return b;throw function Ki(k){return new _n(qn.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+k+"'.")}(u)}static makeFromUrl(u,f){let b=null;const N="([A-Za-z0-9.\\-_]+)",ge=new RegExp("^gs://"+N+"(/(.*))?$","i");function ct(rr){rr.path_=decodeURIComponent(rr.path)}const cn=f.replace(/[.]/g,"\\."),Kr=[{regex:ge,indices:{bucket:1,path:3},postModify:function W(rr){"/"===rr.path.charAt(rr.path.length-1)&&(rr.path_=rr.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${cn}/v[A-Za-z0-9_]+/b/${N}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:ct},{regex:new RegExp(`^https?://${f===K?"(?:storage.googleapis.com|storage.cloud.google.com)":f}/${N}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:ct}];for(let rr=0;rr<Kr.length;rr++){const ko=Kr[rr],bo=ko.regex.exec(u);if(bo){let si=bo[ko.indices.path];si||(si=""),b=new Fo(bo[ko.indices.bucket],si),ko.postModify(b);break}}if(null==b)throw function As(k){return new _n(qn.INVALID_URL,"Invalid URL '"+k+"'.")}(u);return b}}class gc{constructor(u){this.promise_=Promise.reject(u)}getPromise(){return this.promise_}cancel(u=!1){}}function $n(k,u,f,b){if(b<u)throw mo(`Invalid value for '${k}'. Expected ${u} or greater.`);if(b>f)throw mo(`Invalid value for '${k}'. Expected ${f} or less.`)}var Ia=function(k){return k[k.NO_ERROR=0]="NO_ERROR",k[k.NETWORK_ERROR=1]="NETWORK_ERROR",k[k.ABORT=2]="ABORT",k}(Ia||{});class fl{constructor(u,f,b,N,W,ae,ge,ze,ct,$t,cn,Wn=!0){this.url_=u,this.method_=f,this.headers_=b,this.body_=N,this.successCodes_=W,this.additionalRetryCodes_=ae,this.callback_=ge,this.errorCallback_=ze,this.timeout_=ct,this.progressCallback_=$t,this.connectionFactory_=cn,this.retry=Wn,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((Rn,Cn)=>{this.resolve_=Rn,this.reject_=Cn,this.start_()})}start_(){const f=(b,N)=>{const W=this.resolve_,ae=this.reject_,ge=N.connection;if(N.wasSuccessCode)try{const ze=this.callback_(ge,ge.getResponse());!function hl(k){return void 0!==k}(ze)?W():W(ze)}catch(ze){ae(ze)}else if(null!==ge){const ze=function ar(){return new _n(qn.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}();ze.serverResponse=ge.getErrorText(),ae(this.errorCallback_?this.errorCallback_(ge,ze):ze)}else ae(N.canceled?this.appDelete_?Ou():function Di(){return new _n(qn.CANCELED,"User canceled the upload/download.")}():function so(){return new _n(qn.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}())};this.canceled_?f(0,new Zs(!1,null,!0)):this.backoffId_=function Wl(k,u,f){let b=1,N=null,W=null,ae=!1,ge=0;function ze(){return 2===ge}let ct=!1;function $t(...dr){ct||(ct=!0,u.apply(null,dr))}function cn(dr){N=setTimeout(()=>{N=null,k(Rn,ze())},dr)}function Wn(){W&&clearTimeout(W)}function Rn(dr,...ni){if(ct)return void Wn();if(dr)return Wn(),void $t.call(null,dr,...ni);if(ze()||ae)return Wn(),void $t.call(null,dr,...ni);let Kr;b<64&&(b*=2),1===ge?(ge=2,Kr=0):Kr=1e3*(b+Math.random()),cn(Kr)}let Cn=!1;function Bn(dr){Cn||(Cn=!0,Wn(),!ct&&(null!==N?(dr||(ge=2),clearTimeout(N),cn(0)):dr||(ge=1)))}return cn(0),W=setTimeout(()=>{ae=!0,Bn(!0)},f),Bn}((b,N)=>{if(N)return void b(!1,new Zs(!1,null,!0));const W=this.connectionFactory_();this.pendingConnection_=W;const ae=ge=>{null!==this.progressCallback_&&this.progressCallback_(ge.loaded,ge.lengthComputable?ge.total:-1)};null!==this.progressCallback_&&W.addUploadProgressListener(ae),W.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&W.removeUploadProgressListener(ae),this.pendingConnection_=null;const ge=W.getErrorCode()===Ia.NO_ERROR,ze=W.getStatus();if(!ge||function Gl(k,u){const f=k>=500&&k<600,N=-1!==[408,429].indexOf(k),W=-1!==u.indexOf(k);return f||N||W}(ze,this.additionalRetryCodes_)&&this.retry){const $t=W.getErrorCode()===Ia.ABORT;return void b(!1,new Zs(!1,null,$t))}const ct=-1!==this.successCodes_.indexOf(ze);b(!0,new Zs(ct,W))})},f,this.timeout_)}getPromise(){return this.promise_}cancel(u){this.canceled_=!0,this.appDelete_=u||!1,null!==this.backoffId_&&function Ua(k){k(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class Zs{constructor(u,f,b){this.wasSuccessCode=u,this.connection=f,this.canceled=!!b}}class Ys{constructor(u,f){this._service=u,this._location=f instanceof Fo?f:Fo.makeFromUrl(f,u.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(u,f){return new Ys(u,f)}get root(){const u=new Fo(this._location.bucket,"");return this._newRef(this._service,u)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return function x(k){const u=k.lastIndexOf("/",k.length-2);return-1===u?k:k.slice(u+1)}(this._location.path)}get storage(){return this._service}get parent(){const u=function Lu(k){if(0===k.length)return null;const u=k.lastIndexOf("/");return-1===u?"":k.slice(0,u)}(this._location.path);if(null===u)return null;const f=new Fo(this._location.bucket,u);return new Ys(this._service,f)}_throwIfRoot(u){if(""===this._location.path)throw function bi(k){return new _n(qn.INVALID_ROOT_OPERATION,"The operation '"+k+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(u)}}function Cd(k,u){const f=u?.storageBucket;return null==f?null:Fo.makeFromBucketSpec(f,k)}class Xo{constructor(u,f,b,N,W){this.app=u,this._authProvider=f,this._appCheckProvider=b,this._url=N,this._firebaseVersion=W,this._bucket=null,this._host=K,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=N?Fo.makeFromBucketSpec(N,this._host):Cd(this._host,this.app.options)}get host(){return this._host}set host(u){this._host=u,this._bucket=null!=this._url?Fo.makeFromBucketSpec(this._url,u):Cd(u,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(u){$n("time",0,Number.POSITIVE_INFINITY,u),this._maxUploadRetryTime=u}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(u){$n("time",0,Number.POSITIVE_INFINITY,u),this._maxOperationRetryTime=u}_getAuthToken(){var u=this;return(0,mc.A)(function*(){if(u._overrideAuthToken)return u._overrideAuthToken;const f=u._authProvider.getImmediate({optional:!0});if(f){const b=yield f.getToken();if(null!==b)return b.accessToken}return null})()}_getAppCheckToken(){var u=this;return(0,mc.A)(function*(){const f=u._appCheckProvider.getImmediate({optional:!0});return f?(yield f.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(u=>u.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(u){return new Ys(this,u)}_makeRequest(u,f,b,N,W=!0){if(this._deleted)return new gc(Ou());{const ae=function Kl(k,u,f,b,N,W,ae=!0){const ge=function pl(k){const u=encodeURIComponent;let f="?";for(const b in k)k.hasOwnProperty(b)&&(f=f+(u(b)+"=")+u(k[b])+"&");return f=f.slice(0,-1),f}(k.urlParams),ze=k.url+ge,ct=Object.assign({},k.headers);return function vh(k,u){u&&(k["X-Firebase-GMPID"]=u)}(ct,u),function _c(k,u){null!==u&&u.length>0&&(k.Authorization="Firebase "+u)}(ct,f),function Nu(k,u){k["X-Firebase-Storage-Version"]="webjs/"+(u??"AppManager")}(ct,W),function _h(k,u){null!==u&&(k["X-Firebase-AppCheck"]=u)}(ct,b),new fl(ze,k.method,ct,k.body,k.successCodes,k.additionalRetryCodes,k.handler,k.errorHandler,k.timeout,k.progressCallback,N,ae)}(u,this._appId,b,N,f,this._firebaseVersion,W);return this._requests.add(ae),ae.getPromise().then(()=>this._requests.delete(ae),()=>this._requests.delete(ae)),ae}}makeRequestWithTokens(u,f){var b=this;return(0,mc.A)(function*(){const[N,W]=yield Promise.all([b._getAuthToken(),b._getAppCheckToken()]);return b._makeRequest(u,f,N,W).getPromise()})()}}const Ad="@firebase/storage",gl="storage";function iu(k=(0,A.Sx)(),u){k=(0,X.Ku)(k);const b=(0,A.j6)(k,gl).getImmediate({identifier:u}),N=(0,X.yU)("storage");return N&&function Wu(k,u,f,b={}){!function ea(k,u,f,b={}){k.host=`${u}:${f}`,k._protocol="http";const{mockUserToken:N}=b;N&&(k._overrideAuthToken="string"==typeof N?N:(0,X.Fy)(N,k.app.options.projectId))}(k,u,f,b)}(b,...N),b}function vl(k,{instanceIdentifier:u}){const f=k.getProvider("app").getImmediate(),b=k.getProvider("auth-internal"),N=k.getProvider("app-check-internal");return new Xo(f,b,N,u,A.MF)}!function Ch(){(0,A.om)(new B.uA(gl,vl,"PUBLIC").setMultipleInstances(!0)),(0,A.KO)(Ad,"0.13.2",""),(0,A.KO)(Ad,"0.13.2","esm2017")}();class Gu{constructor(u){return u}}const Ku="storage",Qu=new G.nKC("angularfire2.storage-instances");function el(k){return(u,f)=>{const b=u.runOutsideAngular(()=>k(f));return new Gu(b)}}const Ro={provide:class Ah{constructor(){return(0,Ks.CA)(Ku)}},deps:[[new G.Xx1,Qu]]},vo={provide:Gu,useFactory:function Jc(k,u){const f=(0,Ks.lR)(Ku,k,u);return f&&new Gu(f)},deps:[[new G.Xx1,Qu],Gs.XU]};let Ih=(()=>{class k{constructor(){(0,Ls.KO)("angularfire",Ks.xv.full,"gcs")}static \u0275fac=function(b){return new(b||k)};static \u0275mod=G.$C({type:k});static \u0275inj=G.G2t({providers:[vo,Ro]})}return k})();function _l(k,...u){return{ngModule:Ih,providers:[{provide:Qu,useFactory:el(k),multi:!0,deps:[G.SKi,G.zZn,Ks.u0,Gs.gL,[new G.Xx1,ha.DF],[new G.Xx1,Ks.Jv],...u]}]}}const Zu=(0,Ks.S3)(iu,!0);var Jo=F(8516),cu=F(9030),Yu=F(8810),Sd=F(3726),bl=F(7673),Cc=F(8793),lu=F(1413),La=F(1985),tl=F(5343);const ls=new La.c(tl.l);var Ac=F(7786),ta=F(6354),na=F(5964),Ml=F(5558),Ju=F(17),Rd=F(8071),Fa=F(8750),Ic=F(9974);const Pd={connector:()=>new lu.B};function wl(k,u=Pd){const{connector:f}=u;return(0,Ic.N)((b,N)=>{const W=f();(0,Fa.Tg)(k(function ed(k){return new La.c(u=>k.subscribe(u))}(W))).subscribe(N),N.add(b.subscribe(W))})}var Bs=F(6697),hu=F(8141),Od=F(3236),Tc=F(4360),Vd=F(3703),pu=F(1397);function Ld(k,u){return u?f=>(0,Cc.x)(u.pipe((0,Bs.s)(1),function Nd(){return(0,Ic.N)((k,u)=>{k.subscribe((0,Tc._)(u,tl.l))})}()),f.pipe(Ld(k))):(0,pu.Z)((f,b)=>(0,Fa.Tg)(k(f,b)).pipe((0,Bs.s)(1),(0,Vd.u)(f)))}var Fd=F(1584);const _o="Service workers are disabled or not supported by this browser";class nl{constructor(u){if(this.serviceWorker=u,u){const b=(0,Sd.R)(u,"controllerchange").pipe((0,ta.T)(()=>u.controller)),N=(0,cu.v)(()=>(0,bl.of)(u.controller)),W=(0,Cc.x)(N,b);this.worker=W.pipe((0,na.p)($t=>!!$t)),this.registration=this.worker.pipe((0,Ml.n)(()=>u.getRegistration()));const ct=(0,Sd.R)(u,"message").pipe((0,ta.T)($t=>$t.data)).pipe((0,na.p)($t=>$t&&$t.type)).pipe(function du(k){return k?u=>wl(k)(u):u=>function El(k,u){const f=(0,Rd.T)(k)?k:()=>k;return(0,Rd.T)(u)?wl(u,{connector:f}):b=>new Ju.G(b,f)}(new lu.B)(u)}());ct.connect(),this.events=ct}else this.worker=this.events=this.registration=function L1(k){return(0,cu.v)(()=>(0,Yu.$)(new Error(k)))}(_o)}postMessage(u,f){return this.worker.pipe((0,Bs.s)(1),(0,hu.M)(b=>{b.postMessage({action:u,...f})})).toPromise().then(()=>{})}postMessageWithOperation(u,f,b){const N=this.waitForOperationCompleted(b),W=this.postMessage(u,f);return Promise.all([W,N]).then(([,ae])=>ae)}generateNonce(){return Math.round(1e7*Math.random())}eventsOfType(u){let f;return f="string"==typeof u?b=>b.type===u:b=>u.includes(b.type),this.events.pipe((0,na.p)(f))}nextEventOfType(u){return this.eventsOfType(u).pipe((0,Bs.s)(1))}waitForOperationCompleted(u){return this.eventsOfType("OPERATION_COMPLETED").pipe((0,na.p)(f=>f.nonce===u),(0,Bs.s)(1),(0,ta.T)(f=>{if(void 0!==f.result)return f.result;throw new Error(f.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}}let td=(()=>{class k{get isEnabled(){return this.sw.isEnabled}constructor(f){if(this.sw=f,this.pushManager=null,this.subscriptionChanges=new lu.B,!f.isEnabled)return this.messages=ls,this.notificationClicks=ls,void(this.subscription=ls);this.messages=this.sw.eventsOfType("PUSH").pipe((0,ta.T)(N=>N.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe((0,ta.T)(N=>N.data)),this.pushManager=this.sw.registration.pipe((0,ta.T)(N=>N.pushManager));const b=this.pushManager.pipe((0,Ml.n)(N=>N.getSubscription()));this.subscription=(0,Ac.h)(b,this.subscriptionChanges)}requestSubscription(f){if(!this.sw.isEnabled||null===this.pushManager)return Promise.reject(new Error(_o));const b={userVisibleOnly:!0};let N=this.decodeBase64(f.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),W=new Uint8Array(new ArrayBuffer(N.length));for(let ae=0;ae<N.length;ae++)W[ae]=N.charCodeAt(ae);return b.applicationServerKey=W,this.pushManager.pipe((0,Ml.n)(ae=>ae.subscribe(b)),(0,Bs.s)(1)).toPromise().then(ae=>(this.subscriptionChanges.next(ae),ae))}unsubscribe(){return this.sw.isEnabled?this.subscription.pipe((0,Bs.s)(1),(0,Ml.n)(b=>{if(null===b)throw new Error("Not subscribed to push notifications.");return b.unsubscribe().then(N=>{if(!N)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})})).toPromise():Promise.reject(new Error(_o))}decodeBase64(f){return atob(f)}static{this.\u0275fac=function(b){return new(b||k)(G.KVO(nl))}}static{this.\u0275prov=G.jDH({token:k,factory:k.\u0275fac})}}return k})(),fu=(()=>{class k{get isEnabled(){return this.sw.isEnabled}constructor(f){if(this.sw=f,!f.isEnabled)return this.versionUpdates=ls,this.available=ls,this.activated=ls,void(this.unrecoverable=ls);this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.available=this.versionUpdates.pipe((0,na.p)(b=>"VERSION_READY"===b.type),(0,ta.T)(b=>({type:"UPDATE_AVAILABLE",current:b.currentVersion,available:b.latestVersion}))),this.activated=this.sw.eventsOfType("UPDATE_ACTIVATED"),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(_o));const f=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:f},f)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(_o));const f=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:f},f)}static{this.\u0275fac=function(b){return new(b||k)(G.KVO(nl))}}static{this.\u0275prov=G.jDH({token:k,factory:k.\u0275fac})}}return k})();const xl=new G.nKC("NGSW_REGISTER_SCRIPT");function F1(k,u,f,b){return()=>{if(!(0,Q.UE)(b)||!("serviceWorker"in navigator)||!1===f.enabled)return;let N;if(navigator.serviceWorker.addEventListener("controllerchange",()=>{null!==navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({action:"INITIALIZE"})}),"function"==typeof f.registrationStrategy)N=f.registrationStrategy();else{const[ae,...ge]=(f.registrationStrategy||"registerWhenStable:30000").split(":");switch(ae){case"registerImmediately":N=(0,bl.of)(null);break;case"registerWithDelay":N=B1(+ge[0]||0);break;case"registerWhenStable":N=ge[0]?(0,Ac.h)(j1(k),B1(+ge[0])):j1(k);break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${f.registrationStrategy}`)}}k.get(G.SKi).runOutsideAngular(()=>N.pipe((0,Bs.s)(1)).subscribe(()=>navigator.serviceWorker.register(u,{scope:f.scope}).catch(ae=>console.error("Service worker registration failed with:",ae))))}}function B1(k){return(0,bl.of)(null).pipe(function Gp(k,u=Od.E){const f=(0,Fd.O)(k,u);return Ld(()=>f)}(k))}function j1(k){return k.get(G.o8S).isStable.pipe((0,na.p)(f=>f))}function Kp(k,u){return new nl((0,Q.UE)(u)&&!1!==k.enabled?navigator.serviceWorker:void 0)}class Sh{}function z1(k,u={}){return(0,G.EmA)([td,fu,{provide:xl,useValue:k},{provide:Sh,useValue:u},{provide:nl,useFactory:Kp,deps:[Sh,G.Agw]},{provide:G.hnV,useFactory:F1,deps:[G.zZn,xl,Sh,G.Agw],multi:!0}])}let Dc=(()=>{class k{static register(f,b={}){return{ngModule:k,providers:[z1(f,b)]}}static{this.\u0275fac=function(b){return new(b||k)}}static{this.\u0275mod=G.$C({type:k})}static{this.\u0275inj=G.G2t({providers:[td,fu]})}}return k})(),Cl=(()=>{class k{static{this.\u0275fac=function(b){return new(b||k)}}static{this.\u0275mod=G.$C({type:k,bootstrap:[ne]})}static{this.\u0275inj=G.G2t({imports:[y.Bb,Ie,Be.q1,he.iI,_e.YN,_e.X1,zc,Vo,(0,Gs.MW)(()=>(0,Gs.Wp)(me_firebase)),(0,$l.hV)(()=>(0,$l.aU)()),_l(()=>Zu()),Jo.flO.pick({LayoutDashboard:Jo.HxJ,Package:Jo.lPX,Tags:Jo.YDL,ChefHat:Jo.sEC,ShoppingCart:Jo.JBW,TrendingUp:Jo.ntg,Users:Jo.zWC,FileText:Jo.iUU,Sliders:Jo.rjK,Star:Jo.FEq,ShieldUser:Jo.Fhv,PackageSearch:Jo.zO8}),Dc.register("ngsw-worker.js",{enabled:!(0,G.naY)(),registrationStrategy:"registerWhenStable:30000"})]})}}return k})();y.sG().bootstrapModule(Cl).catch(k=>console.error(k))},4412:(nn,Je,F)=>{F.d(Je,{t:()=>G});var y=F(1413);class G extends y.B{constructor(he){super(),this._value=he}get value(){return this.getValue()}_subscribe(he){const ie=super._subscribe(he);return!ie.closed&&he.next(this._value),ie}getValue(){const{hasError:he,thrownError:ie,_value:se}=this;if(he)throw ie;return this._throwIfClosed(),se}next(he){super.next(this._value=he)}}},1985:(nn,Je,F)=>{F.d(Je,{c:()=>De});var y=F(7707),G=F(8359),_e=F(3494),he=F(1203),ie=F(1026),se=F(8071),Ne=F(9786);let De=(()=>{class Be{constructor(pt){pt&&(this._subscribe=pt)}lift(pt){const _t=new Be;return _t.source=this,_t.operator=pt,_t}subscribe(pt,_t,It){const Nt=function me(Be){return Be&&Be instanceof y.vU||function ne(Be){return Be&&(0,se.T)(Be.next)&&(0,se.T)(Be.error)&&(0,se.T)(Be.complete)}(Be)&&(0,G.Uv)(Be)}(pt)?pt:new y.Ms(pt,_t,It);return(0,Ne.Y)(()=>{const{operator:Lt,source:dn}=this;Nt.add(Lt?Lt.call(Nt,dn):dn?this._subscribe(Nt):this._trySubscribe(Nt))}),Nt}_trySubscribe(pt){try{return this._subscribe(pt)}catch(_t){pt.error(_t)}}forEach(pt,_t){return new(_t=Ie(_t))((It,Nt)=>{const Lt=new y.Ms({next:dn=>{try{pt(dn)}catch(Zt){Nt(Zt),Lt.unsubscribe()}},error:Nt,complete:It});this.subscribe(Lt)})}_subscribe(pt){var _t;return null===(_t=this.source)||void 0===_t?void 0:_t.subscribe(pt)}[_e.s](){return this}pipe(...pt){return(0,he.m)(pt)(this)}toPromise(pt){return new(pt=Ie(pt))((_t,It)=>{let Nt;this.subscribe(Lt=>Nt=Lt,Lt=>It(Lt),()=>_t(Nt))})}}return Be.create=qe=>new Be(qe),Be})();function Ie(Be){var qe;return null!==(qe=Be??ie.$.Promise)&&void 0!==qe?qe:Promise}},1413:(nn,Je,F)=>{F.d(Je,{B:()=>Ne});var y=F(1985),G=F(8359);const he=(0,F(1853).L)(Ie=>function(){Ie(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ie=F(7908),se=F(9786);let Ne=(()=>{class Ie extends y.c{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(me){const Be=new De(this,this);return Be.operator=me,Be}_throwIfClosed(){if(this.closed)throw new he}next(me){(0,se.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Be of this.currentObservers)Be.next(me)}})}error(me){(0,se.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=me;const{observers:Be}=this;for(;Be.length;)Be.shift().error(me)}})}complete(){(0,se.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:me}=this;for(;me.length;)me.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var me;return(null===(me=this.observers)||void 0===me?void 0:me.length)>0}_trySubscribe(me){return this._throwIfClosed(),super._trySubscribe(me)}_subscribe(me){return this._throwIfClosed(),this._checkFinalizedStatuses(me),this._innerSubscribe(me)}_innerSubscribe(me){const{hasError:Be,isStopped:qe,observers:pt}=this;return Be||qe?G.Kn:(this.currentObservers=null,pt.push(me),new G.yU(()=>{this.currentObservers=null,(0,ie.o)(pt,me)}))}_checkFinalizedStatuses(me){const{hasError:Be,thrownError:qe,isStopped:pt}=this;Be?me.error(qe):pt&&me.complete()}asObservable(){const me=new y.c;return me.source=this,me}}return Ie.create=(ne,me)=>new De(ne,me),Ie})();class De extends Ne{constructor(ne,me){super(),this.destination=ne,this.source=me}next(ne){var me,Be;null===(Be=null===(me=this.destination)||void 0===me?void 0:me.next)||void 0===Be||Be.call(me,ne)}error(ne){var me,Be;null===(Be=null===(me=this.destination)||void 0===me?void 0:me.error)||void 0===Be||Be.call(me,ne)}complete(){var ne,me;null===(me=null===(ne=this.destination)||void 0===ne?void 0:ne.complete)||void 0===me||me.call(ne)}_subscribe(ne){var me,Be;return null!==(Be=null===(me=this.source)||void 0===me?void 0:me.subscribe(ne))&&void 0!==Be?Be:G.Kn}}},7707:(nn,Je,F)=>{F.d(Je,{Ms:()=>It,vU:()=>Be});var y=F(8071),G=F(8359),_e=F(1026),he=F(5334),ie=F(5343);const se=Ie("C",void 0,void 0);function Ie(be,We,je){return{kind:be,value:We,error:je}}var ne=F(9270),me=F(9786);class Be extends G.yU{constructor(We){super(),this.isStopped=!1,We?(this.destination=We,(0,G.Uv)(We)&&We.add(this)):this.destination=Zt}static create(We,je,Qe){return new It(We,je,Qe)}next(We){this.isStopped?dn(function De(be){return Ie("N",be,void 0)}(We),this):this._next(We)}error(We){this.isStopped?dn(function Ne(be){return Ie("E",void 0,be)}(We),this):(this.isStopped=!0,this._error(We))}complete(){this.isStopped?dn(se,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(We){this.destination.next(We)}_error(We){try{this.destination.error(We)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const qe=Function.prototype.bind;function pt(be,We){return qe.call(be,We)}class _t{constructor(We){this.partialObserver=We}next(We){const{partialObserver:je}=this;if(je.next)try{je.next(We)}catch(Qe){Nt(Qe)}}error(We){const{partialObserver:je}=this;if(je.error)try{je.error(We)}catch(Qe){Nt(Qe)}else Nt(We)}complete(){const{partialObserver:We}=this;if(We.complete)try{We.complete()}catch(je){Nt(je)}}}class It extends Be{constructor(We,je,Qe){let ft;if(super(),(0,y.T)(We)||!We)ft={next:We??void 0,error:je??void 0,complete:Qe??void 0};else{let Ct;this&&_e.$.useDeprecatedNextContext?(Ct=Object.create(We),Ct.unsubscribe=()=>this.unsubscribe(),ft={next:We.next&&pt(We.next,Ct),error:We.error&&pt(We.error,Ct),complete:We.complete&&pt(We.complete,Ct)}):ft=We}this.destination=new _t(ft)}}function Nt(be){_e.$.useDeprecatedSynchronousErrorHandling?(0,me.l)(be):(0,he.m)(be)}function dn(be,We){const{onStoppedNotification:je}=_e.$;je&&ne.f.setTimeout(()=>je(be,We))}const Zt={closed:!0,next:ie.l,error:function Lt(be){throw be},complete:ie.l}},8359:(nn,Je,F)=>{F.d(Je,{Kn:()=>se,yU:()=>ie,Uv:()=>Ne});var y=F(8071);const _e=(0,F(1853).L)(Ie=>function(me){Ie(this),this.message=me?`${me.length} errors occurred during unsubscription:\n${me.map((Be,qe)=>`${qe+1}) ${Be.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=me});var he=F(7908);class ie{constructor(ne){this.initialTeardown=ne,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let ne;if(!this.closed){this.closed=!0;const{_parentage:me}=this;if(me)if(this._parentage=null,Array.isArray(me))for(const pt of me)pt.remove(this);else me.remove(this);const{initialTeardown:Be}=this;if((0,y.T)(Be))try{Be()}catch(pt){ne=pt instanceof _e?pt.errors:[pt]}const{_finalizers:qe}=this;if(qe){this._finalizers=null;for(const pt of qe)try{De(pt)}catch(_t){ne=ne??[],_t instanceof _e?ne=[...ne,..._t.errors]:ne.push(_t)}}if(ne)throw new _e(ne)}}add(ne){var me;if(ne&&ne!==this)if(this.closed)De(ne);else{if(ne instanceof ie){if(ne.closed||ne._hasParent(this))return;ne._addParent(this)}(this._finalizers=null!==(me=this._finalizers)&&void 0!==me?me:[]).push(ne)}}_hasParent(ne){const{_parentage:me}=this;return me===ne||Array.isArray(me)&&me.includes(ne)}_addParent(ne){const{_parentage:me}=this;this._parentage=Array.isArray(me)?(me.push(ne),me):me?[me,ne]:ne}_removeParent(ne){const{_parentage:me}=this;me===ne?this._parentage=null:Array.isArray(me)&&(0,he.o)(me,ne)}remove(ne){const{_finalizers:me}=this;me&&(0,he.o)(me,ne),ne instanceof ie&&ne._removeParent(this)}}ie.EMPTY=(()=>{const Ie=new ie;return Ie.closed=!0,Ie})();const se=ie.EMPTY;function Ne(Ie){return Ie instanceof ie||Ie&&"closed"in Ie&&(0,y.T)(Ie.remove)&&(0,y.T)(Ie.add)&&(0,y.T)(Ie.unsubscribe)}function De(Ie){(0,y.T)(Ie)?Ie():Ie.unsubscribe()}},1026:(nn,Je,F)=>{F.d(Je,{$:()=>y});const y={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},17:(nn,Je,F)=>{F.d(Je,{G:()=>se});var y=F(1985),G=F(8359),_e=F(9898),he=F(4360),ie=F(9974);class se extends y.c{constructor(De,Ie){super(),this.source=De,this.subjectFactory=Ie,this._subject=null,this._refCount=0,this._connection=null,(0,ie.S)(De)&&(this.lift=De.lift)}_subscribe(De){return this.getSubject().subscribe(De)}getSubject(){const De=this._subject;return(!De||De.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:De}=this;this._subject=this._connection=null,De?.unsubscribe()}connect(){let De=this._connection;if(!De){De=this._connection=new G.yU;const Ie=this.getSubject();De.add(this.source.subscribe((0,he._)(Ie,void 0,()=>{this._teardown(),Ie.complete()},ne=>{this._teardown(),Ie.error(ne)},()=>this._teardown()))),De.closed&&(this._connection=null,De=G.yU.EMPTY)}return De}refCount(){return(0,_e.B)()(this)}}},4572:(nn,Je,F)=>{F.d(Je,{z:()=>ne});var y=F(1985),G=F(3073),_e=F(8455),he=F(3669),ie=F(6450),se=F(9326),Ne=F(8496),De=F(4360),Ie=F(5225);function ne(...qe){const pt=(0,se.lI)(qe),_t=(0,se.ms)(qe),{args:It,keys:Nt}=(0,G.D)(qe);if(0===It.length)return(0,_e.H)([],pt);const Lt=new y.c(function me(qe,pt,_t=he.D){return It=>{Be(pt,()=>{const{length:Nt}=qe,Lt=new Array(Nt);let dn=Nt,Zt=Nt;for(let be=0;be<Nt;be++)Be(pt,()=>{const We=(0,_e.H)(qe[be],pt);let je=!1;We.subscribe((0,De._)(It,Qe=>{Lt[be]=Qe,je||(je=!0,Zt--),Zt||It.next(_t(Lt.slice()))},()=>{--dn||It.complete()}))},It)},It)}}(It,pt,Nt?dn=>(0,Ne.e)(Nt,dn):he.D));return _t?Lt.pipe((0,ie.I)(_t)):Lt}function Be(qe,pt,_t){qe?(0,Ie.N)(_t,qe,pt):pt()}},8793:(nn,Je,F)=>{F.d(Je,{x:()=>ie});var y=F(6365),_e=F(9326),he=F(8455);function ie(...se){return function G(){return(0,y.U)(1)}()((0,he.H)(se,(0,_e.lI)(se)))}},9030:(nn,Je,F)=>{F.d(Je,{v:()=>_e});var y=F(1985),G=F(8750);function _e(he){return new y.c(ie=>{(0,G.Tg)(he()).subscribe(ie)})}},983:(nn,Je,F)=>{F.d(Je,{w:()=>G});const G=new(F(1985).c)(ie=>ie.complete())},7468:(nn,Je,F)=>{F.d(Je,{p:()=>De});var y=F(1985),G=F(3073),_e=F(8750),he=F(9326),ie=F(4360),se=F(6450),Ne=F(8496);function De(...Ie){const ne=(0,he.ms)(Ie),{args:me,keys:Be}=(0,G.D)(Ie),qe=new y.c(pt=>{const{length:_t}=me;if(!_t)return void pt.complete();const It=new Array(_t);let Nt=_t,Lt=_t;for(let dn=0;dn<_t;dn++){let Zt=!1;(0,_e.Tg)(me[dn]).subscribe((0,ie._)(pt,be=>{Zt||(Zt=!0,Lt--),It[dn]=be},()=>Nt--,void 0,()=>{(!Nt||!Zt)&&(Lt||pt.next(Be?(0,Ne.e)(Be,It):It),pt.complete())}))}});return ne?qe.pipe((0,se.I)(ne)):qe}},8455:(nn,Je,F)=>{F.d(Je,{H:()=>We});var y=F(8750),G=F(941),_e=F(6745),se=F(1985),De=F(4761),Ie=F(8071),ne=F(5225);function Be(je,Qe){if(!je)throw new Error("Iterable cannot be null");return new se.c(ft=>{(0,ne.N)(ft,Qe,()=>{const Ct=je[Symbol.asyncIterator]();(0,ne.N)(ft,Qe,()=>{Ct.next().then(Yt=>{Yt.done?ft.complete():ft.next(Yt.value)})},0,!0)})})}var qe=F(5055),pt=F(9858),_t=F(7441),It=F(5397),Nt=F(7953),Lt=F(591),dn=F(5196);function We(je,Qe){return Qe?function be(je,Qe){if(null!=je){if((0,qe.l)(je))return function he(je,Qe){return(0,y.Tg)(je).pipe((0,_e._)(Qe),(0,G.Q)(Qe))}(je,Qe);if((0,_t.X)(je))return function Ne(je,Qe){return new se.c(ft=>{let Ct=0;return Qe.schedule(function(){Ct===je.length?ft.complete():(ft.next(je[Ct++]),ft.closed||this.schedule())})})}(je,Qe);if((0,pt.y)(je))return function ie(je,Qe){return(0,y.Tg)(je).pipe((0,_e._)(Qe),(0,G.Q)(Qe))}(je,Qe);if((0,Nt.T)(je))return Be(je,Qe);if((0,It.x)(je))return function me(je,Qe){return new se.c(ft=>{let Ct;return(0,ne.N)(ft,Qe,()=>{Ct=je[De.l](),(0,ne.N)(ft,Qe,()=>{let Yt,fn;try{({value:Yt,done:fn}=Ct.next())}catch(bn){return void ft.error(bn)}fn?ft.complete():ft.next(Yt)},0,!0)}),()=>(0,Ie.T)(Ct?.return)&&Ct.return()})}(je,Qe);if((0,dn.U)(je))return function Zt(je,Qe){return Be((0,dn.C)(je),Qe)}(je,Qe)}throw(0,Lt.L)(je)}(je,Qe):(0,y.Tg)(je)}},3726:(nn,Je,F)=>{F.d(Je,{R:()=>ne});var y=F(8750),G=F(1985),_e=F(1397),he=F(7441),ie=F(8071),se=F(6450);const Ne=["addListener","removeListener"],De=["addEventListener","removeEventListener"],Ie=["on","off"];function ne(_t,It,Nt,Lt){if((0,ie.T)(Nt)&&(Lt=Nt,Nt=void 0),Lt)return ne(_t,It,Nt).pipe((0,se.I)(Lt));const[dn,Zt]=function pt(_t){return(0,ie.T)(_t.addEventListener)&&(0,ie.T)(_t.removeEventListener)}(_t)?De.map(be=>We=>_t[be](It,We,Nt)):function Be(_t){return(0,ie.T)(_t.addListener)&&(0,ie.T)(_t.removeListener)}(_t)?Ne.map(me(_t,It)):function qe(_t){return(0,ie.T)(_t.on)&&(0,ie.T)(_t.off)}(_t)?Ie.map(me(_t,It)):[];if(!dn&&(0,he.X)(_t))return(0,_e.Z)(be=>ne(be,It,Nt))((0,y.Tg)(_t));if(!dn)throw new TypeError("Invalid event target");return new G.c(be=>{const We=(...je)=>be.next(1<je.length?je:je[0]);return dn(We),()=>Zt(We)})}function me(_t,It){return Nt=>Lt=>_t[Nt](It,Lt)}},8750:(nn,Je,F)=>{F.d(Je,{Tg:()=>qe});var y=F(1635),G=F(7441),_e=F(9858),he=F(1985),ie=F(5055),se=F(7953),Ne=F(591),De=F(5397),Ie=F(5196),ne=F(8071),me=F(5334),Be=F(3494);function qe(be){if(be instanceof he.c)return be;if(null!=be){if((0,ie.l)(be))return function pt(be){return new he.c(We=>{const je=be[Be.s]();if((0,ne.T)(je.subscribe))return je.subscribe(We);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(be);if((0,G.X)(be))return function _t(be){return new he.c(We=>{for(let je=0;je<be.length&&!We.closed;je++)We.next(be[je]);We.complete()})}(be);if((0,_e.y)(be))return function It(be){return new he.c(We=>{be.then(je=>{We.closed||(We.next(je),We.complete())},je=>We.error(je)).then(null,me.m)})}(be);if((0,se.T)(be))return Lt(be);if((0,De.x)(be))return function Nt(be){return new he.c(We=>{for(const je of be)if(We.next(je),We.closed)return;We.complete()})}(be);if((0,Ie.U)(be))return function dn(be){return Lt((0,Ie.C)(be))}(be)}throw(0,Ne.L)(be)}function Lt(be){return new he.c(We=>{(function Zt(be,We){var je,Qe,ft,Ct;return(0,y.sH)(this,void 0,void 0,function*(){try{for(je=(0,y.xN)(be);!(Qe=yield je.next()).done;)if(We.next(Qe.value),We.closed)return}catch(Yt){ft={error:Yt}}finally{try{Qe&&!Qe.done&&(Ct=je.return)&&(yield Ct.call(je))}finally{if(ft)throw ft.error}}We.complete()})})(be,We).catch(je=>We.error(je))})}},7786:(nn,Je,F)=>{F.d(Je,{h:()=>se});var y=F(6365),G=F(8750),_e=F(983),he=F(9326),ie=F(8455);function se(...Ne){const De=(0,he.lI)(Ne),Ie=(0,he.R0)(Ne,1/0),ne=Ne;return ne.length?1===ne.length?(0,G.Tg)(ne[0]):(0,y.U)(Ie)((0,ie.H)(ne,De)):_e.w}},7673:(nn,Je,F)=>{F.d(Je,{of:()=>_e});var y=F(9326),G=F(8455);function _e(...he){const ie=(0,y.lI)(he);return(0,G.H)(he,ie)}},8810:(nn,Je,F)=>{F.d(Je,{$:()=>_e});var y=F(1985),G=F(8071);function _e(he,ie){const se=(0,G.T)(he)?he:()=>he,Ne=De=>De.error(se());return new y.c(ie?De=>ie.schedule(Ne,0,De):Ne)}},1584:(nn,Je,F)=>{F.d(Je,{O:()=>ie});var y=F(1985),G=F(3236),_e=F(9470);function ie(se=0,Ne,De=G.b){let Ie=-1;return null!=Ne&&((0,_e.m)(Ne)?De=Ne:Ie=Ne),new y.c(ne=>{let me=function he(se){return se instanceof Date&&!isNaN(se)}(se)?+se-De.now():se;me<0&&(me=0);let Be=0;return De.schedule(function(){ne.closed||(ne.next(Be++),0<=Ie?this.schedule(void 0,Ie):ne.complete())},me)})}},4360:(nn,Je,F)=>{F.d(Je,{_:()=>G});var y=F(7707);function G(he,ie,se,Ne,De){return new _e(he,ie,se,Ne,De)}class _e extends y.vU{constructor(ie,se,Ne,De,Ie,ne){super(ie),this.onFinalize=Ie,this.shouldUnsubscribe=ne,this._next=se?function(me){try{se(me)}catch(Be){ie.error(Be)}}:super._next,this._error=De?function(me){try{De(me)}catch(Be){ie.error(Be)}finally{this.unsubscribe()}}:super._error,this._complete=Ne?function(){try{Ne()}catch(me){ie.error(me)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ie;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:se}=this;super.unsubscribe(),!se&&(null===(ie=this.onFinalize)||void 0===ie||ie.call(this))}}}},9437:(nn,Je,F)=>{F.d(Je,{W:()=>he});var y=F(8750),G=F(4360),_e=F(9974);function he(ie){return(0,_e.N)((se,Ne)=>{let ne,De=null,Ie=!1;De=se.subscribe((0,G._)(Ne,void 0,void 0,me=>{ne=(0,y.Tg)(ie(me,he(ie)(se))),De?(De.unsubscribe(),De=null,ne.subscribe(Ne)):Ie=!0})),Ie&&(De.unsubscribe(),De=null,ne.subscribe(Ne))})}},274:(nn,Je,F)=>{F.d(Je,{H:()=>_e});var y=F(1397),G=F(8071);function _e(he,ie){return(0,G.T)(ie)?(0,y.Z)(he,ie,1):(0,y.Z)(he,1)}},152:(nn,Je,F)=>{F.d(Je,{B:()=>he});var y=F(3236),G=F(9974),_e=F(4360);function he(ie,se=y.E){return(0,G.N)((Ne,De)=>{let Ie=null,ne=null,me=null;const Be=()=>{if(Ie){Ie.unsubscribe(),Ie=null;const pt=ne;ne=null,De.next(pt)}};function qe(){const pt=me+ie,_t=se.now();if(_t<pt)return Ie=this.schedule(void 0,pt-_t),void De.add(Ie);Be()}Ne.subscribe((0,_e._)(De,pt=>{ne=pt,me=se.now(),Ie||(Ie=se.schedule(qe,ie),De.add(Ie))},()=>{Be(),De.complete()},void 0,()=>{ne=Ie=null}))})}},3294:(nn,Je,F)=>{F.d(Je,{F:()=>he});var y=F(3669),G=F(9974),_e=F(4360);function he(se,Ne=y.D){return se=se??ie,(0,G.N)((De,Ie)=>{let ne,me=!0;De.subscribe((0,_e._)(Ie,Be=>{const qe=Ne(Be);(me||!se(ne,qe))&&(me=!1,ne=qe,Ie.next(Be))}))})}function ie(se,Ne){return se===Ne}},5964:(nn,Je,F)=>{F.d(Je,{p:()=>_e});var y=F(9974),G=F(4360);function _e(he,ie){return(0,y.N)((se,Ne)=>{let De=0;se.subscribe((0,G._)(Ne,Ie=>he.call(ie,Ie,De++)&&Ne.next(Ie)))})}},980:(nn,Je,F)=>{F.d(Je,{j:()=>G});var y=F(9974);function G(_e){return(0,y.N)((he,ie)=>{try{he.subscribe(ie)}finally{ie.add(_e)}})}},6354:(nn,Je,F)=>{F.d(Je,{T:()=>_e});var y=F(9974),G=F(4360);function _e(he,ie){return(0,y.N)((se,Ne)=>{let De=0;se.subscribe((0,G._)(Ne,Ie=>{Ne.next(he.call(ie,Ie,De++))}))})}},3703:(nn,Je,F)=>{F.d(Je,{u:()=>G});var y=F(6354);function G(_e){return(0,y.T)(()=>_e)}},6365:(nn,Je,F)=>{F.d(Je,{U:()=>_e});var y=F(1397),G=F(3669);function _e(he=1/0){return(0,y.Z)(G.D,he)}},1397:(nn,Je,F)=>{F.d(Je,{Z:()=>De});var y=F(6354),G=F(8750),_e=F(9974),he=F(5225),ie=F(4360),Ne=F(8071);function De(Ie,ne,me=1/0){return(0,Ne.T)(ne)?De((Be,qe)=>(0,y.T)((pt,_t)=>ne(Be,pt,qe,_t))((0,G.Tg)(Ie(Be,qe))),me):("number"==typeof ne&&(me=ne),(0,_e.N)((Be,qe)=>function se(Ie,ne,me,Be,qe,pt,_t,It){const Nt=[];let Lt=0,dn=0,Zt=!1;const be=()=>{Zt&&!Nt.length&&!Lt&&ne.complete()},We=Qe=>Lt<Be?je(Qe):Nt.push(Qe),je=Qe=>{pt&&ne.next(Qe),Lt++;let ft=!1;(0,G.Tg)(me(Qe,dn++)).subscribe((0,ie._)(ne,Ct=>{qe?.(Ct),pt?We(Ct):ne.next(Ct)},()=>{ft=!0},void 0,()=>{if(ft)try{for(Lt--;Nt.length&&Lt<Be;){const Ct=Nt.shift();_t?(0,he.N)(ne,_t,()=>je(Ct)):je(Ct)}be()}catch(Ct){ne.error(Ct)}}))};return Ie.subscribe((0,ie._)(ne,We,()=>{Zt=!0,be()})),()=>{It?.()}}(Be,qe,Ie,me)))}},941:(nn,Je,F)=>{F.d(Je,{Q:()=>he});var y=F(5225),G=F(9974),_e=F(4360);function he(ie,se=0){return(0,G.N)((Ne,De)=>{Ne.subscribe((0,_e._)(De,Ie=>(0,y.N)(De,ie,()=>De.next(Ie),se),()=>(0,y.N)(De,ie,()=>De.complete(),se),Ie=>(0,y.N)(De,ie,()=>De.error(Ie),se)))})}},9898:(nn,Je,F)=>{F.d(Je,{B:()=>_e});var y=F(9974),G=F(4360);function _e(){return(0,y.N)((he,ie)=>{let se=null;he._refCount++;const Ne=(0,G._)(ie,void 0,void 0,void 0,()=>{if(!he||he._refCount<=0||0<--he._refCount)return void(se=null);const De=he._connection,Ie=se;se=null,De&&(!Ie||De===Ie)&&De.unsubscribe(),ie.unsubscribe()});he.subscribe(Ne),Ne.closed||(se=he.connect())})}},7647:(nn,Je,F)=>{F.d(Je,{u:()=>ie});var y=F(8750),G=F(1413),_e=F(7707),he=F(9974);function ie(Ne={}){const{connector:De=(()=>new G.B),resetOnError:Ie=!0,resetOnComplete:ne=!0,resetOnRefCountZero:me=!0}=Ne;return Be=>{let qe,pt,_t,It=0,Nt=!1,Lt=!1;const dn=()=>{pt?.unsubscribe(),pt=void 0},Zt=()=>{dn(),qe=_t=void 0,Nt=Lt=!1},be=()=>{const We=qe;Zt(),We?.unsubscribe()};return(0,he.N)((We,je)=>{It++,!Lt&&!Nt&&dn();const Qe=_t=_t??De();je.add(()=>{It--,0===It&&!Lt&&!Nt&&(pt=se(be,me))}),Qe.subscribe(je),!qe&&It>0&&(qe=new _e.Ms({next:ft=>Qe.next(ft),error:ft=>{Lt=!0,dn(),pt=se(Zt,Ie,ft),Qe.error(ft)},complete:()=>{Nt=!0,dn(),pt=se(Zt,ne),Qe.complete()}}),(0,y.Tg)(We).subscribe(qe))})(Be)}}function se(Ne,De,...Ie){if(!0===De)return void Ne();if(!1===De)return;const ne=new _e.Ms({next:()=>{ne.unsubscribe(),Ne()}});return(0,y.Tg)(De(...Ie)).subscribe(ne)}},9172:(nn,Je,F)=>{F.d(Je,{Z:()=>he});var y=F(8793),G=F(9326),_e=F(9974);function he(...ie){const se=(0,G.lI)(ie);return(0,_e.N)((Ne,De)=>{(se?(0,y.x)(ie,Ne,se):(0,y.x)(ie,Ne)).subscribe(De)})}},6745:(nn,Je,F)=>{F.d(Je,{_:()=>G});var y=F(9974);function G(_e,he=0){return(0,y.N)((ie,se)=>{se.add(_e.schedule(()=>ie.subscribe(se),he))})}},5558:(nn,Je,F)=>{F.d(Je,{n:()=>he});var y=F(8750),G=F(9974),_e=F(4360);function he(ie,se){return(0,G.N)((Ne,De)=>{let Ie=null,ne=0,me=!1;const Be=()=>me&&!Ie&&De.complete();Ne.subscribe((0,_e._)(De,qe=>{Ie?.unsubscribe();let pt=0;const _t=ne++;(0,y.Tg)(ie(qe,_t)).subscribe(Ie=(0,_e._)(De,It=>De.next(se?se(qe,It,_t,pt++):It),()=>{Ie=null,Be()}))},()=>{me=!0,Be()}))})}},6697:(nn,Je,F)=>{F.d(Je,{s:()=>he});var y=F(983),G=F(9974),_e=F(4360);function he(ie){return ie<=0?()=>y.w:(0,G.N)((se,Ne)=>{let De=0;se.subscribe((0,_e._)(Ne,Ie=>{++De<=ie&&(Ne.next(Ie),ie<=De&&Ne.complete())}))})}},6977:(nn,Je,F)=>{F.d(Je,{Q:()=>ie});var y=F(9974),G=F(4360),_e=F(8750),he=F(5343);function ie(se){return(0,y.N)((Ne,De)=>{(0,_e.Tg)(se).subscribe((0,G._)(De,()=>De.complete(),he.l)),!De.closed&&Ne.subscribe(De)})}},8141:(nn,Je,F)=>{F.d(Je,{M:()=>ie});var y=F(8071),G=F(9974),_e=F(4360),he=F(3669);function ie(se,Ne,De){const Ie=(0,y.T)(se)||Ne||De?{next:se,error:Ne,complete:De}:se;return Ie?(0,G.N)((ne,me)=>{var Be;null===(Be=Ie.subscribe)||void 0===Be||Be.call(Ie);let qe=!0;ne.subscribe((0,_e._)(me,pt=>{var _t;null===(_t=Ie.next)||void 0===_t||_t.call(Ie,pt),me.next(pt)},()=>{var pt;qe=!1,null===(pt=Ie.complete)||void 0===pt||pt.call(Ie),me.complete()},pt=>{var _t;qe=!1,null===(_t=Ie.error)||void 0===_t||_t.call(Ie,pt),me.error(pt)},()=>{var pt,_t;qe&&(null===(pt=Ie.unsubscribe)||void 0===pt||pt.call(Ie)),null===(_t=Ie.finalize)||void 0===_t||_t.call(Ie)}))}):he.D}},6780:(nn,Je,F)=>{F.d(Je,{R:()=>ie});var y=F(8359);class G extends y.yU{constructor(Ne,De){super()}schedule(Ne,De=0){return this}}const _e={setInterval(se,Ne,...De){const{delegate:Ie}=_e;return Ie?.setInterval?Ie.setInterval(se,Ne,...De):setInterval(se,Ne,...De)},clearInterval(se){const{delegate:Ne}=_e;return(Ne?.clearInterval||clearInterval)(se)},delegate:void 0};var he=F(7908);class ie extends G{constructor(Ne,De){super(Ne,De),this.scheduler=Ne,this.work=De,this.pending=!1}schedule(Ne,De=0){var Ie;if(this.closed)return this;this.state=Ne;const ne=this.id,me=this.scheduler;return null!=ne&&(this.id=this.recycleAsyncId(me,ne,De)),this.pending=!0,this.delay=De,this.id=null!==(Ie=this.id)&&void 0!==Ie?Ie:this.requestAsyncId(me,this.id,De),this}requestAsyncId(Ne,De,Ie=0){return _e.setInterval(Ne.flush.bind(Ne,this),Ie)}recycleAsyncId(Ne,De,Ie=0){if(null!=Ie&&this.delay===Ie&&!1===this.pending)return De;null!=De&&_e.clearInterval(De)}execute(Ne,De){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Ie=this._execute(Ne,De);if(Ie)return Ie;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Ne,De){let ne,Ie=!1;try{this.work(Ne)}catch(me){Ie=!0,ne=me||new Error("Scheduled action threw falsy error")}if(Ie)return this.unsubscribe(),ne}unsubscribe(){if(!this.closed){const{id:Ne,scheduler:De}=this,{actions:Ie}=De;this.work=this.state=this.scheduler=null,this.pending=!1,(0,he.o)(Ie,this),null!=Ne&&(this.id=this.recycleAsyncId(De,Ne,null)),this.delay=null,super.unsubscribe()}}}},3604:(nn,Je,F)=>{F.d(Je,{q:()=>_e});const y={now:()=>(y.delegate||Date).now(),delegate:void 0};class G{constructor(ie,se=G.now){this.schedulerActionCtor=ie,this.now=se}schedule(ie,se=0,Ne){return new this.schedulerActionCtor(this,ie).schedule(Ne,se)}}G.now=y.now;class _e extends G{constructor(ie,se=G.now){super(ie,se),this.actions=[],this._active=!1}flush(ie){const{actions:se}=this;if(this._active)return void se.push(ie);let Ne;this._active=!0;do{if(Ne=ie.execute(ie.state,ie.delay))break}while(ie=se.shift());if(this._active=!1,Ne){for(;ie=se.shift();)ie.unsubscribe();throw Ne}}}},3236:(nn,Je,F)=>{F.d(Je,{E:()=>_e,b:()=>he});var y=F(6780);const _e=new(F(3604).q)(y.R),he=_e},9270:(nn,Je,F)=>{F.d(Je,{f:()=>y});const y={setTimeout(G,_e,...he){const{delegate:ie}=y;return ie?.setTimeout?ie.setTimeout(G,_e,...he):setTimeout(G,_e,...he)},clearTimeout(G){const{delegate:_e}=y;return(_e?.clearTimeout||clearTimeout)(G)},delegate:void 0}},4761:(nn,Je,F)=>{F.d(Je,{l:()=>G});const G=function y(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},3494:(nn,Je,F)=>{F.d(Je,{s:()=>y});const y="function"==typeof Symbol&&Symbol.observable||"@@observable"},9326:(nn,Je,F)=>{F.d(Je,{R0:()=>se,lI:()=>ie,ms:()=>he});var y=F(8071),G=F(9470);function _e(Ne){return Ne[Ne.length-1]}function he(Ne){return(0,y.T)(_e(Ne))?Ne.pop():void 0}function ie(Ne){return(0,G.m)(_e(Ne))?Ne.pop():void 0}function se(Ne,De){return"number"==typeof _e(Ne)?Ne.pop():De}},3073:(nn,Je,F)=>{F.d(Je,{D:()=>ie});const{isArray:y}=Array,{getPrototypeOf:G,prototype:_e,keys:he}=Object;function ie(Ne){if(1===Ne.length){const De=Ne[0];if(y(De))return{args:De,keys:null};if(function se(Ne){return Ne&&"object"==typeof Ne&&G(Ne)===_e}(De)){const Ie=he(De);return{args:Ie.map(ne=>De[ne]),keys:Ie}}}return{args:Ne,keys:null}}},7908:(nn,Je,F)=>{function y(G,_e){if(G){const he=G.indexOf(_e);0<=he&&G.splice(he,1)}}F.d(Je,{o:()=>y})},1853:(nn,Je,F)=>{function y(G){const he=G(ie=>{Error.call(ie),ie.stack=(new Error).stack});return he.prototype=Object.create(Error.prototype),he.prototype.constructor=he,he}F.d(Je,{L:()=>y})},8496:(nn,Je,F)=>{function y(G,_e){return G.reduce((he,ie,se)=>(he[ie]=_e[se],he),{})}F.d(Je,{e:()=>y})},9786:(nn,Je,F)=>{F.d(Je,{Y:()=>_e,l:()=>he});var y=F(1026);let G=null;function _e(ie){if(y.$.useDeprecatedSynchronousErrorHandling){const se=!G;if(se&&(G={errorThrown:!1,error:null}),ie(),se){const{errorThrown:Ne,error:De}=G;if(G=null,Ne)throw De}}else ie()}function he(ie){y.$.useDeprecatedSynchronousErrorHandling&&G&&(G.errorThrown=!0,G.error=ie)}},5225:(nn,Je,F)=>{function y(G,_e,he,ie=0,se=!1){const Ne=_e.schedule(function(){he(),se?G.add(this.schedule(null,ie)):this.unsubscribe()},ie);if(G.add(Ne),!se)return Ne}F.d(Je,{N:()=>y})},3669:(nn,Je,F)=>{function y(G){return G}F.d(Je,{D:()=>y})},7441:(nn,Je,F)=>{F.d(Je,{X:()=>y});const y=G=>G&&"number"==typeof G.length&&"function"!=typeof G},7953:(nn,Je,F)=>{F.d(Je,{T:()=>G});var y=F(8071);function G(_e){return Symbol.asyncIterator&&(0,y.T)(_e?.[Symbol.asyncIterator])}},8071:(nn,Je,F)=>{function y(G){return"function"==typeof G}F.d(Je,{T:()=>y})},5055:(nn,Je,F)=>{F.d(Je,{l:()=>_e});var y=F(3494),G=F(8071);function _e(he){return(0,G.T)(he[y.s])}},5397:(nn,Je,F)=>{F.d(Je,{x:()=>_e});var y=F(4761),G=F(8071);function _e(he){return(0,G.T)(he?.[y.l])}},4402:(nn,Je,F)=>{F.d(Je,{A:()=>_e});var y=F(1985),G=F(8071);function _e(he){return!!he&&(he instanceof y.c||(0,G.T)(he.lift)&&(0,G.T)(he.subscribe))}},9858:(nn,Je,F)=>{F.d(Je,{y:()=>G});var y=F(8071);function G(_e){return(0,y.T)(_e?.then)}},5196:(nn,Je,F)=>{F.d(Je,{C:()=>_e,U:()=>he});var y=F(1635),G=F(8071);function _e(ie){return(0,y.AQ)(this,arguments,function*(){const Ne=ie.getReader();try{for(;;){const{value:De,done:Ie}=yield(0,y.N3)(Ne.read());if(Ie)return yield(0,y.N3)(void 0);yield yield(0,y.N3)(De)}}finally{Ne.releaseLock()}})}function he(ie){return(0,G.T)(ie?.getReader)}},9470:(nn,Je,F)=>{F.d(Je,{m:()=>G});var y=F(8071);function G(_e){return _e&&(0,y.T)(_e.schedule)}},9974:(nn,Je,F)=>{F.d(Je,{N:()=>_e,S:()=>G});var y=F(8071);function G(he){return(0,y.T)(he?.lift)}function _e(he){return ie=>{if(G(ie))return ie.lift(function(se){try{return he(se,this)}catch(Ne){this.error(Ne)}});throw new TypeError("Unable to lift unknown Observable type")}}},6450:(nn,Je,F)=>{F.d(Je,{I:()=>he});var y=F(6354);const{isArray:G}=Array;function he(ie){return(0,y.T)(se=>function _e(ie,se){return G(se)?ie(...se):ie(se)}(ie,se))}},5343:(nn,Je,F)=>{function y(){}F.d(Je,{l:()=>y})},1203:(nn,Je,F)=>{F.d(Je,{F:()=>G,m:()=>_e});var y=F(3669);function G(...he){return _e(he)}function _e(he){return 0===he.length?y.D:1===he.length?he[0]:function(se){return he.reduce((Ne,De)=>De(Ne),se)}}},5334:(nn,Je,F)=>{F.d(Je,{m:()=>_e});var y=F(1026),G=F(9270);function _e(he){G.f.setTimeout(()=>{const{onUnhandledError:ie}=y.$;if(!ie)throw he;ie(he)})}},591:(nn,Je,F)=>{function y(G){return new TypeError(`You provided ${null!==G&&"object"==typeof G?"an invalid object":`'${G}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}F.d(Je,{L:()=>y})},9969:(nn,Je,F)=>{F.d(Je,{FX:()=>dn,K2:()=>Ne,MA:()=>qe,Os:()=>se,P:()=>_t,Ro:()=>G,S6:()=>y,hZ:()=>he,i0:()=>ie,i7:()=>ne,iF:()=>De,kY:()=>me,kp:()=>_e,sf:()=>Nt,ui:()=>Lt,wk:()=>Ie});class y{}class G{}const _e="*";function he(Zt,be){return{type:7,name:Zt,definitions:be,options:{}}}function ie(Zt,be=null){return{type:4,styles:be,timings:Zt}}function se(Zt,be=null){return{type:3,steps:Zt,options:be}}function Ne(Zt,be=null){return{type:2,steps:Zt,options:be}}function De(Zt){return{type:6,styles:Zt,offset:null}}function Ie(Zt,be,We){return{type:0,name:Zt,styles:be,options:We}}function ne(Zt){return{type:5,steps:Zt}}function me(Zt,be,We=null){return{type:1,expr:Zt,animation:be,options:We}}function qe(Zt=null){return{type:9,options:Zt}}function _t(Zt,be,We=null){return{type:11,selector:Zt,animation:be,options:We}}class Nt{constructor(be=0,We=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=be+We}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(be=>be()),this._onDoneFns=[])}onStart(be){this._originalOnStartFns.push(be),this._onStartFns.push(be)}onDone(be){this._originalOnDoneFns.push(be),this._onDoneFns.push(be)}onDestroy(be){this._onDestroyFns.push(be)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(be=>be()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(be=>be()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(be){this._position=this.totalTime?be*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(be){const We="start"==be?this._onStartFns:this._onDoneFns;We.forEach(je=>je()),We.length=0}}class Lt{constructor(be){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=be;let We=0,je=0,Qe=0;const ft=this.players.length;0==ft?queueMicrotask(()=>this._onFinish()):this.players.forEach(Ct=>{Ct.onDone(()=>{++We==ft&&this._onFinish()}),Ct.onDestroy(()=>{++je==ft&&this._onDestroy()}),Ct.onStart(()=>{++Qe==ft&&this._onStart()})}),this.totalTime=this.players.reduce((Ct,Yt)=>Math.max(Ct,Yt.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(be=>be()),this._onDoneFns=[])}init(){this.players.forEach(be=>be.init())}onStart(be){this._onStartFns.push(be)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(be=>be()),this._onStartFns=[])}onDone(be){this._onDoneFns.push(be)}onDestroy(be){this._onDestroyFns.push(be)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(be=>be.play())}pause(){this.players.forEach(be=>be.pause())}restart(){this.players.forEach(be=>be.restart())}finish(){this._onFinish(),this.players.forEach(be=>be.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(be=>be.destroy()),this._onDestroyFns.forEach(be=>be()),this._onDestroyFns=[])}reset(){this.players.forEach(be=>be.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(be){const We=be*this.totalTime;this.players.forEach(je=>{const Qe=je.totalTime?Math.min(1,We/je.totalTime):1;je.setPosition(Qe)})}getPosition(){const be=this.players.reduce((We,je)=>null===We||je.totalTime>We.totalTime?je:We,null);return null!=be?be.getPosition():0}beforeDestroy(){this.players.forEach(be=>{be.beforeDestroy&&be.beforeDestroy()})}triggerCallback(be){const We="start"==be?this._onStartFns:this._onDoneFns;We.forEach(je=>je()),We.length=0}}const dn="!"},7645:(nn,Je,F)=>{F.d(Je,{Pd:()=>Se,Bu:()=>vn,FN:()=>St,GX:()=>it,Q_:()=>ve,Z7:()=>an,_G:()=>qt,w6:()=>Gn});var y=F(177),G=F(7705),_e=F(6860),he=F(1413),ie=F(8359),se=F(4412),Ne=F(7673),De=F(7336),Ie=F(8141),ne=F(152),me=F(5964),Be=F(6354),qe=F(6697);function pt(Me){return(0,me.p)((ye,re)=>Me<=re)}var _t=F(3294),It=F(6977),Nt=F(4085),Lt=F(2318),dn=F(4572),Zt=F(8793),be=F(1985),We=F(9172);const Qe=new Set;let ft,Ct=(()=>{class Me{constructor(re,Te){this._platform=re,this._nonce=Te,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):fn}matchMedia(re){return(this._platform.WEBKIT||this._platform.BLINK)&&function Yt(Me,ye){if(!Qe.has(Me))try{ft||(ft=document.createElement("style"),ye&&(ft.nonce=ye),ft.setAttribute("type","text/css"),document.head.appendChild(ft)),ft.sheet&&(ft.sheet.insertRule(`@media ${Me} {body{ }}`,0),Qe.add(Me))}catch(re){console.error(re)}}(re,this._nonce),this._matchMedia(re)}static{this.\u0275fac=function(Te){return new(Te||Me)(G.KVO(_e.OD),G.KVO(G.BIS,8))}}static{this.\u0275prov=G.jDH({token:Me,factory:Me.\u0275fac,providedIn:"root"})}}return Me})();function fn(Me){return{matches:"all"===Me||""===Me,media:Me,addListener:()=>{},removeListener:()=>{}}}let bn=(()=>{class Me{constructor(re,Te){this._mediaMatcher=re,this._zone=Te,this._queries=new Map,this._destroySubject=new he.B}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(re){return Ln((0,Nt.FG)(re)).some(st=>this._registerQuery(st).mql.matches)}observe(re){const st=Ln((0,Nt.FG)(re)).map(Ee=>this._registerQuery(Ee).observable);let Gt=(0,dn.z)(st);return Gt=(0,Zt.x)(Gt.pipe((0,qe.s)(1)),Gt.pipe(pt(1),(0,ne.B)(0))),Gt.pipe((0,Be.T)(Ee=>{const we={matches:!1,breakpoints:{}};return Ee.forEach(({matches:Le,query:At})=>{we.matches=we.matches||Le,we.breakpoints[At]=Le}),we}))}_registerQuery(re){if(this._queries.has(re))return this._queries.get(re);const Te=this._mediaMatcher.matchMedia(re),Gt={observable:new be.c(Ee=>{const we=Le=>this._zone.run(()=>Ee.next(Le));return Te.addListener(we),()=>{Te.removeListener(we)}}).pipe((0,We.Z)(Te),(0,Be.T)(({matches:Ee})=>({query:re,matches:Ee})),(0,It.Q)(this._destroySubject)),mql:Te};return this._queries.set(re,Gt),Gt}static{this.\u0275fac=function(Te){return new(Te||Me)(G.KVO(Ct),G.KVO(G.SKi))}}static{this.\u0275prov=G.jDH({token:Me,factory:Me.\u0275fac,providedIn:"root"})}}return Me})();function Ln(Me){return Me.map(ye=>ye.split(",")).reduce((ye,re)=>ye.concat(re)).map(ye=>ye.trim())}class yt{constructor(ye){this._items=ye,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new he.B,this._typeaheadSubscription=ie.yU.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=re=>re.disabled,this._pressedLetters=[],this.tabOut=new he.B,this.change=new he.B,ye instanceof G.rOR&&(this._itemChangesSubscription=ye.changes.subscribe(re=>{if(this._activeItem){const st=re.toArray().indexOf(this._activeItem);st>-1&&st!==this._activeItemIndex&&(this._activeItemIndex=st)}}))}skipPredicate(ye){return this._skipPredicateFn=ye,this}withWrap(ye=!0){return this._wrap=ye,this}withVerticalOrientation(ye=!0){return this._vertical=ye,this}withHorizontalOrientation(ye){return this._horizontal=ye,this}withAllowedModifierKeys(ye){return this._allowedModifierKeys=ye,this}withTypeAhead(ye=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,Ie.M)(re=>this._pressedLetters.push(re)),(0,ne.B)(ye),(0,me.p)(()=>this._pressedLetters.length>0),(0,Be.T)(()=>this._pressedLetters.join(""))).subscribe(re=>{const Te=this._getItemsArray();for(let st=1;st<Te.length+1;st++){const Gt=(this._activeItemIndex+st)%Te.length,Ee=Te[Gt];if(!this._skipPredicateFn(Ee)&&0===Ee.getLabel().toUpperCase().trim().indexOf(re)){this.setActiveItem(Gt);break}}this._pressedLetters=[]}),this}cancelTypeahead(){return this._pressedLetters=[],this}withHomeAndEnd(ye=!0){return this._homeAndEnd=ye,this}withPageUpDown(ye=!0,re=10){return this._pageUpAndDown={enabled:ye,delta:re},this}setActiveItem(ye){const re=this._activeItem;this.updateActiveItem(ye),this._activeItem!==re&&this.change.next(this._activeItemIndex)}onKeydown(ye){const re=ye.keyCode,st=["altKey","ctrlKey","metaKey","shiftKey"].every(Gt=>!ye[Gt]||this._allowedModifierKeys.indexOf(Gt)>-1);switch(re){case De.wn:return void this.tabOut.next();case De.n6:if(this._vertical&&st){this.setNextItemActive();break}return;case De.i7:if(this._vertical&&st){this.setPreviousItemActive();break}return;case De.LE:if(this._horizontal&&st){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case De.UQ:if(this._horizontal&&st){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case De.yZ:if(this._homeAndEnd&&st){this.setFirstItemActive();break}return;case De.Kp:if(this._homeAndEnd&&st){this.setLastItemActive();break}return;case De.w_:if(this._pageUpAndDown.enabled&&st){const Gt=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(Gt>0?Gt:0,1);break}return;case De.dB:if(this._pageUpAndDown.enabled&&st){const Gt=this._activeItemIndex+this._pageUpAndDown.delta,Ee=this._getItemsArray().length;this._setActiveItemByIndex(Gt<Ee?Gt:Ee-1,-1);break}return;default:return void((st||(0,De.rp)(ye,"shiftKey"))&&(ye.key&&1===ye.key.length?this._letterKeyStream.next(ye.key.toLocaleUpperCase()):(re>=De.A&&re<=De.Z||re>=De.f2&&re<=De.bn)&&this._letterKeyStream.next(String.fromCharCode(re))))}this._pressedLetters=[],ye.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(ye){const re=this._getItemsArray(),Te="number"==typeof ye?ye:re.indexOf(ye);this._activeItem=re[Te]??null,this._activeItemIndex=Te}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._letterKeyStream.complete(),this.tabOut.complete(),this.change.complete(),this._pressedLetters=[]}_setActiveItemByDelta(ye){this._wrap?this._setActiveInWrapMode(ye):this._setActiveInDefaultMode(ye)}_setActiveInWrapMode(ye){const re=this._getItemsArray();for(let Te=1;Te<=re.length;Te++){const st=(this._activeItemIndex+ye*Te+re.length)%re.length;if(!this._skipPredicateFn(re[st]))return void this.setActiveItem(st)}}_setActiveInDefaultMode(ye){this._setActiveItemByIndex(this._activeItemIndex+ye,ye)}_setActiveItemByIndex(ye,re){const Te=this._getItemsArray();if(Te[ye]){for(;this._skipPredicateFn(Te[ye]);)if(!Te[ye+=re])return;this.setActiveItem(ye)}}_getItemsArray(){return this._items instanceof G.rOR?this._items.toArray():this._items}}class vn extends yt{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(ye){return this._origin=ye,this}setActiveItem(ye){super.setActiveItem(ye),this.activeItem&&this.activeItem.focus(this._origin)}}let an=(()=>{class Me{constructor(re){this._platform=re}isDisabled(re){return re.hasAttribute("disabled")}isVisible(re){return function Nn(Me){return!!(Me.offsetWidth||Me.offsetHeight||"function"==typeof Me.getClientRects&&Me.getClientRects().length)}(re)&&"visible"===getComputedStyle(re).visibility}isTabbable(re){if(!this._platform.isBrowser)return!1;const Te=function In(Me){try{return Me.frameElement}catch{return null}}(function rt(Me){return Me.ownerDocument&&Me.ownerDocument.defaultView||window}(re));if(Te&&(-1===oe(Te)||!this.isVisible(Te)))return!1;let st=re.nodeName.toLowerCase(),Gt=oe(re);return re.hasAttribute("contenteditable")?-1!==Gt:!("iframe"===st||"object"===st||this._platform.WEBKIT&&this._platform.IOS&&!function Ce(Me){let ye=Me.nodeName.toLowerCase(),re="input"===ye&&Me.type;return"text"===re||"password"===re||"select"===ye||"textarea"===ye}(re))&&("audio"===st?!!re.hasAttribute("controls")&&-1!==Gt:"video"===st?-1!==Gt&&(null!==Gt||this._platform.FIREFOX||re.hasAttribute("controls")):re.tabIndex>=0)}isFocusable(re,Te){return function Ae(Me){return!function Fn(Me){return function lr(Me){return"input"==Me.nodeName.toLowerCase()}(Me)&&"hidden"==Me.type}(Me)&&(function gr(Me){let ye=Me.nodeName.toLowerCase();return"input"===ye||"select"===ye||"button"===ye||"textarea"===ye}(Me)||function cr(Me){return function hn(Me){return"a"==Me.nodeName.toLowerCase()}(Me)&&Me.hasAttribute("href")}(Me)||Me.hasAttribute("contenteditable")||Pt(Me))}(re)&&!this.isDisabled(re)&&(Te?.ignoreVisibility||this.isVisible(re))}static{this.\u0275fac=function(Te){return new(Te||Me)(G.KVO(_e.OD))}}static{this.\u0275prov=G.jDH({token:Me,factory:Me.\u0275fac,providedIn:"root"})}}return Me})();function Pt(Me){if(!Me.hasAttribute("tabindex")||void 0===Me.tabIndex)return!1;let ye=Me.getAttribute("tabindex");return!(!ye||isNaN(parseInt(ye,10)))}function oe(Me){if(!Pt(Me))return null;const ye=parseInt(Me.getAttribute("tabindex")||"",10);return isNaN(ye)?-1:ye}class Ye{get enabled(){return this._enabled}set enabled(ye){this._enabled=ye,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(ye,this._startAnchor),this._toggleAnchorTabIndex(ye,this._endAnchor))}constructor(ye,re,Te,st,Gt=!1){this._element=ye,this._checker=re,this._ngZone=Te,this._document=st,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,Gt||this.attachAnchors()}destroy(){const ye=this._startAnchor,re=this._endAnchor;ye&&(ye.removeEventListener("focus",this.startAnchorListener),ye.remove()),re&&(re.removeEventListener("focus",this.endAnchorListener),re.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(ye){return new Promise(re=>{this._executeOnStable(()=>re(this.focusInitialElement(ye)))})}focusFirstTabbableElementWhenReady(ye){return new Promise(re=>{this._executeOnStable(()=>re(this.focusFirstTabbableElement(ye)))})}focusLastTabbableElementWhenReady(ye){return new Promise(re=>{this._executeOnStable(()=>re(this.focusLastTabbableElement(ye)))})}_getRegionBoundary(ye){const re=this._element.querySelectorAll(`[cdk-focus-region-${ye}], [cdkFocusRegion${ye}], [cdk-focus-${ye}]`);return"start"==ye?re.length?re[0]:this._getFirstTabbableElement(this._element):re.length?re[re.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(ye){const re=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(re){if(!this._checker.isFocusable(re)){const Te=this._getFirstTabbableElement(re);return Te?.focus(ye),!!Te}return re.focus(ye),!0}return this.focusFirstTabbableElement(ye)}focusFirstTabbableElement(ye){const re=this._getRegionBoundary("start");return re&&re.focus(ye),!!re}focusLastTabbableElement(ye){const re=this._getRegionBoundary("end");return re&&re.focus(ye),!!re}hasAttached(){return this._hasAttached}_getFirstTabbableElement(ye){if(this._checker.isFocusable(ye)&&this._checker.isTabbable(ye))return ye;const re=ye.children;for(let Te=0;Te<re.length;Te++){const st=re[Te].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(re[Te]):null;if(st)return st}return null}_getLastTabbableElement(ye){if(this._checker.isFocusable(ye)&&this._checker.isTabbable(ye))return ye;const re=ye.children;for(let Te=re.length-1;Te>=0;Te--){const st=re[Te].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(re[Te]):null;if(st)return st}return null}_createAnchor(){const ye=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,ye),ye.classList.add("cdk-visually-hidden"),ye.classList.add("cdk-focus-trap-anchor"),ye.setAttribute("aria-hidden","true"),ye}_toggleAnchorTabIndex(ye,re){ye?re.setAttribute("tabindex","0"):re.removeAttribute("tabindex")}toggleAnchors(ye){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(ye,this._startAnchor),this._toggleAnchorTabIndex(ye,this._endAnchor))}_executeOnStable(ye){this._ngZone.isStable?ye():this._ngZone.onStable.pipe((0,qe.s)(1)).subscribe(ye)}}let it=(()=>{class Me{constructor(re,Te,st){this._checker=re,this._ngZone=Te,this._document=st}create(re,Te=!1){return new Ye(re,this._checker,this._ngZone,this._document,Te)}static{this.\u0275fac=function(Te){return new(Te||Me)(G.KVO(an),G.KVO(G.SKi),G.KVO(y.qQ))}}static{this.\u0275prov=G.jDH({token:Me,factory:Me.\u0275fac,providedIn:"root"})}}return Me})();function qt(Me){return 0===Me.buttons||0===Me.detail}function Gn(Me){const ye=Me.touches&&Me.touches[0]||Me.changedTouches&&Me.changedTouches[0];return!(!ye||-1!==ye.identifier||null!=ye.radiusX&&1!==ye.radiusX||null!=ye.radiusY&&1!==ye.radiusY)}const yn=new G.nKC("cdk-input-modality-detector-options"),yi={ignoreKeys:[De.A$,De.W3,De.eg,De.Ge,De.FX]},sr=(0,_e.BQ)({passive:!0,capture:!0});let Jr=(()=>{class Me{get mostRecentModality(){return this._modality.value}constructor(re,Te,st,Gt){this._platform=re,this._mostRecentTarget=null,this._modality=new se.t(null),this._lastTouchMs=0,this._onKeydown=Ee=>{this._options?.ignoreKeys?.some(we=>we===Ee.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=(0,_e.Fb)(Ee))},this._onMousedown=Ee=>{Date.now()-this._lastTouchMs<650||(this._modality.next(qt(Ee)?"keyboard":"mouse"),this._mostRecentTarget=(0,_e.Fb)(Ee))},this._onTouchstart=Ee=>{Gn(Ee)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=(0,_e.Fb)(Ee))},this._options={...yi,...Gt},this.modalityDetected=this._modality.pipe(pt(1)),this.modalityChanged=this.modalityDetected.pipe((0,_t.F)()),re.isBrowser&&Te.runOutsideAngular(()=>{st.addEventListener("keydown",this._onKeydown,sr),st.addEventListener("mousedown",this._onMousedown,sr),st.addEventListener("touchstart",this._onTouchstart,sr)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,sr),document.removeEventListener("mousedown",this._onMousedown,sr),document.removeEventListener("touchstart",this._onTouchstart,sr))}static{this.\u0275fac=function(Te){return new(Te||Me)(G.KVO(_e.OD),G.KVO(G.SKi),G.KVO(y.qQ),G.KVO(yn,8))}}static{this.\u0275prov=G.jDH({token:Me,factory:Me.\u0275fac,providedIn:"root"})}}return Me})();const pr=new G.nKC("cdk-focus-monitor-default-options"),gi=(0,_e.BQ)({passive:!0,capture:!0});let St=(()=>{class Me{constructor(re,Te,st,Gt,Ee){this._ngZone=re,this._platform=Te,this._inputModalityDetector=st,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new he.B,this._rootNodeFocusAndBlurListener=we=>{for(let At=(0,_e.Fb)(we);At;At=At.parentElement)"focus"===we.type?this._onFocus(we,At):this._onBlur(we,At)},this._document=Gt,this._detectionMode=Ee?.detectionMode||0}monitor(re,Te=!1){const st=(0,Nt.i8)(re);if(!this._platform.isBrowser||1!==st.nodeType)return(0,Ne.of)();const Gt=(0,_e.KT)(st)||this._getDocument(),Ee=this._elementInfo.get(st);if(Ee)return Te&&(Ee.checkChildren=!0),Ee.subject;const we={checkChildren:Te,subject:new he.B,rootNode:Gt};return this._elementInfo.set(st,we),this._registerGlobalListeners(we),we.subject}stopMonitoring(re){const Te=(0,Nt.i8)(re),st=this._elementInfo.get(Te);st&&(st.subject.complete(),this._setClasses(Te),this._elementInfo.delete(Te),this._removeGlobalListeners(st))}focusVia(re,Te,st){const Gt=(0,Nt.i8)(re);Gt===this._getDocument().activeElement?this._getClosestElementsInfo(Gt).forEach(([we,Le])=>this._originChanged(we,Te,Le)):(this._setOrigin(Te),"function"==typeof Gt.focus&&Gt.focus(st))}ngOnDestroy(){this._elementInfo.forEach((re,Te)=>this.stopMonitoring(Te))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(re){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(re)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:re&&this._isLastInteractionFromInputLabel(re)?"mouse":"program"}_shouldBeAttributedToTouch(re){return 1===this._detectionMode||!!re?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(re,Te){re.classList.toggle("cdk-focused",!!Te),re.classList.toggle("cdk-touch-focused","touch"===Te),re.classList.toggle("cdk-keyboard-focused","keyboard"===Te),re.classList.toggle("cdk-mouse-focused","mouse"===Te),re.classList.toggle("cdk-program-focused","program"===Te)}_setOrigin(re,Te=!1){this._ngZone.runOutsideAngular(()=>{this._origin=re,this._originFromTouchInteraction="touch"===re&&Te,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(re,Te){const st=this._elementInfo.get(Te),Gt=(0,_e.Fb)(re);!st||!st.checkChildren&&Te!==Gt||this._originChanged(Te,this._getFocusOrigin(Gt),st)}_onBlur(re,Te){const st=this._elementInfo.get(Te);!st||st.checkChildren&&re.relatedTarget instanceof Node&&Te.contains(re.relatedTarget)||(this._setClasses(Te),this._emitOrigin(st,null))}_emitOrigin(re,Te){re.subject.observers.length&&this._ngZone.run(()=>re.subject.next(Te))}_registerGlobalListeners(re){if(!this._platform.isBrowser)return;const Te=re.rootNode,st=this._rootNodeFocusListenerCount.get(Te)||0;st||this._ngZone.runOutsideAngular(()=>{Te.addEventListener("focus",this._rootNodeFocusAndBlurListener,gi),Te.addEventListener("blur",this._rootNodeFocusAndBlurListener,gi)}),this._rootNodeFocusListenerCount.set(Te,st+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe((0,It.Q)(this._stopInputModalityDetector)).subscribe(Gt=>{this._setOrigin(Gt,!0)}))}_removeGlobalListeners(re){const Te=re.rootNode;if(this._rootNodeFocusListenerCount.has(Te)){const st=this._rootNodeFocusListenerCount.get(Te);st>1?this._rootNodeFocusListenerCount.set(Te,st-1):(Te.removeEventListener("focus",this._rootNodeFocusAndBlurListener,gi),Te.removeEventListener("blur",this._rootNodeFocusAndBlurListener,gi),this._rootNodeFocusListenerCount.delete(Te))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(re,Te,st){this._setClasses(re,Te),this._emitOrigin(st,Te),this._lastFocusOrigin=Te}_getClosestElementsInfo(re){const Te=[];return this._elementInfo.forEach((st,Gt)=>{(Gt===re||st.checkChildren&&Gt.contains(re))&&Te.push([Gt,st])}),Te}_isLastInteractionFromInputLabel(re){const{_mostRecentTarget:Te,mostRecentModality:st}=this._inputModalityDetector;if("mouse"!==st||!Te||Te===re||"INPUT"!==re.nodeName&&"TEXTAREA"!==re.nodeName||re.disabled)return!1;const Gt=re.labels;if(Gt)for(let Ee=0;Ee<Gt.length;Ee++)if(Gt[Ee].contains(Te))return!0;return!1}static{this.\u0275fac=function(Te){return new(Te||Me)(G.KVO(G.SKi),G.KVO(_e.OD),G.KVO(Jr),G.KVO(y.qQ,8),G.KVO(pr,8))}}static{this.\u0275prov=G.jDH({token:Me,factory:Me.\u0275fac,providedIn:"root"})}}return Me})();const P="cdk-high-contrast-black-on-white",R="cdk-high-contrast-white-on-black",U="cdk-high-contrast-active";let ve=(()=>{class Me{constructor(re,Te){this._platform=re,this._document=Te,this._breakpointSubscription=(0,G.WQX)(bn).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const re=this._document.createElement("div");re.style.backgroundColor="rgb(1,2,3)",re.style.position="absolute",this._document.body.appendChild(re);const Te=this._document.defaultView||window,st=Te&&Te.getComputedStyle?Te.getComputedStyle(re):null,Gt=(st&&st.backgroundColor||"").replace(/ /g,"");switch(re.remove(),Gt){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const re=this._document.body.classList;re.remove(U,P,R),this._hasCheckedHighContrastMode=!0;const Te=this.getHighContrastMode();1===Te?re.add(U,P):2===Te&&re.add(U,R)}}static{this.\u0275fac=function(Te){return new(Te||Me)(G.KVO(_e.OD),G.KVO(y.qQ))}}static{this.\u0275prov=G.jDH({token:Me,factory:Me.\u0275fac,providedIn:"root"})}}return Me})(),Se=(()=>{class Me{constructor(re){re._applyBodyHighContrastModeCssClasses()}static{this.\u0275fac=function(Te){return new(Te||Me)(G.KVO(ve))}}static{this.\u0275mod=G.$C({type:Me})}static{this.\u0275inj=G.G2t({imports:[Lt.w5]})}}return Me})()},8203:(nn,Je,F)=>{F.d(Je,{dS:()=>Ne,jI:()=>Ie});var y=F(7705),G=F(177);const _e=new y.nKC("cdk-dir-doc",{providedIn:"root",factory:function he(){return(0,y.WQX)(G.qQ)}}),ie=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let Ne=(()=>{class ne{constructor(Be){this.value="ltr",this.change=new y.bkB,Be&&(this.value=function se(ne){const me=ne?.toLowerCase()||"";return"auto"===me&&typeof navigator<"u"&&navigator?.language?ie.test(navigator.language)?"rtl":"ltr":"rtl"===me?"rtl":"ltr"}((Be.body?Be.body.dir:null)||(Be.documentElement?Be.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}static{this.\u0275fac=function(qe){return new(qe||ne)(y.KVO(_e,8))}}static{this.\u0275prov=y.jDH({token:ne,factory:ne.\u0275fac,providedIn:"root"})}}return ne})(),Ie=(()=>{class ne{static{this.\u0275fac=function(qe){return new(qe||ne)}}static{this.\u0275mod=y.$C({type:ne})}static{this.\u0275inj=y.G2t({})}}return ne})()},4085:(nn,Je,F)=>{F.d(Je,{FG:()=>ie,OE:()=>_e,a1:()=>se,he:()=>G,i8:()=>Ne,o1:()=>he});var y=F(7705);function G(Ie){return null!=Ie&&"false"!=`${Ie}`}function _e(Ie,ne=0){return he(Ie)?Number(Ie):ne}function he(Ie){return!isNaN(parseFloat(Ie))&&!isNaN(Number(Ie))}function ie(Ie){return Array.isArray(Ie)?Ie:[Ie]}function se(Ie){return null==Ie?"":"string"==typeof Ie?Ie:`${Ie}px`}function Ne(Ie){return Ie instanceof y.aKT?Ie.nativeElement:Ie}},7336:(nn,Je,F)=>{F.d(Je,{A:()=>ke,A$:()=>De,FX:()=>se,Fm:()=>ie,G_:()=>G,Ge:()=>ut,Kp:()=>_t,LE:()=>dn,SJ:()=>Qe,UQ:()=>Nt,W3:()=>Ne,Z:()=>Ge,_f:()=>me,bn:()=>mn,dB:()=>pt,eg:()=>br,f2:()=>ft,i7:()=>Lt,n6:()=>Zt,rp:()=>Ci,t6:()=>Be,w_:()=>qe,wn:()=>_e,yZ:()=>It});const G=8,_e=9,ie=13,se=16,Ne=17,De=18,me=27,Be=32,qe=33,pt=34,_t=35,It=36,Nt=37,Lt=38,dn=39,Zt=40,Qe=46,ft=48,mn=57,ke=65,Ge=90,ut=91,br=224;function Ci(Ai,...Po){return Po.length?Po.some(ki=>Ai[ki]):Ai.altKey||Ai.shiftKey||Ai.ctrlKey||Ai.metaKey}},2318:(nn,Je,F)=>{F.d(Je,{w5:()=>ie});var y=F(7705);let G=(()=>{class se{create(De){return typeof MutationObserver>"u"?null:new MutationObserver(De)}static{this.\u0275fac=function(Ie){return new(Ie||se)}}static{this.\u0275prov=y.jDH({token:se,factory:se.\u0275fac,providedIn:"root"})}}return se})(),ie=(()=>{class se{static{this.\u0275fac=function(Ie){return new(Ie||se)}}static{this.\u0275mod=y.$C({type:se})}static{this.\u0275inj=y.G2t({providers:[G]})}}return se})()},7987:(nn,Je,F)=>{F.d(Je,{Sf:()=>mt,hJ:()=>tr,rR:()=>je,yY:()=>zt,z_:()=>lr});var y=F(3980),G=F(177),_e=F(7705),he=F(4085),ie=F(6860),se=F(5964),Ne=F(6697),De=F(6977),Ie=F(8203),ne=F(6939),me=F(1413),Be=F(8359),qe=F(7786);const pt=(0,ie.CZ)();class _t{constructor(oe,Ce){this._viewportRuler=oe,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=Ce}attach(){}enable(){if(this._canBeEnabled()){const oe=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=oe.style.left||"",this._previousHTMLStyles.top=oe.style.top||"",oe.style.left=(0,he.a1)(-this._previousScrollPosition.left),oe.style.top=(0,he.a1)(-this._previousScrollPosition.top),oe.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const oe=this._document.documentElement,Ae=oe.style,rt=this._document.body.style,Ye=Ae.scrollBehavior||"",it=rt.scrollBehavior||"";this._isEnabled=!1,Ae.left=this._previousHTMLStyles.left,Ae.top=this._previousHTMLStyles.top,oe.classList.remove("cdk-global-scrollblock"),pt&&(Ae.scrollBehavior=rt.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),pt&&(Ae.scrollBehavior=Ye,rt.scrollBehavior=it)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const Ce=this._document.body,Ae=this._viewportRuler.getViewportSize();return Ce.scrollHeight>Ae.height||Ce.scrollWidth>Ae.width}}class Nt{constructor(oe,Ce,Ae,rt){this._scrollDispatcher=oe,this._ngZone=Ce,this._viewportRuler=Ae,this._config=rt,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(oe){this._overlayRef=oe}enable(){if(this._scrollSubscription)return;const oe=this._scrollDispatcher.scrolled(0).pipe((0,se.p)(Ce=>!Ce||!this._overlayRef.overlayElement.contains(Ce.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=oe.subscribe(()=>{const Ce=this._viewportRuler.getViewportScrollPosition().top;Math.abs(Ce-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=oe.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class Lt{enable(){}disable(){}attach(){}}function dn(Pt,oe){return oe.some(Ce=>Pt.bottom<Ce.top||Pt.top>Ce.bottom||Pt.right<Ce.left||Pt.left>Ce.right)}function Zt(Pt,oe){return oe.some(Ce=>Pt.top<Ce.top||Pt.bottom>Ce.bottom||Pt.left<Ce.left||Pt.right>Ce.right)}class be{constructor(oe,Ce,Ae,rt){this._scrollDispatcher=oe,this._viewportRuler=Ce,this._ngZone=Ae,this._config=rt,this._scrollSubscription=null}attach(oe){this._overlayRef=oe}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const Ce=this._overlayRef.overlayElement.getBoundingClientRect(),{width:Ae,height:rt}=this._viewportRuler.getViewportSize();dn(Ce,[{width:Ae,height:rt,bottom:rt,right:Ae,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let We=(()=>{class Pt{constructor(Ce,Ae,rt,Ye){this._scrollDispatcher=Ce,this._viewportRuler=Ae,this._ngZone=rt,this.noop=()=>new Lt,this.close=it=>new Nt(this._scrollDispatcher,this._ngZone,this._viewportRuler,it),this.block=()=>new _t(this._viewportRuler,this._document),this.reposition=it=>new be(this._scrollDispatcher,this._viewportRuler,this._ngZone,it),this._document=Ye}static{this.\u0275fac=function(Ae){return new(Ae||Pt)(_e.KVO(y.R),_e.KVO(y.Xj),_e.KVO(_e.SKi),_e.KVO(G.qQ))}}static{this.\u0275prov=_e.jDH({token:Pt,factory:Pt.\u0275fac,providedIn:"root"})}}return Pt})();class je{constructor(oe){if(this.scrollStrategy=new Lt,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,oe){const Ce=Object.keys(oe);for(const Ae of Ce)void 0!==oe[Ae]&&(this[Ae]=oe[Ae])}}}class Ct{constructor(oe,Ce){this.connectionPair=oe,this.scrollableViewProperties=Ce}}let bn=(()=>{class Pt{constructor(Ce){this._attachedOverlays=[],this._document=Ce}ngOnDestroy(){this.detach()}add(Ce){this.remove(Ce),this._attachedOverlays.push(Ce)}remove(Ce){const Ae=this._attachedOverlays.indexOf(Ce);Ae>-1&&this._attachedOverlays.splice(Ae,1),0===this._attachedOverlays.length&&this.detach()}static{this.\u0275fac=function(Ae){return new(Ae||Pt)(_e.KVO(G.qQ))}}static{this.\u0275prov=_e.jDH({token:Pt,factory:Pt.\u0275fac,providedIn:"root"})}}return Pt})(),Ln=(()=>{class Pt extends bn{constructor(Ce,Ae){super(Ce),this._ngZone=Ae,this._keydownListener=rt=>{const Ye=this._attachedOverlays;for(let it=Ye.length-1;it>-1;it--)if(Ye[it]._keydownEvents.observers.length>0){const $e=Ye[it]._keydownEvents;this._ngZone?this._ngZone.run(()=>$e.next(rt)):$e.next(rt);break}}}add(Ce){super.add(Ce),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}static{this.\u0275fac=function(Ae){return new(Ae||Pt)(_e.KVO(G.qQ),_e.KVO(_e.SKi,8))}}static{this.\u0275prov=_e.jDH({token:Pt,factory:Pt.\u0275fac,providedIn:"root"})}}return Pt})(),Bt=(()=>{class Pt extends bn{constructor(Ce,Ae,rt){super(Ce),this._platform=Ae,this._ngZone=rt,this._cursorStyleIsSet=!1,this._pointerDownListener=Ye=>{this._pointerDownEventTarget=(0,ie.Fb)(Ye)},this._clickListener=Ye=>{const it=(0,ie.Fb)(Ye),$e="click"===Ye.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:it;this._pointerDownEventTarget=null;const de=this._attachedOverlays.slice();for(let Ge=de.length-1;Ge>-1;Ge--){const ut=de[Ge];if(ut._outsidePointerEvents.observers.length<1||!ut.hasAttached())continue;if(ut.overlayElement.contains(it)||ut.overlayElement.contains($e))break;const Ut=ut._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>Ut.next(Ye)):Ut.next(Ye)}}}add(Ce){if(super.add(Ce),!this._isAttached){const Ae=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(Ae)):this._addEventListeners(Ae),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=Ae.style.cursor,Ae.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const Ce=this._document.body;Ce.removeEventListener("pointerdown",this._pointerDownListener,!0),Ce.removeEventListener("click",this._clickListener,!0),Ce.removeEventListener("auxclick",this._clickListener,!0),Ce.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(Ce.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(Ce){Ce.addEventListener("pointerdown",this._pointerDownListener,!0),Ce.addEventListener("click",this._clickListener,!0),Ce.addEventListener("auxclick",this._clickListener,!0),Ce.addEventListener("contextmenu",this._clickListener,!0)}static{this.\u0275fac=function(Ae){return new(Ae||Pt)(_e.KVO(G.qQ),_e.KVO(ie.OD),_e.KVO(_e.SKi,8))}}static{this.\u0275prov=_e.jDH({token:Pt,factory:Pt.\u0275fac,providedIn:"root"})}}return Pt})(),mt=(()=>{class Pt{constructor(Ce,Ae){this._platform=Ae,this._document=Ce}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const Ce="cdk-overlay-container";if(this._platform.isBrowser||(0,ie.v8)()){const rt=this._document.querySelectorAll(`.${Ce}[platform="server"], .${Ce}[platform="test"]`);for(let Ye=0;Ye<rt.length;Ye++)rt[Ye].remove()}const Ae=this._document.createElement("div");Ae.classList.add(Ce),(0,ie.v8)()?Ae.setAttribute("platform","test"):this._platform.isBrowser||Ae.setAttribute("platform","server"),this._document.body.appendChild(Ae),this._containerElement=Ae}static{this.\u0275fac=function(Ae){return new(Ae||Pt)(_e.KVO(G.qQ),_e.KVO(ie.OD))}}static{this.\u0275prov=_e.jDH({token:Pt,factory:Pt.\u0275fac,providedIn:"root"})}}return Pt})();class zt{constructor(oe,Ce,Ae,rt,Ye,it,$e,de,Ge,ut=!1){this._portalOutlet=oe,this._host=Ce,this._pane=Ae,this._config=rt,this._ngZone=Ye,this._keyboardDispatcher=it,this._document=$e,this._location=de,this._outsideClickDispatcher=Ge,this._animationsDisabled=ut,this._backdropElement=null,this._backdropClick=new me.B,this._attachments=new me.B,this._detachments=new me.B,this._locationChanges=Be.yU.EMPTY,this._backdropClickHandler=Ut=>this._backdropClick.next(Ut),this._backdropTransitionendHandler=Ut=>{this._disposeBackdrop(Ut.target)},this._keydownEvents=new me.B,this._outsidePointerEvents=new me.B,rt.scrollStrategy&&(this._scrollStrategy=rt.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=rt.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(oe){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const Ce=this._portalOutlet.attach(oe);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe((0,Ne.s)(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof Ce?.onDestroy&&Ce.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),Ce}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const oe=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),oe}dispose(){const oe=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,oe&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(oe){oe!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=oe,this.hasAttached()&&(oe.attach(this),this.updatePosition()))}updateSize(oe){this._config={...this._config,...oe},this._updateElementSize()}setDirection(oe){this._config={...this._config,direction:oe},this._updateElementDirection()}addPanelClass(oe){this._pane&&this._toggleClasses(this._pane,oe,!0)}removePanelClass(oe){this._pane&&this._toggleClasses(this._pane,oe,!1)}getDirection(){const oe=this._config.direction;return oe?"string"==typeof oe?oe:oe.value:"ltr"}updateScrollStrategy(oe){oe!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=oe,this.hasAttached()&&(oe.attach(this),oe.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const oe=this._pane.style;oe.width=(0,he.a1)(this._config.width),oe.height=(0,he.a1)(this._config.height),oe.minWidth=(0,he.a1)(this._config.minWidth),oe.minHeight=(0,he.a1)(this._config.minHeight),oe.maxWidth=(0,he.a1)(this._config.maxWidth),oe.maxHeight=(0,he.a1)(this._config.maxHeight)}_togglePointerEvents(oe){this._pane.style.pointerEvents=oe?"":"none"}_attachBackdrop(){const oe="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(oe)})}):this._backdropElement.classList.add(oe)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const oe=this._backdropElement;if(oe){if(this._animationsDisabled)return void this._disposeBackdrop(oe);oe.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{oe.addEventListener("transitionend",this._backdropTransitionendHandler)}),oe.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(oe)},500))}}_toggleClasses(oe,Ce,Ae){const rt=(0,he.FG)(Ce||[]).filter(Ye=>!!Ye);rt.length&&(Ae?oe.classList.add(...rt):oe.classList.remove(...rt))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const oe=this._ngZone.onStable.pipe((0,De.Q)((0,qe.h)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),oe.unsubscribe())})})}_disposeScrollStrategy(){const oe=this._scrollStrategy;oe&&(oe.disable(),oe.detach&&oe.detach())}_disposeBackdrop(oe){oe&&(oe.removeEventListener("click",this._backdropClickHandler),oe.removeEventListener("transitionend",this._backdropTransitionendHandler),oe.remove(),this._backdropElement===oe&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const mn="cdk-overlay-connected-position-bounding-box",ln=/([A-Za-z%]+)$/;class Vt{get positions(){return this._preferredPositions}constructor(oe,Ce,Ae,rt,Ye){this._viewportRuler=Ce,this._document=Ae,this._platform=rt,this._overlayContainer=Ye,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new me.B,this._resizeSubscription=Be.yU.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(oe)}attach(oe){this._validatePositions(),oe.hostElement.classList.add(mn),this._overlayRef=oe,this._boundingBox=oe.hostElement,this._pane=oe.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const oe=this._originRect,Ce=this._overlayRect,Ae=this._viewportRect,rt=this._containerRect,Ye=[];let it;for(let $e of this._preferredPositions){let de=this._getOriginPoint(oe,rt,$e),Ge=this._getOverlayPoint(de,Ce,$e),ut=this._getOverlayFit(Ge,Ce,Ae,$e);if(ut.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition($e,de);this._canFitWithFlexibleDimensions(ut,Ge,Ae)?Ye.push({position:$e,origin:de,overlayRect:Ce,boundingBoxRect:this._calculateBoundingBoxRect(de,$e)}):(!it||it.overlayFit.visibleArea<ut.visibleArea)&&(it={overlayFit:ut,overlayPoint:Ge,originPoint:de,position:$e,overlayRect:Ce})}if(Ye.length){let $e=null,de=-1;for(const Ge of Ye){const ut=Ge.boundingBoxRect.width*Ge.boundingBoxRect.height*(Ge.position.weight||1);ut>de&&(de=ut,$e=Ge)}return this._isPushed=!1,void this._applyPosition($e.position,$e.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(it.position,it.originPoint);this._applyPosition(it.position,it.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&kt(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(mn),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const oe=this._lastPosition;if(oe){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const Ce=this._getOriginPoint(this._originRect,this._containerRect,oe);this._applyPosition(oe,Ce)}else this.apply()}withScrollableContainers(oe){return this._scrollables=oe,this}withPositions(oe){return this._preferredPositions=oe,-1===oe.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(oe){return this._viewportMargin=oe,this}withFlexibleDimensions(oe=!0){return this._hasFlexibleDimensions=oe,this}withGrowAfterOpen(oe=!0){return this._growAfterOpen=oe,this}withPush(oe=!0){return this._canPush=oe,this}withLockedPosition(oe=!0){return this._positionLocked=oe,this}setOrigin(oe){return this._origin=oe,this}withDefaultOffsetX(oe){return this._offsetX=oe,this}withDefaultOffsetY(oe){return this._offsetY=oe,this}withTransformOriginOn(oe){return this._transformOriginSelector=oe,this}_getOriginPoint(oe,Ce,Ae){let rt,Ye;if("center"==Ae.originX)rt=oe.left+oe.width/2;else{const it=this._isRtl()?oe.right:oe.left,$e=this._isRtl()?oe.left:oe.right;rt="start"==Ae.originX?it:$e}return Ce.left<0&&(rt-=Ce.left),Ye="center"==Ae.originY?oe.top+oe.height/2:"top"==Ae.originY?oe.top:oe.bottom,Ce.top<0&&(Ye-=Ce.top),{x:rt,y:Ye}}_getOverlayPoint(oe,Ce,Ae){let rt,Ye;return rt="center"==Ae.overlayX?-Ce.width/2:"start"===Ae.overlayX?this._isRtl()?-Ce.width:0:this._isRtl()?0:-Ce.width,Ye="center"==Ae.overlayY?-Ce.height/2:"top"==Ae.overlayY?0:-Ce.height,{x:oe.x+rt,y:oe.y+Ye}}_getOverlayFit(oe,Ce,Ae,rt){const Ye=ke(Ce);let{x:it,y:$e}=oe,de=this._getOffset(rt,"x"),Ge=this._getOffset(rt,"y");de&&(it+=de),Ge&&($e+=Ge);let zn=0-$e,qt=$e+Ye.height-Ae.height,Gn=this._subtractOverflows(Ye.width,0-it,it+Ye.width-Ae.width),yn=this._subtractOverflows(Ye.height,zn,qt),yi=Gn*yn;return{visibleArea:yi,isCompletelyWithinViewport:Ye.width*Ye.height===yi,fitsInViewportVertically:yn===Ye.height,fitsInViewportHorizontally:Gn==Ye.width}}_canFitWithFlexibleDimensions(oe,Ce,Ae){if(this._hasFlexibleDimensions){const rt=Ae.bottom-Ce.y,Ye=Ae.right-Ce.x,it=Ue(this._overlayRef.getConfig().minHeight),$e=Ue(this._overlayRef.getConfig().minWidth);return(oe.fitsInViewportVertically||null!=it&&it<=rt)&&(oe.fitsInViewportHorizontally||null!=$e&&$e<=Ye)}return!1}_pushOverlayOnScreen(oe,Ce,Ae){if(this._previousPushAmount&&this._positionLocked)return{x:oe.x+this._previousPushAmount.x,y:oe.y+this._previousPushAmount.y};const rt=ke(Ce),Ye=this._viewportRect,it=Math.max(oe.x+rt.width-Ye.width,0),$e=Math.max(oe.y+rt.height-Ye.height,0),de=Math.max(Ye.top-Ae.top-oe.y,0),Ge=Math.max(Ye.left-Ae.left-oe.x,0);let ut=0,Ut=0;return ut=rt.width<=Ye.width?Ge||-it:oe.x<this._viewportMargin?Ye.left-Ae.left-oe.x:0,Ut=rt.height<=Ye.height?de||-$e:oe.y<this._viewportMargin?Ye.top-Ae.top-oe.y:0,this._previousPushAmount={x:ut,y:Ut},{x:oe.x+ut,y:oe.y+Ut}}_applyPosition(oe,Ce){if(this._setTransformOrigin(oe),this._setOverlayElementStyles(Ce,oe),this._setBoundingBoxStyles(Ce,oe),oe.panelClass&&this._addPanelClasses(oe.panelClass),this._lastPosition=oe,this._positionChanges.observers.length){const Ae=this._getScrollVisibility(),rt=new Ct(oe,Ae);this._positionChanges.next(rt)}this._isInitialRender=!1}_setTransformOrigin(oe){if(!this._transformOriginSelector)return;const Ce=this._boundingBox.querySelectorAll(this._transformOriginSelector);let Ae,rt=oe.overlayY;Ae="center"===oe.overlayX?"center":this._isRtl()?"start"===oe.overlayX?"right":"left":"start"===oe.overlayX?"left":"right";for(let Ye=0;Ye<Ce.length;Ye++)Ce[Ye].style.transformOrigin=`${Ae} ${rt}`}_calculateBoundingBoxRect(oe,Ce){const Ae=this._viewportRect,rt=this._isRtl();let Ye,it,$e,ut,Ut,zn;if("top"===Ce.overlayY)it=oe.y,Ye=Ae.height-it+this._viewportMargin;else if("bottom"===Ce.overlayY)$e=Ae.height-oe.y+2*this._viewportMargin,Ye=Ae.height-$e+this._viewportMargin;else{const qt=Math.min(Ae.bottom-oe.y+Ae.top,oe.y),Gn=this._lastBoundingBoxSize.height;Ye=2*qt,it=oe.y-qt,Ye>Gn&&!this._isInitialRender&&!this._growAfterOpen&&(it=oe.y-Gn/2)}if("end"===Ce.overlayX&&!rt||"start"===Ce.overlayX&&rt)zn=Ae.width-oe.x+this._viewportMargin,ut=oe.x-this._viewportMargin;else if("start"===Ce.overlayX&&!rt||"end"===Ce.overlayX&&rt)Ut=oe.x,ut=Ae.right-oe.x;else{const qt=Math.min(Ae.right-oe.x+Ae.left,oe.x),Gn=this._lastBoundingBoxSize.width;ut=2*qt,Ut=oe.x-qt,ut>Gn&&!this._isInitialRender&&!this._growAfterOpen&&(Ut=oe.x-Gn/2)}return{top:it,left:Ut,bottom:$e,right:zn,width:ut,height:Ye}}_setBoundingBoxStyles(oe,Ce){const Ae=this._calculateBoundingBoxRect(oe,Ce);!this._isInitialRender&&!this._growAfterOpen&&(Ae.height=Math.min(Ae.height,this._lastBoundingBoxSize.height),Ae.width=Math.min(Ae.width,this._lastBoundingBoxSize.width));const rt={};if(this._hasExactPosition())rt.top=rt.left="0",rt.bottom=rt.right=rt.maxHeight=rt.maxWidth="",rt.width=rt.height="100%";else{const Ye=this._overlayRef.getConfig().maxHeight,it=this._overlayRef.getConfig().maxWidth;rt.height=(0,he.a1)(Ae.height),rt.top=(0,he.a1)(Ae.top),rt.bottom=(0,he.a1)(Ae.bottom),rt.width=(0,he.a1)(Ae.width),rt.left=(0,he.a1)(Ae.left),rt.right=(0,he.a1)(Ae.right),rt.alignItems="center"===Ce.overlayX?"center":"end"===Ce.overlayX?"flex-end":"flex-start",rt.justifyContent="center"===Ce.overlayY?"center":"bottom"===Ce.overlayY?"flex-end":"flex-start",Ye&&(rt.maxHeight=(0,he.a1)(Ye)),it&&(rt.maxWidth=(0,he.a1)(it))}this._lastBoundingBoxSize=Ae,kt(this._boundingBox.style,rt)}_resetBoundingBoxStyles(){kt(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){kt(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(oe,Ce){const Ae={},rt=this._hasExactPosition(),Ye=this._hasFlexibleDimensions,it=this._overlayRef.getConfig();if(rt){const ut=this._viewportRuler.getViewportScrollPosition();kt(Ae,this._getExactOverlayY(Ce,oe,ut)),kt(Ae,this._getExactOverlayX(Ce,oe,ut))}else Ae.position="static";let $e="",de=this._getOffset(Ce,"x"),Ge=this._getOffset(Ce,"y");de&&($e+=`translateX(${de}px) `),Ge&&($e+=`translateY(${Ge}px)`),Ae.transform=$e.trim(),it.maxHeight&&(rt?Ae.maxHeight=(0,he.a1)(it.maxHeight):Ye&&(Ae.maxHeight="")),it.maxWidth&&(rt?Ae.maxWidth=(0,he.a1)(it.maxWidth):Ye&&(Ae.maxWidth="")),kt(this._pane.style,Ae)}_getExactOverlayY(oe,Ce,Ae){let rt={top:"",bottom:""},Ye=this._getOverlayPoint(Ce,this._overlayRect,oe);return this._isPushed&&(Ye=this._pushOverlayOnScreen(Ye,this._overlayRect,Ae)),"bottom"===oe.overlayY?rt.bottom=this._document.documentElement.clientHeight-(Ye.y+this._overlayRect.height)+"px":rt.top=(0,he.a1)(Ye.y),rt}_getExactOverlayX(oe,Ce,Ae){let it,rt={left:"",right:""},Ye=this._getOverlayPoint(Ce,this._overlayRect,oe);return this._isPushed&&(Ye=this._pushOverlayOnScreen(Ye,this._overlayRect,Ae)),it=this._isRtl()?"end"===oe.overlayX?"left":"right":"end"===oe.overlayX?"right":"left","right"===it?rt.right=this._document.documentElement.clientWidth-(Ye.x+this._overlayRect.width)+"px":rt.left=(0,he.a1)(Ye.x),rt}_getScrollVisibility(){const oe=this._getOriginRect(),Ce=this._pane.getBoundingClientRect(),Ae=this._scrollables.map(rt=>rt.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:Zt(oe,Ae),isOriginOutsideView:dn(oe,Ae),isOverlayClipped:Zt(Ce,Ae),isOverlayOutsideView:dn(Ce,Ae)}}_subtractOverflows(oe,...Ce){return Ce.reduce((Ae,rt)=>Ae-Math.max(rt,0),oe)}_getNarrowedViewportRect(){const oe=this._document.documentElement.clientWidth,Ce=this._document.documentElement.clientHeight,Ae=this._viewportRuler.getViewportScrollPosition();return{top:Ae.top+this._viewportMargin,left:Ae.left+this._viewportMargin,right:Ae.left+oe-this._viewportMargin,bottom:Ae.top+Ce-this._viewportMargin,width:oe-2*this._viewportMargin,height:Ce-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(oe,Ce){return"x"===Ce?null==oe.offsetX?this._offsetX:oe.offsetX:null==oe.offsetY?this._offsetY:oe.offsetY}_validatePositions(){}_addPanelClasses(oe){this._pane&&(0,he.FG)(oe).forEach(Ce=>{""!==Ce&&-1===this._appliedPanelClasses.indexOf(Ce)&&(this._appliedPanelClasses.push(Ce),this._pane.classList.add(Ce))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(oe=>{this._pane.classList.remove(oe)}),this._appliedPanelClasses=[])}_getOriginRect(){const oe=this._origin;if(oe instanceof _e.aKT)return oe.nativeElement.getBoundingClientRect();if(oe instanceof Element)return oe.getBoundingClientRect();const Ce=oe.width||0,Ae=oe.height||0;return{top:oe.y,bottom:oe.y+Ae,left:oe.x,right:oe.x+Ce,height:Ae,width:Ce}}}function kt(Pt,oe){for(let Ce in oe)oe.hasOwnProperty(Ce)&&(Pt[Ce]=oe[Ce]);return Pt}function Ue(Pt){if("number"!=typeof Pt&&null!=Pt){const[oe,Ce]=Pt.split(ln);return Ce&&"px"!==Ce?null:parseFloat(oe)}return Pt||null}function ke(Pt){return{top:Math.floor(Pt.top),right:Math.floor(Pt.right),bottom:Math.floor(Pt.bottom),left:Math.floor(Pt.left),width:Math.floor(Pt.width),height:Math.floor(Pt.height)}}const Tt="cdk-global-overlay-wrapper";class yt{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(oe){const Ce=oe.getConfig();this._overlayRef=oe,this._width&&!Ce.width&&oe.updateSize({width:this._width}),this._height&&!Ce.height&&oe.updateSize({height:this._height}),oe.hostElement.classList.add(Tt),this._isDisposed=!1}top(oe=""){return this._bottomOffset="",this._topOffset=oe,this._alignItems="flex-start",this}left(oe=""){return this._xOffset=oe,this._xPosition="left",this}bottom(oe=""){return this._topOffset="",this._bottomOffset=oe,this._alignItems="flex-end",this}right(oe=""){return this._xOffset=oe,this._xPosition="right",this}start(oe=""){return this._xOffset=oe,this._xPosition="start",this}end(oe=""){return this._xOffset=oe,this._xPosition="end",this}width(oe=""){return this._overlayRef?this._overlayRef.updateSize({width:oe}):this._width=oe,this}height(oe=""){return this._overlayRef?this._overlayRef.updateSize({height:oe}):this._height=oe,this}centerHorizontally(oe=""){return this.left(oe),this._xPosition="center",this}centerVertically(oe=""){return this.top(oe),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const oe=this._overlayRef.overlayElement.style,Ce=this._overlayRef.hostElement.style,Ae=this._overlayRef.getConfig(),{width:rt,height:Ye,maxWidth:it,maxHeight:$e}=Ae,de=!("100%"!==rt&&"100vw"!==rt||it&&"100%"!==it&&"100vw"!==it),Ge=!("100%"!==Ye&&"100vh"!==Ye||$e&&"100%"!==$e&&"100vh"!==$e),ut=this._xPosition,Ut=this._xOffset,zn="rtl"===this._overlayRef.getConfig().direction;let qt="",Gn="",yn="";de?yn="flex-start":"center"===ut?(yn="center",zn?Gn=Ut:qt=Ut):zn?"left"===ut||"end"===ut?(yn="flex-end",qt=Ut):("right"===ut||"start"===ut)&&(yn="flex-start",Gn=Ut):"left"===ut||"start"===ut?(yn="flex-start",qt=Ut):("right"===ut||"end"===ut)&&(yn="flex-end",Gn=Ut),oe.position=this._cssPosition,oe.marginLeft=de?"0":qt,oe.marginTop=Ge?"0":this._topOffset,oe.marginBottom=this._bottomOffset,oe.marginRight=de?"0":Gn,Ce.justifyContent=yn,Ce.alignItems=Ge?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const oe=this._overlayRef.overlayElement.style,Ce=this._overlayRef.hostElement,Ae=Ce.style;Ce.classList.remove(Tt),Ae.justifyContent=Ae.alignItems=oe.marginTop=oe.marginBottom=oe.marginLeft=oe.marginRight=oe.position="",this._overlayRef=null,this._isDisposed=!0}}let Dt=(()=>{class Pt{constructor(Ce,Ae,rt,Ye){this._viewportRuler=Ce,this._document=Ae,this._platform=rt,this._overlayContainer=Ye}global(){return new yt}flexibleConnectedTo(Ce){return new Vt(Ce,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static{this.\u0275fac=function(Ae){return new(Ae||Pt)(_e.KVO(y.Xj),_e.KVO(G.qQ),_e.KVO(ie.OD),_e.KVO(mt))}}static{this.\u0275prov=_e.jDH({token:Pt,factory:Pt.\u0275fac,providedIn:"root"})}}return Pt})(),vn=0,tr=(()=>{class Pt{constructor(Ce,Ae,rt,Ye,it,$e,de,Ge,ut,Ut,zn,qt){this.scrollStrategies=Ce,this._overlayContainer=Ae,this._componentFactoryResolver=rt,this._positionBuilder=Ye,this._keyboardDispatcher=it,this._injector=$e,this._ngZone=de,this._document=Ge,this._directionality=ut,this._location=Ut,this._outsideClickDispatcher=zn,this._animationsModuleType=qt}create(Ce){const Ae=this._createHostElement(),rt=this._createPaneElement(Ae),Ye=this._createPortalOutlet(rt),it=new je(Ce);return it.direction=it.direction||this._directionality.value,new zt(Ye,Ae,rt,it,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(Ce){const Ae=this._document.createElement("div");return Ae.id="cdk-overlay-"+vn++,Ae.classList.add("cdk-overlay-pane"),Ce.appendChild(Ae),Ae}_createHostElement(){const Ce=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(Ce),Ce}_createPortalOutlet(Ce){return this._appRef||(this._appRef=this._injector.get(_e.o8S)),new ne.aI(Ce,this._componentFactoryResolver,this._appRef,this._injector,this._document)}static{this.\u0275fac=function(Ae){return new(Ae||Pt)(_e.KVO(We),_e.KVO(mt),_e.KVO(_e.OM3),_e.KVO(Dt),_e.KVO(Ln),_e.KVO(_e.zZn),_e.KVO(_e.SKi),_e.KVO(G.qQ),_e.KVO(Ie.dS),_e.KVO(G.aZ),_e.KVO(Bt),_e.KVO(_e.bc$,8))}}static{this.\u0275prov=_e.jDH({token:Pt,factory:Pt.\u0275fac,providedIn:"root"})}}return Pt})();const cr={provide:new _e.nKC("cdk-connected-overlay-scroll-strategy"),deps:[tr],useFactory:function Fn(Pt){return()=>Pt.scrollStrategies.reposition()}};let lr=(()=>{class Pt{static{this.\u0275fac=function(Ae){return new(Ae||Pt)}}static{this.\u0275mod=_e.$C({type:Pt})}static{this.\u0275inj=_e.G2t({providers:[tr,cr],imports:[Ie.jI,ne.jc,y.E9,y.E9]})}}return Pt})()},6860:(nn,Je,F)=>{F.d(Je,{BQ:()=>me,CZ:()=>pt,Fb:()=>Zt,KT:()=>Lt,OD:()=>he,v8:()=>be,vc:()=>dn});var y=F(7705),G=F(177);let _e;try{_e=typeof Intl<"u"&&Intl.v8BreakIterator}catch{_e=!1}let Ie,qe,It,he=(()=>{class We{constructor(Qe){this._platformId=Qe,this.isBrowser=this._platformId?(0,G.UE)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!_e)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static{this.\u0275fac=function(ft){return new(ft||We)(y.KVO(y.Agw))}}static{this.\u0275prov=y.jDH({token:We,factory:We.\u0275fac,providedIn:"root"})}}return We})();function me(We){return function ne(){if(null==Ie&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Ie=!0}))}finally{Ie=Ie||!1}return Ie}()?We:!!We.capture}function pt(){if(null==qe){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return qe=!1,qe;if("scrollBehavior"in document.documentElement.style)qe=!0;else{const We=Element.prototype.scrollTo;qe=!!We&&!/\{\s*\[native code\]\s*\}/.test(We.toString())}}return qe}function Lt(We){if(function Nt(){if(null==It){const We=typeof document<"u"?document.head:null;It=!(!We||!We.createShadowRoot&&!We.attachShadow)}return It}()){const je=We.getRootNode?We.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&je instanceof ShadowRoot)return je}return null}function dn(){let We=typeof document<"u"&&document?document.activeElement:null;for(;We&&We.shadowRoot;){const je=We.shadowRoot.activeElement;if(je===We)break;We=je}return We}function Zt(We){return We.composedPath?We.composedPath()[0]:We.target}function be(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}},6939:(nn,Je,F)=>{F.d(Je,{A8:()=>ne,I3:()=>dn,VA:()=>me,aI:()=>_t,jc:()=>be,lb:()=>qe});var y=F(7705),G=F(177);class Ie{attach(Qe){return this._attachedHost=Qe,Qe.attach(this)}detach(){let Qe=this._attachedHost;null!=Qe&&(this._attachedHost=null,Qe.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(Qe){this._attachedHost=Qe}}class ne extends Ie{constructor(Qe,ft,Ct,Yt,fn){super(),this.component=Qe,this.viewContainerRef=ft,this.injector=Ct,this.componentFactoryResolver=Yt,this.projectableNodes=fn}}class me extends Ie{constructor(Qe,ft,Ct,Yt){super(),this.templateRef=Qe,this.viewContainerRef=ft,this.context=Ct,this.injector=Yt}get origin(){return this.templateRef.elementRef}attach(Qe,ft=this.context){return this.context=ft,super.attach(Qe)}detach(){return this.context=void 0,super.detach()}}class Be extends Ie{constructor(Qe){super(),this.element=Qe instanceof y.aKT?Qe.nativeElement:Qe}}class qe{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(Qe){return Qe instanceof ne?(this._attachedPortal=Qe,this.attachComponentPortal(Qe)):Qe instanceof me?(this._attachedPortal=Qe,this.attachTemplatePortal(Qe)):this.attachDomPortal&&Qe instanceof Be?(this._attachedPortal=Qe,this.attachDomPortal(Qe)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(Qe){this._disposeFn=Qe}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class _t extends qe{constructor(Qe,ft,Ct,Yt,fn){super(),this.outletElement=Qe,this._componentFactoryResolver=ft,this._appRef=Ct,this._defaultInjector=Yt,this.attachDomPortal=bn=>{const Ln=bn.element,Bt=this._document.createComment("dom-portal");Ln.parentNode.insertBefore(Bt,Ln),this.outletElement.appendChild(Ln),this._attachedPortal=bn,super.setDisposeFn(()=>{Bt.parentNode&&Bt.parentNode.replaceChild(Ln,Bt)})},this._document=fn}attachComponentPortal(Qe){const Ct=(Qe.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(Qe.component);let Yt;return Qe.viewContainerRef?(Yt=Qe.viewContainerRef.createComponent(Ct,Qe.viewContainerRef.length,Qe.injector||Qe.viewContainerRef.injector,Qe.projectableNodes||void 0),this.setDisposeFn(()=>Yt.destroy())):(Yt=Ct.create(Qe.injector||this._defaultInjector||y.zZn.NULL),this._appRef.attachView(Yt.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(Yt.hostView),Yt.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(Yt)),this._attachedPortal=Qe,Yt}attachTemplatePortal(Qe){let ft=Qe.viewContainerRef,Ct=ft.createEmbeddedView(Qe.templateRef,Qe.context,{injector:Qe.injector});return Ct.rootNodes.forEach(Yt=>this.outletElement.appendChild(Yt)),Ct.detectChanges(),this.setDisposeFn(()=>{let Yt=ft.indexOf(Ct);-1!==Yt&&ft.remove(Yt)}),this._attachedPortal=Qe,Ct}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(Qe){return Qe.hostView.rootNodes[0]}}let dn=(()=>{class je extends qe{constructor(ft,Ct,Yt){super(),this._componentFactoryResolver=ft,this._viewContainerRef=Ct,this._isInitialized=!1,this.attached=new y.bkB,this.attachDomPortal=fn=>{const bn=fn.element,Ln=this._document.createComment("dom-portal");fn.setAttachedHost(this),bn.parentNode.insertBefore(Ln,bn),this._getRootNode().appendChild(bn),this._attachedPortal=fn,super.setDisposeFn(()=>{Ln.parentNode&&Ln.parentNode.replaceChild(bn,Ln)})},this._document=Yt}get portal(){return this._attachedPortal}set portal(ft){this.hasAttached()&&!ft&&!this._isInitialized||(this.hasAttached()&&super.detach(),ft&&super.attach(ft),this._attachedPortal=ft||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(ft){ft.setAttachedHost(this);const Ct=null!=ft.viewContainerRef?ft.viewContainerRef:this._viewContainerRef,fn=(ft.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(ft.component),bn=Ct.createComponent(fn,Ct.length,ft.injector||Ct.injector,ft.projectableNodes||void 0);return Ct!==this._viewContainerRef&&this._getRootNode().appendChild(bn.hostView.rootNodes[0]),super.setDisposeFn(()=>bn.destroy()),this._attachedPortal=ft,this._attachedRef=bn,this.attached.emit(bn),bn}attachTemplatePortal(ft){ft.setAttachedHost(this);const Ct=this._viewContainerRef.createEmbeddedView(ft.templateRef,ft.context,{injector:ft.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=ft,this._attachedRef=Ct,this.attached.emit(Ct),Ct}_getRootNode(){const ft=this._viewContainerRef.element.nativeElement;return ft.nodeType===ft.ELEMENT_NODE?ft:ft.parentNode}static{this.\u0275fac=function(Ct){return new(Ct||je)(y.rXU(y.OM3),y.rXU(y.c1b),y.rXU(G.qQ))}}static{this.\u0275dir=y.FsC({type:je,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[y.Vt3]})}}return je})(),be=(()=>{class je{static{this.\u0275fac=function(Ct){return new(Ct||je)}}static{this.\u0275mod=y.$C({type:je})}static{this.\u0275inj=y.G2t({})}}return je})()},3980:(nn,Je,F)=>{F.d(Je,{Gj:()=>rt,R:()=>tr,E9:()=>Ye,Xj:()=>Nn});var y=F(4085),G=F(7705),_e=F(1413),he=F(7673),ie=F(1985),se=F(3726),Ne=F(6780),De=F(8359);const Ie={schedule(it){let $e=requestAnimationFrame,de=cancelAnimationFrame;const{delegate:Ge}=Ie;Ge&&($e=Ge.requestAnimationFrame,de=Ge.cancelAnimationFrame);const ut=$e(Ut=>{de=void 0,it(Ut)});return new De.yU(()=>de?.(ut))},requestAnimationFrame(...it){const{delegate:$e}=Ie;return($e?.requestAnimationFrame||requestAnimationFrame)(...it)},cancelAnimationFrame(...it){const{delegate:$e}=Ie;return($e?.cancelAnimationFrame||cancelAnimationFrame)(...it)},delegate:void 0};var me=F(3604);new class Be extends me.q{flush($e){let de;this._active=!0,$e?de=$e.id:(de=this._scheduled,this._scheduled=void 0);const{actions:Ge}=this;let ut;$e=$e||Ge.shift();do{if(ut=$e.execute($e.state,$e.delay))break}while(($e=Ge[0])&&$e.id===de&&Ge.shift());if(this._active=!1,ut){for(;($e=Ge[0])&&$e.id===de&&Ge.shift();)$e.unsubscribe();throw ut}}}(class ne extends Ne.R{constructor($e,de){super($e,de),this.scheduler=$e,this.work=de}requestAsyncId($e,de,Ge=0){return null!==Ge&&Ge>0?super.requestAsyncId($e,de,Ge):($e.actions.push(this),$e._scheduled||($e._scheduled=Ie.requestAnimationFrame(()=>$e.flush(void 0))))}recycleAsyncId($e,de,Ge=0){var ut;if(null!=Ge?Ge>0:this.delay>0)return super.recycleAsyncId($e,de,Ge);const{actions:Ut}=$e;null!=de&&de===$e._scheduled&&(null===(ut=Ut[Ut.length-1])||void 0===ut?void 0:ut.id)!==de&&(Ie.cancelAnimationFrame(de),$e._scheduled=void 0)}});let It,_t=1;const Nt={};function Lt(it){return it in Nt&&(delete Nt[it],!0)}const dn={setImmediate(it){const $e=_t++;return Nt[$e]=!0,It||(It=Promise.resolve()),It.then(()=>Lt($e)&&it()),$e},clearImmediate(it){Lt(it)}},{setImmediate:be,clearImmediate:We}=dn,je={setImmediate(...it){const{delegate:$e}=je;return($e?.setImmediate||be)(...it)},clearImmediate(it){const{delegate:$e}=je;return($e?.clearImmediate||We)(it)},delegate:void 0};new class ft extends me.q{flush($e){this._active=!0;const de=this._scheduled;this._scheduled=void 0;const{actions:Ge}=this;let ut;$e=$e||Ge.shift();do{if(ut=$e.execute($e.state,$e.delay))break}while(($e=Ge[0])&&$e.id===de&&Ge.shift());if(this._active=!1,ut){for(;($e=Ge[0])&&$e.id===de&&Ge.shift();)$e.unsubscribe();throw ut}}}(class Qe extends Ne.R{constructor($e,de){super($e,de),this.scheduler=$e,this.work=de}requestAsyncId($e,de,Ge=0){return null!==Ge&&Ge>0?super.requestAsyncId($e,de,Ge):($e.actions.push(this),$e._scheduled||($e._scheduled=je.setImmediate($e.flush.bind($e,void 0))))}recycleAsyncId($e,de,Ge=0){var ut;if(null!=Ge?Ge>0:this.delay>0)return super.recycleAsyncId($e,de,Ge);const{actions:Ut}=$e;null!=de&&(null===(ut=Ut[Ut.length-1])||void 0===ut?void 0:ut.id)!==de&&(je.clearImmediate(de),$e._scheduled===de&&($e._scheduled=void 0))}});var fn=F(3236),bn=F(9974),Ln=F(8750),Bt=F(4360),zt=F(1584);function mn(it,$e=fn.E){return function mt(it){return(0,bn.N)(($e,de)=>{let Ge=!1,ut=null,Ut=null,zn=!1;const qt=()=>{if(Ut?.unsubscribe(),Ut=null,Ge){Ge=!1;const yn=ut;ut=null,de.next(yn)}zn&&de.complete()},Gn=()=>{Ut=null,zn&&de.complete()};$e.subscribe((0,Bt._)(de,yn=>{Ge=!0,ut=yn,Ut||(0,Ln.Tg)(it(yn)).subscribe(Ut=(0,Bt._)(de,qt,Gn))},()=>{zn=!0,(!Ge||!Ut||Ut.closed)&&de.complete()}))})}(()=>(0,zt.O)(it,$e))}var ln=F(5964),Vt=F(6860),kt=F(177),Ue=F(8203);let tr=(()=>{class it{constructor(de,Ge,ut){this._ngZone=de,this._platform=Ge,this._scrolled=new _e.B,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=ut}register(de){this.scrollContainers.has(de)||this.scrollContainers.set(de,de.elementScrolled().subscribe(()=>this._scrolled.next(de)))}deregister(de){const Ge=this.scrollContainers.get(de);Ge&&(Ge.unsubscribe(),this.scrollContainers.delete(de))}scrolled(de=20){return this._platform.isBrowser?new ie.c(Ge=>{this._globalSubscription||this._addGlobalListener();const ut=de>0?this._scrolled.pipe(mn(de)).subscribe(Ge):this._scrolled.subscribe(Ge);return this._scrolledCount++,()=>{ut.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,he.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((de,Ge)=>this.deregister(Ge)),this._scrolled.complete()}ancestorScrolled(de,Ge){const ut=this.getAncestorScrollContainers(de);return this.scrolled(Ge).pipe((0,ln.p)(Ut=>!Ut||ut.indexOf(Ut)>-1))}getAncestorScrollContainers(de){const Ge=[];return this.scrollContainers.forEach((ut,Ut)=>{this._scrollableContainsElement(Ut,de)&&Ge.push(Ut)}),Ge}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(de,Ge){let ut=(0,y.i8)(Ge),Ut=de.getElementRef().nativeElement;do{if(ut==Ut)return!0}while(ut=ut.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{const de=this._getWindow();return(0,se.R)(de.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}static{this.\u0275fac=function(Ge){return new(Ge||it)(G.KVO(G.SKi),G.KVO(Vt.OD),G.KVO(kt.qQ,8))}}static{this.\u0275prov=G.jDH({token:it,factory:it.\u0275fac,providedIn:"root"})}}return it})(),Nn=(()=>{class it{constructor(de,Ge,ut){this._platform=de,this._change=new _e.B,this._changeListener=Ut=>{this._change.next(Ut)},this._document=ut,Ge.runOutsideAngular(()=>{if(de.isBrowser){const Ut=this._getWindow();Ut.addEventListener("resize",this._changeListener),Ut.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const de=this._getWindow();de.removeEventListener("resize",this._changeListener),de.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const de={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),de}getViewportRect(){const de=this.getViewportScrollPosition(),{width:Ge,height:ut}=this.getViewportSize();return{top:de.top,left:de.left,bottom:de.top+ut,right:de.left+Ge,height:ut,width:Ge}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const de=this._document,Ge=this._getWindow(),ut=de.documentElement,Ut=ut.getBoundingClientRect();return{top:-Ut.top||de.body.scrollTop||Ge.scrollY||ut.scrollTop||0,left:-Ut.left||de.body.scrollLeft||Ge.scrollX||ut.scrollLeft||0}}change(de=20){return de>0?this._change.pipe(mn(de)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const de=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:de.innerWidth,height:de.innerHeight}:{width:0,height:0}}static{this.\u0275fac=function(Ge){return new(Ge||it)(G.KVO(Vt.OD),G.KVO(G.SKi),G.KVO(kt.qQ,8))}}static{this.\u0275prov=G.jDH({token:it,factory:it.\u0275fac,providedIn:"root"})}}return it})(),rt=(()=>{class it{static{this.\u0275fac=function(Ge){return new(Ge||it)}}static{this.\u0275mod=G.$C({type:it})}static{this.\u0275inj=G.G2t({})}}return it})(),Ye=(()=>{class it{static{this.\u0275fac=function(Ge){return new(Ge||it)}}static{this.\u0275mod=G.$C({type:it})}static{this.\u0275inj=G.G2t({imports:[Ue.jI,rt,Ue.jI,rt]})}}return it})()},177:(nn,Je,F)=>{F.d(Je,{AJ:()=>jr,MD:()=>uo,N0:()=>To,QT:()=>_e,QX:()=>Cr,Sm:()=>_t,Sq:()=>Fr,UE:()=>Oo,VF:()=>ie,Vy:()=>ns,Xr:()=>Ti,YU:()=>wn,ZD:()=>he,_b:()=>en,aZ:()=>Nt,bT:()=>br,e1:()=>sc,fw:()=>It,hb:()=>qe,hj:()=>De,oe:()=>On,qQ:()=>se,ux:()=>ki,vh:()=>di});var y=F(7705);let G=null;function _e(){return G}function he(A){G||(G=A)}class ie{}const se=new y.nKC("DocumentToken");let Ne=(()=>{class A{historyGo(B){throw new Error("Not implemented")}static{this.\u0275fac=function(K){return new(K||A)}}static{this.\u0275prov=y.jDH({token:A,factory:function(){return(0,y.WQX)(Ie)},providedIn:"platform"})}}return A})();const De=new y.nKC("Location Initialized");let Ie=(()=>{class A extends Ne{constructor(){super(),this._doc=(0,y.WQX)(se),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return _e().getBaseHref(this._doc)}onPopState(B){const K=_e().getGlobalEventTarget(this._doc,"window");return K.addEventListener("popstate",B,!1),()=>K.removeEventListener("popstate",B)}onHashChange(B){const K=_e().getGlobalEventTarget(this._doc,"window");return K.addEventListener("hashchange",B,!1),()=>K.removeEventListener("hashchange",B)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(B){this._location.pathname=B}pushState(B,K,Pe){this._history.pushState(B,K,Pe)}replaceState(B,K,Pe){this._history.replaceState(B,K,Pe)}forward(){this._history.forward()}back(){this._history.back()}historyGo(B=0){this._history.go(B)}getState(){return this._history.state}static{this.\u0275fac=function(K){return new(K||A)}}static{this.\u0275prov=y.jDH({token:A,factory:function(){return new A},providedIn:"platform"})}}return A})();function ne(A,X){if(0==A.length)return X;if(0==X.length)return A;let B=0;return A.endsWith("/")&&B++,X.startsWith("/")&&B++,2==B?A+X.substring(1):1==B?A+X:A+"/"+X}function me(A){const X=A.match(/#|\?|$/),B=X&&X.index||A.length;return A.slice(0,B-("/"===A[B-1]?1:0))+A.slice(B)}function Be(A){return A&&"?"!==A[0]?"?"+A:A}let qe=(()=>{class A{historyGo(B){throw new Error("Not implemented")}static{this.\u0275fac=function(K){return new(K||A)}}static{this.\u0275prov=y.jDH({token:A,factory:function(){return(0,y.WQX)(_t)},providedIn:"root"})}}return A})();const pt=new y.nKC("appBaseHref");let _t=(()=>{class A extends qe{constructor(B,K){super(),this._platformLocation=B,this._removeListenerFns=[],this._baseHref=K??this._platformLocation.getBaseHrefFromDOM()??(0,y.WQX)(se).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(B){this._removeListenerFns.push(this._platformLocation.onPopState(B),this._platformLocation.onHashChange(B))}getBaseHref(){return this._baseHref}prepareExternalUrl(B){return ne(this._baseHref,B)}path(B=!1){const K=this._platformLocation.pathname+Be(this._platformLocation.search),Pe=this._platformLocation.hash;return Pe&&B?`${K}${Pe}`:K}pushState(B,K,Pe,wt){const Ft=this.prepareExternalUrl(Pe+Be(wt));this._platformLocation.pushState(B,K,Ft)}replaceState(B,K,Pe,wt){const Ft=this.prepareExternalUrl(Pe+Be(wt));this._platformLocation.replaceState(B,K,Ft)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(B=0){this._platformLocation.historyGo?.(B)}static{this.\u0275fac=function(K){return new(K||A)(y.KVO(Ne),y.KVO(pt,8))}}static{this.\u0275prov=y.jDH({token:A,factory:A.\u0275fac,providedIn:"root"})}}return A})(),It=(()=>{class A extends qe{constructor(B,K){super(),this._platformLocation=B,this._baseHref="",this._removeListenerFns=[],null!=K&&(this._baseHref=K)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(B){this._removeListenerFns.push(this._platformLocation.onPopState(B),this._platformLocation.onHashChange(B))}getBaseHref(){return this._baseHref}path(B=!1){let K=this._platformLocation.hash;return null==K&&(K="#"),K.length>0?K.substring(1):K}prepareExternalUrl(B){const K=ne(this._baseHref,B);return K.length>0?"#"+K:K}pushState(B,K,Pe,wt){let Ft=this.prepareExternalUrl(Pe+Be(wt));0==Ft.length&&(Ft=this._platformLocation.pathname),this._platformLocation.pushState(B,K,Ft)}replaceState(B,K,Pe,wt){let Ft=this.prepareExternalUrl(Pe+Be(wt));0==Ft.length&&(Ft=this._platformLocation.pathname),this._platformLocation.replaceState(B,K,Ft)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(B=0){this._platformLocation.historyGo?.(B)}static{this.\u0275fac=function(K){return new(K||A)(y.KVO(Ne),y.KVO(pt,8))}}static{this.\u0275prov=y.jDH({token:A,factory:A.\u0275fac})}}return A})(),Nt=(()=>{class A{constructor(B){this._subject=new y.bkB,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=B;const K=this._locationStrategy.getBaseHref();this._basePath=function be(A){if(new RegExp("^(https?:)?//").test(A)){const[,B]=A.split(/\/\/[^\/]+/);return B}return A}(me(Zt(K))),this._locationStrategy.onPopState(Pe=>{this._subject.emit({url:this.path(!0),pop:!0,state:Pe.state,type:Pe.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(B=!1){return this.normalize(this._locationStrategy.path(B))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(B,K=""){return this.path()==this.normalize(B+Be(K))}normalize(B){return A.stripTrailingSlash(function dn(A,X){if(!A||!X.startsWith(A))return X;const B=X.substring(A.length);return""===B||["/",";","?","#"].includes(B[0])?B:X}(this._basePath,Zt(B)))}prepareExternalUrl(B){return B&&"/"!==B[0]&&(B="/"+B),this._locationStrategy.prepareExternalUrl(B)}go(B,K="",Pe=null){this._locationStrategy.pushState(Pe,"",B,K),this._notifyUrlChangeListeners(this.prepareExternalUrl(B+Be(K)),Pe)}replaceState(B,K="",Pe=null){this._locationStrategy.replaceState(Pe,"",B,K),this._notifyUrlChangeListeners(this.prepareExternalUrl(B+Be(K)),Pe)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(B=0){this._locationStrategy.historyGo?.(B)}onUrlChange(B){return this._urlChangeListeners.push(B),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(K=>{this._notifyUrlChangeListeners(K.url,K.state)})),()=>{const K=this._urlChangeListeners.indexOf(B);this._urlChangeListeners.splice(K,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(B="",K){this._urlChangeListeners.forEach(Pe=>Pe(B,K))}subscribe(B,K,Pe){return this._subject.subscribe({next:B,error:K,complete:Pe})}static{this.normalizeQueryParams=Be}static{this.joinWithSlash=ne}static{this.stripTrailingSlash=me}static{this.\u0275fac=function(K){return new(K||A)(y.KVO(qe))}}static{this.\u0275prov=y.jDH({token:A,factory:function(){return function Lt(){return new Nt((0,y.KVO)(qe))}()},providedIn:"root"})}}return A})();function Zt(A){return A.replace(/\/index.html$/,"")}const We={ADP:[void 0,void 0,0],AFN:[void 0,"\u060b",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058f",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20bc"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GHS:[void 0,"GH\u20b5"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202fCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var je=function(A){return A[A.Decimal=0]="Decimal",A[A.Percent=1]="Percent",A[A.Currency=2]="Currency",A[A.Scientific=3]="Scientific",A}(je||{}),ft=function(A){return A[A.Format=0]="Format",A[A.Standalone=1]="Standalone",A}(ft||{}),Ct=function(A){return A[A.Narrow=0]="Narrow",A[A.Abbreviated=1]="Abbreviated",A[A.Wide=2]="Wide",A[A.Short=3]="Short",A}(Ct||{}),Yt=function(A){return A[A.Short=0]="Short",A[A.Medium=1]="Medium",A[A.Long=2]="Long",A[A.Full=3]="Full",A}(Yt||{}),fn=function(A){return A[A.Decimal=0]="Decimal",A[A.Group=1]="Group",A[A.List=2]="List",A[A.PercentSign=3]="PercentSign",A[A.PlusSign=4]="PlusSign",A[A.MinusSign=5]="MinusSign",A[A.Exponential=6]="Exponential",A[A.SuperscriptingExponent=7]="SuperscriptingExponent",A[A.PerMille=8]="PerMille",A[A.Infinity=9]="Infinity",A[A.NaN=10]="NaN",A[A.TimeSeparator=11]="TimeSeparator",A[A.CurrencyDecimal=12]="CurrencyDecimal",A[A.CurrencyGroup=13]="CurrencyGroup",A}(fn||{});function kt(A,X){return Fn((0,y.H5H)(A)[y.KH2.DateFormat],X)}function Ue(A,X){return Fn((0,y.H5H)(A)[y.KH2.TimeFormat],X)}function ke(A,X){return Fn((0,y.H5H)(A)[y.KH2.DateTimeFormat],X)}function ue(A,X){const B=(0,y.H5H)(A),K=B[y.KH2.NumberSymbols][X];if(typeof K>"u"){if(X===fn.CurrencyDecimal)return B[y.KH2.NumberSymbols][fn.Decimal];if(X===fn.CurrencyGroup)return B[y.KH2.NumberSymbols][fn.Group]}return K}function Oe(A,X){return(0,y.H5H)(A)[y.KH2.NumberFormats][X]}function an(A){if(!A[y.KH2.ExtraData])throw new Error(`Missing extra locale data for the locale "${A[y.KH2.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Fn(A,X){for(let B=X;B>-1;B--)if(typeof A[B]<"u")return A[B];throw new Error("Locale data API: locale data undefined")}function cr(A){const[X,B]=A.split(":");return{hours:+X,minutes:+B}}const oe=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Ce={},Ae=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var rt=function(A){return A[A.Short=0]="Short",A[A.ShortGMT=1]="ShortGMT",A[A.Long=2]="Long",A[A.Extended=3]="Extended",A}(rt||{}),Ye=function(A){return A[A.FullYear=0]="FullYear",A[A.Month=1]="Month",A[A.Date=2]="Date",A[A.Hours=3]="Hours",A[A.Minutes=4]="Minutes",A[A.Seconds=5]="Seconds",A[A.FractionalSeconds=6]="FractionalSeconds",A[A.Day=7]="Day",A}(Ye||{}),it=function(A){return A[A.DayPeriods=0]="DayPeriods",A[A.Days=1]="Days",A[A.Months=2]="Months",A[A.Eras=3]="Eras",A}(it||{});function $e(A,X,B,K){let Pe=function pe(A){if(R(A))return A;if("number"==typeof A&&!isNaN(A))return new Date(A);if("string"==typeof A){if(A=A.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(A)){const[Pe,wt=1,Ft=1]=A.split("-").map(Dn=>+Dn);return de(Pe,wt-1,Ft)}const B=parseFloat(A);if(!isNaN(A-B))return new Date(B);let K;if(K=A.match(oe))return function P(A){const X=new Date(0);let B=0,K=0;const Pe=A[8]?X.setUTCFullYear:X.setFullYear,wt=A[8]?X.setUTCHours:X.setHours;A[9]&&(B=Number(A[9]+A[10]),K=Number(A[9]+A[11])),Pe.call(X,Number(A[1]),Number(A[2])-1,Number(A[3]));const Ft=Number(A[4]||0)-B,Dn=Number(A[5]||0)-K,_n=Number(A[6]||0),qn=Math.floor(1e3*parseFloat("0."+(A[7]||0)));return wt.call(X,Ft,Dn,_n,qn),X}(K)}const X=new Date(A);if(!R(X))throw new Error(`Unable to convert "${A}" into a date`);return X}(A);X=Ge(B,X)||X;let Dn,Ft=[];for(;X;){if(Dn=Ae.exec(X),!Dn){Ft.push(X);break}{Ft=Ft.concat(Dn.slice(1));const _r=Ft.pop();if(!_r)break;X=_r}}let _n=Pe.getTimezoneOffset();K&&(_n=pr(K,_n),Pe=function St(A,X,B){const K=B?-1:1,Pe=A.getTimezoneOffset();return function gi(A,X){return(A=new Date(A.getTime())).setMinutes(A.getMinutes()+X),A}(A,K*(pr(X,Pe)-Pe))}(Pe,K,!0));let qn="";return Ft.forEach(_r=>{const ar=function Lr(A){if(et[A])return et[A];let X;switch(A){case"G":case"GG":case"GGG":X=yn(it.Eras,Ct.Abbreviated);break;case"GGGG":X=yn(it.Eras,Ct.Wide);break;case"GGGGG":X=yn(it.Eras,Ct.Narrow);break;case"y":X=qt(Ye.FullYear,1,0,!1,!0);break;case"yy":X=qt(Ye.FullYear,2,0,!0,!0);break;case"yyy":X=qt(Ye.FullYear,3,0,!1,!0);break;case"yyyy":X=qt(Ye.FullYear,4,0,!1,!0);break;case"Y":X=ei(1);break;case"YY":X=ei(2,!0);break;case"YYY":X=ei(3);break;case"YYYY":X=ei(4);break;case"M":case"L":X=qt(Ye.Month,1,1);break;case"MM":case"LL":X=qt(Ye.Month,2,1);break;case"MMM":X=yn(it.Months,Ct.Abbreviated);break;case"MMMM":X=yn(it.Months,Ct.Wide);break;case"MMMMM":X=yn(it.Months,Ct.Narrow);break;case"LLL":X=yn(it.Months,Ct.Abbreviated,ft.Standalone);break;case"LLLL":X=yn(it.Months,Ct.Wide,ft.Standalone);break;case"LLLLL":X=yn(it.Months,Ct.Narrow,ft.Standalone);break;case"w":X=Xr(1);break;case"ww":X=Xr(2);break;case"W":X=Xr(1,!0);break;case"d":X=qt(Ye.Date,1);break;case"dd":X=qt(Ye.Date,2);break;case"c":case"cc":X=qt(Ye.Day,1);break;case"ccc":X=yn(it.Days,Ct.Abbreviated,ft.Standalone);break;case"cccc":X=yn(it.Days,Ct.Wide,ft.Standalone);break;case"ccccc":X=yn(it.Days,Ct.Narrow,ft.Standalone);break;case"cccccc":X=yn(it.Days,Ct.Short,ft.Standalone);break;case"E":case"EE":case"EEE":X=yn(it.Days,Ct.Abbreviated);break;case"EEEE":X=yn(it.Days,Ct.Wide);break;case"EEEEE":X=yn(it.Days,Ct.Narrow);break;case"EEEEEE":X=yn(it.Days,Ct.Short);break;case"a":case"aa":case"aaa":X=yn(it.DayPeriods,Ct.Abbreviated);break;case"aaaa":X=yn(it.DayPeriods,Ct.Wide);break;case"aaaaa":X=yn(it.DayPeriods,Ct.Narrow);break;case"b":case"bb":case"bbb":X=yn(it.DayPeriods,Ct.Abbreviated,ft.Standalone,!0);break;case"bbbb":X=yn(it.DayPeriods,Ct.Wide,ft.Standalone,!0);break;case"bbbbb":X=yn(it.DayPeriods,Ct.Narrow,ft.Standalone,!0);break;case"B":case"BB":case"BBB":X=yn(it.DayPeriods,Ct.Abbreviated,ft.Format,!0);break;case"BBBB":X=yn(it.DayPeriods,Ct.Wide,ft.Format,!0);break;case"BBBBB":X=yn(it.DayPeriods,Ct.Narrow,ft.Format,!0);break;case"h":X=qt(Ye.Hours,1,-12);break;case"hh":X=qt(Ye.Hours,2,-12);break;case"H":X=qt(Ye.Hours,1);break;case"HH":X=qt(Ye.Hours,2);break;case"m":X=qt(Ye.Minutes,1);break;case"mm":X=qt(Ye.Minutes,2);break;case"s":X=qt(Ye.Seconds,1);break;case"ss":X=qt(Ye.Seconds,2);break;case"S":X=qt(Ye.FractionalSeconds,1);break;case"SS":X=qt(Ye.FractionalSeconds,2);break;case"SSS":X=qt(Ye.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":X=Wr(rt.Short);break;case"ZZZZZ":X=Wr(rt.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":X=Wr(rt.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":X=Wr(rt.Long);break;default:return null}return et[A]=X,X}(_r);qn+=ar?ar(Pe,B,_n):"''"===_r?"'":_r.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),qn}function de(A,X,B){const K=new Date(0);return K.setFullYear(A,X,B),K.setHours(0,0,0),K}function Ge(A,X){const B=function Ln(A){return(0,y.H5H)(A)[y.KH2.LocaleId]}(A);if(Ce[B]=Ce[B]||{},Ce[B][X])return Ce[B][X];let K="";switch(X){case"shortDate":K=kt(A,Yt.Short);break;case"mediumDate":K=kt(A,Yt.Medium);break;case"longDate":K=kt(A,Yt.Long);break;case"fullDate":K=kt(A,Yt.Full);break;case"shortTime":K=Ue(A,Yt.Short);break;case"mediumTime":K=Ue(A,Yt.Medium);break;case"longTime":K=Ue(A,Yt.Long);break;case"fullTime":K=Ue(A,Yt.Full);break;case"short":const Pe=Ge(A,"shortTime"),wt=Ge(A,"shortDate");K=ut(ke(A,Yt.Short),[Pe,wt]);break;case"medium":const Ft=Ge(A,"mediumTime"),Dn=Ge(A,"mediumDate");K=ut(ke(A,Yt.Medium),[Ft,Dn]);break;case"long":const _n=Ge(A,"longTime"),qn=Ge(A,"longDate");K=ut(ke(A,Yt.Long),[_n,qn]);break;case"full":const _r=Ge(A,"fullTime"),ar=Ge(A,"fullDate");K=ut(ke(A,Yt.Full),[_r,ar])}return K&&(Ce[B][X]=K),K}function ut(A,X){return X&&(A=A.replace(/\{([^}]+)}/g,function(B,K){return null!=X&&K in X?X[K]:B})),A}function Ut(A,X,B="-",K,Pe){let wt="";(A<0||Pe&&A<=0)&&(Pe?A=1-A:(A=-A,wt=B));let Ft=String(A);for(;Ft.length<X;)Ft="0"+Ft;return K&&(Ft=Ft.slice(Ft.length-X)),wt+Ft}function qt(A,X,B=0,K=!1,Pe=!1){return function(wt,Ft){let Dn=function Gn(A,X){switch(A){case Ye.FullYear:return X.getFullYear();case Ye.Month:return X.getMonth();case Ye.Date:return X.getDate();case Ye.Hours:return X.getHours();case Ye.Minutes:return X.getMinutes();case Ye.Seconds:return X.getSeconds();case Ye.FractionalSeconds:return X.getMilliseconds();case Ye.Day:return X.getDay();default:throw new Error(`Unknown DateType value "${A}".`)}}(A,wt);if((B>0||Dn>-B)&&(Dn+=B),A===Ye.Hours)0===Dn&&-12===B&&(Dn=12);else if(A===Ye.FractionalSeconds)return function zn(A,X){return Ut(A,3).substring(0,X)}(Dn,X);const _n=ue(Ft,fn.MinusSign);return Ut(Dn,X,_n,K,Pe)}}function yn(A,X,B=ft.Format,K=!1){return function(Pe,wt){return function yi(A,X,B,K,Pe,wt){switch(B){case it.Months:return function zt(A,X,B){const K=(0,y.H5H)(A),wt=Fn([K[y.KH2.MonthsFormat],K[y.KH2.MonthsStandalone]],X);return Fn(wt,B)}(X,Pe,K)[A.getMonth()];case it.Days:return function mt(A,X,B){const K=(0,y.H5H)(A),wt=Fn([K[y.KH2.DaysFormat],K[y.KH2.DaysStandalone]],X);return Fn(wt,B)}(X,Pe,K)[A.getDay()];case it.DayPeriods:const Ft=A.getHours(),Dn=A.getMinutes();if(wt){const qn=function In(A){const X=(0,y.H5H)(A);return an(X),(X[y.KH2.ExtraData][2]||[]).map(K=>"string"==typeof K?cr(K):[cr(K[0]),cr(K[1])])}(X),_r=function Nn(A,X,B){const K=(0,y.H5H)(A);an(K);const wt=Fn([K[y.KH2.ExtraData][0],K[y.KH2.ExtraData][1]],X)||[];return Fn(wt,B)||[]}(X,Pe,K),ar=qn.findIndex(fi=>{if(Array.isArray(fi)){const[Vr,Gi]=fi,ss=Ft>=Vr.hours&&Dn>=Vr.minutes,wi=Ft<Gi.hours||Ft===Gi.hours&&Dn<Gi.minutes;if(Vr.hours<Gi.hours){if(ss&&wi)return!0}else if(ss||wi)return!0}else if(fi.hours===Ft&&fi.minutes===Dn)return!0;return!1});if(-1!==ar)return _r[ar]}return function Bt(A,X,B){const K=(0,y.H5H)(A),wt=Fn([K[y.KH2.DayPeriodsFormat],K[y.KH2.DayPeriodsStandalone]],X);return Fn(wt,B)}(X,Pe,K)[Ft<12?0:1];case it.Eras:return function mn(A,X){return Fn((0,y.H5H)(A)[y.KH2.Eras],X)}(X,K)[A.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${B}`)}}(Pe,wt,A,X,B,K)}}function Wr(A){return function(X,B,K){const Pe=-1*K,wt=ue(B,fn.MinusSign),Ft=Pe>0?Math.floor(Pe/60):Math.ceil(Pe/60);switch(A){case rt.Short:return(Pe>=0?"+":"")+Ut(Ft,2,wt)+Ut(Math.abs(Pe%60),2,wt);case rt.ShortGMT:return"GMT"+(Pe>=0?"+":"")+Ut(Ft,1,wt);case rt.Long:return"GMT"+(Pe>=0?"+":"")+Ut(Ft,2,wt)+":"+Ut(Math.abs(Pe%60),2,wt);case rt.Extended:return 0===K?"Z":(Pe>=0?"+":"")+Ut(Ft,2,wt)+":"+Ut(Math.abs(Pe%60),2,wt);default:throw new Error(`Unknown zone width "${A}"`)}}}const sr=0,Jr=4;function Or(A){return de(A.getFullYear(),A.getMonth(),A.getDate()+(Jr-A.getDay()))}function Xr(A,X=!1){return function(B,K){let Pe;if(X){const wt=new Date(B.getFullYear(),B.getMonth(),1).getDay()-1,Ft=B.getDate();Pe=1+Math.floor((Ft+wt)/7)}else{const wt=Or(B),Ft=function Kn(A){const X=de(A,sr,1).getDay();return de(A,0,1+(X<=Jr?Jr:Jr+7)-X)}(wt.getFullYear()),Dn=wt.getTime()-Ft.getTime();Pe=1+Math.round(Dn/6048e5)}return Ut(Pe,A,ue(K,fn.MinusSign))}}function ei(A,X=!1){return function(B,K){return Ut(Or(B).getFullYear(),A,ue(K,fn.MinusSign),X)}}const et={};function pr(A,X){A=A.replace(/:/g,"");const B=Date.parse("Jan 01, 1970 00:00:00 "+A)/6e4;return isNaN(B)?X:B}function R(A){return A instanceof Date&&!isNaN(A.valueOf())}const U=/^(\d+)?\.((\d+)(-(\d+))?)?$/,ve=22,Se=".",Me="0",ye=";",re=",",Te="#";function Ee(A,X,B,K,Pe,wt,Ft=!1){let Dn="",_n=!1;if(isFinite(A)){let qn=function tn(A){let K,Pe,wt,Ft,Dn,X=Math.abs(A)+"",B=0;for((Pe=X.indexOf(Se))>-1&&(X=X.replace(Se,"")),(wt=X.search(/e/i))>0?(Pe<0&&(Pe=wt),Pe+=+X.slice(wt+1),X=X.substring(0,wt)):Pe<0&&(Pe=X.length),wt=0;X.charAt(wt)===Me;wt++);if(wt===(Dn=X.length))K=[0],Pe=1;else{for(Dn--;X.charAt(Dn)===Me;)Dn--;for(Pe-=wt,K=[],Ft=0;wt<=Dn;wt++,Ft++)K[Ft]=Number(X.charAt(wt))}return Pe>ve&&(K=K.splice(0,ve-1),B=Pe-1,Pe=1),{digits:K,exponent:B,integerLen:Pe}}(A);Ft&&(qn=function sn(A){if(0===A.digits[0])return A;const X=A.digits.length-A.integerLen;return A.exponent?A.exponent+=2:(0===X?A.digits.push(0,0):1===X&&A.digits.push(0),A.integerLen+=2),A}(qn));let _r=X.minInt,ar=X.minFrac,fi=X.maxFrac;if(wt){const Di=wt.match(U);if(null===Di)throw new Error(`${wt} is not a valid digit info`);const As=Di[1],Ki=Di[3],Go=Di[5];null!=As&&(_r=pn(As)),null!=Ki&&(ar=pn(Ki)),null!=Go?fi=pn(Go):null!=Ki&&ar>fi&&(fi=ar)}!function Un(A,X,B){if(X>B)throw new Error(`The minimum number of digits after fraction (${X}) is higher than the maximum (${B}).`);let K=A.digits,Pe=K.length-A.integerLen;const wt=Math.min(Math.max(X,Pe),B);let Ft=wt+A.integerLen,Dn=K[Ft];if(Ft>0){K.splice(Math.max(A.integerLen,Ft));for(let ar=Ft;ar<K.length;ar++)K[ar]=0}else{Pe=Math.max(0,Pe),A.integerLen=1,K.length=Math.max(1,Ft=wt+1),K[0]=0;for(let ar=1;ar<Ft;ar++)K[ar]=0}if(Dn>=5)if(Ft-1<0){for(let ar=0;ar>Ft;ar--)K.unshift(0),A.integerLen++;K.unshift(1),A.integerLen++}else K[Ft-1]++;for(;Pe<Math.max(0,wt);Pe++)K.push(0);let _n=0!==wt;const qn=X+A.integerLen,_r=K.reduceRight(function(ar,fi,Vr,Gi){return Gi[Vr]=(fi+=ar)<10?fi:fi-10,_n&&(0===Gi[Vr]&&Vr>=qn?Gi.pop():_n=!1),fi>=10?1:0},0);_r&&(K.unshift(_r),A.integerLen++)}(qn,ar,fi);let Vr=qn.digits,Gi=qn.integerLen;const ss=qn.exponent;let wi=[];for(_n=Vr.every(Di=>!Di);Gi<_r;Gi++)Vr.unshift(0);for(;Gi<0;Gi++)Vr.unshift(0);Gi>0?wi=Vr.splice(Gi,Vr.length):(wi=Vr,Vr=[0]);const so=[];for(Vr.length>=X.lgSize&&so.unshift(Vr.splice(-X.lgSize,Vr.length).join(""));Vr.length>X.gSize;)so.unshift(Vr.splice(-X.gSize,Vr.length).join(""));Vr.length&&so.unshift(Vr.join("")),Dn=so.join(ue(B,K)),wi.length&&(Dn+=ue(B,Pe)+wi.join("")),ss&&(Dn+=ue(B,fn.Exponential)+"+"+ss)}else Dn=ue(B,fn.Infinity);return Dn=A<0&&!_n?X.negPre+Dn+X.negSuf:X.posPre+Dn+X.posSuf,Dn}function Qt(A,X="-"){const B={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},K=A.split(ye),Pe=K[0],wt=K[1],Ft=-1!==Pe.indexOf(Se)?Pe.split(Se):[Pe.substring(0,Pe.lastIndexOf(Me)+1),Pe.substring(Pe.lastIndexOf(Me)+1)],Dn=Ft[0],_n=Ft[1]||"";B.posPre=Dn.substring(0,Dn.indexOf(Te));for(let _r=0;_r<_n.length;_r++){const ar=_n.charAt(_r);ar===Me?B.minFrac=B.maxFrac=_r+1:ar===Te?B.maxFrac=_r+1:B.posSuf+=ar}const qn=Dn.split(re);if(B.gSize=qn[1]?qn[1].length:0,B.lgSize=qn[2]||qn[1]?(qn[2]||qn[1]).length:0,wt){const _r=Pe.length-B.posPre.length-B.posSuf.length,ar=wt.indexOf(Te);B.negPre=wt.substring(0,ar).replace(/'/g,""),B.negSuf=wt.slice(ar+_r).replace(/'/g,"")}else B.negPre=X+B.posPre,B.negSuf=B.posSuf;return B}function pn(A){const X=parseInt(A);if(isNaN(X))throw new Error("Invalid integer literal when parsing "+A);return X}function en(A,X){X=encodeURIComponent(X);for(const B of A.split(";")){const K=B.indexOf("="),[Pe,wt]=-1==K?[B,""]:[B.slice(0,K),B.slice(K+1)];if(Pe.trim()===X)return decodeURIComponent(wt)}return null}const Tn=/\s+/,gn=[];let wn=(()=>{class A{constructor(B,K,Pe,wt){this._iterableDiffers=B,this._keyValueDiffers=K,this._ngEl=Pe,this._renderer=wt,this.initialClasses=gn,this.stateMap=new Map}set klass(B){this.initialClasses=null!=B?B.trim().split(Tn):gn}set ngClass(B){this.rawClass="string"==typeof B?B.trim().split(Tn):B}ngDoCheck(){for(const K of this.initialClasses)this._updateState(K,!0);const B=this.rawClass;if(Array.isArray(B)||B instanceof Set)for(const K of B)this._updateState(K,!0);else if(null!=B)for(const K of Object.keys(B))this._updateState(K,!!B[K]);this._applyStateDiff()}_updateState(B,K){const Pe=this.stateMap.get(B);void 0!==Pe?(Pe.enabled!==K&&(Pe.changed=!0,Pe.enabled=K),Pe.touched=!0):this.stateMap.set(B,{enabled:K,changed:!0,touched:!0})}_applyStateDiff(){for(const B of this.stateMap){const K=B[0],Pe=B[1];Pe.changed?(this._toggleClass(K,Pe.enabled),Pe.changed=!1):Pe.touched||(Pe.enabled&&this._toggleClass(K,!1),this.stateMap.delete(K)),Pe.touched=!1}}_toggleClass(B,K){(B=B.trim()).length>0&&B.split(Tn).forEach(Pe=>{K?this._renderer.addClass(this._ngEl.nativeElement,Pe):this._renderer.removeClass(this._ngEl.nativeElement,Pe)})}static{this.\u0275fac=function(K){return new(K||A)(y.rXU(y._q3),y.rXU(y.MKu),y.rXU(y.aKT),y.rXU(y.sFG))}}static{this.\u0275dir=y.FsC({type:A,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}}return A})();class fr{constructor(X,B,K,Pe){this.$implicit=X,this.ngForOf=B,this.index=K,this.count=Pe}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Fr=(()=>{class A{set ngForOf(B){this._ngForOf=B,this._ngForOfDirty=!0}set ngForTrackBy(B){this._trackByFn=B}get ngForTrackBy(){return this._trackByFn}constructor(B,K,Pe){this._viewContainer=B,this._template=K,this._differs=Pe,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(B){B&&(this._template=B)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const B=this._ngForOf;!this._differ&&B&&(this._differ=this._differs.find(B).create(this.ngForTrackBy))}if(this._differ){const B=this._differ.diff(this._ngForOf);B&&this._applyChanges(B)}}_applyChanges(B){const K=this._viewContainer;B.forEachOperation((Pe,wt,Ft)=>{if(null==Pe.previousIndex)K.createEmbeddedView(this._template,new fr(Pe.item,this._ngForOf,-1,-1),null===Ft?void 0:Ft);else if(null==Ft)K.remove(null===wt?void 0:wt);else if(null!==wt){const Dn=K.get(wt);K.move(Dn,Ft),li(Dn,Pe)}});for(let Pe=0,wt=K.length;Pe<wt;Pe++){const Dn=K.get(Pe).context;Dn.index=Pe,Dn.count=wt,Dn.ngForOf=this._ngForOf}B.forEachIdentityChange(Pe=>{li(K.get(Pe.currentIndex),Pe)})}static ngTemplateContextGuard(B,K){return!0}static{this.\u0275fac=function(K){return new(K||A)(y.rXU(y.c1b),y.rXU(y.C4Q),y.rXU(y._q3))}}static{this.\u0275dir=y.FsC({type:A,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return A})();function li(A,X){A.context.$implicit=X.item}let br=(()=>{class A{constructor(B,K){this._viewContainer=B,this._context=new Ci,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=K}set ngIf(B){this._context.$implicit=this._context.ngIf=B,this._updateView()}set ngIfThen(B){Ai("ngIfThen",B),this._thenTemplateRef=B,this._thenViewRef=null,this._updateView()}set ngIfElse(B){Ai("ngIfElse",B),this._elseTemplateRef=B,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(B,K){return!0}static{this.\u0275fac=function(K){return new(K||A)(y.rXU(y.c1b),y.rXU(y.C4Q))}}static{this.\u0275dir=y.FsC({type:A,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return A})();class Ci{constructor(){this.$implicit=null,this.ngIf=null}}function Ai(A,X){if(X&&!X.createEmbeddedView)throw new Error(`${A} must be a TemplateRef, but received '${(0,y.Tbb)(X)}'.`)}class Po{constructor(X,B){this._viewContainerRef=X,this._templateRef=B,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(X){X&&!this._created?this.create():!X&&this._created&&this.destroy()}}let ki=(()=>{class A{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(B){this._ngSwitch=B,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(B){this._defaultViews.push(B)}_matchCase(B){const K=B==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||K,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),K}_updateDefaultCases(B){if(this._defaultViews.length>0&&B!==this._defaultUsed){this._defaultUsed=B;for(const K of this._defaultViews)K.enforceState(B)}}static{this.\u0275fac=function(K){return new(K||A)}}static{this.\u0275dir=y.FsC({type:A,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0})}}return A})(),sc=(()=>{class A{constructor(B,K,Pe){this.ngSwitch=Pe,Pe._addCase(),this._view=new Po(B,K)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}static{this.\u0275fac=function(K){return new(K||A)(y.rXU(y.c1b),y.rXU(y.C4Q),y.rXU(ki,9))}}static{this.\u0275dir=y.FsC({type:A,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0})}}return A})();function Ii(A,X){return new y.wOt(2100,!1)}const En=new y.nKC("DATE_PIPE_DEFAULT_TIMEZONE"),Mr=new y.nKC("DATE_PIPE_DEFAULT_OPTIONS");let di=(()=>{class A{constructor(B,K,Pe){this.locale=B,this.defaultTimezone=K,this.defaultOptions=Pe}transform(B,K,Pe,wt){if(null==B||""===B||B!=B)return null;try{return $e(B,K??this.defaultOptions?.dateFormat??"mediumDate",wt||this.locale,Pe??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(Ft){throw Ii()}}static{this.\u0275fac=function(K){return new(K||A)(y.rXU(y.xe9,16),y.rXU(En,24),y.rXU(Mr,24))}}static{this.\u0275pipe=y.EJ8({name:"date",type:A,pure:!0,standalone:!0})}}return A})(),Cr=(()=>{class A{constructor(B){this._locale=B}transform(B,K,Pe){if(!Dr(B))return null;Pe=Pe||this._locale;try{return function At(A,X,B){return Ee(A,Qt(Oe(X,je.Decimal),ue(X,fn.MinusSign)),X,fn.Group,fn.Decimal,B)}(Bi(B),Pe,K)}catch(wt){throw Ii()}}static{this.\u0275fac=function(K){return new(K||A)(y.rXU(y.xe9,16))}}static{this.\u0275pipe=y.EJ8({name:"number",type:A,pure:!0,standalone:!0})}}return A})(),On=(()=>{class A{constructor(B,K="USD"){this._locale=B,this._defaultCurrencyCode=K}transform(B,K=this._defaultCurrencyCode,Pe="symbol",wt,Ft){if(!Dr(B))return null;Ft=Ft||this._locale,"boolean"==typeof Pe&&(Pe=Pe?"symbol":"code");let Dn=K||this._defaultCurrencyCode;"code"!==Pe&&(Dn="symbol"===Pe||"symbol-narrow"===Pe?function lr(A,X,B="en"){const K=function vn(A){return(0,y.H5H)(A)[y.KH2.Currencies]}(B)[A]||We[A]||[],Pe=K[1];return"narrow"===X&&"string"==typeof Pe?Pe:K[0]||A}(Dn,"symbol"===Pe?"wide":"narrow",Ft):Pe);try{return function we(A,X,B,K,Pe){const Ft=Qt(Oe(X,je.Currency),ue(X,fn.MinusSign));return Ft.minFrac=function Pt(A){let X;const B=We[A];return B&&(X=B[2]),"number"==typeof X?X:2}(K),Ft.maxFrac=Ft.minFrac,Ee(A,Ft,X,fn.CurrencyGroup,fn.CurrencyDecimal,Pe).replace("\xa4",B).replace("\xa4","").trim()}(Bi(B),Ft,Dn,K,wt)}catch(_n){throw Ii()}}static{this.\u0275fac=function(K){return new(K||A)(y.rXU(y.xe9,16),y.rXU(y.Ocv,16))}}static{this.\u0275pipe=y.EJ8({name:"currency",type:A,pure:!0,standalone:!0})}}return A})();function Dr(A){return!(null==A||""===A||A!=A)}function Bi(A){if("string"==typeof A&&!isNaN(Number(A)-parseFloat(A)))return Number(A);if("number"!=typeof A)throw new Error(`${A} is not a number`);return A}let uo=(()=>{class A{static{this.\u0275fac=function(K){return new(K||A)}}static{this.\u0275mod=y.$C({type:A})}static{this.\u0275inj=y.G2t({})}}return A})();const jr="browser",ji="server";function Oo(A){return A===jr}function ns(A){return A===ji}let Ti=(()=>{class A{static{this.\u0275prov=(0,y.jDH)({token:A,providedIn:"root",factory:()=>new Io((0,y.KVO)(se),window)})}}return A})();class Io{constructor(X,B){this.document=X,this.window=B,this.offset=()=>[0,0]}setOffset(X){this.offset=Array.isArray(X)?()=>X:X}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(X){this.supportsScrolling()&&this.window.scrollTo(X[0],X[1])}scrollToAnchor(X){if(!this.supportsScrolling())return;const B=function zi(A,X){const B=A.getElementById(X)||A.getElementsByName(X)[0];if(B)return B;if("function"==typeof A.createTreeWalker&&A.body&&"function"==typeof A.body.attachShadow){const K=A.createTreeWalker(A.body,NodeFilter.SHOW_ELEMENT);let Pe=K.currentNode;for(;Pe;){const wt=Pe.shadowRoot;if(wt){const Ft=wt.getElementById(X)||wt.querySelector(`[name="${X}"]`);if(Ft)return Ft}Pe=K.nextNode()}}return null}(this.document,X);B&&(this.scrollToElement(B),B.focus())}setHistoryScrollRestoration(X){this.supportsScrolling()&&(this.window.history.scrollRestoration=X)}scrollToElement(X){const B=X.getBoundingClientRect(),K=B.left+this.window.pageXOffset,Pe=B.top+this.window.pageYOffset,wt=this.offset();this.window.scrollTo(K-wt[0],Pe-wt[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class To{}},1626:(nn,Je,F)=>{F.d(Je,{Qq:()=>Vt,q1:()=>U});var y=F(7705),G=F(7673),_e=F(8455),he=F(1985),ie=F(274),se=F(5964),Ne=F(6354),De=F(980),Ie=F(5558),ne=F(177);class me{}class Be{}class qe{constructor(we){this.normalizedNames=new Map,this.lazyUpdate=null,we?"string"==typeof we?this.lazyInit=()=>{this.headers=new Map,we.split("\n").forEach(Le=>{const At=Le.indexOf(":");if(At>0){const Qt=Le.slice(0,At),sn=Qt.toLowerCase(),tn=Le.slice(At+1).trim();this.maybeSetNormalizedName(Qt,sn),this.headers.has(sn)?this.headers.get(sn).push(tn):this.headers.set(sn,[tn])}})}:typeof Headers<"u"&&we instanceof Headers?(this.headers=new Map,we.forEach((Le,At)=>{this.setHeaderEntries(At,Le)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(we).forEach(([Le,At])=>{this.setHeaderEntries(Le,At)})}:this.headers=new Map}has(we){return this.init(),this.headers.has(we.toLowerCase())}get(we){this.init();const Le=this.headers.get(we.toLowerCase());return Le&&Le.length>0?Le[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(we){return this.init(),this.headers.get(we.toLowerCase())||null}append(we,Le){return this.clone({name:we,value:Le,op:"a"})}set(we,Le){return this.clone({name:we,value:Le,op:"s"})}delete(we,Le){return this.clone({name:we,value:Le,op:"d"})}maybeSetNormalizedName(we,Le){this.normalizedNames.has(Le)||this.normalizedNames.set(Le,we)}init(){this.lazyInit&&(this.lazyInit instanceof qe?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(we=>this.applyUpdate(we)),this.lazyUpdate=null))}copyFrom(we){we.init(),Array.from(we.headers.keys()).forEach(Le=>{this.headers.set(Le,we.headers.get(Le)),this.normalizedNames.set(Le,we.normalizedNames.get(Le))})}clone(we){const Le=new qe;return Le.lazyInit=this.lazyInit&&this.lazyInit instanceof qe?this.lazyInit:this,Le.lazyUpdate=(this.lazyUpdate||[]).concat([we]),Le}applyUpdate(we){const Le=we.name.toLowerCase();switch(we.op){case"a":case"s":let At=we.value;if("string"==typeof At&&(At=[At]),0===At.length)return;this.maybeSetNormalizedName(we.name,Le);const Qt=("a"===we.op?this.headers.get(Le):void 0)||[];Qt.push(...At),this.headers.set(Le,Qt);break;case"d":const sn=we.value;if(sn){let tn=this.headers.get(Le);if(!tn)return;tn=tn.filter(Un=>-1===sn.indexOf(Un)),0===tn.length?(this.headers.delete(Le),this.normalizedNames.delete(Le)):this.headers.set(Le,tn)}else this.headers.delete(Le),this.normalizedNames.delete(Le)}}setHeaderEntries(we,Le){const At=(Array.isArray(Le)?Le:[Le]).map(sn=>sn.toString()),Qt=we.toLowerCase();this.headers.set(Qt,At),this.maybeSetNormalizedName(we,Qt)}forEach(we){this.init(),Array.from(this.normalizedNames.keys()).forEach(Le=>we(this.normalizedNames.get(Le),this.headers.get(Le)))}}class _t{encodeKey(we){return dn(we)}encodeValue(we){return dn(we)}decodeKey(we){return decodeURIComponent(we)}decodeValue(we){return decodeURIComponent(we)}}const Nt=/%(\d[a-f0-9])/gi,Lt={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function dn(Ee){return encodeURIComponent(Ee).replace(Nt,(we,Le)=>Lt[Le]??we)}function Zt(Ee){return`${Ee}`}class be{constructor(we={}){if(this.updates=null,this.cloneFrom=null,this.encoder=we.encoder||new _t,we.fromString){if(we.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function It(Ee,we){const Le=new Map;return Ee.length>0&&Ee.replace(/^\?/,"").split("&").forEach(Qt=>{const sn=Qt.indexOf("="),[tn,Un]=-1==sn?[we.decodeKey(Qt),""]:[we.decodeKey(Qt.slice(0,sn)),we.decodeValue(Qt.slice(sn+1))],pn=Le.get(tn)||[];pn.push(Un),Le.set(tn,pn)}),Le}(we.fromString,this.encoder)}else we.fromObject?(this.map=new Map,Object.keys(we.fromObject).forEach(Le=>{const At=we.fromObject[Le],Qt=Array.isArray(At)?At.map(Zt):[Zt(At)];this.map.set(Le,Qt)})):this.map=null}has(we){return this.init(),this.map.has(we)}get(we){this.init();const Le=this.map.get(we);return Le?Le[0]:null}getAll(we){return this.init(),this.map.get(we)||null}keys(){return this.init(),Array.from(this.map.keys())}append(we,Le){return this.clone({param:we,value:Le,op:"a"})}appendAll(we){const Le=[];return Object.keys(we).forEach(At=>{const Qt=we[At];Array.isArray(Qt)?Qt.forEach(sn=>{Le.push({param:At,value:sn,op:"a"})}):Le.push({param:At,value:Qt,op:"a"})}),this.clone(Le)}set(we,Le){return this.clone({param:we,value:Le,op:"s"})}delete(we,Le){return this.clone({param:we,value:Le,op:"d"})}toString(){return this.init(),this.keys().map(we=>{const Le=this.encoder.encodeKey(we);return this.map.get(we).map(At=>Le+"="+this.encoder.encodeValue(At)).join("&")}).filter(we=>""!==we).join("&")}clone(we){const Le=new be({encoder:this.encoder});return Le.cloneFrom=this.cloneFrom||this,Le.updates=(this.updates||[]).concat(we),Le}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(we=>this.map.set(we,this.cloneFrom.map.get(we))),this.updates.forEach(we=>{switch(we.op){case"a":case"s":const Le=("a"===we.op?this.map.get(we.param):void 0)||[];Le.push(Zt(we.value)),this.map.set(we.param,Le);break;case"d":if(void 0===we.value){this.map.delete(we.param);break}{let At=this.map.get(we.param)||[];const Qt=At.indexOf(Zt(we.value));-1!==Qt&&At.splice(Qt,1),At.length>0?this.map.set(we.param,At):this.map.delete(we.param)}}}),this.cloneFrom=this.updates=null)}}class je{constructor(){this.map=new Map}set(we,Le){return this.map.set(we,Le),this}get(we){return this.map.has(we)||this.map.set(we,we.defaultValue()),this.map.get(we)}delete(we){return this.map.delete(we),this}has(we){return this.map.has(we)}keys(){return this.map.keys()}}function ft(Ee){return typeof ArrayBuffer<"u"&&Ee instanceof ArrayBuffer}function Ct(Ee){return typeof Blob<"u"&&Ee instanceof Blob}function Yt(Ee){return typeof FormData<"u"&&Ee instanceof FormData}class bn{constructor(we,Le,At,Qt){let sn;if(this.url=Le,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=we.toUpperCase(),function Qe(Ee){switch(Ee){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||Qt?(this.body=void 0!==At?At:null,sn=Qt):sn=At,sn&&(this.reportProgress=!!sn.reportProgress,this.withCredentials=!!sn.withCredentials,sn.responseType&&(this.responseType=sn.responseType),sn.headers&&(this.headers=sn.headers),sn.context&&(this.context=sn.context),sn.params&&(this.params=sn.params)),this.headers||(this.headers=new qe),this.context||(this.context=new je),this.params){const tn=this.params.toString();if(0===tn.length)this.urlWithParams=Le;else{const Un=Le.indexOf("?");this.urlWithParams=Le+(-1===Un?"?":Un<Le.length-1?"&":"")+tn}}else this.params=new be,this.urlWithParams=Le}serializeBody(){return null===this.body?null:ft(this.body)||Ct(this.body)||Yt(this.body)||function fn(Ee){return typeof URLSearchParams<"u"&&Ee instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof be?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Yt(this.body)?null:Ct(this.body)?this.body.type||null:ft(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof be?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(we={}){const Le=we.method||this.method,At=we.url||this.url,Qt=we.responseType||this.responseType,sn=void 0!==we.body?we.body:this.body,tn=void 0!==we.withCredentials?we.withCredentials:this.withCredentials,Un=void 0!==we.reportProgress?we.reportProgress:this.reportProgress;let pn=we.headers||this.headers,Yr=we.params||this.params;const vt=we.context??this.context;return void 0!==we.setHeaders&&(pn=Object.keys(we.setHeaders).reduce((nt,Rt)=>nt.set(Rt,we.setHeaders[Rt]),pn)),we.setParams&&(Yr=Object.keys(we.setParams).reduce((nt,Rt)=>nt.set(Rt,we.setParams[Rt]),Yr)),new bn(Le,At,sn,{params:Yr,headers:pn,context:vt,reportProgress:Un,responseType:Qt,withCredentials:tn})}}var Ln=function(Ee){return Ee[Ee.Sent=0]="Sent",Ee[Ee.UploadProgress=1]="UploadProgress",Ee[Ee.ResponseHeader=2]="ResponseHeader",Ee[Ee.DownloadProgress=3]="DownloadProgress",Ee[Ee.Response=4]="Response",Ee[Ee.User=5]="User",Ee}(Ln||{});class Bt{constructor(we,Le=200,At="OK"){this.headers=we.headers||new qe,this.status=void 0!==we.status?we.status:Le,this.statusText=we.statusText||At,this.url=we.url||null,this.ok=this.status>=200&&this.status<300}}class mt extends Bt{constructor(we={}){super(we),this.type=Ln.ResponseHeader}clone(we={}){return new mt({headers:we.headers||this.headers,status:void 0!==we.status?we.status:this.status,statusText:we.statusText||this.statusText,url:we.url||this.url||void 0})}}class zt extends Bt{constructor(we={}){super(we),this.type=Ln.Response,this.body=void 0!==we.body?we.body:null}clone(we={}){return new zt({body:void 0!==we.body?we.body:this.body,headers:we.headers||this.headers,status:void 0!==we.status?we.status:this.status,statusText:we.statusText||this.statusText,url:we.url||this.url||void 0})}}class mn extends Bt{constructor(we){super(we,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${we.url||"(unknown url)"}`:`Http failure response for ${we.url||"(unknown url)"}: ${we.status} ${we.statusText}`,this.error=we.error||null}}function ln(Ee,we){return{body:we,headers:Ee.headers,context:Ee.context,observe:Ee.observe,params:Ee.params,reportProgress:Ee.reportProgress,responseType:Ee.responseType,withCredentials:Ee.withCredentials}}let Vt=(()=>{class Ee{constructor(Le){this.handler=Le}request(Le,At,Qt={}){let sn;if(Le instanceof bn)sn=Le;else{let pn,Yr;pn=Qt.headers instanceof qe?Qt.headers:new qe(Qt.headers),Qt.params&&(Yr=Qt.params instanceof be?Qt.params:new be({fromObject:Qt.params})),sn=new bn(Le,At,void 0!==Qt.body?Qt.body:null,{headers:pn,context:Qt.context,params:Yr,reportProgress:Qt.reportProgress,responseType:Qt.responseType||"json",withCredentials:Qt.withCredentials})}const tn=(0,G.of)(sn).pipe((0,ie.H)(pn=>this.handler.handle(pn)));if(Le instanceof bn||"events"===Qt.observe)return tn;const Un=tn.pipe((0,se.p)(pn=>pn instanceof zt));switch(Qt.observe||"body"){case"body":switch(sn.responseType){case"arraybuffer":return Un.pipe((0,Ne.T)(pn=>{if(null!==pn.body&&!(pn.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return pn.body}));case"blob":return Un.pipe((0,Ne.T)(pn=>{if(null!==pn.body&&!(pn.body instanceof Blob))throw new Error("Response is not a Blob.");return pn.body}));case"text":return Un.pipe((0,Ne.T)(pn=>{if(null!==pn.body&&"string"!=typeof pn.body)throw new Error("Response is not a string.");return pn.body}));default:return Un.pipe((0,Ne.T)(pn=>pn.body))}case"response":return Un;default:throw new Error(`Unreachable: unhandled observe type ${Qt.observe}}`)}}delete(Le,At={}){return this.request("DELETE",Le,At)}get(Le,At={}){return this.request("GET",Le,At)}head(Le,At={}){return this.request("HEAD",Le,At)}jsonp(Le,At){return this.request("JSONP",Le,{params:(new be).append(At,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(Le,At={}){return this.request("OPTIONS",Le,At)}patch(Le,At,Qt={}){return this.request("PATCH",Le,ln(Qt,At))}post(Le,At,Qt={}){return this.request("POST",Le,ln(Qt,At))}put(Le,At,Qt={}){return this.request("PUT",Le,ln(Qt,At))}static{this.\u0275fac=function(At){return new(At||Ee)(y.KVO(me))}}static{this.\u0275prov=y.jDH({token:Ee,factory:Ee.\u0275fac})}}return Ee})();function Dt(Ee,we){return we(Ee)}function vn(Ee,we){return(Le,At)=>we.intercept(Le,{handle:Qt=>Ee(Qt,At)})}const an=new y.nKC(""),In=new y.nKC(""),Nn=new y.nKC("");function gr(){let Ee=null;return(we,Le)=>{null===Ee&&(Ee=((0,y.WQX)(an,{optional:!0})??[]).reduceRight(vn,Dt));const At=(0,y.WQX)(y.$K3),Qt=At.add();return Ee(we,Le).pipe((0,De.j)(()=>At.remove(Qt)))}}let Fn=(()=>{class Ee extends me{constructor(Le,At){super(),this.backend=Le,this.injector=At,this.chain=null,this.pendingTasks=(0,y.WQX)(y.$K3)}handle(Le){if(null===this.chain){const Qt=Array.from(new Set([...this.injector.get(In),...this.injector.get(Nn,[])]));this.chain=Qt.reduceRight((sn,tn)=>function tr(Ee,we,Le){return(At,Qt)=>Le.runInContext(()=>we(At,sn=>Ee(sn,Qt)))}(sn,tn,this.injector),Dt)}const At=this.pendingTasks.add();return this.chain(Le,Qt=>this.backend.handle(Qt)).pipe((0,De.j)(()=>this.pendingTasks.remove(At)))}static{this.\u0275fac=function(At){return new(At||Ee)(y.KVO(Be),y.KVO(y.uvJ))}}static{this.\u0275prov=y.jDH({token:Ee,factory:Ee.\u0275fac})}}return Ee})();const de=/^\)\]\}',?\n/;let ut=(()=>{class Ee{constructor(Le){this.xhrFactory=Le}handle(Le){if("JSONP"===Le.method)throw new y.wOt(-2800,!1);const At=this.xhrFactory;return(At.\u0275loadImpl?(0,_e.H)(At.\u0275loadImpl()):(0,G.of)(null)).pipe((0,Ie.n)(()=>new he.c(sn=>{const tn=At.build();if(tn.open(Le.method,Le.urlWithParams),Le.withCredentials&&(tn.withCredentials=!0),Le.headers.forEach((gn,wn)=>tn.setRequestHeader(gn,wn.join(","))),Le.headers.has("Accept")||tn.setRequestHeader("Accept","application/json, text/plain, */*"),!Le.headers.has("Content-Type")){const gn=Le.detectContentTypeHeader();null!==gn&&tn.setRequestHeader("Content-Type",gn)}if(Le.responseType){const gn=Le.responseType.toLowerCase();tn.responseType="json"!==gn?gn:"text"}const Un=Le.serializeBody();let pn=null;const Yr=()=>{if(null!==pn)return pn;const gn=tn.statusText||"OK",wn=new qe(tn.getAllResponseHeaders()),vr=function Ge(Ee){return"responseURL"in Ee&&Ee.responseURL?Ee.responseURL:/^X-Request-URL:/m.test(Ee.getAllResponseHeaders())?Ee.getResponseHeader("X-Request-URL"):null}(tn)||Le.url;return pn=new mt({headers:wn,status:tn.status,statusText:gn,url:vr}),pn},vt=()=>{let{headers:gn,status:wn,statusText:vr,url:Rr}=Yr(),fr=null;204!==wn&&(fr=typeof tn.response>"u"?tn.responseText:tn.response),0===wn&&(wn=fr?200:0);let Fr=wn>=200&&wn<300;if("json"===Le.responseType&&"string"==typeof fr){const li=fr;fr=fr.replace(de,"");try{fr=""!==fr?JSON.parse(fr):null}catch(xo){fr=li,Fr&&(Fr=!1,fr={error:xo,text:fr})}}Fr?(sn.next(new zt({body:fr,headers:gn,status:wn,statusText:vr,url:Rr||void 0})),sn.complete()):sn.error(new mn({error:fr,headers:gn,status:wn,statusText:vr,url:Rr||void 0}))},nt=gn=>{const{url:wn}=Yr(),vr=new mn({error:gn,status:tn.status||0,statusText:tn.statusText||"Unknown Error",url:wn||void 0});sn.error(vr)};let Rt=!1;const en=gn=>{Rt||(sn.next(Yr()),Rt=!0);let wn={type:Ln.DownloadProgress,loaded:gn.loaded};gn.lengthComputable&&(wn.total=gn.total),"text"===Le.responseType&&tn.responseText&&(wn.partialText=tn.responseText),sn.next(wn)},Tn=gn=>{let wn={type:Ln.UploadProgress,loaded:gn.loaded};gn.lengthComputable&&(wn.total=gn.total),sn.next(wn)};return tn.addEventListener("load",vt),tn.addEventListener("error",nt),tn.addEventListener("timeout",nt),tn.addEventListener("abort",nt),Le.reportProgress&&(tn.addEventListener("progress",en),null!==Un&&tn.upload&&tn.upload.addEventListener("progress",Tn)),tn.send(Un),sn.next({type:Ln.Sent}),()=>{tn.removeEventListener("error",nt),tn.removeEventListener("abort",nt),tn.removeEventListener("load",vt),tn.removeEventListener("timeout",nt),Le.reportProgress&&(tn.removeEventListener("progress",en),null!==Un&&tn.upload&&tn.upload.removeEventListener("progress",Tn)),tn.readyState!==tn.DONE&&tn.abort()}})))}static{this.\u0275fac=function(At){return new(At||Ee)(y.KVO(ne.N0))}}static{this.\u0275prov=y.jDH({token:Ee,factory:Ee.\u0275fac})}}return Ee})();const Ut=new y.nKC("XSRF_ENABLED"),qt=new y.nKC("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),yn=new y.nKC("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class yi{}let Wr=(()=>{class Ee{constructor(Le,At,Qt){this.doc=Le,this.platform=At,this.cookieName=Qt,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const Le=this.doc.cookie||"";return Le!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,ne._b)(Le,this.cookieName),this.lastCookieString=Le),this.lastToken}static{this.\u0275fac=function(At){return new(At||Ee)(y.KVO(ne.qQ),y.KVO(y.Agw),y.KVO(qt))}}static{this.\u0275prov=y.jDH({token:Ee,factory:Ee.\u0275fac})}}return Ee})();function sr(Ee,we){const Le=Ee.url.toLowerCase();if(!(0,y.WQX)(Ut)||"GET"===Ee.method||"HEAD"===Ee.method||Le.startsWith("http://")||Le.startsWith("https://"))return we(Ee);const At=(0,y.WQX)(yi).getToken(),Qt=(0,y.WQX)(yn);return null!=At&&!Ee.headers.has(Qt)&&(Ee=Ee.clone({headers:Ee.headers.set(Qt,At)})),we(Ee)}var Kn=function(Ee){return Ee[Ee.Interceptors=0]="Interceptors",Ee[Ee.LegacyInterceptors=1]="LegacyInterceptors",Ee[Ee.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",Ee[Ee.NoXsrfProtection=3]="NoXsrfProtection",Ee[Ee.JsonpSupport=4]="JsonpSupport",Ee[Ee.RequestsMadeViaParent=5]="RequestsMadeViaParent",Ee[Ee.Fetch=6]="Fetch",Ee}(Kn||{});function Or(Ee,we){return{\u0275kind:Ee,\u0275providers:we}}function Xr(...Ee){const we=[Vt,ut,Fn,{provide:me,useExisting:Fn},{provide:Be,useExisting:ut},{provide:In,useValue:sr,multi:!0},{provide:Ut,useValue:!0},{provide:yi,useClass:Wr}];for(const Le of Ee)we.push(...Le.\u0275providers);return(0,y.EmA)(we)}const et=new y.nKC("LEGACY_INTERCEPTOR_FN");let U=(()=>{class Ee{static{this.\u0275fac=function(At){return new(At||Ee)}}static{this.\u0275mod=y.$C({type:Ee})}static{this.\u0275inj=y.G2t({providers:[Xr(Or(Kn.LegacyInterceptors,[{provide:et,useFactory:gr},{provide:In,useExisting:et,multi:!0}]))]})}}return Ee})()},7705:(nn,Je,F)=>{F.d(Je,{$C:()=>Hs,$GK:()=>rt,$K3:()=>Zk,$MX:()=>il,AVh:()=>hh,Agw:()=>A2,B4B:()=>Ef,BIS:()=>_v,BMQ:()=>e,C4Q:()=>J0,C5r:()=>Dk,Co$:()=>U_,DNE:()=>f0,E5c:()=>Vp,EFF:()=>ph,EJ8:()=>Yi,EmA:()=>ep,FsC:()=>Ms,G2t:()=>Nn,GBs:()=>Ek,GFd:()=>gg,H3F:()=>Qk,H5H:()=>kn,H8p:()=>tc,HJs:()=>u3,HbH:()=>Mm,Hbi:()=>G5,JRh:()=>co,JZv:()=>ut,Jv_:()=>z_,KH2:()=>Uo,KVO:()=>ye,Kcf:()=>lf,L39:()=>c3,LfX:()=>Fn,Lme:()=>R0,MKu:()=>lv,Mr5:()=>Su,Mz_:()=>zl,NAR:()=>lh,NEm:()=>w5,NYb:()=>_5,Njj:()=>as,O8t:()=>wt,OA$:()=>ar,OM3:()=>pd,Ocv:()=>KM,Ol2:()=>q_,PLl:()=>Df,QTQ:()=>Ly,Ql9:()=>XM,QuC:()=>Ji,R7$:()=>Vy,RV6:()=>xp,Rfq:()=>_t,RxE:()=>yy,SKi:()=>Zi,SdG:()=>pm,SpI:()=>Np,TL$:()=>ny,Tbb:()=>Be,UyX:()=>oy,VBU:()=>Tr,Vns:()=>S1,Vt3:()=>nm,WHO:()=>tb,WPN:()=>vu,WQX:()=>Te,XpG:()=>M0,Xx1:()=>La,Y8G:()=>vs,Z63:()=>Hh,ZF7:()=>gu,_9s:()=>fd,_q3:()=>cv,aKT:()=>Ol,aNF:()=>W_,bIt:()=>Cp,bVm:()=>Ep,bc$:()=>vv,bkB:()=>ra,c1b:()=>Wm,cWb:()=>h2,czy:()=>ze,e01:()=>nb,e5t:()=>uf,eBV:()=>Ei,eq3:()=>ek,eu8:()=>m1,fpN:()=>W5,gRc:()=>R5,gXe:()=>tn,giA:()=>rb,h9k:()=>cd,hnV:()=>Kk,i5U:()=>lk,iLQ:()=>tv,ii3:()=>uk,j41:()=>p1,jDH:()=>an,jNT:()=>g1,joV:()=>bc,k0s:()=>f1,kS0:()=>ru,kdw:()=>ls,lJ4:()=>J_,lNU:()=>Zt,l_i:()=>tk,lsd:()=>Ck,mGM:()=>wk,mq5:()=>_s,n$t:()=>_2,nI1:()=>ck,nKC:()=>qt,naY:()=>S5,nrm:()=>v0,o8S:()=>Hp,oH4:()=>ab,osQ:()=>sy,plB:()=>$g,qSk:()=>Da,qex:()=>wp,rOR:()=>Hm,rXU:()=>yd,rcV:()=>Il,sFG:()=>Mv,sZ2:()=>hy,sdS:()=>bp,uvJ:()=>Pc,w6W:()=>j4,wOt:()=>be,wni:()=>xk,xGo:()=>qu,xc7:()=>Fi,xe9:()=>Km,xvI:()=>e1,zZn:()=>ba,zcH:()=>Mu,zjR:()=>Cu});var y=F(1413),G=F(8359),_e=F(1985),he=F(7786),ie=F(4412),se=F(7673),Ne=F(7647),De=F(5558),Ie=F(3294);function ne(t){for(let n in t)if(t[n]===ne)return n;throw Error("Could not find renamed property on target object.")}function me(t,n){for(const i in n)n.hasOwnProperty(i)&&!t.hasOwnProperty(i)&&(t[i]=n[i])}function Be(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(Be).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const n=t.toString();if(null==n)return""+n;const i=n.indexOf("\n");return-1===i?n:n.substring(0,i)}function qe(t,n){return null==t||""===t?null===n?"":n:null==n||""===n?t:t+" "+n}const pt=ne({__forward_ref__:ne});function _t(t){return t.__forward_ref__=_t,t.toString=function(){return Be(this())},t}function It(t){return Nt(t)?t():t}function Nt(t){return"function"==typeof t&&t.hasOwnProperty(pt)&&t.__forward_ref__===_t}function Lt(t){return t&&!!t.\u0275providers}const Zt="https://g.co/ng/security#xss";class be extends Error{constructor(n,i){super(function We(t,n){return`NG0${Math.abs(t)}${n?": "+n:""}`}(n,i)),this.code=n}}function je(t){return"string"==typeof t?t:null==t?"":String(t)}function fn(t,n){throw new be(-201,!1)}function Tt(t,n){null==t&&function yt(t,n,i,s){throw new Error(`ASSERTION ERROR: ${t}`+(null==s?"":` [Expected=> ${i} ${s} ${n} <=Actual]`))}(n,t,null,"!=")}function an(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Nn(t){return{providers:t.providers||[],imports:t.imports||[]}}function gr(t){return cr(t,Pt)||cr(t,Ce)}function Fn(t){return null!==gr(t)}function cr(t,n){return t.hasOwnProperty(n)?t[n]:null}function hn(t){return t&&(t.hasOwnProperty(oe)||t.hasOwnProperty(Ae))?t[oe]:null}const Pt=ne({\u0275prov:ne}),oe=ne({\u0275inj:ne}),Ce=ne({ngInjectableDef:ne}),Ae=ne({ngInjectorDef:ne});var rt=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(rt||{});let Ye;function $e(t){const n=Ye;return Ye=t,n}function de(t,n,i){const s=gr(t);return s&&"root"==s.providedIn?void 0===s.value?s.value=s.factory():s.value:i&rt.Optional?null:void 0!==n?n:void fn(Be(t))}const ut=globalThis;class qt{constructor(n,i){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof i?this.__NG_ELEMENT_ID__=i:void 0!==i&&(this.\u0275prov=an({token:this,providedIn:i.providedIn||"root",factory:i.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Lr={},pr="__NG_DI_FLAG__",gi="ngTempTokenPath",pe=/\n/gm,R="__source";let U;function Se(t){const n=U;return U=t,n}function Me(t,n=rt.Default){if(void 0===U)throw new be(-203,!1);return null===U?de(t,void 0,n):U.get(t,n&rt.Optional?null:void 0,n)}function ye(t,n=rt.Default){return(function it(){return Ye}()||Me)(It(t),n)}function Te(t,n=rt.Default){return ye(t,st(n))}function st(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Gt(t){const n=[];for(let i=0;i<t.length;i++){const s=It(t[i]);if(Array.isArray(s)){if(0===s.length)throw new be(900,!1);let l,h=rt.Default;for(let _=0;_<s.length;_++){const E=s[_],T=we(E);"number"==typeof T?-1===T?l=E.token:h|=T:l=E}n.push(ye(l,h))}else n.push(ye(s))}return n}function Ee(t,n){return t[pr]=n,t.prototype[pr]=n,t}function we(t){return t[pr]}function Qt(t){return{toString:t}.toString()}var sn=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(sn||{}),tn=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(tn||{});const Un={},pn=[],Yr=ne({\u0275cmp:ne}),vt=ne({\u0275dir:ne}),nt=ne({\u0275pipe:ne}),Rt=ne({\u0275mod:ne}),en=ne({\u0275fac:ne}),Tn=ne({__NG_ELEMENT_ID__:ne}),gn=ne({__NG_ENV_ID__:ne});function wn(t,n,i){let s=t.length;for(;;){const l=t.indexOf(n,i);if(-1===l)return l;if(0===l||t.charCodeAt(l-1)<=32){const h=n.length;if(l+h===s||t.charCodeAt(l+h)<=32)return l}i=l+1}}function vr(t,n,i){let s=0;for(;s<i.length;){const l=i[s];if("number"==typeof l){if(0!==l)break;s++;const h=i[s++],_=i[s++],E=i[s++];t.setAttribute(n,_,E,h)}else{const h=l,_=i[++s];fr(h)?t.setProperty(n,h,_):t.setAttribute(n,h,_),s++}}return s}function Rr(t){return 3===t||4===t||6===t}function fr(t){return 64===t.charCodeAt(0)}function Fr(t,n){if(null!==n&&0!==n.length)if(null===t||0===t.length)t=n.slice();else{let i=-1;for(let s=0;s<n.length;s++){const l=n[s];"number"==typeof l?i=l:0===i||li(t,i,l,null,-1===i||2===i?n[++s]:null)}}return t}function li(t,n,i,s,l){let h=0,_=t.length;if(-1===n)_=-1;else for(;h<t.length;){const E=t[h++];if("number"==typeof E){if(E===n){_=-1;break}if(E>n){_=h-1;break}}}for(;h<t.length;){const E=t[h];if("number"==typeof E)break;if(E===i){if(null===s)return void(null!==l&&(t[h+1]=l));if(s===t[h+1])return void(t[h+2]=l)}h++,null!==s&&h++,null!==l&&h++}-1!==_&&(t.splice(_,0,n),h=_+1),t.splice(h++,0,i),null!==s&&t.splice(h++,0,s),null!==l&&t.splice(h++,0,l)}const xo="ng-template";function br(t,n,i){let s=0,l=!0;for(;s<t.length;){let h=t[s++];if("string"==typeof h&&l){const _=t[s++];if(i&&"class"===h&&-1!==wn(_.toLowerCase(),n,0))return!0}else{if(1===h){for(;s<t.length&&"string"==typeof(h=t[s++]);)if(h.toLowerCase()===n)return!0;return!1}"number"==typeof h&&(l=!1)}}return!1}function Ci(t){return 4===t.type&&t.value!==xo}function Ai(t,n,i){return n===(4!==t.type||i?t.value:xo)}function Po(t,n,i){let s=4;const l=t.attrs||[],h=function xa(t){for(let n=0;n<t.length;n++)if(Rr(t[n]))return n;return t.length}(l);let _=!1;for(let E=0;E<n.length;E++){const T=n[E];if("number"!=typeof T){if(!_)if(4&s){if(s=2|1&s,""!==T&&!Ai(t,T,i)||""===T&&1===n.length){if(ki(s))return!1;_=!0}}else{const j=8&s?T:n[++E];if(8&s&&null!==t.attrs){if(!br(t.attrs,j,i)){if(ki(s))return!1;_=!0}continue}const xe=sc(8&s?"class":T,l,Ci(t),i);if(-1===xe){if(ki(s))return!1;_=!0;continue}if(""!==j){let Xe;Xe=xe>h?"":l[xe+1].toLowerCase();const lt=8&s?Xe:null;if(lt&&-1!==wn(lt,j,0)||2&s&&j!==Xe){if(ki(s))return!1;_=!0}}}}else{if(!_&&!ki(s)&&!ki(T))return!1;if(_&&ki(T))continue;_=!1,s=T|1&s}}return ki(s)||_}function ki(t){return 0==(1&t)}function sc(t,n,i,s){if(null===n)return-1;let l=0;if(s||!i){let h=!1;for(;l<n.length;){const _=n[l];if(_===t)return l;if(3===_||6===_)h=!0;else{if(1===_||2===_){let E=n[++l];for(;"string"==typeof E;)E=n[++l];continue}if(4===_)break;if(0===_){l+=4;continue}}l+=h?1:2}return-1}return function lo(t,n){let i=t.indexOf(4);if(i>-1)for(i++;i<t.length;){const s=t[i];if("number"==typeof s)return-1;if(s===n)return i;i++}return-1}(n,t)}function Ea(t,n,i=!1){for(let s=0;s<n.length;s++)if(Po(t,n[s],i))return!0;return!1}function sa(t,n){e:for(let i=0;i<n.length;i++){const s=n[i];if(t.length===s.length){for(let l=0;l<t.length;l++)if(t[l]!==s[l])continue e;return!0}}return!1}function Us(t,n){return t?":not("+n.trim()+")":n}function Nr(t){let n=t[0],i=1,s=2,l="",h=!1;for(;i<t.length;){let _=t[i];if("string"==typeof _)if(2&s){const E=t[++i];l+="["+_+(E.length>0?'="'+E+'"':"")+"]"}else 8&s?l+="."+_:4&s&&(l+=" "+_);else""!==l&&!ki(_)&&(n+=Us(h,l),l=""),s=_,h=h||!ki(s);i++}return""!==l&&(n+=Us(h,l)),n}function Tr(t){return Qt(()=>{const n=ts(t),i={...n,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===sn.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||tn.Emulated,styles:t.styles||pn,_:null,schemas:t.schemas||null,tView:null,id:""};Co(i);const s=t.dependencies;return i.directiveDefs=eo(s,!1),i.pipeDefs=eo(s,!0),i.id=function to(t){let n=0;const i=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const l of i)n=Math.imul(31,n)+l.charCodeAt(0)<<0;return n+=2147483648,"c"+n}(i),i})}function Ho(t){return En(t)||Mr(t)}function Xi(t){return null!==t}function Hs(t){return Qt(()=>({type:t.type,bootstrap:t.bootstrap||pn,declarations:t.declarations||pn,imports:t.imports||pn,exports:t.exports||pn,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Br(t,n){if(null==t)return Un;const i={};for(const s in t)if(t.hasOwnProperty(s)){let l=t[s],h=l;Array.isArray(l)&&(h=l[1],l=l[0]),i[l]=s,n&&(n[l]=h)}return i}function Ms(t){return Qt(()=>{const n=ts(t);return Co(n),n})}function Yi(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function En(t){return t[Yr]||null}function Mr(t){return t[vt]||null}function di(t){return t[nt]||null}function Ji(t){const n=En(t)||Mr(t)||di(t);return null!==n&&n.standalone}function Mi(t,n){const i=t[Rt]||null;if(!i&&!0===n)throw new Error(`Type ${Be(t)} does not have '\u0275mod' property.`);return i}function ts(t){const n={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:n,inputTransforms:null,inputConfig:t.inputs||Un,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||pn,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Br(t.inputs,n),outputs:Br(t.outputs)}}function Co(t){t.features?.forEach(n=>n(t))}function eo(t,n){if(!t)return null;const i=n?di:Ho;return()=>("function"==typeof t?t():t).map(s=>i(s)).filter(Xi)}const Cr=0,un=1,On=2,Dr=3,Bi=4,no=5,vi=6,uo=7,jr=8,ji=9,qo=10,Hn=11,Oo=12,ns=13,$o=14,Sr=15,us=16,Ti=17,Io=18,zi=19,ws=20,To=21,zr=22,Wo=23,Ur=24,Qn=25,Es=1,hi=2,ho=7,nr=9,wr=11;function _i(t){return Array.isArray(t)&&"object"==typeof t[Es]}function ti(t){return Array.isArray(t)&&!0===t[Es]}function $s(t){return 0!=(4&t.flags)}function ro(t){return t.componentOffset>-1}function rs(t){return 1==(1&t.flags)}function io(t){return!!t.template}function ac(t){return 0!=(512&t[On])}function os(t,n){return t.hasOwnProperty(en)?t[en]:null}let pi=null,Cs=!1;function Ui(t){const n=pi;return pi=t,n}const Ws={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function ua(t){if(!hs(t)||t.dirty){if(!t.producerMustRecompute(t)&&!Vs(t))return void(t.dirty=!1);t.producerRecomputeValue(t),t.dirty=!1}}function da(t){t.dirty=!0,function dl(t){if(void 0===t.liveConsumerNode)return;const n=Cs;Cs=!0;try{for(const i of t.liveConsumerNode)i.dirty||da(i)}finally{Cs=n}}(t),t.consumerMarkedDirty?.(t)}function oo(t){return t&&(t.nextProducerIndex=0),Ui(t)}function za(t,n){if(Ui(n),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(hs(t))for(let i=t.nextProducerIndex;i<t.producerNode.length;i++)jc(t.producerNode[i],t.producerIndexOfThis[i]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Vs(t){hc(t);for(let n=0;n<t.producerNode.length;n++){const i=t.producerNode[n],s=t.producerLastReadVersion[n];if(s!==i.version||(ua(i),s!==i.version))return!0}return!1}function dc(t){if(hc(t),hs(t))for(let n=0;n<t.producerNode.length;n++)jc(t.producerNode[n],t.producerIndexOfThis[n]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function jc(t,n){if(function pc(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}(t),hc(t),1===t.liveConsumerNode.length)for(let s=0;s<t.producerNode.length;s++)jc(t.producerNode[s],t.producerIndexOfThis[s]);const i=t.liveConsumerNode.length-1;if(t.liveConsumerNode[n]=t.liveConsumerNode[i],t.liveConsumerIndexOfThis[n]=t.liveConsumerIndexOfThis[i],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,n<t.liveConsumerNode.length){const s=t.liveConsumerIndexOfThis[n],l=t.liveConsumerNode[n];hc(l),l.producerIndexOfThis[s]=n}}function hs(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function hc(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}let Hc=null;function wt(t){const n=Ui(null);try{return t()}finally{Ui(n)}}const Dn=()=>{},_n=(()=>({...Ws,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule(t.ref)},hasRun:!1,cleanupFn:Dn}))();class _r{constructor(n,i,s){this.previousValue=n,this.currentValue=i,this.firstChange=s}isFirstChange(){return this.firstChange}}function ar(){return fi}function fi(t){return t.type.prototype.ngOnChanges&&(t.setInput=Gi),Vr}function Vr(){const t=wi(this),n=t?.current;if(n){const i=t.previous;if(i===Un)t.previous=n;else for(let s in n)i[s]=n[s];t.current=null,this.ngOnChanges(n)}}function Gi(t,n,i,s){const l=this.declaredInputs[i],h=wi(t)||function so(t,n){return t[ss]=n}(t,{previous:Un,current:null}),_=h.current||(h.current={}),E=h.previous,T=E[l];_[l]=new _r(T&&T.currentValue,n,E===Un),t[s]=n}ar.ngInherit=!0;const ss="__ngSimpleChanges__";function wi(t){return t[ss]||null}const Ki=function(t,n,i){},Go="svg";function ii(t){for(;Array.isArray(t);)t=t[Cr];return t}function pa(t,n){return ii(n[t])}function mo(t,n){return ii(n[t.index])}function bi(t,n){return t.data[n]}function ur(t,n){return t[n]}function yo(t,n){const i=n[t];return _i(i)?i:i[Cr]}function Ua(t,n){return null==n?null:t[n]}function hl(t){t[Ti]=0}function Qs(t){1024&t[On]||(t[On]|=1024,Ko(t,1))}function Ha(t){1024&t[On]&&(t[On]&=-1025,Ko(t,-1))}function Ko(t,n){let i=t[Dr];if(null===i)return;i[no]+=n;let s=i;for(i=i[Dr];null!==i&&(1===n&&1===s[no]||-1===n&&0===s[no]);)i[no]+=n,s=i,i=i[Dr]}const $n={lFrame:Ts(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Zs(){return $n.bindingsEnabled}function _c(){return null!==$n.skipHydrationRootTNode}function Wt(){return $n.lFrame.lView}function Hr(){return $n.lFrame.tView}function Ei(t){return $n.lFrame.contextLView=t,t[jr]}function as(t){return $n.lFrame.contextLView=null,t}function Hi(){let t=qa();for(;null!==t&&64===t.type;)t=t.parent;return t}function qa(){return $n.lFrame.currentTNode}function Er(t,n){const i=$n.lFrame;i.currentTNode=t,i.isParent=n}function kc(){return $n.lFrame.isParent}function Ta(){$n.lFrame.isParent=!1}function xi(){const t=$n.lFrame;let n=t.bindingRootIndex;return-1===n&&(n=t.bindingRootIndex=t.tView.bindingStartIndex),n}function Is(){return $n.lFrame.bindingIndex}function fs(){return $n.lFrame.bindingIndex++}function x(t){const n=$n.lFrame,i=n.bindingIndex;return n.bindingIndex=n.bindingIndex+t,i}function D(t,n){const i=$n.lFrame;i.bindingIndex=i.bindingRootIndex=t,te(n)}function te(t){$n.lFrame.currentDirectiveIndex=t}function Et(){return $n.lFrame.currentQueryIndex}function gt(t){$n.lFrame.currentQueryIndex=t}function Mn(t){const n=t[un];return 2===n.type?n.declTNode:1===n.type?t[vi]:null}function ir(t,n,i){if(i&rt.SkipSelf){let l=n,h=t;for(;!(l=l.parent,null!==l||i&rt.Host||(l=Mn(h),null===l||(h=h[$o],10&l.type))););if(null===l)return!1;n=l,t=h}const s=$n.lFrame=kr();return s.currentTNode=n,s.lView=t,!0}function Pr(t){const n=kr(),i=t[un];$n.lFrame=n,n.currentTNode=i.firstChild,n.lView=t,n.tView=i,n.contextLView=t,n.bindingIndex=i.bindingStartIndex,n.inI18n=!1}function kr(){const t=$n.lFrame,n=null===t?null:t.child;return null===n?Ts(t):n}function Ts(t){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=n),n}function $a(){const t=$n.lFrame;return $n.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const So=$a;function Si(){const t=$a();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function go(){return $n.lFrame.selectedIndex}function cs(t){$n.lFrame.selectedIndex=t}function Gr(){const t=$n.lFrame;return bi(t.tView,t.selectedIndex)}function Da(){$n.lFrame.currentNamespace=Go}function bc(){!function Ed(){$n.lFrame.currentNamespace=null}()}let Yl=!0;function $c(){return Yl}function ma(t){Yl=t}function Wa(t,n){for(let i=n.directiveStart,s=n.directiveEnd;i<s;i++){const h=t.data[i].type.prototype,{ngAfterContentInit:_,ngAfterContentChecked:E,ngAfterViewInit:T,ngAfterViewChecked:j,ngOnDestroy:J}=h;_&&(t.contentHooks??=[]).push(-i,_),E&&((t.contentHooks??=[]).push(i,E),(t.contentCheckHooks??=[]).push(i,E)),T&&(t.viewHooks??=[]).push(-i,T),j&&((t.viewHooks??=[]).push(i,j),(t.viewCheckHooks??=[]).push(i,j)),null!=J&&(t.destroyHooks??=[]).push(i,J)}}function Ra(t,n,i){xd(t,n,3,i)}function Wc(t,n,i,s){(3&t[On])===i&&xd(t,n,i,s)}function Pa(t,n){let i=t[On];(3&i)===n&&(i&=8191,i+=1,t[On]=i)}function xd(t,n,i,s){const h=s??-1,_=n.length-1;let E=0;for(let T=void 0!==s?65535&t[Ti]:0;T<_;T++)if("number"==typeof n[T+1]){if(E=n[T],null!=s&&E>=s)break}else n[T]<0&&(t[Ti]+=65536),(E<h||-1==h)&&(qp(t,i,n,T),t[Ti]=(4294901760&t[Ti])+T+2),T++}function ya(t,n){Ki(4,t,n);const i=Ui(null);try{n.call(t)}finally{Ui(i),Ki(5,t,n)}}function qp(t,n,i,s){const l=i[s]<0,h=i[s+1],E=t[l?-i[s]:i[s]];l?t[On]>>13<t[Ti]>>16&&(3&t[On])===n&&(t[On]+=8192,ya(E,h)):ya(E,h)}const qi=-1;class Oa{constructor(n,i,s){this.factory=n,this.resolving=!1,this.canSeeViewProviders=i,this.injectImpl=s}}function ju(t){return t!==qi}function Na(t){return 32767&t}function Ys(t,n){let i=function zu(t){return t>>16}(t),s=n;for(;i>0;)s=s[$o],i--;return s}let tu=!0;function Ga(t){const n=tu;return tu=t,n}const Mc=255,Eh=5;let ml=0;const Qo={};function va(t,n){const i=Gc(t,n);if(-1!==i)return i;const s=n[un];s.firstCreatePass&&(t.injectorIndex=n.length,Ka(s.data,t),Ka(n,null),Ka(s.blueprint,null));const l=Js(t,n),h=t.injectorIndex;if(ju(l)){const _=Na(l),E=Ys(l,n),T=E[un].data;for(let j=0;j<8;j++)n[h+j]=E[_+j]|T[_+j]}return n[h+8]=l,h}function Ka(t,n){t.push(0,0,0,0,0,0,0,0,n)}function Gc(t,n){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===n[t.injectorIndex+8]?-1:t.injectorIndex}function Js(t,n){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let i=0,s=null,l=n;for(;null!==l;){if(s=$u(l),null===s)return qi;if(i++,l=l[$o],-1!==s.injectorIndex)return s.injectorIndex|i<<16}return qi}function Kc(t,n,i){!function Uu(t,n,i){let s;"string"==typeof i?s=i.charCodeAt(0)||0:i.hasOwnProperty(Tn)&&(s=i[Tn]),null==s&&(s=i[Tn]=ml++);const l=s&Mc;n.data[t+(l>>Eh)]|=1<<l}(t,n,i)}function Zo(t,n,i){if(i&rt.Optional||void 0!==t)return t;fn()}function Hu(t,n,i,s){if(i&rt.Optional&&void 0===s&&(s=null),!(i&(rt.Self|rt.Host))){const l=t[ji],h=$e(void 0);try{return l?l.get(n,s,i&rt.Optional):de(n,s,i&rt.Optional)}finally{$e(h)}}return Zo(s,0,i)}function wc(t,n,i,s=rt.Default,l){if(null!==t){if(2048&n[On]&&!(s&rt.Self)){const _=function Id(t,n,i,s,l){let h=t,_=n;for(;null!==h&&null!==_&&2048&_[On]&&!(512&_[On]);){const E=Qc(h,_,i,s|rt.Self,Qo);if(E!==Qo)return E;let T=h.parent;if(!T){const j=_[ws];if(j){const J=j.get(i,Qo,s);if(J!==Qo)return J}T=$u(_),_=_[$o]}h=T}return l}(t,n,i,s,Qo);if(_!==Qo)return _}const h=Qc(t,n,i,s,Qo);if(h!==Qo)return h}return Hu(n,i,s,l)}function Qc(t,n,i,s,l){const h=function Ad(t){if("string"==typeof t)return t.charCodeAt(0)||0;const n=t.hasOwnProperty(Tn)?t[Tn]:void 0;return"number"==typeof n?n>=0?n&Mc:O1:n}(i);if("function"==typeof h){if(!ir(n,t,s))return s&rt.Host?Zo(l,0,s):Hu(n,i,s,l);try{let _;if(_=h(s),null!=_||s&rt.Optional)return _;fn()}finally{So()}}else if("number"==typeof h){let _=null,E=Gc(t,n),T=qi,j=s&rt.Host?n[Sr][vi]:null;for((-1===E||s&rt.SkipSelf)&&(T=-1===E?Js(t,n):n[E+8],T!==qi&&gl(s,!1)?(_=n[un],E=Na(T),n=Ys(T,n)):E=-1);-1!==E;){const J=n[un];if(Va(h,E,J.data)){const xe=Cd(E,n,i,_,s,j);if(xe!==Qo)return xe}T=n[E+8],T!==qi&&gl(s,n[un].data[E+8]===j)&&Va(h,E,n)?(_=J,E=Na(T),n=Ys(T,n)):E=-1}}return l}function Cd(t,n,i,s,l,h){const _=n[un],E=_.data[t+8],J=ea(E,_,i,null==s?ro(E)&&tu:s!=_&&0!=(3&E.type),l&rt.Host&&h===E);return null!==J?Xo(n,_,J,E):Qo}function ea(t,n,i,s,l){const h=t.providerIndexes,_=n.data,E=1048575&h,T=t.directiveStart,J=h>>20,Xe=l?E+J:t.directiveEnd;for(let lt=s?E:E+J;lt<Xe;lt++){const jt=_[lt];if(lt<T&&i===jt||lt>=T&&jt.type===i)return lt}if(l){const lt=_[T];if(lt&&io(lt)&&lt.type===i)return T}return null}function Xo(t,n,i,s){let l=t[i];const h=n.data;if(function Bu(t){return t instanceof Oa}(l)){const _=l;_.resolving&&function ft(t,n){const i=n?`. Dependency path: ${n.join(" > ")} > ${t}`:"";throw new be(-200,`Circular dependency in DI detected for ${t}${i}`)}(function Qe(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():je(t)}(h[i]));const E=Ga(_.canSeeViewProviders);_.resolving=!0;const j=_.injectImpl?$e(_.injectImpl):null;ir(t,s,rt.Default);try{l=t[i]=_.factory(void 0,h,t,s),n.firstCreatePass&&i>=s.directiveStart&&function kh(t,n,i){const{ngOnChanges:s,ngOnInit:l,ngDoCheck:h}=n.type.prototype;if(s){const _=fi(n);(i.preOrderHooks??=[]).push(t,_),(i.preOrderCheckHooks??=[]).push(t,_)}l&&(i.preOrderHooks??=[]).push(0-t,l),h&&((i.preOrderHooks??=[]).push(t,h),(i.preOrderCheckHooks??=[]).push(t,h))}(i,h[i],n)}finally{null!==j&&$e(j),Ga(E),_.resolving=!1,So()}}return l}function Va(t,n,i){return!!(i[n+(t>>Eh)]&1<<t)}function gl(t,n){return!(t&rt.Self||t&rt.Host&&n)}class Li{constructor(n,i){this._tNode=n,this._lView=i}get(n,i,s){return wc(this._tNode,this._lView,n,st(s),i)}}function O1(){return new Li(Hi(),Wt())}function qu(t){return Qt(()=>{const n=t.prototype.constructor,i=n[en]||nu(n),s=Object.prototype;let l=Object.getPrototypeOf(t.prototype).constructor;for(;l&&l!==s;){const h=l[en]||nu(l);if(h&&h!==i)return h;l=Object.getPrototypeOf(l)}return h=>new h})}function nu(t){return Nt(t)?()=>{const n=nu(It(t));return n&&n()}:os(t)}function $u(t){const n=t[un],i=n.type;return 2===i?n.declTNode:1===i?t[vi]:null}function ru(t){return function yl(t,n){if("class"===n)return t.classes;if("style"===n)return t.styles;const i=t.attrs;if(i){const s=i.length;let l=0;for(;l<s;){const h=i[l];if(Rr(h))break;if(0===h)l+=2;else if("number"==typeof h)for(l++;l<s&&"string"==typeof i[l];)l++;else{if(h===n)return i[l+1];l+=2}}}return null}(Hi(),t)}const Zc="__parameters__";function Yc(t,n,i){return Qt(()=>{const s=function Wu(t){return function(...i){if(t){const s=t(...i);for(const l in s)this[l]=s[l]}}}(n);function l(...h){if(this instanceof l)return s.apply(this,h),this;const _=new l(...h);return E.annotation=_,E;function E(T,j,J){const xe=T.hasOwnProperty(Zc)?T[Zc]:Object.defineProperty(T,Zc,{value:[]})[Zc];for(;xe.length<=J;)xe.push(null);return(xe[J]=xe[J]||[]).push(_),T}}return i&&(l.prototype=Object.create(i.prototype)),l.prototype.ngMetadataName=t,l.annotationCls=l,l})}function kl(t,n){t.forEach(i=>Array.isArray(i)?kl(i,n):n(i))}function ou(t,n,i){n>=t.length?t.push(i):t.splice(n,0,i)}function Xa(t,n){return n>=t.length-1?t.pop():t.splice(n,1)[0]}function su(t,n){const i=[];for(let s=0;s<t;s++)i.push(n);return i}function Yo(t,n,i){let s=xc(t,n);return s>=0?t[1|s]=i:(s=~s,function Zu(t,n,i,s){let l=t.length;if(l==n)t.push(i,s);else if(1===l)t.push(s,t[0]),t[0]=i;else{for(l--,t.push(t[l-1],t[l]);l>n;)t[l]=t[l-2],l--;t[n]=i,t[n+1]=s}}(t,s,n,i)),s}function au(t,n){const i=xc(t,n);if(i>=0)return t[1|i]}function xc(t,n){return function Td(t,n,i){let s=0,l=t.length>>i;for(;l!==s;){const h=s+(l-s>>1),_=t[h<<i];if(n===_)return h<<i;_>n?l=h:s=h+1}return~(l<<i)}(t,n,1)}const La=Ee(Yc("Optional"),8),ls=Ee(Yc("SkipSelf"),4);function ae(t){return 128==(128&t.flags)}var ze=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(ze||{});const ct=/^>|^->|<!--|-->|--!>|<!-$/g,$t=/(<|>)/g,cn="\u200b$1\u200b";const Rn=new Map;let Cn=0;const ao="__ngContext__";function si(t,n){_i(n)?(t[ao]=n[zi],function dr(t){Rn.set(t[zi],t)}(n)):t[ao]=n}let Qi;function Ss(t,n){return Qi(t,n)}function es(t){const n=t[Dr];return ti(n)?n[Dr]:n}function w(t){return v(t[Oo])}function d(t){return v(t[Bi])}function v(t){for(;null!==t&&!ti(t);)t=t[Bi];return t}function I(t,n,i,s,l){if(null!=s){let h,_=!1;ti(s)?h=s:_i(s)&&(_=!0,s=s[Cr]);const E=ii(s);0===t&&null!==i?null==l?Hd(n,i,E):Ja(n,i,E,l||null,!0):1===t&&null!==i?Ja(n,i,E,l||null,!0):2===t?function $d(t,n,i){const s=H1(t,n);s&&function Oh(t,n,i,s){t.removeChild(n,i,s)}(t,s,n,i)}(n,E,_):3===t&&n.destroyNode(E),null!=h&&function ey(t,n,i,s,l){const h=i[ho];h!==ii(i)&&I(n,t,s,h,l);for(let E=wr;E<i.length;E++){const T=i[E];Wd(T[un],T,t,n,s,h)}}(n,t,h,i,l)}}function tt(t,n){return t.createComment(function Wn(t){return t.replace(ct,n=>n.replace($t,cn))}(n))}function Mt(t,n,i){return t.createElement(n,i)}function Rc(t,n){const i=t[nr],s=i.indexOf(n);Ha(n),i.splice(s,1)}function Ya(t,n){if(t.length<=wr)return;const i=wr+n,s=t[i];if(s){const l=s[us];null!==l&&l!==t&&Rc(l,s),n>0&&(t[i-1][Bi]=s[Bi]);const h=Xa(t,wr+n);!function Kt(t,n){Wd(t,n,n[Hn],2,null,null),n[Cr]=null,n[vi]=null}(s[un],s);const _=h[Io];null!==_&&_.detachView(h[un]),s[Dr]=null,s[Bi]=null,s[On]&=-129}return s}function Al(t,n){if(!(256&n[On])){const i=n[Hn];n[Wo]&&dc(n[Wo]),n[Ur]&&dc(n[Ur]),i.destroyNode&&Wd(t,n,i,3,null,null),function hr(t){let n=t[Oo];if(!n)return zd(t[un],t);for(;n;){let i=null;if(_i(n))i=n[Oo];else{const s=n[wr];s&&(i=s)}if(!i){for(;n&&!n[Bi]&&n!==t;)_i(n)&&zd(n[un],n),n=n[Dr];null===n&&(n=t),_i(n)&&zd(n[un],n),i=n&&n[Bi]}n=i}}(n)}}function zd(t,n){if(!(256&n[On])){n[On]&=-129,n[On]|=256,function Ph(t,n){let i;if(null!=t&&null!=(i=t.destroyHooks))for(let s=0;s<i.length;s+=2){const l=n[i[s]];if(!(l instanceof Oa)){const h=i[s+1];if(Array.isArray(h))for(let _=0;_<h.length;_+=2){const E=l[h[_]],T=h[_+1];Ki(4,E,T);try{T.call(E)}finally{Ki(5,E,T)}}else{Ki(4,l,h);try{h.call(l)}finally{Ki(5,l,h)}}}}}(t,n),function Rh(t,n){const i=t.cleanup,s=n[uo];if(null!==i)for(let h=0;h<i.length-1;h+=2)if("string"==typeof i[h]){const _=i[h+3];_>=0?s[_]():s[-_].unsubscribe(),h+=2}else i[h].call(s[i[h+1]]);null!==s&&(n[uo]=null);const l=n[To];if(null!==l){n[To]=null;for(let h=0;h<l.length;h++)(0,l[h])()}}(t,n),1===n[un].type&&n[Hn].destroy();const i=n[us];if(null!==i&&ti(n[Dr])){i!==n[Dr]&&Rc(i,n);const s=n[Io];null!==s&&s.detachView(t)}!function oi(t){Rn.delete(t[zi])}(n)}}function id(t,n,i){return function Ud(t,n,i){let s=n;for(;null!==s&&40&s.type;)s=(n=s).parent;if(null===s)return i[Cr];{const{componentOffset:l}=s;if(l>-1){const{encapsulation:h}=t.data[s.directiveStart+l];if(h===tn.None||h===tn.Emulated)return null}return mo(s,i)}}(t,n.parent,i)}function Ja(t,n,i,s,l){t.insertBefore(n,i,s,l)}function Hd(t,n,i){t.appendChild(n,i)}function U1(t,n,i,s,l){null!==s?Ja(t,n,i,s,l):Hd(t,n,i)}function H1(t,n){return t.parentNode(n)}function o2(t,n,i){return Zp(t,n,i)}let Nh,Gd,Bh,ec,Zp=function q1(t,n,i){return 40&t.type?mo(t,i):null};function qd(t,n,i,s){const l=id(t,s,n),h=n[Hn],E=o2(s.parent||n[vi],s,n);if(null!=l)if(Array.isArray(i))for(let T=0;T<i.length;T++)U1(h,l,i[T],E,!1);else U1(h,l,i,E,!1);void 0!==Nh&&Nh(h,s,n,i,l)}function Vh(t,n){if(null!==n){const i=n.type;if(3&i)return mo(n,t);if(4&i)return Xp(-1,t[n.index]);if(8&i){const s=n.child;if(null!==s)return Vh(t,s);{const l=t[n.index];return ti(l)?Xp(-1,l):ii(l)}}if(32&i)return Ss(n,t)()||ii(t[n.index]);{const s=W1(t,n);return null!==s?Array.isArray(s)?s[0]:Vh(es(t[Sr]),s):Vh(t,n.next)}}return null}function W1(t,n){return null!==n?t[Sr][vi].projection[n.projection]:null}function Xp(t,n){const i=wr+t+1;if(i<n.length){const s=n[i],l=s[un].firstChild;if(null!==l)return Vh(s,l)}return n[ho]}function Lh(t,n,i,s,l,h,_){for(;null!=i;){const E=s[i.index],T=i.type;if(_&&0===n&&(E&&si(ii(E),s),i.flags|=2),32!=(32&i.flags))if(8&T)Lh(t,n,i.child,s,l,h,!1),I(n,t,l,E,h);else if(32&T){const j=Ss(i,s);let J;for(;J=j();)I(n,t,l,J,h);I(n,t,l,E,h)}else 16&T?Jp(t,n,s,i,l,h):I(n,t,l,E,h);i=_?i.projectionNext:i.next}}function Wd(t,n,i,s,l,h){Lh(i,s,t.firstChild,n,l,h,!1)}function Jp(t,n,i,s,l,h){const _=i[Sr],T=_[vi].projection[s.projection];if(Array.isArray(T))for(let j=0;j<T.length;j++)I(n,t,l,T[j],h);else{let j=T;const J=_[Dr];ae(s)&&(j.flags|=128),Lh(t,n,j,J,l,h,!0)}}function G1(t,n,i){""===i?t.removeAttribute(n,"class"):t.setAttribute(n,"class",i)}function a2(t,n,i){const{mergedAttrs:s,classes:l,styles:h}=i;null!==s&&vr(t,n,s),null!==l&&G1(t,n,l),null!==h&&function ty(t,n,i){t.setAttribute(n,"style",i)}(t,n,h)}function mu(t){return function tf(){if(void 0===Gd&&(Gd=null,ut.trustedTypes))try{Gd=ut.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Gd}()?.createHTML(t)||t}function ny(t){Bh=t}function u2(t){return function jh(){if(void 0===ec&&(ec=null,ut.trustedTypes))try{ec=ut.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return ec}()?.createScriptURL(t)||t}class od{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Zt})`}}class sf extends od{getTypeName(){return"HTML"}}class ry extends od{getTypeName(){return"Style"}}class af extends od{getTypeName(){return"Script"}}class iy extends od{getTypeName(){return"URL"}}class cf extends od{getTypeName(){return"ResourceURL"}}function Il(t){return t instanceof od?t.changingThisBreaksApplicationSecurity:t}function gu(t,n){const i=function d2(t){return t instanceof od&&t.getTypeName()||null}(t);if(null!=i&&i!==n){if("ResourceURL"===i&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${i} (see ${Zt})`)}return i===n}function lf(t){return new sf(t)}function h2(t){return new ry(t)}function oy(t){return new af(t)}function sy(t){return new iy(t)}function uf(t){return new cf(t)}class df{constructor(n){this.inertDocumentHelper=n}getInertBodyElement(n){n="<body><remove></remove>"+n;try{const i=(new window.DOMParser).parseFromString(mu(n),"text/html").body;return null===i?this.inertDocumentHelper.getInertBodyElement(n):(i.removeChild(i.firstChild),i)}catch{return null}}}class Q1{constructor(n){this.defaultDoc=n,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(n){const i=this.inertDocument.createElement("template");return i.innerHTML=mu(n),i}}const ay=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function il(t){return(t=String(t)).match(ay)?t:"unsafe:"+t}function Tl(t){const n={};for(const i of t.split(","))n[i]=!0;return n}function sd(...t){const n={};for(const i of t)for(const s in i)i.hasOwnProperty(s)&&(n[s]=!0);return n}const pf=Tl("area,br,col,hr,img,wbr"),ad=Tl("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),ff=Tl("rp,rt"),yf=sd(pf,sd(ad,Tl("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),sd(ff,Tl("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),sd(ff,ad)),gf=Tl("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),vf=sd(gf,Tl("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Tl("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),_f=Tl("script,style,template");class kf{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(n){let i=n.firstChild,s=!0;for(;i;)if(i.nodeType===Node.ELEMENT_NODE?s=this.startElement(i):i.nodeType===Node.TEXT_NODE?this.chars(i.nodeValue):this.sanitizedSomething=!0,s&&i.firstChild)i=i.firstChild;else for(;i;){i.nodeType===Node.ELEMENT_NODE&&this.endElement(i);let l=this.checkClobberedElement(i,i.nextSibling);if(l){i=l;break}i=this.checkClobberedElement(i,i.parentNode)}return this.buf.join("")}startElement(n){const i=n.nodeName.toLowerCase();if(!yf.hasOwnProperty(i))return this.sanitizedSomething=!0,!_f.hasOwnProperty(i);this.buf.push("<"),this.buf.push(i);const s=n.attributes;for(let l=0;l<s.length;l++){const h=s.item(l),_=h.name,E=_.toLowerCase();if(!vf.hasOwnProperty(E)){this.sanitizedSomething=!0;continue}let T=h.value;gf[E]&&(T=il(T)),this.buf.push(" ",_,'="',X1(T),'"')}return this.buf.push(">"),!0}endElement(n){const i=n.nodeName.toLowerCase();yf.hasOwnProperty(i)&&!pf.hasOwnProperty(i)&&(this.buf.push("</"),this.buf.push(i),this.buf.push(">"))}chars(n){this.buf.push(X1(n))}checkClobberedElement(n,i){if(i&&(n.compareDocumentPosition(i)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`);return i}}const bf=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Z1=/([^\#-~ |!])/g;function X1(t){return t.replace(/&/g,"&amp;").replace(bf,function(n){return"&#"+(1024*(n.charCodeAt(0)-55296)+(n.charCodeAt(1)-56320)+65536)+";"}).replace(Z1,function(n){return"&#"+n.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let zh;function cd(t,n){let i=null;try{zh=zh||function p2(t){const n=new Q1(t);return function hf(){try{return!!(new window.DOMParser).parseFromString(mu(""),"text/html")}catch{return!1}}()?new df(n):n}(t);let s=n?String(n):"";i=zh.getInertBodyElement(s);let l=5,h=s;do{if(0===l)throw new Error("Failed to sanitize html because the input is unstable");l--,s=h,h=i.innerHTML,i=zh.getInertBodyElement(s)}while(s!==h);return mu((new kf).sanitizeChildren(Y1(i)||i))}finally{if(i){const s=Y1(i)||i;for(;s.firstChild;)s.removeChild(s.firstChild)}}}function Y1(t){return"content"in t&&function Mf(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var vu=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(vu||{});function Ef(t){const n=Uh();return n?n.sanitize(vu.URL,t)||"":gu(t,"URL")?Il(t):il(je(t))}function y2(t){const n=Uh();if(n)return u2(n.sanitize(vu.RESOURCE_URL,t)||"");if(gu(t,"ResourceURL"))return u2(Il(t));throw new be(904,!1)}function _2(t,n,i){return function v2(t,n){return"src"===n&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===n&&("base"===t||"link"===t)?y2:Ef}(n,i)(t)}function Uh(){const t=Wt();return t&&t[qo].sanitizer}const Hh=new qt("ENVIRONMENT_INITIALIZER"),k2=new qt("INJECTOR",-1),b2=new qt("INJECTOR_DEF_TYPES");class J1{get(n,i=Lr){if(i===Lr){const s=new Error(`NullInjectorError: No provider for ${Be(n)}!`);throw s.name="NullInjectorError",s}return i}}function ep(t){return{\u0275providers:t}}function xf(...t){return{\u0275providers:M2(0,t),\u0275fromNgModule:!0}}function M2(t,...n){const i=[],s=new Set;let l;const h=_=>{i.push(_)};return kl(n,_=>{const E=_;qh(E,h,[],s)&&(l||=[],l.push(E))}),void 0!==l&&Cf(l,h),i}function Cf(t,n){for(let i=0;i<t.length;i++){const{ngModule:s,providers:l}=t[i];qr(l,h=>{n(h,s)})}}function qh(t,n,i,s){if(!(t=It(t)))return!1;let l=null,h=hn(t);const _=!h&&En(t);if(h||_){if(_&&!_.standalone)return!1;l=t}else{const T=t.ngModule;if(h=hn(T),!h)return!1;l=T}const E=s.has(l);if(_){if(E)return!1;if(s.add(l),_.dependencies){const T="function"==typeof _.dependencies?_.dependencies():_.dependencies;for(const j of T)qh(j,n,i,s)}}else{if(!h)return!1;{if(null!=h.imports&&!E){let j;s.add(l);try{kl(h.imports,J=>{qh(J,n,i,s)&&(j||=[],j.push(J))})}finally{}void 0!==j&&Cf(j,n)}if(!E){const j=os(l)||(()=>new l);n({provide:l,useFactory:j,deps:pn},l),n({provide:b2,useValue:l,multi:!0},l),n({provide:Hh,useValue:()=>ye(l),multi:!0},l)}const T=h.providers;if(null!=T&&!E){const j=t;qr(T,J=>{n(J,j)})}}}return l!==t&&void 0!==t.providers}function qr(t,n){for(let i of t)Lt(i)&&(i=i.\u0275providers),Array.isArray(i)?qr(i,n):n(i)}const w2=ne({provide:String,useValue:ne});function tp(t){return null!==t&&"object"==typeof t&&w2 in t}function Mo(t){return"function"==typeof t}const tc=new qt("Set Injector scope."),np={},yv={};let rp;function If(){return void 0===rp&&(rp=new J1),rp}class Pc{}class ld extends Pc{get destroyed(){return this._destroyed}constructor(n,i,s,l){super(),this.parent=i,this.source=s,this.scopes=l,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,C2(n,_=>this.processProvider(_)),this.records.set(k2,Wh(void 0,this)),l.has("environment")&&this.records.set(Pc,Wh(void 0,this));const h=this.records.get(tc);null!=h&&"string"==typeof h.value&&this.scopes.add(h.value),this.injectorDefTypes=new Set(this.get(b2.multi,pn,rt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const i of this._ngOnDestroyHooks)i.ngOnDestroy();const n=this._onDestroyHooks;this._onDestroyHooks=[];for(const i of n)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(n){return this.assertNotDestroyed(),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){this.assertNotDestroyed();const i=Se(this),s=$e(void 0);try{return n()}finally{Se(i),$e(s)}}get(n,i=Lr,s=rt.Default){if(this.assertNotDestroyed(),n.hasOwnProperty(gn))return n[gn](this);s=st(s);const h=Se(this),_=$e(void 0);try{if(!(s&rt.SkipSelf)){let T=this.records.get(n);if(void 0===T){const j=function x2(t){return"function"==typeof t||"object"==typeof t&&t instanceof qt}(n)&&gr(n);T=j&&this.injectableDefInScope(j)?Wh($h(n),np):null,this.records.set(n,T)}if(null!=T)return this.hydrate(n,T)}return(s&rt.Self?If():this.parent).get(n,i=s&rt.Optional&&i===Lr?null:i)}catch(E){if("NullInjectorError"===E.name){if((E[gi]=E[gi]||[]).unshift(Be(n)),h)throw E;return function Le(t,n,i,s){const l=t[gi];throw n[R]&&l.unshift(n[R]),t.message=function At(t,n,i,s=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let l=Be(n);if(Array.isArray(n))l=n.map(Be).join(" -> ");else if("object"==typeof n){let h=[];for(let _ in n)if(n.hasOwnProperty(_)){let E=n[_];h.push(_+":"+("string"==typeof E?JSON.stringify(E):Be(E)))}l=`{${h.join(", ")}}`}return`${i}${s?"("+s+")":""}[${l}]: ${t.replace(pe,"\n  ")}`}("\n"+t.message,l,i,s),t.ngTokenPath=l,t[gi]=null,t}(E,n,"R3InjectorError",this.source)}throw E}finally{$e(_),Se(h)}}resolveInjectorInitializers(){const n=Se(this),i=$e(void 0);try{const l=this.get(Hh.multi,pn,rt.Self);for(const h of l)h()}finally{Se(n),$e(i)}}toString(){const n=[],i=this.records;for(const s of i.keys())n.push(Be(s));return`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new be(205,!1)}processProvider(n){let i=Mo(n=It(n))?n:It(n&&n.provide);const s=function gv(t){return tp(t)?Wh(void 0,t.useValue):Wh(Pi(t),np)}(n);if(Mo(n)||!0!==n.multi)this.records.get(i);else{let l=this.records.get(i);l||(l=Wh(void 0,np,!0),l.factory=()=>Gt(l.multi),this.records.set(i,l)),i=n,l.multi.push(n)}this.records.set(i,s)}hydrate(n,i){return i.value===np&&(i.value=yv,i.value=i.factory()),"object"==typeof i.value&&i.value&&function wo(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(i.value)&&this._ngOnDestroyHooks.add(i.value),i.value}injectableDefInScope(n){if(!n.providedIn)return!1;const i=It(n.providedIn);return"string"==typeof i?"any"===i||this.scopes.has(i):this.injectorDefTypes.has(i)}removeOnDestroy(n){const i=this._onDestroyHooks.indexOf(n);-1!==i&&this._onDestroyHooks.splice(i,1)}}function $h(t){const n=gr(t),i=null!==n?n.factory:os(t);if(null!==i)return i;if(t instanceof qt)throw new be(204,!1);if(t instanceof Function)return function uy(t){const n=t.length;if(n>0)throw su(n,"?"),new be(204,!1);const i=function lr(t){return t&&(t[Pt]||t[Ce])||null}(t);return null!==i?()=>i.factory(t):()=>new t}(t);throw new be(204,!1)}function Pi(t,n,i){let s;if(Mo(t)){const l=It(t);return os(l)||$h(l)}if(tp(t))s=()=>It(t.useValue);else if(function E2(t){return!(!t||!t.useFactory)}(t))s=()=>t.useFactory(...Gt(t.deps||[]));else if(function Qd(t){return!(!t||!t.useExisting)}(t))s=()=>ye(It(t.useExisting));else{const l=It(t&&(t.useClass||t.provide));if(!function dy(t){return!!t.deps}(t))return os(l)||$h(l);s=()=>new l(...Gt(t.deps))}return s}function Wh(t,n,i=!1){return{factory:t,value:n,multi:i?[]:void 0}}function C2(t,n){for(const i of t)Array.isArray(i)?C2(i,n):i&&Lt(i)?C2(i.\u0275providers,n):n(i)}const hy=new qt("AppId",{providedIn:"root",factory:()=>Tf}),Tf="ng",Df=new qt("Platform Initializer"),A2=new qt("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),vv=new qt("AnimationModuleType"),_v=new qt("CSP nonce",{providedIn:"root",factory:()=>function yu(){if(void 0!==Bh)return Bh;if(typeof document<"u")return document;throw new be(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let Sf=(t,n,i)=>null;function Zh(t,n,i=!1){return Sf(t,n,i)}class lp{}class Ff{}class T2{resolveComponentFactory(n){throw function Yh(t){const n=Error(`No component factory found for ${Be(t)}.`);return n.ngComponent=t,n}(n)}}let pd=(()=>{class t{static{this.NULL=new T2}}return t})();function Jh(){return Yd(Hi(),Wt())}function Yd(t,n){return new Ol(mo(t,n))}let Ol=(()=>{class t{constructor(i){this.nativeElement=i}static{this.__NG_ELEMENT_ID__=Jh}}return t})();function my(t){return t instanceof Ol?t.nativeElement:t}class fd{}let Mv=(()=>{class t{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>function wv(){const t=Wt(),i=yo(Hi().index,t);return(_i(i)?i:t)[Hn]}()}}return t})(),jf=(()=>{class t{static{this.\u0275prov=an({token:t,providedIn:"root",factory:()=>null})}}return t})();class yy{constructor(n){this.full=n,this.major=n.split(".")[0],this.minor=n.split(".")[1],this.patch=n.split(".").slice(2).join(".")}}const e1=new yy("16.2.12"),zf={};function Hf(t,n=null,i=null,s){const l=qf(t,n,i,s);return l.resolveInjectorInitializers(),l}function qf(t,n=null,i=null,s,l=new Set){const h=[i||pn,xf(t)];return s=s||("object"==typeof t?void 0:Be(t)),new ld(h,n||If(),s||null,l)}let ba=(()=>{class t{static{this.THROW_IF_NOT_FOUND=Lr}static{this.NULL=new J1}static create(i,s){if(Array.isArray(i))return Hf({name:""},s,i,"");{const l=i.name??"";return Hf({name:l},i.parent,i.providers,l)}}static{this.\u0275prov=an({token:t,providedIn:"any",factory:()=>ye(k2)})}static{this.__NG_ELEMENT_ID__=-1}}return t})();function P2(t){return t.ngOriginalError}class Mu{constructor(){this._console=console}handleError(n){const i=this._findOriginalError(n);this._console.error("ERROR",n),i&&this._console.error("ORIGINAL ERROR",i)}_findOriginalError(n){let i=n&&P2(n);for(;i&&P2(i);)i=P2(i);return i||null}}function th(t){return n=>{setTimeout(t,void 0,n)}}const ra=class eh extends y.B{constructor(n=!1){super(),this.__isAsync=n}emit(n){super.next(n)}subscribe(n,i,s){let l=n,h=i||(()=>null),_=s;if(n&&"object"==typeof n){const T=n;l=T.next?.bind(T),h=T.error?.bind(T),_=T.complete?.bind(T)}this.__isAsync&&(h=th(h),l&&(l=th(l)),_&&(_=th(_)));const E=super.subscribe({next:l,error:h,complete:_});return n instanceof G.yU&&n.add(E),E}};function O2(...t){}class Zi{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:i=!1,shouldCoalesceRunChangeDetection:s=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ra(!1),this.onMicrotaskEmpty=new ra(!1),this.onStable=new ra(!1),this.onError=new ra(!1),typeof Zone>"u")throw new be(908,!1);Zone.assertZonePatched();const l=this;l._nesting=0,l._outer=l._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(l._inner=l._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(l._inner=l._inner.fork(Zone.longStackTraceZoneSpec)),l.shouldCoalesceEventChangeDetection=!s&&i,l.shouldCoalesceRunChangeDetection=s,l.lastRequestAnimationFrameId=-1,l.nativeRequestAnimationFrame=function Av(){const t="function"==typeof ut.requestAnimationFrame;let n=ut[t?"requestAnimationFrame":"setTimeout"],i=ut[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&n&&i){const s=n[Zone.__symbol__("OriginalDelegate")];s&&(n=s);const l=i[Zone.__symbol__("OriginalDelegate")];l&&(i=l)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:i}}().nativeRequestAnimationFrame,function Tv(t){const n=()=>{!function ky(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(ut,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,V2(t),t.isCheckStableRunning=!0,N2(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),V2(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(i,s,l,h,_,E)=>{if(function Dv(t){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0].data?.__ignore_ng_zone__}(E))return i.invokeTask(l,h,_,E);try{return by(t),i.invokeTask(l,h,_,E)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===h.type||t.shouldCoalesceRunChangeDetection)&&n(),L2(t)}},onInvoke:(i,s,l,h,_,E,T)=>{try{return by(t),i.invoke(l,h,_,E,T)}finally{t.shouldCoalesceRunChangeDetection&&n(),L2(t)}},onHasTask:(i,s,l,h)=>{i.hasTask(l,h),s===l&&("microTask"==h.change?(t._hasPendingMicrotasks=h.microTask,V2(t),N2(t)):"macroTask"==h.change&&(t.hasPendingMacrotasks=h.macroTask))},onHandleError:(i,s,l,h)=>(i.handleError(l,h),t.runOutsideAngular(()=>t.onError.emit(h)),!1)})}(l)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Zi.isInAngularZone())throw new be(909,!1)}static assertNotInAngularZone(){if(Zi.isInAngularZone())throw new be(909,!1)}run(n,i,s){return this._inner.run(n,i,s)}runTask(n,i,s,l){const h=this._inner,_=h.scheduleEventTask("NgZoneEvent: "+l,n,Iv,O2,O2);try{return h.runTask(_,i,s)}finally{h.cancelTask(_)}}runGuarded(n,i,s){return this._inner.runGuarded(n,i,s)}runOutsideAngular(n){return this._outer.run(n)}}const Iv={};function N2(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function V2(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function by(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function L2(t){t._nesting--,N2(t)}class My{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ra,this.onMicrotaskEmpty=new ra,this.onStable=new ra,this.onError=new ra}run(n,i,s){return n.apply(i,s)}runGuarded(n,i,s){return n.apply(i,s)}runOutsideAngular(n){return n()}runTask(n,i,s,l){return n.apply(i,s)}}const F2=new qt("",{providedIn:"root",factory:B2});function B2(){const t=Te(Zi);let n=!0;const i=new _e.c(l=>{n=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{l.next(n),l.complete()})}),s=new _e.c(l=>{let h;t.runOutsideAngular(()=>{h=t.onStable.subscribe(()=>{Zi.assertNotInAngularZone(),queueMicrotask(()=>{!n&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(n=!0,l.next(!0))})})});const _=t.onUnstable.subscribe(()=>{Zi.assertInAngularZone(),n&&(n=!1,t.runOutsideAngular(()=>{l.next(!1)}))});return()=>{h.unsubscribe(),_.unsubscribe()}});return(0,he.h)(i,s.pipe((0,Ne.u)()))}function Nl(t){return t instanceof Function?t():t}let j2=(()=>{class t{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static{this.\u0275prov=an({token:t,providedIn:"root",factory:()=>new t})}}return t})();function dp(t){for(;t;){t[On]|=64;const n=es(t);if(ac(t)&&!n)return t;t=n}return null}const U2=new qt("",{providedIn:"root",factory:()=>!1});let Gf=null;function Ry(t,n){return t[n]??Ny()}function Kf(t,n){const i=Ny();i.producerNode?.length&&(t[n]=Gf,i.lView=t,Gf=Oy())}const Py={...Ws,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{dp(t.lView)},lView:null};function Oy(){return Object.create(Py)}function Ny(){return Gf??=Oy(),Gf}const Ir={};function Vy(t){Qf(Hr(),Wt(),go()+t,!1)}function Qf(t,n,i,s){if(!s)if(3==(3&n[On])){const h=t.preOrderCheckHooks;null!==h&&Ra(n,h,i)}else{const h=t.preOrderHooks;null!==h&&Wc(n,h,0,i)}cs(i)}function yd(t,n=rt.Default){const i=Wt();return null===i?ye(t,n):wc(Hi(),i,It(t),n)}function Ly(){throw new Error("invalid")}function Zf(t,n,i,s,l,h,_,E,T,j,J){const xe=n.blueprint.slice();return xe[Cr]=l,xe[On]=140|s,(null!==j||t&&2048&t[On])&&(xe[On]|=2048),hl(xe),xe[Dr]=xe[$o]=t,xe[jr]=i,xe[qo]=_||t&&t[qo],xe[Hn]=E||t&&t[Hn],xe[ji]=T||t&&t[ji]||null,xe[vi]=h,xe[zi]=function Bn(){return Cn++}(),xe[zr]=J,xe[ws]=j,xe[Sr]=2==n.type?t[Sr]:xe,xe}function Eu(t,n,i,s,l){let h=t.data[n];if(null===h)h=function ih(t,n,i,s,l){const h=qa(),_=kc(),T=t.data[n]=function G2(t,n,i,s,l,h){let _=n?n.injectorIndex:-1,E=0;return _c()&&(E|=128),{type:i,index:s,insertBeforeIndex:null,injectorIndex:_,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:E,providerIndexes:0,value:l,attrs:h,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,_?h:h&&h.parent,i,n,s,l);return null===t.firstChild&&(t.firstChild=T),null!==h&&(_?null==h.child&&null!==T.parent&&(h.child=T):null===h.next&&(h.next=T,T.prev=h)),T}(t,n,i,s,l),function S(){return $n.lFrame.inI18n}()&&(h.flags|=32);else if(64&h.type){h.type=i,h.value=s,h.attrs=l;const _=function Xs(){const t=$n.lFrame,n=t.currentTNode;return t.isParent?n:n.parent}();h.injectorIndex=null===_?-1:_.injectorIndex}return Er(h,!0),h}function n1(t,n,i,s){if(0===i)return-1;const l=n.length;for(let h=0;h<i;h++)n.push(s),t.blueprint.push(s),t.data.push(null);return l}function Xf(t,n,i,s,l){const h=Ry(n,Wo),_=go(),E=2&s;try{cs(-1),E&&n.length>Qn&&Qf(t,n,Qn,!1),Ki(E?2:0,l);const j=E?h:null,J=oo(j);try{null!==j&&(j.dirty=!1),i(s,l)}finally{za(j,J)}}finally{E&&null===n[Wo]&&Kf(n,Wo),cs(_),Ki(E?3:1,l)}}function oh(t,n,i){if($s(n)){const s=Ui(null);try{const h=n.directiveEnd;for(let _=n.directiveStart;_<h;_++){const E=t.data[_];E.contentQueries&&E.contentQueries(1,i[_],_)}}finally{Ui(s)}}}function r1(t,n,i){Zs()&&(function Lv(t,n,i,s){const l=i.directiveStart,h=i.directiveEnd;ro(i)&&function Bv(t,n,i){const s=mo(n,t),l=pp(i);let _=16;i.signals?_=4096:i.onPush&&(_=64);const E=n0(t,Zf(t,l,null,_,s,n,null,t[qo].rendererFactory.createRenderer(s,i),null,null,null));t[n.index]=E}(n,i,t.data[l+i.componentOffset]),t.firstCreatePass||va(i,n),si(s,n);const _=i.initialInputs;for(let E=l;E<h;E++){const T=t.data[E],j=Xo(n,t,E,i);si(j,n),null!==_&&Qy(0,E-l,j,T,0,_),io(T)&&(yo(i.index,n)[jr]=Xo(n,t,E,i))}}(t,n,i,mo(i,n)),64==(64&i.flags)&&mp(t,n,i))}function Yf(t,n,i=mo){const s=n.localNames;if(null!==s){let l=n.index+1;for(let h=0;h<s.length;h+=2){const _=s[h+1],E=-1===_?i(n,t):t[_];t[l++]=E}}}function pp(t){const n=t.tView;return null===n||n.incompleteFirstPass?t.tView=Jf(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):n}function Jf(t,n,i,s,l,h,_,E,T,j,J){const xe=Qn+s,Xe=xe+l,lt=function Nv(t,n){const i=[];for(let s=0;s<n;s++)i.push(s<t?null:Ir);return i}(xe,Xe),jt="function"==typeof j?j():j;return lt[un]={type:t,blueprint:lt,template:i,queries:null,viewQuery:E,declTNode:n,data:lt.slice().fill(null,xe),bindingStartIndex:xe,expandoStartIndex:Xe,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof h?h():h,pipeRegistry:"function"==typeof _?_():_,firstChild:null,schemas:T,consts:jt,incompleteFirstPass:!1,ssrId:J}}let W2=t=>null;function fp(t,n,i,s){for(let l in t)if(t.hasOwnProperty(l)){i=null===i?{}:i;const h=t[l];null===s?K2(i,n,l,h):s.hasOwnProperty(l)&&K2(i,n,s[l],h)}return i}function K2(t,n,i,s){t.hasOwnProperty(i)?t[i].push(n,s):t[i]=[n,s]}function nc(t,n,i,s,l,h,_,E){const T=mo(n,i);let J,j=n.inputs;!E&&null!=j&&(J=j[s])?(em(t,i,J,s,l),ro(n)&&function Vv(t,n){const i=yo(n,t);16&i[On]||(i[On]|=64)}(i,n.index)):3&n.type&&(s=function jy(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(s),l=null!=_?_(l,n.value||"",s):l,h.setProperty(T,s,l))}function Z2(t,n,i,s){if(Zs()){const l=null===s?null:{"":-1},h=function $y(t,n){const i=t.directiveRegistry;let s=null,l=null;if(i)for(let h=0;h<i.length;h++){const _=i[h];if(Ea(n,_.selectors,!1))if(s||(s=[]),io(_))if(null!==_.findHostDirectiveDefs){const E=[];l=l||new Map,_.findHostDirectiveDefs(_,E,l),s.unshift(...E,_),t0(t,n,E.length)}else s.unshift(_),t0(t,n,0);else l=l||new Map,_.findHostDirectiveDefs?.(_,s,l),s.push(_)}return null===s?null:[s,l]}(t,i);let _,E;null===h?_=E=null:[_,E]=h,null!==_&&o1(t,n,i,_,l,E),l&&function Wy(t,n,i){if(n){const s=t.localNames=[];for(let l=0;l<n.length;l+=2){const h=i[n[l+1]];if(null==h)throw new be(-301,!1);s.push(n[l],h)}}}(i,s,l)}i.mergedAttrs=Fr(i.mergedAttrs,i.attrs)}function o1(t,n,i,s,l,h){for(let j=0;j<s.length;j++)Kc(va(i,n),t,s[j].type);!function Ky(t,n,i){t.flags|=1,t.directiveStart=n,t.directiveEnd=n+i,t.providerIndexes=n}(i,t.data.length,s.length);for(let j=0;j<s.length;j++){const J=s[j];J.providersResolver&&J.providersResolver(J)}let _=!1,E=!1,T=n1(t,n,s.length,null);for(let j=0;j<s.length;j++){const J=s[j];i.mergedAttrs=Fr(i.mergedAttrs,J.hostAttrs),Fv(t,i,n,T,J),Gy(T,J,l),null!==J.contentQueries&&(i.flags|=4),(null!==J.hostBindings||null!==J.hostAttrs||0!==J.hostVars)&&(i.flags|=64);const xe=J.type.prototype;!_&&(xe.ngOnChanges||xe.ngOnInit||xe.ngDoCheck)&&((t.preOrderHooks??=[]).push(i.index),_=!0),!E&&(xe.ngOnChanges||xe.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(i.index),E=!0),T++}!function Q2(t,n,i){const l=n.directiveEnd,h=t.data,_=n.attrs,E=[];let T=null,j=null;for(let J=n.directiveStart;J<l;J++){const xe=h[J],Xe=i?i.get(xe):null,jt=Xe?Xe.outputs:null;T=fp(xe.inputs,J,T,Xe?Xe.inputs:null),j=fp(xe.outputs,J,j,jt);const on=null===T||null===_||Ci(n)?null:jv(T,J,_);E.push(on)}null!==T&&(T.hasOwnProperty("class")&&(n.flags|=8),T.hasOwnProperty("style")&&(n.flags|=16)),n.initialInputs=E,n.inputs=T,n.outputs=j}(t,i,h)}function mp(t,n,i){const s=i.directiveStart,l=i.directiveEnd,h=i.index,_=function z(){return $n.lFrame.currentDirectiveIndex}();try{cs(h);for(let E=s;E<l;E++){const T=t.data[E],j=n[E];te(E),(null!==T.hostBindings||0!==T.hostVars||null!==T.hostAttrs)&&qy(T,j)}}finally{cs(-1),te(_)}}function qy(t,n){null!==t.hostBindings&&t.hostBindings(1,n)}function t0(t,n,i){n.componentOffset=i,(t.components??=[]).push(n.index)}function Gy(t,n,i){if(i){if(n.exportAs)for(let s=0;s<n.exportAs.length;s++)i[n.exportAs[s]]=t;io(n)&&(i[""]=t)}}function Fv(t,n,i,s,l){t.data[s]=l;const h=l.factory||(l.factory=os(l.type)),_=new Oa(h,io(l),yd);t.blueprint[s]=_,i[s]=_,function X2(t,n,i,s,l){const h=l.hostBindings;if(h){let _=t.hostBindingOpCodes;null===_&&(_=t.hostBindingOpCodes=[]);const E=~n.index;(function Hy(t){let n=t.length;for(;n>0;){const i=t[--n];if("number"==typeof i&&i<0)return i}return 0})(_)!=E&&_.push(E),_.push(i,s,h)}}(t,n,s,n1(t,i,l.hostVars,Ir),l)}function Vl(t,n,i,s,l,h){const _=mo(t,n);!function Y2(t,n,i,s,l,h,_){if(null==h)t.removeAttribute(n,l,i);else{const E=null==_?je(h):_(h,s||"",l);t.setAttribute(n,l,E,i)}}(n[Hn],_,h,t.value,i,s,l)}function Qy(t,n,i,s,l,h){const _=h[n];if(null!==_)for(let E=0;E<_.length;)Zy(s,i,_[E++],_[E++],_[E++])}function Zy(t,n,i,s,l){const h=Ui(null);try{const _=t.inputTransforms;null!==_&&_.hasOwnProperty(s)&&(l=_[s].call(n,l)),null!==t.setInput?t.setInput(n,l,i,s):n[s]=l}finally{Ui(h)}}function jv(t,n,i){let s=null,l=0;for(;l<i.length;){const h=i[l];if(0!==h)if(5!==h){if("number"==typeof h)break;if(t.hasOwnProperty(h)){null===s&&(s=[]);const _=t[h];for(let E=0;E<_.length;E+=2)if(_[E]===n){s.push(h,_[E+1],i[l+1]);break}}l+=2}else l+=2;else l+=4}return s}function Xy(t,n,i,s){return[t,!0,!1,n,null,0,s,i,null,null,null]}function Yy(t,n){const i=t.contentQueries;if(null!==i)for(let s=0;s<i.length;s+=2){const h=i[s+1];if(-1!==h){const _=t.data[h];gt(i[s]),_.contentQueries(2,n[h],h)}}}function n0(t,n){return t[Oo]?t[ns][Bi]=n:t[Oo]=n,t[ns]=n,n}function J2(t,n,i){gt(0);const s=Ui(null);try{n(t,i)}finally{Ui(s)}}function Jy(t){return t[uo]||(t[uo]=[])}function eg(t){return t.cleanup||(t.cleanup=[])}function ng(t,n){const i=t[ji],s=i?i.get(Mu,null):null;s&&s.handleError(n)}function em(t,n,i,s,l){for(let h=0;h<i.length;){const _=i[h++],E=i[h++];Zy(t.data[_],n[_],s,E,l)}}function xu(t,n,i){const s=pa(n,t);!function ce(t,n,i){t.setValue(n,i)}(t[Hn],s,i)}function Uv(t,n){const i=yo(n,t),s=i[un];!function rg(t,n){for(let i=n.length;i<t.blueprint.length;i++)n.push(t.blueprint[i])}(s,i);const l=i[Cr];null!==l&&null===i[zr]&&(i[zr]=Zh(l,i[ji])),tm(s,i,i[jr])}function tm(t,n,i){Pr(n);try{const s=t.viewQuery;null!==s&&J2(1,s,i);const l=t.template;null!==l&&Xf(t,n,l,1,i),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Yy(t,n),t.staticViewQueries&&J2(2,t.viewQuery,i);const h=t.components;null!==h&&function Hv(t,n){for(let i=0;i<n.length;i++)Uv(t,n[i])}(n,h)}catch(s){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),s}finally{n[On]&=-5,Si()}}let ig=(()=>{class t{constructor(){this.all=new Set,this.queue=new Map}create(i,s,l){const h=typeof Zone>"u"?null:Zone.current,_=function Ft(t,n,i){const s=Object.create(_n);i&&(s.consumerAllowSignalWrites=!0),s.fn=t,s.schedule=n;const l=_=>{s.cleanupFn=_};return s.ref={notify:()=>da(s),run:()=>{if(s.dirty=!1,s.hasRun&&!Vs(s))return;s.hasRun=!0;const _=oo(s);try{s.cleanupFn(),s.cleanupFn=Dn,s.fn(l)}finally{za(s,_)}},cleanup:()=>s.cleanupFn()},s.ref}(i,j=>{this.all.has(j)&&this.queue.set(j,h)},l);let E;this.all.add(_),_.notify();const T=()=>{_.cleanup(),E?.(),this.all.delete(_),this.queue.delete(_)};return E=s?.onDestroy(T),{destroy:T}}flush(){if(0!==this.queue.size)for(const[i,s]of this.queue)this.queue.delete(i),s?s.run(()=>i.run()):i.run()}get isQueueEmpty(){return 0===this.queue.size}static{this.\u0275prov=an({token:t,providedIn:"root",factory:()=>new t})}}return t})();function yp(t,n,i){let s=i?t.styles:null,l=i?t.classes:null,h=0;if(null!==n)for(let _=0;_<n.length;_++){const E=n[_];"number"==typeof E?h=E:1==h?l=qe(l,E):2==h&&(s=qe(s,E+": "+n[++_]+";"))}i?t.styles=s:t.stylesWithoutHost=s,i?t.classes=l:t.classesWithoutHost=l}function gp(t,n,i,s,l=!1){for(;null!==i;){const h=n[i.index];null!==h&&s.push(ii(h)),ti(h)&&og(h,s);const _=i.type;if(8&_)gp(t,n,i.child,s);else if(32&_){const E=Ss(i,n);let T;for(;T=E();)s.push(T)}else if(16&_){const E=W1(n,i);if(Array.isArray(E))s.push(...E);else{const T=es(n[Sr]);gp(T[un],T,E,s,!0)}}i=l?i.projectionNext:i.next}return s}function og(t,n){for(let i=wr;i<t.length;i++){const s=t[i],l=s[un].firstChild;null!==l&&gp(s[un],s,l,n)}t[ho]!==t[Cr]&&n.push(t[ho])}function r0(t,n,i,s=!0){const l=n[qo],h=l.rendererFactory,_=l.afterRenderEventManager;h.begin?.(),_?.begin();try{sg(t,n,t.template,i)}catch(T){throw s&&ng(n,T),T}finally{h.end?.(),l.effectManager?.flush(),_?.end()}}function sg(t,n,i,s){const l=n[On];if(256!=(256&l)){n[qo].effectManager?.flush(),Pr(n);try{hl(n),function Lu(t){return $n.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==i&&Xf(t,n,i,2,s);const _=3==(3&l);if(_){const j=t.preOrderCheckHooks;null!==j&&Ra(n,j,null)}else{const j=t.preOrderHooks;null!==j&&Wc(n,j,0,null),Pa(n,0)}if(function Gv(t){for(let n=w(t);null!==n;n=d(n)){if(!n[hi])continue;const i=n[nr];for(let s=0;s<i.length;s++){Qs(i[s])}}}(n),ag(n,2),null!==t.contentQueries&&Yy(t,n),_){const j=t.contentCheckHooks;null!==j&&Ra(n,j)}else{const j=t.contentHooks;null!==j&&Wc(n,j,1),Pa(n,1)}!function Ov(t,n){const i=t.hostBindingOpCodes;if(null===i)return;const s=Ry(n,Ur);try{for(let l=0;l<i.length;l++){const h=i[l];if(h<0)cs(~h);else{const _=h,E=i[++l],T=i[++l];D(E,_),s.dirty=!1;const j=oo(s);try{T(2,n[_])}finally{za(s,j)}}}}finally{null===n[Ur]&&Kf(n,Ur),cs(-1)}}(t,n);const E=t.components;null!==E&&lg(n,E,0);const T=t.viewQuery;if(null!==T&&J2(2,T,s),_){const j=t.viewCheckHooks;null!==j&&Ra(n,j)}else{const j=t.viewHooks;null!==j&&Wc(n,j,2),Pa(n,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),n[On]&=-73,Ha(n)}finally{Si()}}}function ag(t,n){for(let i=w(t);null!==i;i=d(i))for(let s=wr;s<i.length;s++)cg(i[s],n)}function Kv(t,n,i){cg(yo(n,t),i)}function cg(t,n){if(!function gc(t){return 128==(128&t[On])}(t))return;const i=t[un],s=t[On];if(80&s&&0===n||1024&s||2===n)sg(i,t,i.template,t[jr]);else if(t[no]>0){ag(t,1);const l=i.components;null!==l&&lg(t,l,1)}}function lg(t,n,i){for(let s=0;s<n.length;s++)Kv(t,n[s],i)}class vp{get rootNodes(){const n=this._lView,i=n[un];return gp(i,n,i.firstChild,[])}constructor(n,i){this._lView=n,this._cdRefInjectingView=i,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[jr]}set context(n){this._lView[jr]=n}get destroyed(){return 256==(256&this._lView[On])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[Dr];if(ti(n)){const i=n[8],s=i?i.indexOf(this):-1;s>-1&&(Ya(n,s),Xa(i,s))}this._attachedToViewContainer=!1}Al(this._lView[un],this._lView)}onDestroy(n){!function fa(t,n){if(256==(256&t[On]))throw new be(911,!1);null===t[To]&&(t[To]=[]),t[To].push(n)}(this._lView,n)}markForCheck(){dp(this._cdRefInjectingView||this._lView)}detach(){this._lView[On]&=-129}reattach(){this._lView[On]|=128}detectChanges(){r0(this._lView[un],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new be(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function or(t,n){Wd(t,n,n[Hn],2,null,null)}(this._lView[un],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new be(902,!1);this._appRef=n}}class Qv extends vp{constructor(n){super(n),this._view=n}detectChanges(){const n=this._view;r0(n[un],n,n[jr],!1)}checkNoChanges(){}get context(){return null}}class ug extends pd{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const i=En(n);return new _p(i,this.ngModule)}}function dg(t){const n=[];for(let i in t)t.hasOwnProperty(i)&&n.push({propName:t[i],templateName:i});return n}class hg{constructor(n,i){this.injector=n,this.parentInjector=i}get(n,i,s){s=st(s);const l=this.injector.get(n,zf,s);return l!==zf||i===zf?l:this.parentInjector.get(n,i,s)}}class _p extends Ff{get inputs(){const n=this.componentDef,i=n.inputTransforms,s=dg(n.inputs);if(null!==i)for(const l of s)i.hasOwnProperty(l.propName)&&(l.transform=i[l.propName]);return s}get outputs(){return dg(this.componentDef.outputs)}constructor(n,i){super(),this.componentDef=n,this.ngModule=i,this.componentType=n.type,this.selector=function Ii(t){return t.map(Nr).join(",")}(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!i}create(n,i,s,l){let h=(l=l||this.ngModule)instanceof Pc?l:l?.injector;h&&null!==this.componentDef.getStandaloneInjector&&(h=this.componentDef.getStandaloneInjector(h)||h);const _=h?new hg(n,h):n,E=_.get(fd,null);if(null===E)throw new be(407,!1);const xe={rendererFactory:E,sanitizer:_.get(jf,null),effectManager:_.get(ig,null),afterRenderEventManager:_.get(j2,null)},Xe=E.createRenderer(null,this.componentDef),lt=this.componentDef.selectors[0][0]||"div",jt=s?function q2(t,n,i,s){const h=s.get(U2,!1)||i===tn.ShadowDom,_=t.selectRootElement(n,h);return function $2(t){W2(t)}(_),_}(Xe,s,this.componentDef.encapsulation,_):Mt(Xe,lt,function Zv(t){const n=t.toLowerCase();return"svg"===n?Go:"math"===n?"math":null}(lt)),Jn=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let Xt=null;null!==jt&&(Xt=Zh(jt,_,!0));const xr=Jf(0,null,null,1,0,null,null,null,null,null,null),Zr=Zf(null,xr,null,Jn,null,null,xe,Xe,_,null,Xt);let Wi,Fc;Pr(Zr);try{const gh=this.componentDef;let n2,Rb=null;gh.findHostDirectiveDefs?(n2=[],Rb=new Map,gh.findHostDirectiveDefs(gh,n2,Rb),n2.push(gh)):n2=[gh];const d3=function pg(t,n){const i=t[un],s=Qn;return t[s]=n,Eu(i,s,2,"#host",null)}(Zr,jt),h3=function Yv(t,n,i,s,l,h,_){const E=l[un];!function Jv(t,n,i,s){for(const l of t)n.mergedAttrs=Fr(n.mergedAttrs,l.hostAttrs);null!==n.mergedAttrs&&(yp(n,n.mergedAttrs,!0),null!==i&&a2(s,i,n))}(s,t,n,_);let T=null;null!==n&&(T=Zh(n,l[ji]));const j=h.rendererFactory.createRenderer(n,i);let J=16;i.signals?J=4096:i.onPush&&(J=64);const xe=Zf(l,pp(i),null,J,l[t.index],t,h,j,null,null,T);return E.firstCreatePass&&t0(E,t,s.length-1),n0(l,xe),l[t.index]=xe}(d3,jt,gh,n2,Zr,xe,Xe);Fc=bi(xr,Qn),jt&&function fg(t,n,i,s){if(s)vr(t,i,["ng-version",e1.full]);else{const{attrs:l,classes:h}=function ui(t){const n=[],i=[];let s=1,l=2;for(;s<t.length;){let h=t[s];if("string"==typeof h)2===l?""!==h&&n.push(h,t[++s]):8===l&&i.push(h);else{if(!ki(l))break;l=h}s++}return{attrs:n,classes:i}}(n.selectors[0]);l&&vr(t,i,l),h&&h.length>0&&G1(t,i,h.join(" "))}}(Xe,gh,jt,s),void 0!==i&&function t_(t,n,i){const s=t.projection=[];for(let l=0;l<n.length;l++){const h=i[l];s.push(null!=h?Array.from(h):null)}}(Fc,this.ngContentSelectors,i),Wi=function e_(t,n,i,s,l,h){const _=Hi(),E=l[un],T=mo(_,l);o1(E,l,_,i,null,s);for(let J=0;J<i.length;J++)si(Xo(l,E,_.directiveStart+J,_),l);mp(E,l,_),T&&si(T,l);const j=Xo(l,E,_.directiveStart+_.componentOffset,_);if(t[jr]=l[jr]=j,null!==h)for(const J of h)J(j,n);return oh(E,_,t),j}(h3,gh,n2,Rb,Zr,[n_]),tm(xr,Zr,null)}finally{Si()}return new Xv(this.componentType,Wi,Yd(Fc,Zr),Zr,Fc)}}class Xv extends lp{constructor(n,i,s,l,h){super(),this.location=s,this._rootLView=l,this._tNode=h,this.previousInputValues=null,this.instance=i,this.hostView=this.changeDetectorRef=new Qv(l),this.componentType=n}setInput(n,i){const s=this._tNode.inputs;let l;if(null!==s&&(l=s[n])){if(this.previousInputValues??=new Map,this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),i))return;const h=this._rootLView;em(h[un],h,l,n,i),this.previousInputValues.set(n,i),dp(yo(this._tNode.index,h))}}get injector(){return new Li(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}function n_(){const t=Hi();Wa(Wt()[un],t)}function nm(t){let n=function mg(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),i=!0;const s=[t];for(;n;){let l;if(io(t))l=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new be(903,!1);l=n.\u0275dir}if(l){if(i){s.push(l);const _=t;_.inputs=o0(t.inputs),_.inputTransforms=o0(t.inputTransforms),_.declaredInputs=o0(t.declaredInputs),_.outputs=o0(t.outputs);const E=l.hostBindings;E&&s_(t,E);const T=l.viewQuery,j=l.contentQueries;if(T&&i_(t,T),j&&o_(t,j),me(t.inputs,l.inputs),me(t.declaredInputs,l.declaredInputs),me(t.outputs,l.outputs),null!==l.inputTransforms&&(null===_.inputTransforms&&(_.inputTransforms={}),me(_.inputTransforms,l.inputTransforms)),io(l)&&l.data.animation){const J=t.data;J.animation=(J.animation||[]).concat(l.data.animation)}}const h=l.features;if(h)for(let _=0;_<h.length;_++){const E=h[_];E&&E.ngInherit&&E(t),E===nm&&(i=!1)}}n=Object.getPrototypeOf(n)}!function r_(t){let n=0,i=null;for(let s=t.length-1;s>=0;s--){const l=t[s];l.hostVars=n+=l.hostVars,l.hostAttrs=Fr(l.hostAttrs,i=Fr(i,l.hostAttrs))}}(s)}function o0(t){return t===Un?{}:t===pn?[]:t}function i_(t,n){const i=t.viewQuery;t.viewQuery=i?(s,l)=>{n(s,l),i(s,l)}:n}function o_(t,n){const i=t.contentQueries;t.contentQueries=i?(s,l,h)=>{n(s,l,h),i(s,l,h)}:n}function s_(t,n){const i=t.hostBindings;t.hostBindings=i?(s,l)=>{n(s,l),i(s,l)}:n}function gg(t){const n=t.inputConfig,i={};for(const s in n)if(n.hasOwnProperty(s)){const l=n[s];Array.isArray(l)&&l[2]&&(i[s]=l[2])}t.inputTransforms=i}function s0(t){return!!om(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function om(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Ll(t,n,i){return t[n]=i}function ia(t,n,i){return!Object.is(t[n],i)&&(t[n]=i,!0)}function gd(t,n,i,s){const l=ia(t,n,i);return ia(t,n+1,s)||l}function e(t,n,i,s){const l=Wt();return ia(l,fs(),n)&&(Hr(),Vl(Gr(),l,t,n,i,s)),e}function o(t,n,i,s){return ia(t,fs(),i)?n+je(i)+s:Ir}function p(t,n,i,s,l,h,_,E){const j=function a0(t,n,i,s,l){const h=gd(t,n,i,s);return ia(t,n+2,l)||h}(t,Is(),i,l,_);return x(3),j?n+je(i)+s+je(l)+h+je(_)+E:Ir}function f0(t,n,i,s,l,h,_,E){const T=Wt(),j=Hr(),J=t+Qn,xe=j.firstCreatePass?function cm(t,n,i,s,l,h,_,E,T){const j=n.consts,J=Eu(n,t,4,_||null,Ua(j,E));Z2(n,i,J,Ua(j,T)),Wa(n,J);const xe=J.tView=Jf(2,J,s,l,h,n.directiveRegistry,n.pipeRegistry,null,n.schemas,j,null);return null!==n.queries&&(n.queries.template(n,J),xe.queries=n.queries.embeddedTView(J)),J}(J,j,T,n,i,s,l,h,_):j.data[J];Er(xe,!1);const Xe=kp(j,T,xe,t);$c()&&qd(j,T,Xe,xe),si(Xe,T),n0(T,T[J]=Xy(Xe,T,Xe,xe)),rs(xe)&&r1(j,T,xe),null!=_&&Yf(T,xe,E)}let kp=function m0(t,n,i,s){return ma(!0),n[Hn].createComment("")};function bp(t){return ur(function Ql(){return $n.lFrame.contextLView}(),Qn+t)}function vs(t,n,i){const s=Wt();return ia(s,fs(),n)&&nc(Hr(),Gr(),s,t,n,s[Hn],i,!1),vs}function Rs(t,n,i,s,l){const _=l?"class":"style";em(t,i,n.inputs[_],_,s)}function p1(t,n,i,s){const l=Wt(),h=Hr(),_=Qn+t,E=l[Hn],T=h.firstCreatePass?function Mp(t,n,i,s,l,h){const _=n.consts,T=Eu(n,t,2,s,Ua(_,l));return Z2(n,i,T,Ua(_,h)),null!==T.attrs&&yp(T,T.attrs,!1),null!==T.mergedAttrs&&yp(T,T.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,T),T}(_,h,l,n,i,s):h.data[_],j=ah(h,l,T,E,n,t);l[_]=j;const J=rs(T);return Er(T,!0),a2(E,j,T),32!=(32&T.flags)&&$c()&&qd(h,l,j,T),0===function Ia(){return $n.lFrame.elementDepthCount}()&&si(j,l),function Gl(){$n.lFrame.elementDepthCount++}(),J&&(r1(h,l,T),oh(h,T,l)),null!==s&&Yf(l,T),p1}function f1(){let t=Hi();kc()?Ta():(t=t.parent,Er(t,!1));const n=t;(function Nu(t){return $n.skipHydrationRootTNode===t})(n)&&function qc(){$n.skipHydrationRootTNode=null}(),function fl(){$n.lFrame.elementDepthCount--}();const i=Hr();return i.firstCreatePass&&(Wa(i,t),$s(t)&&i.queries.elementEnd(t)),null!=n.classesWithoutHost&&function ms(t){return 0!=(8&t.flags)}(n)&&Rs(i,n,Wt(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function ys(t){return 0!=(16&t.flags)}(n)&&Rs(i,n,Wt(),n.stylesWithoutHost,!1),f1}function v0(t,n,i,s){return p1(t,n,i,s),f1(),v0}let ah=(t,n,i,s,l,h)=>(ma(!0),Mt(s,l,function Xl(){return $n.lFrame.currentNamespace}()));function wp(t,n,i){const s=Wt(),l=Hr(),h=t+Qn,_=l.firstCreatePass?function _0(t,n,i,s,l){const h=n.consts,_=Ua(h,s),E=Eu(n,t,8,"ng-container",_);return null!==_&&yp(E,_,!0),Z2(n,i,E,Ua(h,l)),null!==n.queries&&n.queries.elementStart(n,E),E}(h,l,s,n,i):l.data[h];Er(_,!0);const E=k0(l,s,_,t);return s[h]=E,$c()&&qd(l,s,E,_),si(E,s),rs(_)&&(r1(l,s,_),oh(l,_,s)),null!=i&&Yf(s,_),wp}function Ep(){let t=Hi();const n=Hr();return kc()?Ta():(t=t.parent,Er(t,!1)),n.firstCreatePass&&(Wa(n,t),$s(t)&&n.queries.elementEnd(t)),Ep}function m1(t,n,i){return wp(t,n,i),Ep(),m1}let k0=(t,n,i,s)=>(ma(!0),tt(n[Hn],""));function xp(){return Wt()}function g1(t){return!!t&&"function"==typeof t.then}function Cu(t){return!!t&&"function"==typeof t.subscribe}function Cp(t,n,i,s){const l=Wt(),h=Hr(),_=Hi();return function ch(t,n,i,s,l,h,_){const E=rs(s),j=t.firstCreatePass&&eg(t),J=n[jr],xe=Jy(n);let Xe=!0;if(3&s.type||_){const on=mo(s,n),An=_?_(on):on,Jn=xe.length,Xt=_?Zr=>_(ii(Zr[s.index])):s.index;let xr=null;if(!_&&E&&(xr=function hm(t,n,i,s){const l=t.cleanup;if(null!=l)for(let h=0;h<l.length-1;h+=2){const _=l[h];if(_===i&&l[h+1]===s){const E=n[uo],T=l[h+2];return E.length>T?E[T]:null}"string"==typeof _&&(h+=2)}return null}(t,n,l,s.index)),null!==xr)(xr.__ngLastListenerFn__||xr).__ngNextListenerFn__=h,xr.__ngLastListenerFn__=h,Xe=!1;else{h=zs(s,n,J,h,!1);const Zr=i.listen(An,l,h);xe.push(h,Zr),j&&j.push(l,Xt,Jn,Jn+1)}}else h=zs(s,n,J,h,!1);const lt=s.outputs;let jt;if(Xe&&null!==lt&&(jt=lt[l])){const on=jt.length;if(on)for(let An=0;An<on;An+=2){const Wi=n[jt[An]][jt[An+1]].subscribe(h),Fc=xe.length;xe.push(h,Wi),j&&j.push(l,s.index,Fc,-(Fc+1))}}}(h,l,l[Hn],_,t,n,s),Cp}function b0(t,n,i,s){try{return Ki(6,n,i),!1!==i(s)}catch(l){return ng(t,l),!1}finally{Ki(7,n,i)}}function zs(t,n,i,s,l){return function h(_){if(_===Function)return s;dp(t.componentOffset>-1?yo(t.index,n):n);let T=b0(n,i,s,_),j=h.__ngNextListenerFn__;for(;j;)T=b0(n,i,j,_)&&T,j=j.__ngNextListenerFn__;return l&&!1===T&&_.preventDefault(),T}}function M0(t=1){return function Fs(t){return($n.lFrame.contextLView=function Fu(t,n){for(;t>0;)n=n[$o],t--;return n}(t,$n.lFrame.contextLView))[jr]}(t)}function _1(t,n){let i=null;const s=function Oi(t){const n=t.attrs;if(null!=n){const i=n.indexOf(5);if(!(1&i))return n[i+1]}return null}(t);for(let l=0;l<n.length;l++){const h=n[l];if("*"!==h){if(null===s?Ea(t,h,!0):sa(s,h))return l}else i=l}return i}function lh(t){const n=Wt()[Sr][vi];if(!n.projection){const s=n.projection=su(t?t.length:1,null),l=s.slice();let h=n.child;for(;null!==h;){const _=t?_1(h,t):0;null!==_&&(l[_]?l[_].projectionNext=h:s[_]=h,l[_]=h),h=h.next}}}function pm(t,n=0,i){const s=Wt(),l=Hr(),h=Eu(l,Qn+t,16,null,i||null);null===h.projection&&(h.projection=n),Ta(),(!s[zr]||_c())&&32!=(32&h.flags)&&function Yp(t,n,i){Jp(n[Hn],0,n,i,id(t,i,n),o2(i.parent||n[vi],i,n))}(l,s,h)}function zl(t,n,i,s,l){const h=Wt(),_=o(h,n,i,s);return _!==Ir&&nc(Hr(),Gr(),h,t,_,h[Hn],l,!1),zl}function M1(t,n){return t<<17|n<<2}function ol(t){return t>>17&32767}function Ip(t){return 2|t}function bd(t){return(131068&t)>>2}function uh(t,n){return-131069&t|n<<2}function w1(t){return 1|t}function Dp(t,n,i,s,l){const h=t[i+1],_=null===n;let E=s?ol(h):bd(h),T=!1;for(;0!==E&&(!1===T||_);){const J=t[E+1];_m(t[E],n)&&(T=!0,t[E+1]=s?w1(J):Ip(J)),E=s?ol(J):bd(J)}T&&(t[i+1]=s?Ip(h):w1(h))}function _m(t,n){return null===t||null==n||(Array.isArray(t)?t[1]:t)===n||!(!Array.isArray(t)||"string"!=typeof n)&&xc(t,n)>=0}const zo={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Sp(t){return t.substring(zo.key,zo.keyEnd)}function I0(t,n){const i=zo.textEnd;return i===n?-1:(n=zo.keyEnd=function Eg(t,n,i){for(;n<i&&t.charCodeAt(n)>32;)n++;return n}(t,zo.key=n,i),Md(t,n,i))}function Md(t,n,i){for(;n<i&&t.charCodeAt(n)<=32;)n++;return n}function Fi(t,n,i){return Nc(t,n,i,!1),Fi}function hh(t,n){return Nc(t,n,null,!0),hh}function Mm(t){!function Vc(t,n,i,s){const l=Hr(),h=x(2);l.firstUpdatePass&&Em(l,null,h,s);const _=Wt();if(i!==Ir&&ia(_,h,i)){const E=l.data[go()];if(D0(E,s)&&!wm(l,h)){let T=s?E.classesWithoutHost:E.stylesWithoutHost;null!==T&&(i=qe(T,i||"")),Rs(l,E,_,i,s)}else!function Iu(t,n,i,s,l,h,_,E){l===Ir&&(l=pn);let T=0,j=0,J=0<l.length?l[0]:null,xe=0<h.length?h[0]:null;for(;null!==J||null!==xe;){const Xe=T<l.length?l[T+1]:void 0,lt=j<h.length?h[j+1]:void 0;let on,jt=null;J===xe?(T+=2,j+=2,Xe!==lt&&(jt=xe,on=lt)):null===xe||null!==J&&J<xe?(T+=2,jt=J):(j+=2,jt=xe,on=lt),null!==jt&&Im(t,n,i,s,jt,on,_,E),J=T<l.length?l[T]:null,xe=j<h.length?h[j]:null}}(l,E,_,_[Hn],_[h+1],_[h+1]=function Cg(t,n,i){if(null==i||""===i)return pn;const s=[],l=Il(i);if(Array.isArray(l))for(let h=0;h<l.length;h++)t(s,l[h],!0);else if("object"==typeof l)for(const h in l)l.hasOwnProperty(h)&&t(s,h,l[h]);else"string"==typeof l&&n(s,l);return s}(t,n,i),s,h)}}(Ag,Oc,t,!0)}function Oc(t,n){for(let i=function km(t){return function T0(t){zo.key=0,zo.keyEnd=0,zo.value=0,zo.valueEnd=0,zo.textEnd=t.length}(t),I0(t,Md(t,0,zo.textEnd))}(n);i>=0;i=I0(n,i))Yo(t,Sp(n),!0)}function Nc(t,n,i,s){const l=Wt(),h=Hr(),_=x(2);h.firstUpdatePass&&Em(h,t,_,s),n!==Ir&&ia(l,_,n)&&Im(h,h.data[go()],l,l[Hn],t,l[_+1]=function Op(t,n){return null==t||""===t||("string"==typeof n?t+=n:"object"==typeof t&&(t=Be(Il(t)))),t}(n,i),s,_)}function wm(t,n){return n>=t.expandoStartIndex}function Em(t,n,i,s){const l=t.data;if(null===l[i+1]){const h=l[go()],_=wm(t,i);D0(h,s)&&null===n&&!_&&(n=!1),n=function C1(t,n,i,s){const l=function Re(t){const n=$n.lFrame.currentDirectiveIndex;return-1===n?null:t[n]}(t);let h=s?n.residualClasses:n.residualStyles;if(null===l)0===(s?n.classBindings:n.styleBindings)&&(i=al(i=Pp(null,t,n,i,s),n.attrs,s),h=null);else{const _=n.directiveStylingLast;if(-1===_||t[_]!==l)if(i=Pp(l,t,n,i,s),null===h){let T=function Au(t,n,i){const s=i?n.classBindings:n.styleBindings;if(0!==bd(s))return t[ol(s)]}(t,n,s);void 0!==T&&Array.isArray(T)&&(T=Pp(null,t,n,T[1],s),T=al(T,n.attrs,s),function xm(t,n,i,s){t[ol(i?n.classBindings:n.styleBindings)]=s}(t,n,s,T))}else h=function Cm(t,n,i){let s;const l=n.directiveEnd;for(let h=1+n.directiveStylingLast;h<l;h++)s=al(s,t[h].hostAttrs,i);return al(s,n.attrs,i)}(t,n,s)}return void 0!==h&&(s?n.residualClasses=h:n.residualStyles=h),i}(l,h,n,s),function C0(t,n,i,s,l,h){let _=h?n.classBindings:n.styleBindings,E=ol(_),T=bd(_);t[s]=i;let J,j=!1;if(Array.isArray(i)?(J=i[1],(null===J||xc(i,J)>0)&&(j=!0)):J=i,l)if(0!==T){const Xe=ol(t[E+1]);t[s+1]=M1(Xe,E),0!==Xe&&(t[Xe+1]=uh(t[Xe+1],s)),t[E+1]=function gm(t,n){return 131071&t|n<<17}(t[E+1],s)}else t[s+1]=M1(E,0),0!==E&&(t[E+1]=uh(t[E+1],s)),E=s;else t[s+1]=M1(T,0),0===E?E=s:t[T+1]=uh(t[T+1],s),T=s;j&&(t[s+1]=Ip(t[s+1])),Dp(t,J,s,!0),Dp(t,J,s,!1),function Mg(t,n,i,s,l){const h=l?t.residualClasses:t.residualStyles;null!=h&&"string"==typeof n&&xc(h,n)>=0&&(i[s+1]=w1(i[s+1]))}(n,J,t,s,h),_=M1(E,T),h?n.classBindings=_:n.styleBindings=_}(l,h,n,i,_,s)}}function Pp(t,n,i,s,l){let h=null;const _=i.directiveEnd;let E=i.directiveStylingLast;for(-1===E?E=i.directiveStart:E++;E<_&&(h=n[E],s=al(s,h.hostAttrs,l),h!==t);)E++;return null!==t&&(i.directiveStylingLast=E),s}function al(t,n,i){const s=i?1:2;let l=-1;if(null!==n)for(let h=0;h<n.length;h++){const _=n[h];"number"==typeof _?l=_:l===s&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Yo(t,_,!!i||n[++h]))}return void 0===t?null:t}function Ag(t,n,i){const s=String(n);""!==s&&!s.includes(" ")&&Yo(t,s,i)}function Im(t,n,i,s,l,h,_,E){if(!(3&n.type))return;const T=t.data,j=T[E+1],J=function vm(t){return 1==(1&t)}(j)?Tm(T,n,i,l,bd(j),_):void 0;Tu(J)||(Tu(h)||function x0(t){return 2==(2&t)}(j)&&(h=Tm(T,null,i,l,E,_)),function ef(t,n,i,s,l){if(n)l?t.addClass(i,s):t.removeClass(i,s);else{let h=-1===s.indexOf("-")?void 0:ze.DashCase;null==l?t.removeStyle(i,s,h):("string"==typeof l&&l.endsWith("!important")&&(l=l.slice(0,-10),h|=ze.Important),t.setStyle(i,s,l,h))}}(s,_,pa(go(),i),l,h))}function Tm(t,n,i,s,l,h){const _=null===n;let E;for(;l>0;){const T=t[l],j=Array.isArray(T),J=j?T[1]:T,xe=null===J;let Xe=i[l+1];Xe===Ir&&(Xe=xe?pn:void 0);let lt=xe?au(Xe,s):J===s?Xe:void 0;if(j&&!Tu(lt)&&(lt=au(T,s)),Tu(lt)&&(E=lt,_))return E;const jt=t[l+1];l=_?ol(jt):bd(jt)}if(null!==n){let T=h?n.residualClasses:n.residualStyles;null!=T&&(E=au(T,s))}return E}function Tu(t){return void 0!==t}function D0(t,n){return 0!=(t.flags&(n?8:16))}function ph(t,n=""){const i=Wt(),s=Hr(),l=t+Qn,h=s.firstCreatePass?Eu(s,l,1,n,null):s.data[l],_=fh(s,i,h,n,t);i[l]=_,$c()&&qd(s,i,_,h),Er(h,!1)}let fh=(t,n,i,s,l)=>(ma(!0),function Z(t,n){return t.createText(n)}(n[Hn],s));function co(t){return Np("",t,""),co}function Np(t,n,i){const s=Wt(),l=o(s,t,n,i);return l!==Ir&&xu(s,go(),l),Np}function R0(t,n,i,s,l){const h=Wt(),_=function c(t,n,i,s,l,h){const E=gd(t,Is(),i,l);return x(2),E?n+je(i)+s+je(l)+h:Ir}(h,t,n,i,s,l);return _!==Ir&&xu(h,go(),_),R0}function Vp(t,n,i,s,l,h,_){const E=Wt(),T=p(E,t,n,i,s,l,h,_);return T!==Ir&&xu(E,go(),T),Vp}function Su(t,n,i){const s=Wt();return ia(s,fs(),n)&&nc(Hr(),Gr(),s,t,n,s[Hn],i,!0),Su}const V=void 0;var le=["en",[["a","p"],["AM","PM"],V],[["AM","PM"],V,V],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],V,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],V,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",V,"{1} 'at' {0}",V],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function $(t){const i=Math.floor(Math.abs(t)),s=t.toString().replace(/^[^.]*\.?/,"").length;return 1===i&&0===s?1:5}];let dt={};function kn(t){const n=function mh(t){return t.toLowerCase().replace(/_/g,"-")}(t);let i=ci(n);if(i)return i;const s=n.split("-")[0];if(i=ci(s),i)return i;if("en"===s)return le;throw new be(701,!1)}function _s(t){return kn(t)[Uo.PluralCase]}function ci(t){return t in dt||(dt[t]=ut.ng&&ut.ng.common&&ut.ng.common.locales&&ut.ng.common.locales[t]),dt[t]}var Uo=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(Uo||{});const Ru="en-US";let m_=Ru;function Rg(t,n,i,s,l){if(t=It(t),Array.isArray(t))for(let h=0;h<t.length;h++)Rg(t[h],n,i,s,l);else{const h=Hr(),_=Wt(),E=Hi();let T=Mo(t)?t:It(t.provide);const j=Pi(t),J=1048575&E.providerIndexes,xe=E.directiveStart,Xe=E.providerIndexes>>20;if(Mo(t)||!t.multi){const lt=new Oa(j,l,yd),jt=Og(T,n,l?J:J+Xe,xe);-1===jt?(Kc(va(E,_),h,T),Pg(h,t,n.length),n.push(T),E.directiveStart++,E.directiveEnd++,l&&(E.providerIndexes+=1048576),i.push(lt),_.push(lt)):(i[jt]=lt,_[jt]=lt)}else{const lt=Og(T,n,J+Xe,xe),jt=Og(T,n,J,J+Xe),An=jt>=0&&i[jt];if(l&&!An||!l&&!(lt>=0&&i[lt])){Kc(va(E,_),h,T);const Jn=function B4(t,n,i,s,l){const h=new Oa(t,i,yd);return h.multi=[],h.index=n,h.componentProviders=0,j_(h,l,s&&!i),h}(l?F4:L4,i.length,l,s,j);!l&&An&&(i[jt].providerFactory=Jn),Pg(h,t,n.length,0),n.push(T),E.directiveStart++,E.directiveEnd++,l&&(E.providerIndexes+=1048576),i.push(Jn),_.push(Jn)}else Pg(h,t,lt>-1?lt:jt,j_(i[l?jt:lt],j,!l&&s));!l&&s&&An&&i[jt].componentProviders++}}}function Pg(t,n,i,s){const l=Mo(n),h=function jo(t){return!!t.useClass}(n);if(l||h){const T=(h?It(n.useClass):n).prototype.ngOnDestroy;if(T){const j=t.destroyHooks||(t.destroyHooks=[]);if(!l&&n.multi){const J=j.indexOf(i);-1===J?j.push(i,[s,T]):j[J+1].push(s,T)}else j.push(i,T)}}}function j_(t,n,i){return i&&t.componentProviders++,t.multi.push(n)-1}function Og(t,n,i,s){for(let l=i;l<s;l++)if(n[l]===t)return l;return-1}function L4(t,n,i,s){return Ng(this.multi,[])}function F4(t,n,i,s){const l=this.multi;let h;if(this.providerFactory){const _=this.providerFactory.componentProviders,E=Xo(i,i[un],this.providerFactory.index,s);h=E.slice(0,_),Ng(l,h);for(let T=_;T<E.length;T++)h.push(E[T])}else h=[],Ng(l,h);return h}function Ng(t,n){for(let i=0;i<t.length;i++)n.push((0,t[i])());return n}function z_(t,n=[]){return i=>{i.providersResolver=(s,l)=>function V4(t,n,i){const s=Hr();if(s.firstCreatePass){const l=io(t);Rg(i,s.data,s.blueprint,l,!0),Rg(n,s.data,s.blueprint,l,!1)}}(s,l?l(t):t,n)}}class S1{}class U_{}function j4(t,n){return new Vg(t,n??null,[])}class Vg extends S1{constructor(n,i,s){super(),this._parent=i,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new ug(this);const l=Mi(n);this._bootstrapComponents=Nl(l.bootstrap),this._r3Injector=qf(n,i,[{provide:S1,useValue:this},{provide:pd,useValue:this.componentFactoryResolver},...s],Be(n),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(n)}get injector(){return this._r3Injector}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(i=>i()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class Lg extends U_{constructor(n){super(),this.moduleType=n}create(n){return new Vg(this.moduleType,n,[])}}class H_ extends S1{constructor(n){super(),this.componentFactoryResolver=new ug(this),this.instance=null;const i=new ld([...n.providers,{provide:S1,useValue:this},{provide:pd,useValue:this.componentFactoryResolver}],n.parent||If(),n.debugName,new Set(["environment"]));this.injector=i,n.runEnvironmentInitializers&&i.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}}function q_(t,n,i=null){return new H_({providers:t,parent:n,debugName:i,runEnvironmentInitializers:!0}).injector}let $_=(()=>{class t{constructor(i){this._injector=i,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(i){if(!i.standalone)return null;if(!this.cachedInjectors.has(i)){const s=M2(0,i.type),l=s.length>0?q_([s],this._injector,`Standalone[${i.type.name}]`):null;this.cachedInjectors.set(i,l)}return this.cachedInjectors.get(i)}ngOnDestroy(){try{for(const i of this.cachedInjectors.values())null!==i&&i.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=an({token:t,providedIn:"environment",factory:()=>new t(ye(Pc))})}}return t})();function W_(t){t.getStandaloneInjector=n=>n.get($_).getOrCreateStandaloneInjector(t)}function J_(t,n,i){const s=xi()+t,l=Wt();return l[s]===Ir?Ll(l,s,i?n.call(i):n()):function s1(t,n){return t[n]}(l,s)}function ek(t,n,i,s){return function rk(t,n,i,s,l,h){const _=n+i;return ia(t,_,l)?Ll(t,_+1,h?s.call(h,l):s(l)):X0(t,_+1)}(Wt(),xi(),t,n,i,s)}function tk(t,n,i,s,l){return ik(Wt(),xi(),t,n,i,s,l)}function X0(t,n){const i=t[n];return i===Ir?void 0:i}function ik(t,n,i,s,l,h,_){const E=n+i;return gd(t,E,l,h)?Ll(t,E+2,_?s.call(_,l,h):s(l,h)):X0(t,E+2)}function sk(t,n,i,s,l,h,_,E,T){const j=n+i;return function a(t,n,i,s,l,h){const _=gd(t,n,i,s);return gd(t,n+2,l,h)||_}(t,j,l,h,_,E)?Ll(t,j+4,T?s.call(T,l,h,_,E):s(l,h,_,E)):X0(t,j+4)}function ck(t,n){const i=Hr();let s;const l=t+Qn;i.firstCreatePass?(s=function rM(t,n){if(n)for(let i=n.length-1;i>=0;i--){const s=n[i];if(t===s.name)return s}}(n,i.pipeRegistry),i.data[l]=s,s.onDestroy&&(i.destroyHooks??=[]).push(l,s.onDestroy)):s=i.data[l];const h=s.factory||(s.factory=os(s.type)),E=$e(yd);try{const T=Ga(!1),j=h();return Ga(T),function g0(t,n,i,s){i>=t.data.length&&(t.data[i]=null,t.blueprint[i]=null),n[i]=s}(i,Wt(),l,j),j}finally{$e(E)}}function lk(t,n,i,s){const l=t+Qn,h=Wt(),_=ur(h,l);return Y0(h,l)?ik(h,xi(),n,_.transform,i,s,_):_.transform(i,s)}function uk(t,n,i,s,l,h){const _=t+Qn,E=Wt(),T=ur(E,_);return Y0(E,_)?sk(E,xi(),n,T.transform,i,s,l,h,T):T.transform(i,s,l,h)}function Y0(t,n){return t[un].data[n].pure}function aM(){return this._results[Symbol.iterator]()}class Hm{get changes(){return this._changes||(this._changes=new ra)}constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const i=Hm.prototype;i[Symbol.iterator]||(i[Symbol.iterator]=aM)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,i){return this._results.reduce(n,i)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,i){const s=this;s.dirty=!1;const l=function Ds(t){return t.flat(Number.POSITIVE_INFINITY)}(n);(this._changesDetected=!function N1(t,n,i){if(t.length!==n.length)return!1;for(let s=0;s<t.length;s++){let l=t[s],h=n[s];if(i&&(l=i(l),h=i(h)),h!==l)return!1}return!0}(s._results,l,i))&&(s._results=l,s.length=l.length,s.last=l[this.length-1],s.first=l[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function dk(t,n,i,s=!0){const l=n[un];if(function Ri(t,n,i,s){const l=wr+s,h=i.length;s>0&&(i[l-1][Bi]=n),s<h-wr?(n[Bi]=i[l],ou(i,wr+s,n)):(i.push(n),n[Bi]=null),n[Dr]=i;const _=n[us];null!==_&&i!==_&&function ka(t,n){const i=t[nr];n[Sr]!==n[Dr][Dr][Sr]&&(t[hi]=!0),null===i?t[nr]=[n]:i.push(n)}(_,n);const E=n[Io];null!==E&&E.insertView(t),n[On]|=128}(l,n,t,i),s){const h=Xp(i,t),_=n[Hn],E=H1(_,t[ho]);null!==E&&function Sn(t,n,i,s,l,h){s[Cr]=l,s[vi]=n,Wd(t,s,i,1,l,h)}(l,t[vi],_,n,E,h)}}let J0=(()=>{class t{static{this.__NG_ELEMENT_ID__=dM}}return t})();const lM=J0,uM=class extends lM{constructor(n,i,s){super(),this._declarationLView=n,this._declarationTContainer=i,this.elementRef=s}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,i){return this.createEmbeddedViewImpl(n,i)}createEmbeddedViewImpl(n,i,s){const l=function cM(t,n,i,s){const l=n.tView,E=Zf(t,l,i,4096&t[On]?4096:16,null,n,null,null,null,s?.injector??null,s?.hydrationInfo??null);E[us]=t[n.index];const j=t[Io];return null!==j&&(E[Io]=j.createEmbeddedView(l)),tm(l,E,i),E}(this._declarationLView,this._declarationTContainer,n,{injector:i,hydrationInfo:s});return new vp(l)}};function dM(){return qm(Hi(),Wt())}function qm(t,n){return 4&t.type?new uM(n,t,Yd(t,n)):null}let Wm=(()=>{class t{static{this.__NG_ELEMENT_ID__=gM}}return t})();function gM(){return vk(Hi(),Wt())}const vM=Wm,yk=class extends vM{constructor(n,i,s){super(),this._lContainer=n,this._hostTNode=i,this._hostLView=s}get element(){return Yd(this._hostTNode,this._hostLView)}get injector(){return new Li(this._hostTNode,this._hostLView)}get parentInjector(){const n=Js(this._hostTNode,this._hostLView);if(ju(n)){const i=Ys(n,this._hostLView),s=Na(n);return new Li(i[un].data[s+8],i)}return new Li(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const i=gk(this._lContainer);return null!==i&&i[n]||null}get length(){return this._lContainer.length-wr}createEmbeddedView(n,i,s){let l,h;"number"==typeof s?l=s:null!=s&&(l=s.index,h=s.injector);const E=n.createEmbeddedViewImpl(i||{},h,null);return this.insertImpl(E,l,false),E}createComponent(n,i,s,l,h){const _=n&&!function _l(t){return"function"==typeof t}(n);let E;if(_)E=i;else{const on=i||{};E=on.index,s=on.injector,l=on.projectableNodes,h=on.environmentInjector||on.ngModuleRef}const T=_?n:new _p(En(n)),j=s||this.parentInjector;if(!h&&null==T.ngModule){const An=(_?j:this.parentInjector).get(Pc,null);An&&(h=An)}En(T.componentType??{});const lt=T.create(j,l,null,h);return this.insertImpl(lt.hostView,E,false),lt}insert(n,i){return this.insertImpl(n,i,!1)}insertImpl(n,i,s){const l=n._lView;if(function Wl(t){return ti(t[Dr])}(l)){const T=this.indexOf(n);if(-1!==T)this.detach(T);else{const j=l[Dr],J=new yk(j,j[vi],j[Dr]);J.detach(J.indexOf(n))}}const _=this._adjustIndex(i),E=this._lContainer;return dk(E,l,_,!s),n.attachToViewContainerRef(),ou(Bg(E),_,n),n}move(n,i){return this.insert(n,i)}indexOf(n){const i=gk(this._lContainer);return null!==i?i.indexOf(n):-1}remove(n){const i=this._adjustIndex(n,-1),s=Ya(this._lContainer,i);s&&(Xa(Bg(this._lContainer),i),Al(s[un],s))}detach(n){const i=this._adjustIndex(n,-1),s=Ya(this._lContainer,i);return s&&null!=Xa(Bg(this._lContainer),i)?new vp(s):null}_adjustIndex(n,i=0){return n??this.length+i}};function gk(t){return t[8]}function Bg(t){return t[8]||(t[8]=[])}function vk(t,n){let i;const s=n[t.index];return ti(s)?i=s:(i=Xy(s,n,null,t),n[t.index]=i,n0(n,i)),_k(i,n,t,s),new yk(i,t,n)}let _k=function kk(t,n,i,s){if(t[ho])return;let l;l=8&i.type?ii(s):function _M(t,n){const i=t[Hn],s=i.createComment(""),l=mo(n,t);return Ja(i,H1(i,l),s,function Qp(t,n){return t.nextSibling(n)}(i,l),!1),s}(n,i),t[ho]=l};class jg{constructor(n){this.queryList=n,this.matches=null}clone(){return new jg(this.queryList)}setDirty(){this.queryList.setDirty()}}class zg{constructor(n=[]){this.queries=n}createEmbeddedView(n){const i=n.queries;if(null!==i){const s=null!==n.contentQueries?n.contentQueries[0]:i.length,l=[];for(let h=0;h<s;h++){const _=i.getByIndex(h);l.push(this.queries[_.indexInDeclarationView].clone())}return new zg(l)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let i=0;i<this.queries.length;i++)null!==Tk(n,i).matches&&this.queries[i].setDirty()}}class bk{constructor(n,i,s=null){this.predicate=n,this.flags=i,this.read=s}}class Ug{constructor(n=[]){this.queries=n}elementStart(n,i){for(let s=0;s<this.queries.length;s++)this.queries[s].elementStart(n,i)}elementEnd(n){for(let i=0;i<this.queries.length;i++)this.queries[i].elementEnd(n)}embeddedTView(n){let i=null;for(let s=0;s<this.length;s++){const l=null!==i?i.length:0,h=this.getByIndex(s).embeddedTView(n,l);h&&(h.indexInDeclarationView=s,null!==i?i.push(h):i=[h])}return null!==i?new Ug(i):null}template(n,i){for(let s=0;s<this.queries.length;s++)this.queries[s].template(n,i)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class Hg{constructor(n,i=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=i}elementStart(n,i){this.isApplyingToNode(i)&&this.matchTNode(n,i)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,i){this.elementStart(n,i)}embeddedTView(n,i){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,i),new Hg(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const i=this._declarationNodeIndex;let s=n.parent;for(;null!==s&&8&s.type&&s.index!==i;)s=s.parent;return i===(null!==s?s.index:-1)}return this._appliesToNextNode}matchTNode(n,i){const s=this.metadata.predicate;if(Array.isArray(s))for(let l=0;l<s.length;l++){const h=s[l];this.matchTNodeWithReadOption(n,i,MM(i,h)),this.matchTNodeWithReadOption(n,i,ea(i,n,h,!1,!1))}else s===J0?4&i.type&&this.matchTNodeWithReadOption(n,i,-1):this.matchTNodeWithReadOption(n,i,ea(i,n,s,!1,!1))}matchTNodeWithReadOption(n,i,s){if(null!==s){const l=this.metadata.read;if(null!==l)if(l===Ol||l===Wm||l===J0&&4&i.type)this.addMatch(i.index,-2);else{const h=ea(i,n,l,!1,!1);null!==h&&this.addMatch(i.index,h)}else this.addMatch(i.index,s)}}addMatch(n,i){null===this.matches?this.matches=[n,i]:this.matches.push(n,i)}}function MM(t,n){const i=t.localNames;if(null!==i)for(let s=0;s<i.length;s+=2)if(i[s]===n)return i[s+1];return null}function EM(t,n,i,s){return-1===i?function wM(t,n){return 11&t.type?Yd(t,n):4&t.type?qm(t,n):null}(n,t):-2===i?function xM(t,n,i){return i===Ol?Yd(n,t):i===J0?qm(n,t):i===Wm?vk(n,t):void 0}(t,n,s):Xo(t,t[un],i,n)}function Mk(t,n,i,s){const l=n[Io].queries[s];if(null===l.matches){const h=t.data,_=i.matches,E=[];for(let T=0;T<_.length;T+=2){const j=_[T];E.push(j<0?null:EM(n,h[j],_[T+1],i.metadata.read))}l.matches=E}return l.matches}function qg(t,n,i,s){const l=t.queries.getByIndex(i),h=l.matches;if(null!==h){const _=Mk(t,n,l,i);for(let E=0;E<h.length;E+=2){const T=h[E];if(T>0)s.push(_[E/2]);else{const j=h[E+1],J=n[-T];for(let xe=wr;xe<J.length;xe++){const Xe=J[xe];Xe[us]===Xe[Dr]&&qg(Xe[un],Xe,j,s)}if(null!==J[nr]){const xe=J[nr];for(let Xe=0;Xe<xe.length;Xe++){const lt=xe[Xe];qg(lt[un],lt,j,s)}}}}}return s}function wk(t){const n=Wt(),i=Hr(),s=Et();gt(s+1);const l=Tk(i,s);if(t.dirty&&function Fo(t){return 4==(4&t[On])}(n)===(2==(2&l.metadata.flags))){if(null===l.matches)t.reset([]);else{const h=l.crossesNgTemplate?qg(i,n,s,[]):Mk(i,n,l,s);t.reset(h,my),t.notifyOnChanges()}return!0}return!1}function Ek(t,n,i){const s=Hr();s.firstCreatePass&&(Ik(s,new bk(t,n,i),-1),2==(2&n)&&(s.staticViewQueries=!0)),Ak(s,Wt(),n)}function xk(t,n,i,s){const l=Hr();if(l.firstCreatePass){const h=Hi();Ik(l,new bk(n,i,s),h.index),function AM(t,n){const i=t.contentQueries||(t.contentQueries=[]);n!==(i.length?i[i.length-1]:-1)&&i.push(t.queries.length-1,n)}(l,t),2==(2&i)&&(l.staticContentQueries=!0)}Ak(l,Wt(),i)}function Ck(){return function CM(t,n){return t[Io].queries[n].queryList}(Wt(),Et())}function Ak(t,n,i){const s=new Hm(4==(4&i));(function By(t,n,i,s){const l=Jy(n);l.push(i),t.firstCreatePass&&eg(t).push(s,l.length-1)})(t,n,s,s.destroy),null===n[Io]&&(n[Io]=new zg),n[Io].queries.push(new jg(s))}function Ik(t,n,i){null===t.queries&&(t.queries=new Ug),t.queries.track(new Hg(n,i))}function Tk(t,n){return t.queries.getByIndex(n)}function Dk(t,n){return qm(t,n)}function $g(t){return!!Mi(t)}const Kk=new qt("Application Initializer");let Zg=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,s)=>{this.resolve=i,this.reject=s}),this.appInits=Te(Kk,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const i=[];for(const l of this.appInits){const h=l();if(g1(h))i.push(h);else if(Cu(h)){const _=new Promise((E,T)=>{h.subscribe({complete:E,error:T})});i.push(_)}}const s=()=>{this.done=!0,this.resolve()};Promise.all(i).then(()=>{s()}).catch(l=>{this.reject(l)}),0===i.length&&s(),this.initialized=!0}static{this.\u0275fac=function(s){return new(s||t)}}static{this.\u0275prov=an({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Qk=(()=>{class t{log(i){console.log(i)}warn(i){console.warn(i)}static{this.\u0275fac=function(s){return new(s||t)}}static{this.\u0275prov=an({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})();const Km=new qt("LocaleId",{providedIn:"root",factory:()=>Te(Km,rt.Optional|rt.SkipSelf)||function GM(){return typeof $localize<"u"&&$localize.locale||Ru}()}),KM=new qt("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let Zk=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new ie.t(!1)}add(){this.hasPendingTasks.next(!0);const i=this.taskId++;return this.pendingTasks.add(i),i}remove(i){this.pendingTasks.delete(i),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static{this.\u0275fac=function(s){return new(s||t)}}static{this.\u0275prov=an({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();class ZM{constructor(n,i){this.ngModuleFactory=n,this.componentFactories=i}}let XM=(()=>{class t{compileModuleSync(i){return new Lg(i)}compileModuleAsync(i){return Promise.resolve(this.compileModuleSync(i))}compileModuleAndAllComponentsSync(i){const s=this.compileModuleSync(i),h=Nl(Mi(i).declarations).reduce((_,E)=>{const T=En(E);return T&&_.push(new _p(T)),_},[]);return new ZM(s,h)}compileModuleAndAllComponentsAsync(i){return Promise.resolve(this.compileModuleAndAllComponentsSync(i))}clearCache(){}clearCacheFor(i){}getModuleId(i){}static{this.\u0275fac=function(s){return new(s||t)}}static{this.\u0275prov=an({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();const tb=new qt(""),nb=new qt("");let Jg,_5=(()=>{class t{constructor(i,s,l){this._ngZone=i,this.registry=s,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Jg||(function k5(t){Jg=t}(l),l.addToWindow(s)),this._watchAngularEvents(),i.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Zi.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let i=this._callbacks.pop();clearTimeout(i.timeoutId),i.doneCb(this._didWork)}this._didWork=!1});else{let i=this.getPendingTasks();this._callbacks=this._callbacks.filter(s=>!s.updateCb||!s.updateCb(i)||(clearTimeout(s.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(i=>({source:i.source,creationLocation:i.creationLocation,data:i.data})):[]}addCallback(i,s,l){let h=-1;s&&s>0&&(h=setTimeout(()=>{this._callbacks=this._callbacks.filter(_=>_.timeoutId!==h),i(this._didWork,this.getPendingTasks())},s)),this._callbacks.push({doneCb:i,timeoutId:h,updateCb:l})}whenStable(i,s,l){if(l&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(i,s,l),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(i){this.registry.registerApplication(i,this)}unregisterApplication(i){this.registry.unregisterApplication(i)}findProviders(i,s,l){return[]}static{this.\u0275fac=function(s){return new(s||t)(ye(Zi),ye(rb),ye(nb))}}static{this.\u0275prov=an({token:t,factory:t.\u0275fac})}}return t})(),rb=(()=>{class t{constructor(){this._applications=new Map}registerApplication(i,s){this._applications.set(i,s)}unregisterApplication(i){this._applications.delete(i)}unregisterAllApplications(){this._applications.clear()}getTestability(i){return this._applications.get(i)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(i,s=!0){return Jg?.findTestabilityInTree(this,i,s)??null}static{this.\u0275fac=function(s){return new(s||t)}}static{this.\u0275prov=an({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})(),yh=null;const ib=new qt("AllowMultipleToken"),ev=new qt("PlatformDestroyListeners"),tv=new qt("appBootstrapListener");class w5{constructor(n,i){this.name=n,this.token=i}}function ab(t,n,i=[]){const s=`Platform: ${n}`,l=new qt(s);return(h=[])=>{let _=nv();if(!_||_.injector.get(ib,!1)){const E=[...i,...h,{provide:l,useValue:!0}];t?t(E):function E5(t){if(yh&&!yh.get(ib,!1))throw new be(400,!1);(function ob(){!function $l(t){Hc=t}(()=>{throw new be(600,!1)})})(),yh=t;const n=t.get(lb);(function sb(t){t.get(Df,null)?.forEach(i=>i())})(t)}(function cb(t=[],n){return ba.create({name:n,providers:[{provide:tc,useValue:"platform"},{provide:ev,useValue:new Set([()=>yh=null])},...t]})}(E,s))}return function C5(t){const n=nv();if(!n)throw new be(401,!1);return n}()}}function nv(){return yh?.get(lb)??null}let lb=(()=>{class t{constructor(i){this._injector=i,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(i,s){const l=function A5(t="zone.js",n){return"noop"===t?new My:"zone.js"===t?new Zi(n):t}(s?.ngZone,function ub(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:s?.ngZoneEventCoalescing,runCoalescing:s?.ngZoneRunCoalescing}));return l.run(()=>{const h=function z4(t,n,i){return new Vg(t,n,i)}(i.moduleType,this.injector,function mb(t){return[{provide:Zi,useFactory:t},{provide:Hh,multi:!0,useFactory:()=>{const n=Te(T5,{optional:!0});return()=>n.initialize()}},{provide:fb,useFactory:I5},{provide:F2,useFactory:B2}]}(()=>l)),_=h.injector.get(Mu,null);return l.runOutsideAngular(()=>{const E=l.onError.subscribe({next:T=>{_.handleError(T)}});h.onDestroy(()=>{Zm(this._modules,h),E.unsubscribe()})}),function db(t,n,i){try{const s=i();return g1(s)?s.catch(l=>{throw n.runOutsideAngular(()=>t.handleError(l)),l}):s}catch(s){throw n.runOutsideAngular(()=>t.handleError(s)),s}}(_,l,()=>{const E=h.injector.get(Zg);return E.runInitializers(),E.donePromise.then(()=>(function y_(t){Tt(t,"Expected localeId to be defined"),"string"==typeof t&&(m_=t.toLowerCase().replace(/_/g,"-"))}(h.injector.get(Km,Ru)||Ru),this._moduleDoBootstrap(h),h))})})}bootstrapModule(i,s=[]){const l=hb({},s);return function b5(t,n,i){const s=new Lg(i);return Promise.resolve(s)}(0,0,i).then(h=>this.bootstrapModuleFactory(h,l))}_moduleDoBootstrap(i){const s=i.injector.get(Hp);if(i._bootstrapComponents.length>0)i._bootstrapComponents.forEach(l=>s.bootstrap(l));else{if(!i.instance.ngDoBootstrap)throw new be(-403,!1);i.instance.ngDoBootstrap(s)}this._modules.push(i)}onDestroy(i){this._destroyListeners.push(i)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new be(404,!1);this._modules.slice().forEach(s=>s.destroy()),this._destroyListeners.forEach(s=>s());const i=this._injector.get(ev,null);i&&(i.forEach(s=>s()),i.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static{this.\u0275fac=function(s){return new(s||t)(ye(ba))}}static{this.\u0275prov=an({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})();function hb(t,n){return Array.isArray(n)?n.reduce(hb,t):{...t,...n}}let Hp=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Te(fb),this.zoneIsStable=Te(F2),this.componentTypes=[],this.components=[],this.isStable=Te(Zk).hasPendingTasks.pipe((0,De.n)(i=>i?(0,se.of)(!1):this.zoneIsStable),(0,Ie.F)(),(0,Ne.u)()),this._injector=Te(Pc)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(i,s){const l=i instanceof Ff;if(!this._injector.get(Zg).done)throw!l&&Ji(i),new be(405,!1);let _;_=l?i:this._injector.get(pd).resolveComponentFactory(i),this.componentTypes.push(_.componentType);const E=function M5(t){return t.isBoundToModule}(_)?void 0:this._injector.get(S1),j=_.create(ba.NULL,[],s||_.selector,E),J=j.location.nativeElement,xe=j.injector.get(tb,null);return xe?.registerApplication(J),j.onDestroy(()=>{this.detachView(j.hostView),Zm(this.components,j),xe?.unregisterApplication(J)}),this._loadComponent(j),j}tick(){if(this._runningTick)throw new be(101,!1);try{this._runningTick=!0;for(let i of this._views)i.detectChanges()}catch(i){this.internalErrorHandler(i)}finally{this._runningTick=!1}}attachView(i){const s=i;this._views.push(s),s.attachToAppRef(this)}detachView(i){const s=i;Zm(this._views,s),s.detachFromAppRef()}_loadComponent(i){this.attachView(i.hostView),this.tick(),this.components.push(i);const s=this._injector.get(tv,[]);s.push(...this._bootstrapListeners),s.forEach(l=>l(i))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(i=>i()),this._views.slice().forEach(i=>i.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(i){return this._destroyListeners.push(i),()=>Zm(this._destroyListeners,i)}destroy(){if(this._destroyed)throw new be(406,!1);const i=this._injector;i.destroy&&!i.destroyed&&i.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(s){return new(s||t)}}static{this.\u0275prov=an({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function Zm(t,n){const i=t.indexOf(n);i>-1&&t.splice(i,1)}const fb=new qt("",{providedIn:"root",factory:()=>Te(Mu).handleError.bind(void 0)});function I5(){const t=Te(Zi),n=Te(Mu);return i=>t.runOutsideAngular(()=>n.handleError(i))}let T5=(()=>{class t{constructor(){this.zone=Te(Zi),this.applicationRef=Te(Hp)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(s){return new(s||t)}}static{this.\u0275prov=an({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function S5(){return!1}let R5=(()=>{class t{static{this.__NG_ELEMENT_ID__=P5}}return t})();function P5(t){return function O5(t,n,i){if(ro(t)&&!i){const s=yo(t.index,n);return new vp(s,s)}return 47&t.type?new vp(n[Sr],n):null}(Hi(),Wt(),16==(16&t))}class _b{constructor(){}supports(n){return s0(n)}create(n){return new B5(n)}}const F5=(t,n)=>n;class B5{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||F5}forEachItem(n){let i;for(i=this._itHead;null!==i;i=i._next)n(i)}forEachOperation(n){let i=this._itHead,s=this._removalsHead,l=0,h=null;for(;i||s;){const _=!s||i&&i.currentIndex<bb(s,l,h)?i:s,E=bb(_,l,h),T=_.currentIndex;if(_===s)l--,s=s._nextRemoved;else if(i=i._next,null==_.previousIndex)l++;else{h||(h=[]);const j=E-l,J=T-l;if(j!=J){for(let Xe=0;Xe<j;Xe++){const lt=Xe<h.length?h[Xe]:h[Xe]=0,jt=lt+Xe;J<=jt&&jt<j&&(h[Xe]=lt+1)}h[_.previousIndex]=J-j}}E!==T&&n(_,E,T)}}forEachPreviousItem(n){let i;for(i=this._previousItHead;null!==i;i=i._nextPrevious)n(i)}forEachAddedItem(n){let i;for(i=this._additionsHead;null!==i;i=i._nextAdded)n(i)}forEachMovedItem(n){let i;for(i=this._movesHead;null!==i;i=i._nextMoved)n(i)}forEachRemovedItem(n){let i;for(i=this._removalsHead;null!==i;i=i._nextRemoved)n(i)}forEachIdentityChange(n){let i;for(i=this._identityChangesHead;null!==i;i=i._nextIdentityChange)n(i)}diff(n){if(null==n&&(n=[]),!s0(n))throw new be(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let l,h,_,i=this._itHead,s=!1;if(Array.isArray(n)){this.length=n.length;for(let E=0;E<this.length;E++)h=n[E],_=this._trackByFn(E,h),null!==i&&Object.is(i.trackById,_)?(s&&(i=this._verifyReinsertion(i,h,_,E)),Object.is(i.item,h)||this._addIdentityChange(i,h)):(i=this._mismatch(i,h,_,E),s=!0),i=i._next}else l=0,function p_(t,n){if(Array.isArray(t))for(let i=0;i<t.length;i++)n(t[i]);else{const i=t[Symbol.iterator]();let s;for(;!(s=i.next()).done;)n(s.value)}}(n,E=>{_=this._trackByFn(l,E),null!==i&&Object.is(i.trackById,_)?(s&&(i=this._verifyReinsertion(i,E,_,l)),Object.is(i.item,E)||this._addIdentityChange(i,E)):(i=this._mismatch(i,E,_,l),s=!0),i=i._next,l++}),this.length=l;return this._truncate(i),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,i,s,l){let h;return null===n?h=this._itTail:(h=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(s,null))?(Object.is(n.item,i)||this._addIdentityChange(n,i),this._reinsertAfter(n,h,l)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(s,l))?(Object.is(n.item,i)||this._addIdentityChange(n,i),this._moveAfter(n,h,l)):n=this._addAfter(new j5(i,s),h,l),n}_verifyReinsertion(n,i,s,l){let h=null===this._unlinkedRecords?null:this._unlinkedRecords.get(s,null);return null!==h?n=this._reinsertAfter(h,n._prev,l):n.currentIndex!=l&&(n.currentIndex=l,this._addToMoves(n,l)),n}_truncate(n){for(;null!==n;){const i=n._next;this._addToRemovals(this._unlink(n)),n=i}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,i,s){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const l=n._prevRemoved,h=n._nextRemoved;return null===l?this._removalsHead=h:l._nextRemoved=h,null===h?this._removalsTail=l:h._prevRemoved=l,this._insertAfter(n,i,s),this._addToMoves(n,s),n}_moveAfter(n,i,s){return this._unlink(n),this._insertAfter(n,i,s),this._addToMoves(n,s),n}_addAfter(n,i,s){return this._insertAfter(n,i,s),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,i,s){const l=null===i?this._itHead:i._next;return n._next=l,n._prev=i,null===l?this._itTail=n:l._prev=n,null===i?this._itHead=n:i._next=n,null===this._linkedRecords&&(this._linkedRecords=new kb),this._linkedRecords.put(n),n.currentIndex=s,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const i=n._prev,s=n._next;return null===i?this._itHead=s:i._next=s,null===s?this._itTail=i:s._prev=i,n}_addToMoves(n,i){return n.previousIndex===i||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new kb),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,i){return n.item=i,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class j5{constructor(n,i){this.item=n,this.trackById=i,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class z5{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,i){let s;for(s=this._head;null!==s;s=s._nextDup)if((null===i||i<=s.currentIndex)&&Object.is(s.trackById,n))return s;return null}remove(n){const i=n._prevDup,s=n._nextDup;return null===i?this._head=s:i._nextDup=s,null===s?this._tail=i:s._prevDup=i,null===this._head}}class kb{constructor(){this.map=new Map}put(n){const i=n.trackById;let s=this.map.get(i);s||(s=new z5,this.map.set(i,s)),s.add(n)}get(n,i){const l=this.map.get(n);return l?l.get(n,i):null}remove(n){const i=n.trackById;return this.map.get(i).remove(n)&&this.map.delete(i),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function bb(t,n,i){const s=t.previousIndex;if(null===s)return s;let l=0;return i&&s<i.length&&(l=i[s]),s+n+l}class Mb{constructor(){}supports(n){return n instanceof Map||om(n)}create(){return new U5}}class U5{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(n){let i;for(i=this._mapHead;null!==i;i=i._next)n(i)}forEachPreviousItem(n){let i;for(i=this._previousMapHead;null!==i;i=i._nextPrevious)n(i)}forEachChangedItem(n){let i;for(i=this._changesHead;null!==i;i=i._nextChanged)n(i)}forEachAddedItem(n){let i;for(i=this._additionsHead;null!==i;i=i._nextAdded)n(i)}forEachRemovedItem(n){let i;for(i=this._removalsHead;null!==i;i=i._nextRemoved)n(i)}diff(n){if(n){if(!(n instanceof Map||om(n)))throw new be(900,!1)}else n=new Map;return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let i=this._mapHead;if(this._appendAfter=null,this._forEach(n,(s,l)=>{if(i&&i.key===l)this._maybeAddToChanges(i,s),this._appendAfter=i,i=i._next;else{const h=this._getOrCreateRecordForKey(l,s);i=this._insertBeforeOrAppend(i,h)}}),i){i._prev&&(i._prev._next=null),this._removalsHead=i;for(let s=i;null!==s;s=s._nextRemoved)s===this._mapHead&&(this._mapHead=null),this._records.delete(s.key),s._nextRemoved=s._next,s.previousValue=s.currentValue,s.currentValue=null,s._prev=null,s._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,i){if(n){const s=n._prev;return i._next=n,i._prev=s,n._prev=i,s&&(s._next=i),n===this._mapHead&&(this._mapHead=i),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=i,i._prev=this._appendAfter):this._mapHead=i,this._appendAfter=i,null}_getOrCreateRecordForKey(n,i){if(this._records.has(n)){const l=this._records.get(n);this._maybeAddToChanges(l,i);const h=l._prev,_=l._next;return h&&(h._next=_),_&&(_._prev=h),l._next=null,l._prev=null,l}const s=new H5(n);return this._records.set(n,s),s.currentValue=i,this._addToAdditions(s),s}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;null!==n;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;null!=n;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,i){Object.is(i,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=i,this._addToChanges(n))}_addToAdditions(n){null===this._additionsHead?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){null===this._changesHead?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,i){n instanceof Map?n.forEach(i):Object.keys(n).forEach(s=>i(n[s],s))}}class H5{constructor(n){this.key=n,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function wb(){return new cv([new _b])}let cv=(()=>{class t{static{this.\u0275prov=an({token:t,providedIn:"root",factory:wb})}constructor(i){this.factories=i}static create(i,s){if(null!=s){const l=s.factories.slice();i=i.concat(l)}return new t(i)}static extend(i){return{provide:t,useFactory:s=>t.create(i,s||wb()),deps:[[t,new ls,new La]]}}find(i){const s=this.factories.find(l=>l.supports(i));if(null!=s)return s;throw new be(901,!1)}}return t})();function Eb(){return new lv([new Mb])}let lv=(()=>{class t{static{this.\u0275prov=an({token:t,providedIn:"root",factory:Eb})}constructor(i){this.factories=i}static create(i,s){if(s){const l=s.factories.slice();i=i.concat(l)}return new t(i)}static extend(i){return{provide:t,useFactory:s=>t.create(i,s||Eb()),deps:[[t,new ls,new La]]}}find(i){const s=this.factories.find(l=>l.supports(i));if(s)return s;throw new be(901,!1)}}return t})();const W5=ab(null,"core",[]);let G5=(()=>{class t{constructor(i){}static{this.\u0275fac=function(s){return new(s||t)(ye(Hp))}}static{this.\u0275mod=Hs({type:t})}static{this.\u0275inj=Nn({})}}return t})();function c3(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}function u3(t){const n=En(t);if(!n)return null;const i=new _p(n);return{get selector(){return i.selector},get type(){return i.componentType},get inputs(){return i.inputs},get outputs(){return i.outputs},get ngContentSelectors(){return i.ngContentSelectors},get isStandalone(){return n.standalone},get isSignal(){return n.signals}}}},7440:(nn,Je,F)=>{F.d(Je,{MW:()=>qe,Wp:()=>Nt,XU:()=>he,gL:()=>ie});var y=F(2214),G=F(7705),_e=F(5407);class he{constructor(We){return We}}class ie{constructor(){return(0,y.Dk)()}}const De=new G.nKC("angularfire2._apps"),Ie={provide:he,useFactory:function Ne(be){return be&&1===be.length?be[0]:new he((0,y.Sx)())},deps:[[new G.Xx1,De]]},ne={provide:ie,deps:[[new G.Xx1,De]]};function me(be){return(We,je)=>{const Qe=We.runOutsideAngular(()=>be(je));return new he(Qe)}}let Be=(()=>{class be{constructor(je){(0,y.KO)("angularfire",_e.xv.full,"core"),(0,y.KO)("angularfire",_e.xv.full,"app"),(0,y.KO)("angular",G.xvI.full,je.toString())}static \u0275fac=function(Qe){return new(Qe||be)(G.KVO(G.Agw))};static \u0275mod=G.$C({type:be});static \u0275inj=G.G2t({providers:[Ie,ne]})}return be})();function qe(be,...We){return{ngModule:Be,providers:[{provide:De,useFactory:me(be),multi:!0,deps:[G.SKi,G.zZn,_e.u0,...We]}]}}const Nt=(0,_e.S3)(y.Wp,!0)},4665:(nn,Je,F)=>{F.d(Je,{DF:()=>hu});var y=F(5407),ie=(F(7705),F(7440),F(2214),F(467)),se=F(7852),Ne=F(1076),De=F(8041),Ie=F(1635),ne=F(1362);const dn=function Nt(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Zt=new Ne.FA("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),We=new De.Vy("@firebase/auth");function Qe(w,...d){We.logLevel<=De.$b.ERROR&&We.error(`Auth (${se.MF}): ${w}`,...d)}function ft(w,...d){throw Ln(w,...d)}function Ct(w,...d){return Ln(w,...d)}function Yt(w,d,v){const I=Object.assign(Object.assign({},dn()),{[d]:v});return new Ne.FA("auth","Firebase",I).create(d,{appName:w.name})}function fn(w){return Yt(w,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Ln(w,...d){if("string"!=typeof w){const v=d[0],I=[...d.slice(1)];return I[0]&&(I[0].appName=w.name),w._errorFactory.create(v,...I)}return Zt.create(w,...d)}function Bt(w,d,...v){if(!w)throw Ln(d,...v)}function mt(w){const d="INTERNAL ASSERTION FAILED: "+w;throw Qe(d),new Error(d)}function zt(w,d){w||mt(d)}function Vt(){var w;return typeof self<"u"&&(null===(w=self.location)||void 0===w?void 0:w.protocol)||null}class ke{constructor(d,v){this.shortDelay=d,this.longDelay=v,zt(v>d,"Short delay should be less than long delay!"),this.isMobile=(0,Ne.jZ)()||(0,Ne.lV)()}get(){return function kt(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function ln(){return"http:"===Vt()||"https:"===Vt()}()||(0,Ne.sr)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}class Oe{static initialize(d,v,I){this.fetchImpl=d,v&&(this.headersImpl=v),I&&(this.responseImpl=I)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void mt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void mt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void mt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Tt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},yt=new ke(3e4,6e4);function Dt(w,d){return w.tenantId&&!d.tenantId?Object.assign(Object.assign({},d),{tenantId:w.tenantId}):d}function vn(w,d,v,I){return tr.apply(this,arguments)}function tr(){return(tr=(0,ie.A)(function*(w,d,v,I,Z={}){return an(w,Z,(0,ie.A)(function*(){let ce={},tt={};I&&("GET"===d?tt=I:ce={body:JSON.stringify(I)});const Mt=(0,Ne.Am)(Object.assign({key:w.config.apiKey},tt)).slice(1),Kt=yield w._getAdditionalHeaders();Kt["Content-Type"]="application/json",w.languageCode&&(Kt["X-Firebase-Locale"]=w.languageCode);const Sn=Object.assign({method:d,headers:Kt},ce);return(0,Ne.c1)()||(Sn.referrerPolicy="no-referrer"),Oe.fetch()(Fn(w,w.config.apiHost,v,Mt),Sn)}))})).apply(this,arguments)}function an(w,d,v){return In.apply(this,arguments)}function In(){return(In=(0,ie.A)(function*(w,d,v){w._canInitEmulator=!1;const I=Object.assign(Object.assign({},Tt),d);try{const Z=new lr(w),ce=yield Promise.race([v(),Z.promise]);Z.clearNetworkTimeout();const tt=yield ce.json();if("needConfirmation"in tt)throw hn(w,"account-exists-with-different-credential",tt);if(ce.ok&&!("errorMessage"in tt))return tt;{const Mt=ce.ok?tt.errorMessage:tt.error.message,[Kt,Sn]=Mt.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Kt)throw hn(w,"credential-already-in-use",tt);if("EMAIL_EXISTS"===Kt)throw hn(w,"email-already-in-use",tt);if("USER_DISABLED"===Kt)throw hn(w,"user-disabled",tt);const or=I[Kt]||Kt.toLowerCase().replace(/[_\s]+/g,"-");if(Sn)throw Yt(w,or,Sn);ft(w,or)}}catch(Z){if(Z instanceof Ne.g)throw Z;ft(w,"network-request-failed",{message:String(Z)})}})).apply(this,arguments)}function Fn(w,d,v,I){const Z=`${d}${v}?${I}`;return w.config.emulator?function ue(w,d){zt(w.emulator,"Emulator should always be set here");const{url:v}=w.emulator;return d?`${v}${d.startsWith("/")?d.slice(1):d}`:v}(w.config,Z):`${w.config.apiScheme}://${Z}`}class lr{constructor(d){this.auth=d,this.timer=null,this.promise=new Promise((v,I)=>{this.timer=setTimeout(()=>I(Ct(this.auth,"network-request-failed")),yt.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function hn(w,d,v){const I={appName:w.name};v.email&&(I.email=v.email),v.phoneNumber&&(I.phoneNumber=v.phoneNumber);const Z=Ct(w,d,I);return Z.customData._tokenResponse=v,Z}function de(){return(de=(0,ie.A)(function*(w,d){return vn(w,"POST","/v1/accounts:delete",d)})).apply(this,arguments)}function Ut(w,d){return zn.apply(this,arguments)}function zn(){return(zn=(0,ie.A)(function*(w,d){return vn(w,"POST","/v1/accounts:lookup",d)})).apply(this,arguments)}function qt(w){if(w)try{const d=new Date(Number(w));if(!isNaN(d.getTime()))return d.toUTCString()}catch{}}function yi(){return(yi=(0,ie.A)(function*(w,d=!1){const v=(0,Ne.Ku)(w),I=yield v.getIdToken(d),Z=sr(I);Bt(Z&&Z.exp&&Z.auth_time&&Z.iat,v.auth,"internal-error");const ce="object"==typeof Z.firebase?Z.firebase:void 0,tt=ce?.sign_in_provider;return{claims:Z,token:I,authTime:qt(Wr(Z.auth_time)),issuedAtTime:qt(Wr(Z.iat)),expirationTime:qt(Wr(Z.exp)),signInProvider:tt||null,signInSecondFactor:ce?.sign_in_second_factor||null}})).apply(this,arguments)}function Wr(w){return 1e3*Number(w)}function sr(w){const[d,v,I]=w.split(".");if(void 0===d||void 0===v||void 0===I)return Qe("JWT malformed, contained fewer than 3 sections"),null;try{const Z=(0,Ne.u)(v);return Z?JSON.parse(Z):(Qe("Failed to decode base64 JWT payload"),null)}catch(Z){return Qe("Caught error parsing JWT payload as JSON",Z?.toString()),null}}function Jr(w){const d=sr(w);return Bt(d,"internal-error"),Bt(typeof d.exp<"u","internal-error"),Bt(typeof d.iat<"u","internal-error"),Number(d.exp)-Number(d.iat)}function Kn(w,d){return Or.apply(this,arguments)}function Or(){return(Or=(0,ie.A)(function*(w,d,v=!1){if(v)return d;try{return yield d}catch(I){throw I instanceof Ne.g&&function Xr({code:w}){return"auth/user-disabled"===w||"auth/user-token-expired"===w}(I)&&w.auth.currentUser===w&&(yield w.auth.signOut()),I}})).apply(this,arguments)}class ei{constructor(d){this.user=d,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(d){var v;if(d){const I=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),I}{this.errorBackoff=3e4;const Z=(null!==(v=this.user.stsTokenManager.expirationTime)&&void 0!==v?v:0)-Date.now()-3e5;return Math.max(0,Z)}}schedule(d=!1){var v=this;if(!this.isRunning)return;const I=this.getInterval(d);this.timerId=setTimeout((0,ie.A)(function*(){yield v.iteration()}),I)}iteration(){var d=this;return(0,ie.A)(function*(){try{yield d.user.getIdToken(!0)}catch(v){return void("auth/network-request-failed"===v?.code&&d.schedule(!0))}d.schedule()})()}}class et{constructor(d,v){this.createdAt=d,this.lastLoginAt=v,this._initializeTime()}_initializeTime(){this.lastSignInTime=qt(this.lastLoginAt),this.creationTime=qt(this.createdAt)}_copy(d){this.createdAt=d.createdAt,this.lastLoginAt=d.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Lr(w){return pr.apply(this,arguments)}function pr(){return(pr=(0,ie.A)(function*(w){var d;const v=w.auth,I=yield w.getIdToken(),Z=yield Kn(w,Ut(v,{idToken:I}));Bt(Z?.users.length,v,"internal-error");const ce=Z.users[0];w._notifyReloadListener(ce);const tt=null!==(d=ce.providerUserInfo)&&void 0!==d&&d.length?P(ce.providerUserInfo):[],Mt=function pe(w,d){return[...w.filter(I=>!d.some(Z=>Z.providerId===I.providerId)),...d]}(w.providerData,tt),or=!!w.isAnonymous&&!(w.email&&ce.passwordHash||Mt?.length),hr={uid:ce.localId,displayName:ce.displayName||null,photoURL:ce.photoUrl||null,email:ce.email||null,emailVerified:ce.emailVerified||!1,phoneNumber:ce.phoneNumber||null,tenantId:ce.tenantId||null,providerData:Mt,metadata:new et(ce.createdAt,ce.lastLoginAt),isAnonymous:or};Object.assign(w,hr)})).apply(this,arguments)}function St(){return(St=(0,ie.A)(function*(w){const d=(0,Ne.Ku)(w);yield Lr(d),yield d.auth._persistUserIfCurrent(d),d.auth._notifyListenersIfCurrent(d)})).apply(this,arguments)}function P(w){return w.map(d=>{var{providerId:v}=d,I=(0,Ie.Tt)(d,["providerId"]);return{providerId:v,uid:I.rawId||"",displayName:I.displayName||null,email:I.email||null,phoneNumber:I.phoneNumber||null,photoURL:I.photoUrl||null}})}function U(){return(U=(0,ie.A)(function*(w,d){const v=yield an(w,{},(0,ie.A)(function*(){const I=(0,Ne.Am)({grant_type:"refresh_token",refresh_token:d}).slice(1),{tokenApiHost:Z,apiKey:ce}=w.config,tt=Fn(w,Z,"/v1/token",`key=${ce}`),Mt=yield w._getAdditionalHeaders();return Mt["Content-Type"]="application/x-www-form-urlencoded",Oe.fetch()(tt,{method:"POST",headers:Mt,body:I})}));return{accessToken:v.access_token,expiresIn:v.expires_in,refreshToken:v.refresh_token}})).apply(this,arguments)}function Se(){return(Se=(0,ie.A)(function*(w,d){return vn(w,"POST","/v2/accounts:revokeToken",Dt(w,d))})).apply(this,arguments)}class Me{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(d){Bt(d.idToken,"internal-error"),Bt(typeof d.idToken<"u","internal-error"),Bt(typeof d.refreshToken<"u","internal-error");const v="expiresIn"in d&&typeof d.expiresIn<"u"?Number(d.expiresIn):Jr(d.idToken);this.updateTokensAndExpiration(d.idToken,d.refreshToken,v)}updateFromIdToken(d){Bt(0!==d.length,"internal-error");const v=Jr(d);this.updateTokensAndExpiration(d,null,v)}getToken(d){var v=this;return(0,ie.A)(function*(I,Z=!1){return Z||!v.accessToken||v.isExpired?(Bt(v.refreshToken,I,"user-token-expired"),v.refreshToken?(yield v.refresh(I,v.refreshToken),v.accessToken):null):v.accessToken}).apply(this,arguments)}clearRefreshToken(){this.refreshToken=null}refresh(d,v){var I=this;return(0,ie.A)(function*(){const{accessToken:Z,refreshToken:ce,expiresIn:tt}=yield function R(w,d){return U.apply(this,arguments)}(d,v);I.updateTokensAndExpiration(Z,ce,Number(tt))})()}updateTokensAndExpiration(d,v,I){this.refreshToken=v||null,this.accessToken=d||null,this.expirationTime=Date.now()+1e3*I}static fromJSON(d,v){const{refreshToken:I,accessToken:Z,expirationTime:ce}=v,tt=new Me;return I&&(Bt("string"==typeof I,"internal-error",{appName:d}),tt.refreshToken=I),Z&&(Bt("string"==typeof Z,"internal-error",{appName:d}),tt.accessToken=Z),ce&&(Bt("number"==typeof ce,"internal-error",{appName:d}),tt.expirationTime=ce),tt}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(d){this.accessToken=d.accessToken,this.refreshToken=d.refreshToken,this.expirationTime=d.expirationTime}_clone(){return Object.assign(new Me,this.toJSON())}_performRefresh(){return mt("not implemented")}}function ye(w,d){Bt("string"==typeof w||typeof w>"u","internal-error",{appName:d})}class re{constructor(d){var{uid:v,auth:I,stsTokenManager:Z}=d,ce=(0,Ie.Tt)(d,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ei(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=v,this.auth=I,this.stsTokenManager=Z,this.accessToken=Z.accessToken,this.displayName=ce.displayName||null,this.email=ce.email||null,this.emailVerified=ce.emailVerified||!1,this.phoneNumber=ce.phoneNumber||null,this.photoURL=ce.photoURL||null,this.isAnonymous=ce.isAnonymous||!1,this.tenantId=ce.tenantId||null,this.providerData=ce.providerData?[...ce.providerData]:[],this.metadata=new et(ce.createdAt||void 0,ce.lastLoginAt||void 0)}getIdToken(d){var v=this;return(0,ie.A)(function*(){const I=yield Kn(v,v.stsTokenManager.getToken(v.auth,d));return Bt(I,v.auth,"internal-error"),v.accessToken!==I&&(v.accessToken=I,yield v.auth._persistUserIfCurrent(v),v.auth._notifyListenersIfCurrent(v)),I})()}getIdTokenResult(d){return function yn(w){return yi.apply(this,arguments)}(this,d)}reload(){return function gi(w){return St.apply(this,arguments)}(this)}_assign(d){this!==d&&(Bt(this.uid===d.uid,this.auth,"internal-error"),this.displayName=d.displayName,this.photoURL=d.photoURL,this.email=d.email,this.emailVerified=d.emailVerified,this.phoneNumber=d.phoneNumber,this.isAnonymous=d.isAnonymous,this.tenantId=d.tenantId,this.providerData=d.providerData.map(v=>Object.assign({},v)),this.metadata._copy(d.metadata),this.stsTokenManager._assign(d.stsTokenManager))}_clone(d){const v=new re(Object.assign(Object.assign({},this),{auth:d,stsTokenManager:this.stsTokenManager._clone()}));return v.metadata._copy(this.metadata),v}_onReload(d){Bt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=d,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(d){this.reloadListener?this.reloadListener(d):this.reloadUserInfo=d}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(d){var v=this;return(0,ie.A)(function*(I,Z=!1){let ce=!1;I.idToken&&I.idToken!==v.stsTokenManager.accessToken&&(v.stsTokenManager.updateFromServerResponse(I),ce=!0),Z&&(yield Lr(v)),yield v.auth._persistUserIfCurrent(v),ce&&v.auth._notifyListenersIfCurrent(v)}).apply(this,arguments)}delete(){var d=this;return(0,ie.A)(function*(){if((0,se.xZ)(d.auth.app))return Promise.reject(fn(d.auth));const v=yield d.getIdToken();return yield Kn(d,function $e(w,d){return de.apply(this,arguments)}(d.auth,{idToken:v})),d.stsTokenManager.clearRefreshToken(),d.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(d=>Object.assign({},d)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(d,v){var I,Z,ce,tt,Mt,Kt,Sn,or;const hr=null!==(I=v.displayName)&&void 0!==I?I:void 0,Ri=null!==(Z=v.email)&&void 0!==Z?Z:void 0,ka=null!==(ce=v.phoneNumber)&&void 0!==ce?ce:void 0,Rc=null!==(tt=v.photoURL)&&void 0!==tt?tt:void 0,Ya=null!==(Mt=v.tenantId)&&void 0!==Mt?Mt:void 0,Al=null!==(Kt=v._redirectEventId)&&void 0!==Kt?Kt:void 0,zd=null!==(Sn=v.createdAt)&&void 0!==Sn?Sn:void 0,Rh=null!==(or=v.lastLoginAt)&&void 0!==or?or:void 0,{uid:Ph,emailVerified:id,isAnonymous:Ud,providerData:Ja,stsTokenManager:Hd}=v;Bt(Ph&&Hd,d,"internal-error");const U1=Me.fromJSON(this.name,Hd);Bt("string"==typeof Ph,d,"internal-error"),ye(hr,d.name),ye(Ri,d.name),Bt("boolean"==typeof id,d,"internal-error"),Bt("boolean"==typeof Ud,d,"internal-error"),ye(ka,d.name),ye(Rc,d.name),ye(Ya,d.name),ye(Al,d.name),ye(zd,d.name),ye(Rh,d.name);const Oh=new re({uid:Ph,auth:d,email:Ri,emailVerified:id,displayName:hr,isAnonymous:Ud,photoURL:Rc,phoneNumber:ka,tenantId:Ya,stsTokenManager:U1,createdAt:zd,lastLoginAt:Rh});return Ja&&Array.isArray(Ja)&&(Oh.providerData=Ja.map(r2=>Object.assign({},r2))),Al&&(Oh._redirectEventId=Al),Oh}static _fromIdTokenResponse(d,v){return(0,ie.A)(function*(I,Z,ce=!1){const tt=new Me;tt.updateFromServerResponse(Z);const Mt=new re({uid:Z.localId,auth:I,stsTokenManager:tt,isAnonymous:ce});return yield Lr(Mt),Mt}).apply(this,arguments)}static _fromGetAccountInfoResponse(d,v,I){return(0,ie.A)(function*(){const Z=v.users[0];Bt(void 0!==Z.localId,"internal-error");const ce=void 0!==Z.providerUserInfo?P(Z.providerUserInfo):[],tt=!(Z.email&&Z.passwordHash||ce?.length),Mt=new Me;Mt.updateFromIdToken(I);const Kt=new re({uid:Z.localId,auth:d,stsTokenManager:Mt,isAnonymous:tt}),Sn={uid:Z.localId,displayName:Z.displayName||null,photoURL:Z.photoUrl||null,email:Z.email||null,emailVerified:Z.emailVerified||!1,phoneNumber:Z.phoneNumber||null,tenantId:Z.tenantId||null,providerData:ce,metadata:new et(Z.createdAt,Z.lastLoginAt),isAnonymous:!(Z.email&&Z.passwordHash||ce?.length)};return Object.assign(Kt,Sn),Kt})()}}const Te=new Map;function st(w){zt(w instanceof Function,"Expected a class definition");let d=Te.get(w);return d?(zt(d instanceof w,"Instance stored in cache mismatched with class"),d):(d=new w,Te.set(w,d),d)}const Ee=(()=>{class w{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,ie.A)(function*(){return!0})()}_set(v,I){var Z=this;return(0,ie.A)(function*(){Z.storage[v]=I})()}_get(v){var I=this;return(0,ie.A)(function*(){const Z=I.storage[v];return void 0===Z?null:Z})()}_remove(v){var I=this;return(0,ie.A)(function*(){delete I.storage[v]})()}_addListener(v,I){}_removeListener(v,I){}}return w.type="NONE",w})();function we(w,d,v){return`firebase:${w}:${d}:${v}`}class Le{constructor(d,v,I){this.persistence=d,this.auth=v,this.userKey=I;const{config:Z,name:ce}=this.auth;this.fullUserKey=we(this.userKey,Z.apiKey,ce),this.fullPersistenceKey=we("persistence",Z.apiKey,ce),this.boundEventHandler=v._onStorageEvent.bind(v),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(d){return this.persistence._set(this.fullUserKey,d.toJSON())}getCurrentUser(){var d=this;return(0,ie.A)(function*(){const v=yield d.persistence._get(d.fullUserKey);return v?re._fromJSON(d.auth,v):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(d){var v=this;return(0,ie.A)(function*(){if(v.persistence===d)return;const I=yield v.getCurrentUser();return yield v.removeCurrentUser(),v.persistence=d,I?v.setCurrentUser(I):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(d,v){return(0,ie.A)(function*(I,Z,ce="authUser"){if(!Z.length)return new Le(st(Ee),I,ce);const tt=(yield Promise.all(Z.map(function(){var hr=(0,ie.A)(function*(Ri){if(yield Ri._isAvailable())return Ri});return function(Ri){return hr.apply(this,arguments)}}()))).filter(hr=>hr);let Mt=tt[0]||st(Ee);const Kt=we(ce,I.config.apiKey,I.name);let Sn=null;for(const hr of Z)try{const Ri=yield hr._get(Kt);if(Ri){const ka=re._fromJSON(I,Ri);hr!==Mt&&(Sn=ka),Mt=hr;break}}catch{}const or=tt.filter(hr=>hr._shouldAllowMigration);return Mt._shouldAllowMigration&&or.length?(Mt=or[0],Sn&&(yield Mt._set(Kt,Sn.toJSON())),yield Promise.all(Z.map(function(){var hr=(0,ie.A)(function*(Ri){if(Ri!==Mt)try{yield Ri._remove(Kt)}catch{}});return function(Ri){return hr.apply(this,arguments)}}())),new Le(Mt,I,ce)):new Le(Mt,I,ce)}).apply(this,arguments)}}function At(w){const d=w.toLowerCase();if(d.includes("opera/")||d.includes("opr/")||d.includes("opios/"))return"Opera";if(function Un(w=(0,Ne.ZQ)()){return/iemobile/i.test(w)}(d))return"IEMobile";if(d.includes("msie")||d.includes("trident/"))return"IE";if(d.includes("edge/"))return"Edge";if(function Qt(w=(0,Ne.ZQ)()){return/firefox\//i.test(w)}(d))return"Firefox";if(d.includes("silk/"))return"Silk";if(function Yr(w=(0,Ne.ZQ)()){return/blackberry/i.test(w)}(d))return"Blackberry";if(function vt(w=(0,Ne.ZQ)()){return/webos/i.test(w)}(d))return"Webos";if(function sn(w=(0,Ne.ZQ)()){const d=w.toLowerCase();return d.includes("safari/")&&!d.includes("chrome/")&&!d.includes("crios/")&&!d.includes("android")}(d))return"Safari";if((d.includes("chrome/")||function tn(w=(0,Ne.ZQ)()){return/crios\//i.test(w)}(d))&&!d.includes("edge/"))return"Chrome";if(function pn(w=(0,Ne.ZQ)()){return/android/i.test(w)}(d))return"Android";{const I=w.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===I?.length)return I[1]}return"Other"}function wn(w,d=[]){let v;switch(w){case"Browser":v=At((0,Ne.ZQ)());break;case"Worker":v=`${At((0,Ne.ZQ)())}-${w}`;break;default:v=w}const I=d.length?d.join(","):"FirebaseCore-web";return`${v}/JsCore/${se.MF}/${I}`}class vr{constructor(d){this.auth=d,this.queue=[]}pushCallback(d,v){const I=ce=>new Promise((tt,Mt)=>{try{tt(d(ce))}catch(Kt){Mt(Kt)}});I.onAbort=v,this.queue.push(I);const Z=this.queue.length-1;return()=>{this.queue[Z]=()=>Promise.resolve()}}runMiddleware(d){var v=this;return(0,ie.A)(function*(){if(v.auth.currentUser===d)return;const I=[];try{for(const Z of v.queue)yield Z(d),Z.onAbort&&I.push(Z.onAbort)}catch(Z){I.reverse();for(const ce of I)try{ce()}catch{}throw v.auth._errorFactory.create("login-blocked",{originalMessage:Z?.message})}})()}}function fr(){return(fr=(0,ie.A)(function*(w,d={}){return vn(w,"GET","/v2/passwordPolicy",Dt(w,d))})).apply(this,arguments)}class li{constructor(d){var v,I,Z,ce;const tt=d.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(v=tt.minPasswordLength)&&void 0!==v?v:6,tt.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=tt.maxPasswordLength),void 0!==tt.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=tt.containsLowercaseCharacter),void 0!==tt.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=tt.containsUppercaseCharacter),void 0!==tt.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=tt.containsNumericCharacter),void 0!==tt.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=tt.containsNonAlphanumericCharacter),this.enforcementState=d.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(Z=null===(I=d.allowedNonAlphanumericCharacters)||void 0===I?void 0:I.join(""))&&void 0!==Z?Z:"",this.forceUpgradeOnSignin=null!==(ce=d.forceUpgradeOnSignin)&&void 0!==ce&&ce,this.schemaVersion=d.schemaVersion}validatePassword(d){var v,I,Z,ce,tt,Mt;const Kt={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(d,Kt),this.validatePasswordCharacterOptions(d,Kt),Kt.isValid&&(Kt.isValid=null===(v=Kt.meetsMinPasswordLength)||void 0===v||v),Kt.isValid&&(Kt.isValid=null===(I=Kt.meetsMaxPasswordLength)||void 0===I||I),Kt.isValid&&(Kt.isValid=null===(Z=Kt.containsLowercaseLetter)||void 0===Z||Z),Kt.isValid&&(Kt.isValid=null===(ce=Kt.containsUppercaseLetter)||void 0===ce||ce),Kt.isValid&&(Kt.isValid=null===(tt=Kt.containsNumericCharacter)||void 0===tt||tt),Kt.isValid&&(Kt.isValid=null===(Mt=Kt.containsNonAlphanumericCharacter)||void 0===Mt||Mt),Kt}validatePasswordLengthOptions(d,v){const I=this.customStrengthOptions.minPasswordLength,Z=this.customStrengthOptions.maxPasswordLength;I&&(v.meetsMinPasswordLength=d.length>=I),Z&&(v.meetsMaxPasswordLength=d.length<=Z)}validatePasswordCharacterOptions(d,v){let I;this.updatePasswordCharacterOptionsStatuses(v,!1,!1,!1,!1);for(let Z=0;Z<d.length;Z++)I=d.charAt(Z),this.updatePasswordCharacterOptionsStatuses(v,I>="a"&&I<="z",I>="A"&&I<="Z",I>="0"&&I<="9",this.allowedNonAlphanumericCharacters.includes(I))}updatePasswordCharacterOptionsStatuses(d,v,I,Z,ce){this.customStrengthOptions.containsLowercaseLetter&&(d.containsLowercaseLetter||(d.containsLowercaseLetter=v)),this.customStrengthOptions.containsUppercaseLetter&&(d.containsUppercaseLetter||(d.containsUppercaseLetter=I)),this.customStrengthOptions.containsNumericCharacter&&(d.containsNumericCharacter||(d.containsNumericCharacter=Z)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(d.containsNonAlphanumericCharacter||(d.containsNonAlphanumericCharacter=ce))}}class xo{constructor(d,v,I,Z){this.app=d,this.heartbeatServiceProvider=v,this.appCheckServiceProvider=I,this.config=Z,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ci(this),this.idTokenSubscription=new Ci(this),this.beforeStateQueue=new vr(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Zt,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=d.name,this.clientVersion=Z.sdkClientVersion}_initializeWithPersistence(d,v){var I=this;return v&&(this._popupRedirectResolver=st(v)),this._initializationPromise=this.queue((0,ie.A)(function*(){var Z,ce;if(!I._deleted&&(I.persistenceManager=yield Le.create(I,d),!I._deleted)){if(null!==(Z=I._popupRedirectResolver)&&void 0!==Z&&Z._shouldInitProactively)try{yield I._popupRedirectResolver._initialize(I)}catch{}yield I.initializeCurrentUser(v),I.lastNotifiedUid=(null===(ce=I.currentUser)||void 0===ce?void 0:ce.uid)||null,!I._deleted&&(I._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var d=this;return(0,ie.A)(function*(){if(d._deleted)return;const v=yield d.assertedPersistence.getCurrentUser();if(d.currentUser||v){if(d.currentUser&&v&&d.currentUser.uid===v.uid)return d._currentUser._assign(v),void(yield d.currentUser.getIdToken());yield d._updateCurrentUser(v,!0)}})()}initializeCurrentUserFromIdToken(d){var v=this;return(0,ie.A)(function*(){try{const I=yield Ut(v,{idToken:d}),Z=yield re._fromGetAccountInfoResponse(v,I,d);yield v.directlySetCurrentUser(Z)}catch(I){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",I),yield v.directlySetCurrentUser(null)}})()}initializeCurrentUser(d){var v=this;return(0,ie.A)(function*(){var I;if((0,se.xZ)(v.app)){const Mt=v.app.settings.authIdToken;return Mt?new Promise(Kt=>{setTimeout(()=>v.initializeCurrentUserFromIdToken(Mt).then(Kt,Kt))}):v.directlySetCurrentUser(null)}const Z=yield v.assertedPersistence.getCurrentUser();let ce=Z,tt=!1;if(d&&v.config.authDomain){yield v.getOrInitRedirectPersistenceManager();const Mt=null===(I=v.redirectUser)||void 0===I?void 0:I._redirectEventId,Kt=ce?._redirectEventId,Sn=yield v.tryRedirectSignIn(d);(!Mt||Mt===Kt)&&Sn?.user&&(ce=Sn.user,tt=!0)}if(!ce)return v.directlySetCurrentUser(null);if(!ce._redirectEventId){if(tt)try{yield v.beforeStateQueue.runMiddleware(ce)}catch(Mt){ce=Z,v._popupRedirectResolver._overrideRedirectResult(v,()=>Promise.reject(Mt))}return ce?v.reloadAndSetCurrentUserOrClear(ce):v.directlySetCurrentUser(null)}return Bt(v._popupRedirectResolver,v,"argument-error"),yield v.getOrInitRedirectPersistenceManager(),v.redirectUser&&v.redirectUser._redirectEventId===ce._redirectEventId?v.directlySetCurrentUser(ce):v.reloadAndSetCurrentUserOrClear(ce)})()}tryRedirectSignIn(d){var v=this;return(0,ie.A)(function*(){let I=null;try{I=yield v._popupRedirectResolver._completeRedirectFn(v,d,!0)}catch{yield v._setRedirectUser(null)}return I})()}reloadAndSetCurrentUserOrClear(d){var v=this;return(0,ie.A)(function*(){try{yield Lr(d)}catch(I){if("auth/network-request-failed"!==I?.code)return v.directlySetCurrentUser(null)}return v.directlySetCurrentUser(d)})()}useDeviceLanguage(){this.languageCode=function Ue(){if(typeof navigator>"u")return null;const w=navigator;return w.languages&&w.languages[0]||w.language||null}()}_delete(){var d=this;return(0,ie.A)(function*(){d._deleted=!0})()}updateCurrentUser(d){var v=this;return(0,ie.A)(function*(){if((0,se.xZ)(v.app))return Promise.reject(fn(v));const I=d?(0,Ne.Ku)(d):null;return I&&Bt(I.auth.config.apiKey===v.config.apiKey,v,"invalid-user-token"),v._updateCurrentUser(I&&I._clone(v))})()}_updateCurrentUser(d){var v=this;return(0,ie.A)(function*(I,Z=!1){if(!v._deleted)return I&&Bt(v.tenantId===I.tenantId,v,"tenant-id-mismatch"),Z||(yield v.beforeStateQueue.runMiddleware(I)),v.queue((0,ie.A)(function*(){yield v.directlySetCurrentUser(I),v.notifyAuthListeners()}))}).apply(this,arguments)}signOut(){var d=this;return(0,ie.A)(function*(){return(0,se.xZ)(d.app)?Promise.reject(fn(d)):(yield d.beforeStateQueue.runMiddleware(null),(d.redirectPersistenceManager||d._popupRedirectResolver)&&(yield d._setRedirectUser(null)),d._updateCurrentUser(null,!0))})()}setPersistence(d){var v=this;return(0,se.xZ)(this.app)?Promise.reject(fn(this)):this.queue((0,ie.A)(function*(){yield v.assertedPersistence.setPersistence(st(d))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(d){var v=this;return(0,ie.A)(function*(){v._getPasswordPolicyInternal()||(yield v._updatePasswordPolicy());const I=v._getPasswordPolicyInternal();return I.schemaVersion!==v.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(v._errorFactory.create("unsupported-password-policy-schema-version",{})):I.validatePassword(d)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var d=this;return(0,ie.A)(function*(){const v=yield function Rr(w){return fr.apply(this,arguments)}(d),I=new li(v);null===d.tenantId?d._projectPasswordPolicy=I:d._tenantPasswordPolicies[d.tenantId]=I})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(d){this._errorFactory=new Ne.FA("auth","Firebase",d())}onAuthStateChanged(d,v,I){return this.registerStateListener(this.authStateSubscription,d,v,I)}beforeAuthStateChanged(d,v){return this.beforeStateQueue.pushCallback(d,v)}onIdTokenChanged(d,v,I){return this.registerStateListener(this.idTokenSubscription,d,v,I)}authStateReady(){return new Promise((d,v)=>{if(this.currentUser)d();else{const I=this.onAuthStateChanged(()=>{I(),d()},v)}})}revokeAccessToken(d){var v=this;return(0,ie.A)(function*(){if(v.currentUser){const I=yield v.currentUser.getIdToken(),Z={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:d,idToken:I};null!=v.tenantId&&(Z.tenantId=v.tenantId),yield function ve(w,d){return Se.apply(this,arguments)}(v,Z)}})()}toJSON(){var d;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(d=this._currentUser)||void 0===d?void 0:d.toJSON()}}_setRedirectUser(d,v){var I=this;return(0,ie.A)(function*(){const Z=yield I.getOrInitRedirectPersistenceManager(v);return null===d?Z.removeCurrentUser():Z.setCurrentUser(d)})()}getOrInitRedirectPersistenceManager(d){var v=this;return(0,ie.A)(function*(){if(!v.redirectPersistenceManager){const I=d&&st(d)||v._popupRedirectResolver;Bt(I,v,"argument-error"),v.redirectPersistenceManager=yield Le.create(v,[st(I._redirectPersistence)],"redirectUser"),v.redirectUser=yield v.redirectPersistenceManager.getCurrentUser()}return v.redirectPersistenceManager})()}_redirectUserForId(d){var v=this;return(0,ie.A)(function*(){var I,Z;return v._isInitialized&&(yield v.queue((0,ie.A)(function*(){}))),(null===(I=v._currentUser)||void 0===I?void 0:I._redirectEventId)===d?v._currentUser:(null===(Z=v.redirectUser)||void 0===Z?void 0:Z._redirectEventId)===d?v.redirectUser:null})()}_persistUserIfCurrent(d){var v=this;return(0,ie.A)(function*(){if(d===v.currentUser)return v.queue((0,ie.A)(function*(){return v.directlySetCurrentUser(d)}))})()}_notifyListenersIfCurrent(d){d===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var d,v;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const I=null!==(v=null===(d=this.currentUser)||void 0===d?void 0:d.uid)&&void 0!==v?v:null;this.lastNotifiedUid!==I&&(this.lastNotifiedUid=I,this.authStateSubscription.next(this.currentUser))}registerStateListener(d,v,I,Z){if(this._deleted)return()=>{};const ce="function"==typeof v?v:v.next.bind(v);let tt=!1;const Mt=this._isInitialized?Promise.resolve():this._initializationPromise;if(Bt(Mt,this,"internal-error"),Mt.then(()=>{tt||ce(this.currentUser)}),"function"==typeof v){const Kt=d.addObserver(v,I,Z);return()=>{tt=!0,Kt()}}{const Kt=d.addObserver(v);return()=>{tt=!0,Kt()}}}directlySetCurrentUser(d){var v=this;return(0,ie.A)(function*(){v.currentUser&&v.currentUser!==d&&v._currentUser._stopProactiveRefresh(),d&&v.isProactiveRefreshEnabled&&d._startProactiveRefresh(),v.currentUser=d,d?yield v.assertedPersistence.setCurrentUser(d):yield v.assertedPersistence.removeCurrentUser()})()}queue(d){return this.operations=this.operations.then(d,d),this.operations}get assertedPersistence(){return Bt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(d){!d||this.frameworks.includes(d)||(this.frameworks.push(d),this.frameworks.sort(),this.clientVersion=wn(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var d=this;return(0,ie.A)(function*(){var v;const I={"X-Client-Version":d.clientVersion};d.app.options.appId&&(I["X-Firebase-gmpid"]=d.app.options.appId);const Z=yield null===(v=d.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===v?void 0:v.getHeartbeatsHeader();Z&&(I["X-Firebase-Client"]=Z);const ce=yield d._getAppCheckToken();return ce&&(I["X-Firebase-AppCheck"]=ce),I})()}_getAppCheckToken(){var d=this;return(0,ie.A)(function*(){var v;const I=yield null===(v=d.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===v?void 0:v.getToken();return I?.error&&function je(w,...d){We.logLevel<=De.$b.WARN&&We.warn(`Auth (${se.MF}): ${w}`,...d)}(`Error while retrieving App Check token: ${I.error}`),I?.token})()}}class Ci{constructor(d){this.auth=d,this.observer=null,this.addObserver=(0,Ne.tD)(v=>this.observer=v)}get next(){return Bt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Ai={loadJS:()=>(0,ie.A)(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};(function xa(w){return`__${w}${Math.floor(1e6*Math.random())}`})("rcb"),new ke(3e4,6e4),new ke(2e3,1e4),new ke(3e4,6e4),new ke(5e3,15e3),encodeURIComponent("fac");var ta="@firebase/auth";class Ml{constructor(d){this.auth=d,this.internalListeners=new Map}getUid(){var d;return this.assertAuthConfigured(),(null===(d=this.auth.currentUser)||void 0===d?void 0:d.uid)||null}getToken(d){var v=this;return(0,ie.A)(function*(){return v.assertAuthConfigured(),yield v.auth._initializationPromise,v.auth.currentUser?{accessToken:yield v.auth.currentUser.getIdToken(d)}:null})()}addAuthTokenListener(d){if(this.assertAuthConfigured(),this.internalListeners.has(d))return;const v=this.auth.onIdTokenChanged(I=>{d(I?.stsTokenManager.accessToken||null)});this.internalListeners.set(d,v),this.updateProactiveRefresh()}removeAuthTokenListener(d){this.assertAuthConfigured();const v=this.internalListeners.get(d);v&&(this.internalListeners.delete(d),v(),this.updateProactiveRefresh())}assertAuthConfigured(){Bt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,Ne.XA)("authIdTokenMaxAge"),function Po(w){Ai=w}({loadJS:w=>new Promise((d,v)=>{const I=document.createElement("script");I.setAttribute("src",w),I.onload=d,I.onerror=Z=>{const ce=Ct("internal-error");ce.customData=Z,v(ce)},I.type="text/javascript",I.charset="UTF-8",function El(){var w,d;return null!==(d=null===(w=document.getElementsByTagName("head"))||void 0===w?void 0:w[0])&&void 0!==d?d:document}().appendChild(I)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function Rd(w){(0,se.om)(new ne.uA("auth",(d,{options:v})=>{const I=d.getProvider("app").getImmediate(),Z=d.getProvider("heartbeat"),ce=d.getProvider("app-check-internal"),{apiKey:tt,authDomain:Mt}=I.options;Bt(tt&&!tt.includes(":"),"invalid-api-key",{appName:I.name});const Kt={apiKey:tt,authDomain:Mt,clientPlatform:w,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:wn(w)},Sn=new xo(I,Z,ce,Kt);return function Hs(w,d){const v=d?.persistence||[],I=(Array.isArray(v)?v:[v]).map(st);d?.errorMap&&w._updateErrorMap(d.errorMap),w._initializeWithPersistence(I,d?.popupRedirectResolver)}(Sn,v),Sn},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((d,v,I)=>{d.getProvider("auth-internal").initialize()})),(0,se.om)(new ne.uA("auth-internal",d=>{const v=function br(w){return(0,Ne.Ku)(w)}(d.getProvider("auth").getImmediate());return new Ml(v)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,se.KO)(ta,"1.7.9",function Ju(w){switch(w){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(w)),(0,se.KO)(ta,"1.7.9","esm2017")}("Browser");class hu{constructor(){return(0,y.CA)("auth")}}},2418:(nn,Je,F)=>{F.d(Je,{_7:()=>o1,gS:()=>zv,rJ:()=>rg,xs:()=>Qy,kd:()=>yp,H9:()=>$v,GG:()=>hg,aU:()=>pg,AB:()=>fg,hV:()=>Ky,P:()=>rm,O5:()=>im,mZ:()=>s1,_M:()=>gd});var qe,pt,y=F(5407),G=F(7705),_e=F(7440),he=F(4665),ie=F(2214),se=F(467),Ne=F(7852),De=F(1362),Ie=F(8041),ne=F(1076),me=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Be={};(function(){var a;function o(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function c(ot,Fe,Ze){Ze||(Ze=0);var at=Array(16);if("string"==typeof Fe)for(var ht=0;16>ht;++ht)at[ht]=Fe.charCodeAt(Ze++)|Fe.charCodeAt(Ze++)<<8|Fe.charCodeAt(Ze++)<<16|Fe.charCodeAt(Ze++)<<24;else for(ht=0;16>ht;++ht)at[ht]=Fe[Ze++]|Fe[Ze++]<<8|Fe[Ze++]<<16|Fe[Ze++]<<24;var xt=ot.g[3],Ke=(Fe=ot.g[0])+(xt^(Ze=ot.g[1])&((ht=ot.g[2])^xt))+at[0]+3614090360&4294967295;Ke=(Ze=(ht=(xt=(Fe=(Ze=(ht=(xt=(Fe=(Ze=(ht=(xt=(Fe=(Ze=(ht=(xt=(Fe=(Ze=(ht=(xt=(Fe=(Ze=(ht=(xt=(Fe=(Ze=(ht=(xt=(Fe=(Ze=(ht=(xt=(Fe=(Ze=(ht=(xt=(Fe=(Ze=(ht=(xt=(Fe=(Ze=(ht=(xt=(Fe=(Ze=(ht=(xt=(Fe=(Ze=(ht=(xt=(Fe=(Ze=(ht=(xt=(Fe=(Ze=(ht=(xt=(Fe=Ze+(Ke<<7&4294967295|Ke>>>25))+((Ke=xt+(ht^Fe&(Ze^ht))+at[1]+3905402710&4294967295)<<12&4294967295|Ke>>>20))+((Ke=ht+(Ze^xt&(Fe^Ze))+at[2]+606105819&4294967295)<<17&4294967295|Ke>>>15))+((Ke=Ze+(Fe^ht&(xt^Fe))+at[3]+3250441966&4294967295)<<22&4294967295|Ke>>>10))+((Ke=Fe+(xt^Ze&(ht^xt))+at[4]+4118548399&4294967295)<<7&4294967295|Ke>>>25))+((Ke=xt+(ht^Fe&(Ze^ht))+at[5]+1200080426&4294967295)<<12&4294967295|Ke>>>20))+((Ke=ht+(Ze^xt&(Fe^Ze))+at[6]+2821735955&4294967295)<<17&4294967295|Ke>>>15))+((Ke=Ze+(Fe^ht&(xt^Fe))+at[7]+4249261313&4294967295)<<22&4294967295|Ke>>>10))+((Ke=Fe+(xt^Ze&(ht^xt))+at[8]+1770035416&4294967295)<<7&4294967295|Ke>>>25))+((Ke=xt+(ht^Fe&(Ze^ht))+at[9]+2336552879&4294967295)<<12&4294967295|Ke>>>20))+((Ke=ht+(Ze^xt&(Fe^Ze))+at[10]+4294925233&4294967295)<<17&4294967295|Ke>>>15))+((Ke=Ze+(Fe^ht&(xt^Fe))+at[11]+2304563134&4294967295)<<22&4294967295|Ke>>>10))+((Ke=Fe+(xt^Ze&(ht^xt))+at[12]+1804603682&4294967295)<<7&4294967295|Ke>>>25))+((Ke=xt+(ht^Fe&(Ze^ht))+at[13]+4254626195&4294967295)<<12&4294967295|Ke>>>20))+((Ke=ht+(Ze^xt&(Fe^Ze))+at[14]+2792965006&4294967295)<<17&4294967295|Ke>>>15))+((Ke=Ze+(Fe^ht&(xt^Fe))+at[15]+1236535329&4294967295)<<22&4294967295|Ke>>>10))+((Ke=Fe+(ht^xt&(Ze^ht))+at[1]+4129170786&4294967295)<<5&4294967295|Ke>>>27))+((Ke=xt+(Ze^ht&(Fe^Ze))+at[6]+3225465664&4294967295)<<9&4294967295|Ke>>>23))+((Ke=ht+(Fe^Ze&(xt^Fe))+at[11]+643717713&4294967295)<<14&4294967295|Ke>>>18))+((Ke=Ze+(xt^Fe&(ht^xt))+at[0]+3921069994&4294967295)<<20&4294967295|Ke>>>12))+((Ke=Fe+(ht^xt&(Ze^ht))+at[5]+3593408605&4294967295)<<5&4294967295|Ke>>>27))+((Ke=xt+(Ze^ht&(Fe^Ze))+at[10]+38016083&4294967295)<<9&4294967295|Ke>>>23))+((Ke=ht+(Fe^Ze&(xt^Fe))+at[15]+3634488961&4294967295)<<14&4294967295|Ke>>>18))+((Ke=Ze+(xt^Fe&(ht^xt))+at[4]+3889429448&4294967295)<<20&4294967295|Ke>>>12))+((Ke=Fe+(ht^xt&(Ze^ht))+at[9]+568446438&4294967295)<<5&4294967295|Ke>>>27))+((Ke=xt+(Ze^ht&(Fe^Ze))+at[14]+3275163606&4294967295)<<9&4294967295|Ke>>>23))+((Ke=ht+(Fe^Ze&(xt^Fe))+at[3]+4107603335&4294967295)<<14&4294967295|Ke>>>18))+((Ke=Ze+(xt^Fe&(ht^xt))+at[8]+1163531501&4294967295)<<20&4294967295|Ke>>>12))+((Ke=Fe+(ht^xt&(Ze^ht))+at[13]+2850285829&4294967295)<<5&4294967295|Ke>>>27))+((Ke=xt+(Ze^ht&(Fe^Ze))+at[2]+4243563512&4294967295)<<9&4294967295|Ke>>>23))+((Ke=ht+(Fe^Ze&(xt^Fe))+at[7]+1735328473&4294967295)<<14&4294967295|Ke>>>18))+((Ke=Ze+(xt^Fe&(ht^xt))+at[12]+2368359562&4294967295)<<20&4294967295|Ke>>>12))+((Ke=Fe+(Ze^ht^xt)+at[5]+4294588738&4294967295)<<4&4294967295|Ke>>>28))+((Ke=xt+(Fe^Ze^ht)+at[8]+2272392833&4294967295)<<11&4294967295|Ke>>>21))+((Ke=ht+(xt^Fe^Ze)+at[11]+1839030562&4294967295)<<16&4294967295|Ke>>>16))+((Ke=Ze+(ht^xt^Fe)+at[14]+4259657740&4294967295)<<23&4294967295|Ke>>>9))+((Ke=Fe+(Ze^ht^xt)+at[1]+2763975236&4294967295)<<4&4294967295|Ke>>>28))+((Ke=xt+(Fe^Ze^ht)+at[4]+1272893353&4294967295)<<11&4294967295|Ke>>>21))+((Ke=ht+(xt^Fe^Ze)+at[7]+4139469664&4294967295)<<16&4294967295|Ke>>>16))+((Ke=Ze+(ht^xt^Fe)+at[10]+3200236656&4294967295)<<23&4294967295|Ke>>>9))+((Ke=Fe+(Ze^ht^xt)+at[13]+681279174&4294967295)<<4&4294967295|Ke>>>28))+((Ke=xt+(Fe^Ze^ht)+at[0]+3936430074&4294967295)<<11&4294967295|Ke>>>21))+((Ke=ht+(xt^Fe^Ze)+at[3]+3572445317&4294967295)<<16&4294967295|Ke>>>16))+((Ke=Ze+(ht^xt^Fe)+at[6]+76029189&4294967295)<<23&4294967295|Ke>>>9))+((Ke=Fe+(Ze^ht^xt)+at[9]+3654602809&4294967295)<<4&4294967295|Ke>>>28))+((Ke=xt+(Fe^Ze^ht)+at[12]+3873151461&4294967295)<<11&4294967295|Ke>>>21))+((Ke=ht+(xt^Fe^Ze)+at[15]+530742520&4294967295)<<16&4294967295|Ke>>>16))+((Ke=Ze+(ht^xt^Fe)+at[2]+3299628645&4294967295)<<23&4294967295|Ke>>>9))+((Ke=Fe+(ht^(Ze|~xt))+at[0]+4096336452&4294967295)<<6&4294967295|Ke>>>26))+((Ke=xt+(Ze^(Fe|~ht))+at[7]+1126891415&4294967295)<<10&4294967295|Ke>>>22))+((Ke=ht+(Fe^(xt|~Ze))+at[14]+2878612391&4294967295)<<15&4294967295|Ke>>>17))+((Ke=Ze+(xt^(ht|~Fe))+at[5]+4237533241&4294967295)<<21&4294967295|Ke>>>11))+((Ke=Fe+(ht^(Ze|~xt))+at[12]+1700485571&4294967295)<<6&4294967295|Ke>>>26))+((Ke=xt+(Ze^(Fe|~ht))+at[3]+2399980690&4294967295)<<10&4294967295|Ke>>>22))+((Ke=ht+(Fe^(xt|~Ze))+at[10]+4293915773&4294967295)<<15&4294967295|Ke>>>17))+((Ke=Ze+(xt^(ht|~Fe))+at[1]+2240044497&4294967295)<<21&4294967295|Ke>>>11))+((Ke=Fe+(ht^(Ze|~xt))+at[8]+1873313359&4294967295)<<6&4294967295|Ke>>>26))+((Ke=xt+(Ze^(Fe|~ht))+at[15]+4264355552&4294967295)<<10&4294967295|Ke>>>22))+((Ke=ht+(Fe^(xt|~Ze))+at[6]+2734768916&4294967295)<<15&4294967295|Ke>>>17))+((Ke=Ze+(xt^(ht|~Fe))+at[13]+1309151649&4294967295)<<21&4294967295|Ke>>>11))+((xt=(Fe=Ze+((Ke=Fe+(ht^(Ze|~xt))+at[4]+4149444226&4294967295)<<6&4294967295|Ke>>>26))+((Ke=xt+(Ze^(Fe|~ht))+at[11]+3174756917&4294967295)<<10&4294967295|Ke>>>22))^((ht=xt+((Ke=ht+(Fe^(xt|~Ze))+at[2]+718787259&4294967295)<<15&4294967295|Ke>>>17))|~Fe))+at[9]+3951481745&4294967295,ot.g[0]=ot.g[0]+Fe&4294967295,ot.g[1]=ot.g[1]+(ht+(Ke<<21&4294967295|Ke>>>11))&4294967295,ot.g[2]=ot.g[2]+ht&4294967295,ot.g[3]=ot.g[3]+xt&4294967295}function g(ot,Fe){this.h=Fe;for(var Ze=[],at=!0,ht=ot.length-1;0<=ht;ht--){var xt=0|ot[ht];at&&xt==Fe||(Ze[ht]=xt,at=!1)}this.g=Ze}(function e(ot,Fe){function Ze(){}Ze.prototype=Fe.prototype,ot.D=Fe.prototype,ot.prototype=new Ze,ot.prototype.constructor=ot,ot.C=function(at,ht,xt){for(var Ke=Array(arguments.length-2),Fl=2;Fl<arguments.length;Fl++)Ke[Fl-2]=arguments[Fl];return Fe.prototype[ht].apply(at,Ke)}})(o,function r(){this.blockSize=-1}),o.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},o.prototype.u=function(ot,Fe){void 0===Fe&&(Fe=ot.length);for(var Ze=Fe-this.blockSize,at=this.B,ht=this.h,xt=0;xt<Fe;){if(0==ht)for(;xt<=Ze;)c(this,ot,xt),xt+=this.blockSize;if("string"==typeof ot){for(;xt<Fe;)if(at[ht++]=ot.charCodeAt(xt++),ht==this.blockSize){c(this,at),ht=0;break}}else for(;xt<Fe;)if(at[ht++]=ot[xt++],ht==this.blockSize){c(this,at),ht=0;break}}this.h=ht,this.o+=Fe},o.prototype.v=function(){var ot=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);ot[0]=128;for(var Fe=1;Fe<ot.length-8;++Fe)ot[Fe]=0;var Ze=8*this.o;for(Fe=ot.length-8;Fe<ot.length;++Fe)ot[Fe]=255&Ze,Ze/=256;for(this.u(ot),ot=Array(16),Fe=Ze=0;4>Fe;++Fe)for(var at=0;32>at;at+=8)ot[Ze++]=this.g[Fe]>>>at&255;return ot};var C={};function O(ot){return-128<=ot&&128>ot?function p(ot,Fe){var Ze=C;return Object.prototype.hasOwnProperty.call(Ze,ot)?Ze[ot]:Ze[ot]=Fe(ot)}(ot,function(Fe){return new g([0|Fe],0>Fe?-1:0)}):new g([0|ot],0>ot?-1:0)}function H(ot){if(isNaN(ot)||!isFinite(ot))return fe;if(0>ot)return Jt(H(-ot));for(var Fe=[],Ze=1,at=0;ot>=Ze;at++)Fe[at]=ot/Ze|0,Ze*=4294967296;return new g(Fe,0)}var fe=O(0),He=O(1),bt=O(16777216);function Ht(ot){if(0!=ot.h)return!1;for(var Fe=0;Fe<ot.g.length;Fe++)if(0!=ot.g[Fe])return!1;return!0}function rn(ot){return-1==ot.h}function Jt(ot){for(var Fe=ot.g.length,Ze=[],at=0;at<Fe;at++)Ze[at]=~ot.g[at];return new g(Ze,~ot.h).add(He)}function Vn(ot,Fe){return ot.add(Jt(Fe))}function Yn(ot,Fe){for(;(65535&ot[Fe])!=ot[Fe];)ot[Fe+1]+=ot[Fe]>>>16,ot[Fe]&=65535,Fe++}function jn(ot,Fe){this.g=ot,this.h=Fe}function yr(ot,Fe){if(Ht(Fe))throw Error("division by zero");if(Ht(ot))return new jn(fe,fe);if(rn(ot))return Fe=yr(Jt(ot),Fe),new jn(Jt(Fe.g),Jt(Fe.h));if(rn(Fe))return Fe=yr(ot,Jt(Fe)),new jn(Jt(Fe.g),Fe.h);if(30<ot.g.length){if(rn(ot)||rn(Fe))throw Error("slowDivide_ only works with positive integers.");for(var Ze=He,at=Fe;0>=at.l(ot);)Ze=mi(Ze),at=mi(at);var ht=$r(Ze,1),xt=$r(at,1);for(at=$r(at,2),Ze=$r(Ze,2);!Ht(at);){var Ke=xt.add(at);0>=Ke.l(ot)&&(ht=ht.add(Ze),xt=Ke),at=$r(at,1),Ze=$r(Ze,1)}return Fe=Vn(ot,ht.j(Fe)),new jn(ht,Fe)}for(ht=fe;0<=ot.l(Fe);){for(Ze=Math.max(1,Math.floor(ot.m()/Fe.m())),at=48>=(at=Math.ceil(Math.log(Ze)/Math.LN2))?1:Math.pow(2,at-48),Ke=(xt=H(Ze)).j(Fe);rn(Ke)||0<Ke.l(ot);)Ke=(xt=H(Ze-=at)).j(Fe);Ht(xt)&&(xt=He),ht=ht.add(xt),ot=Vn(ot,Ke)}return new jn(ht,ot)}function mi(ot){for(var Fe=ot.g.length+1,Ze=[],at=0;at<Fe;at++)Ze[at]=ot.i(at)<<1|ot.i(at-1)>>>31;return new g(Ze,ot.h)}function $r(ot,Fe){var Ze=Fe>>5;Fe%=32;for(var at=ot.g.length-Ze,ht=[],xt=0;xt<at;xt++)ht[xt]=0<Fe?ot.i(xt+Ze)>>>Fe|ot.i(xt+Ze+1)<<32-Fe:ot.i(xt+Ze);return new g(ht,ot.h)}(a=g.prototype).m=function(){if(rn(this))return-Jt(this).m();for(var ot=0,Fe=1,Ze=0;Ze<this.g.length;Ze++){var at=this.i(Ze);ot+=(0<=at?at:4294967296+at)*Fe,Fe*=4294967296}return ot},a.toString=function(ot){if(2>(ot=ot||10)||36<ot)throw Error("radix out of range: "+ot);if(Ht(this))return"0";if(rn(this))return"-"+Jt(this).toString(ot);for(var Fe=H(Math.pow(ot,6)),Ze=this,at="";;){var ht=yr(Ze,Fe).g,xt=((0<(Ze=Vn(Ze,ht.j(Fe))).g.length?Ze.g[0]:Ze.h)>>>0).toString(ot);if(Ht(Ze=ht))return xt+at;for(;6>xt.length;)xt="0"+xt;at=xt+at}},a.i=function(ot){return 0>ot?0:ot<this.g.length?this.g[ot]:this.h},a.l=function(ot){return rn(ot=Vn(this,ot))?-1:Ht(ot)?0:1},a.abs=function(){return rn(this)?Jt(this):this},a.add=function(ot){for(var Fe=Math.max(this.g.length,ot.g.length),Ze=[],at=0,ht=0;ht<=Fe;ht++){var xt=at+(65535&this.i(ht))+(65535&ot.i(ht)),Ke=(xt>>>16)+(this.i(ht)>>>16)+(ot.i(ht)>>>16);at=Ke>>>16,Ze[ht]=(Ke&=65535)<<16|(xt&=65535)}return new g(Ze,-2147483648&Ze[Ze.length-1]?-1:0)},a.j=function(ot){if(Ht(this)||Ht(ot))return fe;if(rn(this))return rn(ot)?Jt(this).j(Jt(ot)):Jt(Jt(this).j(ot));if(rn(ot))return Jt(this.j(Jt(ot)));if(0>this.l(bt)&&0>ot.l(bt))return H(this.m()*ot.m());for(var Fe=this.g.length+ot.g.length,Ze=[],at=0;at<2*Fe;at++)Ze[at]=0;for(at=0;at<this.g.length;at++)for(var ht=0;ht<ot.g.length;ht++){var xt=this.i(at)>>>16,Ke=65535&this.i(at),Fl=ot.i(ht)>>>16,a1=65535&ot.i(ht);Ze[2*at+2*ht]+=Ke*a1,Yn(Ze,2*at+2*ht),Ze[2*at+2*ht+1]+=xt*a1,Yn(Ze,2*at+2*ht+1),Ze[2*at+2*ht+1]+=Ke*Fl,Yn(Ze,2*at+2*ht+1),Ze[2*at+2*ht+2]+=xt*Fl,Yn(Ze,2*at+2*ht+2)}for(at=0;at<Fe;at++)Ze[at]=Ze[2*at+1]<<16|Ze[2*at];for(at=Fe;at<2*Fe;at++)Ze[at]=0;return new g(Ze,0)},a.A=function(ot){return yr(this,ot).h},a.and=function(ot){for(var Fe=Math.max(this.g.length,ot.g.length),Ze=[],at=0;at<Fe;at++)Ze[at]=this.i(at)&ot.i(at);return new g(Ze,this.h&ot.h)},a.or=function(ot){for(var Fe=Math.max(this.g.length,ot.g.length),Ze=[],at=0;at<Fe;at++)Ze[at]=this.i(at)|ot.i(at);return new g(Ze,this.h|ot.h)},a.xor=function(ot){for(var Fe=Math.max(this.g.length,ot.g.length),Ze=[],at=0;at<Fe;at++)Ze[at]=this.i(at)^ot.i(at);return new g(Ze,this.h^ot.h)},o.prototype.digest=o.prototype.v,o.prototype.reset=o.prototype.s,o.prototype.update=o.prototype.u,pt=Be.Md5=o,g.prototype.add=g.prototype.add,g.prototype.multiply=g.prototype.j,g.prototype.modulo=g.prototype.A,g.prototype.compare=g.prototype.l,g.prototype.toNumber=g.prototype.m,g.prototype.toString=g.prototype.toString,g.prototype.getBits=g.prototype.i,g.fromNumber=H,g.fromString=function Y(ot,Fe){if(0==ot.length)throw Error("number format error: empty string");if(2>(Fe=Fe||10)||36<Fe)throw Error("radix out of range: "+Fe);if("-"==ot.charAt(0))return Jt(Y(ot.substring(1),Fe));if(0<=ot.indexOf("-"))throw Error('number format error: interior "-" character');for(var Ze=H(Math.pow(Fe,8)),at=fe,ht=0;ht<ot.length;ht+=8){var xt=Math.min(8,ot.length-ht),Ke=parseInt(ot.substring(ht,ht+xt),Fe);8>xt?(xt=H(Math.pow(Fe,xt)),at=at.j(xt).add(H(Ke))):at=(at=at.j(Ze)).add(H(Ke))}return at},qe=Be.Integer=g}).apply(typeof me<"u"?me:typeof self<"u"?self:typeof window<"u"?window:{});var Nt,dn,Zt,be,We,je,Qe,ft,_t=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},It={};(function(){var a,e="function"==typeof Object.defineProperties?Object.defineProperty:function(m,V,$){return m==Array.prototype||m==Object.prototype||(m[V]=$.value),m},o=function r(m){m=["object"==typeof globalThis&&globalThis,m,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof _t&&_t];for(var V=0;V<m.length;++V){var $=m[V];if($&&$.Math==Math)return $}throw Error("Cannot find global object")}(this);!function c(m,V){if(V)e:{var $=o;m=m.split(".");for(var le=0;le<m.length-1;le++){var dt=m[le];if(!(dt in $))break e;$=$[dt]}(V=V(le=$[m=m[m.length-1]]))!=le&&null!=V&&e($,m,{configurable:!0,writable:!0,value:V})}}("Array.prototype.values",function(m){return m||function(){return function p(m,V){m instanceof String&&(m+="");var $=0,le=!1,dt={next:function(){if(!le&&$<m.length){var Ot=$++;return{value:V(Ot,m[Ot]),done:!1}}return le=!0,{done:!0,value:void 0}}};return dt[Symbol.iterator]=function(){return dt},dt}(this,function(V,$){return $})}});var g=g||{},C=this||self;function O(m){var V=typeof m;return"array"==(V="object"!=V?V:m?Array.isArray(m)?"array":V:"null")||"object"==V&&"number"==typeof m.length}function H(m){var V=typeof m;return"object"==V&&null!=m||"function"==V}function Y(m,V,$){return m.call.apply(m.bind,arguments)}function fe(m,V,$){if(!m)throw Error();if(2<arguments.length){var le=Array.prototype.slice.call(arguments,2);return function(){var dt=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(dt,le),m.apply(V,dt)}}return function(){return m.apply(V,arguments)}}function He(m,V,$){return(He=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Y:fe).apply(null,arguments)}function bt(m,V){var $=Array.prototype.slice.call(arguments,1);return function(){var le=$.slice();return le.push.apply(le,arguments),m.apply(this,le)}}function Ht(m,V){function $(){}$.prototype=V.prototype,m.aa=V.prototype,m.prototype=new $,m.prototype.constructor=m,m.Qb=function(le,dt,Ot){for(var kn=Array(arguments.length-2),$i=2;$i<arguments.length;$i++)kn[$i-2]=arguments[$i];return V.prototype[dt].apply(le,kn)}}function rn(m){const V=m.length;if(0<V){const $=Array(V);for(let le=0;le<V;le++)$[le]=m[le];return $}return[]}function Jt(m,V){for(let $=1;$<arguments.length;$++){const le=arguments[$];if(O(le)){const dt=m.length||0,Ot=le.length||0;m.length=dt+Ot;for(let kn=0;kn<Ot;kn++)m[dt+kn]=le[kn]}else m.push(le)}}function Yn(m){return/^[\s\xa0]*$/.test(m)}function jn(){var m=C.navigator;return m&&(m=m.userAgent)?m:""}function yr(m){return yr[" "](m),m}yr[" "]=function(){};var mi=!(-1==jn().indexOf("Gecko")||-1!=jn().toLowerCase().indexOf("webkit")&&-1==jn().indexOf("Edge")||-1!=jn().indexOf("Trident")||-1!=jn().indexOf("MSIE")||-1!=jn().indexOf("Edge"));function $r(m,V,$){for(const le in m)V.call($,m[le],le,m)}function Fe(m){const V={};for(const $ in m)V[$]=m[$];return V}const Ze="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function at(m,V){let $,le;for(let dt=1;dt<arguments.length;dt++){for($ in le=arguments[dt],le)m[$]=le[$];for(let Ot=0;Ot<Ze.length;Ot++)$=Ze[Ot],Object.prototype.hasOwnProperty.call(le,$)&&(m[$]=le[$])}}function ht(m){var V=1;m=m.split(":");const $=[];for(;0<V&&m.length;)$.push(m.shift()),V--;return m.length&&$.push(m.join(":")),$}function xt(m){C.setTimeout(()=>{throw m},0)}function Ke(){var m=sh;let V=null;return m.g&&(V=m.g,m.g=m.g.next,m.g||(m.h=null),V.next=null),V}var a1=new class Vn{constructor(V,$){this.i=V,this.j=$,this.h=0,this.g=null}get(){let V;return 0<this.h?(this.h--,V=this.g,this.g=V.next,V.next=null):V=this.i(),V}}(()=>new c0,m=>m.reset());class c0{constructor(){this.next=this.g=this.h=null}set(V,$){this.h=V,this.g=$,this.next=null}reset(){this.next=this.g=this.h=null}}let Bl,vd=!1,sh=new class Fl{constructor(){this.h=this.g=null}add(V,$){const le=a1.get();le.set(V,$),this.h?this.h.next=le:this.g=le,this.h=le}},l0=()=>{const m=C.Promise.resolve(void 0);Bl=()=>{m.then(c1)}};var c1=()=>{for(var m;m=Ke();){try{m.h.call(m.g)}catch($){xt($)}var V=a1;V.j(m),100>V.h&&(V.h++,m.next=V.g,V.g=m)}vd=!1};function jl(){this.s=this.s,this.C=this.C}function js(m,V){this.type=m,this.g=this.target=V,this.defaultPrevented=!1}jl.prototype.s=!1,jl.prototype.ma=function(){this.s||(this.s=!0,this.N())},jl.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},js.prototype.h=function(){this.defaultPrevented=!0};var l1=function(){if(!C.addEventListener||!Object.defineProperty)return!1;var m=!1,V=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const $=()=>{};C.addEventListener("test",$,V),C.removeEventListener("test",$,V)}catch{}return m}();function u1(m,V){if(js.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m){var $=this.type=m.type,le=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;if(this.target=m.target||m.srcElement,this.g=V,V=m.relatedTarget){if(mi){e:{try{yr(V.nodeName);var dt=!0;break e}catch{}dt=!1}dt||(V=null)}}else"mouseover"==$?V=m.fromElement:"mouseout"==$&&(V=m.toElement);this.relatedTarget=V,le?(this.clientX=void 0!==le.clientX?le.clientX:le.pageX,this.clientY=void 0!==le.clientY?le.clientY:le.pageY,this.screenX=le.screenX||0,this.screenY=le.screenY||0):(this.clientX=void 0!==m.clientX?m.clientX:m.pageX,this.clientY=void 0!==m.clientY?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType="string"==typeof m.pointerType?m.pointerType:vg[m.pointerType]||"",this.state=m.state,this.i=m,m.defaultPrevented&&u1.aa.h.call(this)}}Ht(u1,js);var vg={2:"touch",3:"pen",4:"mouse"};u1.prototype.h=function(){u1.aa.h.call(this);var m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var d1="closure_listenable_"+(1e6*Math.random()|0),_g=0;function u0(m,V,$,le,dt){this.listener=m,this.proxy=null,this.src=V,this.type=$,this.capture=!!le,this.ha=dt,this.key=++_g,this.da=this.fa=!1}function _d(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function kd(m){this.src=m,this.g={},this.h=0}function sm(m,V){var $=V.type;if($ in m.g){var Ot,le=m.g[$],dt=Array.prototype.indexOf.call(le,V,void 0);(Ot=0<=dt)&&Array.prototype.splice.call(le,dt,1),Ot&&(_d(V),0==m.g[$].length&&(delete m.g[$],m.h--))}}function d0(m,V,$,le){for(var dt=0;dt<m.length;++dt){var Ot=m[dt];if(!Ot.da&&Ot.listener==V&&Ot.capture==!!$&&Ot.ha==le)return dt}return-1}kd.prototype.add=function(m,V,$,le,dt){var Ot=m.toString();(m=this.g[Ot])||(m=this.g[Ot]=[],this.h++);var kn=d0(m,V,le,dt);return-1<kn?(V=m[kn],$||(V.fa=!1)):((V=new u0(V,this.src,Ot,!!le,dt)).fa=$,m.push(V)),V};var h0="closure_lm_"+(1e6*Math.random()|0),h1={};function am(m,V,$,le,dt){if(le&&le.once)return cm(m,V,$,le,dt);if(Array.isArray(V)){for(var Ot=0;Ot<V.length;Ot++)am(m,V[Ot],$,le,dt);return null}return $=bp($),m&&m[d1]?m.K(V,$,H(le)?!!le.capture:!!le,dt):p0(m,V,$,!1,le,dt)}function p0(m,V,$,le,dt,Ot){if(!V)throw Error("Invalid event type");var kn=H(dt)?!!dt.capture:!!dt,$i=y0(m);if($i||(m[h0]=$i=new kd(m)),($=$i.add(V,$,le,kn,Ot)).proxy)return $;if(le=function kg(){const V=bg;return function m($){return V.call(m.src,m.listener,$)}}(),$.proxy=le,le.src=m,le.listener=$,m.addEventListener)l1||(dt=kn),void 0===dt&&(dt=!1),m.addEventListener(V.toString(),le,dt);else if(m.attachEvent)m.attachEvent(m0(V.toString()),le);else{if(!m.addListener||!m.removeListener)throw Error("addEventListener and attachEvent are unavailable.");m.addListener(le)}return $}function cm(m,V,$,le,dt){if(Array.isArray(V)){for(var Ot=0;Ot<V.length;Ot++)cm(m,V[Ot],$,le,dt);return null}return $=bp($),m&&m[d1]?m.L(V,$,H(le)?!!le.capture:!!le,dt):p0(m,V,$,!0,le,dt)}function f0(m,V,$,le,dt){if(Array.isArray(V))for(var Ot=0;Ot<V.length;Ot++)f0(m,V[Ot],$,le,dt);else le=H(le)?!!le.capture:!!le,$=bp($),m&&m[d1]?(m=m.i,(V=String(V).toString())in m.g&&-1<($=d0(Ot=m.g[V],$,le,dt))&&(_d(Ot[$]),Array.prototype.splice.call(Ot,$,1),0==Ot.length&&(delete m.g[V],m.h--))):m&&(m=y0(m))&&(V=m.g[V.toString()],m=-1,V&&(m=d0(V,$,le,dt)),($=-1<m?V[m]:null)&&kp($))}function kp(m){if("number"!=typeof m&&m&&!m.da){var V=m.src;if(V&&V[d1])sm(V.i,m);else{var $=m.type,le=m.proxy;V.removeEventListener?V.removeEventListener($,le,m.capture):V.detachEvent?V.detachEvent(m0($),le):V.addListener&&V.removeListener&&V.removeListener(le),($=y0(V))?(sm($,m),0==$.h&&($.src=null,V[h0]=null)):_d(m)}}}function m0(m){return m in h1?h1[m]:h1[m]="on"+m}function bg(m,V){if(m.da)m=!0;else{V=new u1(V,this);var $=m.listener,le=m.ha||m.src;m.fa&&kp(m),m=$.call(le,V)}return m}function y0(m){return(m=m[h0])instanceof kd?m:null}var g0="__closure_events_fn_"+(1e9*Math.random()>>>0);function bp(m){return"function"==typeof m?m:(m[g0]||(m[g0]=function(V){return m.handleEvent(V)}),m[g0])}function vs(){jl.call(this),this.i=new kd(this),this.M=this,this.F=null}function Rs(m,V){var $,le=m.F;if(le)for($=[];le;le=le.F)$.push(le);if(m=m.M,le=V.type||V,"string"==typeof V)V=new js(V,m);else if(V instanceof js)V.target=V.target||m;else{var dt=V;at(V=new js(le,m),dt)}if(dt=!0,$)for(var Ot=$.length-1;0<=Ot;Ot--){var kn=V.g=$[Ot];dt=Mp(kn,le,!0,V)&&dt}if(dt=Mp(kn=V.g=m,le,!0,V)&&dt,dt=Mp(kn,le,!1,V)&&dt,$)for(Ot=0;Ot<$.length;Ot++)dt=Mp(kn=V.g=$[Ot],le,!1,V)&&dt}function Mp(m,V,$,le){if(!(V=m.i.g[String(V)]))return!0;V=V.concat();for(var dt=!0,Ot=0;Ot<V.length;++Ot){var kn=V[Ot];if(kn&&!kn.da&&kn.capture==$){var $i=kn.listener,_s=kn.ha||kn.src;kn.fa&&sm(m.i,kn),dt=!1!==$i.call(_s,le)&&dt}}return dt&&!le.defaultPrevented}function p1(m,V,$){if("function"==typeof m)$&&(m=He(m,$));else{if(!m||"function"!=typeof m.handleEvent)throw Error("Invalid listener argument");m=He(m.handleEvent,m)}return 2147483647<Number(V)?-1:C.setTimeout(m,V||0)}function f1(m){m.g=p1(()=>{m.g=null,m.i&&(m.i=!1,f1(m))},m.l);const V=m.h;m.h=null,m.m.apply(null,V)}Ht(vs,jl),vs.prototype[d1]=!0,vs.prototype.removeEventListener=function(m,V,$,le){f0(this,m,V,$,le)},vs.prototype.N=function(){if(vs.aa.N.call(this),this.i){var V,m=this.i;for(V in m.g){for(var $=m.g[V],le=0;le<$.length;le++)_d($[le]);delete m.g[V],m.h--}}this.F=null},vs.prototype.K=function(m,V,$,le){return this.i.add(String(m),V,!1,$,le)},vs.prototype.L=function(m,V,$,le){return this.i.add(String(m),V,!0,$,le)};class v0 extends jl{constructor(V,$){super(),this.m=V,this.l=$,this.h=null,this.i=!1,this.g=null}j(V){this.h=arguments,this.g?this.i=!0:f1(this)}N(){super.N(),this.g&&(C.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ah(m){jl.call(this),this.h=m,this.g={}}Ht(ah,jl);var lm=[];function um(m){$r(m.g,function(V,$){this.g.hasOwnProperty($)&&kp(V)},m),m.g={}}ah.prototype.N=function(){ah.aa.N.call(this),um(this)},ah.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var _0=C.JSON.stringify,wp=C.JSON.parse,Ep=class{stringify(m){return C.JSON.stringify(m,void 0)}parse(m){return C.JSON.parse(m,void 0)}};function m1(){}function dm(){}m1.prototype.h=null;var y1={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function xp(){js.call(this,"d")}function g1(){js.call(this,"c")}Ht(xp,js),Ht(g1,js);var Cu={},Cp=null;function v1(){return Cp=Cp||new vs}function hm(m){js.call(this,Cu.La,m)}function ch(m){const V=v1();Rs(V,new hm(V))}function b0(m,V){js.call(this,Cu.STAT_EVENT,m),this.stat=V}function zs(m){const V=v1();Rs(V,new b0(V,m))}function M0(m,V){js.call(this,Cu.Ma,m),this.size=V}function _1(m,V){if("function"!=typeof m)throw Error("Fn must not be null and must be a function");return C.setTimeout(function(){m()},V)}function lh(){this.g=!0}function zl(m,V,$,le){m.info(function(){return"XMLHTTP TEXT ("+V+"): "+function ym(m,V){if(!m.g)return V;if(!V)return null;try{var $=JSON.parse(V);if($)for(m=0;m<$.length;m++)if(Array.isArray($[m])){var le=$[m];if(!(2>le.length)){var dt=le[1];if(Array.isArray(dt)&&!(1>dt.length)){var Ot=dt[0];if("noop"!=Ot&&"stop"!=Ot&&"close"!=Ot)for(var kn=1;kn<dt.length;kn++)dt[kn]=""}}}return _0($)}catch{return V}}(m,$)+(le?" "+le:"")})}Cu.La="serverreachability",Ht(hm,js),Cu.STAT_EVENT="statevent",Ht(b0,js),Cu.Ma="timingevent",Ht(M0,js),lh.prototype.xa=function(){this.g=!1},lh.prototype.info=function(){};var Ap,k1={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},w0={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function b1(){}function Ul(m,V,$,le){this.j=m,this.i=V,this.l=$,this.R=le||1,this.U=new ah(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new E0}function E0(){this.i=null,this.g="",this.h=!1}Ht(b1,m1),b1.prototype.g=function(){return new XMLHttpRequest},b1.prototype.i=function(){return{}},Ap=new b1;var M1={},ol={};function x0(m,V,$){m.L=1,m.v=hh(sl(V)),m.m=$,m.P=!0,gm(m,null)}function gm(m,V){m.F=Date.now(),uh(m),m.A=sl(m.v);var $=m.A,le=m.R;Array.isArray(le)||(le=[String(le)]),Pp($.i,"t",le),m.C=0,$=m.j.J,m.h=new E0,m.g=U0(m.j,$?V:null,!m.m),0<m.O&&(m.M=new v0(He(m.Y,m,m.g),m.O)),V=m.U,$=m.g,le=m.ca;var dt="readystatechange";Array.isArray(dt)||(dt&&(lm[0]=dt.toString()),dt=lm);for(var Ot=0;Ot<dt.length;Ot++){var kn=am($,dt[Ot],le||V.handleEvent,!1,V.h||V);if(!kn)break;V.g[kn.key]=kn}V=m.H?Fe(m.H):{},m.m?(m.u||(m.u="POST"),V["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.A,m.u,m.m,V)):(m.u="GET",m.g.ea(m.A,m.u,null,V)),ch(),function pm(m,V,$,le,dt,Ot){m.info(function(){if(m.g)if(Ot)for(var kn="",$i=Ot.split("&"),_s=0;_s<$i.length;_s++){var ci=$i[_s].split("=");if(1<ci.length){var oa=ci[0];ci=ci[1];var Uo=oa.split("_");kn=2<=Uo.length&&"type"==Uo[1]?kn+(oa+"=")+ci+"&":kn+(oa+"=redacted&")}}else kn=null;else kn=Ot;return"XMLHTTP REQ ("+le+") [attempt "+dt+"]: "+V+"\n"+$+"\n"+kn})}(m.i,m.u,m.A,m.l,m.R,m.m)}function Ip(m){return!!m.g&&"GET"==m.u&&2!=m.L&&m.j.Ca}function bd(m,V){var $=m.C,le=V.indexOf("\n",$);return-1==le?ol:($=Number(V.substring($,le)),isNaN($)?M1:(le+=1)+$>V.length?ol:(V=V.slice(le,le+$),m.C=le+$,V))}function uh(m){m.S=Date.now()+m.I,vm(m,m.I)}function vm(m,V){if(null!=m.B)throw Error("WatchDog timer not null");m.B=_1(He(m.ba,m),V)}function w1(m){m.B&&(C.clearTimeout(m.B),m.B=null)}function Tp(m){0==m.j.G||m.J||Lm(m.j,m)}function dh(m){w1(m);var V=m.M;V&&"function"==typeof V.ma&&V.ma(),m.M=null,um(m.U),m.g&&(V=m.g,m.g=null,V.abort(),V.ma())}function C0(m,V){try{var $=m.j;if(0!=$.G&&($.g==m||Sp($.h,m)))if(!m.K&&Sp($.h,m)&&3==$.G){try{var le=$.Da.g.parse(V)}catch{le=null}if(Array.isArray(le)&&3==le.length){var dt=le;if(0==dt[0]){e:if(!$.u){if($.g){if(!($.g.F+3e3<m.F))break e;Bp($),Lp($)}F0($),zs(18)}}else $.za=dt[1],0<$.za-$.T&&37500>dt[2]&&$.F&&0==$.v&&!$.C&&($.C=_1(He($.Za,$),6e3));if(1>=zo($.h)&&$.ca){try{$.ca()}catch{}$.ca=void 0}}else Du($,11)}else if((m.K||$.g==m)&&Bp($),!Yn(V))for(dt=$.Da.g.parse(V),V=0;V<dt.length;V++){let ci=dt[V];if($.T=ci[0],ci=ci[1],2==$.G)if("c"==ci[0]){$.K=ci[1],$.ia=ci[2];const oa=ci[3];null!=oa&&($.la=oa,$.j.info("VER="+$.la));const Uo=ci[4];null!=Uo&&($.Aa=Uo,$.j.info("SVER="+$.Aa));const mh=ci[5];null!=mh&&"number"==typeof mh&&0<mh&&($.L=le=1.5*mh,$.j.info("backChannelRequestTimeoutMs_="+le)),le=$;const Lc=m.g;if(Lc){const jp=Lc.g?Lc.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(jp){var Ot=le.h;Ot.g||-1==jp.indexOf("spdy")&&-1==jp.indexOf("quic")&&-1==jp.indexOf("h2")||(Ot.j=Ot.l,Ot.g=new Set,Ot.h&&(A0(Ot,Ot.h),Ot.h=null))}if(le.D){const Ru=Lc.g?Lc.g.getResponseHeader("X-HTTP-Session-Id"):null;Ru&&(le.ya=Ru,Fi(le.I,le.D,Ru))}}$.G=3,$.l&&$.l.ua(),$.ba&&($.R=Date.now()-m.F,$.j.info("Handshake RTT: "+$.R+"ms"));var kn=m;if((le=$).qa=z0(le,le.J?le.ia:null,le.W),kn.K){km(le.h,kn);var $i=kn,_s=le.L;_s&&($i.I=_s),$i.B&&(w1($i),uh($i)),le.g=kn}else Nm(le);0<$.i.length&&Fp($)}else"stop"!=ci[0]&&"close"!=ci[0]||Du($,7);else 3==$.G&&("stop"==ci[0]||"close"==ci[0]?"stop"==ci[0]?Du($,7):L0($):"noop"!=ci[0]&&$.l&&$.l.ta(ci),$.v=0)}ch()}catch{}}function Dp(m){this.l=m||10,m=C.PerformanceNavigationTiming?0<(m=C.performance.getEntriesByType("navigation")).length&&("hq"==m[0].nextHopProtocol||"h2"==m[0].nextHopProtocol):!!(C.chrome&&C.chrome.loadTimes&&C.chrome.loadTimes()&&C.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function _m(m){return!!m.h||!!m.g&&m.g.size>=m.j}function zo(m){return m.h?1:m.g?m.g.size:0}function Sp(m,V){return m.h?m.h==V:!!m.g&&m.g.has(V)}function A0(m,V){m.g?m.g.add(V):m.h=V}function km(m,V){m.h&&m.h==V?m.h=null:m.g&&m.g.has(V)&&m.g.delete(V)}function I0(m){if(null!=m.h)return m.i.concat(m.h.D);if(null!=m.g&&0!==m.g.size){let V=m.i;for(const $ of m.g.values())V=V.concat($.D);return V}return rn(m.i)}function T0(m,V){if(m.forEach&&"function"==typeof m.forEach)m.forEach(V,void 0);else if(O(m)||"string"==typeof m)Array.prototype.forEach.call(m,V,void 0);else for(var $=function bm(m){if(m.na&&"function"==typeof m.na)return m.na();if(!m.V||"function"!=typeof m.V){if(typeof Map<"u"&&m instanceof Map)return Array.from(m.keys());if(!(typeof Set<"u"&&m instanceof Set)){if(O(m)||"string"==typeof m){var V=[];m=m.length;for(var $=0;$<m;$++)V.push($);return V}V=[],$=0;for(const le in m)V[$++]=le;return V}}}(m),le=function wg(m){if(m.V&&"function"==typeof m.V)return m.V();if(typeof Map<"u"&&m instanceof Map||typeof Set<"u"&&m instanceof Set)return Array.from(m.values());if("string"==typeof m)return m.split("");if(O(m)){for(var V=[],$=m.length,le=0;le<$;le++)V.push(m[le]);return V}for(le in V=[],$=0,m)V[$++]=m[le];return V}(m),dt=le.length,Ot=0;Ot<dt;Ot++)V.call(void 0,le[Ot],$&&$[Ot],m)}Ul.prototype.ca=function(m){m=m.target;const V=this.M;V&&3==cl(m)?V.j():this.Y(m)},Ul.prototype.Y=function(m){try{if(m==this.g)e:{const Uo=cl(this.g);var V=this.g.Ba();if(this.g.Z(),!(3>Uo)&&(3!=Uo||this.g&&(this.h.h||this.g.oa()||V0(this.g)))){this.J||4!=Uo||7==V||ch(),w1(this);var $=this.g.Z();this.X=$;t:if(Ip(this)){var le=V0(this.g);m="";var dt=le.length,Ot=4==cl(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){dh(this),Tp(this);var kn="";break t}this.h.i=new C.TextDecoder}for(V=0;V<dt;V++)this.h.h=!0,m+=this.h.i.decode(le[V],{stream:!(Ot&&V==dt-1)});le.length=0,this.h.g+=m,this.C=0,kn=this.h.g}else kn=this.g.oa();if(this.o=200==$,function fm(m,V,$,le,dt,Ot,kn){m.info(function(){return"XMLHTTP RESP ("+le+") [ attempt "+dt+"]: "+V+"\n"+$+"\n"+Ot+" "+kn})}(this.i,this.u,this.A,this.l,this.R,Uo,$),this.o){if(this.T&&!this.K){t:{if(this.g){var $i,_s=this.g;if(($i=_s.g?_s.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Yn($i)){var ci=$i;break t}}ci=null}if(!($=ci)){this.o=!1,this.s=3,zs(12),dh(this),Tp(this);break e}zl(this.i,this.l,$,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,C0(this,$)}if(this.P){let Lc;for($=!0;!this.J&&this.C<kn.length;){if(Lc=bd(this,kn),Lc==ol){4==Uo&&(this.s=4,zs(14),$=!1),zl(this.i,this.l,null,"[Incomplete Response]");break}if(Lc==M1){this.s=4,zs(15),zl(this.i,this.l,kn,"[Invalid Chunk]"),$=!1;break}zl(this.i,this.l,Lc,null),C0(this,Lc)}if(Ip(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=Uo||0!=kn.length||this.h.h||(this.s=1,zs(16),$=!1),this.o=this.o&&$,$){if(0<kn.length&&!this.W){this.W=!0;var oa=this.j;oa.g==this&&oa.ba&&!oa.M&&(oa.j.info("Great, no buffering proxy detected. Bytes received: "+kn.length),B0(oa),oa.M=!0,zs(11))}}else zl(this.i,this.l,kn,"[Invalid Chunked Response]"),dh(this),Tp(this)}else zl(this.i,this.l,kn,null),C0(this,kn);4==Uo&&dh(this),this.o&&!this.J&&(4==Uo?Lm(this.j,this):(this.o=!1,uh(this)))}else(function Ig(m){const V={};m=(m.g&&2<=cl(m)&&m.g.getAllResponseHeaders()||"").split("\r\n");for(let le=0;le<m.length;le++){if(Yn(m[le]))continue;var $=ht(m[le]);const dt=$[0];if("string"!=typeof($=$[1]))continue;$=$.trim();const Ot=V[dt]||[];V[dt]=Ot,Ot.push($)}!function ot(m,V){for(const $ in m)V.call(void 0,m[$],$,m)}(V,function(le){return le.join(", ")})})(this.g),400==$&&0<kn.indexOf("Unknown SID")?(this.s=3,zs(12)):(this.s=0,zs(13)),dh(this),Tp(this)}}}catch{}},Ul.prototype.cancel=function(){this.J=!0,dh(this)},Ul.prototype.ba=function(){this.B=null;const m=Date.now();0<=m-this.S?(function mm(m,V){m.info(function(){return"TIMEOUT: "+V})}(this.i,this.A),2!=this.L&&(ch(),zs(17)),dh(this),this.s=2,Tp(this)):vm(this,this.S-m)},Dp.prototype.cancel=function(){if(this.i=I0(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const m of this.g.values())m.cancel();this.g.clear()}};var Md=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function wd(m){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,m instanceof wd){this.h=m.h,Rp(this,m.j),this.o=m.o,this.g=m.g,E1(this,m.s),this.l=m.l;var V=m.i,$=new C1;$.i=V.i,V.g&&($.g=new Map(V.g),$.h=V.h),xg(this,$),this.m=m.m}else m&&(V=String(m).match(Md))?(this.h=!1,Rp(this,V[1]||"",!0),this.o=Ma(V[2]||""),this.g=Ma(V[3]||"",!0),E1(this,V[4]),this.l=Ma(V[5]||"",!0),xg(this,V[6]||"",!0),this.m=Ma(V[7]||"")):(this.h=!1,this.i=new C1(null,this.h))}function sl(m){return new wd(m)}function Rp(m,V,$){m.j=$?Ma(V,!0):V,m.j&&(m.j=m.j.replace(/:$/,""))}function E1(m,V){if(V){if(V=Number(V),isNaN(V)||0>V)throw Error("Bad port number "+V);m.s=V}else m.s=null}function xg(m,V,$){V instanceof C1?(m.i=V,function Cg(m,V){V&&!m.j&&(Au(m),m.i=null,m.g.forEach(function($,le){var dt=le.toLowerCase();le!=dt&&(xm(this,le),Pp(this,dt,$))},m)),m.j=V}(m.i,m.h)):($||(V=x1(V,wm)),m.i=new C1(V,m.h))}function Fi(m,V,$){m.i.set(V,$)}function hh(m){return Fi(m,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),m}function Ma(m,V){return m?V?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function x1(m,V,$){return"string"==typeof m?(m=encodeURI(m).replace(V,Mm),$&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function Mm(m){return"%"+((m=m.charCodeAt(0))>>4&15).toString(16)+(15&m).toString(16)}wd.prototype.toString=function(){var m=[],V=this.j;V&&m.push(x1(V,Oc,!0),":");var $=this.g;return($||"file"==V)&&(m.push("//"),(V=this.o)&&m.push(x1(V,Oc,!0),"@"),m.push(encodeURIComponent(String($)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=($=this.s)&&m.push(":",String($))),($=this.l)&&(this.g&&"/"!=$.charAt(0)&&m.push("/"),m.push(x1($,"/"==$.charAt(0)?Vc:Nc,!0))),($=this.i.toString())&&m.push("?",$),($=this.m)&&m.push("#",x1($,Em)),m.join("")};var m,Oc=/[#\/\?@]/g,Nc=/[#\?:]/g,Vc=/[#\?]/g,wm=/[#\?@]/g,Em=/#/g;function C1(m,V){this.h=this.g=null,this.i=m||null,this.j=!!V}function Au(m){m.g||(m.g=new Map,m.h=0,m.i&&function Eg(m,V){if(m){m=m.split("&");for(var $=0;$<m.length;$++){var le=m[$].indexOf("="),dt=null;if(0<=le){var Ot=m[$].substring(0,le);dt=m[$].substring(le+1)}else Ot=m[$];V(Ot,dt?decodeURIComponent(dt.replace(/\+/g," ")):"")}}}(m.i,function(V,$){m.add(decodeURIComponent(V.replace(/\+/g," ")),$)}))}function xm(m,V){Au(m),V=al(m,V),m.g.has(V)&&(m.i=null,m.h-=m.g.get(V).length,m.g.delete(V))}function Cm(m,V){return Au(m),V=al(m,V),m.g.has(V)}function Pp(m,V,$){xm(m,V),0<$.length&&(m.i=null,m.g.set(al(m,V),rn($)),m.h+=$.length)}function al(m,V){return V=String(V),m.j&&(V=V.toLowerCase()),V}function Iu(m,V,$,le,dt){try{dt&&(dt.onload=null,dt.onerror=null,dt.onabort=null,dt.ontimeout=null),le($)}catch{}}function Im(){this.g=new Ep}function Tm(m,V,$){const le=$||"";try{T0(m,function(dt,Ot){let kn=dt;H(dt)&&(kn=_0(dt)),V.push(le+Ot+"="+encodeURIComponent(kn))})}catch(dt){throw V.push(le+"type="+encodeURIComponent("_badmap")),dt}}function Tu(m){this.l=m.Ub||null,this.j=m.eb||!1}function Op(m,V){vs.call(this),this.D=m,this.o=V,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function D0(m){m.j.read().then(m.Pa.bind(m)).catch(m.ga.bind(m))}function ph(m){m.readyState=4,m.l=null,m.j=null,m.v=null,fh(m)}function fh(m){m.onreadystatechange&&m.onreadystatechange.call(m)}function Dm(m){let V="";return $r(m,function($,le){V+=le,V+=":",V+=$,V+="\r\n"}),V}function S0(m,V,$){e:{for(le in $){var le=!1;break e}le=!0}le||($=Dm($),"string"==typeof m?null!=$&&encodeURIComponent(String($)):Fi(m,V,$))}function co(m){vs.call(this),this.headers=new Map,this.o=m||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(a=C1.prototype).add=function(m,V){Au(this),this.i=null,m=al(this,m);var $=this.g.get(m);return $||this.g.set(m,$=[]),$.push(V),this.h+=1,this},a.forEach=function(m,V){Au(this),this.g.forEach(function($,le){$.forEach(function(dt){m.call(V,dt,le,this)},this)},this)},a.na=function(){Au(this);const m=Array.from(this.g.values()),V=Array.from(this.g.keys()),$=[];for(let le=0;le<V.length;le++){const dt=m[le];for(let Ot=0;Ot<dt.length;Ot++)$.push(V[le])}return $},a.V=function(m){Au(this);let V=[];if("string"==typeof m)Cm(this,m)&&(V=V.concat(this.g.get(al(this,m))));else{m=Array.from(this.g.values());for(let $=0;$<m.length;$++)V=V.concat(m[$])}return V},a.set=function(m,V){return Au(this),this.i=null,Cm(this,m=al(this,m))&&(this.h-=this.g.get(m).length),this.g.set(m,[V]),this.h+=1,this},a.get=function(m,V){return m&&0<(m=this.V(m)).length?String(m[0]):V},a.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],V=Array.from(this.g.keys());for(var $=0;$<V.length;$++){var le=V[$];const Ot=encodeURIComponent(String(le)),kn=this.V(le);for(le=0;le<kn.length;le++){var dt=Ot;""!==kn[le]&&(dt+="="+encodeURIComponent(String(kn[le]))),m.push(dt)}}return this.i=m.join("&")},Ht(Tu,m1),Tu.prototype.g=function(){return new Op(this.l,this.j)},Tu.prototype.i=(m={},function(){return m}),Ht(Op,vs),(a=Op.prototype).open=function(m,V){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=m,this.A=V,this.readyState=1,fh(this)},a.send=function(m){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const V={headers:this.u,method:this.B,credentials:this.m,cache:void 0};m&&(V.body=m),(this.D||C).fetch(new Request(this.A,V)).then(this.Sa.bind(this),this.ga.bind(this))},a.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,ph(this)),this.readyState=0},a.Sa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,fh(this)),this.g&&(this.readyState=3,fh(this),this.g)))if("arraybuffer"===this.responseType)m.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof C.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;D0(this)}else m.text().then(this.Ra.bind(this),this.ga.bind(this))},a.Pa=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var V=m.value?m.value:new Uint8Array(0);(V=this.v.decode(V,{stream:!m.done}))&&(this.response=this.responseText+=V)}m.done?ph(this):fh(this),3==this.readyState&&D0(this)}},a.Ra=function(m){this.g&&(this.response=this.responseText=m,ph(this))},a.Qa=function(m){this.g&&(this.response=m,ph(this))},a.ga=function(){this.g&&ph(this)},a.setRequestHeader=function(m,V){this.u.append(m,V)},a.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},a.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],V=this.h.entries();for(var $=V.next();!$.done;)m.push(($=$.value)[0]+": "+$[1]),$=V.next();return m.join("\r\n")},Object.defineProperty(Op.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(m){this.m=m?"include":"same-origin"}}),Ht(co,vs);var Np=/^https?$/i,R0=["POST","PUT"];function Vp(m,V){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=V,m.m=5,P0(m),A1(m)}function P0(m){m.A||(m.A=!0,Rs(m,"complete"),Rs(m,"error"))}function O0(m){if(m.h&&typeof g<"u"&&(!m.v[1]||4!=cl(m)||2!=m.Z()))if(m.u&&4==cl(m))p1(m.Ea,0,m);else if(Rs(m,"readystatechange"),4==cl(m)){m.h=!1;try{const kn=m.Z();e:switch(kn){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var V=!0;break e;default:V=!1}var $;if(!($=V)){var le;if(le=0===kn){var dt=String(m.D).match(Md)[1]||null;!dt&&C.self&&C.self.location&&(dt=C.self.location.protocol.slice(0,-1)),le=!Np.test(dt?dt.toLowerCase():"")}$=le}if($)Rs(m,"complete"),Rs(m,"success");else{m.m=6;try{var Ot=2<cl(m)?m.g.statusText:""}catch{Ot=""}m.l=Ot+" ["+m.Z()+"]",P0(m)}}finally{A1(m)}}}function A1(m,V){if(m.g){N0(m);const $=m.g,le=m.v[0]?()=>{}:null;m.g=null,m.v=null,V||Rs(m,"ready");try{$.onreadystatechange=le}catch{}}}function N0(m){m.I&&(C.clearTimeout(m.I),m.I=null)}function cl(m){return m.g?m.g.readyState:0}function V0(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.H){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function I1(m,V,$){return $&&$.internalChannelParams&&$.internalChannelParams[m]||V}function Sm(m){this.Aa=0,this.i=[],this.j=new lh,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=I1("failFast",!1,m),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=I1("baseRetryDelayMs",5e3,m),this.cb=I1("retryDelaySeedMs",1e4,m),this.Wa=I1("forwardChannelMaxRetries",2,m),this.wa=I1("forwardChannelRequestTimeoutMs",2e4,m),this.pa=m&&m.xmlHttpFactory||void 0,this.Xa=m&&m.Tb||void 0,this.Ca=m&&m.useFetchStreams||!1,this.L=void 0,this.J=m&&m.supportsCrossDomainXhr||!1,this.K="",this.h=new Dp(m&&m.concurrentRequestLimit),this.Da=new Im,this.P=m&&m.fastHandshake||!1,this.O=m&&m.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=m&&m.Rb||!1,m&&m.xa&&this.j.xa(),m&&m.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&m&&m.detectBufferingProxy||!1,this.ja=void 0,m&&m.longPollingTimeout&&0<m.longPollingTimeout&&(this.ja=m.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function L0(m){if(Rm(m),3==m.G){var V=m.U++,$=sl(m.I);if(Fi($,"SID",m.K),Fi($,"RID",V),Fi($,"TYPE","terminate"),T1(m,$),(V=new Ul(m,m.j,V)).L=2,V.v=hh(sl($)),$=!1,C.navigator&&C.navigator.sendBeacon)try{$=C.navigator.sendBeacon(V.v.toString(),"")}catch{}!$&&C.Image&&((new Image).src=V.v,$=!0),$||(V.g=U0(V.j,null),V.g.ea(V.v)),V.F=Date.now(),uh(V)}j0(m)}function Lp(m){m.g&&(B0(m),m.g.cancel(),m.g=null)}function Rm(m){Lp(m),m.u&&(C.clearTimeout(m.u),m.u=null),Bp(m),m.h.cancel(),m.s&&("number"==typeof m.s&&C.clearTimeout(m.s),m.s=null)}function Fp(m){if(!_m(m.h)&&!m.s){m.s=!0;var V=m.Ga;Bl||l0(),vd||(Bl(),vd=!0),sh.add(V,m),m.B=0}}function Pm(m,V){var $;$=V?V.l:m.U++;const le=sl(m.I);Fi(le,"SID",m.K),Fi(le,"RID",$),Fi(le,"AID",m.T),T1(m,le),m.m&&m.o&&S0(le,m.m,m.o),$=new Ul(m,m.j,$,m.B+1),null===m.m&&($.H=m.o),V&&(m.i=V.D.concat(m.i)),V=Om(m,$,1e3),$.I=Math.round(.5*m.wa)+Math.round(.5*m.wa*Math.random()),A0(m.h,$),x0($,le,V)}function T1(m,V){m.H&&$r(m.H,function($,le){Fi(V,le,$)}),m.l&&T0({},function($,le){Fi(V,le,$)})}function Om(m,V,$){$=Math.min(m.i.length,$);var le=m.l?He(m.l.Na,m.l,m):null;e:{var dt=m.i;let Ot=-1;for(;;){const kn=["count="+$];-1==Ot?0<$?(Ot=dt[0].g,kn.push("ofs="+Ot)):Ot=0:kn.push("ofs="+Ot);let $i=!0;for(let _s=0;_s<$;_s++){let ci=dt[_s].g;const oa=dt[_s].map;if(ci-=Ot,0>ci)Ot=Math.max(0,dt[_s].g-100),$i=!1;else try{Tm(oa,kn,"req"+ci+"_")}catch{le&&le(oa)}}if($i){le=kn.join("&");break e}}}return m=m.i.splice(0,$),V.D=m,le}function Nm(m){if(!m.g&&!m.u){m.Y=1;var V=m.Fa;Bl||l0(),vd||(Bl(),vd=!0),sh.add(V,m),m.v=0}}function F0(m){return!(m.g||m.u||3<=m.v||(m.Y++,m.u=_1(He(m.Fa,m),Fm(m,m.v)),m.v++,0))}function B0(m){null!=m.A&&(C.clearTimeout(m.A),m.A=null)}function Vm(m){m.g=new Ul(m,m.j,"rpc",m.Y),null===m.m&&(m.g.H=m.o),m.g.O=0;var V=sl(m.qa);Fi(V,"RID","rpc"),Fi(V,"SID",m.K),Fi(V,"AID",m.T),Fi(V,"CI",m.F?"0":"1"),!m.F&&m.ja&&Fi(V,"TO",m.ja),Fi(V,"TYPE","xmlhttp"),T1(m,V),m.m&&m.o&&S0(V,m.m,m.o),m.L&&(m.g.I=m.L);var $=m.g;m=m.ia,$.L=1,$.v=hh(sl(V)),$.m=null,$.P=!0,gm($,m)}function Bp(m){null!=m.C&&(C.clearTimeout(m.C),m.C=null)}function Lm(m,V){var $=null;if(m.g==V){Bp(m),B0(m),m.g=null;var le=2}else{if(!Sp(m.h,V))return;$=V.D,km(m.h,V),le=1}if(0!=m.G)if(V.o)if(1==le){$=V.m?V.m.length:0,V=Date.now()-V.F;var dt=m.B;Rs(le=v1(),new M0(le,$)),Fp(m)}else Nm(m);else if(3==(dt=V.s)||0==dt&&0<V.X||!(1==le&&function Tg(m,V){return!(zo(m.h)>=m.h.j-(m.s?1:0)||(m.s?(m.i=V.D.concat(m.i),0):1==m.G||2==m.G||m.B>=(m.Va?0:m.Wa)||(m.s=_1(He(m.Ga,m,V),Fm(m,m.B)),m.B++,0)))}(m,V)||2==le&&F0(m)))switch($&&0<$.length&&(V=m.h,V.i=V.i.concat($)),dt){case 1:Du(m,5);break;case 4:Du(m,10);break;case 3:Du(m,6);break;default:Du(m,2)}}function Fm(m,V){let $=m.Ta+Math.floor(Math.random()*m.cb);return m.isActive()||($*=2),$*V}function Du(m,V){if(m.j.info("Error code "+V),2==V){var $=He(m.fb,m),le=m.Xa;const dt=!le;le=new wd(le||"//www.google.com/images/cleardot.gif"),C.location&&"http"==C.location.protocol||Rp(le,"https"),hh(le),dt?function Am(m,V){const $=new lh;if(C.Image){const le=new Image;le.onload=bt(Iu,$,"TestLoadImage: loaded",!0,V,le),le.onerror=bt(Iu,$,"TestLoadImage: error",!1,V,le),le.onabort=bt(Iu,$,"TestLoadImage: abort",!1,V,le),le.ontimeout=bt(Iu,$,"TestLoadImage: timeout",!1,V,le),C.setTimeout(function(){le.ontimeout&&le.ontimeout()},1e4),le.src=m}else V(!1)}(le.toString(),$):function Ag(m,V){new lh;const le=new AbortController,dt=setTimeout(()=>{le.abort(),Iu(0,0,!1,V)},1e4);fetch(m,{signal:le.signal}).then(Ot=>{clearTimeout(dt),Iu(0,0,!!Ot.ok,V)}).catch(()=>{clearTimeout(dt),Iu(0,0,!1,V)})}(le.toString(),$)}else zs(2);m.G=0,m.l&&m.l.sa(V),j0(m),Rm(m)}function j0(m){if(m.G=0,m.ka=[],m.l){const V=I0(m.h);(0!=V.length||0!=m.i.length)&&(Jt(m.ka,V),Jt(m.ka,m.i),m.h.i.length=0,rn(m.i),m.i.length=0),m.l.ra()}}function z0(m,V,$){var le=$ instanceof wd?sl($):new wd($);if(""!=le.g)V&&(le.g=V+"."+le.g),E1(le,le.s);else{var dt=C.location;le=dt.protocol,V=V?V+"."+dt.hostname:dt.hostname,dt=+dt.port;var Ot=new wd(null);le&&Rp(Ot,le),V&&(Ot.g=V),dt&&E1(Ot,dt),$&&(Ot.l=$),le=Ot}return V=m.ya,($=m.D)&&V&&Fi(le,$,V),Fi(le,"VER",m.la),T1(m,le),le}function U0(m,V,$){if(V&&!m.J)throw Error("Can't create secondary domain capable XhrIo object.");return(V=new co(m.Ca&&!m.pa?new Tu({eb:$}):m.pa)).Ha(m.J),V}function H0(){}function D1(){}function wa(m,V){vs.call(this),this.g=new Sm(V),this.l=m,this.h=V&&V.messageUrlParams||null,m=V&&V.messageHeaders||null,V&&V.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=V&&V.initMessageHeaders||null,V&&V.messageContentType&&(m?m["X-WebChannel-Content-Type"]=V.messageContentType:m={"X-WebChannel-Content-Type":V.messageContentType}),V&&V.va&&(m?m["X-WebChannel-Client-Profile"]=V.va:m={"X-WebChannel-Client-Profile":V.va}),this.g.S=m,(m=V&&V.Sb)&&!Yn(m)&&(this.g.m=m),this.v=V&&V.supportsCrossDomainXhr||!1,this.u=V&&V.sendRawJson||!1,(V=V&&V.httpSessionIdParam)&&!Yn(V)&&(this.g.D=V,null!==(m=this.h)&&V in m&&V in(m=this.h)&&delete m[V]),this.j=new Su(this)}function q0(m){xp.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var V=m.__sm__;if(V){e:{for(const $ in V){m=$;break e}m=void 0}(this.i=m)&&(m=this.i,V=null!==V&&m in V?V[m]:void 0),this.data=V}else this.data=m}function $0(){g1.call(this),this.status=1}function Su(m){this.g=m}(a=co.prototype).Ha=function(m){this.J=m},a.ea=function(m,V,$,le){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);V=V?V.toUpperCase():"GET",this.D=m,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ap.g(),this.v=function k0(m){return m.h||(m.h=m.i())}(this.o?this.o:Ap),this.g.onreadystatechange=He(this.Ea,this);try{this.B=!0,this.g.open(V,String(m),!0),this.B=!1}catch(Ot){return void Vp(this,Ot)}if(m=$||"",$=new Map(this.headers),le)if(Object.getPrototypeOf(le)===Object.prototype)for(var dt in le)$.set(dt,le[dt]);else{if("function"!=typeof le.keys||"function"!=typeof le.get)throw Error("Unknown input type for opt_headers: "+String(le));for(const Ot of le.keys())$.set(Ot,le.get(Ot))}le=Array.from($.keys()).find(Ot=>"content-type"==Ot.toLowerCase()),dt=C.FormData&&m instanceof C.FormData,!(0<=Array.prototype.indexOf.call(R0,V,void 0))||le||dt||$.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Ot,kn]of $)this.g.setRequestHeader(Ot,kn);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{N0(this),this.u=!0,this.g.send(m),this.u=!1}catch(Ot){Vp(this,Ot)}},a.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=m||7,Rs(this,"complete"),Rs(this,"abort"),A1(this))},a.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),A1(this,!0)),co.aa.N.call(this)},a.Ea=function(){this.s||(this.B||this.u||this.j?O0(this):this.bb())},a.bb=function(){O0(this)},a.isActive=function(){return!!this.g},a.Z=function(){try{return 2<cl(this)?this.g.status:-1}catch{return-1}},a.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},a.Oa=function(m){if(this.g){var V=this.g.responseText;return m&&0==V.indexOf(m)&&(V=V.substring(m.length)),wp(V)}},a.Ba=function(){return this.m},a.Ka=function(){return"string"==typeof this.l?this.l:String(this.l)},(a=Sm.prototype).la=8,a.G=1,a.connect=function(m,V,$,le){zs(0),this.W=m,this.H=V||{},$&&void 0!==le&&(this.H.OSID=$,this.H.OAID=le),this.F=this.X,this.I=z0(this,null,this.W),Fp(this)},a.Ga=function(m){if(this.s)if(this.s=null,1==this.G){if(!m){this.U=Math.floor(1e5*Math.random()),m=this.U++;const dt=new Ul(this,this.j,m);let Ot=this.o;if(this.S&&(Ot?(Ot=Fe(Ot),at(Ot,this.S)):Ot=this.S),null!==this.m||this.O||(dt.H=Ot,Ot=null),this.P)e:{for(var V=0,$=0;$<this.i.length;$++){var le=this.i[$];if(void 0===(le="__data__"in le.map&&"string"==typeof(le=le.map.__data__)?le.length:void 0))break;if(4096<(V+=le)){V=$;break e}if(4096===V||$===this.i.length-1){V=$+1;break e}}V=1e3}else V=1e3;V=Om(this,dt,V),Fi($=sl(this.I),"RID",m),Fi($,"CVER",22),this.D&&Fi($,"X-HTTP-Session-Id",this.D),T1(this,$),Ot&&(this.O?V="headers="+encodeURIComponent(String(Dm(Ot)))+"&"+V:this.m&&S0($,this.m,Ot)),A0(this.h,dt),this.Ua&&Fi($,"TYPE","init"),this.P?(Fi($,"$req",V),Fi($,"SID","null"),dt.T=!0,x0(dt,$,null)):x0(dt,$,V),this.G=2}}else 3==this.G&&(m?Pm(this,m):0==this.i.length||_m(this.h)||Pm(this))},a.Fa=function(){if(this.u=null,Vm(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var m=2*this.R;this.j.info("BP detection timer enabled: "+m),this.A=_1(He(this.ab,this),m)}},a.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,zs(10),Lp(this),Vm(this))},a.Za=function(){null!=this.C&&(this.C=null,Lp(this),F0(this),zs(19))},a.fb=function(m){m?(this.j.info("Successfully pinged google.com"),zs(2)):(this.j.info("Failed to ping google.com"),zs(1))},a.isActive=function(){return!!this.l&&this.l.isActive(this)},(a=H0.prototype).ua=function(){},a.ta=function(){},a.sa=function(){},a.ra=function(){},a.isActive=function(){return!0},a.Na=function(){},D1.prototype.g=function(m,V){return new wa(m,V)},Ht(wa,vs),wa.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},wa.prototype.close=function(){L0(this.g)},wa.prototype.o=function(m){var V=this.g;if("string"==typeof m){var $={};$.__data__=m,m=$}else this.u&&(($={}).__data__=_0(m),m=$);V.i.push(new class{constructor(m,V){this.g=m,this.map=V}}(V.Ya++,m)),3==V.G&&Fp(V)},wa.prototype.N=function(){this.g.l=null,delete this.j,L0(this.g),delete this.g,wa.aa.N.call(this)},Ht(q0,xp),Ht($0,g1),Ht(Su,H0),Su.prototype.ua=function(){Rs(this.g,"a")},Su.prototype.ta=function(m){Rs(this.g,new q0(m))},Su.prototype.sa=function(m){Rs(this.g,new $0)},Su.prototype.ra=function(){Rs(this.g,"b")},D1.prototype.createWebChannel=D1.prototype.g,wa.prototype.send=wa.prototype.o,wa.prototype.open=wa.prototype.m,wa.prototype.close=wa.prototype.close,ft=It.createWebChannelTransport=function(){return new D1},Qe=It.getStatEventTarget=function(){return v1()},je=It.Event=Cu,We=It.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},k1.NO_ERROR=0,k1.TIMEOUT=8,k1.HTTP_ERROR=6,be=It.ErrorCode=k1,w0.COMPLETE="complete",Zt=It.EventType=w0,dm.EventType=y1,y1.OPEN="a",y1.CLOSE="b",y1.ERROR="c",y1.MESSAGE="d",vs.prototype.listen=vs.prototype.K,dn=It.WebChannel=dm,It.FetchXmlHttpFactory=Tu,co.prototype.listenOnce=co.prototype.L,co.prototype.getLastError=co.prototype.Ka,co.prototype.getLastErrorCode=co.prototype.Ba,co.prototype.getStatus=co.prototype.Z,co.prototype.getResponseJson=co.prototype.Oa,co.prototype.getResponseText=co.prototype.oa,co.prototype.send=co.prototype.ea,co.prototype.setWithCredentials=co.prototype.Ha,Nt=It.XhrIo=co}).apply(typeof _t<"u"?_t:typeof self<"u"?self:typeof window<"u"?window:{});const Ct="@firebase/firestore";class Yt{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Yt.UNAUTHENTICATED=new Yt(null),Yt.GOOGLE_CREDENTIALS=new Yt("google-credentials-uid"),Yt.FIRST_PARTY=new Yt("first-party-uid"),Yt.MOCK_USER=new Yt("mock-user");let fn="10.14.0";const bn=new Ie.Vy("@firebase/firestore");function Ln(){return bn.logLevel}function mt(a,...e){if(bn.logLevel<=Ie.$b.DEBUG){const r=e.map(ln);bn.debug(`Firestore (${fn}): ${a}`,...r)}}function zt(a,...e){if(bn.logLevel<=Ie.$b.ERROR){const r=e.map(ln);bn.error(`Firestore (${fn}): ${a}`,...r)}}function mn(a,...e){if(bn.logLevel<=Ie.$b.WARN){const r=e.map(ln);bn.warn(`Firestore (${fn}): ${a}`,...r)}}function ln(a){if("string"==typeof a)return a;try{return JSON.stringify(a)}catch{return a}}function Vt(a="Unexpected state"){const e=`FIRESTORE (${fn}) INTERNAL ASSERTION FAILED: `+a;throw zt(e),new Error(e)}function kt(a,e){a||Vt()}function ke(a,e){return a}const ue={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Oe extends ne.g{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Tt{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}class yt{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Dt{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r(Yt.UNAUTHENTICATED))}shutdown(){}}class vn{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class tr{constructor(e){this.t=e,this.currentUser=Yt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){var o=this;kt(void 0===this.o);let c=this.i;const p=H=>this.i!==c?(c=this.i,r(H)):Promise.resolve();let g=new Tt;this.o=()=>{this.i++,this.currentUser=this.u(),g.resolve(),g=new Tt,e.enqueueRetryable(()=>p(this.currentUser))};const C=()=>{const H=g;e.enqueueRetryable((0,se.A)(function*(){yield H.promise,yield p(o.currentUser)}))},O=H=>{mt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=H,this.o&&(this.auth.addAuthTokenListener(this.o),C())};this.t.onInit(H=>O(H)),setTimeout(()=>{if(!this.auth){const H=this.t.getImmediate({optional:!0});H?O(H):(mt("FirebaseAuthCredentialsProvider","Auth not yet detected"),g.resolve(),g=new Tt)}},0),C()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(o=>this.i!==e?(mt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):o?(kt("string"==typeof o.accessToken),new yt(o.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return kt(null===e||"string"==typeof e),new Yt(e)}}class an{constructor(e,r,o){this.l=e,this.h=r,this.P=o,this.type="FirstParty",this.user=Yt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class In{constructor(e,r,o){this.l=e,this.h=r,this.P=o}getToken(){return Promise.resolve(new an(this.l,this.h,this.P))}start(e,r){e.enqueueRetryable(()=>r(Yt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Nn{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class gr{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,r){kt(void 0===this.o);const o=p=>{null!=p.error&&mt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${p.error.message}`);const g=p.token!==this.R;return this.R=p.token,mt("FirebaseAppCheckTokenProvider",`Received ${g?"new":"existing"} token.`),g?r(p.token):Promise.resolve()};this.o=p=>{e.enqueueRetryable(()=>o(p))};const c=p=>{mt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=p,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(p=>c(p)),setTimeout(()=>{if(!this.appCheck){const p=this.A.getImmediate({optional:!0});p?c(p):mt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?(kt("string"==typeof r.token),this.R=r.token,new Nn(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function cr(a){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(a);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(r);else for(let o=0;o<a;o++)r[o]=Math.floor(256*Math.random());return r}class lr{static newId(){const r=62*Math.floor(256/62);let o="";for(;o.length<20;){const c=cr(40);for(let p=0;p<c.length;++p)o.length<20&&c[p]<r&&(o+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(c[p]%62))}return o}}function hn(a,e){return a<e?-1:a>e?1:0}function Pt(a,e,r){return a.length===e.length&&a.every((o,c)=>r(o,e[c]))}class Ce{constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new Oe(ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new Oe(ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<-62135596800)throw new Oe(ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Oe(ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ce.fromMillis(Date.now())}static fromDate(e){return Ce.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),o=Math.floor(1e6*(e-1e3*r));return new Ce(r,o)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?hn(this.nanoseconds,e.nanoseconds):hn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Ae{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ae(e)}static min(){return new Ae(new Ce(0,0))}static max(){return new Ae(new Ce(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class rt{constructor(e,r,o){void 0===r?r=0:r>e.length&&Vt(),void 0===o?o=e.length-r:o>e.length-r&&Vt(),this.segments=e,this.offset=r,this.len=o}get length(){return this.len}isEqual(e){return 0===rt.comparator(this,e)}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof rt?e.forEach(o=>{r.push(o)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,o=this.limit();r<o;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const o=Math.min(e.length,r.length);for(let c=0;c<o;c++){const p=e.get(c),g=r.get(c);if(p<g)return-1;if(p>g)return 1}return e.length<r.length?-1:e.length>r.length?1:0}}class Ye extends rt{construct(e,r,o){return new Ye(e,r,o)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const o of e){if(o.indexOf("//")>=0)throw new Oe(ue.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);r.push(...o.split("/").filter(c=>c.length>0))}return new Ye(r)}static emptyPath(){return new Ye([])}}const it=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class $e extends rt{construct(e,r,o){return new $e(e,r,o)}static isValidIdentifier(e){return it.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),$e.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new $e(["__name__"])}static fromServerFormat(e){const r=[];let o="",c=0;const p=()=>{if(0===o.length)throw new Oe(ue.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(o),o=""};let g=!1;for(;c<e.length;){const C=e[c];if("\\"===C){if(c+1===e.length)throw new Oe(ue.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const O=e[c+1];if("\\"!==O&&"."!==O&&"`"!==O)throw new Oe(ue.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);o+=O,c+=2}else"`"===C?(g=!g,c++):"."!==C||g?(o+=C,c++):(p(),c++)}if(p(),g)throw new Oe(ue.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new $e(r)}static emptyPath(){return new $e([])}}class de{constructor(e){this.path=e}static fromPath(e){return new de(Ye.fromString(e))}static fromName(e){return new de(Ye.fromString(e).popFirst(5))}static empty(){return new de(Ye.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Ye.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,r){return Ye.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new de(new Ye(e.slice()))}}class sr{constructor(e,r,o){this.readTime=e,this.documentKey=r,this.largestBatchId=o}static min(){return new sr(Ae.min(),de.empty(),-1)}static max(){return new sr(Ae.max(),de.empty(),-1)}}function Jr(a,e){let r=a.readTime.compareTo(e.readTime);return 0!==r?r:(r=de.comparator(a.documentKey,e.documentKey),0!==r?r:hn(a.largestBatchId,e.largestBatchId))}const Kn="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Or{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Xr(a){return ei.apply(this,arguments)}function ei(){return(ei=(0,se.A)(function*(a){if(a.code!==ue.FAILED_PRECONDITION||a.message!==Kn)throw a;mt("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}class et{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&Vt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new et((o,c)=>{this.nextCallback=p=>{this.wrapSuccess(e,p).next(o,c)},this.catchCallback=p=>{this.wrapFailure(r,p).next(o,c)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof et?r:et.resolve(r)}catch(r){return et.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):et.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):et.reject(r)}static resolve(e){return new et((r,o)=>{r(e)})}static reject(e){return new et((r,o)=>{o(e)})}static waitFor(e){return new et((r,o)=>{let c=0,p=0,g=!1;e.forEach(C=>{++c,C.next(()=>{++p,g&&p===c&&r()},O=>o(O))}),g=!0,p===c&&r()})}static or(e){let r=et.resolve(!1);for(const o of e)r=r.next(c=>c?et.resolve(c):o());return r}static forEach(e,r){const o=[];return e.forEach((c,p)=>{o.push(r.call(this,c,p))}),this.waitFor(o)}static mapArray(e,r){return new et((o,c)=>{const p=e.length,g=new Array(p);let C=0;for(let O=0;O<p;O++){const H=O;r(e[H]).next(Y=>{g[H]=Y,++C,C===p&&o(g)},Y=>c(Y))}})}static doWhile(e,r){return new et((o,c)=>{const p=()=>{!0===e()?r().next(()=>{p()},c):o()};p()})}}function P(a){return"IndexedDbTransactionError"===a.name}let re=(()=>{class a{constructor(r,o){this.previousValue=r,o&&(o.sequenceNumberHandler=c=>this.ie(c),this.se=c=>o.writeSequenceNumber(c))}ie(r){return this.previousValue=Math.max(r,this.previousValue),this.previousValue}next(){const r=++this.previousValue;return this.se&&this.se(r),r}}return a.oe=-1,a})();function Te(a){return null==a}function st(a){return 0===a&&1/a==-1/0}function xa(a){let e=0;for(const r in a)Object.prototype.hasOwnProperty.call(a,r)&&e++;return e}function lo(a,e){for(const r in a)Object.prototype.hasOwnProperty.call(a,r)&&e(r,a[r])}function Us(a){for(const e in a)if(Object.prototype.hasOwnProperty.call(a,e))return!1;return!0}class Nr{constructor(e,r){this.comparator=e,this.root=r||ui.EMPTY}insert(e,r){return new Nr(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,ui.BLACK,null,null))}remove(e){return new Nr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ui.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(0===o)return r.value;o<0?r=r.left:o>0&&(r=r.right)}return null}indexOf(e){let r=0,o=this.root;for(;!o.isEmpty();){const c=this.comparator(e,o.key);if(0===c)return r+o.left.size;c<0?o=o.left:(r+=o.left.size+1,o=o.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,o)=>(e(r,o),!1))}toString(){const e=[];return this.inorderTraversal((r,o)=>(e.push(`${r}:${o}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ii(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ii(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ii(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ii(this.root,e,this.comparator,!0)}}class Ii{constructor(e,r,o,c){this.isReverse=c,this.nodeStack=[];let p=1;for(;!e.isEmpty();)if(p=r?o(e.key,r):1,r&&c&&(p*=-1),p<0)e=this.isReverse?e.left:e.right;else{if(0===p){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ui{constructor(e,r,o,c,p){this.key=e,this.value=r,this.color=o??ui.RED,this.left=c??ui.EMPTY,this.right=p??ui.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,o,c,p){return new ui(e??this.key,r??this.value,o??this.color,c??this.left,p??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,o){let c=this;const p=o(e,c.key);return c=p<0?c.copy(null,null,null,c.left.insert(e,r,o),null):0===p?c.copy(null,r,null,null,null):c.copy(null,null,null,null,c.right.insert(e,r,o)),c.fixUp()}removeMin(){if(this.left.isEmpty())return ui.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let o,c=this;if(r(e,c.key)<0)c.left.isEmpty()||c.left.isRed()||c.left.left.isRed()||(c=c.moveRedLeft()),c=c.copy(null,null,null,c.left.remove(e,r),null);else{if(c.left.isRed()&&(c=c.rotateRight()),c.right.isEmpty()||c.right.isRed()||c.right.left.isRed()||(c=c.moveRedRight()),0===r(e,c.key)){if(c.right.isEmpty())return ui.EMPTY;o=c.right.min(),c=c.copy(o.key,o.value,null,null,c.right.removeMin())}c=c.copy(null,null,null,null,c.right.remove(e,r))}return c.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ui.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ui.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Vt();const e=this.left.check();if(e!==this.right.check())throw Vt();return e+(this.isRed()?0:1)}}ui.EMPTY=null,ui.RED=!0,ui.BLACK=!1,ui.EMPTY=new class{constructor(){this.size=0}get key(){throw Vt()}get value(){throw Vt()}get color(){throw Vt()}get left(){throw Vt()}get right(){throw Vt()}copy(e,r,o,c,p){return this}insert(e,r,o){return new ui(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Tr{constructor(e){this.comparator=e,this.data=new Nr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,o)=>(e(r),!1))}forEachInRange(e,r){const o=this.data.getIteratorFrom(e[0]);for(;o.hasNext();){const c=o.getNext();if(this.comparator(c.key,e[1])>=0)return;r(c.key)}}forEachWhile(e,r){let o;for(o=void 0!==r?this.data.getIteratorFrom(r):this.data.getIterator();o.hasNext();)if(!e(o.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new Ps(this.data.getIterator())}getIteratorFrom(e){return new Ps(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(o=>{r=r.add(o)}),r}isEqual(e){if(!(e instanceof Tr)||this.size!==e.size)return!1;const r=this.data.getIterator(),o=e.data.getIterator();for(;r.hasNext();){const c=r.getNext().key,p=o.getNext().key;if(0!==this.comparator(c,p))return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new Tr(this.comparator);return r.data=e,r}}class Ps{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Xi{constructor(e){this.fields=e,e.sort($e.comparator)}static empty(){return new Xi([])}unionWith(e){let r=new Tr($e.comparator);for(const o of this.fields)r=r.add(o);for(const o of e)r=r.add(o);return new Xi(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return Pt(this.fields,e.fields,(r,o)=>r.isEqual(o))}}class Hs extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Br{constructor(e){this.binaryString=e}static fromBase64String(e){const r=function(c){try{return atob(c)}catch(p){throw typeof DOMException<"u"&&p instanceof DOMException?new Hs("Invalid base64 string: "+p):p}}(e);return new Br(r)}static fromUint8Array(e){const r=function(c){let p="";for(let g=0;g<c.length;++g)p+=String.fromCharCode(c[g]);return p}(e);return new Br(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(r){const o=new Uint8Array(r.length);for(let c=0;c<r.length;c++)o[c]=r.charCodeAt(c);return o}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return hn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Br.EMPTY_BYTE_STRING=new Br("");const Ms=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Yi(a){if(kt(!!a),"string"==typeof a){let e=0;const r=Ms.exec(a);if(kt(!!r),r[1]){let c=r[1];c=(c+"000000000").substr(0,9),e=Number(c)}const o=new Date(a);return{seconds:Math.floor(o.getTime()/1e3),nanos:e}}return{seconds:En(a.seconds),nanos:En(a.nanos)}}function En(a){return"number"==typeof a?a:"string"==typeof a?Number(a):0}function Mr(a){return"string"==typeof a?Br.fromBase64String(a):Br.fromUint8Array(a)}function di(a){var e,r;return"server_timestamp"===(null===(r=((null===(e=a?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===r?void 0:r.stringValue)}function Ji(a){const e=a.mapValue.fields.__previous_value__;return di(e)?Ji(e):e}function Mi(a){const e=Yi(a.mapValue.fields.__local_write_time__.timestampValue);return new Ce(e.seconds,e.nanos)}class ts{constructor(e,r,o,c,p,g,C,O,H){this.databaseId=e,this.appId=r,this.persistenceKey=o,this.host=c,this.ssl=p,this.forceLongPolling=g,this.autoDetectLongPolling=C,this.longPollingOptions=O,this.useFetchStreams=H}}class Co{constructor(e,r){this.projectId=e,this.database=r||"(default)"}static empty(){return new Co("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Co&&e.projectId===this.projectId&&e.database===this.database}}const eo={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function to(a){return"nullValue"in a?0:"booleanValue"in a?1:"integerValue"in a||"doubleValue"in a?2:"timestampValue"in a?3:"stringValue"in a?5:"bytesValue"in a?6:"referenceValue"in a?7:"geoPointValue"in a?8:"arrayValue"in a?9:"mapValue"in a?di(a)?4:us(a)?9007199254740991:$o(a)?10:11:Vt()}function Cr(a,e){if(a===e)return!0;const r=to(a);if(r!==to(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return a.booleanValue===e.booleanValue;case 4:return Mi(a).isEqual(Mi(e));case 3:return function(c,p){if("string"==typeof c.timestampValue&&"string"==typeof p.timestampValue&&c.timestampValue.length===p.timestampValue.length)return c.timestampValue===p.timestampValue;const g=Yi(c.timestampValue),C=Yi(p.timestampValue);return g.seconds===C.seconds&&g.nanos===C.nanos}(a,e);case 5:return a.stringValue===e.stringValue;case 6:return p=e,Mr(a.bytesValue).isEqual(Mr(p.bytesValue));case 7:return a.referenceValue===e.referenceValue;case 8:return function(c,p){return En(c.geoPointValue.latitude)===En(p.geoPointValue.latitude)&&En(c.geoPointValue.longitude)===En(p.geoPointValue.longitude)}(a,e);case 2:return function(c,p){if("integerValue"in c&&"integerValue"in p)return En(c.integerValue)===En(p.integerValue);if("doubleValue"in c&&"doubleValue"in p){const g=En(c.doubleValue),C=En(p.doubleValue);return g===C?st(g)===st(C):isNaN(g)&&isNaN(C)}return!1}(a,e);case 9:return Pt(a.arrayValue.values||[],e.arrayValue.values||[],Cr);case 10:case 11:return function(c,p){const g=c.mapValue.fields||{},C=p.mapValue.fields||{};if(xa(g)!==xa(C))return!1;for(const O in g)if(g.hasOwnProperty(O)&&(void 0===C[O]||!Cr(g[O],C[O])))return!1;return!0}(a,e);default:return Vt()}var p}function un(a,e){return void 0!==(a.values||[]).find(r=>Cr(r,e))}function On(a,e){if(a===e)return 0;const r=to(a),o=to(e);if(r!==o)return hn(r,o);switch(r){case 0:case 9007199254740991:return 0;case 1:return hn(a.booleanValue,e.booleanValue);case 2:return function(p,g){const C=En(p.integerValue||p.doubleValue),O=En(g.integerValue||g.doubleValue);return C<O?-1:C>O?1:C===O?0:isNaN(C)?isNaN(O)?0:-1:1}(a,e);case 3:return Dr(a.timestampValue,e.timestampValue);case 4:return Dr(Mi(a),Mi(e));case 5:return hn(a.stringValue,e.stringValue);case 6:return function(p,g){const C=Mr(p),O=Mr(g);return C.compareTo(O)}(a.bytesValue,e.bytesValue);case 7:return function(p,g){const C=p.split("/"),O=g.split("/");for(let H=0;H<C.length&&H<O.length;H++){const Y=hn(C[H],O[H]);if(0!==Y)return Y}return hn(C.length,O.length)}(a.referenceValue,e.referenceValue);case 8:return function(p,g){const C=hn(En(p.latitude),En(g.latitude));return 0!==C?C:hn(En(p.longitude),En(g.longitude))}(a.geoPointValue,e.geoPointValue);case 9:return Bi(a.arrayValue,e.arrayValue);case 10:return function(p,g){var C,O,H,Y;const bt=null===(C=(p.fields||{}).value)||void 0===C?void 0:C.arrayValue,Ht=null===(O=(g.fields||{}).value)||void 0===O?void 0:O.arrayValue,rn=hn((null===(H=bt?.values)||void 0===H?void 0:H.length)||0,(null===(Y=Ht?.values)||void 0===Y?void 0:Y.length)||0);return 0!==rn?rn:Bi(bt,Ht)}(a.mapValue,e.mapValue);case 11:return function(p,g){if(p===eo.mapValue&&g===eo.mapValue)return 0;if(p===eo.mapValue)return 1;if(g===eo.mapValue)return-1;const C=p.fields||{},O=Object.keys(C),H=g.fields||{},Y=Object.keys(H);O.sort(),Y.sort();for(let fe=0;fe<O.length&&fe<Y.length;++fe){const He=hn(O[fe],Y[fe]);if(0!==He)return He;const bt=On(C[O[fe]],H[Y[fe]]);if(0!==bt)return bt}return hn(O.length,Y.length)}(a.mapValue,e.mapValue);default:throw Vt()}}function Dr(a,e){if("string"==typeof a&&"string"==typeof e&&a.length===e.length)return hn(a,e);const r=Yi(a),o=Yi(e),c=hn(r.seconds,o.seconds);return 0!==c?c:hn(r.nanos,o.nanos)}function Bi(a,e){const r=a.values||[],o=e.values||[];for(let c=0;c<r.length&&c<o.length;++c){const p=On(r[c],o[c]);if(p)return p}return hn(r.length,o.length)}function no(a){return vi(a)}function vi(a){return"nullValue"in a?"null":"booleanValue"in a?""+a.booleanValue:"integerValue"in a?""+a.integerValue:"doubleValue"in a?""+a.doubleValue:"timestampValue"in a?function(r){const o=Yi(r);return`time(${o.seconds},${o.nanos})`}(a.timestampValue):"stringValue"in a?a.stringValue:"bytesValue"in a?Mr(a.bytesValue).toBase64():"referenceValue"in a?de.fromName(a.referenceValue).toString():"geoPointValue"in a?function(r){return`geo(${r.latitude},${r.longitude})`}(a.geoPointValue):"arrayValue"in a?function(r){let o="[",c=!0;for(const p of r.values||[])c?c=!1:o+=",",o+=vi(p);return o+"]"}(a.arrayValue):"mapValue"in a?function(r){const o=Object.keys(r.fields||{}).sort();let c="{",p=!0;for(const g of o)p?p=!1:c+=",",c+=`${g}:${vi(r.fields[g])}`;return c+"}"}(a.mapValue):Vt()}function jr(a,e){return{referenceValue:`projects/${a.projectId}/databases/${a.database}/documents/${e.path.canonicalString()}`}}function ji(a){return!!a&&"integerValue"in a}function qo(a){return!!a&&"arrayValue"in a}function Hn(a){return!!a&&"nullValue"in a}function Oo(a){return!!a&&"doubleValue"in a&&isNaN(Number(a.doubleValue))}function ns(a){return!!a&&"mapValue"in a}function $o(a){var e,r;return"__vector__"===(null===(r=((null===(e=a?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===r?void 0:r.stringValue)}function Sr(a){if(a.geoPointValue)return{geoPointValue:Object.assign({},a.geoPointValue)};if(a.timestampValue&&"object"==typeof a.timestampValue)return{timestampValue:Object.assign({},a.timestampValue)};if(a.mapValue){const e={mapValue:{fields:{}}};return lo(a.mapValue.fields,(r,o)=>e.mapValue.fields[r]=Sr(o)),e}if(a.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(a.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=Sr(a.arrayValue.values[r]);return e}return Object.assign({},a)}function us(a){return"__max__"===(((a.mapValue||{}).fields||{}).__type__||{}).stringValue}class zr{constructor(e){this.value=e}static empty(){return new zr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let o=0;o<e.length-1;++o)if(r=(r.mapValue.fields||{})[e.get(o)],!ns(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=Sr(r)}setAll(e){let r=$e.emptyPath(),o={},c=[];e.forEach((g,C)=>{if(!r.isImmediateParentOf(C)){const O=this.getFieldsMap(r);this.applyChanges(O,o,c),o={},c=[],r=C.popLast()}g?o[C.lastSegment()]=Sr(g):c.push(C.lastSegment())});const p=this.getFieldsMap(r);this.applyChanges(p,o,c)}delete(e){const r=this.field(e.popLast());ns(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return Cr(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let o=0;o<e.length;++o){let c=r.mapValue.fields[e.get(o)];ns(c)&&c.mapValue.fields||(c={mapValue:{fields:{}}},r.mapValue.fields[e.get(o)]=c),r=c}return r.mapValue.fields}applyChanges(e,r,o){lo(r,(c,p)=>e[c]=p);for(const c of o)delete e[c]}clone(){return new zr(Sr(this.value))}}function Wo(a){const e=[];return lo(a.fields,(r,o)=>{const c=new $e([r]);if(ns(o)){const p=Wo(o.mapValue).fields;if(0===p.length)e.push(c);else for(const g of p)e.push(c.child(g))}else e.push(c)}),new Xi(e)}class Ur{constructor(e,r,o,c,p,g,C){this.key=e,this.documentType=r,this.version=o,this.readTime=c,this.createTime=p,this.data=g,this.documentState=C}static newInvalidDocument(e){return new Ur(e,0,Ae.min(),Ae.min(),Ae.min(),zr.empty(),0)}static newFoundDocument(e,r,o,c){return new Ur(e,1,r,Ae.min(),o,c,0)}static newNoDocument(e,r){return new Ur(e,2,r,Ae.min(),Ae.min(),zr.empty(),0)}static newUnknownDocument(e,r){return new Ur(e,3,r,Ae.min(),Ae.min(),zr.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(Ae.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=zr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=zr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Ur&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ur(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Qn{constructor(e,r){this.position=e,this.inclusive=r}}function Ca(a,e,r){let o=0;for(let c=0;c<a.position.length;c++){const p=e[c],g=a.position[c];if(o=p.field.isKeyField()?de.comparator(de.fromName(g.referenceValue),r.key):On(g,r.data.field(p.field)),"desc"===p.dir&&(o*=-1),0!==o)break}return o}function Es(a,e){if(null===a)return null===e;if(null===e||a.inclusive!==e.inclusive||a.position.length!==e.position.length)return!1;for(let r=0;r<a.position.length;r++)if(!Cr(a.position[r],e.position[r]))return!1;return!0}class hi{constructor(e,r="asc"){this.field=e,this.dir=r}}function ho(a,e){return a.dir===e.dir&&a.field.isEqual(e.field)}class po{}class nr extends po{constructor(e,r,o){super(),this.field=e,this.op=r,this.value=o}static create(e,r,o){return e.isKeyField()?"in"===r||"not-in"===r?this.createKeyFieldInFilter(e,r,o):new ac(e,r,o):"array-contains"===r?new ca(e,o):"in"===r?new q(e,o):"not-in"===r?new Q(e,o):"array-contains-any"===r?new L(e,o):new nr(e,r,o)}static createKeyFieldInFilter(e,r,o){return"in"===r?new aa(e,o):new is(e,o)}matches(e){const r=e.data.field(this.field);return"!="===this.op?null!==r&&this.matchesComparison(On(r,this.value)):null!==r&&to(this.value)===to(r)&&this.matchesComparison(On(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Vt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ar extends po{constructor(e,r){super(),this.filters=e,this.op=r,this.ae=null}static create(e,r){return new Ar(e,r)}matches(e){return wr(this)?void 0===this.filters.find(r=>!r.matches(e)):void 0!==this.filters.find(r=>r.matches(e))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce((e,r)=>e.concat(r.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function wr(a){return"and"===a.op}function _i(a){return function ti(a){for(const e of a.filters)if(e instanceof Ar)return!1;return!0}(a)&&wr(a)}function $s(a){if(a instanceof nr)return a.field.canonicalString()+a.op.toString()+no(a.value);if(_i(a))return a.filters.map(e=>$s(e)).join(",");{const e=a.filters.map(r=>$s(r)).join(",");return`${a.op}(${e})`}}function ro(a,e){return a instanceof nr?(o=a,(c=e)instanceof nr&&o.op===c.op&&o.field.isEqual(c.field)&&Cr(o.value,c.value)):a instanceof Ar?function(o,c){return c instanceof Ar&&o.op===c.op&&o.filters.length===c.filters.length&&o.filters.reduce((p,g,C)=>p&&ro(g,c.filters[C]),!0)}(a,e):void Vt();var o,c}function io(a){return a instanceof nr?`${(r=a).field.canonicalString()} ${r.op} ${no(r.value)}`:a instanceof Ar?function(r){return r.op.toString()+" {"+r.getFilters().map(io).join(" ,")+"}"}(a):"Filter";var r}class ac extends nr{constructor(e,r,o){super(e,r,o),this.key=de.fromName(o.referenceValue)}matches(e){const r=de.comparator(e.key,this.key);return this.matchesComparison(r)}}class aa extends nr{constructor(e,r){super(e,"in",r),this.keys=Bc(0,r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class is extends nr{constructor(e,r){super(e,"not-in",r),this.keys=Bc(0,r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function Bc(a,e){var r;return((null===(r=e.arrayValue)||void 0===r?void 0:r.values)||[]).map(o=>de.fromName(o.referenceValue))}class ca extends nr{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return qo(r)&&un(r.arrayValue,this.value)}}class q extends nr{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return null!==r&&un(this.value.arrayValue,r)}}class Q extends nr{constructor(e,r){super(e,"not-in",r)}matches(e){if(un(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return null!==r&&!un(this.value.arrayValue,r)}}class L extends nr{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!qo(r)||!r.arrayValue.values)&&r.arrayValue.values.some(o=>un(this.value.arrayValue,o))}}class ee{constructor(e,r=null,o=[],c=[],p=null,g=null,C=null){this.path=e,this.collectionGroup=r,this.orderBy=o,this.filters=c,this.limit=p,this.startAt=g,this.endAt=C,this.ue=null}}function Ve(a,e=null,r=[],o=[],c=null,p=null,g=null){return new ee(a,e,r,o,c,p,g)}function xn(a){const e=ke(a);if(null===e.ue){let r=e.path.canonicalString();null!==e.collectionGroup&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(o=>$s(o)).join(","),r+="|ob:",r+=e.orderBy.map(o=>{return(p=o).field.canonicalString()+p.dir;var p}).join(","),Te(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(o=>no(o)).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(o=>no(o)).join(",")),e.ue=r}return e.ue}function Zn(a,e){if(a.limit!==e.limit||a.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<a.orderBy.length;r++)if(!ho(a.orderBy[r],e.orderBy[r]))return!1;if(a.filters.length!==e.filters.length)return!1;for(let r=0;r<a.filters.length;r++)if(!ro(a.filters[r],e.filters[r]))return!1;return a.collectionGroup===e.collectionGroup&&!!a.path.isEqual(e.path)&&!!Es(a.startAt,e.startAt)&&Es(a.endAt,e.endAt)}function Ni(a){return de.isDocumentKey(a.path)&&null===a.collectionGroup&&0===a.filters.length}class xs{constructor(e,r=null,o=[],c=[],p=null,g="F",C=null,O=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=o,this.filters=c,this.limit=p,this.limitType=g,this.startAt=C,this.endAt=O,this.ce=null,this.le=null,this.he=null}}function Os(a){return new xs(a)}function Aa(a){return 0===a.filters.length&&null===a.limit&&null==a.startAt&&null==a.endAt&&(0===a.explicitOrderBy.length||1===a.explicitOrderBy.length&&a.explicitOrderBy[0].field.isKeyField())}function lc(a){return null!==a.collectionGroup}function Ns(a){const e=ke(a);if(null===e.ce){e.ce=[];const r=new Set;for(const p of e.explicitOrderBy)e.ce.push(p),r.add(p.field.canonicalString());const o=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(g){let C=new Tr($e.comparator);return g.filters.forEach(O=>{O.getFlattenedFilters().forEach(H=>{H.isInequality()&&(C=C.add(H.field))})}),C})(e).forEach(p=>{r.has(p.canonicalString())||p.isKeyField()||e.ce.push(new hi(p,o))}),r.has($e.keyField().canonicalString())||e.ce.push(new hi($e.keyField(),o))}return e.ce}function Vi(a){const e=ke(a);return e.le||(e.le=function Vo(a,e){if("F"===a.limitType)return Ve(a.path,a.collectionGroup,e,a.filters,a.limit,a.startAt,a.endAt);{e=e.map(c=>new hi(c.field,"desc"===c.dir?"asc":"desc"));const r=a.endAt?new Qn(a.endAt.position,a.endAt.inclusive):null,o=a.startAt?new Qn(a.startAt.position,a.startAt.inclusive):null;return Ve(a.path,a.collectionGroup,e,a.filters,a.limit,r,o)}}(e,Ns(a))),e.le}function ds(a,e){const r=a.filters.concat([e]);return new xs(a.path,a.collectionGroup,a.explicitOrderBy.slice(),r,a.limit,a.limitType,a.startAt,a.endAt)}function ja(a,e,r){return new xs(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),e,r,a.startAt,a.endAt)}function pi(a,e){return Zn(Vi(a),Vi(e))&&a.limitType===e.limitType}function Cs(a){return`${xn(Vi(a))}|lt:${a.limitType}`}function Ui(a){return`Query(target=${function(r){let o=r.path.canonicalString();return null!==r.collectionGroup&&(o+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(o+=`, filters: [${r.filters.map(c=>io(c)).join(", ")}]`),Te(r.limit)||(o+=", limit: "+r.limit),r.orderBy.length>0&&(o+=`, orderBy: [${r.orderBy.map(c=>{return`${(g=c).field.canonicalString()} (${g.dir})`;var g}).join(", ")}]`),r.startAt&&(o+=", startAt: ",o+=r.startAt.inclusive?"b:":"a:",o+=r.startAt.position.map(c=>no(c)).join(",")),r.endAt&&(o+=", endAt: ",o+=r.endAt.inclusive?"a:":"b:",o+=r.endAt.position.map(c=>no(c)).join(",")),`Target(${o})`}(Vi(a))}; limitType=${a.limitType})`}function Ws(a,e){return e.isFoundDocument()&&function(o,c){const p=c.key.path;return null!==o.collectionGroup?c.key.hasCollectionId(o.collectionGroup)&&o.path.isPrefixOf(p):de.isDocumentKey(o.path)?o.path.isEqual(p):o.path.isImmediateParentOf(p)}(a,e)&&function(o,c){for(const p of Ns(o))if(!p.field.isKeyField()&&null===c.data.field(p.field))return!1;return!0}(a,e)&&function(o,c){for(const p of o.filters)if(!p.matches(c))return!1;return!0}(a,e)&&(c=e,!((o=a).startAt&&!function(g,C,O){const H=Ca(g,C,O);return g.inclusive?H<=0:H<0}(o.startAt,Ns(o),c)||o.endAt&&!function(g,C,O){const H=Ca(g,C,O);return g.inclusive?H>=0:H>0}(o.endAt,Ns(o),c)));var o,c}function ua(a){return(e,r)=>{let o=!1;for(const c of Ns(a)){const p=dl(c,e,r);if(0!==p)return p;o=o||c.field.isKeyField()}return 0}}function dl(a,e,r){const o=a.field.isKeyField()?de.comparator(e.key,r.key):function(p,g,C){const O=g.data.field(p),H=C.data.field(p);return null!==O&&null!==H?On(O,H):Vt()}(a.field,e,r);switch(a.dir){case"asc":return o;case"desc":return-1*o;default:return Vt()}}class Lo{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),o=this.inner[r];if(void 0!==o)for(const[c,p]of o)if(this.equalsFn(c,e))return p}has(e){return void 0!==this.get(e)}set(e,r){const o=this.mapKeyFn(e),c=this.inner[o];if(void 0===c)return this.inner[o]=[[e,r]],void this.innerSize++;for(let p=0;p<c.length;p++)if(this.equalsFn(c[p][0],e))return void(c[p]=[e,r]);c.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),o=this.inner[r];if(void 0===o)return!1;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return 1===o.length?delete this.inner[r]:o.splice(c,1),this.innerSize--,!0;return!1}forEach(e){lo(this.inner,(r,o)=>{for(const[c,p]of o)e(c,p)})}isEmpty(){return Us(this.inner)}size(){return this.innerSize}}const da=new Nr(de.comparator);function oo(){return da}const za=new Nr(de.comparator);function Vs(...a){let e=za;for(const r of a)e=e.insert(r.key,r);return e}function dc(a){let e=za;return a.forEach((r,o)=>e=e.insert(r,o.overlayedDocument)),e}function Do(){return hs()}function jc(){return hs()}function hs(){return new Lo(a=>a.toString(),(a,e)=>a.isEqual(e))}const hc=new Nr(de.comparator),pc=new Tr(de.comparator);function mr(...a){let e=pc;for(const r of a)e=e.add(r);return e}const Hl=new Tr(hn);function fc(a,e){if(a.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:st(e)?"-0":e}}function ql(a){return{integerValue:""+a}}function Uc(a,e){return function Gt(a){return"number"==typeof a&&Number.isInteger(a)&&!st(a)&&a<=Number.MAX_SAFE_INTEGER&&a>=Number.MIN_SAFE_INTEGER}(e)?ql(e):fc(a,e)}class Hc{constructor(){this._=void 0}}function Gs(a,e,r){return a instanceof ha?function(c,p){const g={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:c.seconds,nanos:c.nanoseconds}}}};return p&&di(p)&&(p=Ji(p)),p&&(g.fields.__previous_value__=p),{mapValue:g}}(r,e):a instanceof Ls?mc(a,e):a instanceof A?X(a,e):function(c,p){const g=Ks(c,p),C=K(g)+K(c.Pe);return ji(g)&&ji(c.Pe)?ql(C):fc(c.serializer,C)}(a,e)}function $l(a,e,r){return a instanceof Ls?mc(a,e):a instanceof A?X(a,e):r}function Ks(a,e){return a instanceof B?ji(o=e)||(p=o)&&"doubleValue"in p?e:{integerValue:0}:null;var o,p}class ha extends Hc{}class Ls extends Hc{constructor(e){super(),this.elements=e}}function mc(a,e){const r=Pe(e);for(const o of a.elements)r.some(c=>Cr(c,o))||r.push(o);return{arrayValue:{values:r}}}class A extends Hc{constructor(e){super(),this.elements=e}}function X(a,e){let r=Pe(e);for(const o of a.elements)r=r.filter(c=>!Cr(c,o));return{arrayValue:{values:r}}}class B extends Hc{constructor(e,r){super(),this.serializer=e,this.Pe=r}}function K(a){return En(a.integerValue||a.doubleValue)}function Pe(a){return qo(a)&&a.arrayValue.values?a.arrayValue.values.slice():[]}class wt{constructor(e,r){this.field=e,this.transform=r}}class Dn{constructor(e,r){this.version=e,this.transformResults=r}}class _n{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new _n}static exists(e){return new _n(void 0,e)}static updateTime(e){return new _n(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function qn(a,e){return void 0!==a.updateTime?e.isFoundDocument()&&e.version.isEqual(a.updateTime):void 0===a.exists||a.exists===e.isFoundDocument()}class _r{}function ar(a,e){if(!a.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return a.isNoDocument()?new Go(a.key,_n.none()):new wi(a.key,a.data,_n.none());{const r=a.data,o=zr.empty();let c=new Tr($e.comparator);for(let p of e.fields)if(!c.has(p)){let g=r.field(p);null===g&&p.length>1&&(p=p.popLast(),g=r.field(p)),null===g?o.delete(p):o.set(p,g),c=c.add(p)}return new so(a.key,o,new Xi(c.toArray()),_n.none())}}function fi(a,e,r){a instanceof wi?function(c,p,g){const C=c.value.clone(),O=As(c.fieldTransforms,p,g.transformResults);C.setAll(O),p.convertToFoundDocument(g.version,C).setHasCommittedMutations()}(a,e,r):a instanceof so?function(c,p,g){if(!qn(c.precondition,p))return void p.convertToUnknownDocument(g.version);const C=As(c.fieldTransforms,p,g.transformResults),O=p.data;O.setAll(Di(c)),O.setAll(C),p.convertToFoundDocument(g.version,O).setHasCommittedMutations()}(a,e,r):e.convertToNoDocument(r.version).setHasCommittedMutations()}function Vr(a,e,r,o){return a instanceof wi?function(p,g,C,O){if(!qn(p.precondition,g))return C;const H=p.value.clone(),Y=Ki(p.fieldTransforms,O,g);return H.setAll(Y),g.convertToFoundDocument(g.version,H).setHasLocalMutations(),null}(a,e,r,o):a instanceof so?function(p,g,C,O){if(!qn(p.precondition,g))return C;const H=Ki(p.fieldTransforms,O,g),Y=g.data;return Y.setAll(Di(p)),Y.setAll(H),g.convertToFoundDocument(g.version,Y).setHasLocalMutations(),null===C?null:C.unionWith(p.fieldMask.fields).unionWith(p.fieldTransforms.map(fe=>fe.field))}(a,e,r,o):(C=r,qn(a.precondition,g=e)?(g.convertToNoDocument(g.version).setHasLocalMutations(),null):C);var g,C}function Gi(a,e){let r=null;for(const o of a.fieldTransforms){const c=e.data.field(o.field),p=Ks(o.transform,c||null);null!=p&&(null===r&&(r=zr.empty()),r.set(o.field,p))}return r||null}function ss(a,e){return a.type===e.type&&!!a.key.isEqual(e.key)&&!!a.precondition.isEqual(e.precondition)&&(c=e.fieldTransforms,!!(void 0===(o=a.fieldTransforms)&&void 0===c||o&&c&&Pt(o,c,(p,g)=>function Ft(a,e){return a.field.isEqual(e.field)&&(c=e.transform,(o=a.transform)instanceof Ls&&c instanceof Ls||o instanceof A&&c instanceof A?Pt(o.elements,c.elements,Cr):o instanceof B&&c instanceof B?Cr(o.Pe,c.Pe):o instanceof ha&&c instanceof ha);var o,c}(p,g))))&&(0===a.type?a.value.isEqual(e.value):1!==a.type||a.data.isEqual(e.data)&&a.fieldMask.isEqual(e.fieldMask));var o,c}class wi extends _r{constructor(e,r,o,c=[]){super(),this.key=e,this.value=r,this.precondition=o,this.fieldTransforms=c,this.type=0}getFieldMask(){return null}}class so extends _r{constructor(e,r,o,c,p=[]){super(),this.key=e,this.data=r,this.fieldMask=o,this.precondition=c,this.fieldTransforms=p,this.type=1}getFieldMask(){return this.fieldMask}}function Di(a){const e=new Map;return a.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const o=a.data.field(r);e.set(r,o)}}),e}function As(a,e,r){const o=new Map;kt(a.length===r.length);for(let c=0;c<r.length;c++){const p=a[c],g=p.transform,C=e.data.field(p.field);o.set(p.field,$l(g,C,r[c]))}return o}function Ki(a,e,r){const o=new Map;for(const c of a){const p=c.transform,g=r.data.field(c.field);o.set(c.field,Gs(p,g,e))}return o}class Go extends _r{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class fo extends _r{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class ii{constructor(e,r,o,c){this.batchId=e,this.localWriteTime=r,this.baseMutations=o,this.mutations=c}applyToRemoteDocument(e,r){const o=r.mutationResults;for(let c=0;c<this.mutations.length;c++){const p=this.mutations[c];p.key.isEqual(e.key)&&fi(p,e,o[c])}}applyToLocalView(e,r){for(const o of this.baseMutations)o.key.isEqual(e.key)&&(r=Vr(o,e,r,this.localWriteTime));for(const o of this.mutations)o.key.isEqual(e.key)&&(r=Vr(o,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const o=jc();return this.mutations.forEach(c=>{const p=e.get(c.key),g=p.overlayedDocument;let C=this.applyToLocalView(g,p.mutatedFields);C=r.has(c.key)?null:C;const O=ar(g,C);null!==O&&o.set(c.key,O),g.isValidDocument()||g.convertToNoDocument(Ae.min())}),o}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),mr())}isEqual(e){return this.batchId===e.batchId&&Pt(this.mutations,e.mutations,(r,o)=>ss(r,o))&&Pt(this.baseMutations,e.baseMutations,(r,o)=>ss(r,o))}}class yc{constructor(e,r,o,c){this.batch=e,this.commitVersion=r,this.mutationResults=o,this.docVersions=c}static from(e,r,o){kt(e.mutations.length===o.length);let c=hc;const p=e.mutations;for(let g=0;g<p.length;g++)c=c.insert(p[g].key,o[g].version);return new yc(e,r,o,c)}}class pa{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Ou{constructor(e,r){this.count=e,this.unchangedNames=r}}var bi,ur;function Fo(a){if(void 0===a)return zt("GRPC error has no .code"),ue.UNKNOWN;switch(a){case bi.OK:return ue.OK;case bi.CANCELLED:return ue.CANCELLED;case bi.UNKNOWN:return ue.UNKNOWN;case bi.DEADLINE_EXCEEDED:return ue.DEADLINE_EXCEEDED;case bi.RESOURCE_EXHAUSTED:return ue.RESOURCE_EXHAUSTED;case bi.INTERNAL:return ue.INTERNAL;case bi.UNAVAILABLE:return ue.UNAVAILABLE;case bi.UNAUTHENTICATED:return ue.UNAUTHENTICATED;case bi.INVALID_ARGUMENT:return ue.INVALID_ARGUMENT;case bi.NOT_FOUND:return ue.NOT_FOUND;case bi.ALREADY_EXISTS:return ue.ALREADY_EXISTS;case bi.PERMISSION_DENIED:return ue.PERMISSION_DENIED;case bi.FAILED_PRECONDITION:return ue.FAILED_PRECONDITION;case bi.ABORTED:return ue.ABORTED;case bi.OUT_OF_RANGE:return ue.OUT_OF_RANGE;case bi.UNIMPLEMENTED:return ue.UNIMPLEMENTED;case bi.DATA_LOSS:return ue.DATA_LOSS;default:return Vt()}}(ur=bi||(bi={}))[ur.OK=0]="OK",ur[ur.CANCELLED=1]="CANCELLED",ur[ur.UNKNOWN=2]="UNKNOWN",ur[ur.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ur[ur.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ur[ur.NOT_FOUND=5]="NOT_FOUND",ur[ur.ALREADY_EXISTS=6]="ALREADY_EXISTS",ur[ur.PERMISSION_DENIED=7]="PERMISSION_DENIED",ur[ur.UNAUTHENTICATED=16]="UNAUTHENTICATED",ur[ur.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ur[ur.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ur[ur.ABORTED=10]="ABORTED",ur[ur.OUT_OF_RANGE=11]="OUT_OF_RANGE",ur[ur.UNIMPLEMENTED=12]="UNIMPLEMENTED",ur[ur.INTERNAL=13]="INTERNAL",ur[ur.UNAVAILABLE=14]="UNAVAILABLE",ur[ur.DATA_LOSS=15]="DATA_LOSS";const Ua=new qe([4294967295,4294967295],0);function hl(a){const e=function Wl(){return new TextEncoder}().encode(a),r=new pt;return r.update(e),new Uint8Array(r.digest())}function Qs(a){const e=new DataView(a.buffer),r=e.getUint32(0,!0),o=e.getUint32(4,!0),c=e.getUint32(8,!0),p=e.getUint32(12,!0);return[new qe([r,o],0),new qe([c,p],0)]}class Ha{constructor(e,r,o){if(this.bitmap=e,this.padding=r,this.hashCount=o,r<0||r>=8)throw new Ko(`Invalid padding: ${r}`);if(o<0)throw new Ko(`Invalid hash count: ${o}`);if(e.length>0&&0===this.hashCount)throw new Ko(`Invalid hash count: ${o}`);if(0===e.length&&0!==r)throw new Ko(`Invalid padding when bitmap length is 0: ${r}`);this.Ie=8*e.length-r,this.Te=qe.fromNumber(this.Ie)}Ee(e,r,o){let c=e.add(r.multiply(qe.fromNumber(o)));return 1===c.compare(Ua)&&(c=new qe([c.getBits(0),c.getBits(1)],0)),c.modulo(this.Te).toNumber()}de(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Ie)return!1;const r=hl(e),[o,c]=Qs(r);for(let p=0;p<this.hashCount;p++){const g=this.Ee(o,c,p);if(!this.de(g))return!1}return!0}static create(e,r,o){const c=e%8==0?0:8-e%8,p=new Uint8Array(Math.ceil(e/8)),g=new Ha(p,c,r);return o.forEach(C=>g.insert(C)),g}insert(e){if(0===this.Ie)return;const r=hl(e),[o,c]=Qs(r);for(let p=0;p<this.hashCount;p++){const g=this.Ee(o,c,p);this.Ae(g)}}Ae(e){const r=Math.floor(e/8);this.bitmap[r]|=1<<e%8}}class Ko extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class fa{constructor(e,r,o,c,p){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=o,this.documentUpdates=c,this.resolvedLimboDocuments=p}static createSynthesizedRemoteEventForCurrentChange(e,r,o){const c=new Map;return c.set(e,vc.createSynthesizedTargetChangeForCurrentChange(e,r,o)),new fa(Ae.min(),c,new Nr(hn),oo(),mr())}}class vc{constructor(e,r,o,c,p){this.resumeToken=e,this.current=r,this.addedDocuments=o,this.modifiedDocuments=c,this.removedDocuments=p}static createSynthesizedTargetChangeForCurrentChange(e,r,o){return new vc(o,r,mr(),mr(),mr())}}class $n{constructor(e,r,o,c){this.Re=e,this.removedTargetIds=r,this.key=o,this.Ve=c}}class ps{constructor(e,r){this.targetId=e,this.me=r}}class pl{constructor(e,r,o=Br.EMPTY_BYTE_STRING,c=null){this.state=e,this.targetIds=r,this.resumeToken=o,this.cause=c}}class Ia{constructor(){this.fe=0,this.ge=Zs(),this.pe=Br.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=mr(),r=mr(),o=mr();return this.ge.forEach((c,p)=>{switch(p){case 0:e=e.add(c);break;case 2:r=r.add(c);break;case 1:o=o.add(c);break;default:Vt()}}),new vc(this.pe,this.ye,e,r,o)}Ce(){this.we=!1,this.ge=Zs()}Fe(e,r){this.we=!0,this.ge=this.ge.insert(e,r)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,kt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class Gl{constructor(e){this.Le=e,this.Be=new Map,this.ke=oo(),this.qe=fl(),this.Qe=new Nr(hn)}Ke(e){for(const r of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(r,e.Ve):this.Ue(r,e.key,e.Ve);for(const r of e.removedTargetIds)this.Ue(r,e.key,e.Ve)}We(e){this.forEachTarget(e,r=>{const o=this.Ge(r);switch(e.state){case 0:this.ze(r)&&o.De(e.resumeToken);break;case 1:o.Oe(),o.Se||o.Ce(),o.De(e.resumeToken);break;case 2:o.Oe(),o.Se||this.removeTarget(r);break;case 3:this.ze(r)&&(o.Ne(),o.De(e.resumeToken));break;case 4:this.ze(r)&&(this.je(r),o.De(e.resumeToken));break;default:Vt()}})}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.Be.forEach((o,c)=>{this.ze(c)&&r(c)})}He(e){const r=e.targetId,o=e.me.count,c=this.Je(r);if(c){const p=c.target;if(Ni(p))if(0===o){const g=new de(p.path);this.Ue(r,g,Ur.newNoDocument(g,Ae.min()))}else kt(1===o);else{const g=this.Ye(r);if(g!==o){const C=this.Ze(e),O=C?this.Xe(C,e,g):1;0!==O&&(this.je(r),this.Qe=this.Qe.insert(r,2===O?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Ze(e){const r=e.me.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:o="",padding:c=0},hashCount:p=0}=r;let g,C;try{g=Mr(o).toUint8Array()}catch(O){if(O instanceof Hs)return mn("Decoding the base64 bloom filter in existence filter failed ("+O.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw O}try{C=new Ha(g,c,p)}catch(O){return mn(O instanceof Ko?"BloomFilter error: ":"Applying bloom filter failed: ",O),null}return 0===C.Ie?null:C}Xe(e,r,o){return r.me.count===o-this.nt(e,r.targetId)?0:2}nt(e,r){const o=this.Le.getRemoteKeysForTarget(r);let c=0;return o.forEach(p=>{const g=this.Le.tt(),C=`projects/${g.projectId}/databases/${g.database}/documents/${p.path.canonicalString()}`;e.mightContain(C)||(this.Ue(r,p,null),c++)}),c}rt(e){const r=new Map;this.Be.forEach((p,g)=>{const C=this.Je(g);if(C){if(p.current&&Ni(C.target)){const O=new de(C.target.path);null!==this.ke.get(O)||this.it(g,O)||this.Ue(g,O,Ur.newNoDocument(O,e))}p.be&&(r.set(g,p.ve()),p.Ce())}});let o=mr();this.qe.forEach((p,g)=>{let C=!0;g.forEachWhile(O=>{const H=this.Je(O);return!H||"TargetPurposeLimboResolution"===H.purpose||(C=!1,!1)}),C&&(o=o.add(p))}),this.ke.forEach((p,g)=>g.setReadTime(e));const c=new fa(e,r,this.Qe,this.ke,o);return this.ke=oo(),this.qe=fl(),this.Qe=new Nr(hn),c}$e(e,r){if(!this.ze(e))return;const o=this.it(e,r.key)?2:0;this.Ge(e).Fe(r.key,o),this.ke=this.ke.insert(r.key,r),this.qe=this.qe.insert(r.key,this.st(r.key).add(e))}Ue(e,r,o){if(!this.ze(e))return;const c=this.Ge(e);this.it(e,r)?c.Fe(r,1):c.Me(r),this.qe=this.qe.insert(r,this.st(r).delete(e)),o&&(this.ke=this.ke.insert(r,o))}removeTarget(e){this.Be.delete(e)}Ye(e){const r=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let r=this.Be.get(e);return r||(r=new Ia,this.Be.set(e,r)),r}st(e){let r=this.qe.get(e);return r||(r=new Tr(hn),this.qe=this.qe.insert(e,r)),r}ze(e){const r=null!==this.Je(e);return r||mt("WatchChangeAggregator","Detected inactive target",e),r}Je(e){const r=this.Be.get(e);return r&&r.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Ia),this.Le.getRemoteKeysForTarget(e).forEach(r=>{this.Ue(e,r,null)})}it(e,r){return this.Le.getRemoteKeysForTarget(e).has(r)}}function fl(){return new Nr(de.comparator)}function Zs(){return new Nr(de.comparator)}const _c={asc:"ASCENDING",desc:"DESCENDING"},Nu={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},vh={and:"AND",or:"OR"};class _h{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function Kl(a,e){return a.useProto3Json||Te(e)?e:{value:e}}function qc(a,e){return a.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Wt(a,e){return a.useProto3Json?e.toBase64():e.toUint8Array()}function Hr(a,e){return qc(a,e.toTimestamp())}function Ei(a){return kt(!!a),Ae.fromTimestamp(function(r){const o=Yi(r);return new Ce(o.seconds,o.nanos)}(a))}function as(a,e){return Hi(a,e).canonicalString()}function Hi(a,e){const r=(c=a,new Ye(["projects",c.projectId,"databases",c.database])).child("documents");var c;return void 0===e?r:r.child(e)}function qa(a){const e=Ye.fromString(a);return kt(So(e)),e}function Xs(a,e){return as(a.databaseId,e.path)}function Er(a,e){const r=qa(e);if(r.get(1)!==a.databaseId.projectId)throw new Oe(ue.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+a.databaseId.projectId);if(r.get(3)!==a.databaseId.database)throw new Oe(ue.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+a.databaseId.database);return new de(Zl(r))}function kc(a,e){return as(a.databaseId,e)}function Ql(a){return new Ye(["projects",a.databaseId.projectId,"databases",a.databaseId.database]).canonicalString()}function Zl(a){return kt(a.length>4&&"documents"===a.get(4)),a.popFirst(5)}function Vu(a,e,r){return{name:Xs(a,e),fields:r.value.mapValue.fields}}function M(a,e){return{documents:[kc(a,e.path)]}}function D(a,e){const r={structuredQuery:{}},o=e.path;let c;null!==e.collectionGroup?(c=o,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(c=o.popLast(),r.structuredQuery.from=[{collectionId:o.lastSegment()}]),r.parent=kc(a,c);const p=function(H){if(0!==H.length)return Ts(Ar.create(H,"and"))}(e.filters);p&&(r.structuredQuery.where=p);const g=function(H){if(0!==H.length)return H.map(Y=>{return{field:Pr((He=Y).field),direction:gt(He.dir)};var He})}(e.orderBy);g&&(r.structuredQuery.orderBy=g);const C=Kl(a,e.limit);return null!==C&&(r.structuredQuery.limit=C),e.startAt&&(r.structuredQuery.startAt={before:(H=e.startAt).inclusive,values:H.position}),e.endAt&&(r.structuredQuery.endAt=function(H){return{before:!H.inclusive,values:H.position}}(e.endAt)),{_t:r,parent:c};var H}function te(a){let e=function Ta(a){const e=qa(a);return 4===e.length?Ye.emptyPath():Zl(e)}(a.parent);const r=a.structuredQuery,o=r.from?r.from.length:0;let c=null;if(o>0){kt(1===o);const Y=r.from[0];Y.allDescendants?c=Y.collectionId:e=e.child(Y.collectionId)}let p=[];r.where&&(p=function(fe){const He=Et(fe);return He instanceof Ar&&_i(He)?He.getFilters():[He]}(r.where));let g=[];r.orderBy&&(g=r.orderBy.map(He=>{return new hi(kr((Ht=He).field),function(Jt){switch(Jt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Ht.direction));var Ht}));let C=null;r.limit&&(C=function(fe){let He;return He="object"==typeof fe?fe.value:fe,Te(He)?null:He}(r.limit));let O=null;var fe;r.startAt&&(O=new Qn((fe=r.startAt).values||[],!!fe.before));let H=null;return r.endAt&&(H=function(fe){return new Qn(fe.values||[],!fe.before)}(r.endAt)),function cc(a,e,r,o,c,p,g,C){return new xs(a,e,r,o,c,p,g,C)}(e,c,g,p,C,"F",O,H)}function Et(a){return void 0!==a.unaryFilter?function(r){switch(r.unaryFilter.op){case"IS_NAN":const o=kr(r.unaryFilter.field);return nr.create(o,"==",{doubleValue:NaN});case"IS_NULL":const c=kr(r.unaryFilter.field);return nr.create(c,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const p=kr(r.unaryFilter.field);return nr.create(p,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const g=kr(r.unaryFilter.field);return nr.create(g,"!=",{nullValue:"NULL_VALUE"});default:return Vt()}}(a):void 0!==a.fieldFilter?nr.create(kr((r=a).fieldFilter.field),function(c){switch(c){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Vt()}}(r.fieldFilter.op),r.fieldFilter.value):void 0!==a.compositeFilter?function(r){return Ar.create(r.compositeFilter.filters.map(o=>Et(o)),function(c){switch(c){case"AND":return"and";case"OR":return"or";default:return Vt()}}(r.compositeFilter.op))}(a):Vt();var r}function gt(a){return _c[a]}function Mn(a){return Nu[a]}function ir(a){return vh[a]}function Pr(a){return{fieldPath:a.canonicalString()}}function kr(a){return $e.fromServerFormat(a.fieldPath)}function Ts(a){return a instanceof nr?function(r){if("=="===r.op){if(Oo(r.value))return{unaryFilter:{field:Pr(r.field),op:"IS_NAN"}};if(Hn(r.value))return{unaryFilter:{field:Pr(r.field),op:"IS_NULL"}}}else if("!="===r.op){if(Oo(r.value))return{unaryFilter:{field:Pr(r.field),op:"IS_NOT_NAN"}};if(Hn(r.value))return{unaryFilter:{field:Pr(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Pr(r.field),op:Mn(r.op),value:r.value}}}(a):a instanceof Ar?function(r){const o=r.getFilters().map(c=>Ts(c));return 1===o.length?o[0]:{compositeFilter:{op:ir(r.op),filters:o}}}(a):Vt()}function $a(a){const e=[];return a.fields.forEach(r=>e.push(r.canonicalString())),{fieldPaths:e}}function So(a){return a.length>=4&&"projects"===a.get(0)&&"databases"===a.get(2)}class Si{constructor(e,r,o,c,p=Ae.min(),g=Ae.min(),C=Br.EMPTY_BYTE_STRING,O=null){this.target=e,this.targetId=r,this.purpose=o,this.sequenceNumber=c,this.snapshotVersion=p,this.lastLimboFreeSnapshotVersion=g,this.resumeToken=C,this.expectedCount=O}withSequenceNumber(e){return new Si(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new Si(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Si(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Si(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Fs{constructor(e){this.ct=e}}function Xl(a){const e=te({parent:a.parent,structuredQuery:a.structuredQuery});return"LAST"===a.limitType?ja(e,e.limit,"L"):e}class ya{constructor(){}It(e,r){this.Tt(e,r),r.Et()}Tt(e,r){if("nullValue"in e)this.dt(r,5);else if("booleanValue"in e)this.dt(r,10),r.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(r,15),r.At(En(e.integerValue));else if("doubleValue"in e){const o=En(e.doubleValue);isNaN(o)?this.dt(r,13):(this.dt(r,15),st(o)?r.At(0):r.At(o))}else if("timestampValue"in e){let o=e.timestampValue;this.dt(r,20),"string"==typeof o&&(o=Yi(o)),r.Rt(`${o.seconds||""}`),r.At(o.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,r),this.ft(r);else if("bytesValue"in e)this.dt(r,30),r.gt(Mr(e.bytesValue)),this.ft(r);else if("referenceValue"in e)this.yt(e.referenceValue,r);else if("geoPointValue"in e){const o=e.geoPointValue;this.dt(r,45),r.At(o.latitude||0),r.At(o.longitude||0)}else"mapValue"in e?us(e)?this.dt(r,Number.MAX_SAFE_INTEGER):$o(e)?this.wt(e.mapValue,r):(this.St(e.mapValue,r),this.ft(r)):"arrayValue"in e?(this.bt(e.arrayValue,r),this.ft(r)):Vt()}Vt(e,r){this.dt(r,25),this.Dt(e,r)}Dt(e,r){r.Rt(e)}St(e,r){const o=e.fields||{};this.dt(r,55);for(const c of Object.keys(o))this.Vt(c,r),this.Tt(o[c],r)}wt(e,r){var o,c;const p=e.fields||{};this.dt(r,53);const g="value",C=(null===(c=null===(o=p[g].arrayValue)||void 0===o?void 0:o.values)||void 0===c?void 0:c.length)||0;this.dt(r,15),r.At(En(C)),this.Vt(g,r),this.Tt(p[g],r)}bt(e,r){const o=e.values||[];this.dt(r,50);for(const c of o)this.Tt(c,r)}yt(e,r){this.dt(r,37),de.fromName(e).path.forEach(o=>{this.dt(r,60),this.Dt(o,r)})}dt(e,r){e.At(r)}ft(e){e.At(2)}}ya.vt=new ya;class Eh{constructor(){this.un=new ml}addToCollectionParentIndex(e,r){return this.un.add(r),et.resolve()}getCollectionParents(e,r){return et.resolve(this.un.getEntries(r))}addFieldIndex(e,r){return et.resolve()}deleteFieldIndex(e,r){return et.resolve()}deleteAllFieldIndexes(e){return et.resolve()}createTargetIndexes(e,r){return et.resolve()}getDocumentsMatchingTarget(e,r){return et.resolve(null)}getIndexType(e,r){return et.resolve(0)}getFieldIndexes(e,r){return et.resolve([])}getNextCollectionGroupToUpdate(e){return et.resolve(null)}getMinOffset(e,r){return et.resolve(sr.min())}getMinOffsetFromCollectionGroup(e,r){return et.resolve(sr.min())}updateCollectionGroup(e,r,o){return et.resolve()}updateIndexEntries(e,r){return et.resolve()}}class ml{constructor(){this.index={}}add(e){const r=e.lastSegment(),o=e.popLast(),c=this.index[r]||new Tr(Ye.comparator),p=!c.has(o);return this.index[r]=c.add(o),p}has(e){const r=e.lastSegment(),o=e.popLast(),c=this.index[r];return c&&c.has(o)}getEntries(e){return(this.index[e]||new Tr(Ye.comparator)).toArray()}}new Uint8Array(0);class Zo{constructor(e,r,o){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=o}static withCacheSize(e){return new Zo(e,Zo.DEFAULT_COLLECTION_PERCENTILE,Zo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}Zo.DEFAULT_COLLECTION_PERCENTILE=10,Zo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Zo.DEFAULT=new Zo(41943040,Zo.DEFAULT_COLLECTION_PERCENTILE,Zo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Zo.DISABLED=new Zo(-1,0,0);class Va{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Va(0)}static kn(){return new Va(-1)}}class Zc{constructor(){this.changes=new Lo(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,Ur.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const o=this.changes.get(r);return void 0!==o?et.resolve(o):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Ku{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}class Ah{constructor(e,r,o,c){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=o,this.indexManager=c}getDocument(e,r){let o=null;return this.documentOverlayCache.getOverlay(e,r).next(c=>(o=c,this.remoteDocumentCache.getEntry(e,r))).next(c=>(null!==o&&Vr(o.mutation,c,Xi.empty(),Ce.now()),c))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next(o=>this.getLocalViewOfDocuments(e,o,mr()).next(()=>o))}getLocalViewOfDocuments(e,r,o=mr()){const c=Do();return this.populateOverlays(e,c,r).next(()=>this.computeViews(e,r,c,o).next(p=>{let g=Vs();return p.forEach((C,O)=>{g=g.insert(C,O.overlayedDocument)}),g}))}getOverlayedDocuments(e,r){const o=Do();return this.populateOverlays(e,o,r).next(()=>this.computeViews(e,r,o,mr()))}populateOverlays(e,r,o){const c=[];return o.forEach(p=>{r.has(p)||c.push(p)}),this.documentOverlayCache.getOverlays(e,c).next(p=>{p.forEach((g,C)=>{r.set(g,C)})})}computeViews(e,r,o,c){let p=oo();const g=hs(),C=hs();return r.forEach((O,H)=>{const Y=o.get(H.key);c.has(H.key)&&(void 0===Y||Y.mutation instanceof so)?p=p.insert(H.key,H):void 0!==Y?(g.set(H.key,Y.mutation.getFieldMask()),Vr(Y.mutation,H,Y.mutation.getFieldMask(),Ce.now())):g.set(H.key,Xi.empty())}),this.recalculateAndSaveOverlays(e,p).next(O=>(O.forEach((H,Y)=>g.set(H,Y)),r.forEach((H,Y)=>{var fe;return C.set(H,new Ku(Y,null!==(fe=g.get(H))&&void 0!==fe?fe:null))}),C))}recalculateAndSaveOverlays(e,r){const o=hs();let c=new Nr((g,C)=>g-C),p=mr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next(g=>{for(const C of g)C.keys().forEach(O=>{const H=r.get(O);if(null===H)return;let Y=o.get(O)||Xi.empty();Y=C.applyToLocalView(H,Y),o.set(O,Y);const fe=(c.get(C.batchId)||mr()).add(O);c=c.insert(C.batchId,fe)})}).next(()=>{const g=[],C=c.getReverseIterator();for(;C.hasNext();){const O=C.getNext(),H=O.key,Y=O.value,fe=jc();Y.forEach(He=>{if(!p.has(He)){const bt=ar(r.get(He),o.get(He));null!==bt&&fe.set(He,bt),p=p.add(He)}}),g.push(this.documentOverlayCache.saveOverlays(e,H,fe))}return et.waitFor(g)}).next(()=>o)}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next(o=>this.recalculateAndSaveOverlays(e,o))}getDocumentsMatchingQuery(e,r,o,c){return de.isDocumentKey((g=r).path)&&null===g.collectionGroup&&0===g.filters.length?this.getDocumentsMatchingDocumentQuery(e,r.path):lc(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,o,c):this.getDocumentsMatchingCollectionQuery(e,r,o,c);var g}getNextDocuments(e,r,o,c){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,o,c).next(p=>{const g=c-p.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,o.largestBatchId,c-p.size):et.resolve(Do());let C=-1,O=p;return g.next(H=>et.forEach(H,(Y,fe)=>(C<fe.largestBatchId&&(C=fe.largestBatchId),p.get(Y)?et.resolve():this.remoteDocumentCache.getEntry(e,Y).next(He=>{O=O.insert(Y,He)}))).next(()=>this.populateOverlays(e,H,p)).next(()=>this.computeViews(e,O,H,mr())).next(Y=>({batchId:C,changes:dc(Y)})))})}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new de(r)).next(o=>{let c=Vs();return o.isFoundDocument()&&(c=c.insert(o.key,o)),c})}getDocumentsMatchingCollectionGroupQuery(e,r,o,c){const p=r.collectionGroup;let g=Vs();return this.indexManager.getCollectionParents(e,p).next(C=>et.forEach(C,O=>{const H=(fe=r,He=O.child(p),new xs(He,null,fe.explicitOrderBy.slice(),fe.filters.slice(),fe.limit,fe.limitType,fe.startAt,fe.endAt));var fe,He;return this.getDocumentsMatchingCollectionQuery(e,H,o,c).next(Y=>{Y.forEach((fe,He)=>{g=g.insert(fe,He)})})}).next(()=>g))}getDocumentsMatchingCollectionQuery(e,r,o,c){let p;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,o.largestBatchId).next(g=>(p=g,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,o,p,c))).next(g=>{p.forEach((O,H)=>{const Y=H.getKey();null===g.get(Y)&&(g=g.insert(Y,Ur.newInvalidDocument(Y)))});let C=Vs();return g.forEach((O,H)=>{const Y=p.get(O);void 0!==Y&&Vr(Y.mutation,H,Xi.empty(),Ce.now()),Ws(r,H)&&(C=C.insert(O,H))}),C})}}class $p{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,r){return et.resolve(this.hr.get(r))}saveBundleMetadata(e,r){return this.hr.set(r.id,{id:(c=r).id,version:c.version,createTime:Ei(c.createTime)}),et.resolve();var c}getNamedQuery(e,r){return et.resolve(this.Pr.get(r))}saveNamedQuery(e,r){return this.Pr.set(r.name,{name:(c=r).name,query:Xl(c.bundledQuery),readTime:Ei(c.readTime)}),et.resolve();var c}}class Qu{constructor(){this.overlays=new Nr(de.comparator),this.Ir=new Map}getOverlay(e,r){return et.resolve(this.overlays.get(r))}getOverlays(e,r){const o=Do();return et.forEach(r,c=>this.getOverlay(e,c).next(p=>{null!==p&&o.set(c,p)})).next(()=>o)}saveOverlays(e,r,o){return o.forEach((c,p)=>{this.ht(e,r,p)}),et.resolve()}removeOverlaysForBatchId(e,r,o){const c=this.Ir.get(o);return void 0!==c&&(c.forEach(p=>this.overlays=this.overlays.remove(p)),this.Ir.delete(o)),et.resolve()}getOverlaysForCollection(e,r,o){const c=Do(),p=r.length+1,g=new de(r.child("")),C=this.overlays.getIteratorFrom(g);for(;C.hasNext();){const O=C.getNext().value,H=O.getKey();if(!r.isPrefixOf(H.path))break;H.path.length===p&&O.largestBatchId>o&&c.set(O.getKey(),O)}return et.resolve(c)}getOverlaysForCollectionGroup(e,r,o,c){let p=new Nr((H,Y)=>H-Y);const g=this.overlays.getIterator();for(;g.hasNext();){const H=g.getNext().value;if(H.getKey().getCollectionGroup()===r&&H.largestBatchId>o){let Y=p.get(H.largestBatchId);null===Y&&(Y=Do(),p=p.insert(H.largestBatchId,Y)),Y.set(H.getKey(),H)}}const C=Do(),O=p.getIterator();for(;O.hasNext()&&(O.getNext().value.forEach((H,Y)=>C.set(H,Y)),!(C.size()>=c)););return et.resolve(C)}ht(e,r,o){const c=this.overlays.get(o.key);if(null!==c){const g=this.Ir.get(c.largestBatchId).delete(o.key);this.Ir.set(c.largestBatchId,g)}this.overlays=this.overlays.insert(o.key,new pa(r,o));let p=this.Ir.get(r);void 0===p&&(p=mr(),this.Ir.set(r,p)),this.Ir.set(r,p.add(o.key))}}class Jc{constructor(){this.sessionToken=Br.EMPTY_BYTE_STRING}getSessionToken(e){return et.resolve(this.sessionToken)}setSessionToken(e,r){return this.sessionToken=r,et.resolve()}}class el{constructor(){this.Tr=new Tr(Ro.Er),this.dr=new Tr(Ro.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,r){const o=new Ro(e,r);this.Tr=this.Tr.add(o),this.dr=this.dr.add(o)}Rr(e,r){e.forEach(o=>this.addReference(o,r))}removeReference(e,r){this.Vr(new Ro(e,r))}mr(e,r){e.forEach(o=>this.removeReference(o,r))}gr(e){const r=new de(new Ye([])),o=new Ro(r,e),c=new Ro(r,e+1),p=[];return this.dr.forEachInRange([o,c],g=>{this.Vr(g),p.push(g.key)}),p}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const r=new de(new Ye([])),o=new Ro(r,e),c=new Ro(r,e+1);let p=mr();return this.dr.forEachInRange([o,c],g=>{p=p.add(g.key)}),p}containsKey(e){const r=new Ro(e,0),o=this.Tr.firstAfterOrEqual(r);return null!==o&&e.isEqual(o.key)}}class Ro{constructor(e,r){this.key=e,this.wr=r}static Er(e,r){return de.comparator(e.key,r.key)||hn(e.wr,r.wr)}static Ar(e,r){return hn(e.wr,r.wr)||de.comparator(e.key,r.key)}}class vo{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.Sr=1,this.br=new Tr(Ro.Er)}checkEmpty(e){return et.resolve(0===this.mutationQueue.length)}addMutationBatch(e,r,o,c){const p=this.Sr;this.Sr++;const g=new ii(p,r,o,c);this.mutationQueue.push(g);for(const C of c)this.br=this.br.add(new Ro(C.key,p)),this.indexManager.addToCollectionParentIndex(e,C.key.path.popLast());return et.resolve(g)}lookupMutationBatch(e,r){return et.resolve(this.Dr(r))}getNextMutationBatchAfterBatchId(e,r){const c=this.vr(r+1),p=c<0?0:c;return et.resolve(this.mutationQueue.length>p?this.mutationQueue[p]:null)}getHighestUnacknowledgedBatchId(){return et.resolve(0===this.mutationQueue.length?-1:this.Sr-1)}getAllMutationBatches(e){return et.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const o=new Ro(r,0),c=new Ro(r,Number.POSITIVE_INFINITY),p=[];return this.br.forEachInRange([o,c],g=>{const C=this.Dr(g.wr);p.push(C)}),et.resolve(p)}getAllMutationBatchesAffectingDocumentKeys(e,r){let o=new Tr(hn);return r.forEach(c=>{const p=new Ro(c,0),g=new Ro(c,Number.POSITIVE_INFINITY);this.br.forEachInRange([p,g],C=>{o=o.add(C.wr)})}),et.resolve(this.Cr(o))}getAllMutationBatchesAffectingQuery(e,r){const o=r.path,c=o.length+1;let p=o;de.isDocumentKey(p)||(p=p.child(""));const g=new Ro(new de(p),0);let C=new Tr(hn);return this.br.forEachWhile(O=>{const H=O.key.path;return!!o.isPrefixOf(H)&&(H.length===c&&(C=C.add(O.wr)),!0)},g),et.resolve(this.Cr(C))}Cr(e){const r=[];return e.forEach(o=>{const c=this.Dr(o);null!==c&&r.push(c)}),r}removeMutationBatch(e,r){kt(0===this.Fr(r.batchId,"removed")),this.mutationQueue.shift();let o=this.br;return et.forEach(r.mutations,c=>{const p=new Ro(c.key,r.batchId);return o=o.delete(p),this.referenceDelegate.markPotentiallyOrphaned(e,c.key)}).next(()=>{this.br=o})}On(e){}containsKey(e,r){const o=new Ro(r,0),c=this.br.firstAfterOrEqual(o);return et.resolve(r.isEqual(c&&c.key))}performConsistencyCheck(e){return et.resolve()}Fr(e,r){return this.vr(e)}vr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Dr(e){const r=this.vr(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}class Ih{constructor(e){this.Mr=e,this.docs=new Nr(de.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const o=r.key,c=this.docs.get(o),p=c?c.size:0,g=this.Mr(r);return this.docs=this.docs.insert(o,{document:r.mutableCopy(),size:g}),this.size+=g-p,this.indexManager.addToCollectionParentIndex(e,o.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const o=this.docs.get(r);return et.resolve(o?o.document.mutableCopy():Ur.newInvalidDocument(r))}getEntries(e,r){let o=oo();return r.forEach(c=>{const p=this.docs.get(c);o=o.insert(c,p?p.document.mutableCopy():Ur.newInvalidDocument(c))}),et.resolve(o)}getDocumentsMatchingQuery(e,r,o,c){let p=oo();const g=r.path,C=new de(g.child("")),O=this.docs.getIteratorFrom(C);for(;O.hasNext();){const{key:H,value:{document:Y}}=O.getNext();if(!g.isPrefixOf(H.path))break;H.path.length>g.length+1||Jr(new sr((a=Y).readTime,a.key,-1),o)<=0||(c.has(Y.key)||Ws(r,Y))&&(p=p.insert(Y.key,Y.mutableCopy()))}var a;return et.resolve(p)}getAllFromCollectionGroup(e,r,o,c){Vt()}Or(e,r){return et.forEach(this.docs,o=>r(o))}newChangeBuffer(e){return new _l(this)}getSize(e){return et.resolve(this.size)}}class _l extends Zc{constructor(e){super(),this.cr=e}applyChanges(e){const r=[];return this.changes.forEach((o,c)=>{c.isValidDocument()?r.push(this.cr.addEntry(e,c)):this.cr.removeEntry(o)}),et.waitFor(r)}getFromCache(e,r){return this.cr.getEntry(e,r)}getAllFromCache(e,r){return this.cr.getEntries(e,r)}}class N1{constructor(e){this.persistence=e,this.Nr=new Lo(r=>xn(r),Zn),this.lastRemoteSnapshotVersion=Ae.min(),this.highestTargetId=0,this.Lr=0,this.Br=new el,this.targetCount=0,this.kr=Va.Bn()}forEachTarget(e,r){return this.Nr.forEach((o,c)=>r(c)),et.resolve()}getLastRemoteSnapshotVersion(e){return et.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return et.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),et.resolve(this.highestTargetId)}setTargetsMetadata(e,r,o){return o&&(this.lastRemoteSnapshotVersion=o),r>this.Lr&&(this.Lr=r),et.resolve()}Kn(e){this.Nr.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.kr=new Va(r),this.highestTargetId=r),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,r){return this.Kn(r),this.targetCount+=1,et.resolve()}updateTargetData(e,r){return this.Kn(r),et.resolve()}removeTargetData(e,r){return this.Nr.delete(r.target),this.Br.gr(r.targetId),this.targetCount-=1,et.resolve()}removeTargets(e,r,o){let c=0;const p=[];return this.Nr.forEach((g,C)=>{C.sequenceNumber<=r&&null===o.get(C.targetId)&&(this.Nr.delete(g),p.push(this.removeMatchingKeysForTargetId(e,C.targetId)),c++)}),et.waitFor(p).next(()=>c)}getTargetCount(e){return et.resolve(this.targetCount)}getTargetData(e,r){const o=this.Nr.get(r)||null;return et.resolve(o)}addMatchingKeys(e,r,o){return this.Br.Rr(r,o),et.resolve()}removeMatchingKeys(e,r,o){this.Br.mr(r,o);const c=this.persistence.referenceDelegate,p=[];return c&&r.forEach(g=>{p.push(c.markPotentiallyOrphaned(e,g))}),et.waitFor(p)}removeMatchingKeysForTargetId(e,r){return this.Br.gr(r),et.resolve()}getMatchingKeysForTargetId(e,r){const o=this.Br.yr(r);return et.resolve(o)}containsKey(e,r){return et.resolve(this.Br.containsKey(r))}}class Ds{constructor(e,r){this.qr={},this.overlays={},this.Qr=new re(0),this.Kr=!1,this.Kr=!0,this.$r=new Jc,this.referenceDelegate=e(this),this.Ur=new N1(this),this.indexManager=new Eh,this.remoteDocumentCache=new Ih(o=>this.referenceDelegate.Wr(o)),this.serializer=new Fs(r),this.Gr=new $p(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new Qu,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let o=this.qr[e.toKey()];return o||(o=new vo(r,this.referenceDelegate),this.qr[e.toKey()]=o),o}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,r,o){mt("MemoryPersistence","Starting transaction:",e);const c=new kl(this.Qr.next());return this.referenceDelegate.zr(),o(c).next(p=>this.referenceDelegate.jr(c).next(()=>p)).toPromise().then(p=>(c.raiseOnCommittedEvent(),p))}Hr(e,r){return et.or(Object.values(this.qr).map(o=>()=>o.containsKey(e,r)))}}class kl extends Or{constructor(e){super(),this.currentSequenceNumber=e}}class ou{constructor(e){this.persistence=e,this.Jr=new el,this.Yr=null}static Zr(e){return new ou(e)}get Xr(){if(this.Yr)return this.Yr;throw Vt()}addReference(e,r,o){return this.Jr.addReference(o,r),this.Xr.delete(o.toString()),et.resolve()}removeReference(e,r,o){return this.Jr.removeReference(o,r),this.Xr.add(o.toString()),et.resolve()}markPotentiallyOrphaned(e,r){return this.Xr.add(r.toString()),et.resolve()}removeTarget(e,r){this.Jr.gr(r.targetId).forEach(c=>this.Xr.add(c.toString()));const o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(e,r.targetId).next(c=>{c.forEach(p=>this.Xr.add(p.toString()))}).next(()=>o.removeTargetData(e,r))}zr(){this.Yr=new Set}jr(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return et.forEach(this.Xr,o=>{const c=de.fromPath(o);return this.ei(e,c).next(p=>{p||r.removeEntry(c,Ae.min())})}).next(()=>(this.Yr=null,r.apply(e)))}updateLimboDocument(e,r){return this.ei(e,r).next(o=>{o?this.Xr.delete(r.toString()):this.Xr.add(r.toString())})}Wr(e){return 0}ei(e,r){return et.or([()=>et.resolve(this.Jr.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Hr(e,r)])}}class xc{constructor(e,r,o,c){this.targetId=e,this.fromCache=r,this.$i=o,this.Ui=c}static Wi(e,r){let o=mr(),c=mr();for(const p of r.docChanges)switch(p.type){case 0:o=o.add(p.doc.key);break;case 1:c=c.add(p.doc.key)}return new xc(e,r.fromCache,o,c)}}class Wp{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Td{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=(0,ne.nr)()?8:function gi(a){const e=a.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}((0,ne.ZQ)())>0?6:4}initialize(e,r){this.Ji=e,this.indexManager=r,this.Gi=!0}getDocumentsMatchingQuery(e,r,o,c){const p={result:null};return this.Yi(e,r).next(g=>{p.result=g}).next(()=>{if(!p.result)return this.Zi(e,r,c,o).next(g=>{p.result=g})}).next(()=>{if(p.result)return;const g=new Wp;return this.Xi(e,r,g).next(C=>{if(p.result=C,this.zi)return this.es(e,r,g,C.size)})}).next(()=>p.result)}es(e,r,o,c){return o.documentReadCount<this.ji?(Ln()<=Ie.$b.DEBUG&&mt("QueryEngine","SDK will not create cache indexes for query:",Ui(r),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),et.resolve()):(Ln()<=Ie.$b.DEBUG&&mt("QueryEngine","Query:",Ui(r),"scans",o.documentReadCount,"local documents and returns",c,"documents as results."),o.documentReadCount>this.Hi*c?(Ln()<=Ie.$b.DEBUG&&mt("QueryEngine","The SDK decides to create cache indexes for query:",Ui(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Vi(r))):et.resolve())}Yi(e,r){if(Aa(r))return et.resolve(null);let o=Vi(r);return this.indexManager.getIndexType(e,o).next(c=>0===c?null:(null!==r.limit&&1===c&&(r=ja(r,null,"F"),o=Vi(r)),this.indexManager.getDocumentsMatchingTarget(e,o).next(p=>{const g=mr(...p);return this.Ji.getDocuments(e,g).next(C=>this.indexManager.getMinOffset(e,o).next(O=>{const H=this.ts(r,C);return this.ns(r,H,g,O.readTime)?this.Yi(e,ja(r,null,"F")):this.rs(e,H,r,O)}))})))}Zi(e,r,o,c){return Aa(r)||c.isEqual(Ae.min())?et.resolve(null):this.Ji.getDocuments(e,o).next(p=>{const g=this.ts(r,p);return this.ns(r,g,o,c)?et.resolve(null):(Ln()<=Ie.$b.DEBUG&&mt("QueryEngine","Re-using previous result from %s to execute query: %s",c.toString(),Ui(r)),this.rs(e,g,r,function yi(a,e){const r=a.toTimestamp().seconds,o=a.toTimestamp().nanoseconds+1,c=Ae.fromTimestamp(1e9===o?new Ce(r+1,0):new Ce(r,o));return new sr(c,de.empty(),e)}(c,-1)).next(C=>C))})}ts(e,r){let o=new Tr(ua(e));return r.forEach((c,p)=>{Ws(e,p)&&(o=o.add(p))}),o}ns(e,r,o,c){if(null===e.limit)return!1;if(o.size!==r.size)return!0;const p="F"===e.limitType?r.last():r.first();return!!p&&(p.hasPendingWrites||p.version.compareTo(c)>0)}Xi(e,r,o){return Ln()<=Ie.$b.DEBUG&&mt("QueryEngine","Using full collection scan to execute query:",Ui(r)),this.Ji.getDocumentsMatchingQuery(e,r,sr.min(),o)}rs(e,r,o,c){return this.Ji.getDocumentsMatchingQuery(e,o,c).next(p=>(r.forEach(g=>{p=p.insert(g.key,g)}),p))}}class V1{constructor(e,r,o,c){this.persistence=e,this.ss=r,this.serializer=c,this.os=new Nr(hn),this._s=new Lo(p=>xn(p),Zn),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(o)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Ah(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.os))}}function Jo(a,e){return cu.apply(this,arguments)}function cu(){return(cu=(0,se.A)(function*(a,e){const r=ke(a);return yield r.persistence.runTransaction("Handle user change","readonly",o=>{let c;return r.mutationQueue.getAllMutationBatches(o).next(p=>(c=p,r.ls(e),r.mutationQueue.getAllMutationBatches(o))).next(p=>{const g=[],C=[];let O=mr();for(const H of c){g.push(H.batchId);for(const Y of H.mutations)O=O.add(Y.key)}for(const H of p){C.push(H.batchId);for(const Y of H.mutations)O=O.add(Y.key)}return r.localDocuments.getDocuments(o,O).next(H=>({hs:H,removedBatchIds:g,addedBatchIds:C}))})})})).apply(this,arguments)}function Sd(a){const e=ke(a);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.Ur.getLastRemoteSnapshotVersion(r))}function lu(a,e){const r=ke(a);return r.persistence.runTransaction("Get next mutation batch","readonly",o=>(void 0===e&&(e=-1),r.mutationQueue.getNextMutationBatchAfterBatchId(o,e)))}function tl(a,e,r){return ls.apply(this,arguments)}function ls(){return(ls=(0,se.A)(function*(a,e,r){const o=ke(a),c=o.os.get(e),p=r?"readwrite":"readwrite-primary";try{r||(yield o.persistence.runTransaction("Release target",p,g=>o.persistence.referenceDelegate.removeTarget(g,c)))}catch(g){if(!P(g))throw g;mt("LocalStore",`Failed to update sequence numbers for target ${e}: ${g}`)}o.os=o.os.remove(e),o._s.delete(c.target)})).apply(this,arguments)}function uu(a,e,r){const o=ke(a);let c=Ae.min(),p=mr();return o.persistence.runTransaction("Execute query","readwrite",g=>function(O,H,Y){const fe=ke(O),He=fe._s.get(Y);return void 0!==He?et.resolve(fe.os.get(He)):fe.Ur.getTargetData(H,Y)}(o,g,Vi(e)).next(C=>{if(C)return c=C.lastLimboFreeSnapshotVersion,o.Ur.getMatchingKeysForTargetId(g,C.targetId).next(O=>{p=O})}).next(()=>o.ss.getDocumentsMatchingQuery(g,e,r?c:Ae.min(),r?p:mr())).next(C=>(function na(a,e,r){let o=a.us.get(e)||Ae.min();r.forEach((c,p)=>{p.readTime.compareTo(o)>0&&(o=p.readTime)}),a.us.set(e,o)}(o,function uc(a){return a.collectionGroup||(a.path.length%2==1?a.path.lastSegment():a.path.get(a.path.length-2))}(e),C),{documents:C,Ts:p})))}class hu{constructor(){this.activeTargetIds=function zc(){return Hl}()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Tc{constructor(){this.so=new hu,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,o){}addLocalQueryTarget(e,r=!0){return r&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,r,o){this.oo[e]=r}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new hu,Promise.resolve()}handleUserChange(e,r,o){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Nd{_o(e){}shutdown(){}}class Vd{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){mt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){mt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let pu=null;function Ld(){return null===pu?pu=268435456+Math.round(2147483648*Math.random()):pu++,"0x"+pu.toString(16)}const Fd={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Gp{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}const _o="WebChannelConnection";class L1 extends class{constructor(r){this.databaseInfo=r,this.databaseId=r.databaseId;const o=r.ssl?"https":"http",c=encodeURIComponent(this.databaseId.projectId),p=encodeURIComponent(this.databaseId.database);this.Do=o+"://"+r.host,this.vo=`projects/${c}/databases/${p}`,this.Co="(default)"===this.databaseId.database?`project_id=${c}`:`project_id=${c}&database_id=${p}`}get Fo(){return!1}Mo(r,o,c,p,g){const C=Ld(),O=this.xo(r,o.toUriEncodedString());mt("RestConnection",`Sending RPC '${r}' ${C}:`,O,c);const H={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(H,p,g),this.No(r,O,H,c).then(Y=>(mt("RestConnection",`Received RPC '${r}' ${C}: `,Y),Y),Y=>{throw mn("RestConnection",`RPC '${r}' ${C} failed with error: `,Y,"url: ",O,"request:",c),Y})}Lo(r,o,c,p,g,C){return this.Mo(r,o,c,p,g)}Oo(r,o,c){r["X-Goog-Api-Client"]="gl-js/ fire/"+fn,r["Content-Type"]="text/plain",this.databaseInfo.appId&&(r["X-Firebase-GMPID"]=this.databaseInfo.appId),o&&o.headers.forEach((p,g)=>r[g]=p),c&&c.headers.forEach((p,g)=>r[g]=p)}xo(r,o){return`${this.Do}/v1/${o}:${Fd[r]}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,r,o,c){const p=Ld();return new Promise((g,C)=>{const O=new Nt;O.setWithCredentials(!0),O.listenOnce(Zt.COMPLETE,()=>{try{switch(O.getLastErrorCode()){case be.NO_ERROR:const Y=O.getResponseJson();mt(_o,`XHR for RPC '${e}' ${p} received:`,JSON.stringify(Y)),g(Y);break;case be.TIMEOUT:mt(_o,`RPC '${e}' ${p} timed out`),C(new Oe(ue.DEADLINE_EXCEEDED,"Request time out"));break;case be.HTTP_ERROR:const fe=O.getStatus();if(mt(_o,`RPC '${e}' ${p} failed with status:`,fe,"response text:",O.getResponseText()),fe>0){let He=O.getResponseJson();Array.isArray(He)&&(He=He[0]);const bt=He?.error;if(bt&&bt.status&&bt.message){const Ht=function(Jt){const Vn=Jt.toLowerCase().replace(/_/g,"-");return Object.values(ue).indexOf(Vn)>=0?Vn:ue.UNKNOWN}(bt.status);C(new Oe(Ht,bt.message))}else C(new Oe(ue.UNKNOWN,"Server responded with status "+O.getStatus()))}else C(new Oe(ue.UNAVAILABLE,"Connection failed."));break;default:Vt()}}finally{mt(_o,`RPC '${e}' ${p} completed.`)}});const H=JSON.stringify(c);mt(_o,`RPC '${e}' ${p} sending request:`,c),O.send(r,"POST",H,o,15)})}Bo(e,r,o){const c=Ld(),p=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],g=ft(),C=Qe(),O={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},H=this.longPollingOptions.timeoutSeconds;void 0!==H&&(O.longPollingTimeout=Math.round(1e3*H)),this.useFetchStreams&&(O.useFetchStreams=!0),this.Oo(O.initMessageHeaders,r,o),O.encodeInitMessageHeaders=!0;const Y=p.join("");mt(_o,`Creating RPC '${e}' stream ${c}: ${Y}`,O);const fe=g.createWebChannel(Y,O);let He=!1,bt=!1;const Ht=new Gp({Io:Jt=>{bt?mt(_o,`Not sending because RPC '${e}' stream ${c} is closed:`,Jt):(He||(mt(_o,`Opening RPC '${e}' stream ${c} transport.`),fe.open(),He=!0),mt(_o,`RPC '${e}' stream ${c} sending:`,Jt),fe.send(Jt))},To:()=>fe.close()}),rn=(Jt,Vn,Yn)=>{Jt.listen(Vn,jn=>{try{Yn(jn)}catch(yr){setTimeout(()=>{throw yr},0)}})};return rn(fe,dn.EventType.OPEN,()=>{bt||(mt(_o,`RPC '${e}' stream ${c} transport opened.`),Ht.yo())}),rn(fe,dn.EventType.CLOSE,()=>{bt||(bt=!0,mt(_o,`RPC '${e}' stream ${c} transport closed`),Ht.So())}),rn(fe,dn.EventType.ERROR,Jt=>{bt||(bt=!0,mn(_o,`RPC '${e}' stream ${c} transport errored:`,Jt),Ht.So(new Oe(ue.UNAVAILABLE,"The operation could not be completed")))}),rn(fe,dn.EventType.MESSAGE,Jt=>{var Vn;if(!bt){const Yn=Jt.data[0];kt(!!Yn);const yr=Yn.error||(null===(Vn=Yn[0])||void 0===Vn?void 0:Vn.error);if(yr){mt(_o,`RPC '${e}' stream ${c} received error:`,yr);const mi=yr.status;let $r=function(Ze){const at=bi[Ze];if(void 0!==at)return Fo(at)}(mi),ot=yr.message;void 0===$r&&($r=ue.INTERNAL,ot="Unknown error status: "+mi+" with message "+yr.message),bt=!0,Ht.So(new Oe($r,ot)),fe.close()}else mt(_o,`RPC '${e}' stream ${c} received:`,Yn),Ht.bo(Yn)}}),rn(C,je.STAT_EVENT,Jt=>{Jt.stat===We.PROXY?mt(_o,`RPC '${e}' stream ${c} detected buffering proxy`):Jt.stat===We.NOPROXY&&mt(_o,`RPC '${e}' stream ${c} detected no buffering proxy`)}),setTimeout(()=>{Ht.wo()},0),Ht}}function td(){return typeof document<"u"?document:null}function fu(a){return new _h(a,!0)}class xl{constructor(e,r,o=1e3,c=1.5,p=6e4){this.ui=e,this.timerId=r,this.ko=o,this.qo=c,this.Qo=p,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const r=Math.floor(this.Ko+this.zo()),o=Math.max(0,Date.now()-this.Uo),c=Math.max(0,r-o);c>0&&mt("ExponentialBackoff",`Backing off for ${c} ms (base delay: ${this.Ko} ms, delay with jitter: ${r} ms, last attempt: ${o} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,c,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){null!==this.$o&&(this.$o.skipDelay(),this.$o=null)}cancel(){null!==this.$o&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}class F1{constructor(e,r,o,c,p,g,C,O){this.ui=e,this.Ho=o,this.Jo=c,this.connection=p,this.authCredentialsProvider=g,this.appCheckCredentialsProvider=C,this.listener=O,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new xl(e,r)}n_(){return 1===this.state||5===this.state||this.r_()}r_(){return 2===this.state||3===this.state}start(){this.e_=0,4!==this.state?this.auth():this.i_()}stop(){var e=this;return(0,se.A)(function*(){e.n_()&&(yield e.close(0))})()}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&null===this.Zo&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){var e=this;return(0,se.A)(function*(){if(e.r_())return e.close(0)})()}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,r){var o=this;return(0,se.A)(function*(){o.u_(),o.c_(),o.t_.cancel(),o.Yo++,4!==e?o.t_.reset():r&&r.code===ue.RESOURCE_EXHAUSTED?(zt(r.toString()),zt("Using maximum backoff delay to prevent overloading the backend."),o.t_.Wo()):r&&r.code===ue.UNAUTHENTICATED&&3!==o.state&&(o.authCredentialsProvider.invalidateToken(),o.appCheckCredentialsProvider.invalidateToken()),null!==o.stream&&(o.l_(),o.stream.close(),o.stream=null),o.state=e,yield o.listener.mo(r)})()}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),r=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([o,c])=>{this.Yo===r&&this.P_(o,c)},o=>{e(()=>{const c=new Oe(ue.UNKNOWN,"Fetching auth token failed: "+o.message);return this.I_(c)})})}P_(e,r){const o=this.h_(this.Yo);this.stream=this.T_(e,r),this.stream.Eo(()=>{o(()=>this.listener.Eo())}),this.stream.Ro(()=>{o(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(c=>{o(()=>this.I_(c))}),this.stream.onMessage(c=>{o(()=>1==++this.e_?this.E_(c):this.onNext(c))})}i_(){var e=this;this.state=5,this.t_.Go((0,se.A)(function*(){e.state=0,e.start()}))}I_(e){return mt("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return r=>{this.ui.enqueueAndForget(()=>this.Yo===e?r():(mt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class B1 extends F1{constructor(e,r,o,c,p,g){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,o,c,g),this.serializer=p}T_(e,r){return this.connection.Bo("Listen",e,r)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const r=function Lu(a,e){let r;if("targetChange"in e){const o="NO_CHANGE"===(H=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===H?1:"REMOVE"===H?2:"CURRENT"===H?3:"RESET"===H?4:Vt(),c=e.targetChange.targetIds||[],p=function(H,Y){return H.useProto3Json?(kt(void 0===Y||"string"==typeof Y),Br.fromBase64String(Y||"")):(kt(void 0===Y||Y instanceof Buffer||Y instanceof Uint8Array),Br.fromUint8Array(Y||new Uint8Array))}(a,e.targetChange.resumeToken),g=e.targetChange.cause,C=g&&function(H){const Y=void 0===H.code?ue.UNKNOWN:Fo(H.code);return new Oe(Y,H.message||"")}(g);r=new pl(o,c,p,C||null)}else if("documentChange"in e){const o=e.documentChange,c=Er(a,o.document.name),p=Ei(o.document.updateTime),g=o.document.createTime?Ei(o.document.createTime):Ae.min(),C=new zr({mapValue:{fields:o.document.fields}}),O=Ur.newFoundDocument(c,p,g,C);r=new $n(o.targetIds||[],o.removedTargetIds||[],O.key,O)}else if("documentDelete"in e){const o=e.documentDelete,c=Er(a,o.document),p=o.readTime?Ei(o.readTime):Ae.min(),g=Ur.newNoDocument(c,p);r=new $n([],o.removedTargetIds||[],g.key,g)}else if("documentRemove"in e){const o=e.documentRemove,c=Er(a,o.document);r=new $n([],o.removedTargetIds||[],c,null)}else{if(!("filter"in e))return Vt();{const o=e.filter,{count:c=0,unchangedNames:p}=o,g=new Ou(c,p);r=new ps(o.targetId,g)}}var H;return r}(this.serializer,e),o=function(p){if(!("targetChange"in p))return Ae.min();const g=p.targetChange;return g.targetIds&&g.targetIds.length?Ae.min():g.readTime?Ei(g.readTime):Ae.min()}(e);return this.listener.d_(r,o)}A_(e){const r={};r.database=Ql(this.serializer),r.addTarget=function(p,g){let C;const O=g.target;if(C=Ni(O)?{documents:M(p,O)}:{query:D(p,O)._t},C.targetId=g.targetId,g.resumeToken.approximateByteSize()>0){C.resumeToken=Wt(p,g.resumeToken);const H=Kl(p,g.expectedCount);null!==H&&(C.expectedCount=H)}else if(g.snapshotVersion.compareTo(Ae.min())>0){C.readTime=qc(p,g.snapshotVersion.toTimestamp());const H=Kl(p,g.expectedCount);null!==H&&(C.expectedCount=H)}return C}(this.serializer,e);const o=function Re(a,e){const r=function(c){switch(c){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Vt()}}(e.purpose);return null==r?null:{"goog-listen-tags":r}}(0,e);o&&(r.labels=o),this.a_(r)}R_(e){const r={};r.database=Ql(this.serializer),r.removeTarget=e,this.a_(r)}}class j1 extends F1{constructor(e,r,o,c,p,g){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,o,c,g),this.serializer=p}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,r){return this.connection.Bo("Write",e,r)}E_(e){return kt(!!e.streamToken),this.lastStreamToken=e.streamToken,kt(!e.writeResults||0===e.writeResults.length),this.listener.f_()}onNext(e){kt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const r=function S(a,e){return a&&a.length>0?(kt(void 0!==e),a.map(r=>function(c,p){let g=Ei(c.updateTime?c.updateTime:p);return g.isEqual(Ae.min())&&(g=Ei(p)),new Dn(g,c.transformResults||[])}(r,e))):[]}(e.writeResults,e.commitTime),o=Ei(e.commitTime);return this.listener.g_(o,r)}p_(){const e={};e.database=Ql(this.serializer),this.a_(e)}m_(e){const r={streamToken:this.lastStreamToken,writes:e.map(o=>function fs(a,e){let r;if(e instanceof wi)r={update:Vu(a,e.key,e.value)};else if(e instanceof Go)r={delete:Xs(a,e.key)};else if(e instanceof so)r={update:Vu(a,e.key,e.data),updateMask:$a(e.fieldMask)};else{if(!(e instanceof fo))return Vt();r={verify:Xs(a,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map(o=>function(p,g){const C=g.transform;if(C instanceof ha)return{fieldPath:g.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(C instanceof Ls)return{fieldPath:g.field.canonicalString(),appendMissingElements:{values:C.elements}};if(C instanceof A)return{fieldPath:g.field.canonicalString(),removeAllFromArray:{values:C.elements}};if(C instanceof B)return{fieldPath:g.field.canonicalString(),increment:C.Pe};throw Vt()}(0,o))),e.precondition.isNone||(r.currentDocument=void 0!==(p=e.precondition).updateTime?{updateTime:Hr(a,p.updateTime)}:void 0!==p.exists?{exists:p.exists}:Vt()),r;var p}(this.serializer,o))};this.a_(r)}}class Kp extends class{}{constructor(e,r,o,c){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=o,this.serializer=c,this.y_=!1}w_(){if(this.y_)throw new Oe(ue.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,r,o,c){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([p,g])=>this.connection.Mo(e,Hi(r,o),c,p,g)).catch(p=>{throw"FirebaseError"===p.name?(p.code===ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),p):new Oe(ue.UNKNOWN,p.toString())})}Lo(e,r,o,c,p){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([g,C])=>this.connection.Lo(e,Hi(r,o),c,g,C,p)).catch(g=>{throw"FirebaseError"===g.name?(g.code===ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),g):new Oe(ue.UNKNOWN,g.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class Sh{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){0===this.S_&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){"Online"===this.state?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,"Online"===e&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const r=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(zt(r),this.D_=!1):mt("OnlineStateTracker",r)}x_(){null!==this.b_&&(this.b_.cancel(),this.b_=null)}}class z1{constructor(e,r,o,c,p){var g=this;this.localStore=e,this.datastore=r,this.asyncQueue=o,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=p,this.k_._o(C=>{o.enqueueAndForget((0,se.A)(function*(){var O;ze(g)&&(mt("RemoteStore","Restarting streams for network reachability change."),yield(O=(0,se.A)(function*(Y){const fe=ke(Y);fe.L_.add(4),yield k(fe),fe.q_.set("Unknown"),fe.L_.delete(4),yield Dc(fe)}),function H(Y){return O.apply(this,arguments)})(g))}))}),this.q_=new Sh(o,c)}}function Dc(a){return Cl.apply(this,arguments)}function Cl(){return(Cl=(0,se.A)(function*(a){if(ze(a))for(const e of a.B_)yield e(!0)})).apply(this,arguments)}function k(a){return u.apply(this,arguments)}function u(){return(u=(0,se.A)(function*(a){for(const e of a.B_)yield e(!1)})).apply(this,arguments)}function f(a,e){const r=ke(a);r.N_.has(e.targetId)||(r.N_.set(e.targetId,e),ge(r)?ae(r):es(r).r_()&&N(r,e))}function b(a,e){const r=ke(a),o=es(r);r.N_.delete(e),o.r_()&&W(r,e),0===r.N_.size&&(o.r_()?o.o_():ze(r)&&r.q_.set("Unknown"))}function N(a,e){if(a.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ae.min())>0){const r=a.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}es(a).A_(e)}function W(a,e){a.Q_.xe(e),es(a).R_(e)}function ae(a){a.Q_=new Gl({getRemoteKeysForTarget:e=>a.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>a.N_.get(e)||null,tt:()=>a.datastore.serializer.databaseId}),es(a).start(),a.q_.v_()}function ge(a){return ze(a)&&!es(a).n_()&&a.N_.size>0}function ze(a){return 0===ke(a).L_.size}function ct(a){a.Q_=void 0}function $t(a){return cn.apply(this,arguments)}function cn(){return(cn=(0,se.A)(function*(a){a.q_.set("Online")})).apply(this,arguments)}function Wn(a){return Rn.apply(this,arguments)}function Rn(){return(Rn=(0,se.A)(function*(a){a.N_.forEach((e,r)=>{N(a,e)})})).apply(this,arguments)}function Cn(a,e){return Bn.apply(this,arguments)}function Bn(){return(Bn=(0,se.A)(function*(a,e){ct(a),ge(a)?(a.q_.M_(e),ae(a)):a.q_.set("Unknown")})).apply(this,arguments)}function dr(a,e,r){return ni.apply(this,arguments)}function ni(){return ni=(0,se.A)(function*(a,e,r){if(a.q_.set("Online"),e instanceof pl&&2===e.state&&e.cause)try{yield(o=(0,se.A)(function*(p,g){const C=g.cause;for(const O of g.targetIds)p.N_.has(O)&&(yield p.remoteSyncer.rejectListen(O,C),p.N_.delete(O),p.Q_.removeTarget(O))}),function c(p,g){return o.apply(this,arguments)})(a,e)}catch(o){mt("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),o),yield oi(a,o)}else if(e instanceof $n?a.Q_.Ke(e):e instanceof ps?a.Q_.He(e):a.Q_.We(e),!r.isEqual(Ae.min()))try{const o=yield Sd(a.localStore);r.compareTo(o)>=0&&(yield function(p,g){const C=p.Q_.rt(g);return C.targetChanges.forEach((O,H)=>{if(O.resumeToken.approximateByteSize()>0){const Y=p.N_.get(H);Y&&p.N_.set(H,Y.withResumeToken(O.resumeToken,g))}}),C.targetMismatches.forEach((O,H)=>{const Y=p.N_.get(O);if(!Y)return;p.N_.set(O,Y.withResumeToken(Br.EMPTY_BYTE_STRING,Y.snapshotVersion)),W(p,O);const fe=new Si(Y.target,O,H,Y.sequenceNumber);N(p,fe)}),p.remoteSyncer.applyRemoteEvent(C)}(a,r))}catch(o){mt("RemoteStore","Failed to raise snapshot:",o),yield oi(a,o)}var o}),ni.apply(this,arguments)}function oi(a,e,r){return Kr.apply(this,arguments)}function Kr(){return(Kr=(0,se.A)(function*(a,e,r){if(!P(e))throw e;a.L_.add(1),yield k(a),a.q_.set("Offline"),r||(r=()=>Sd(a.localStore)),a.asyncQueue.enqueueRetryable((0,se.A)(function*(){mt("RemoteStore","Retrying IndexedDB access"),yield r(),a.L_.delete(1),yield Dc(a)}))})).apply(this,arguments)}function rr(a,e){return e().catch(r=>oi(a,r,e))}function ko(a){return bo.apply(this,arguments)}function bo(){return(bo=(0,se.A)(function*(a){const e=ke(a),r=ai(e);let o=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;ao(e);)try{const c=yield lu(e.localStore,o);if(null===c){0===e.O_.length&&r.o_();break}o=c.batchId,si(e,c)}catch(c){yield oi(e,c)}Bo(e)&&_a(e)})).apply(this,arguments)}function ao(a){return ze(a)&&a.O_.length<10}function si(a,e){a.O_.push(e);const r=ai(a);r.r_()&&r.V_&&r.m_(e.mutations)}function Bo(a){return ze(a)&&!ai(a).n_()&&a.O_.length>0}function _a(a){ai(a).start()}function Bd(a){return rl.apply(this,arguments)}function rl(){return(rl=(0,se.A)(function*(a){ai(a).p_()})).apply(this,arguments)}function Sc(a){return nd.apply(this,arguments)}function nd(){return(nd=(0,se.A)(function*(a){const e=ai(a);for(const r of a.O_)e.m_(r.mutations)})).apply(this,arguments)}function jd(a,e,r){return Pn.apply(this,arguments)}function Pn(){return(Pn=(0,se.A)(function*(a,e,r){const o=a.O_.shift(),c=yc.from(o,e,r);yield rr(a,()=>a.remoteSyncer.applySuccessfulWrite(c)),yield ko(a)})).apply(this,arguments)}function Xn(a,e){return er.apply(this,arguments)}function er(){return er=(0,se.A)(function*(a,e){var r;e&&ai(a).V_&&(yield(r=(0,se.A)(function*(c,p){if(function yo(a){switch(a){default:return Vt();case ue.CANCELLED:case ue.UNKNOWN:case ue.DEADLINE_EXCEEDED:case ue.RESOURCE_EXHAUSTED:case ue.INTERNAL:case ue.UNAVAILABLE:case ue.UNAUTHENTICATED:return!1;case ue.INVALID_ARGUMENT:case ue.NOT_FOUND:case ue.ALREADY_EXISTS:case ue.PERMISSION_DENIED:case ue.FAILED_PRECONDITION:case ue.ABORTED:case ue.OUT_OF_RANGE:case ue.UNIMPLEMENTED:case ue.DATA_LOSS:return!0}}(C=p.code)&&C!==ue.ABORTED){const g=c.O_.shift();ai(c).s_(),yield rr(c,()=>c.remoteSyncer.rejectFailedWrite(g.batchId,p)),yield ko(c)}var C}),function o(c,p){return r.apply(this,arguments)})(a,e)),Bo(a)&&_a(a)}),er.apply(this,arguments)}function Qr(a,e){return Qi.apply(this,arguments)}function Qi(){return(Qi=(0,se.A)(function*(a,e){const r=ke(a);r.asyncQueue.verifyOperationInProgress(),mt("RemoteStore","RemoteStore received new credentials");const o=ze(r);r.L_.add(3),yield k(r),o&&r.q_.set("Unknown"),yield r.remoteSyncer.handleCredentialChange(e),r.L_.delete(3),yield Dc(r)})).apply(this,arguments)}function Ss(a,e){return gs.apply(this,arguments)}function gs(){return(gs=(0,se.A)(function*(a,e){const r=ke(a);e?(r.L_.delete(2),yield Dc(r)):e||(r.L_.add(2),yield k(r),r.q_.set("Unknown"))})).apply(this,arguments)}function es(a){return a.K_||(a.K_=function(r,o,c){const p=ke(r);return p.w_(),new B1(o,p.connection,p.authCredentials,p.appCheckCredentials,p.serializer,c)}(a.datastore,a.asyncQueue,{Eo:$t.bind(null,a),Ro:Wn.bind(null,a),mo:Cn.bind(null,a),d_:dr.bind(null,a)}),a.B_.push(function(){var e=(0,se.A)(function*(r){r?(a.K_.s_(),ge(a)?ae(a):a.q_.set("Unknown")):(yield a.K_.stop(),ct(a))});return function(r){return e.apply(this,arguments)}}())),a.K_}function ai(a){return a.U_||(a.U_=function(r,o,c){const p=ke(r);return p.w_(),new j1(o,p.connection,p.authCredentials,p.appCheckCredentials,p.serializer,c)}(a.datastore,a.asyncQueue,{Eo:()=>Promise.resolve(),Ro:Bd.bind(null,a),mo:Xn.bind(null,a),f_:Sc.bind(null,a),g_:jd.bind(null,a)}),a.B_.push(function(){var e=(0,se.A)(function*(r){r?(a.U_.s_(),yield ko(a)):(yield a.U_.stop(),a.O_.length>0&&(mt("RemoteStore",`Stopping write stream with ${a.O_.length} pending writes`),a.O_=[]))});return function(r){return e.apply(this,arguments)}}())),a.U_}class rd{constructor(e,r,o,c,p){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=o,this.op=c,this.removalCallback=p,this.deferred=new Tt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(g=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,r,o,c,p){const g=Date.now()+o,C=new rd(e,r,g,c,p);return C.start(o),C}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Oe(ue.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function w(a,e){if(zt("AsyncQueue",`${e}: ${a}`),P(a))return new Oe(ue.UNAVAILABLE,`${e}: ${a}`);throw a}class d{constructor(e){this.comparator=e?(r,o)=>e(r,o)||de.comparator(r.key,o.key):(r,o)=>de.comparator(r.key,o.key),this.keyedMap=Vs(),this.sortedSet=new Nr(this.comparator)}static emptySet(e){return new d(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((r,o)=>(e(r),!1))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof d)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),o=e.sortedSet.getIterator();for(;r.hasNext();){const c=r.getNext().key,p=o.getNext().key;if(!c.isEqual(p))return!1}return!0}toString(){const e=[];return this.forEach(r=>{e.push(r.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,r){const o=new d;return o.comparator=this.comparator,o.keyedMap=e,o.sortedSet=r,o}}class v{constructor(){this.W_=new Nr(de.comparator)}track(e){const r=e.doc.key,o=this.W_.get(r);o?0!==e.type&&3===o.type?this.W_=this.W_.insert(r,e):3===e.type&&1!==o.type?this.W_=this.W_.insert(r,{type:o.type,doc:e.doc}):2===e.type&&2===o.type?this.W_=this.W_.insert(r,{type:2,doc:e.doc}):2===e.type&&0===o.type?this.W_=this.W_.insert(r,{type:0,doc:e.doc}):1===e.type&&0===o.type?this.W_=this.W_.remove(r):1===e.type&&2===o.type?this.W_=this.W_.insert(r,{type:1,doc:o.doc}):0===e.type&&1===o.type?this.W_=this.W_.insert(r,{type:2,doc:e.doc}):Vt():this.W_=this.W_.insert(r,e)}G_(){const e=[];return this.W_.inorderTraversal((r,o)=>{e.push(o)}),e}}class I{constructor(e,r,o,c,p,g,C,O,H){this.query=e,this.docs=r,this.oldDocs=o,this.docChanges=c,this.mutatedKeys=p,this.fromCache=g,this.syncStateChanged=C,this.excludesMetadataChanges=O,this.hasCachedResults=H}static fromInitialDocuments(e,r,o,c,p){const g=[];return r.forEach(C=>{g.push({type:0,doc:C})}),new I(e,r,d.emptySet(r),g,o,c,!0,!1,p)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&pi(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,o=e.docChanges;if(r.length!==o.length)return!1;for(let c=0;c<r.length;c++)if(r[c].type!==o[c].type||!r[c].doc.isEqual(o[c].doc))return!1;return!0}}class Z{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class ce{constructor(){this.queries=tt(),this.onlineState="Unknown",this.Y_=new Set}terminate(){!function(r,o){const c=ke(r),p=c.queries;c.queries=tt(),p.forEach((g,C)=>{for(const O of C.j_)O.onError(o)})}(this,new Oe(ue.ABORTED,"Firestore shutting down"))}}function tt(){return new Lo(a=>Cs(a),pi)}function Mt(a,e){return Kt.apply(this,arguments)}function Kt(){return(Kt=(0,se.A)(function*(a,e){const r=ke(a);let o=3;const c=e.query;let p=r.queries.get(c);p?!p.H_()&&e.J_()&&(o=2):(p=new Z,o=e.J_()?0:1);try{switch(o){case 0:p.z_=yield r.onListen(c,!0);break;case 1:p.z_=yield r.onListen(c,!1);break;case 2:yield r.onFirstRemoteStoreListen(c)}}catch(g){const C=w(g,`Initialization of query '${Ui(e.query)}' failed`);return void e.onError(C)}r.queries.set(c,p),p.j_.push(e),e.Z_(r.onlineState),p.z_&&e.X_(p.z_)&&ka(r)})).apply(this,arguments)}function Sn(a,e){return or.apply(this,arguments)}function or(){return(or=(0,se.A)(function*(a,e){const r=ke(a),o=e.query;let c=3;const p=r.queries.get(o);if(p){const g=p.j_.indexOf(e);g>=0&&(p.j_.splice(g,1),0===p.j_.length?c=e.J_()?0:1:!p.H_()&&e.J_()&&(c=2))}switch(c){case 0:return r.queries.delete(o),r.onUnlisten(o,!0);case 1:return r.queries.delete(o),r.onUnlisten(o,!1);case 2:return r.onLastRemoteStoreUnlisten(o);default:return}})).apply(this,arguments)}function hr(a,e){const r=ke(a);let o=!1;for(const c of e){const g=r.queries.get(c.query);if(g){for(const C of g.j_)C.X_(c)&&(o=!0);g.z_=c}}o&&ka(r)}function Ri(a,e,r){const o=ke(a),c=o.queries.get(e);if(c)for(const p of c.j_)p.onError(r);o.queries.delete(e)}function ka(a){a.Y_.forEach(e=>{e.next()})}var Rc,Ya;(Ya=Rc||(Rc={})).ea="default",Ya.Cache="cache";class Al{constructor(e,r,o){this.query=e,this.ta=r,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=o||{}}X_(e){if(!this.options.includeMetadataChanges){const o=[];for(const c of e.docChanges)3!==c.type&&o.push(c);e=new I(e.query,e.docs,e.oldDocs,o,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.na?this.ia(e)&&(this.ta.next(e),r=!0):this.sa(e,this.onlineState)&&(this.oa(e),r=!0),this.ra=e,r}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let r=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),r=!0),r}sa(e,r){return!e.fromCache||!this.J_()||(!this.options._a||!("Offline"!==r))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===r)}ia(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}oa(e){e=I.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Rc.Cache}}class Ud{constructor(e){this.key=e}}class Ja{constructor(e){this.key=e}}class Hd{constructor(e,r){this.query=e,this.Ta=r,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=mr(),this.mutatedKeys=mr(),this.Aa=ua(e),this.Ra=new d(this.Aa)}get Va(){return this.Ta}ma(e,r){const o=r?r.fa:new v,c=r?r.Ra:this.Ra;let p=r?r.mutatedKeys:this.mutatedKeys,g=c,C=!1;const O="F"===this.query.limitType&&c.size===this.query.limit?c.last():null,H="L"===this.query.limitType&&c.size===this.query.limit?c.first():null;if(e.inorderTraversal((Y,fe)=>{const He=c.get(Y),bt=Ws(this.query,fe)?fe:null,Ht=!!He&&this.mutatedKeys.has(He.key),rn=!!bt&&(bt.hasLocalMutations||this.mutatedKeys.has(bt.key)&&bt.hasCommittedMutations);let Jt=!1;He&&bt?He.data.isEqual(bt.data)?Ht!==rn&&(o.track({type:3,doc:bt}),Jt=!0):this.ga(He,bt)||(o.track({type:2,doc:bt}),Jt=!0,(O&&this.Aa(bt,O)>0||H&&this.Aa(bt,H)<0)&&(C=!0)):!He&&bt?(o.track({type:0,doc:bt}),Jt=!0):He&&!bt&&(o.track({type:1,doc:He}),Jt=!0,(O||H)&&(C=!0)),Jt&&(bt?(g=g.add(bt),p=rn?p.add(Y):p.delete(Y)):(g=g.delete(Y),p=p.delete(Y)))}),null!==this.query.limit)for(;g.size>this.query.limit;){const Y="F"===this.query.limitType?g.last():g.first();g=g.delete(Y.key),p=p.delete(Y.key),o.track({type:1,doc:Y})}return{Ra:g,fa:o,ns:C,mutatedKeys:p}}ga(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,o,c){const p=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const g=e.fa.G_();g.sort((Y,fe)=>function(bt,Ht){const rn=Jt=>{switch(Jt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Vt()}};return rn(bt)-rn(Ht)}(Y.type,fe.type)||this.Aa(Y.doc,fe.doc)),this.pa(o),c=null!=c&&c;const C=r&&!c?this.ya():[],O=0===this.da.size&&this.current&&!c?1:0,H=O!==this.Ea;return this.Ea=O,0!==g.length||H?{snapshot:new I(this.query,e.Ra,p,g,e.mutatedKeys,0===O,H,!1,!!o&&o.resumeToken.approximateByteSize()>0),wa:C}:{wa:C}}Z_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new v,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(r=>this.Ta=this.Ta.add(r)),e.modifiedDocuments.forEach(r=>{}),e.removedDocuments.forEach(r=>this.Ta=this.Ta.delete(r)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=mr(),this.Ra.forEach(o=>{this.Sa(o.key)&&(this.da=this.da.add(o.key))});const r=[];return e.forEach(o=>{this.da.has(o)||r.push(new Ja(o))}),this.da.forEach(o=>{e.has(o)||r.push(new Ud(o))}),r}ba(e){this.Ta=e.Ts,this.da=mr();const r=this.ma(e.documents);return this.applyChanges(r,!0)}Da(){return I.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,0===this.Ea,this.hasCachedResults)}}class U1{constructor(e,r,o){this.query=e,this.targetId=r,this.view=o}}class Oh{constructor(e){this.key=e,this.va=!1}}class r2{constructor(e,r,o,c,p,g){this.localStore=e,this.remoteStore=r,this.eventManager=o,this.sharedClientState=c,this.currentUser=p,this.maxConcurrentLimboResolutions=g,this.Ca={},this.Fa=new Lo(C=>Cs(C),pi),this.Ma=new Map,this.xa=new Set,this.Oa=new Nr(de.comparator),this.Na=new Map,this.La=new el,this.Ba={},this.ka=new Map,this.qa=Va.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return!0===this.Qa}}function H1(a,e){return Qp.apply(this,arguments)}function Qp(){return(Qp=(0,se.A)(function*(a,e,r=!0){const o=Q1(a);let c;const p=o.Fa.get(e);return p?(o.sharedClientState.addLocalQueryTarget(p.targetId),c=p.view.Da()):c=yield Zp(o,e,r,!0),c})).apply(this,arguments)}function o2(a,e){return q1.apply(this,arguments)}function q1(){return(q1=(0,se.A)(function*(a,e){const r=Q1(a);yield Zp(r,e,!0,!1)})).apply(this,arguments)}function Zp(a,e,r,o){return Nh.apply(this,arguments)}function Nh(){return(Nh=(0,se.A)(function*(a,e,r,o){const c=yield function La(a,e){const r=ke(a);return r.persistence.runTransaction("Allocate target","readwrite",o=>{let c;return r.Ur.getTargetData(o,e).next(p=>p?(c=p,et.resolve(c)):r.Ur.allocateTargetId(o).next(g=>(c=new Si(e,g,"TargetPurposeListen",o.currentSequenceNumber),r.Ur.addTargetData(o,c).next(()=>c))))}).then(o=>{const c=r.os.get(o.targetId);return(null===c||o.snapshotVersion.compareTo(c.snapshotVersion)>0)&&(r.os=r.os.insert(o.targetId,o),r._s.set(e,o.targetId)),o})}(a.localStore,Vi(e)),p=c.targetId,g=a.sharedClientState.addLocalQueryTarget(p,r);let C;return o&&(C=yield function $1(a,e,r,o,c){return qd.apply(this,arguments)}(a,e,p,"current"===g,c.resumeToken)),a.isPrimaryClient&&r&&f(a.remoteStore,c),C})).apply(this,arguments)}function qd(){return qd=(0,se.A)(function*(a,e,r,o,c){a.Ka=(fe,He,bt)=>{return(Ht=(0,se.A)(function*(Jt,Vn,Yn,jn){let yr=Vn.view.ma(Yn);yr.ns&&(yr=yield uu(Jt.localStore,Vn.query,!1).then(({documents:Fe})=>Vn.view.ma(Fe,yr)));const mi=jn&&jn.targetChanges.get(Vn.targetId),$r=jn&&null!=jn.targetMismatches.get(Vn.targetId),ot=Vn.view.applyChanges(yr,Jt.isPrimaryClient,mi,$r);return Bh(Jt,Vn.targetId,ot.wa),ot.snapshot}),function rn(Jt,Vn,Yn,jn){return Ht.apply(this,arguments)})(a,fe,He,bt);var Ht};const p=yield uu(a.localStore,e,!0),g=new Hd(e,p.Ts),C=g.ma(p.documents),O=vc.createSynthesizedTargetChangeForCurrentChange(r,o&&"Offline"!==a.onlineState,c),H=g.applyChanges(C,a.isPrimaryClient,O);Bh(a,r,H.wa);const Y=new U1(e,r,g);return a.Fa.set(e,Y),a.Ma.has(r)?a.Ma.get(r).push(e):a.Ma.set(r,[e]),H.snapshot}),qd.apply(this,arguments)}function Vh(a,e,r){return W1.apply(this,arguments)}function W1(){return(W1=(0,se.A)(function*(a,e,r){const o=ke(a),c=o.Fa.get(e),p=o.Ma.get(c.targetId);if(p.length>1)return o.Ma.set(c.targetId,p.filter(g=>!pi(g,e))),void o.Fa.delete(e);o.isPrimaryClient?(o.sharedClientState.removeLocalQueryTarget(c.targetId),o.sharedClientState.isActiveQueryTarget(c.targetId)||(yield tl(o.localStore,c.targetId,!1).then(()=>{o.sharedClientState.clearQueryState(c.targetId),r&&b(o.remoteStore,c.targetId),Fh(o,c.targetId)}).catch(Xr))):(Fh(o,c.targetId),yield tl(o.localStore,c.targetId,!0))})).apply(this,arguments)}function Xp(a,e){return $d.apply(this,arguments)}function $d(){return($d=(0,se.A)(function*(a,e){const r=ke(a),o=r.Fa.get(e),c=r.Ma.get(o.targetId);r.isPrimaryClient&&1===c.length&&(r.sharedClientState.removeLocalQueryTarget(o.targetId),b(r.remoteStore,o.targetId))})).apply(this,arguments)}function Lh(){return(Lh=(0,se.A)(function*(a,e,r){const o=function hf(a){const e=ke(a);return e.remoteStore.remoteSyncer.applySuccessfulWrite=ty.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=a2.bind(null,e),e}(a);try{const c=yield function(g,C){const O=ke(g),H=Ce.now(),Y=C.reduce((bt,Ht)=>bt.add(Ht.key),mr());let fe,He;return O.persistence.runTransaction("Locally write mutations","readwrite",bt=>{let Ht=oo(),rn=mr();return O.cs.getEntries(bt,Y).next(Jt=>{Ht=Jt,Ht.forEach((Vn,Yn)=>{Yn.isValidDocument()||(rn=rn.add(Vn))})}).next(()=>O.localDocuments.getOverlayedDocuments(bt,Ht)).next(Jt=>{fe=Jt;const Vn=[];for(const Yn of C){const jn=Gi(Yn,fe.get(Yn.key).overlayedDocument);null!=jn&&Vn.push(new so(Yn.key,jn,Wo(jn.value.mapValue),_n.exists(!0)))}return O.mutationQueue.addMutationBatch(bt,H,Vn,C)}).next(Jt=>{He=Jt;const Vn=Jt.applyToLocalDocumentSet(fe,rn);return O.documentOverlayCache.saveOverlays(bt,Jt.batchId,Vn)})}).then(()=>({batchId:He.batchId,changes:dc(fe)}))}(o.localStore,e);o.sharedClientState.addPendingMutation(c.batchId),function(g,C,O){let H=g.Ba[g.currentUser.toKey()];H||(H=new Nr(hn)),H=H.insert(C,O),g.Ba[g.currentUser.toKey()]=H}(o,c.batchId,r),yield ec(o,c.changes),yield ko(o.remoteStore)}catch(c){const p=w(c,"Failed to persist write");r.reject(p)}})).apply(this,arguments)}function Wd(a,e){return Yp.apply(this,arguments)}function Yp(){return(Yp=(0,se.A)(function*(a,e){const r=ke(a);try{const o=yield function bl(a,e){const r=ke(a),o=e.snapshotVersion;let c=r.os;return r.persistence.runTransaction("Apply remote event","readwrite-primary",p=>{const g=r.cs.newChangeBuffer({trackRemovals:!0});c=r.os;const C=[];e.targetChanges.forEach((Y,fe)=>{const He=c.get(fe);if(!He)return;C.push(r.Ur.removeMatchingKeys(p,Y.removedDocuments,fe).next(()=>r.Ur.addMatchingKeys(p,Y.addedDocuments,fe)));let bt=He.withSequenceNumber(p.currentSequenceNumber);var rn,Jt,Vn;null!==e.targetMismatches.get(fe)?bt=bt.withResumeToken(Br.EMPTY_BYTE_STRING,Ae.min()).withLastLimboFreeSnapshotVersion(Ae.min()):Y.resumeToken.approximateByteSize()>0&&(bt=bt.withResumeToken(Y.resumeToken,o)),c=c.insert(fe,bt),Jt=bt,Vn=Y,(0===(rn=He).resumeToken.approximateByteSize()||Jt.snapshotVersion.toMicroseconds()-rn.snapshotVersion.toMicroseconds()>=3e8||Vn.addedDocuments.size+Vn.modifiedDocuments.size+Vn.removedDocuments.size>0)&&C.push(r.Ur.updateTargetData(p,bt))});let O=oo(),H=mr();if(e.documentUpdates.forEach(Y=>{e.resolvedLimboDocuments.has(Y)&&C.push(r.persistence.referenceDelegate.updateLimboDocument(p,Y))}),C.push(function Cc(a,e,r){let o=mr(),c=mr();return r.forEach(p=>o=o.add(p)),e.getEntries(a,o).next(p=>{let g=oo();return r.forEach((C,O)=>{const H=p.get(C);O.isFoundDocument()!==H.isFoundDocument()&&(c=c.add(C)),O.isNoDocument()&&O.version.isEqual(Ae.min())?(e.removeEntry(C,O.readTime),g=g.insert(C,O)):!H.isValidDocument()||O.version.compareTo(H.version)>0||0===O.version.compareTo(H.version)&&H.hasPendingWrites?(e.addEntry(O),g=g.insert(C,O)):mt("LocalStore","Ignoring outdated watch update for ",C,". Current version:",H.version," Watch version:",O.version)}),{Ps:g,Is:c}})}(p,g,e.documentUpdates).next(Y=>{O=Y.Ps,H=Y.Is})),!o.isEqual(Ae.min())){const Y=r.Ur.getLastRemoteSnapshotVersion(p).next(fe=>r.Ur.setTargetsMetadata(p,p.currentSequenceNumber,o));C.push(Y)}return et.waitFor(C).next(()=>g.apply(p)).next(()=>r.localDocuments.getLocalViewOfDocuments(p,O,H)).next(()=>O)}).then(p=>(r.os=c,p))}(r.localStore,e);e.targetChanges.forEach((c,p)=>{const g=r.Na.get(p);g&&(kt(c.addedDocuments.size+c.modifiedDocuments.size+c.removedDocuments.size<=1),c.addedDocuments.size>0?g.va=!0:c.modifiedDocuments.size>0?kt(g.va):c.removedDocuments.size>0&&(kt(g.va),g.va=!1))}),yield ec(r,o,e)}catch(o){yield Xr(o)}})).apply(this,arguments)}function Jp(a,e,r){const o=ke(a);if(o.isPrimaryClient&&0===r||!o.isPrimaryClient&&1===r){const c=[];o.Fa.forEach((p,g)=>{const C=g.view.Z_(e);C.snapshot&&c.push(C.snapshot)}),function(g,C){const O=ke(g);O.onlineState=C;let H=!1;O.queries.forEach((Y,fe)=>{for(const He of fe.j_)He.Z_(C)&&(H=!0)}),H&&ka(O)}(o.eventManager,e),c.length&&o.Ca.d_(c),o.onlineState=e,o.isPrimaryClient&&o.sharedClientState.setOnlineState(e)}}function ey(a,e,r){return ef.apply(this,arguments)}function ef(){return(ef=(0,se.A)(function*(a,e,r){const o=ke(a);o.sharedClientState.updateQueryState(e,"rejected",r);const c=o.Na.get(e),p=c&&c.key;if(p){let g=new Nr(de.comparator);g=g.insert(p,Ur.newNoDocument(p,Ae.min()));const C=mr().add(p),O=new fa(Ae.min(),new Map,new Nr(hn),g,C);yield Wd(o,O),o.Oa=o.Oa.remove(p),o.Na.delete(e),yu(o)}else yield tl(o.localStore,e,!1).then(()=>Fh(o,e,r)).catch(Xr)})).apply(this,arguments)}function ty(a,e){return G1.apply(this,arguments)}function G1(){return(G1=(0,se.A)(function*(a,e){const r=ke(a),o=e.batch.batchId;try{const c=yield function Yu(a,e){const r=ke(a);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",o=>{const c=e.batch.keys(),p=r.cs.newChangeBuffer({trackRemovals:!0});return function(C,O,H,Y){const fe=H.batch,He=fe.keys();let bt=et.resolve();return He.forEach(Ht=>{bt=bt.next(()=>Y.getEntry(O,Ht)).next(rn=>{const Jt=H.docVersions.get(Ht);kt(null!==Jt),rn.version.compareTo(Jt)<0&&(fe.applyToRemoteDocument(rn,H),rn.isValidDocument()&&(rn.setReadTime(H.commitVersion),Y.addEntry(rn)))})}),bt.next(()=>C.mutationQueue.removeMutationBatch(O,fe))}(r,o,e,p).next(()=>p.apply(o)).next(()=>r.mutationQueue.performConsistencyCheck(o)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(o,c,e.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(o,function(C){let O=mr();for(let H=0;H<C.mutationResults.length;++H)C.mutationResults[H].transformResults.length>0&&(O=O.add(C.batch.mutations[H].key));return O}(e))).next(()=>r.localDocuments.getDocuments(o,c))})}(r.localStore,e);rf(r,o,null),nf(r,o),r.sharedClientState.updateMutationState(o,"acknowledged"),yield ec(r,c)}catch(c){yield Xr(c)}})).apply(this,arguments)}function a2(a,e,r){return Gd.apply(this,arguments)}function Gd(){return(Gd=(0,se.A)(function*(a,e,r){const o=ke(a);try{const c=yield function(g,C){const O=ke(g);return O.persistence.runTransaction("Reject batch","readwrite-primary",H=>{let Y;return O.mutationQueue.lookupMutationBatch(H,C).next(fe=>(kt(null!==fe),Y=fe.keys(),O.mutationQueue.removeMutationBatch(H,fe))).next(()=>O.mutationQueue.performConsistencyCheck(H)).next(()=>O.documentOverlayCache.removeOverlaysForBatchId(H,Y,C)).next(()=>O.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(H,Y)).next(()=>O.localDocuments.getDocuments(H,Y))})}(o.localStore,e);rf(o,e,r),nf(o,e),o.sharedClientState.updateMutationState(e,"rejected",r),yield ec(o,c)}catch(c){yield Xr(c)}})).apply(this,arguments)}function nf(a,e){(a.ka.get(e)||[]).forEach(r=>{r.resolve()}),a.ka.delete(e)}function rf(a,e,r){const o=ke(a);let c=o.Ba[o.currentUser.toKey()];if(c){const p=c.get(e);p&&(r?p.reject(r):p.resolve(),c=c.remove(e)),o.Ba[o.currentUser.toKey()]=c}}function Fh(a,e,r=null){a.sharedClientState.removeLocalQueryTarget(e);for(const o of a.Ma.get(e))a.Fa.delete(o),r&&a.Ca.$a(o,r);a.Ma.delete(e),a.isPrimaryClient&&a.La.gr(e).forEach(o=>{a.La.containsKey(o)||c2(a,o)})}function c2(a,e){a.xa.delete(e.path.canonicalString());const r=a.Oa.get(e);null!==r&&(b(a.remoteStore,r),a.Oa=a.Oa.remove(e),a.Na.delete(r),yu(a))}function Bh(a,e,r){for(const o of r)o instanceof Ud?(a.La.addReference(o.key,e),ny(a,o)):o instanceof Ja?(mt("SyncEngine","Document no longer in limbo: "+o.key),a.La.removeReference(o.key,e),a.La.containsKey(o.key)||c2(a,o.key)):Vt()}function ny(a,e){const r=e.key,o=r.path.canonicalString();a.Oa.get(r)||a.xa.has(o)||(mt("SyncEngine","New document in limbo: "+r),a.xa.add(o),yu(a))}function yu(a){for(;a.xa.size>0&&a.Oa.size<a.maxConcurrentLimboResolutions;){const e=a.xa.values().next().value;a.xa.delete(e);const r=new de(Ye.fromString(e)),o=a.qa.next();a.Na.set(o,new Oh(r)),a.Oa=a.Oa.insert(r,o),f(a.remoteStore,new Si(Vi(Os(r.path)),o,"TargetPurposeLimboResolution",re.oe))}}function ec(a,e,r){return jh.apply(this,arguments)}function jh(){return jh=(0,se.A)(function*(a,e,r){const o=ke(a),c=[],p=[],g=[];var C;o.Fa.isEmpty()||(o.Fa.forEach((C,O)=>{g.push(o.Ka(O,e,r).then(H=>{var Y;if((H||r)&&o.isPrimaryClient){const fe=H?!H.fromCache:null===(Y=r?.targetChanges.get(O.targetId))||void 0===Y?void 0:Y.current;o.sharedClientState.updateQueryState(O.targetId,fe?"current":"not-current")}if(H){c.push(H);const fe=xc.Wi(O.targetId,H);p.push(fe)}}))}),yield Promise.all(g),o.Ca.d_(c),yield(C=(0,se.A)(function*(H,Y){const fe=ke(H);try{yield fe.persistence.runTransaction("notifyLocalViewChanges","readwrite",He=>et.forEach(Y,bt=>et.forEach(bt.$i,Ht=>fe.persistence.referenceDelegate.addReference(He,bt.targetId,Ht)).next(()=>et.forEach(bt.Ui,Ht=>fe.persistence.referenceDelegate.removeReference(He,bt.targetId,Ht)))))}catch(He){if(!P(He))throw He;mt("LocalStore","Failed to update sequence numbers: "+He)}for(const He of Y){const bt=He.targetId;if(!He.fromCache){const Ht=fe.os.get(bt),Jt=Ht.withLastLimboFreeSnapshotVersion(Ht.snapshotVersion);fe.os=fe.os.insert(bt,Jt)}}}),function O(H,Y){return C.apply(this,arguments)})(o.localStore,p))}),jh.apply(this,arguments)}function l2(a,e){return K1.apply(this,arguments)}function K1(){return(K1=(0,se.A)(function*(a,e){const r=ke(a);if(!r.currentUser.isEqual(e)){mt("SyncEngine","User change. New user:",e.toKey());const o=yield Jo(r.localStore,e);r.currentUser=e,(p=r).ka.forEach(C=>{C.forEach(O=>{O.reject(new Oe(ue.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),p.ka.clear(),r.sharedClientState.handleUserChange(e,o.removedBatchIds,o.addedBatchIds),yield ec(r,o.hs)}var p})).apply(this,arguments)}function u2(a,e){const r=ke(a),o=r.Na.get(e);if(o&&o.va)return mr().add(o.key);{let c=mr();const p=r.Ma.get(e);if(!p)return c;for(const g of p){const C=r.Fa.get(g);c=c.unionWith(C.view.Va)}return c}}function Q1(a){const e=ke(a);return e.remoteStore.remoteSyncer.applyRemoteEvent=Wd.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=u2.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=ey.bind(null,e),e.Ca.d_=hr.bind(null,e.eventManager),e.Ca.$a=Ri.bind(null,e.eventManager),e}let il=(()=>{class a{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(r){var o=this;return(0,se.A)(function*(){o.serializer=fu(r.databaseInfo.databaseId),o.sharedClientState=o.Wa(r),o.persistence=o.Ga(r),yield o.persistence.start(),o.localStore=o.za(r),o.gcScheduler=o.ja(r,o.localStore),o.indexBackfillerScheduler=o.Ha(r,o.localStore)})()}ja(r,o){return null}Ha(r,o){return null}za(r){return function Dd(a,e,r,o){return new V1(a,e,r,o)}(this.persistence,new Td,r.initialUser,this.serializer)}Ga(r){return new Ds(ou.Zr,this.serializer)}Wa(r){return new Tc}terminate(){var r=this;return(0,se.A)(function*(){var o,c;null===(o=r.gcScheduler)||void 0===o||o.stop(),null===(c=r.indexBackfillerScheduler)||void 0===c||c.stop(),r.sharedClientState.shutdown(),yield r.persistence.shutdown()})()}}return a.provider={build:()=>new a},a})(),ad=(()=>{class a{initialize(r,o){var c=this;return(0,se.A)(function*(){c.localStore||(c.localStore=r.localStore,c.sharedClientState=r.sharedClientState,c.datastore=c.createDatastore(o),c.remoteStore=c.createRemoteStore(o),c.eventManager=c.createEventManager(o),c.syncEngine=c.createSyncEngine(o,!r.synchronizeTabs),c.sharedClientState.onlineStateHandler=p=>Jp(c.syncEngine,p,1),c.remoteStore.remoteSyncer.handleCredentialChange=l2.bind(null,c.syncEngine),yield Ss(c.remoteStore,c.syncEngine.isPrimaryClient))})()}createEventManager(r){return new ce}createDatastore(r){const o=fu(r.databaseInfo.databaseId),c=new L1(r.databaseInfo);return new Kp(r.authCredentials,r.appCheckCredentials,c,o)}createRemoteStore(r){return c=this.localStore,p=this.datastore,g=r.asyncQueue,C=o=>Jp(this.syncEngine,o,0),O=Vd.D()?new Vd:new Nd,new z1(c,p,g,C,O);var c,p,g,C,O}createSyncEngine(r,o){return function(p,g,C,O,H,Y,fe){const He=new r2(p,g,C,O,H,Y);return fe&&(He.Qa=!0),He}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,r.initialUser,r.maxConcurrentLimboResolutions,o)}terminate(){var r=this;return(0,se.A)(function*(){var o,c,p;yield(p=(0,se.A)(function*(C){const O=ke(C);mt("RemoteStore","RemoteStore shutting down."),O.L_.add(5),yield k(O),O.k_.shutdown(),O.q_.set("Unknown")}),function g(C){return p.apply(this,arguments)})(r.remoteStore),null===(o=r.datastore)||void 0===o||o.terminate(),null===(c=r.eventManager)||void 0===c||c.terminate()})()}}return a.provider={build:()=>new a},a})();class mf{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):zt("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,r){setTimeout(()=>{this.muted||e(r)},0)}}class gf{constructor(e,r,o,c,p){var g=this;this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=o,this.databaseInfo=c,this.user=Yt.UNAUTHENTICATED,this.clientId=lr.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=p,this.authCredentials.start(o,function(){var C=(0,se.A)(function*(O){mt("FirestoreClient","Received user=",O.uid),yield g.authCredentialListener(O),g.user=O});return function(O){return C.apply(this,arguments)}}()),this.appCheckCredentials.start(o,C=>(mt("FirestoreClient","Received new app check token=",C),this.appCheckCredentialListener(C,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const r=new Tt;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,se.A)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),r.resolve()}catch(o){const c=w(o,"Failed to shutdown persistence");r.reject(c)}})),r.promise}}function f2(a,e){return m2.apply(this,arguments)}function m2(){return m2=(0,se.A)(function*(a,e){a.asyncQueue.verifyOperationInProgress(),mt("FirestoreClient","Initializing OfflineComponentProvider");const r=a.configuration;yield e.initialize(r);let o=r.initialUser;a.setCredentialChangeListener(function(){var c=(0,se.A)(function*(p){o.isEqual(p)||(yield Jo(e.localStore,p),o=p)});return function(p){return c.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>a.terminate()),a._offlineComponents=e}),m2.apply(this,arguments)}function vf(a,e){return _f.apply(this,arguments)}function _f(){return(_f=(0,se.A)(function*(a,e){a.asyncQueue.verifyOperationInProgress();const r=yield function kf(a){return bf.apply(this,arguments)}(a);mt("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(r,a.configuration),a.setCredentialChangeListener(o=>Qr(e.remoteStore,o)),a.setAppCheckTokenChangeListener((o,c)=>Qr(e.remoteStore,c)),a._onlineComponents=e})).apply(this,arguments)}function bf(){return(bf=(0,se.A)(function*(a){if(!a._offlineComponents)if(a._uninitializedComponentsProvider){mt("FirestoreClient","Using user provided OfflineComponentProvider");try{yield f2(a,a._uninitializedComponentsProvider._offline)}catch(e){if(!("FirebaseError"===(c=e).name?c.code===ue.FAILED_PRECONDITION||c.code===ue.UNIMPLEMENTED:!(typeof DOMException<"u"&&c instanceof DOMException)||22===c.code||20===c.code||11===c.code))throw e;mn("Error using user provided cache. Falling back to memory cache: "+e),yield f2(a,new il)}}else mt("FirestoreClient","Using default OfflineComponentProvider"),yield f2(a,new il);var c;return a._offlineComponents})).apply(this,arguments)}function Z1(a){return X1.apply(this,arguments)}function X1(){return(X1=(0,se.A)(function*(a){return a._onlineComponents||(a._uninitializedComponentsProvider?(mt("FirestoreClient","Using user provided OnlineComponentProvider"),yield vf(a,a._uninitializedComponentsProvider._online)):(mt("FirestoreClient","Using default OnlineComponentProvider"),yield vf(a,new ad))),a._onlineComponents})).apply(this,arguments)}function Kd(a){return wf.apply(this,arguments)}function wf(){return(wf=(0,se.A)(function*(a){const e=yield Z1(a),r=e.eventManager;return r.onListen=H1.bind(null,e.syncEngine),r.onUnlisten=Vh.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=o2.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=Xp.bind(null,e.syncEngine),r})).apply(this,arguments)}function J1(a){const e={};return void 0!==a.timeoutSeconds&&(e.timeoutSeconds=a.timeoutSeconds),e}const ep=new Map;function xf(a,e,r){if(!r)throw new Oe(ue.INVALID_ARGUMENT,`Function ${a}() cannot be called with an empty ${e}.`)}function Cf(a){if(!de.isDocumentKey(a))throw new Oe(ue.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${a} has ${a.length}.`)}function qh(a){if(de.isDocumentKey(a))throw new Oe(ue.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${a} has ${a.length}.`)}function Af(a){if(void 0===a)return"undefined";if(null===a)return"null";if("string"==typeof a)return a.length>20&&(a=`${a.substring(0,20)}...`),JSON.stringify(a);if("number"==typeof a||"boolean"==typeof a)return""+a;if("object"==typeof a){if(a instanceof Array)return"an array";{const e=(o=a).constructor?o.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var o;return"function"==typeof a?"a function":Vt()}function qr(a,e){if("_delegate"in a&&(a=a._delegate),!(a instanceof e)){if(e.name===a.constructor.name)throw new Oe(ue.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=Af(a);throw new Oe(ue.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return a}class tp{constructor(e){var r,o;if(void 0===e.host){if(void 0!==e.ssl)throw new Oe(ue.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(r=e.ssl)||void 0===r||r;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Oe(ue.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function M2(a,e,r,o){if(!0===e&&!0===o)throw new Oe(ue.INVALID_ARGUMENT,`${a} and ${r} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=J1(null!==(o=e.experimentalLongPollingOptions)&&void 0!==o?o:{}),function(p){if(void 0!==p.timeoutSeconds){if(isNaN(p.timeoutSeconds))throw new Oe(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${p.timeoutSeconds} (must not be NaN)`);if(p.timeoutSeconds<5)throw new Oe(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${p.timeoutSeconds} (minimum allowed value is 5)`);if(p.timeoutSeconds>30)throw new Oe(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${p.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Qd{constructor(e,r,o,c){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=o,this._app=c,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new tp({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Oe(ue.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Oe(ue.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new tp(e),void 0!==e.credentials&&(this._authCredentials=function(o){if(!o)return new Dt;switch(o.type){case"firstParty":return new In(o.sessionIndex||"0",o.iamToken||null,o.authTokenFactory||null);case"provider":return o.client;default:throw new Oe(ue.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){var e=this;return(0,se.A)(function*(){"notTerminated"===e._terminateTask?yield e._terminate():e._terminateTask="notTerminated"})()}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const o=ep.get(r);o&&(mt("ComponentProvider","Removing Datastore"),ep.delete(r),o.terminate())}(this),Promise.resolve()}}class Mo{constructor(e,r,o){this.converter=r,this._query=o,this.type="query",this.firestore=e}withConverter(e){return new Mo(this.firestore,e,this._query)}}class jo{constructor(e,r,o){this.converter=r,this._key=o,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new tc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new jo(this.firestore,e,this._key)}}class tc extends Mo{constructor(e,r,o){super(e,r,Os(o)),this._path=o,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new jo(this.firestore,null,new de(e))}withConverter(e){return new tc(this.firestore,e,this._path)}}function np(a,e,...r){if(a=(0,ne.Ku)(a),xf("collection","path",e),a instanceof Qd){const o=Ye.fromString(e,...r);return qh(o),new tc(a,null,o)}{if(!(a instanceof jo||a instanceof tc))throw new Oe(ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=a._path.child(Ye.fromString(e,...r));return qh(o),new tc(a.firestore,null,o)}}function rp(a,e,...r){if(a=(0,ne.Ku)(a),1===arguments.length&&(e=lr.newId()),xf("doc","path",e),a instanceof Qd){const o=Ye.fromString(e,...r);return Cf(o),new jo(a,null,new de(o))}{if(!(a instanceof jo||a instanceof tc))throw new Oe(ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=a._path.child(Ye.fromString(e,...r));return Cf(o),new jo(a.firestore,a instanceof tc?a.converter:null,new de(o))}}class ld{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new xl(this,"async_queue_retry"),this.Vu=()=>{const o=td();o&&mt("AsyncQueue","Visibility state changed to "+o.visibilityState),this.t_.jo()},this.mu=e;const r=td();r&&"function"==typeof r.addEventListener&&r.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const r=td();r&&"function"==typeof r.removeEventListener&&r.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const r=new Tt;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}pu(){var e=this;return(0,se.A)(function*(){if(0!==e.Pu.length){try{yield e.Pu[0](),e.Pu.shift(),e.t_.reset()}catch(r){if(!P(r))throw r;mt("AsyncQueue","Operation failed with retryable error: "+r)}e.Pu.length>0&&e.t_.Go(()=>e.pu())}})()}gu(e){const r=this.mu.then(()=>(this.du=!0,e().catch(o=>{throw this.Eu=o,this.du=!1,zt("INTERNAL UNHANDLED ERROR: ",function(g){let C=g.message||"";return g.stack&&(C=g.stack.includes(g.message)?g.stack:g.message+"\n"+g.stack),C}(o)),o}).then(o=>(this.du=!1,o))));return this.mu=r,r}enqueueAfterDelay(e,r,o){this.fu(),this.Ru.indexOf(e)>-1&&(r=0);const c=rd.createAndSchedule(this,e,r,o,p=>this.yu(p));return this.Tu.push(c),c}fu(){this.Eu&&Vt()}verifyOperationInProgress(){}wu(){var e=this;return(0,se.A)(function*(){let r;do{r=e.mu,yield r}while(r!==e.mu)})()}Su(e){for(const r of this.Tu)if(r.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((r,o)=>r.targetTimeMs-o.targetTimeMs);for(const r of this.Tu)if(r.skipDelay(),"all"!==e&&r.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const r=this.Tu.indexOf(e);this.Tu.splice(r,1)}}function $h(a){return function(r,o){if("object"!=typeof r||null===r)return!1;const c=r;for(const p of["next","error","complete"])if(p in c&&"function"==typeof c[p])return!0;return!1}(a)}class Pi extends Qd{constructor(e,r,o,c){super(e,r,o,c),this.type="firestore",this._queue=new ld,this._persistenceKey=c?.name||"[DEFAULT]"}_terminate(){var e=this;return(0,se.A)(function*(){if(e._firestoreClient){const r=e._firestoreClient.terminate();e._queue=new ld(r),e._firestoreClient=void 0,yield r}})()}}function dy(a,e){const r="object"==typeof a?a:(0,Ne.Sx)(),o="string"==typeof a?a:e||"(default)",c=(0,Ne.j6)(r,"firestore").getImmediate({identifier:o});if(!c._initialized){const p=(0,ne.yU)("firestore");p&&function E2(a,e,r,o={}){var c;const p=(a=qr(a,Qd))._getSettings(),g=`${e}:${r}`;if("firestore.googleapis.com"!==p.host&&p.host!==g&&mn("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),a._setSettings(Object.assign(Object.assign({},p),{host:g,ssl:!1})),o.mockUserToken){let C,O;if("string"==typeof o.mockUserToken)C=o.mockUserToken,O=Yt.MOCK_USER;else{C=(0,ne.Fy)(o.mockUserToken,null===(c=a._app)||void 0===c?void 0:c.options.projectId);const H=o.mockUserToken.sub||o.mockUserToken.user_id;if(!H)throw new Oe(ue.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");O=new Yt(H)}a._authCredentials=new vn(new yt(C,O))}}(c,...p)}return c}function wo(a){if(a._terminated)throw new Oe(ue.FAILED_PRECONDITION,"The client has already been terminated.");return a._firestoreClient||function x2(a){var e,r,o;const c=a._freezeSettings(),p=(O=(null===(e=a._app)||void 0===e?void 0:e.options.appId)||"",new ts(a._databaseId,O,a._persistenceKey,(Y=c).host,Y.ssl,Y.experimentalForceLongPolling,Y.experimentalAutoDetectLongPolling,J1(Y.experimentalLongPollingOptions),Y.useFetchStreams));var O,Y;a._componentsProvider||!(null===(r=c.localCache)||void 0===r)&&r._offlineComponentProvider&&!(null===(o=c.localCache)||void 0===o)&&o._onlineComponentProvider&&(a._componentsProvider={_offline:c.localCache._offlineComponentProvider,_online:c.localCache._onlineComponentProvider}),a._firestoreClient=new gf(a._authCredentials,a._appCheckCredentials,a._queue,p,a._componentsProvider&&function(C){const O=C?._online.build();return{_offline:C?._offline.build(O),_online:O}}(a._componentsProvider))}(a),a._firestoreClient}class Dl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Dl(Br.fromBase64String(e))}catch(r){throw new Oe(ue.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new Dl(Br.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Sl{constructor(...e){for(let r=0;r<e.length;++r)if(0===e[r].length)throw new Oe(ue.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new $e(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Rl{constructor(e){this._methodName=e}}class Kh{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new Oe(ue.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new Oe(ue.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return hn(this._lat,e._lat)||hn(this._long,e._long)}}class ku{constructor(e){this._values=(e||[]).map(r=>r)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(o,c){if(o.length!==c.length)return!1;for(let p=0;p<o.length;++p)if(o[p]!==c[p])return!1;return!0}(this._values,e._values)}}const ip=/^__.*__$/;class Zd{constructor(e,r,o){this.data=e,this.fieldMask=r,this.fieldTransforms=o}toMutation(e,r){return null!==this.fieldMask?new so(e,this.data,this.fieldMask,r,this.fieldTransforms):new wi(e,this.data,r,this.fieldTransforms)}}class op{constructor(e,r,o){this.data=e,this.fieldMask=r,this.fieldTransforms=o}toMutation(e,r){return new so(e,this.data,this.fieldMask,r,this.fieldTransforms)}}function sp(a){switch(a){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Vt()}}class ud{constructor(e,r,o,c,p,g){this.settings=e,this.databaseId=r,this.serializer=o,this.ignoreUndefinedProperties=c,void 0===p&&this.vu(),this.fieldTransforms=p||[],this.fieldMask=g||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new ud(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var r;const o=null===(r=this.path)||void 0===r?void 0:r.child(e),c=this.Fu({path:o,xu:!1});return c.Ou(e),c}Nu(e){var r;const o=null===(r=this.path)||void 0===r?void 0:r.child(e),c=this.Fu({path:o,xu:!1});return c.vu(),c}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return lp(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return void 0!==this.fieldMask.find(r=>e.isPrefixOf(r))||void 0!==this.fieldTransforms.find(r=>e.isPrefixOf(r.field))}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(0===e.length)throw this.Bu("Document fields must not be empty");if(sp(this.Cu)&&ip.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class bv{constructor(e,r,o){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=o||fu(e)}Qu(e,r,o,c=!1){return new ud({Cu:e,methodName:r,qu:o,path:$e.emptyPath(),xu:!1,ku:c},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Pl(a){const e=a._freezeSettings(),r=fu(a._databaseId);return new bv(a._databaseId,!!e.ignoreUndefinedProperties,r)}function bu(a,e,r,o,c,p={}){const g=a.Qu(p.merge||p.mergeFields?2:0,e,r,c);Vf("Data must be an object, but it was:",g,o);const C=Xh(o,g);let O,H;if(p.merge)O=new Xi(g.fieldMask),H=g.fieldTransforms;else if(p.mergeFields){const Y=[];for(const fe of p.mergeFields){const He=Xd(e,fe,r);if(!g.contains(He))throw new Oe(ue.INVALID_ARGUMENT,`Field '${He}' is specified in your field mask but missing from your input data.`);Ff(Y,He)||Y.push(He)}O=new Xi(Y),H=g.fieldTransforms.filter(fe=>O.covers(fe.field))}else O=null,H=g.fieldTransforms;return new Zd(new zr(C),O,H)}class Qh extends Rl{_toFieldTransform(e){if(2!==e.Cu)throw e.Bu(1===e.Cu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Qh}}class Rf extends Rl{_toFieldTransform(e){return new wt(e.path,new ha)}isEqual(e){return e instanceof Rf}}function dd(a,e){if(cp(a=(0,ne.Ku)(a)))return Vf("Unsupported field value:",e,a),Xh(a,e);if(a instanceof Rl)return function(o,c){if(!sp(c.Cu))throw c.Bu(`${o._methodName}() can only be used with update() and set()`);if(!c.path)throw c.Bu(`${o._methodName}() is not currently supported inside arrays`);const p=o._toFieldTransform(c);p&&c.fieldTransforms.push(p)}(a,e),null;if(void 0===a&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),a instanceof Array){if(e.settings.xu&&4!==e.Cu)throw e.Bu("Nested arrays are not supported");return function(o,c){const p=[];let g=0;for(const C of o){let O=dd(C,c.Lu(g));null==O&&(O={nullValue:"NULL_VALUE"}),p.push(O),g++}return{arrayValue:{values:p}}}(a,e)}return function(o,c){if(null===(o=(0,ne.Ku)(o)))return{nullValue:"NULL_VALUE"};if("number"==typeof o)return Uc(c.serializer,o);if("boolean"==typeof o)return{booleanValue:o};if("string"==typeof o)return{stringValue:o};if(o instanceof Date){const p=Ce.fromDate(o);return{timestampValue:qc(c.serializer,p)}}if(o instanceof Ce){const p=new Ce(o.seconds,1e3*Math.floor(o.nanoseconds/1e3));return{timestampValue:qc(c.serializer,p)}}if(o instanceof Kh)return{geoPointValue:{latitude:o.latitude,longitude:o.longitude}};if(o instanceof Dl)return{bytesValue:Wt(c.serializer,o._byteString)};if(o instanceof jo){const p=c.databaseId,g=o.firestore._databaseId;if(!g.isEqual(p))throw c.Bu(`Document reference is for database ${g.projectId}/${g.database} but should be for database ${p.projectId}/${p.database}`);return{referenceValue:as(o.firestore._databaseId||c.databaseId,o._key.path)}}if(o instanceof ku)return C=c,{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(O=>{if("number"!=typeof O)throw C.Bu("VectorValues must only contain numeric values.");return fc(C.serializer,O)})}}}}};var C;throw c.Bu(`Unsupported field value: ${Af(o)}`)}(a,e)}function Xh(a,e){const r={};return Us(a)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):lo(a,(o,c)=>{const p=dd(c,e.Mu(o));null!=p&&(r[o]=p)}),{mapValue:{fields:r}}}function cp(a){return!("object"!=typeof a||null===a||a instanceof Array||a instanceof Date||a instanceof Ce||a instanceof Kh||a instanceof Dl||a instanceof jo||a instanceof Rl||a instanceof ku)}function Vf(a,e,r){if(!cp(r)||"object"!=typeof(c=r)||null===c||Object.getPrototypeOf(c)!==Object.prototype&&null!==Object.getPrototypeOf(c)){const o=Af(r);throw e.Bu("an object"===o?a+" a custom object":a+" "+o)}var c}function Xd(a,e,r){if((e=(0,ne.Ku)(e))instanceof Sl)return e._internalPath;if("string"==typeof e)return hd(a,e);throw lp("Field path arguments must be of type string or ",a,!1,void 0,r)}const Lf=new RegExp("[~\\*/\\[\\]]");function hd(a,e,r){if(e.search(Lf)>=0)throw lp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,a,!1,void 0,r);try{return new Sl(...e.split("."))._internalPath}catch{throw lp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,a,!1,void 0,r)}}function lp(a,e,r,o,c){const p=o&&!o.isEmpty(),g=void 0!==c;let C=`Function ${e}() called with invalid data`;r&&(C+=" (via `toFirestore()`)"),C+=". ";let O="";return(p||g)&&(O+=" (found",p&&(O+=` in field ${o}`),g&&(O+=` in document ${c}`),O+=")"),new Oe(ue.INVALID_ARGUMENT,C+a+O)}function Ff(a,e){return a.some(r=>r.isEqual(e))}class Yh{constructor(e,r,o,c,p){this._firestore=e,this._userDataWriter=r,this._key=o,this._document=c,this._converter=p}get id(){return this._key.path.lastSegment()}get ref(){return new jo(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new I2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(Bf("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r)}}}class I2 extends Yh{data(){return super.data()}}function Bf(a,e){return"string"==typeof e?hd(a,e):e instanceof Sl?e._internalPath:e._delegate._internalPath}function T2(a){if("L"===a.limitType&&0===a.explicitOrderBy.length)throw new Oe(ue.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class pd{}class Jh extends pd{}function Yd(a,e,...r){let o=[];e instanceof pd&&o.push(e),o=o.concat(r),function(p){const g=p.filter(O=>O instanceof fd).length,C=p.filter(O=>O instanceof Ol).length;if(g>1||g>0&&C>0)throw new Oe(ue.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(o);for(const c of o)a=c._apply(a);return a}class Ol extends Jh{constructor(e,r,o){super(),this._field=e,this._op=r,this._value=o,this.type="where"}static _create(e,r,o){return new Ol(e,r,o)}_apply(e){const r=this._parse(e);return _y(e._query,r),new Mo(e.firestore,e.converter,ds(e._query,r))}_parse(e){const r=Pl(e.firestore);return function(p,g,C,O,H,Y,fe){let He;if(H.isKeyField()){if("array-contains"===Y||"array-contains-any"===Y)throw new Oe(ue.INVALID_ARGUMENT,`Invalid Query. You can't perform '${Y}' queries on documentId().`);if("in"===Y||"not-in"===Y){S2(fe,Y);const bt=[];for(const Ht of fe)bt.push(D2(O,p,Ht));He={arrayValue:{values:bt}}}else He=D2(O,p,fe)}else"in"!==Y&&"not-in"!==Y&&"array-contains-any"!==Y||S2(fe,Y),He=function fy(a,e,r,o=!1){return dd(r,a.Qu(o?4:3,e))}(C,"where",fe,"in"===Y||"not-in"===Y);return nr.create(H,Y,He)}(e._query,0,r,e.firestore._databaseId,this._field,this._op,this._value)}}function my(a,e,r){const o=e,c=Bf("where",a);return Ol._create(c,o,r)}class fd extends pd{constructor(e,r){super(),this.type=e,this._queryConstraints=r}static _create(e,r){return new fd(e,r)}_parse(e){const r=this._queryConstraints.map(o=>o._parse(e)).filter(o=>o.getFilters().length>0);return 1===r.length?r[0]:Ar.create(r,this._getOperator())}_apply(e){const r=this._parse(e);return 0===r.getFilters().length?e:(function(c,p){let g=c;const C=p.getFlattenedFilters();for(const O of C)_y(g,O),g=ds(g,O)}(e._query,r),new Mo(e.firestore,e.converter,ds(e._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class e1 extends Jh{constructor(e,r,o){super(),this.type=e,this._limit=r,this._limitType=o}static _create(e,r,o){return new e1(e,r,o)}_apply(e){return new Mo(e.firestore,e.converter,ja(e._query,this._limit,this._limitType))}}function zf(a){return function w2(a,e){if(e<=0)throw new Oe(ue.INVALID_ARGUMENT,`Function ${a}() requires a positive number, but it was: ${e}.`)}("limit",a),e1._create("limit",a,"F")}function D2(a,e,r){if("string"==typeof(r=(0,ne.Ku)(r))){if(""===r)throw new Oe(ue.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!lc(e)&&-1!==r.indexOf("/"))throw new Oe(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const o=e.path.child(Ye.fromString(r));if(!de.isDocumentKey(o))throw new Oe(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${o}' is not because it has an odd number of segments (${o.length}).`);return jr(a,new de(o))}if(r instanceof jo)return jr(a,r._key);throw new Oe(ue.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Af(r)}.`)}function S2(a,e){if(!Array.isArray(a)||0===a.length)throw new Oe(ue.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function _y(a,e){const r=function(c,p){for(const g of c)for(const C of g.getFlattenedFilters())if(p.indexOf(C.op)>=0)return C.op;return null}(a.filters,function(c){switch(c){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==r)throw new Oe(ue.INVALID_ARGUMENT,r===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${r.toString()}' filters.`)}class qf{convertValue(e,r="none"){switch(to(e)){case 0:return null;case 1:return e.booleanValue;case 2:return En(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(Mr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 11:return this.convertObject(e.mapValue,r);case 10:return this.convertVectorValue(e.mapValue);default:throw Vt()}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const o={};return lo(e,(c,p)=>{o[c]=this.convertValue(p,r)}),o}convertVectorValue(e){var r,o,c;const p=null===(c=null===(o=null===(r=e.fields)||void 0===r?void 0:r.value.arrayValue)||void 0===o?void 0:o.values)||void 0===c?void 0:c.map(g=>En(g.doubleValue));return new ku(p)}convertGeoPoint(e){return new Kh(En(e.latitude),En(e.longitude))}convertArray(e,r){return(e.values||[]).map(o=>this.convertValue(o,r))}convertServerTimestamp(e,r){switch(r){case"previous":const o=Ji(e);return null==o?null:this.convertValue(o,r);case"estimate":return this.convertTimestamp(Mi(e));default:return null}}convertTimestamp(e){const r=Yi(e);return new Ce(r.seconds,r.nanos)}convertDocumentKey(e,r){const o=Ye.fromString(e);kt(So(o));const c=new Co(o.get(1),o.get(3)),p=new de(o.popFirst(5));return c.isEqual(r)||zt(`Document ${p} contains a document reference within a different database (${c.projectId}/${c.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),p}}class md{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class eh extends Yh{constructor(e,r,o,c,p,g){super(e,r,o,c,g),this._firestore=e,this._firestoreImpl=e,this.metadata=p}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new th(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const o=this._document.data.field(Bf("DocumentSnapshot.get",e));if(null!==o)return this._userDataWriter.convertValue(o,r.serverTimestamps)}}}class th extends eh{data(e={}){return super.data(e)}}class ra{constructor(e,r,o,c){this._firestore=e,this._userDataWriter=r,this._snapshot=c,this.metadata=new md(c.hasPendingWrites,c.fromCache),this.query=o}get docs(){const e=[];return this.forEach(r=>e.push(r)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,r){this._snapshot.docs.forEach(o=>{e.call(r,new th(this._firestore,this._userDataWriter,o.key,o,new md(this._snapshot.mutatedKeys.has(o.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new Oe(ue.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(c,p){if(c._snapshot.oldDocs.isEmpty()){let g=0;return c._snapshot.docChanges.map(C=>({type:"added",doc:new th(c._firestore,c._userDataWriter,C.doc.key,C.doc,new md(c._snapshot.mutatedKeys.has(C.doc.key),c._snapshot.fromCache),c.query.converter),oldIndex:-1,newIndex:g++}))}{let g=c._snapshot.oldDocs;return c._snapshot.docChanges.filter(C=>p||3!==C.type).map(C=>{const O=new th(c._firestore,c._userDataWriter,C.doc.key,C.doc,new md(c._snapshot.mutatedKeys.has(C.doc.key),c._snapshot.fromCache),c.query.converter);let H=-1,Y=-1;return 0!==C.type&&(H=g.indexOf(C.doc.key),g=g.delete(C.doc.key)),1!==C.type&&(g=g.add(C.doc),Y=g.indexOf(C.doc.key)),{type:O2(C.type),doc:O,oldIndex:H,newIndex:Y}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function O2(a){switch(a){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Vt()}}class Zi extends qf{constructor(e){super(),this.firestore=e}convertBytes(e){return new Dl(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new jo(this.firestore,null,r)}}function ky(a){a=qr(a,Mo);const e=qr(a.firestore,Pi),r=wo(e),o=new Zi(e);return T2(a._query),function v2(a,e,r={}){const o=new Tt;return a.asyncQueue.enqueueAndForget((0,se.A)(function*(){return function(p,g,C,O,H){const Y=new mf({next:He=>{Y.Za(),g.enqueueAndForget(()=>Sn(p,fe)),He.fromCache&&"server"===O.source?H.reject(new Oe(ue.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):H.resolve(He)},error:He=>H.reject(He)}),fe=new Al(C,Y,{includeMetadataChanges:!0,_a:!0});return Mt(p,fe)}(yield Kd(a),a.asyncQueue,e,r,o)})),o.promise}(r,a._query).then(c=>new ra(e,o,a,c))}function L2(a,e,r,...o){a=qr(a,jo);const c=qr(a.firestore,Pi),p=Pl(c);let g;return g="string"==typeof(e=(0,ne.Ku)(e))||e instanceof Sl?function Nf(a,e,r,o,c,p){const g=a.Qu(1,e,r),C=[Xd(e,o,r)],O=[c];if(p.length%2!=0)throw new Oe(ue.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let He=0;He<p.length;He+=2)C.push(Xd(e,p[He])),O.push(p[He+1]);const H=[],Y=zr.empty();for(let He=C.length-1;He>=0;--He)if(!Ff(H,C[He])){const bt=C[He];let Ht=O[He];Ht=(0,ne.Ku)(Ht);const rn=g.Nu(bt);if(Ht instanceof Qh)H.push(bt);else{const Jt=dd(Ht,rn);null!=Jt&&(H.push(bt),Y.set(bt,Jt))}}const fe=new Xi(H);return new op(Y,fe,g.fieldTransforms)}(p,"updateDoc",a._key,e,r,o):function Of(a,e,r,o){const c=a.Qu(1,e,r);Vf("Data must be an object, but it was:",c,o);const p=[],g=zr.empty();lo(o,(O,H)=>{const Y=hd(e,O,r);H=(0,ne.Ku)(H);const fe=c.Nu(Y);if(H instanceof Qh)p.push(Y);else{const He=dd(H,fe);null!=He&&(p.push(Y),g.set(Y,He))}});const C=new Xi(p);return new op(g,C,c.fieldTransforms)}(p,"updateDoc",a._key,e),t1(c,[g.toMutation(a._key,_n.exists(!0))])}function My(a){return t1(qr(a.firestore,Pi),[new Go(a._key,_n.none())])}function F2(a,e){const r=qr(a.firestore,Pi),o=rp(a),c=function ba(a,e,r){let o;return o=a?r&&(r.merge||r.mergeFields)?a.toFirestore(e,r):a.toFirestore(e):e,o}(a.converter,e);return t1(r,[bu(Pl(a.firestore),"addDoc",o._key,c,null!==a.converter,{}).toMutation(o._key,_n.exists(!1))]).then(()=>o)}function t1(a,e){return function(o,c){const p=new Tt;return o.asyncQueue.enqueueAndForget((0,se.A)(function*(){return function s2(a,e,r){return Lh.apply(this,arguments)}(yield function Mf(a){return Z1(a).then(e=>e.syncEngine)}(o),c,p)})),p.promise}(wo(a),e)}function Pv(){return new Rf("serverTimestamp")}!function(e,r=!0){fn=Ne.MF,(0,Ne.om)(new De.uA("firestore",(o,{instanceIdentifier:c,options:p})=>{const g=o.getProvider("app").getImmediate(),C=new Pi(new tr(o.getProvider("auth-internal")),new gr(o.getProvider("app-check-internal")),function(H,Y){if(!Object.prototype.hasOwnProperty.apply(H.options,["projectId"]))throw new Oe(ue.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Co(H.options.projectId,Y)}(g,c),g);return p=Object.assign({useFetchStreams:r},p),C._setSettings(p),C},"PUBLIC").setMultipleInstances(!0)),(0,Ne.KO)(Ct,"4.7.3",e),(0,Ne.KO)(Ct,"4.7.3","esm2017")}();var n1=F(1985),Xf=F(6354),oh=function(){return oh=Object.assign||function(e){for(var r,o=1,c=arguments.length;o<c;o++)for(var p in r=arguments[o])Object.prototype.hasOwnProperty.call(r,p)&&(e[p]=r[p]);return e},oh.apply(this,arguments)};"function"==typeof SuppressedError&&SuppressedError;var Yf={includeMetadataChanges:!1};function pp(a,e){return void 0===e&&(e=Yf),new n1.c(function(r){var o=function B2(a,...e){var r,o,c;a=(0,ne.Ku)(a);let p={includeMetadataChanges:!1,source:"default"},g=0;"object"!=typeof e[g]||$h(e[g])||(p=e[g],g++);const C={includeMetadataChanges:p.includeMetadataChanges,source:p.source};if($h(e[g])){const fe=e[g];e[g]=null===(r=fe.next)||void 0===r?void 0:r.bind(fe),e[g+1]=null===(o=fe.error)||void 0===o?void 0:o.bind(fe),e[g+2]=null===(c=fe.complete)||void 0===c?void 0:c.bind(fe)}let O,H,Y;if(a instanceof jo)H=qr(a.firestore,Pi),Y=Os(a._key.path),O={next:fe=>{e[g]&&e[g](function Wf(a,e,r){const o=r.docs.get(e._key),c=new Zi(a);return new eh(a,c,e._key,o,new md(r.hasPendingWrites,r.fromCache),e.converter)}(H,a,fe))},error:e[g+1],complete:e[g+2]};else{const fe=qr(a,Mo);H=qr(fe.firestore,Pi),Y=fe._query;const He=new Zi(H);O={next:bt=>{e[g]&&e[g](new ra(H,He,fe,bt))},error:e[g+1],complete:e[g+2]},T2(a._query)}return function(He,bt,Ht,rn){const Jt=new mf(rn),Vn=new Al(bt,Jt,Ht);return He.asyncQueue.enqueueAndForget((0,se.A)(function*(){return Mt(yield Kd(He),Vn)})),()=>{Jt.Za(),He.asyncQueue.enqueueAndForget((0,se.A)(function*(){return Sn(yield Kd(He),Vn)}))}}(wo(H),Y,C,O)}(a,e,{next:r.next.bind(r),error:r.error.bind(r),complete:r.complete.bind(r)});return{unsubscribe:o}})}function zy(a,e){return void 0===e&&(e={}),function jy(a){return pp(a,{includeMetadataChanges:!0}).pipe((0,Xf.T)(function(e){return e.docs}))}(a).pipe((0,Xf.T)(function(r){return r.map(function(o){return function q2(a,e){var r;void 0===e&&(e={});var o=a.data(e);return a.exists()&&"object"==typeof o&&null!==o&&e.idField?oh(oh({},o),((r={})[e.idField]=a.id,r)):o}(o,e)})}))}class o1{constructor(e){return e}}const X2="firestore",mp=new G.nKC("angularfire2.firestore-instances");function $y(a){return(e,r)=>{const o=e.runOutsideAngular(()=>a(r));return new o1(o)}}const t0={provide:class Hy{constructor(){return(0,y.CA)(X2)}},deps:[[new G.Xx1,mp]]},Wy={provide:o1,useFactory:function qy(a,e){const r=(0,y.lR)(X2,a,e);return r&&new o1(r)},deps:[[new G.Xx1,mp],_e.XU]};let Gy=(()=>{class a{constructor(){(0,ie.KO)("angularfire",y.xv.full,"fst")}static \u0275fac=function(o){return new(o||a)};static \u0275mod=G.$C({type:a});static \u0275inj=G.G2t({providers:[Wy,t0]})}return a})();function Ky(a,...e){return{ngModule:Gy,providers:[{provide:mp,useFactory:$y(a),multi:!0,deps:[G.SKi,G.zZn,y.u0,_e.gL,[new G.Xx1,he.DF],[new G.Xx1,y.Jv],...e]}]}}const Qy=(0,y.S3)(zy,!0),zv=(0,y.S3)(F2,!0),rg=(0,y.S3)(np,!0),yp=(0,y.S3)(My,!0),$v=(0,y.S3)(rp,!0),hg=(0,y.S3)(ky,!0),pg=(0,y.S3)(dy,!0),fg=(0,y.S3)(zf,!0),rm=(0,y.S3)(Yd,!0),im=(0,y.S3)(Pv,!0),s1=(0,y.S3)(L2,!0),gd=(0,y.S3)(my,!0)},5407:(nn,Je,F)=>{F.d(Je,{xv:()=>pt,u0:()=>je,Jv:()=>Lt,CA:()=>Nt,lR:()=>It,S3:()=>mt});var y=F(7705),G=F(2214),_e=F(6780),ie=F(3604);const Ne=new class se extends ie.q{}(class he extends _e.R{constructor(mn,ln){super(mn,ln),this.scheduler=mn,this.work=ln}schedule(mn,ln=0){return ln>0?super.schedule(mn,ln):(this.delay=ln,this.state=mn,this.scheduler.flush(this),this)}execute(mn,ln){return ln>0||this.closed?super.execute(mn,ln):this._execute(mn,ln)}requestAsyncId(mn,ln,Vt=0){return null!=Vt&&Vt>0||null==Vt&&this.delay>0?super.requestAsyncId(mn,ln,Vt):(mn.flush(this),0)}});var Ie=F(3236),ne=F(1985),me=F(8141),Be=F(6745),qe=F(941);const pt=new y.RxE("ANGULARFIRE2_VERSION");function It(zt,mn,ln){if(mn){if(1===mn.length)return mn[0];const Ue=mn.filter(ke=>ke.app===ln);if(1===Ue.length)return Ue[0]}return ln.container.getProvider(zt).getImmediate({optional:!0})}const Nt=(zt,mn)=>{const ln=mn?[mn]:(0,G.Dk)(),Vt=[];return ln.forEach(kt=>{kt.container.getProvider(zt).instances.forEach(ke=>{Vt.includes(ke)||Vt.push(ke)})}),Vt};class Lt{constructor(){return Nt(dn)}}const dn="app-check";function Zt(){}class be{zone;delegate;constructor(mn,ln=Ne){this.zone=mn,this.delegate=ln}now(){return this.delegate.now()}schedule(mn,ln,Vt){const kt=this.zone;return this.delegate.schedule(function(ke){kt.runGuarded(()=>{mn.apply(this,[ke])})},ln,Vt)}}class We{zone;task=null;constructor(mn){this.zone=mn}call(mn,ln){const Vt=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Zt,{},Zt,Zt)),ln.pipe((0,me.M)({next:Vt,complete:Vt,error:Vt})).subscribe(mn).add(Vt)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let je=(()=>{class zt{ngZone;outsideAngular;insideAngular;constructor(ln){this.ngZone=ln,this.outsideAngular=ln.runOutsideAngular(()=>new be(Zone.current)),this.insideAngular=ln.run(()=>new be(Zone.current,Ie.E)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(Vt){return new(Vt||zt)(y.KVO(y.SKi))};static \u0275prov=y.jDH({token:zt,factory:zt.\u0275fac,providedIn:"root"})}return zt})();function Qe(){const zt=globalThis.\u0275AngularFireScheduler;if(!zt)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return zt}function Ct(zt){return Qe().ngZone.run(()=>zt())}function bn(zt){return function Ln(zt){return function(ln){return(ln=ln.lift(new We(zt.ngZone))).pipe((0,Be._)(zt.outsideAngular),(0,qe.Q)(zt.insideAngular))}}(Qe())(zt)}const Bt=(zt,mn)=>function(){const Vt=arguments;return mn&&setTimeout(()=>{"scheduled"===mn.state&&mn.invoke()},10),Ct(()=>zt.apply(void 0,Vt))},mt=(zt,mn)=>function(){let ln;const Vt=arguments;for(let Ue=0;Ue<arguments.length;Ue++)"function"==typeof Vt[Ue]&&(mn&&(ln||=Ct(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Zt,{},Zt,Zt))),Vt[Ue]=Bt(Vt[Ue],ln));const kt=function ft(zt){return Qe().ngZone.runOutsideAngular(()=>zt())}(()=>zt.apply(this,Vt));if(!mn){if(kt instanceof ne.c){const Ue=Qe();return kt.pipe((0,Be._)(Ue.outsideAngular),(0,qe.Q)(Ue.insideAngular))}return Ct(()=>kt)}return kt instanceof ne.c?kt.pipe(bn):kt instanceof Promise?Ct(()=>new Promise((Ue,ke)=>kt.then(ue=>Ct(()=>Ue(ue)),ue=>Ct(()=>ke(ue))))):"function"==typeof kt&&ln?function(){return setTimeout(()=>{ln&&"scheduled"===ln.state&&ln.invoke()},10),kt.apply(this,arguments)}:Ct(()=>kt)}},9417:(nn,Je,F)=>{F.d(Je,{$R:()=>Co,BC:()=>lr,Fm:()=>Br,JD:()=>un,MJ:()=>Ci,Q0:()=>Ps,VZ:()=>zi,X1:()=>ca,YN:()=>Bc,Zm:()=>ne,cV:()=>li,cb:()=>hn,cz:()=>Nt,j4:()=>Mi,k0:()=>Zt,kq:()=>De,l_:()=>di,me:()=>pt,ok:()=>io,qT:()=>ui,v8:()=>Ao,vO:()=>Nn,vS:()=>Ii,wz:()=>no,xH:()=>vi,xq:()=>Wo,y7:()=>Oo});var y=F(7705),G=F(177),_e=F(8455),he=F(7468),ie=F(6354);let se=(()=>{class q{constructor(L,ee){this._renderer=L,this._elementRef=ee,this.onChange=Ve=>{},this.onTouched=()=>{}}setProperty(L,ee){this._renderer.setProperty(this._elementRef.nativeElement,L,ee)}registerOnTouched(L){this.onTouched=L}registerOnChange(L){this.onChange=L}setDisabledState(L){this.setProperty("disabled",L)}static{this.\u0275fac=function(ee){return new(ee||q)(y.rXU(y.sFG),y.rXU(y.aKT))}}static{this.\u0275dir=y.FsC({type:q})}}return q})(),Ne=(()=>{class q extends se{static{this.\u0275fac=function(){let L;return function(Ve){return(L||(L=y.xGo(q)))(Ve||q)}}()}static{this.\u0275dir=y.FsC({type:q,features:[y.Vt3]})}}return q})();const De=new y.nKC("NgValueAccessor"),Ie={provide:De,useExisting:(0,y.Rfq)(()=>ne),multi:!0};let ne=(()=>{class q extends Ne{writeValue(L){this.setProperty("checked",L)}static{this.\u0275fac=function(){let L;return function(Ve){return(L||(L=y.xGo(q)))(Ve||q)}}()}static{this.\u0275dir=y.FsC({type:q,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(ee,Ve){1&ee&&y.bIt("change",function(Zn){return Ve.onChange(Zn.target.checked)})("blur",function(){return Ve.onTouched()})},features:[y.Jv_([Ie]),y.Vt3]})}}return q})();const me={provide:De,useExisting:(0,y.Rfq)(()=>pt),multi:!0},qe=new y.nKC("CompositionEventMode");let pt=(()=>{class q extends se{constructor(L,ee,Ve){super(L,ee),this._compositionMode=Ve,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Be(){const q=(0,G.QT)()?(0,G.QT)().getUserAgent():"";return/android (\d+)/.test(q.toLowerCase())}())}writeValue(L){this.setProperty("value",L??"")}_handleInput(L){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(L)}_compositionStart(){this._composing=!0}_compositionEnd(L){this._composing=!1,this._compositionMode&&this.onChange(L)}static{this.\u0275fac=function(ee){return new(ee||q)(y.rXU(y.sFG),y.rXU(y.aKT),y.rXU(qe,8))}}static{this.\u0275dir=y.FsC({type:q,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(ee,Ve){1&ee&&y.bIt("input",function(Zn){return Ve._handleInput(Zn.target.value)})("blur",function(){return Ve.onTouched()})("compositionstart",function(){return Ve._compositionStart()})("compositionend",function(Zn){return Ve._compositionEnd(Zn.target.value)})},features:[y.Jv_([me]),y.Vt3]})}}return q})();function _t(q){return null==q||("string"==typeof q||Array.isArray(q))&&0===q.length}function It(q){return null!=q&&"number"==typeof q.length}const Nt=new y.nKC("NgValidators"),Lt=new y.nKC("NgAsyncValidators"),dn=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Zt{static min(Q){return be(Q)}static max(Q){return function We(q){return Q=>{if(_t(Q.value)||_t(q))return null;const L=parseFloat(Q.value);return!isNaN(L)&&L>q?{max:{max:q,actual:Q.value}}:null}}(Q)}static required(Q){return je(Q)}static requiredTrue(Q){return Qe(Q)}static email(Q){return function ft(q){return _t(q.value)||dn.test(q.value)?null:{email:!0}}(Q)}static minLength(Q){return function Ct(q){return Q=>_t(Q.value)||!It(Q.value)?null:Q.value.length<q?{minlength:{requiredLength:q,actualLength:Q.value.length}}:null}(Q)}static maxLength(Q){return function Yt(q){return Q=>It(Q.value)&&Q.value.length>q?{maxlength:{requiredLength:q,actualLength:Q.value.length}}:null}(Q)}static pattern(Q){return function fn(q){if(!q)return bn;let Q,L;return"string"==typeof q?(L="","^"!==q.charAt(0)&&(L+="^"),L+=q,"$"!==q.charAt(q.length-1)&&(L+="$"),Q=new RegExp(L)):(L=q.toString(),Q=q),ee=>{if(_t(ee.value))return null;const Ve=ee.value;return Q.test(Ve)?null:{pattern:{requiredPattern:L,actualValue:Ve}}}}(Q)}static nullValidator(Q){return null}static compose(Q){return Vt(Q)}static composeAsync(Q){return Ue(Q)}}function be(q){return Q=>{if(_t(Q.value)||_t(q))return null;const L=parseFloat(Q.value);return!isNaN(L)&&L<q?{min:{min:q,actual:Q.value}}:null}}function je(q){return _t(q.value)?{required:!0}:null}function Qe(q){return!0===q.value?null:{required:!0}}function bn(q){return null}function Ln(q){return null!=q}function Bt(q){return(0,y.jNT)(q)?(0,_e.H)(q):q}function mt(q){let Q={};return q.forEach(L=>{Q=null!=L?{...Q,...L}:Q}),0===Object.keys(Q).length?null:Q}function zt(q,Q){return Q.map(L=>L(q))}function ln(q){return q.map(Q=>function mn(q){return!q.validate}(Q)?Q:L=>Q.validate(L))}function Vt(q){if(!q)return null;const Q=q.filter(Ln);return 0==Q.length?null:function(L){return mt(zt(L,Q))}}function kt(q){return null!=q?Vt(ln(q)):null}function Ue(q){if(!q)return null;const Q=q.filter(Ln);return 0==Q.length?null:function(L){const ee=zt(L,Q).map(Bt);return(0,he.p)(ee).pipe((0,ie.T)(mt))}}function ke(q){return null!=q?Ue(ln(q)):null}function ue(q,Q){return null===q?[Q]:Array.isArray(q)?[...q,Q]:[q,Q]}function Oe(q){return q._rawValidators}function Tt(q){return q._rawAsyncValidators}function yt(q){return q?Array.isArray(q)?q:[q]:[]}function Dt(q,Q){return Array.isArray(q)?q.includes(Q):q===Q}function vn(q,Q){const L=yt(Q);return yt(q).forEach(Ve=>{Dt(L,Ve)||L.push(Ve)}),L}function tr(q,Q){return yt(Q).filter(L=>!Dt(q,L))}class an{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(Q){this._rawValidators=Q||[],this._composedValidatorFn=kt(this._rawValidators)}_setAsyncValidators(Q){this._rawAsyncValidators=Q||[],this._composedAsyncValidatorFn=ke(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(Q){this._onDestroyCallbacks.push(Q)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(Q=>Q()),this._onDestroyCallbacks=[]}reset(Q=void 0){this.control&&this.control.reset(Q)}hasError(Q,L){return!!this.control&&this.control.hasError(Q,L)}getError(Q,L){return this.control?this.control.getError(Q,L):null}}class In extends an{get formDirective(){return null}get path(){return null}}class Nn extends an{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class gr{constructor(Q){this._cd=Q}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let lr=(()=>{class q extends gr{constructor(L){super(L)}static{this.\u0275fac=function(ee){return new(ee||q)(y.rXU(Nn,2))}}static{this.\u0275dir=y.FsC({type:q,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(ee,Ve){2&ee&&y.AVh("ng-untouched",Ve.isUntouched)("ng-touched",Ve.isTouched)("ng-pristine",Ve.isPristine)("ng-dirty",Ve.isDirty)("ng-valid",Ve.isValid)("ng-invalid",Ve.isInvalid)("ng-pending",Ve.isPending)},features:[y.Vt3]})}}return q})(),hn=(()=>{class q extends gr{constructor(L){super(L)}static{this.\u0275fac=function(ee){return new(ee||q)(y.rXU(In,10))}}static{this.\u0275dir=y.FsC({type:q,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(ee,Ve){2&ee&&y.AVh("ng-untouched",Ve.isUntouched)("ng-touched",Ve.isTouched)("ng-pristine",Ve.isPristine)("ng-dirty",Ve.isDirty)("ng-valid",Ve.isValid)("ng-invalid",Ve.isInvalid)("ng-pending",Ve.isPending)("ng-submitted",Ve.isSubmitted)},features:[y.Vt3]})}}return q})();const Wr="VALID",sr="INVALID",Jr="PENDING",Kn="DISABLED";function Or(q){return(Lr(q)?q.validators:q)||null}function ei(q,Q){return(Lr(Q)?Q.asyncValidators:q)||null}function Lr(q){return null!=q&&!Array.isArray(q)&&"object"==typeof q}function pr(q,Q,L){const ee=q.controls;if(!(Q?Object.keys(ee):ee).length)throw new y.wOt(1e3,"");if(!ee[L])throw new y.wOt(1001,"")}function gi(q,Q,L){q._forEachChild((ee,Ve)=>{if(void 0===L[Ve])throw new y.wOt(1002,"")})}class St{constructor(Q,L){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(Q),this._assignAsyncValidators(L)}get validator(){return this._composedValidatorFn}set validator(Q){this._rawValidators=this._composedValidatorFn=Q}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(Q){this._rawAsyncValidators=this._composedAsyncValidatorFn=Q}get parent(){return this._parent}get valid(){return this.status===Wr}get invalid(){return this.status===sr}get pending(){return this.status==Jr}get disabled(){return this.status===Kn}get enabled(){return this.status!==Kn}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(Q){this._assignValidators(Q)}setAsyncValidators(Q){this._assignAsyncValidators(Q)}addValidators(Q){this.setValidators(vn(Q,this._rawValidators))}addAsyncValidators(Q){this.setAsyncValidators(vn(Q,this._rawAsyncValidators))}removeValidators(Q){this.setValidators(tr(Q,this._rawValidators))}removeAsyncValidators(Q){this.setAsyncValidators(tr(Q,this._rawAsyncValidators))}hasValidator(Q){return Dt(this._rawValidators,Q)}hasAsyncValidator(Q){return Dt(this._rawAsyncValidators,Q)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(Q={}){this.touched=!0,this._parent&&!Q.onlySelf&&this._parent.markAsTouched(Q)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(Q=>Q.markAllAsTouched())}markAsUntouched(Q={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(L=>{L.markAsUntouched({onlySelf:!0})}),this._parent&&!Q.onlySelf&&this._parent._updateTouched(Q)}markAsDirty(Q={}){this.pristine=!1,this._parent&&!Q.onlySelf&&this._parent.markAsDirty(Q)}markAsPristine(Q={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(L=>{L.markAsPristine({onlySelf:!0})}),this._parent&&!Q.onlySelf&&this._parent._updatePristine(Q)}markAsPending(Q={}){this.status=Jr,!1!==Q.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!Q.onlySelf&&this._parent.markAsPending(Q)}disable(Q={}){const L=this._parentMarkedDirty(Q.onlySelf);this.status=Kn,this.errors=null,this._forEachChild(ee=>{ee.disable({...Q,onlySelf:!0})}),this._updateValue(),!1!==Q.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...Q,skipPristineCheck:L}),this._onDisabledChange.forEach(ee=>ee(!0))}enable(Q={}){const L=this._parentMarkedDirty(Q.onlySelf);this.status=Wr,this._forEachChild(ee=>{ee.enable({...Q,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:Q.emitEvent}),this._updateAncestors({...Q,skipPristineCheck:L}),this._onDisabledChange.forEach(ee=>ee(!1))}_updateAncestors(Q){this._parent&&!Q.onlySelf&&(this._parent.updateValueAndValidity(Q),Q.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(Q){this._parent=Q}getRawValue(){return this.value}updateValueAndValidity(Q={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Wr||this.status===Jr)&&this._runAsyncValidator(Q.emitEvent)),!1!==Q.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!Q.onlySelf&&this._parent.updateValueAndValidity(Q)}_updateTreeValidity(Q={emitEvent:!0}){this._forEachChild(L=>L._updateTreeValidity(Q)),this.updateValueAndValidity({onlySelf:!0,emitEvent:Q.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Kn:Wr}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(Q){if(this.asyncValidator){this.status=Jr,this._hasOwnPendingAsyncValidator=!0;const L=Bt(this.asyncValidator(this));this._asyncValidationSubscription=L.subscribe(ee=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(ee,{emitEvent:Q})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(Q,L={}){this.errors=Q,this._updateControlsErrors(!1!==L.emitEvent)}get(Q){let L=Q;return null==L||(Array.isArray(L)||(L=L.split(".")),0===L.length)?null:L.reduce((ee,Ve)=>ee&&ee._find(Ve),this)}getError(Q,L){const ee=L?this.get(L):this;return ee&&ee.errors?ee.errors[Q]:null}hasError(Q,L){return!!this.getError(Q,L)}get root(){let Q=this;for(;Q._parent;)Q=Q._parent;return Q}_updateControlsErrors(Q){this.status=this._calculateStatus(),Q&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(Q)}_initObservables(){this.valueChanges=new y.bkB,this.statusChanges=new y.bkB}_calculateStatus(){return this._allControlsDisabled()?Kn:this.errors?sr:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Jr)?Jr:this._anyControlsHaveStatus(sr)?sr:Wr}_anyControlsHaveStatus(Q){return this._anyControls(L=>L.status===Q)}_anyControlsDirty(){return this._anyControls(Q=>Q.dirty)}_anyControlsTouched(){return this._anyControls(Q=>Q.touched)}_updatePristine(Q={}){this.pristine=!this._anyControlsDirty(),this._parent&&!Q.onlySelf&&this._parent._updatePristine(Q)}_updateTouched(Q={}){this.touched=this._anyControlsTouched(),this._parent&&!Q.onlySelf&&this._parent._updateTouched(Q)}_registerOnCollectionChange(Q){this._onCollectionChange=Q}_setUpdateStrategy(Q){Lr(Q)&&null!=Q.updateOn&&(this._updateOn=Q.updateOn)}_parentMarkedDirty(Q){return!Q&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(Q){return null}_assignValidators(Q){this._rawValidators=Array.isArray(Q)?Q.slice():Q,this._composedValidatorFn=function Xr(q){return Array.isArray(q)?kt(q):q||null}(this._rawValidators)}_assignAsyncValidators(Q){this._rawAsyncValidators=Array.isArray(Q)?Q.slice():Q,this._composedAsyncValidatorFn=function et(q){return Array.isArray(q)?ke(q):q||null}(this._rawAsyncValidators)}}class pe extends St{constructor(Q,L,ee){super(Or(L),ei(ee,L)),this.controls=Q,this._initObservables(),this._setUpdateStrategy(L),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(Q,L){return this.controls[Q]?this.controls[Q]:(this.controls[Q]=L,L.setParent(this),L._registerOnCollectionChange(this._onCollectionChange),L)}addControl(Q,L,ee={}){this.registerControl(Q,L),this.updateValueAndValidity({emitEvent:ee.emitEvent}),this._onCollectionChange()}removeControl(Q,L={}){this.controls[Q]&&this.controls[Q]._registerOnCollectionChange(()=>{}),delete this.controls[Q],this.updateValueAndValidity({emitEvent:L.emitEvent}),this._onCollectionChange()}setControl(Q,L,ee={}){this.controls[Q]&&this.controls[Q]._registerOnCollectionChange(()=>{}),delete this.controls[Q],L&&this.registerControl(Q,L),this.updateValueAndValidity({emitEvent:ee.emitEvent}),this._onCollectionChange()}contains(Q){return this.controls.hasOwnProperty(Q)&&this.controls[Q].enabled}setValue(Q,L={}){gi(this,0,Q),Object.keys(Q).forEach(ee=>{pr(this,!0,ee),this.controls[ee].setValue(Q[ee],{onlySelf:!0,emitEvent:L.emitEvent})}),this.updateValueAndValidity(L)}patchValue(Q,L={}){null!=Q&&(Object.keys(Q).forEach(ee=>{const Ve=this.controls[ee];Ve&&Ve.patchValue(Q[ee],{onlySelf:!0,emitEvent:L.emitEvent})}),this.updateValueAndValidity(L))}reset(Q={},L={}){this._forEachChild((ee,Ve)=>{ee.reset(Q?Q[Ve]:null,{onlySelf:!0,emitEvent:L.emitEvent})}),this._updatePristine(L),this._updateTouched(L),this.updateValueAndValidity(L)}getRawValue(){return this._reduceChildren({},(Q,L,ee)=>(Q[ee]=L.getRawValue(),Q))}_syncPendingControls(){let Q=this._reduceChildren(!1,(L,ee)=>!!ee._syncPendingControls()||L);return Q&&this.updateValueAndValidity({onlySelf:!0}),Q}_forEachChild(Q){Object.keys(this.controls).forEach(L=>{const ee=this.controls[L];ee&&Q(ee,L)})}_setUpControls(){this._forEachChild(Q=>{Q.setParent(this),Q._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(Q){for(const[L,ee]of Object.entries(this.controls))if(this.contains(L)&&Q(ee))return!0;return!1}_reduceValue(){return this._reduceChildren({},(L,ee,Ve)=>((ee.enabled||this.disabled)&&(L[Ve]=ee.value),L))}_reduceChildren(Q,L){let ee=Q;return this._forEachChild((Ve,xn)=>{ee=L(ee,Ve,xn)}),ee}_allControlsDisabled(){for(const Q of Object.keys(this.controls))if(this.controls[Q].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(Q){return this.controls.hasOwnProperty(Q)?this.controls[Q]:null}}class U extends pe{}const Se=new y.nKC("CallSetDisabledState",{providedIn:"root",factory:()=>Me}),Me="always";function ye(q,Q){return[...Q.path,q]}function re(q,Q,L=Me){Ee(q,Q),Q.valueAccessor.writeValue(q.value),(q.disabled||"always"===L)&&Q.valueAccessor.setDisabledState?.(q.disabled),function Le(q,Q){Q.valueAccessor.registerOnChange(L=>{q._pendingValue=L,q._pendingChange=!0,q._pendingDirty=!0,"change"===q.updateOn&&Qt(q,Q)})}(q,Q),function sn(q,Q){const L=(ee,Ve)=>{Q.valueAccessor.writeValue(ee),Ve&&Q.viewToModelUpdate(ee)};q.registerOnChange(L),Q._registerOnDestroy(()=>{q._unregisterOnChange(L)})}(q,Q),function At(q,Q){Q.valueAccessor.registerOnTouched(()=>{q._pendingTouched=!0,"blur"===q.updateOn&&q._pendingChange&&Qt(q,Q),"submit"!==q.updateOn&&q.markAsTouched()})}(q,Q),function Gt(q,Q){if(Q.valueAccessor.setDisabledState){const L=ee=>{Q.valueAccessor.setDisabledState(ee)};q.registerOnDisabledChange(L),Q._registerOnDestroy(()=>{q._unregisterOnDisabledChange(L)})}}(q,Q)}function Te(q,Q,L=!0){const ee=()=>{};Q.valueAccessor&&(Q.valueAccessor.registerOnChange(ee),Q.valueAccessor.registerOnTouched(ee)),we(q,Q),q&&(Q._invokeOnDestroyCallbacks(),q._registerOnCollectionChange(()=>{}))}function st(q,Q){q.forEach(L=>{L.registerOnValidatorChange&&L.registerOnValidatorChange(Q)})}function Ee(q,Q){const L=Oe(q);null!==Q.validator?q.setValidators(ue(L,Q.validator)):"function"==typeof L&&q.setValidators([L]);const ee=Tt(q);null!==Q.asyncValidator?q.setAsyncValidators(ue(ee,Q.asyncValidator)):"function"==typeof ee&&q.setAsyncValidators([ee]);const Ve=()=>q.updateValueAndValidity();st(Q._rawValidators,Ve),st(Q._rawAsyncValidators,Ve)}function we(q,Q){let L=!1;if(null!==q){if(null!==Q.validator){const Ve=Oe(q);if(Array.isArray(Ve)&&Ve.length>0){const xn=Ve.filter(Zn=>Zn!==Q.validator);xn.length!==Ve.length&&(L=!0,q.setValidators(xn))}}if(null!==Q.asyncValidator){const Ve=Tt(q);if(Array.isArray(Ve)&&Ve.length>0){const xn=Ve.filter(Zn=>Zn!==Q.asyncValidator);xn.length!==Ve.length&&(L=!0,q.setAsyncValidators(xn))}}}const ee=()=>{};return st(Q._rawValidators,ee),st(Q._rawAsyncValidators,ee),L}function Qt(q,Q){q._pendingDirty&&q.markAsDirty(),q.setValue(q._pendingValue,{emitModelToViewChange:!1}),Q.viewToModelUpdate(q._pendingValue),q._pendingChange=!1}function tn(q,Q){Ee(q,Q)}function en(q,Q){if(!q.hasOwnProperty("model"))return!1;const L=q.model;return!!L.isFirstChange()||!Object.is(Q,L.currentValue)}function gn(q,Q){q._syncPendingControls(),Q.forEach(L=>{const ee=L.control;"submit"===ee.updateOn&&ee._pendingChange&&(L.viewToModelUpdate(ee._pendingValue),ee._pendingChange=!1)})}function wn(q,Q){if(!Q)return null;let L,ee,Ve;return Array.isArray(Q),Q.forEach(xn=>{xn.constructor===pt?L=xn:function Tn(q){return Object.getPrototypeOf(q.constructor)===Ne}(xn)?ee=xn:Ve=xn}),Ve||ee||L||null}const fr={provide:In,useExisting:(0,y.Rfq)(()=>li)},Fr=(()=>Promise.resolve())();let li=(()=>{class q extends In{constructor(L,ee,Ve){super(),this.callSetDisabledState=Ve,this.submitted=!1,this._directives=new Set,this.ngSubmit=new y.bkB,this.form=new pe({},kt(L),ke(ee))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(L){Fr.then(()=>{const ee=this._findContainer(L.path);L.control=ee.registerControl(L.name,L.control),re(L.control,L,this.callSetDisabledState),L.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(L)})}getControl(L){return this.form.get(L.path)}removeControl(L){Fr.then(()=>{const ee=this._findContainer(L.path);ee&&ee.removeControl(L.name),this._directives.delete(L)})}addFormGroup(L){Fr.then(()=>{const ee=this._findContainer(L.path),Ve=new pe({});tn(Ve,L),ee.registerControl(L.name,Ve),Ve.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(L){Fr.then(()=>{const ee=this._findContainer(L.path);ee&&ee.removeControl(L.name)})}getFormGroup(L){return this.form.get(L.path)}updateModel(L,ee){Fr.then(()=>{this.form.get(L.path).setValue(ee)})}setValue(L){this.control.setValue(L)}onSubmit(L){return this.submitted=!0,gn(this.form,this._directives),this.ngSubmit.emit(L),"dialog"===L?.target?.method}onReset(){this.resetForm()}resetForm(L=void 0){this.form.reset(L),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(L){return L.pop(),L.length?this.form.get(L):this.form}static{this.\u0275fac=function(ee){return new(ee||q)(y.rXU(Nt,10),y.rXU(Lt,10),y.rXU(Se,8))}}static{this.\u0275dir=y.FsC({type:q,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(ee,Ve){1&ee&&y.bIt("submit",function(Zn){return Ve.onSubmit(Zn)})("reset",function(){return Ve.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[y.Jv_([fr]),y.Vt3]})}}return q})();function xo(q,Q){const L=q.indexOf(Q);L>-1&&q.splice(L,1)}function br(q){return"object"==typeof q&&null!==q&&2===Object.keys(q).length&&"value"in q&&"disabled"in q}const Ci=class extends St{constructor(Q=null,L,ee){super(Or(L),ei(ee,L)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(Q),this._setUpdateStrategy(L),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Lr(L)&&(L.nonNullable||L.initialValueIsDefault)&&(this.defaultValue=br(Q)?Q.value:Q)}setValue(Q,L={}){this.value=this._pendingValue=Q,this._onChange.length&&!1!==L.emitModelToViewChange&&this._onChange.forEach(ee=>ee(this.value,!1!==L.emitViewToModelChange)),this.updateValueAndValidity(L)}patchValue(Q,L={}){this.setValue(Q,L)}reset(Q=this.defaultValue,L={}){this._applyFormState(Q),this.markAsPristine(L),this.markAsUntouched(L),this.setValue(this.value,L),this._pendingChange=!1}_updateValue(){}_anyControls(Q){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(Q){this._onChange.push(Q)}_unregisterOnChange(Q){xo(this._onChange,Q)}registerOnDisabledChange(Q){this._onDisabledChange.push(Q)}_unregisterOnDisabledChange(Q){xo(this._onDisabledChange,Q)}_forEachChild(Q){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(Q){br(Q)?(this.value=this._pendingValue=Q.value,Q.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=Q}};let ki=(()=>{class q extends In{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return ye(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}static{this.\u0275fac=function(){let L;return function(Ve){return(L||(L=y.xGo(q)))(Ve||q)}}()}static{this.\u0275dir=y.FsC({type:q,features:[y.Vt3]})}}return q})();const Us={provide:Nn,useExisting:(0,y.Rfq)(()=>Ii)},Nr=(()=>Promise.resolve())();let Ii=(()=>{class q extends Nn{constructor(L,ee,Ve,xn,Zn,Ni){super(),this._changeDetectorRef=Zn,this.callSetDisabledState=Ni,this.control=new Ci,this._registered=!1,this.name="",this.update=new y.bkB,this._parent=L,this._setValidators(ee),this._setAsyncValidators(Ve),this.valueAccessor=wn(0,xn)}ngOnChanges(L){if(this._checkForErrors(),!this._registered||"name"in L){if(this._registered&&(this._checkName(),this.formDirective)){const ee=L.name.previousValue;this.formDirective.removeControl({name:ee,path:this._getPath(ee)})}this._setUpControl()}"isDisabled"in L&&this._updateDisabled(L),en(L,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(L){this.viewModel=L,this.update.emit(L)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){re(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(L){Nr.then(()=>{this.control.setValue(L,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(L){const ee=L.isDisabled.currentValue,Ve=0!==ee&&(0,y.L39)(ee);Nr.then(()=>{Ve&&!this.control.disabled?this.control.disable():!Ve&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(L){return this._parent?ye(L,this._parent):[L]}static{this.\u0275fac=function(ee){return new(ee||q)(y.rXU(In,9),y.rXU(Nt,10),y.rXU(Lt,10),y.rXU(De,10),y.rXU(y.gRc,8),y.rXU(Se,8))}}static{this.\u0275dir=y.FsC({type:q,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[y.Jv_([Us]),y.Vt3,y.OA$]})}}return q})(),ui=(()=>{class q{static{this.\u0275fac=function(ee){return new(ee||q)}}static{this.\u0275dir=y.FsC({type:q,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return q})();const Tr={provide:De,useExisting:(0,y.Rfq)(()=>Ps),multi:!0};let Ps=(()=>{class q extends Ne{writeValue(L){this.setProperty("value",L??"")}registerOnChange(L){this.onChange=ee=>{L(""==ee?null:parseFloat(ee))}}static{this.\u0275fac=function(){let L;return function(Ve){return(L||(L=y.xGo(q)))(Ve||q)}}()}static{this.\u0275dir=y.FsC({type:q,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(ee,Ve){1&ee&&y.bIt("input",function(Zn){return Ve.onChange(Zn.target.value)})("blur",function(){return Ve.onTouched()})},features:[y.Jv_([Tr]),y.Vt3]})}}return q})();const Ho={provide:De,useExisting:(0,y.Rfq)(()=>Br),multi:!0};let Hs=(()=>{class q{static{this.\u0275fac=function(ee){return new(ee||q)}}static{this.\u0275mod=y.$C({type:q})}static{this.\u0275inj=y.G2t({})}}return q})(),bs=(()=>{class q{constructor(){this._accessors=[]}add(L,ee){this._accessors.push([L,ee])}remove(L){for(let ee=this._accessors.length-1;ee>=0;--ee)if(this._accessors[ee][1]===L)return void this._accessors.splice(ee,1)}select(L){this._accessors.forEach(ee=>{this._isSameGroup(ee,L)&&ee[1]!==L&&ee[1].fireUncheck(L.value)})}_isSameGroup(L,ee){return!!L[0].control&&L[0]._parent===ee._control._parent&&L[1].name===ee.name}static{this.\u0275fac=function(ee){return new(ee||q)}}static{this.\u0275prov=y.jDH({token:q,factory:q.\u0275fac,providedIn:Hs})}}return q})(),Br=(()=>{class q extends Ne{constructor(L,ee,Ve,xn){super(L,ee),this._registry=Ve,this._injector=xn,this.setDisabledStateFired=!1,this.onChange=()=>{},this.callSetDisabledState=(0,y.WQX)(Se,{optional:!0})??Me}ngOnInit(){this._control=this._injector.get(Nn),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(L){this._state=L===this.value,this.setProperty("checked",this._state)}registerOnChange(L){this._fn=L,this.onChange=()=>{L(this.value),this._registry.select(this)}}setDisabledState(L){(this.setDisabledStateFired||L||"whenDisabledForLegacyCode"===this.callSetDisabledState)&&this.setProperty("disabled",L),this.setDisabledStateFired=!0}fireUncheck(L){this.writeValue(L)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}static{this.\u0275fac=function(ee){return new(ee||q)(y.rXU(y.sFG),y.rXU(y.aKT),y.rXU(bs),y.rXU(y.zZn))}}static{this.\u0275dir=y.FsC({type:q,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(ee,Ve){1&ee&&y.bIt("change",function(){return Ve.onChange()})("blur",function(){return Ve.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[y.Jv_([Ho]),y.Vt3]})}}return q})();const En=new y.nKC("NgModelWithFormControlWarning"),Mr={provide:Nn,useExisting:(0,y.Rfq)(()=>di)};let di=(()=>{class q extends Nn{set isDisabled(L){}static{this._ngModelWarningSentOnce=!1}constructor(L,ee,Ve,xn,Zn){super(),this._ngModelWarningConfig=xn,this.callSetDisabledState=Zn,this.update=new y.bkB,this._ngModelWarningSent=!1,this._setValidators(L),this._setAsyncValidators(ee),this.valueAccessor=wn(0,Ve)}ngOnChanges(L){if(this._isControlChanged(L)){const ee=L.form.previousValue;ee&&Te(ee,this,!1),re(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}en(L,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&Te(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(L){this.viewModel=L,this.update.emit(L)}_isControlChanged(L){return L.hasOwnProperty("form")}static{this.\u0275fac=function(ee){return new(ee||q)(y.rXU(Nt,10),y.rXU(Lt,10),y.rXU(De,10),y.rXU(En,8),y.rXU(Se,8))}}static{this.\u0275dir=y.FsC({type:q,selectors:[["","formControl",""]],inputs:{form:["formControl","form"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[y.Jv_([Mr]),y.Vt3,y.OA$]})}}return q})();const Ji={provide:In,useExisting:(0,y.Rfq)(()=>Mi)};let Mi=(()=>{class q extends In{constructor(L,ee,Ve){super(),this.callSetDisabledState=Ve,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new y.bkB,this._setValidators(L),this._setAsyncValidators(ee)}ngOnChanges(L){this._checkFormPresent(),L.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(we(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(L){const ee=this.form.get(L.path);return re(ee,L,this.callSetDisabledState),ee.updateValueAndValidity({emitEvent:!1}),this.directives.push(L),ee}getControl(L){return this.form.get(L.path)}removeControl(L){Te(L.control||null,L,!1),function vr(q,Q){const L=q.indexOf(Q);L>-1&&q.splice(L,1)}(this.directives,L)}addFormGroup(L){this._setUpFormContainer(L)}removeFormGroup(L){this._cleanUpFormContainer(L)}getFormGroup(L){return this.form.get(L.path)}addFormArray(L){this._setUpFormContainer(L)}removeFormArray(L){this._cleanUpFormContainer(L)}getFormArray(L){return this.form.get(L.path)}updateModel(L,ee){this.form.get(L.path).setValue(ee)}onSubmit(L){return this.submitted=!0,gn(this.form,this.directives),this.ngSubmit.emit(L),"dialog"===L?.target?.method}onReset(){this.resetForm()}resetForm(L=void 0){this.form.reset(L),this.submitted=!1}_updateDomValue(){this.directives.forEach(L=>{const ee=L.control,Ve=this.form.get(L.path);ee!==Ve&&(Te(ee||null,L),(q=>q instanceof Ci)(Ve)&&(re(Ve,L,this.callSetDisabledState),L.control=Ve))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(L){const ee=this.form.get(L.path);tn(ee,L),ee.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(L){if(this.form){const ee=this.form.get(L.path);ee&&function Un(q,Q){return we(q,Q)}(ee,L)&&ee.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Ee(this.form,this),this._oldForm&&we(this._oldForm,this)}_checkFormPresent(){}static{this.\u0275fac=function(ee){return new(ee||q)(y.rXU(Nt,10),y.rXU(Lt,10),y.rXU(Se,8))}}static{this.\u0275dir=y.FsC({type:q,selectors:[["","formGroup",""]],hostBindings:function(ee,Ve){1&ee&&y.bIt("submit",function(Zn){return Ve.onSubmit(Zn)})("reset",function(){return Ve.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[y.Jv_([Ji]),y.Vt3,y.OA$]})}}return q})();const ts={provide:In,useExisting:(0,y.Rfq)(()=>Co)};let Co=(()=>{class q extends ki{constructor(L,ee,Ve){super(),this.name=null,this._parent=L,this._setValidators(ee),this._setAsyncValidators(Ve)}_checkParentType(){to(this._parent)}static{this.\u0275fac=function(ee){return new(ee||q)(y.rXU(In,13),y.rXU(Nt,10),y.rXU(Lt,10))}}static{this.\u0275dir=y.FsC({type:q,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[y.Jv_([ts]),y.Vt3]})}}return q})();const eo={provide:In,useExisting:(0,y.Rfq)(()=>Ao)};let Ao=(()=>{class q extends In{constructor(L,ee,Ve){super(),this.name=null,this._parent=L,this._setValidators(ee),this._setAsyncValidators(Ve)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return ye(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){to(this._parent)}static{this.\u0275fac=function(ee){return new(ee||q)(y.rXU(In,13),y.rXU(Nt,10),y.rXU(Lt,10))}}static{this.\u0275dir=y.FsC({type:q,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[y.Jv_([eo]),y.Vt3]})}}return q})();function to(q){return!(q instanceof Co||q instanceof Mi||q instanceof Ao)}const Cr={provide:Nn,useExisting:(0,y.Rfq)(()=>un)};let un=(()=>{class q extends Nn{set isDisabled(L){}static{this._ngModelWarningSentOnce=!1}constructor(L,ee,Ve,xn,Zn){super(),this._ngModelWarningConfig=Zn,this._added=!1,this.name=null,this.update=new y.bkB,this._ngModelWarningSent=!1,this._parent=L,this._setValidators(ee),this._setAsyncValidators(Ve),this.valueAccessor=wn(0,xn)}ngOnChanges(L){this._added||this._setUpControl(),en(L,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(L){this.viewModel=L,this.update.emit(L)}get path(){return ye(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static{this.\u0275fac=function(ee){return new(ee||q)(y.rXU(In,13),y.rXU(Nt,10),y.rXU(Lt,10),y.rXU(De,10),y.rXU(En,8))}}static{this.\u0275dir=y.FsC({type:q,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[y.Jv_([Cr]),y.Vt3,y.OA$]})}}return q})();const On={provide:De,useExisting:(0,y.Rfq)(()=>no),multi:!0};function Dr(q,Q){return null==q?`${Q}`:(Q&&"object"==typeof Q&&(Q="Object"),`${q}: ${Q}`.slice(0,50))}let no=(()=>{class q extends Ne{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(L){this._compareWith=L}writeValue(L){this.value=L;const Ve=Dr(this._getOptionId(L),L);this.setProperty("value",Ve)}registerOnChange(L){this.onChange=ee=>{this.value=this._getOptionValue(ee),L(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(L){for(const ee of this._optionMap.keys())if(this._compareWith(this._optionMap.get(ee),L))return ee;return null}_getOptionValue(L){const ee=function Bi(q){return q.split(":")[0]}(L);return this._optionMap.has(ee)?this._optionMap.get(ee):L}static{this.\u0275fac=function(){let L;return function(Ve){return(L||(L=y.xGo(q)))(Ve||q)}}()}static{this.\u0275dir=y.FsC({type:q,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(ee,Ve){1&ee&&y.bIt("change",function(Zn){return Ve.onChange(Zn.target.value)})("blur",function(){return Ve.onTouched()})},inputs:{compareWith:"compareWith"},features:[y.Jv_([On]),y.Vt3]})}}return q})(),vi=(()=>{class q{constructor(L,ee,Ve){this._element=L,this._renderer=ee,this._select=Ve,this._select&&(this.id=this._select._registerOption())}set ngValue(L){null!=this._select&&(this._select._optionMap.set(this.id,L),this._setElementValue(Dr(this.id,L)),this._select.writeValue(this._select.value))}set value(L){this._setElementValue(L),this._select&&this._select.writeValue(this._select.value)}_setElementValue(L){this._renderer.setProperty(this._element.nativeElement,"value",L)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(ee){return new(ee||q)(y.rXU(y.aKT),y.rXU(y.sFG),y.rXU(no,9))}}static{this.\u0275dir=y.FsC({type:q,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return q})();const uo={provide:De,useExisting:(0,y.Rfq)(()=>Hn),multi:!0};function jr(q,Q){return null==q?`${Q}`:("string"==typeof Q&&(Q=`'${Q}'`),Q&&"object"==typeof Q&&(Q="Object"),`${q}: ${Q}`.slice(0,50))}let Hn=(()=>{class q extends Ne{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(L){this._compareWith=L}writeValue(L){let ee;if(this.value=L,Array.isArray(L)){const Ve=L.map(xn=>this._getOptionId(xn));ee=(xn,Zn)=>{xn._setSelected(Ve.indexOf(Zn.toString())>-1)}}else ee=(Ve,xn)=>{Ve._setSelected(!1)};this._optionMap.forEach(ee)}registerOnChange(L){this.onChange=ee=>{const Ve=[],xn=ee.selectedOptions;if(void 0!==xn){const Zn=xn;for(let Ni=0;Ni<Zn.length;Ni++){const la=this._getOptionValue(Zn[Ni].value);Ve.push(la)}}else{const Zn=ee.options;for(let Ni=0;Ni<Zn.length;Ni++){const No=Zn[Ni];if(No.selected){const la=this._getOptionValue(No.value);Ve.push(la)}}}this.value=Ve,L(Ve)}}_registerOption(L){const ee=(this._idCounter++).toString();return this._optionMap.set(ee,L),ee}_getOptionId(L){for(const ee of this._optionMap.keys())if(this._compareWith(this._optionMap.get(ee)._value,L))return ee;return null}_getOptionValue(L){const ee=function ji(q){return q.split(":")[0]}(L);return this._optionMap.has(ee)?this._optionMap.get(ee)._value:L}static{this.\u0275fac=function(){let L;return function(Ve){return(L||(L=y.xGo(q)))(Ve||q)}}()}static{this.\u0275dir=y.FsC({type:q,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(ee,Ve){1&ee&&y.bIt("change",function(Zn){return Ve.onChange(Zn.target)})("blur",function(){return Ve.onTouched()})},inputs:{compareWith:"compareWith"},features:[y.Jv_([uo]),y.Vt3]})}}return q})(),Oo=(()=>{class q{constructor(L,ee,Ve){this._element=L,this._renderer=ee,this._select=Ve,this._select&&(this.id=this._select._registerOption(this))}set ngValue(L){null!=this._select&&(this._value=L,this._setElementValue(jr(this.id,L)),this._select.writeValue(this._select.value))}set value(L){this._select?(this._value=L,this._setElementValue(jr(this.id,L)),this._select.writeValue(this._select.value)):this._setElementValue(L)}_setElementValue(L){this._renderer.setProperty(this._element.nativeElement,"value",L)}_setSelected(L){this._renderer.setProperty(this._element.nativeElement,"selected",L)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(ee){return new(ee||q)(y.rXU(y.aKT),y.rXU(y.sFG),y.rXU(Hn,9))}}static{this.\u0275dir=y.FsC({type:q,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return q})();let Sr=(()=>{class q{constructor(){this._validator=bn}ngOnChanges(L){if(this.inputName in L){const ee=this.normalizeInput(L[this.inputName].currentValue);this._enabled=this.enabled(ee),this._validator=this._enabled?this.createValidator(ee):bn,this._onChange&&this._onChange()}}validate(L){return this._validator(L)}registerOnValidatorChange(L){this._onChange=L}enabled(L){return null!=L}static{this.\u0275fac=function(ee){return new(ee||q)}}static{this.\u0275dir=y.FsC({type:q,features:[y.OA$]})}}return q})();const Io={provide:Nt,useExisting:(0,y.Rfq)(()=>zi),multi:!0};let zi=(()=>{class q extends Sr{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=L=>function $o(q){return"number"==typeof q?q:parseFloat(q)}(L),this.createValidator=L=>be(L)}static{this.\u0275fac=function(){let L;return function(Ve){return(L||(L=y.xGo(q)))(Ve||q)}}()}static{this.\u0275dir=y.FsC({type:q,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(ee,Ve){2&ee&&y.BMQ("min",Ve._enabled?Ve.min:null)},inputs:{min:"min"},features:[y.Jv_([Io]),y.Vt3]})}}return q})();const ws={provide:Nt,useExisting:(0,y.Rfq)(()=>zr),multi:!0},To={provide:Nt,useExisting:(0,y.Rfq)(()=>Wo),multi:!0};let zr=(()=>{class q extends Sr{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=y.L39,this.createValidator=L=>je}enabled(L){return L}static{this.\u0275fac=function(){let L;return function(Ve){return(L||(L=y.xGo(q)))(Ve||q)}}()}static{this.\u0275dir=y.FsC({type:q,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(ee,Ve){2&ee&&y.BMQ("required",Ve._enabled?"":null)},inputs:{required:"required"},features:[y.Jv_([ws]),y.Vt3]})}}return q})(),Wo=(()=>{class q extends zr{constructor(){super(...arguments),this.createValidator=L=>Qe}static{this.\u0275fac=function(){let L;return function(Ve){return(L||(L=y.xGo(q)))(Ve||q)}}()}static{this.\u0275dir=y.FsC({type:q,selectors:[["input","type","checkbox","required","","formControlName",""],["input","type","checkbox","required","","formControl",""],["input","type","checkbox","required","","ngModel",""]],hostVars:1,hostBindings:function(ee,Ve){2&ee&&y.BMQ("required",Ve._enabled?"":null)},features:[y.Jv_([To]),y.Vt3]})}}return q})(),_i=(()=>{class q{static{this.\u0275fac=function(ee){return new(ee||q)}}static{this.\u0275mod=y.$C({type:q})}static{this.\u0275inj=y.G2t({imports:[Hs]})}}return q})();class ti extends St{constructor(Q,L,ee){super(Or(L),ei(ee,L)),this.controls=Q,this._initObservables(),this._setUpdateStrategy(L),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(Q){return this.controls[this._adjustIndex(Q)]}push(Q,L={}){this.controls.push(Q),this._registerControl(Q),this.updateValueAndValidity({emitEvent:L.emitEvent}),this._onCollectionChange()}insert(Q,L,ee={}){this.controls.splice(Q,0,L),this._registerControl(L),this.updateValueAndValidity({emitEvent:ee.emitEvent})}removeAt(Q,L={}){let ee=this._adjustIndex(Q);ee<0&&(ee=0),this.controls[ee]&&this.controls[ee]._registerOnCollectionChange(()=>{}),this.controls.splice(ee,1),this.updateValueAndValidity({emitEvent:L.emitEvent})}setControl(Q,L,ee={}){let Ve=this._adjustIndex(Q);Ve<0&&(Ve=0),this.controls[Ve]&&this.controls[Ve]._registerOnCollectionChange(()=>{}),this.controls.splice(Ve,1),L&&(this.controls.splice(Ve,0,L),this._registerControl(L)),this.updateValueAndValidity({emitEvent:ee.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(Q,L={}){gi(this,0,Q),Q.forEach((ee,Ve)=>{pr(this,!1,Ve),this.at(Ve).setValue(ee,{onlySelf:!0,emitEvent:L.emitEvent})}),this.updateValueAndValidity(L)}patchValue(Q,L={}){null!=Q&&(Q.forEach((ee,Ve)=>{this.at(Ve)&&this.at(Ve).patchValue(ee,{onlySelf:!0,emitEvent:L.emitEvent})}),this.updateValueAndValidity(L))}reset(Q=[],L={}){this._forEachChild((ee,Ve)=>{ee.reset(Q[Ve],{onlySelf:!0,emitEvent:L.emitEvent})}),this._updatePristine(L),this._updateTouched(L),this.updateValueAndValidity(L)}getRawValue(){return this.controls.map(Q=>Q.getRawValue())}clear(Q={}){this.controls.length<1||(this._forEachChild(L=>L._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:Q.emitEvent}))}_adjustIndex(Q){return Q<0?Q+this.length:Q}_syncPendingControls(){let Q=this.controls.reduce((L,ee)=>!!ee._syncPendingControls()||L,!1);return Q&&this.updateValueAndValidity({onlySelf:!0}),Q}_forEachChild(Q){this.controls.forEach((L,ee)=>{Q(L,ee)})}_updateValue(){this.value=this.controls.filter(Q=>Q.enabled||this.disabled).map(Q=>Q.value)}_anyControls(Q){return this.controls.some(L=>L.enabled&&Q(L))}_setUpControls(){this._forEachChild(Q=>this._registerControl(Q))}_allControlsDisabled(){for(const Q of this.controls)if(Q.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(Q){Q.setParent(this),Q._registerOnCollectionChange(this._onCollectionChange)}_find(Q){return this.at(Q)??null}}function rs(q){return!!q&&(void 0!==q.asyncValidators||void 0!==q.validators||void 0!==q.updateOn)}let io=(()=>{class q{constructor(){this.useNonNullable=!1}get nonNullable(){const L=new q;return L.useNonNullable=!0,L}group(L,ee=null){const Ve=this._reduceControls(L);let xn={};return rs(ee)?xn=ee:null!==ee&&(xn.validators=ee.validator,xn.asyncValidators=ee.asyncValidator),new pe(Ve,xn)}record(L,ee=null){const Ve=this._reduceControls(L);return new U(Ve,ee)}control(L,ee,Ve){let xn={};return this.useNonNullable?(rs(ee)?xn=ee:(xn.validators=ee,xn.asyncValidators=Ve),new Ci(L,{...xn,nonNullable:!0})):new Ci(L,ee,Ve)}array(L,ee,Ve){const xn=L.map(Zn=>this._createControl(Zn));return new ti(xn,ee,Ve)}_reduceControls(L){const ee={};return Object.keys(L).forEach(Ve=>{ee[Ve]=this._createControl(L[Ve])}),ee}_createControl(L){return L instanceof Ci||L instanceof St?L:Array.isArray(L)?this.control(L[0],L.length>1?L[1]:null,L.length>2?L[2]:null):this.control(L)}static{this.\u0275fac=function(ee){return new(ee||q)}}static{this.\u0275prov=y.jDH({token:q,factory:q.\u0275fac,providedIn:"root"})}}return q})(),Bc=(()=>{class q{static withConfig(L){return{ngModule:q,providers:[{provide:Se,useValue:L.callSetDisabledState??Me}]}}static{this.\u0275fac=function(ee){return new(ee||q)}}static{this.\u0275mod=y.$C({type:q})}static{this.\u0275inj=y.G2t({imports:[_i]})}}return q})(),ca=(()=>{class q{static withConfig(L){return{ngModule:q,providers:[{provide:En,useValue:L.warnOnNgModelWithFormControl??"always"},{provide:Se,useValue:L.callSetDisabledState??Me}]}}static{this.\u0275fac=function(ee){return new(ee||q)}}static{this.\u0275mod=y.$C({type:q})}static{this.\u0275inj=y.G2t({imports:[_i]})}}return q})()},8834:(nn,Je,F)=>{F.d(Je,{Hl:()=>mn});var y=F(7705),G=F(6600);let mn=(()=>{class ln{static{this.\u0275fac=function(Ue){return new(Ue||ln)}}static{this.\u0275mod=y.$C({type:ln})}static{this.\u0275inj=y.G2t({imports:[G.yE,G.pZ,G.yE]})}}return ln})()},6600:(nn,Je,F)=>{F.d(Je,{r5:()=>Lt,ed:()=>dn,MJ:()=>mn,es:()=>yt,de:()=>ln,$E:()=>Ae,yE:()=>We,WX:()=>Oe,Sy:()=>Kn,r6:()=>rt,Ej:()=>gi,pZ:()=>Ye,Zc:()=>Yt,GG:()=>fn,Ob:()=>Ct,J8:()=>Ln,BF:()=>bn});var y=F(7705),G=F(7645),_e=F(8203),ie=F(177),se=F(6860),Ne=F(4085),De=F(1413);let Lt=(()=>{class St{static{this.STANDARD_CURVE="cubic-bezier(0.4,0.0,0.2,1)"}static{this.DECELERATION_CURVE="cubic-bezier(0.0,0.0,0.2,1)"}static{this.ACCELERATION_CURVE="cubic-bezier(0.4,0.0,1,1)"}static{this.SHARP_CURVE="cubic-bezier(0.4,0.0,0.6,1)"}}return St})(),dn=(()=>{class St{static{this.COMPLEX="375ms"}static{this.ENTERING="225ms"}static{this.EXITING="195ms"}}return St})();const be=new y.nKC("mat-sanity-checks",{providedIn:"root",factory:function Zt(){return!0}});let We=(()=>{class St{constructor(P,R,U){this._sanityChecks=R,this._document=U,this._hasDoneGlobalChecks=!1,P._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(P){return!(0,se.v8)()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[P])}static{this.\u0275fac=function(R){return new(R||St)(y.KVO(G.Q_),y.KVO(be,8),y.KVO(ie.qQ))}}static{this.\u0275mod=y.$C({type:St})}static{this.\u0275inj=y.G2t({imports:[_e.jI,_e.jI]})}}return St})();function Ct(St){return class extends St{get disabled(){return this._disabled}set disabled(pe){this._disabled=(0,Ne.he)(pe)}constructor(...pe){super(...pe),this._disabled=!1}}}function Yt(St,pe){return class extends St{get color(){return this._color}set color(P){const R=P||this.defaultColor;R!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),R&&this._elementRef.nativeElement.classList.add(`mat-${R}`),this._color=R)}constructor(...P){super(...P),this.defaultColor=pe,this.color=pe}}}function fn(St){return class extends St{get disableRipple(){return this._disableRipple}set disableRipple(pe){this._disableRipple=(0,Ne.he)(pe)}constructor(...pe){super(...pe),this._disableRipple=!1}}}function bn(St,pe=0){return class extends St{get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(P){this._tabIndex=null!=P?(0,Ne.OE)(P):this.defaultTabIndex}constructor(...P){super(...P),this._tabIndex=pe,this.defaultTabIndex=pe}}}function Ln(St){return class extends St{updateErrorState(){const pe=this.errorState,ve=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);ve!==pe&&(this.errorState=ve,this.stateChanges.next())}constructor(...pe){super(...pe),this.errorState=!1}}}const mt=new y.nKC("MAT_DATE_LOCALE",{providedIn:"root",factory:function zt(){return(0,y.WQX)(y.xe9)}});class mn{constructor(){this._localeChanges=new De.B,this.localeChanges=this._localeChanges}getValidDateOrNull(pe){return this.isDateInstance(pe)&&this.isValid(pe)?pe:null}deserialize(pe){return null==pe||this.isDateInstance(pe)&&this.isValid(pe)?pe:this.invalid()}setLocale(pe){this.locale=pe,this._localeChanges.next()}compareDate(pe,P){return this.getYear(pe)-this.getYear(P)||this.getMonth(pe)-this.getMonth(P)||this.getDate(pe)-this.getDate(P)}sameDate(pe,P){if(pe&&P){let R=this.isValid(pe),U=this.isValid(P);return R&&U?!this.compareDate(pe,P):R==U}return pe==P}clampDate(pe,P,R){return P&&this.compareDate(pe,P)<0?P:R&&this.compareDate(pe,R)>0?R:pe}}const ln=new y.nKC("mat-date-formats"),Vt=/^\d{4}-\d{2}-\d{2}(?:T\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|(?:(?:\+|-)\d{2}:\d{2}))?)?$/;function kt(St,pe){const P=Array(St);for(let R=0;R<St;R++)P[R]=pe(R);return P}let Ue=(()=>{class St extends mn{constructor(P,R){super(),this.useUtcForDisplay=!1,super.setLocale(P)}getYear(P){return P.getFullYear()}getMonth(P){return P.getMonth()}getDate(P){return P.getDate()}getDayOfWeek(P){return P.getDay()}getMonthNames(P){const R=new Intl.DateTimeFormat(this.locale,{month:P,timeZone:"utc"});return kt(12,U=>this._format(R,new Date(2017,U,1)))}getDateNames(){const P=new Intl.DateTimeFormat(this.locale,{day:"numeric",timeZone:"utc"});return kt(31,R=>this._format(P,new Date(2017,0,R+1)))}getDayOfWeekNames(P){const R=new Intl.DateTimeFormat(this.locale,{weekday:P,timeZone:"utc"});return kt(7,U=>this._format(R,new Date(2017,0,U+1)))}getYearName(P){const R=new Intl.DateTimeFormat(this.locale,{year:"numeric",timeZone:"utc"});return this._format(R,P)}getFirstDayOfWeek(){return 0}getNumDaysInMonth(P){return this.getDate(this._createDateWithOverflow(this.getYear(P),this.getMonth(P)+1,0))}clone(P){return new Date(P.getTime())}createDate(P,R,U){let ve=this._createDateWithOverflow(P,R,U);return ve.getMonth(),ve}today(){return new Date}parse(P,R){return"number"==typeof P?new Date(P):P?new Date(Date.parse(P)):null}format(P,R){if(!this.isValid(P))throw Error("NativeDateAdapter: Cannot format invalid date.");const U=new Intl.DateTimeFormat(this.locale,{...R,timeZone:"utc"});return this._format(U,P)}addCalendarYears(P,R){return this.addCalendarMonths(P,12*R)}addCalendarMonths(P,R){let U=this._createDateWithOverflow(this.getYear(P),this.getMonth(P)+R,this.getDate(P));return this.getMonth(U)!=((this.getMonth(P)+R)%12+12)%12&&(U=this._createDateWithOverflow(this.getYear(U),this.getMonth(U),0)),U}addCalendarDays(P,R){return this._createDateWithOverflow(this.getYear(P),this.getMonth(P),this.getDate(P)+R)}toIso8601(P){return[P.getUTCFullYear(),this._2digit(P.getUTCMonth()+1),this._2digit(P.getUTCDate())].join("-")}deserialize(P){if("string"==typeof P){if(!P)return null;if(Vt.test(P)){let R=new Date(P);if(this.isValid(R))return R}}return super.deserialize(P)}isDateInstance(P){return P instanceof Date}isValid(P){return!isNaN(P.getTime())}invalid(){return new Date(NaN)}_createDateWithOverflow(P,R,U){const ve=new Date;return ve.setFullYear(P,R,U),ve.setHours(0,0,0,0),ve}_2digit(P){return("00"+P).slice(-2)}_format(P,R){const U=new Date;return U.setUTCFullYear(R.getFullYear(),R.getMonth(),R.getDate()),U.setUTCHours(R.getHours(),R.getMinutes(),R.getSeconds(),R.getMilliseconds()),P.format(U)}static{this.\u0275fac=function(R){return new(R||St)(y.KVO(mt,8),y.KVO(se.OD))}}static{this.\u0275prov=y.jDH({token:St,factory:St.\u0275fac})}}return St})();const ke={parse:{dateInput:null},display:{dateInput:{year:"numeric",month:"numeric",day:"numeric"},monthYearLabel:{year:"numeric",month:"short"},dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"}}};let ue=(()=>{class St{static{this.\u0275fac=function(R){return new(R||St)}}static{this.\u0275mod=y.$C({type:St})}static{this.\u0275inj=y.G2t({providers:[{provide:mn,useClass:Ue}]})}}return St})(),Oe=(()=>{class St{static{this.\u0275fac=function(R){return new(R||St)}}static{this.\u0275mod=y.$C({type:St})}static{this.\u0275inj=y.G2t({providers:[{provide:ln,useValue:ke}],imports:[ue]})}}return St})(),yt=(()=>{class St{isErrorState(P,R){return!!(P&&P.invalid&&(P.touched||R&&R.submitted))}static{this.\u0275fac=function(R){return new(R||St)}}static{this.\u0275prov=y.jDH({token:St,factory:St.\u0275fac,providedIn:"root"})}}return St})();class In{constructor(pe,P,R,U=!1){this._renderer=pe,this.element=P,this.config=R,this._animationForciblyDisabledThroughCss=U,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const Nn=(0,se.BQ)({passive:!0,capture:!0});class gr{constructor(){this._events=new Map,this._delegateEventHandler=pe=>{const P=(0,se.Fb)(pe);P&&this._events.get(pe.type)?.forEach((R,U)=>{(U===P||U.contains(P))&&R.forEach(ve=>ve.handleEvent(pe))})}}addHandler(pe,P,R,U){const ve=this._events.get(P);if(ve){const Se=ve.get(R);Se?Se.add(U):ve.set(R,new Set([U]))}else this._events.set(P,new Map([[R,new Set([U])]])),pe.runOutsideAngular(()=>{document.addEventListener(P,this._delegateEventHandler,Nn)})}removeHandler(pe,P,R){const U=this._events.get(pe);if(!U)return;const ve=U.get(P);ve&&(ve.delete(R),0===ve.size&&U.delete(P),0===U.size&&(this._events.delete(pe),document.removeEventListener(pe,this._delegateEventHandler,Nn)))}}const Fn={enterDuration:225,exitDuration:150},lr=(0,se.BQ)({passive:!0,capture:!0}),hn=["mousedown","touchstart"],Pt=["mouseup","mouseleave","touchend","touchcancel"];class oe{static{this._eventManager=new gr}constructor(pe,P,R,U){this._target=pe,this._ngZone=P,this._platform=U,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,U.isBrowser&&(this._containerElement=(0,Ne.i8)(R))}fadeInRipple(pe,P,R={}){const U=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),ve={...Fn,...R.animation};R.centered&&(pe=U.left+U.width/2,P=U.top+U.height/2);const Se=R.radius||function Ce(St,pe,P){const R=Math.max(Math.abs(St-P.left),Math.abs(St-P.right)),U=Math.max(Math.abs(pe-P.top),Math.abs(pe-P.bottom));return Math.sqrt(R*R+U*U)}(pe,P,U),Me=pe-U.left,ye=P-U.top,re=ve.enterDuration,Te=document.createElement("div");Te.classList.add("mat-ripple-element"),Te.style.left=Me-Se+"px",Te.style.top=ye-Se+"px",Te.style.height=2*Se+"px",Te.style.width=2*Se+"px",null!=R.color&&(Te.style.backgroundColor=R.color),Te.style.transitionDuration=`${re}ms`,this._containerElement.appendChild(Te);const st=window.getComputedStyle(Te),Ee=st.transitionDuration,we="none"===st.transitionProperty||"0s"===Ee||"0s, 0s"===Ee||0===U.width&&0===U.height,Le=new In(this,Te,R,we);Te.style.transform="scale3d(1, 1, 1)",Le.state=0,R.persistent||(this._mostRecentTransientRipple=Le);let At=null;return!we&&(re||ve.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const Qt=()=>this._finishRippleTransition(Le),sn=()=>this._destroyRipple(Le);Te.addEventListener("transitionend",Qt),Te.addEventListener("transitioncancel",sn),At={onTransitionEnd:Qt,onTransitionCancel:sn}}),this._activeRipples.set(Le,At),(we||!re)&&this._finishRippleTransition(Le),Le}fadeOutRipple(pe){if(2===pe.state||3===pe.state)return;const P=pe.element,R={...Fn,...pe.config.animation};P.style.transitionDuration=`${R.exitDuration}ms`,P.style.opacity="0",pe.state=2,(pe._animationForciblyDisabledThroughCss||!R.exitDuration)&&this._finishRippleTransition(pe)}fadeOutAll(){this._getActiveRipples().forEach(pe=>pe.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(pe=>{pe.config.persistent||pe.fadeOut()})}setupTriggerEvents(pe){const P=(0,Ne.i8)(pe);!this._platform.isBrowser||!P||P===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=P,hn.forEach(R=>{oe._eventManager.addHandler(this._ngZone,R,P,this)}))}handleEvent(pe){"mousedown"===pe.type?this._onMousedown(pe):"touchstart"===pe.type?this._onTouchStart(pe):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{Pt.forEach(P=>{this._triggerElement.addEventListener(P,this,lr)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(pe){0===pe.state?this._startFadeOutTransition(pe):2===pe.state&&this._destroyRipple(pe)}_startFadeOutTransition(pe){const P=pe===this._mostRecentTransientRipple,{persistent:R}=pe.config;pe.state=1,!R&&(!P||!this._isPointerDown)&&pe.fadeOut()}_destroyRipple(pe){const P=this._activeRipples.get(pe)??null;this._activeRipples.delete(pe),this._activeRipples.size||(this._containerRect=null),pe===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),pe.state=3,null!==P&&(pe.element.removeEventListener("transitionend",P.onTransitionEnd),pe.element.removeEventListener("transitioncancel",P.onTransitionCancel)),pe.element.remove()}_onMousedown(pe){const P=(0,G._G)(pe),R=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!P&&!R&&(this._isPointerDown=!0,this.fadeInRipple(pe.clientX,pe.clientY,this._target.rippleConfig))}_onTouchStart(pe){if(!this._target.rippleDisabled&&!(0,G.w6)(pe)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const P=pe.changedTouches;if(P)for(let R=0;R<P.length;R++)this.fadeInRipple(P[R].clientX,P[R].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(pe=>{!pe.config.persistent&&(1===pe.state||pe.config.terminateOnPointerUp&&0===pe.state)&&pe.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const pe=this._triggerElement;pe&&(hn.forEach(P=>oe._eventManager.removeHandler(P,pe,this)),this._pointerUpEventsRegistered&&Pt.forEach(P=>pe.removeEventListener(P,this,lr)))}}const Ae=new y.nKC("mat-ripple-global-options");let rt=(()=>{class St{get disabled(){return this._disabled}set disabled(P){P&&this.fadeOutAllNonPersistent(),this._disabled=P,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(P){this._trigger=P,this._setupTriggerEventsIfEnabled()}constructor(P,R,U,ve,Se){this._elementRef=P,this._animationMode=Se,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=ve||{},this._rippleRenderer=new oe(this,R,P,U)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(P,R=0,U){return"number"==typeof P?this._rippleRenderer.fadeInRipple(P,R,{...this.rippleConfig,...U}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...P})}static{this.\u0275fac=function(R){return new(R||St)(y.rXU(y.aKT),y.rXU(y.SKi),y.rXU(se.OD),y.rXU(Ae,8),y.rXU(y.bc$,8))}}static{this.\u0275dir=y.FsC({type:St,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(R,U){2&R&&y.AVh("mat-ripple-unbounded",U.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]})}}return St})(),Ye=(()=>{class St{static{this.\u0275fac=function(R){return new(R||St)}}static{this.\u0275mod=y.$C({type:St})}static{this.\u0275inj=y.G2t({imports:[We,We]})}}return St})(),$e=(()=>{class St{static{this.\u0275fac=function(R){return new(R||St)}}static{this.\u0275mod=y.$C({type:St})}static{this.\u0275inj=y.G2t({imports:[We]})}}return St})(),Kn=(()=>{class St{static{this.\u0275fac=function(R){return new(R||St)}}static{this.\u0275mod=y.$C({type:St})}static{this.\u0275inj=y.G2t({imports:[Ye,ie.MD,We,$e]})}}return St})();const Or={capture:!0},Xr=["focus","click","mouseenter","touchstart"],ei="mat-ripple-loader-uninitialized",et="mat-ripple-loader-class-name",Lr="mat-ripple-loader-centered",pr="mat-ripple-loader-disabled";let gi=(()=>{class St{constructor(){this._document=(0,y.WQX)(ie.qQ,{optional:!0}),this._animationMode=(0,y.WQX)(y.bc$,{optional:!0}),this._globalRippleOptions=(0,y.WQX)(Ae,{optional:!0}),this._platform=(0,y.WQX)(se.OD),this._ngZone=(0,y.WQX)(y.SKi),this._hosts=new Map,this._onInteraction=P=>{if(!(P.target instanceof HTMLElement))return;const U=P.target.closest(`[${ei}]`);U&&this._createRipple(U)},this._ngZone.runOutsideAngular(()=>{for(const P of Xr)this._document?.addEventListener(P,this._onInteraction,Or)})}ngOnDestroy(){const P=this._hosts.keys();for(const R of P)this.destroyRipple(R);for(const R of Xr)this._document?.removeEventListener(R,this._onInteraction,Or)}configureRipple(P,R){P.setAttribute(ei,""),(R.className||!P.hasAttribute(et))&&P.setAttribute(et,R.className||""),R.centered&&P.setAttribute(Lr,""),R.disabled&&P.setAttribute(pr,"")}getRipple(P){return this._hosts.get(P)||this._createRipple(P)}setDisabled(P,R){const U=this._hosts.get(P);U?U.disabled=R:R?P.setAttribute(pr,""):P.removeAttribute(pr)}_createRipple(P){if(!this._document)return;const R=this._hosts.get(P);if(R)return R;P.querySelector(".mat-ripple")?.remove();const U=this._document.createElement("span");U.classList.add("mat-ripple",P.getAttribute(et)),P.append(U);const ve=new rt(new y.aKT(U),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return ve._isInitialized=!0,ve.trigger=P,ve.centered=P.hasAttribute(Lr),ve.disabled=P.hasAttribute(pr),this.attachRipple(P,ve),ve}attachRipple(P,R){P.removeAttribute(ei),this._hosts.set(P,R)}destroyRipple(P){const R=this._hosts.get(P);R&&(R.ngOnDestroy(),this._hosts.delete(P))}static{this.\u0275fac=function(R){return new(R||St)}}static{this.\u0275prov=y.jDH({token:St,factory:St.\u0275fac,providedIn:"root"})}}return St})()},345:(nn,Je,F)=>{F.d(Je,{B7:()=>Ct,Bb:()=>Fn,hE:()=>oe,sG:()=>an,up:()=>sr});var y=F(7705),G=F(177);class _e extends G.VF{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class he extends _e{static makeCurrent(){(0,G.ZD)(new he)}onAndCancel(P,R,U){return P.addEventListener(R,U),()=>{P.removeEventListener(R,U)}}dispatchEvent(P,R){P.dispatchEvent(R)}remove(P){P.parentNode&&P.parentNode.removeChild(P)}createElement(P,R){return(R=R||this.getDefaultDocument()).createElement(P)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(P){return P.nodeType===Node.ELEMENT_NODE}isShadowRoot(P){return P instanceof DocumentFragment}getGlobalEventTarget(P,R){return"window"===R?window:"document"===R?P:"body"===R?P.body:null}getBaseHref(P){const R=function se(){return ie=ie||document.querySelector("base"),ie?ie.getAttribute("href"):null}();return null==R?null:function De(pe){Ne=Ne||document.createElement("a"),Ne.setAttribute("href",pe);const P=Ne.pathname;return"/"===P.charAt(0)?P:`/${P}`}(R)}resetBaseElement(){ie=null}getUserAgent(){return window.navigator.userAgent}getCookie(P){return(0,G._b)(document.cookie,P)}}let Ne,ie=null,ne=(()=>{class pe{build(){return new XMLHttpRequest}static{this.\u0275fac=function(U){return new(U||pe)}}static{this.\u0275prov=y.jDH({token:pe,factory:pe.\u0275fac})}}return pe})();const me=new y.nKC("EventManagerPlugins");let Be=(()=>{class pe{constructor(R,U){this._zone=U,this._eventNameToPlugin=new Map,R.forEach(ve=>{ve.manager=this}),this._plugins=R.slice().reverse()}addEventListener(R,U,ve){return this._findPluginFor(U).addEventListener(R,U,ve)}getZone(){return this._zone}_findPluginFor(R){let U=this._eventNameToPlugin.get(R);if(U)return U;if(U=this._plugins.find(Se=>Se.supports(R)),!U)throw new y.wOt(5101,!1);return this._eventNameToPlugin.set(R,U),U}static{this.\u0275fac=function(U){return new(U||pe)(y.KVO(me),y.KVO(y.SKi))}}static{this.\u0275prov=y.jDH({token:pe,factory:pe.\u0275fac})}}return pe})();class qe{constructor(P){this._doc=P}}const pt="ng-app-id";let _t=(()=>{class pe{constructor(R,U,ve,Se={}){this.doc=R,this.appId=U,this.nonce=ve,this.platformId=Se,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,G.Vy)(Se),this.resetHostNodes()}addStyles(R){for(const U of R)1===this.changeUsageCount(U,1)&&this.onStyleAdded(U)}removeStyles(R){for(const U of R)this.changeUsageCount(U,-1)<=0&&this.onStyleRemoved(U)}ngOnDestroy(){const R=this.styleNodesInDOM;R&&(R.forEach(U=>U.remove()),R.clear());for(const U of this.getAllStyles())this.onStyleRemoved(U);this.resetHostNodes()}addHost(R){this.hostNodes.add(R);for(const U of this.getAllStyles())this.addStyleToHost(R,U)}removeHost(R){this.hostNodes.delete(R)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(R){for(const U of this.hostNodes)this.addStyleToHost(U,R)}onStyleRemoved(R){const U=this.styleRef;U.get(R)?.elements?.forEach(ve=>ve.remove()),U.delete(R)}collectServerRenderedStyles(){const R=this.doc.head?.querySelectorAll(`style[${pt}="${this.appId}"]`);if(R?.length){const U=new Map;return R.forEach(ve=>{null!=ve.textContent&&U.set(ve.textContent,ve)}),U}return null}changeUsageCount(R,U){const ve=this.styleRef;if(ve.has(R)){const Se=ve.get(R);return Se.usage+=U,Se.usage}return ve.set(R,{usage:U,elements:[]}),U}getStyleElement(R,U){const ve=this.styleNodesInDOM,Se=ve?.get(U);if(Se?.parentNode===R)return ve.delete(U),Se.removeAttribute(pt),Se;{const Me=this.doc.createElement("style");return this.nonce&&Me.setAttribute("nonce",this.nonce),Me.textContent=U,this.platformIsServer&&Me.setAttribute(pt,this.appId),Me}}addStyleToHost(R,U){const ve=this.getStyleElement(R,U);R.appendChild(ve);const Se=this.styleRef,Me=Se.get(U)?.elements;Me?Me.push(ve):Se.set(U,{elements:[ve],usage:1})}resetHostNodes(){const R=this.hostNodes;R.clear(),R.add(this.doc.head)}static{this.\u0275fac=function(U){return new(U||pe)(y.KVO(G.qQ),y.KVO(y.sZ2),y.KVO(y.BIS,8),y.KVO(y.Agw))}}static{this.\u0275prov=y.jDH({token:pe,factory:pe.\u0275fac})}}return pe})();const It={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Nt=/%COMP%/g,We=new y.nKC("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function ft(pe,P){return P.map(R=>R.replace(Nt,pe))}let Ct=(()=>{class pe{constructor(R,U,ve,Se,Me,ye,re,Te=null){this.eventManager=R,this.sharedStylesHost=U,this.appId=ve,this.removeStylesOnCompDestroy=Se,this.doc=Me,this.platformId=ye,this.ngZone=re,this.nonce=Te,this.rendererByCompId=new Map,this.platformIsServer=(0,G.Vy)(ye),this.defaultRenderer=new Yt(R,Me,re,this.platformIsServer)}createRenderer(R,U){if(!R||!U)return this.defaultRenderer;this.platformIsServer&&U.encapsulation===y.gXe.ShadowDom&&(U={...U,encapsulation:y.gXe.Emulated});const ve=this.getOrCreateRenderer(R,U);return ve instanceof zt?ve.applyToHost(R):ve instanceof mt&&ve.applyStyles(),ve}getOrCreateRenderer(R,U){const ve=this.rendererByCompId;let Se=ve.get(U.id);if(!Se){const Me=this.doc,ye=this.ngZone,re=this.eventManager,Te=this.sharedStylesHost,st=this.removeStylesOnCompDestroy,Gt=this.platformIsServer;switch(U.encapsulation){case y.gXe.Emulated:Se=new zt(re,Te,U,this.appId,st,Me,ye,Gt);break;case y.gXe.ShadowDom:return new Bt(re,Te,R,U,Me,ye,this.nonce,Gt);default:Se=new mt(re,Te,U,st,Me,ye,Gt)}ve.set(U.id,Se)}return Se}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(U){return new(U||pe)(y.KVO(Be),y.KVO(_t),y.KVO(y.sZ2),y.KVO(We),y.KVO(G.qQ),y.KVO(y.Agw),y.KVO(y.SKi),y.KVO(y.BIS))}}static{this.\u0275prov=y.jDH({token:pe,factory:pe.\u0275fac})}}return pe})();class Yt{constructor(P,R,U,ve){this.eventManager=P,this.doc=R,this.ngZone=U,this.platformIsServer=ve,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(P,R){return R?this.doc.createElementNS(It[R]||R,P):this.doc.createElement(P)}createComment(P){return this.doc.createComment(P)}createText(P){return this.doc.createTextNode(P)}appendChild(P,R){(Ln(P)?P.content:P).appendChild(R)}insertBefore(P,R,U){P&&(Ln(P)?P.content:P).insertBefore(R,U)}removeChild(P,R){P&&P.removeChild(R)}selectRootElement(P,R){let U="string"==typeof P?this.doc.querySelector(P):P;if(!U)throw new y.wOt(-5104,!1);return R||(U.textContent=""),U}parentNode(P){return P.parentNode}nextSibling(P){return P.nextSibling}setAttribute(P,R,U,ve){if(ve){R=ve+":"+R;const Se=It[ve];Se?P.setAttributeNS(Se,R,U):P.setAttribute(R,U)}else P.setAttribute(R,U)}removeAttribute(P,R,U){if(U){const ve=It[U];ve?P.removeAttributeNS(ve,R):P.removeAttribute(`${U}:${R}`)}else P.removeAttribute(R)}addClass(P,R){P.classList.add(R)}removeClass(P,R){P.classList.remove(R)}setStyle(P,R,U,ve){ve&(y.czy.DashCase|y.czy.Important)?P.style.setProperty(R,U,ve&y.czy.Important?"important":""):P.style[R]=U}removeStyle(P,R,U){U&y.czy.DashCase?P.style.removeProperty(R):P.style[R]=""}setProperty(P,R,U){P[R]=U}setValue(P,R){P.nodeValue=R}listen(P,R,U){if("string"==typeof P&&!(P=(0,G.QT)().getGlobalEventTarget(this.doc,P)))throw new Error(`Unsupported event target ${P} for event ${R}`);return this.eventManager.addEventListener(P,R,this.decoratePreventDefault(U))}decoratePreventDefault(P){return R=>{if("__ngUnwrap__"===R)return P;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>P(R)):P(R))&&R.preventDefault()}}}function Ln(pe){return"TEMPLATE"===pe.tagName&&void 0!==pe.content}class Bt extends Yt{constructor(P,R,U,ve,Se,Me,ye,re){super(P,Se,Me,re),this.sharedStylesHost=R,this.hostEl=U,this.shadowRoot=U.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Te=ft(ve.id,ve.styles);for(const st of Te){const Gt=document.createElement("style");ye&&Gt.setAttribute("nonce",ye),Gt.textContent=st,this.shadowRoot.appendChild(Gt)}}nodeOrShadowRoot(P){return P===this.hostEl?this.shadowRoot:P}appendChild(P,R){return super.appendChild(this.nodeOrShadowRoot(P),R)}insertBefore(P,R,U){return super.insertBefore(this.nodeOrShadowRoot(P),R,U)}removeChild(P,R){return super.removeChild(this.nodeOrShadowRoot(P),R)}parentNode(P){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(P)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class mt extends Yt{constructor(P,R,U,ve,Se,Me,ye,re){super(P,Se,Me,ye),this.sharedStylesHost=R,this.removeStylesOnCompDestroy=ve,this.styles=re?ft(re,U.styles):U.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class zt extends mt{constructor(P,R,U,ve,Se,Me,ye,re){const Te=ve+"-"+U.id;super(P,R,U,Se,Me,ye,re,Te),this.contentAttr=function je(pe){return"_ngcontent-%COMP%".replace(Nt,pe)}(Te),this.hostAttr=function Qe(pe){return"_nghost-%COMP%".replace(Nt,pe)}(Te)}applyToHost(P){this.applyStyles(),this.setAttribute(P,this.hostAttr,"")}createElement(P,R){const U=super.createElement(P,R);return super.setAttribute(U,this.contentAttr,""),U}}let mn=(()=>{class pe extends qe{constructor(R){super(R)}supports(R){return!0}addEventListener(R,U,ve){return R.addEventListener(U,ve,!1),()=>this.removeEventListener(R,U,ve)}removeEventListener(R,U,ve){return R.removeEventListener(U,ve)}static{this.\u0275fac=function(U){return new(U||pe)(y.KVO(G.qQ))}}static{this.\u0275prov=y.jDH({token:pe,factory:pe.\u0275fac})}}return pe})();const ln=["alt","control","meta","shift"],Vt={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},kt={alt:pe=>pe.altKey,control:pe=>pe.ctrlKey,meta:pe=>pe.metaKey,shift:pe=>pe.shiftKey};let Ue=(()=>{class pe extends qe{constructor(R){super(R)}supports(R){return null!=pe.parseEventName(R)}addEventListener(R,U,ve){const Se=pe.parseEventName(U),Me=pe.eventCallback(Se.fullKey,ve,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,G.QT)().onAndCancel(R,Se.domEventName,Me))}static parseEventName(R){const U=R.toLowerCase().split("."),ve=U.shift();if(0===U.length||"keydown"!==ve&&"keyup"!==ve)return null;const Se=pe._normalizeKey(U.pop());let Me="",ye=U.indexOf("code");if(ye>-1&&(U.splice(ye,1),Me="code."),ln.forEach(Te=>{const st=U.indexOf(Te);st>-1&&(U.splice(st,1),Me+=Te+".")}),Me+=Se,0!=U.length||0===Se.length)return null;const re={};return re.domEventName=ve,re.fullKey=Me,re}static matchEventFullKeyCode(R,U){let ve=Vt[R.key]||R.key,Se="";return U.indexOf("code.")>-1&&(ve=R.code,Se="code."),!(null==ve||!ve)&&(ve=ve.toLowerCase()," "===ve?ve="space":"."===ve&&(ve="dot"),ln.forEach(Me=>{Me!==ve&&(0,kt[Me])(R)&&(Se+=Me+".")}),Se+=ve,Se===U)}static eventCallback(R,U,ve){return Se=>{pe.matchEventFullKeyCode(Se,R)&&ve.runGuarded(()=>U(Se))}}static _normalizeKey(R){return"esc"===R?"escape":R}static{this.\u0275fac=function(U){return new(U||pe)(y.KVO(G.qQ))}}static{this.\u0275prov=y.jDH({token:pe,factory:pe.\u0275fac})}}return pe})();const an=(0,y.oH4)(y.fpN,"browser",[{provide:y.Agw,useValue:G.AJ},{provide:y.PLl,useValue:function yt(){he.makeCurrent()},multi:!0},{provide:G.qQ,useFactory:function vn(){return(0,y.TL$)(document),document},deps:[]}]),In=new y.nKC(""),Nn=[{provide:y.e01,useClass:class Ie{addToWindow(P){y.JZv.getAngularTestability=(U,ve=!0)=>{const Se=P.findTestabilityInTree(U,ve);if(null==Se)throw new y.wOt(5103,!1);return Se},y.JZv.getAllAngularTestabilities=()=>P.getAllTestabilities(),y.JZv.getAllAngularRootElements=()=>P.getAllRootElements(),y.JZv.frameworkStabilizers||(y.JZv.frameworkStabilizers=[]),y.JZv.frameworkStabilizers.push(U=>{const ve=y.JZv.getAllAngularTestabilities();let Se=ve.length,Me=!1;const ye=function(re){Me=Me||re,Se--,0==Se&&U(Me)};ve.forEach(re=>{re.whenStable(ye)})})}findTestabilityInTree(P,R,U){return null==R?null:P.getTestability(R)??(U?(0,G.QT)().isShadowRoot(R)?this.findTestabilityInTree(P,R.host,!0):this.findTestabilityInTree(P,R.parentElement,!0):null)}},deps:[]},{provide:y.WHO,useClass:y.NYb,deps:[y.SKi,y.giA,y.e01]},{provide:y.NYb,useClass:y.NYb,deps:[y.SKi,y.giA,y.e01]}],gr=[{provide:y.H8p,useValue:"root"},{provide:y.zcH,useFactory:function Dt(){return new y.zcH},deps:[]},{provide:me,useClass:mn,multi:!0,deps:[G.qQ,y.SKi,y.Agw]},{provide:me,useClass:Ue,multi:!0,deps:[G.qQ]},Ct,_t,Be,{provide:y._9s,useExisting:Ct},{provide:G.N0,useClass:ne,deps:[]},[]];let Fn=(()=>{class pe{constructor(R){}static withServerTransition(R){return{ngModule:pe,providers:[{provide:y.sZ2,useValue:R.appId}]}}static{this.\u0275fac=function(U){return new(U||pe)(y.KVO(In,12))}}static{this.\u0275mod=y.$C({type:pe})}static{this.\u0275inj=y.G2t({providers:[...gr,...Nn],imports:[G.MD,y.Hbi]})}}return pe})(),oe=(()=>{class pe{constructor(R){this._doc=R}getTitle(){return this._doc.title}setTitle(R){this._doc.title=R||""}static{this.\u0275fac=function(U){return new(U||pe)(y.KVO(G.qQ))}}static{this.\u0275prov=y.jDH({token:pe,factory:function(U){let ve=null;return ve=U?new U:function Pt(){return new oe((0,y.KVO)(G.qQ))}(),ve},providedIn:"root"})}}return pe})();typeof window<"u"&&window;let sr=(()=>{class pe{static{this.\u0275fac=function(U){return new(U||pe)}}static{this.\u0275prov=y.jDH({token:pe,factory:function(U){let ve=null;return ve=U?new(U||pe):y.KVO(Kn),ve},providedIn:"root"})}}return pe})(),Kn=(()=>{class pe extends sr{constructor(R){super(),this._doc=R}sanitize(R,U){if(null==U)return null;switch(R){case y.WPN.NONE:return U;case y.WPN.HTML:return(0,y.ZF7)(U,"HTML")?(0,y.rcV)(U):(0,y.h9k)(this._doc,String(U)).toString();case y.WPN.STYLE:return(0,y.ZF7)(U,"Style")?(0,y.rcV)(U):U;case y.WPN.SCRIPT:if((0,y.ZF7)(U,"Script"))return(0,y.rcV)(U);throw new y.wOt(5200,!1);case y.WPN.URL:return(0,y.ZF7)(U,"URL")?(0,y.rcV)(U):(0,y.$MX)(String(U));case y.WPN.RESOURCE_URL:if((0,y.ZF7)(U,"ResourceURL"))return(0,y.rcV)(U);throw new y.wOt(5201,!1);default:throw new y.wOt(5202,!1)}}bypassSecurityTrustHtml(R){return(0,y.Kcf)(R)}bypassSecurityTrustStyle(R){return(0,y.cWb)(R)}bypassSecurityTrustScript(R){return(0,y.UyX)(R)}bypassSecurityTrustUrl(R){return(0,y.osQ)(R)}bypassSecurityTrustResourceUrl(R){return(0,y.e5t)(R)}static{this.\u0275fac=function(U){return new(U||pe)(y.KVO(G.qQ))}}static{this.\u0275prov=y.jDH({token:pe,factory:function(U){let ve=null;return ve=U?new U:function Jr(pe){return new Kn(pe.get(G.qQ))}(y.KVO(y.zZn)),ve},providedIn:"root"})}}return pe})()},8498:(nn,Je,F)=>{F.d(Je,{wF:()=>br,Ix:()=>fo,Wk:()=>pa,wQ:()=>mo,iI:()=>as,n3:()=>Bi});var y=F(7705),G=F(4402),_e=F(8455),he=F(7673),ie=F(4412),se=F(4572);const De=(0,F(1853).L)(x=>function(){x(this),this.name="EmptyError",this.message="no elements in sequence"});var Ie=F(8793),ne=F(9030),me=F(1203),Be=F(8810),qe=F(983),pt=F(17),_t=F(1413),It=F(8359),Nt=F(177),Lt=F(6354),dn=F(5558),Zt=F(6697),be=F(9172),We=F(5964),je=F(1397),Qe=F(9974),ft=F(4360);function Ct(x){return(0,Qe.N)((S,M)=>{let D=!1;S.subscribe((0,ft._)(M,z=>{D=!0,M.next(z)},()=>{D||M.next(x),M.complete()}))})}function Yt(x=fn){return(0,Qe.N)((S,M)=>{let D=!1;S.subscribe((0,ft._)(M,z=>{D=!0,M.next(z)},()=>D?M.complete():M.error(x())))})}function fn(){return new De}var bn=F(3669);function Ln(x,S){const M=arguments.length>=2;return D=>D.pipe(x?(0,We.p)((z,te)=>x(z,te,D)):bn.D,(0,Zt.s)(1),M?Ct(S):Yt(()=>new De))}var Bt=F(274),mt=F(8141),zt=F(9437);function Vt(x){return x<=0?()=>qe.w:(0,Qe.N)((S,M)=>{let D=[];S.subscribe((0,ft._)(M,z=>{D.push(z),x<D.length&&D.shift()},()=>{for(const z of D)M.next(z);M.complete()},void 0,()=>{D=null}))})}var Ue=F(3703),ke=F(980),ue=F(9898),Oe=F(6977),Tt=F(6365),yt=F(345);const Dt="primary",vn=Symbol("RouteTitle");class tr{constructor(S){this.params=S||{}}has(S){return Object.prototype.hasOwnProperty.call(this.params,S)}get(S){if(this.has(S)){const M=this.params[S];return Array.isArray(M)?M[0]:M}return null}getAll(S){if(this.has(S)){const M=this.params[S];return Array.isArray(M)?M:[M]}return[]}get keys(){return Object.keys(this.params)}}function an(x){return new tr(x)}function In(x,S,M){const D=M.path.split("/");if(D.length>x.length||"full"===M.pathMatch&&(S.hasChildren()||D.length<x.length))return null;const z={};for(let te=0;te<D.length;te++){const Re=D[te],Et=x[te];if(Re.startsWith(":"))z[Re.substring(1)]=Et;else if(Re!==Et.path)return null}return{consumed:x.slice(0,D.length),posParams:z}}function gr(x,S){const M=x?Object.keys(x):void 0,D=S?Object.keys(S):void 0;if(!M||!D||M.length!=D.length)return!1;let z;for(let te=0;te<M.length;te++)if(z=M[te],!Fn(x[z],S[z]))return!1;return!0}function Fn(x,S){if(Array.isArray(x)&&Array.isArray(S)){if(x.length!==S.length)return!1;const M=[...x].sort(),D=[...S].sort();return M.every((z,te)=>D[te]===z)}return x===S}function cr(x){return x.length>0?x[x.length-1]:null}function lr(x){return(0,G.A)(x)?x:(0,y.jNT)(x)?(0,_e.H)(Promise.resolve(x)):(0,he.of)(x)}const hn={exact:function Ae(x,S,M){if(!zn(x.segments,S.segments)||!$e(x.segments,S.segments,M)||x.numberOfChildren!==S.numberOfChildren)return!1;for(const D in S.children)if(!x.children[D]||!Ae(x.children[D],S.children[D],M))return!1;return!0},subset:Ye},Pt={exact:function Ce(x,S){return gr(x,S)},subset:function rt(x,S){return Object.keys(S).length<=Object.keys(x).length&&Object.keys(S).every(M=>Fn(x[M],S[M]))},ignored:()=>!0};function oe(x,S,M){return hn[M.paths](x.root,S.root,M.matrixParams)&&Pt[M.queryParams](x.queryParams,S.queryParams)&&!("exact"===M.fragment&&x.fragment!==S.fragment)}function Ye(x,S,M){return it(x,S,S.segments,M)}function it(x,S,M,D){if(x.segments.length>M.length){const z=x.segments.slice(0,M.length);return!(!zn(z,M)||S.hasChildren()||!$e(z,M,D))}if(x.segments.length===M.length){if(!zn(x.segments,M)||!$e(x.segments,M,D))return!1;for(const z in S.children)if(!x.children[z]||!Ye(x.children[z],S.children[z],D))return!1;return!0}{const z=M.slice(0,x.segments.length),te=M.slice(x.segments.length);return!!(zn(x.segments,z)&&$e(x.segments,z,D)&&x.children[Dt])&&it(x.children[Dt],S,te,D)}}function $e(x,S,M){return S.every((D,z)=>Pt[M](x[z].parameters,D.parameters))}class de{constructor(S=new Ge([],{}),M={},D=null){this.root=S,this.queryParams=M,this.fragment=D}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=an(this.queryParams)),this._queryParamMap}toString(){return yi.serialize(this)}}class Ge{constructor(S,M){this.segments=S,this.children=M,this.parent=null,Object.values(M).forEach(D=>D.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Wr(this)}}class ut{constructor(S,M){this.path=S,this.parameters=M}get parameterMap(){return this._parameterMap||(this._parameterMap=an(this.parameters)),this._parameterMap}toString(){return Lr(this)}}function zn(x,S){return x.length===S.length&&x.every((M,D)=>M.path===S[D].path)}let Gn=(()=>{class x{static{this.\u0275fac=function(D){return new(D||x)}}static{this.\u0275prov=y.jDH({token:x,factory:function(){return new yn},providedIn:"root"})}}return x})();class yn{parse(S){const M=new ye(S);return new de(M.parseRootSegment(),M.parseQueryParams(),M.parseFragment())}serialize(S){const M=`/${sr(S.root,!0)}`,D=function gi(x){const S=Object.keys(x).map(M=>{const D=x[M];return Array.isArray(D)?D.map(z=>`${Kn(M)}=${Kn(z)}`).join("&"):`${Kn(M)}=${Kn(D)}`}).filter(M=>!!M);return S.length?`?${S.join("&")}`:""}(S.queryParams);return`${M}${D}${"string"==typeof S.fragment?`#${function Or(x){return encodeURI(x)}(S.fragment)}`:""}`}}const yi=new yn;function Wr(x){return x.segments.map(S=>Lr(S)).join("/")}function sr(x,S){if(!x.hasChildren())return Wr(x);if(S){const M=x.children[Dt]?sr(x.children[Dt],!1):"",D=[];return Object.entries(x.children).forEach(([z,te])=>{z!==Dt&&D.push(`${z}:${sr(te,!1)}`)}),D.length>0?`${M}(${D.join("//")})`:M}{const M=function qt(x,S){let M=[];return Object.entries(x.children).forEach(([D,z])=>{D===Dt&&(M=M.concat(S(z,D)))}),Object.entries(x.children).forEach(([D,z])=>{D!==Dt&&(M=M.concat(S(z,D)))}),M}(x,(D,z)=>z===Dt?[sr(x.children[Dt],!1)]:[`${z}:${sr(D,!1)}`]);return 1===Object.keys(x.children).length&&null!=x.children[Dt]?`${Wr(x)}/${M[0]}`:`${Wr(x)}/(${M.join("//")})`}}function Jr(x){return encodeURIComponent(x).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Kn(x){return Jr(x).replace(/%3B/gi,";")}function Xr(x){return Jr(x).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ei(x){return decodeURIComponent(x)}function et(x){return ei(x.replace(/\+/g,"%20"))}function Lr(x){return`${Xr(x.path)}${function pr(x){return Object.keys(x).map(S=>`;${Xr(S)}=${Xr(x[S])}`).join("")}(x.parameters)}`}const St=/^[^\/()?;#]+/;function pe(x){const S=x.match(St);return S?S[0]:""}const P=/^[^\/()?;=#]+/,U=/^[^=?&#]+/,Se=/^[^&#]+/;class ye{constructor(S){this.url=S,this.remaining=S}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ge([],{}):new Ge([],this.parseChildren())}parseQueryParams(){const S={};if(this.consumeOptional("?"))do{this.parseQueryParam(S)}while(this.consumeOptional("&"));return S}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const S=[];for(this.peekStartsWith("(")||S.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),S.push(this.parseSegment());let M={};this.peekStartsWith("/(")&&(this.capture("/"),M=this.parseParens(!0));let D={};return this.peekStartsWith("(")&&(D=this.parseParens(!1)),(S.length>0||Object.keys(M).length>0)&&(D[Dt]=new Ge(S,M)),D}parseSegment(){const S=pe(this.remaining);if(""===S&&this.peekStartsWith(";"))throw new y.wOt(4009,!1);return this.capture(S),new ut(ei(S),this.parseMatrixParams())}parseMatrixParams(){const S={};for(;this.consumeOptional(";");)this.parseParam(S);return S}parseParam(S){const M=function R(x){const S=x.match(P);return S?S[0]:""}(this.remaining);if(!M)return;this.capture(M);let D="";if(this.consumeOptional("=")){const z=pe(this.remaining);z&&(D=z,this.capture(D))}S[ei(M)]=ei(D)}parseQueryParam(S){const M=function ve(x){const S=x.match(U);return S?S[0]:""}(this.remaining);if(!M)return;this.capture(M);let D="";if(this.consumeOptional("=")){const Re=function Me(x){const S=x.match(Se);return S?S[0]:""}(this.remaining);Re&&(D=Re,this.capture(D))}const z=et(M),te=et(D);if(S.hasOwnProperty(z)){let Re=S[z];Array.isArray(Re)||(Re=[Re],S[z]=Re),Re.push(te)}else S[z]=te}parseParens(S){const M={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const D=pe(this.remaining),z=this.remaining[D.length];if("/"!==z&&")"!==z&&";"!==z)throw new y.wOt(4010,!1);let te;D.indexOf(":")>-1?(te=D.slice(0,D.indexOf(":")),this.capture(te),this.capture(":")):S&&(te=Dt);const Re=this.parseChildren();M[te]=1===Object.keys(Re).length?Re[Dt]:new Ge([],Re),this.consumeOptional("//")}return M}peekStartsWith(S){return this.remaining.startsWith(S)}consumeOptional(S){return!!this.peekStartsWith(S)&&(this.remaining=this.remaining.substring(S.length),!0)}capture(S){if(!this.consumeOptional(S))throw new y.wOt(4011,!1)}}function re(x){return x.segments.length>0?new Ge([],{[Dt]:x}):x}function Te(x){const S={};for(const D of Object.keys(x.children)){const te=Te(x.children[D]);if(D===Dt&&0===te.segments.length&&te.hasChildren())for(const[Re,Et]of Object.entries(te.children))S[Re]=Et;else(te.segments.length>0||te.hasChildren())&&(S[D]=te)}return function st(x){if(1===x.numberOfChildren&&x.children[Dt]){const S=x.children[Dt];return new Ge(x.segments.concat(S.segments),S.children)}return x}(new Ge(x.segments,S))}function Gt(x){return x instanceof de}function we(x){let S;const z=re(function M(te){const Re={};for(const gt of te.children){const Mn=M(gt);Re[gt.outlet]=Mn}const Et=new Ge(te.url,Re);return te===x&&(S=Et),Et}(x.root));return S??z}function Le(x,S,M,D){let z=x;for(;z.parent;)z=z.parent;if(0===S.length)return sn(z,z,z,M,D);const te=function pn(x){if("string"==typeof x[0]&&1===x.length&&"/"===x[0])return new Un(!0,0,x);let S=0,M=!1;const D=x.reduce((z,te,Re)=>{if("object"==typeof te&&null!=te){if(te.outlets){const Et={};return Object.entries(te.outlets).forEach(([gt,Mn])=>{Et[gt]="string"==typeof Mn?Mn.split("/"):Mn}),[...z,{outlets:Et}]}if(te.segmentPath)return[...z,te.segmentPath]}return"string"!=typeof te?[...z,te]:0===Re?(te.split("/").forEach((Et,gt)=>{0==gt&&"."===Et||(0==gt&&""===Et?M=!0:".."===Et?S++:""!=Et&&z.push(Et))}),z):[...z,te]},[]);return new Un(M,S,D)}(S);if(te.toRoot())return sn(z,z,new Ge([],{}),M,D);const Re=function vt(x,S,M){if(x.isAbsolute)return new Yr(S,!0,0);if(!M)return new Yr(S,!1,NaN);if(null===M.parent)return new Yr(M,!0,0);const D=At(x.commands[0])?0:1;return function nt(x,S,M){let D=x,z=S,te=M;for(;te>z;){if(te-=z,D=D.parent,!D)throw new y.wOt(4005,!1);z=D.segments.length}return new Yr(D,!1,z-te)}(M,M.segments.length-1+D,x.numberOfDoubleDots)}(te,z,x),Et=Re.processChildren?Tn(Re.segmentGroup,Re.index,te.commands):en(Re.segmentGroup,Re.index,te.commands);return sn(z,Re.segmentGroup,Et,M,D)}function At(x){return"object"==typeof x&&null!=x&&!x.outlets&&!x.segmentPath}function Qt(x){return"object"==typeof x&&null!=x&&x.outlets}function sn(x,S,M,D,z){let Re,te={};D&&Object.entries(D).forEach(([gt,Mn])=>{te[gt]=Array.isArray(Mn)?Mn.map(ir=>`${ir}`):`${Mn}`}),Re=x===S?M:tn(x,S,M);const Et=re(Te(Re));return new de(Et,te,z)}function tn(x,S,M){const D={};return Object.entries(x.children).forEach(([z,te])=>{D[z]=te===S?M:tn(te,S,M)}),new Ge(x.segments,D)}class Un{constructor(S,M,D){if(this.isAbsolute=S,this.numberOfDoubleDots=M,this.commands=D,S&&D.length>0&&At(D[0]))throw new y.wOt(4003,!1);const z=D.find(Qt);if(z&&z!==cr(D))throw new y.wOt(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Yr{constructor(S,M,D){this.segmentGroup=S,this.processChildren=M,this.index=D}}function en(x,S,M){if(x||(x=new Ge([],{})),0===x.segments.length&&x.hasChildren())return Tn(x,S,M);const D=function gn(x,S,M){let D=0,z=S;const te={match:!1,pathIndex:0,commandIndex:0};for(;z<x.segments.length;){if(D>=M.length)return te;const Re=x.segments[z],Et=M[D];if(Qt(Et))break;const gt=`${Et}`,Mn=D<M.length-1?M[D+1]:null;if(z>0&&void 0===gt)break;if(gt&&Mn&&"object"==typeof Mn&&void 0===Mn.outlets){if(!fr(gt,Mn,Re))return te;D+=2}else{if(!fr(gt,{},Re))return te;D++}z++}return{match:!0,pathIndex:z,commandIndex:D}}(x,S,M),z=M.slice(D.commandIndex);if(D.match&&D.pathIndex<x.segments.length){const te=new Ge(x.segments.slice(0,D.pathIndex),{});return te.children[Dt]=new Ge(x.segments.slice(D.pathIndex),x.children),Tn(te,0,z)}return D.match&&0===z.length?new Ge(x.segments,{}):D.match&&!x.hasChildren()?wn(x,S,M):D.match?Tn(x,0,z):wn(x,S,M)}function Tn(x,S,M){if(0===M.length)return new Ge(x.segments,{});{const D=function Rt(x){return Qt(x[0])?x[0].outlets:{[Dt]:x}}(M),z={};if(Object.keys(D).some(te=>te!==Dt)&&x.children[Dt]&&1===x.numberOfChildren&&0===x.children[Dt].segments.length){const te=Tn(x.children[Dt],S,M);return new Ge(x.segments,te.children)}return Object.entries(D).forEach(([te,Re])=>{"string"==typeof Re&&(Re=[Re]),null!==Re&&(z[te]=en(x.children[te],S,Re))}),Object.entries(x.children).forEach(([te,Re])=>{void 0===D[te]&&(z[te]=Re)}),new Ge(x.segments,z)}}function wn(x,S,M){const D=x.segments.slice(0,S);let z=0;for(;z<M.length;){const te=M[z];if(Qt(te)){const gt=vr(te.outlets);return new Ge(D,gt)}if(0===z&&At(M[0])){D.push(new ut(x.segments[S].path,Rr(M[0]))),z++;continue}const Re=Qt(te)?te.outlets[Dt]:`${te}`,Et=z<M.length-1?M[z+1]:null;Re&&Et&&At(Et)?(D.push(new ut(Re,Rr(Et))),z+=2):(D.push(new ut(Re,{})),z++)}return new Ge(D,{})}function vr(x){const S={};return Object.entries(x).forEach(([M,D])=>{"string"==typeof D&&(D=[D]),null!==D&&(S[M]=wn(new Ge([],{}),0,D))}),S}function Rr(x){const S={};return Object.entries(x).forEach(([M,D])=>S[M]=`${D}`),S}function fr(x,S,M){return x==M.path&&gr(S,M.parameters)}const Fr="imperative";class li{constructor(S,M){this.id=S,this.url=M}}class xo extends li{constructor(S,M,D="imperative",z=null){super(S,M),this.type=0,this.navigationTrigger=D,this.restoredState=z}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class br extends li{constructor(S,M,D){super(S,M),this.urlAfterRedirects=D,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Ci extends li{constructor(S,M,D,z){super(S,M),this.reason=D,this.code=z,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Ai extends li{constructor(S,M,D,z){super(S,M),this.reason=D,this.code=z,this.type=16}}class Po extends li{constructor(S,M,D,z){super(S,M),this.error=D,this.target=z,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class ki extends li{constructor(S,M,D,z){super(S,M),this.urlAfterRedirects=D,this.state=z,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class sc extends li{constructor(S,M,D,z){super(S,M),this.urlAfterRedirects=D,this.state=z,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ea extends li{constructor(S,M,D,z,te){super(S,M),this.urlAfterRedirects=D,this.state=z,this.shouldActivate=te,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Oi extends li{constructor(S,M,D,z){super(S,M),this.urlAfterRedirects=D,this.state=z,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class xa extends li{constructor(S,M,D,z){super(S,M),this.urlAfterRedirects=D,this.state=z,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class lo{constructor(S){this.route=S,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class sa{constructor(S){this.route=S,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Us{constructor(S){this.snapshot=S,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Nr{constructor(S){this.snapshot=S,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ii{constructor(S){this.snapshot=S,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ui{constructor(S){this.snapshot=S,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Tr{constructor(S,M,D){this.routerEvent=S,this.position=M,this.anchor=D,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Ps{}class Ho{constructor(S){this.url=S}}class Hs{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new bs,this.attachRef=null}}let bs=(()=>{class x{constructor(){this.contexts=new Map}onChildOutletCreated(M,D){const z=this.getOrCreateContext(M);z.outlet=D,this.contexts.set(M,z)}onChildOutletDestroyed(M){const D=this.getContext(M);D&&(D.outlet=null,D.attachRef=null)}onOutletDeactivated(){const M=this.contexts;return this.contexts=new Map,M}onOutletReAttached(M){this.contexts=M}getOrCreateContext(M){let D=this.getContext(M);return D||(D=new Hs,this.contexts.set(M,D)),D}getContext(M){return this.contexts.get(M)||null}static{this.\u0275fac=function(D){return new(D||x)}}static{this.\u0275prov=y.jDH({token:x,factory:x.\u0275fac,providedIn:"root"})}}return x})();class Br{constructor(S){this._root=S}get root(){return this._root.value}parent(S){const M=this.pathFromRoot(S);return M.length>1?M[M.length-2]:null}children(S){const M=Ms(S,this._root);return M?M.children.map(D=>D.value):[]}firstChild(S){const M=Ms(S,this._root);return M&&M.children.length>0?M.children[0].value:null}siblings(S){const M=Yi(S,this._root);return M.length<2?[]:M[M.length-2].children.map(z=>z.value).filter(z=>z!==S)}pathFromRoot(S){return Yi(S,this._root).map(M=>M.value)}}function Ms(x,S){if(x===S.value)return S;for(const M of S.children){const D=Ms(x,M);if(D)return D}return null}function Yi(x,S){if(x===S.value)return[S];for(const M of S.children){const D=Yi(x,M);if(D.length)return D.unshift(S),D}return[]}class En{constructor(S,M){this.value=S,this.children=M}toString(){return`TreeNode(${this.value})`}}function Mr(x){const S={};return x&&x.children.forEach(M=>S[M.value.outlet]=M),S}class di extends Br{constructor(S,M){super(S),this.snapshot=M,Cr(this,S)}toString(){return this.snapshot.toString()}}function Ji(x,S){const M=function Mi(x,S){const Re=new Ao([],{},{},"",{},Dt,S,null,{});return new to("",new En(Re,[]))}(0,S),D=new ie.t([new ut("",{})]),z=new ie.t({}),te=new ie.t({}),Re=new ie.t({}),Et=new ie.t(""),gt=new ts(D,z,Re,Et,te,Dt,S,M.root);return gt.snapshot=M.root,new di(new En(gt,[]),M)}class ts{constructor(S,M,D,z,te,Re,Et,gt){this.urlSubject=S,this.paramsSubject=M,this.queryParamsSubject=D,this.fragmentSubject=z,this.dataSubject=te,this.outlet=Re,this.component=Et,this._futureSnapshot=gt,this.title=this.dataSubject?.pipe((0,Lt.T)(Mn=>Mn[vn]))??(0,he.of)(void 0),this.url=S,this.params=M,this.queryParams=D,this.fragment=z,this.data=te}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Lt.T)(S=>an(S)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Lt.T)(S=>an(S)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Co(x,S="emptyOnly"){const M=x.pathFromRoot;let D=0;if("always"!==S)for(D=M.length-1;D>=1;){const z=M[D],te=M[D-1];if(z.routeConfig&&""===z.routeConfig.path)D--;else{if(te.component)break;D--}}return function eo(x){return x.reduce((S,M)=>({params:{...S.params,...M.params},data:{...S.data,...M.data},resolve:{...M.data,...S.resolve,...M.routeConfig?.data,...M._resolvedData}}),{params:{},data:{},resolve:{}})}(M.slice(D))}class Ao{get title(){return this.data?.[vn]}constructor(S,M,D,z,te,Re,Et,gt,Mn){this.url=S,this.params=M,this.queryParams=D,this.fragment=z,this.data=te,this.outlet=Re,this.component=Et,this.routeConfig=gt,this._resolve=Mn}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=an(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=an(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(D=>D.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class to extends Br{constructor(S,M){super(M),this.url=S,Cr(this,M)}toString(){return un(this._root)}}function Cr(x,S){S.value._routerState=x,S.children.forEach(M=>Cr(x,M))}function un(x){const S=x.children.length>0?` { ${x.children.map(un).join(", ")} } `:"";return`${x.value}${S}`}function On(x){if(x.snapshot){const S=x.snapshot,M=x._futureSnapshot;x.snapshot=M,gr(S.queryParams,M.queryParams)||x.queryParamsSubject.next(M.queryParams),S.fragment!==M.fragment&&x.fragmentSubject.next(M.fragment),gr(S.params,M.params)||x.paramsSubject.next(M.params),function Nn(x,S){if(x.length!==S.length)return!1;for(let M=0;M<x.length;++M)if(!gr(x[M],S[M]))return!1;return!0}(S.url,M.url)||x.urlSubject.next(M.url),gr(S.data,M.data)||x.dataSubject.next(M.data)}else x.snapshot=x._futureSnapshot,x.dataSubject.next(x._futureSnapshot.data)}function Dr(x,S){const M=gr(x.params,S.params)&&function Ut(x,S){return zn(x,S)&&x.every((M,D)=>gr(M.parameters,S[D].parameters))}(x.url,S.url);return M&&!(!x.parent!=!S.parent)&&(!x.parent||Dr(x.parent,S.parent))}let Bi=(()=>{class x{constructor(){this.activated=null,this._activatedRoute=null,this.name=Dt,this.activateEvents=new y.bkB,this.deactivateEvents=new y.bkB,this.attachEvents=new y.bkB,this.detachEvents=new y.bkB,this.parentContexts=(0,y.WQX)(bs),this.location=(0,y.WQX)(y.c1b),this.changeDetector=(0,y.WQX)(y.gRc),this.environmentInjector=(0,y.WQX)(y.uvJ),this.inputBinder=(0,y.WQX)(vi,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(M){if(M.name){const{firstChange:D,previousValue:z}=M.name;if(D)return;this.isTrackedInParentContexts(z)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(z)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(M){return this.parentContexts.getContext(M)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const M=this.parentContexts.getContext(this.name);M?.route&&(M.attachRef?this.attach(M.attachRef,M.route):this.activateWith(M.route,M.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new y.wOt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new y.wOt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new y.wOt(4012,!1);this.location.detach();const M=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(M.instance),M}attach(M,D){this.activated=M,this._activatedRoute=D,this.location.insert(M.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(M.instance)}deactivate(){if(this.activated){const M=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(M)}}activateWith(M,D){if(this.isActivated)throw new y.wOt(4013,!1);this._activatedRoute=M;const z=this.location,Re=M.snapshot.component,Et=this.parentContexts.getOrCreateContext(this.name).children,gt=new no(M,Et,z.injector);this.activated=z.createComponent(Re,{index:z.length,injector:gt,environmentInjector:D??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(D){return new(D||x)}}static{this.\u0275dir=y.FsC({type:x,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[y.OA$]})}}return x})();class no{constructor(S,M,D){this.route=S,this.childContexts=M,this.parent=D}get(S,M){return S===ts?this.route:S===bs?this.childContexts:this.parent.get(S,M)}}const vi=new y.nKC("");let uo=(()=>{class x{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(M){this.unsubscribeFromRouteData(M),this.subscribeToRouteData(M)}unsubscribeFromRouteData(M){this.outletDataSubscriptions.get(M)?.unsubscribe(),this.outletDataSubscriptions.delete(M)}subscribeToRouteData(M){const{activatedRoute:D}=M,z=(0,se.z)([D.queryParams,D.params,D.data]).pipe((0,dn.n)(([te,Re,Et],gt)=>(Et={...te,...Re,...Et},0===gt?(0,he.of)(Et):Promise.resolve(Et)))).subscribe(te=>{if(!M.isActivated||!M.activatedComponentRef||M.activatedRoute!==D||null===D.component)return void this.unsubscribeFromRouteData(M);const Re=(0,y.HJs)(D.component);if(Re)for(const{templateName:Et}of Re.inputs)M.activatedComponentRef.setInput(Et,te[Et]);else this.unsubscribeFromRouteData(M)});this.outletDataSubscriptions.set(M,z)}static{this.\u0275fac=function(D){return new(D||x)}}static{this.\u0275prov=y.jDH({token:x,factory:x.\u0275fac})}}return x})();function ji(x,S,M){if(M&&x.shouldReuseRoute(S.value,M.value.snapshot)){const D=M.value;D._futureSnapshot=S.value;const z=function qo(x,S,M){return S.children.map(D=>{for(const z of M.children)if(x.shouldReuseRoute(D.value,z.value.snapshot))return ji(x,D,z);return ji(x,D)})}(x,S,M);return new En(D,z)}{if(x.shouldAttach(S.value)){const te=x.retrieve(S.value);if(null!==te){const Re=te.route;return Re.value._futureSnapshot=S.value,Re.children=S.children.map(Et=>ji(x,Et)),Re}}const D=function Hn(x){return new ts(new ie.t(x.url),new ie.t(x.params),new ie.t(x.queryParams),new ie.t(x.fragment),new ie.t(x.data),x.outlet,x.component,x)}(S.value),z=S.children.map(te=>ji(x,te));return new En(D,z)}}const Oo="ngNavigationCancelingError";function ns(x,S){const{redirectTo:M,navigationBehaviorOptions:D}=Gt(S)?{redirectTo:S,navigationBehaviorOptions:void 0}:S,z=$o(!1,0,S);return z.url=M,z.navigationBehaviorOptions=D,z}function $o(x,S,M){const D=new Error("NavigationCancelingError: "+(x||""));return D[Oo]=!0,D.cancellationCode=S,M&&(D.url=M),D}function us(x){return x&&x[Oo]}let Ti=(()=>{class x{static{this.\u0275fac=function(D){return new(D||x)}}static{this.\u0275cmp=y.VBU({type:x,selectors:[["ng-component"]],standalone:!0,features:[y.aNF],decls:1,vars:0,template:function(D,z){1&D&&y.nrm(0,"router-outlet")},dependencies:[Bi],encapsulation:2})}}return x})();function Es(x){const S=x.children&&x.children.map(Es),M=S?{...x,children:S}:{...x};return!M.component&&!M.loadComponent&&(S||M.loadChildren)&&M.outlet&&M.outlet!==Dt&&(M.component=Ti),M}function hi(x){return x.outlet||Dt}function po(x){if(!x)return null;if(x.routeConfig?._injector)return x.routeConfig._injector;for(let S=x.parent;S;S=S.parent){const M=S.routeConfig;if(M?._loadedInjector)return M._loadedInjector;if(M?._injector)return M._injector}return null}class wr{constructor(S,M,D,z,te){this.routeReuseStrategy=S,this.futureState=M,this.currState=D,this.forwardEvent=z,this.inputBindingEnabled=te}activate(S){const M=this.futureState._root,D=this.currState?this.currState._root:null;this.deactivateChildRoutes(M,D,S),On(this.futureState.root),this.activateChildRoutes(M,D,S)}deactivateChildRoutes(S,M,D){const z=Mr(M);S.children.forEach(te=>{const Re=te.value.outlet;this.deactivateRoutes(te,z[Re],D),delete z[Re]}),Object.values(z).forEach(te=>{this.deactivateRouteAndItsChildren(te,D)})}deactivateRoutes(S,M,D){const z=S.value,te=M?M.value:null;if(z===te)if(z.component){const Re=D.getContext(z.outlet);Re&&this.deactivateChildRoutes(S,M,Re.children)}else this.deactivateChildRoutes(S,M,D);else te&&this.deactivateRouteAndItsChildren(M,D)}deactivateRouteAndItsChildren(S,M){S.value.component&&this.routeReuseStrategy.shouldDetach(S.value.snapshot)?this.detachAndStoreRouteSubtree(S,M):this.deactivateRouteAndOutlet(S,M)}detachAndStoreRouteSubtree(S,M){const D=M.getContext(S.value.outlet),z=D&&S.value.component?D.children:M,te=Mr(S);for(const Re of Object.keys(te))this.deactivateRouteAndItsChildren(te[Re],z);if(D&&D.outlet){const Re=D.outlet.detach(),Et=D.children.onOutletDeactivated();this.routeReuseStrategy.store(S.value.snapshot,{componentRef:Re,route:S,contexts:Et})}}deactivateRouteAndOutlet(S,M){const D=M.getContext(S.value.outlet),z=D&&S.value.component?D.children:M,te=Mr(S);for(const Re of Object.keys(te))this.deactivateRouteAndItsChildren(te[Re],z);D&&(D.outlet&&(D.outlet.deactivate(),D.children.onOutletDeactivated()),D.attachRef=null,D.route=null)}activateChildRoutes(S,M,D){const z=Mr(M);S.children.forEach(te=>{this.activateRoutes(te,z[te.value.outlet],D),this.forwardEvent(new ui(te.value.snapshot))}),S.children.length&&this.forwardEvent(new Nr(S.value.snapshot))}activateRoutes(S,M,D){const z=S.value,te=M?M.value:null;if(On(z),z===te)if(z.component){const Re=D.getOrCreateContext(z.outlet);this.activateChildRoutes(S,M,Re.children)}else this.activateChildRoutes(S,M,D);else if(z.component){const Re=D.getOrCreateContext(z.outlet);if(this.routeReuseStrategy.shouldAttach(z.snapshot)){const Et=this.routeReuseStrategy.retrieve(z.snapshot);this.routeReuseStrategy.store(z.snapshot,null),Re.children.onOutletReAttached(Et.contexts),Re.attachRef=Et.componentRef,Re.route=Et.route.value,Re.outlet&&Re.outlet.attach(Et.componentRef,Et.route.value),On(Et.route.value),this.activateChildRoutes(S,null,Re.children)}else{const Et=po(z.snapshot);Re.attachRef=null,Re.route=z,Re.injector=Et,Re.outlet&&Re.outlet.activateWith(z,Re.injector),this.activateChildRoutes(S,null,Re.children)}}else this.activateChildRoutes(S,null,D)}}class qs{constructor(S){this.path=S,this.route=this.path[this.path.length-1]}}class _i{constructor(S,M){this.component=S,this.route=M}}function ti(x,S,M){const D=x._root;return rs(D,S?S._root:null,M,[D.value])}function ro(x,S){const M=Symbol(),D=S.get(x,M);return D===M?"function"!=typeof x||(0,y.LfX)(x)?S.get(x):x:D}function rs(x,S,M,D,z={canDeactivateChecks:[],canActivateChecks:[]}){const te=Mr(S);return x.children.forEach(Re=>{(function io(x,S,M,D,z={canDeactivateChecks:[],canActivateChecks:[]}){const te=x.value,Re=S?S.value:null,Et=M?M.getContext(x.value.outlet):null;if(Re&&te.routeConfig===Re.routeConfig){const gt=function ac(x,S,M){if("function"==typeof M)return M(x,S);switch(M){case"pathParamsChange":return!zn(x.url,S.url);case"pathParamsOrQueryParamsChange":return!zn(x.url,S.url)||!gr(x.queryParams,S.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Dr(x,S)||!gr(x.queryParams,S.queryParams);default:return!Dr(x,S)}}(Re,te,te.routeConfig.runGuardsAndResolvers);gt?z.canActivateChecks.push(new qs(D)):(te.data=Re.data,te._resolvedData=Re._resolvedData),rs(x,S,te.component?Et?Et.children:null:M,D,z),gt&&Et&&Et.outlet&&Et.outlet.isActivated&&z.canDeactivateChecks.push(new _i(Et.outlet.component,Re))}else Re&&aa(S,Et,z),z.canActivateChecks.push(new qs(D)),rs(x,null,te.component?Et?Et.children:null:M,D,z)})(Re,te[Re.value.outlet],M,D.concat([Re.value]),z),delete te[Re.value.outlet]}),Object.entries(te).forEach(([Re,Et])=>aa(Et,M.getContext(Re),z)),z}function aa(x,S,M){const D=Mr(x),z=x.value;Object.entries(D).forEach(([te,Re])=>{aa(Re,z.component?S?S.children.getContext(te):null:S,M)}),M.canDeactivateChecks.push(new _i(z.component&&S&&S.outlet&&S.outlet.isActivated?S.outlet.component:null,z))}function is(x){return"function"==typeof x}function Zn(x){return x instanceof De||"EmptyError"===x?.name}const Ni=Symbol("INITIAL_VALUE");function No(){return(0,dn.n)(x=>(0,se.z)(x.map(S=>S.pipe((0,Zt.s)(1),(0,be.Z)(Ni)))).pipe((0,Lt.T)(S=>{for(const M of S)if(!0!==M){if(M===Ni)return Ni;if(!1===M||M instanceof de)return M}return!0}),(0,We.p)(S=>S!==Ni),(0,Zt.s)(1)))}function os(x){return(0,me.F)((0,mt.M)(S=>{if(Gt(S))throw ns(0,S)}),(0,Lt.T)(S=>!0===S))}class ds{constructor(S){this.segmentGroup=S||null}}class ja{constructor(S){this.urlTree=S}}function pi(x){return(0,Be.$)(new ds(x))}function Cs(x){return(0,Be.$)(new ja(x))}class uc{constructor(S,M){this.urlSerializer=S,this.urlTree=M}noMatchError(S){return new y.wOt(4002,!1)}lineralizeSegments(S,M){let D=[],z=M.root;for(;;){if(D=D.concat(z.segments),0===z.numberOfChildren)return(0,he.of)(D);if(z.numberOfChildren>1||!z.children[Dt])return(0,Be.$)(new y.wOt(4e3,!1));z=z.children[Dt]}}applyRedirectCommands(S,M,D){return this.applyRedirectCreateUrlTree(M,this.urlSerializer.parse(M),S,D)}applyRedirectCreateUrlTree(S,M,D,z){const te=this.createSegmentGroup(S,M.root,D,z);return new de(te,this.createQueryParams(M.queryParams,this.urlTree.queryParams),M.fragment)}createQueryParams(S,M){const D={};return Object.entries(S).forEach(([z,te])=>{if("string"==typeof te&&te.startsWith(":")){const Et=te.substring(1);D[z]=M[Et]}else D[z]=te}),D}createSegmentGroup(S,M,D,z){const te=this.createSegments(S,M.segments,D,z);let Re={};return Object.entries(M.children).forEach(([Et,gt])=>{Re[Et]=this.createSegmentGroup(S,gt,D,z)}),new Ge(te,Re)}createSegments(S,M,D,z){return M.map(te=>te.path.startsWith(":")?this.findPosParam(S,te,z):this.findOrReturn(te,D))}findPosParam(S,M,D){const z=D[M.path.substring(1)];if(!z)throw new y.wOt(4001,!1);return z}findOrReturn(S,M){let D=0;for(const z of M){if(z.path===S.path)return M.splice(D),z;D++}return S}}const ua={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function dl(x,S,M,D,z){const te=Lo(x,S,M);return te.matched?(D=function Io(x,S){return x.providers&&!x._injector&&(x._injector=(0,y.Ol2)(x.providers,S,`Route: ${x.path}`)),x._injector??S}(S,D),function Vo(x,S,M,D){const z=S.canMatch;if(!z||0===z.length)return(0,he.of)(!0);const te=z.map(Re=>{const Et=ro(Re,x);return lr(function ee(x){return x&&is(x.canMatch)}(Et)?Et.canMatch(S,M):x.runInContext(()=>Et(S,M)))});return(0,he.of)(te).pipe(No(),os())}(D,S,M).pipe((0,Lt.T)(Re=>!0===Re?te:{...ua}))):(0,he.of)(te)}function Lo(x,S,M){if(""===S.path)return"full"===S.pathMatch&&(x.hasChildren()||M.length>0)?{...ua}:{matched:!0,consumedSegments:[],remainingSegments:M,parameters:{},positionalParamSegments:{}};const z=(S.matcher||In)(M,x,S);if(!z)return{...ua};const te={};Object.entries(z.posParams??{}).forEach(([Et,gt])=>{te[Et]=gt.path});const Re=z.consumed.length>0?{...te,...z.consumed[z.consumed.length-1].parameters}:te;return{matched:!0,consumedSegments:z.consumed,remainingSegments:M.slice(z.consumed.length),parameters:Re,positionalParamSegments:z.posParams??{}}}function da(x,S,M,D){return M.length>0&&function Vs(x,S,M){return M.some(D=>Do(x,S,D)&&hi(D)!==Dt)}(x,M,D)?{segmentGroup:new Ge(S,za(D,new Ge(M,x.children))),slicedSegments:[]}:0===M.length&&function dc(x,S,M){return M.some(D=>Do(x,S,D))}(x,M,D)?{segmentGroup:new Ge(x.segments,oo(x,0,M,D,x.children)),slicedSegments:M}:{segmentGroup:new Ge(x.segments,x.children),slicedSegments:M}}function oo(x,S,M,D,z){const te={};for(const Re of D)if(Do(x,M,Re)&&!z[hi(Re)]){const Et=new Ge([],{});te[hi(Re)]=Et}return{...z,...te}}function za(x,S){const M={};M[Dt]=S;for(const D of x)if(""===D.path&&hi(D)!==Dt){const z=new Ge([],{});M[hi(D)]=z}return M}function Do(x,S,M){return(!(x.hasChildren()||S.length>0)||"full"!==M.pathMatch)&&""===M.path}class pc{constructor(S,M,D,z,te,Re,Et){this.injector=S,this.configLoader=M,this.rootComponentType=D,this.config=z,this.urlTree=te,this.paramsInheritanceStrategy=Re,this.urlSerializer=Et,this.allowRedirects=!0,this.applyRedirects=new uc(this.urlSerializer,this.urlTree)}noMatchError(S){return new y.wOt(4002,!1)}recognize(){const S=da(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,S,Dt).pipe((0,zt.W)(M=>{if(M instanceof ja)return this.allowRedirects=!1,this.urlTree=M.urlTree,this.match(M.urlTree);throw M instanceof ds?this.noMatchError(M):M}),(0,Lt.T)(M=>{const D=new Ao([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Dt,this.rootComponentType,null,{}),z=new En(D,M),te=new to("",z),Re=function Ee(x,S,M=null,D=null){return Le(we(x),S,M,D)}(D,[],this.urlTree.queryParams,this.urlTree.fragment);return Re.queryParams=this.urlTree.queryParams,te.url=this.urlSerializer.serialize(Re),this.inheritParamsAndData(te._root),{state:te,tree:Re}}))}match(S){return this.processSegmentGroup(this.injector,this.config,S.root,Dt).pipe((0,zt.W)(D=>{throw D instanceof ds?this.noMatchError(D):D}))}inheritParamsAndData(S){const M=S.value,D=Co(M,this.paramsInheritanceStrategy);M.params=Object.freeze(D.params),M.data=Object.freeze(D.data),S.children.forEach(z=>this.inheritParamsAndData(z))}processSegmentGroup(S,M,D,z){return 0===D.segments.length&&D.hasChildren()?this.processChildren(S,M,D):this.processSegment(S,M,D,D.segments,z,!0)}processChildren(S,M,D){const z=[];for(const te of Object.keys(D.children))"primary"===te?z.unshift(te):z.push(te);return(0,_e.H)(z).pipe((0,Bt.H)(te=>{const Re=D.children[te],Et=function ho(x,S){const M=x.filter(D=>hi(D)===S);return M.push(...x.filter(D=>hi(D)!==S)),M}(M,te);return this.processSegmentGroup(S,Et,Re,te)}),function ln(x,S){return(0,Qe.N)(function mn(x,S,M,D,z){return(te,Re)=>{let Et=M,gt=S,Mn=0;te.subscribe((0,ft._)(Re,ir=>{const Pr=Mn++;gt=Et?x(gt,ir,Pr):(Et=!0,ir),D&&Re.next(gt)},z&&(()=>{Et&&Re.next(gt),Re.complete()})))}}(x,S,arguments.length>=2,!0))}((te,Re)=>(te.push(...Re),te)),Ct(null),function kt(x,S){const M=arguments.length>=2;return D=>D.pipe(x?(0,We.p)((z,te)=>x(z,te,D)):bn.D,Vt(1),M?Ct(S):Yt(()=>new De))}(),(0,je.Z)(te=>{if(null===te)return pi(D);const Re=zc(te);return function mr(x){x.sort((S,M)=>S.value.outlet===Dt?-1:M.value.outlet===Dt?1:S.value.outlet.localeCompare(M.value.outlet))}(Re),(0,he.of)(Re)}))}processSegment(S,M,D,z,te,Re){return(0,_e.H)(M).pipe((0,Bt.H)(Et=>this.processSegmentAgainstRoute(Et._injector??S,M,Et,D,z,te,Re).pipe((0,zt.W)(gt=>{if(gt instanceof ds)return(0,he.of)(null);throw gt}))),Ln(Et=>!!Et),(0,zt.W)(Et=>{if(Zn(Et))return function hs(x,S,M){return 0===S.length&&!x.children[M]}(D,z,te)?(0,he.of)([]):pi(D);throw Et}))}processSegmentAgainstRoute(S,M,D,z,te,Re,Et){return function jc(x,S,M,D){return!!(hi(x)===D||D!==Dt&&Do(S,M,x))&&("**"===x.path||Lo(S,x,M).matched)}(D,z,te,Re)?void 0===D.redirectTo?this.matchSegmentAgainstRoute(S,z,D,te,Re,Et):Et&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(S,z,M,D,te,Re):pi(z):pi(z)}expandSegmentAgainstRouteUsingRedirect(S,M,D,z,te,Re){return"**"===z.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(S,D,z,Re):this.expandRegularSegmentAgainstRouteUsingRedirect(S,M,D,z,te,Re)}expandWildCardWithParamsAgainstRouteUsingRedirect(S,M,D,z){const te=this.applyRedirects.applyRedirectCommands([],D.redirectTo,{});return D.redirectTo.startsWith("/")?Cs(te):this.applyRedirects.lineralizeSegments(D,te).pipe((0,je.Z)(Re=>{const Et=new Ge(Re,{});return this.processSegment(S,M,Et,Re,z,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(S,M,D,z,te,Re){const{matched:Et,consumedSegments:gt,remainingSegments:Mn,positionalParamSegments:ir}=Lo(M,z,te);if(!Et)return pi(M);const Pr=this.applyRedirects.applyRedirectCommands(gt,z.redirectTo,ir);return z.redirectTo.startsWith("/")?Cs(Pr):this.applyRedirects.lineralizeSegments(z,Pr).pipe((0,je.Z)(kr=>this.processSegment(S,D,M,kr.concat(Mn),Re,!1)))}matchSegmentAgainstRoute(S,M,D,z,te,Re){let Et;if("**"===D.path){const gt=z.length>0?cr(z).parameters:{},Mn=new Ao(z,gt,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,ql(D),hi(D),D.component??D._loadedComponent??null,D,Uc(D));Et=(0,he.of)({snapshot:Mn,consumedSegments:[],remainingSegments:[]}),M.children={}}else Et=dl(M,D,z,S).pipe((0,Lt.T)(({matched:gt,consumedSegments:Mn,remainingSegments:ir,parameters:Pr})=>gt?{snapshot:new Ao(Mn,Pr,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,ql(D),hi(D),D.component??D._loadedComponent??null,D,Uc(D)),consumedSegments:Mn,remainingSegments:ir}:null));return Et.pipe((0,dn.n)(gt=>null===gt?pi(M):this.getChildConfig(S=D._injector??S,D,z).pipe((0,dn.n)(({routes:Mn})=>{const ir=D._loadedInjector??S,{snapshot:Pr,consumedSegments:kr,remainingSegments:Ts}=gt,{segmentGroup:$a,slicedSegments:So}=da(M,kr,Ts,Mn);if(0===So.length&&$a.hasChildren())return this.processChildren(ir,Mn,$a).pipe((0,Lt.T)(Fs=>null===Fs?null:[new En(Pr,Fs)]));if(0===Mn.length&&0===So.length)return(0,he.of)([new En(Pr,[])]);const Si=hi(D)===te;return this.processSegment(ir,Mn,$a,So,Si?Dt:te,!0).pipe((0,Lt.T)(Fs=>[new En(Pr,Fs)]))}))))}getChildConfig(S,M,D){return M.children?(0,he.of)({routes:M.children,injector:S}):M.loadChildren?void 0!==M._loadedRoutes?(0,he.of)({routes:M._loadedRoutes,injector:M._loadedInjector}):function Vi(x,S,M,D){const z=S.canLoad;if(void 0===z||0===z.length)return(0,he.of)(!0);const te=z.map(Re=>{const Et=ro(Re,x);return lr(function ca(x){return x&&is(x.canLoad)}(Et)?Et.canLoad(S,M):x.runInContext(()=>Et(S,M)))});return(0,he.of)(te).pipe(No(),os())}(S,M,D).pipe((0,je.Z)(z=>z?this.configLoader.loadChildren(S,M).pipe((0,mt.M)(te=>{M._loadedRoutes=te.routes,M._loadedInjector=te.injector})):function Ws(x){return(0,Be.$)($o(!1,3))}())):(0,he.of)({routes:[],injector:S})}}function Hl(x){const S=x.value.routeConfig;return S&&""===S.path}function zc(x){const S=[],M=new Set;for(const D of x){if(!Hl(D)){S.push(D);continue}const z=S.find(te=>D.value.routeConfig===te.value.routeConfig);void 0!==z?(z.children.push(...D.children),M.add(z)):S.push(D)}for(const D of M){const z=zc(D.children);S.push(new En(D.value,z))}return S.filter(D=>!M.has(D))}function ql(x){return x.data||{}}function Uc(x){return x.resolve||{}}function mc(x){return"string"==typeof x.title||null===x.title}function A(x){return(0,dn.n)(S=>{const M=x(S);return M?(0,_e.H)(M).pipe((0,Lt.T)(()=>S)):(0,he.of)(S)})}const X=new y.nKC("ROUTES");let B=(()=>{class x{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,y.WQX)(y.Ql9)}loadComponent(M){if(this.componentLoaders.get(M))return this.componentLoaders.get(M);if(M._loadedComponent)return(0,he.of)(M._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(M);const D=lr(M.loadComponent()).pipe((0,Lt.T)(wt),(0,mt.M)(te=>{this.onLoadEndListener&&this.onLoadEndListener(M),M._loadedComponent=te}),(0,ke.j)(()=>{this.componentLoaders.delete(M)})),z=new pt.G(D,()=>new _t.B).pipe((0,ue.B)());return this.componentLoaders.set(M,z),z}loadChildren(M,D){if(this.childrenLoaders.get(D))return this.childrenLoaders.get(D);if(D._loadedRoutes)return(0,he.of)({routes:D._loadedRoutes,injector:D._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(D);const te=function K(x,S,M,D){return lr(x.loadChildren()).pipe((0,Lt.T)(wt),(0,je.Z)(z=>z instanceof y.Co$||Array.isArray(z)?(0,he.of)(z):(0,_e.H)(S.compileModuleAsync(z))),(0,Lt.T)(z=>{D&&D(x);let te,Re,Et=!1;return Array.isArray(z)?(Re=z,!0):(te=z.create(M).injector,Re=te.get(X,[],{optional:!0,self:!0}).flat()),{routes:Re.map(Es),injector:te}}))}(D,this.compiler,M,this.onLoadEndListener).pipe((0,ke.j)(()=>{this.childrenLoaders.delete(D)})),Re=new pt.G(te,()=>new _t.B).pipe((0,ue.B)());return this.childrenLoaders.set(D,Re),Re}static{this.\u0275fac=function(D){return new(D||x)}}static{this.\u0275prov=y.jDH({token:x,factory:x.\u0275fac,providedIn:"root"})}}return x})();function wt(x){return function Pe(x){return x&&"object"==typeof x&&"default"in x}(x)?x.default:x}let Ft=(()=>{class x{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new _t.B,this.transitionAbortSubject=new _t.B,this.configLoader=(0,y.WQX)(B),this.environmentInjector=(0,y.WQX)(y.uvJ),this.urlSerializer=(0,y.WQX)(Gn),this.rootContexts=(0,y.WQX)(bs),this.inputBindingEnabled=null!==(0,y.WQX)(vi,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,he.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=z=>this.events.next(new sa(z)),this.configLoader.onLoadStartListener=z=>this.events.next(new lo(z))}complete(){this.transitions?.complete()}handleNavigationRequest(M){const D=++this.navigationId;this.transitions?.next({...this.transitions.value,...M,id:D})}setupNavigations(M,D,z){return this.transitions=new ie.t({id:0,currentUrlTree:D,currentRawUrl:D,currentBrowserUrl:D,extractedUrl:M.urlHandlingStrategy.extract(D),urlAfterRedirects:M.urlHandlingStrategy.extract(D),rawUrl:D,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Fr,restoredState:null,currentSnapshot:z.snapshot,targetSnapshot:null,currentRouterState:z,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,We.p)(te=>0!==te.id),(0,Lt.T)(te=>({...te,extractedUrl:M.urlHandlingStrategy.extract(te.rawUrl)})),(0,dn.n)(te=>{this.currentTransition=te;let Re=!1,Et=!1;return(0,he.of)(te).pipe((0,mt.M)(gt=>{this.currentNavigation={id:gt.id,initialUrl:gt.rawUrl,extractedUrl:gt.extractedUrl,trigger:gt.source,extras:gt.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,dn.n)(gt=>{const Mn=gt.currentBrowserUrl.toString(),ir=!M.navigated||gt.extractedUrl.toString()!==Mn||Mn!==gt.currentUrlTree.toString();if(!ir&&"reload"!==(gt.extras.onSameUrlNavigation??M.onSameUrlNavigation)){const kr="";return this.events.next(new Ai(gt.id,this.urlSerializer.serialize(gt.rawUrl),kr,0)),gt.resolve(null),qe.w}if(M.urlHandlingStrategy.shouldProcessUrl(gt.rawUrl))return(0,he.of)(gt).pipe((0,dn.n)(kr=>{const Ts=this.transitions?.getValue();return this.events.next(new xo(kr.id,this.urlSerializer.serialize(kr.extractedUrl),kr.source,kr.restoredState)),Ts!==this.transitions?.getValue()?qe.w:Promise.resolve(kr)}),function Hc(x,S,M,D,z,te){return(0,je.Z)(Re=>function hc(x,S,M,D,z,te,Re="emptyOnly"){return new pc(x,S,M,D,z,Re,te).recognize()}(x,S,M,D,Re.extractedUrl,z,te).pipe((0,Lt.T)(({state:Et,tree:gt})=>({...Re,targetSnapshot:Et,urlAfterRedirects:gt}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,M.config,this.urlSerializer,M.paramsInheritanceStrategy),(0,mt.M)(kr=>{te.targetSnapshot=kr.targetSnapshot,te.urlAfterRedirects=kr.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:kr.urlAfterRedirects};const Ts=new ki(kr.id,this.urlSerializer.serialize(kr.extractedUrl),this.urlSerializer.serialize(kr.urlAfterRedirects),kr.targetSnapshot);this.events.next(Ts)}));if(ir&&M.urlHandlingStrategy.shouldProcessUrl(gt.currentRawUrl)){const{id:kr,extractedUrl:Ts,source:$a,restoredState:So,extras:Si}=gt,Fs=new xo(kr,this.urlSerializer.serialize(Ts),$a,So);this.events.next(Fs);const Fu=Ji(0,this.rootComponentType).snapshot;return this.currentTransition=te={...gt,targetSnapshot:Fu,urlAfterRedirects:Ts,extras:{...Si,skipLocationChange:!1,replaceUrl:!1}},(0,he.of)(te)}{const kr="";return this.events.next(new Ai(gt.id,this.urlSerializer.serialize(gt.extractedUrl),kr,1)),gt.resolve(null),qe.w}}),(0,mt.M)(gt=>{const Mn=new sc(gt.id,this.urlSerializer.serialize(gt.extractedUrl),this.urlSerializer.serialize(gt.urlAfterRedirects),gt.targetSnapshot);this.events.next(Mn)}),(0,Lt.T)(gt=>(this.currentTransition=te={...gt,guards:ti(gt.targetSnapshot,gt.currentSnapshot,this.rootContexts)},te)),function la(x,S){return(0,je.Z)(M=>{const{targetSnapshot:D,currentSnapshot:z,guards:{canActivateChecks:te,canDeactivateChecks:Re}}=M;return 0===Re.length&&0===te.length?(0,he.of)({...M,guardsResult:!0}):function Pu(x,S,M,D){return(0,_e.H)(x).pipe((0,je.Z)(z=>function Ns(x,S,M,D,z){const te=S&&S.routeConfig?S.routeConfig.canDeactivate:null;if(!te||0===te.length)return(0,he.of)(!0);const Re=te.map(Et=>{const gt=po(S)??z,Mn=ro(Et,gt);return lr(function L(x){return x&&is(x.canDeactivate)}(Mn)?Mn.canDeactivate(x,S,M,D):gt.runInContext(()=>Mn(x,S,M,D))).pipe(Ln())});return(0,he.of)(Re).pipe(No())}(z.component,z.route,M,S,D)),Ln(z=>!0!==z,!0))}(Re,D,z,x).pipe((0,je.Z)(Et=>Et&&function Bc(x){return"boolean"==typeof x}(Et)?function xs(x,S,M,D){return(0,_e.H)(S).pipe((0,Bt.H)(z=>(0,Ie.x)(function Os(x,S){return null!==x&&S&&S(new Us(x)),(0,he.of)(!0)}(z.route.parent,D),function cc(x,S){return null!==x&&S&&S(new Ii(x)),(0,he.of)(!0)}(z.route,D),function lc(x,S,M){const D=S[S.length-1],te=S.slice(0,S.length-1).reverse().map(Re=>function $s(x){const S=x.routeConfig?x.routeConfig.canActivateChild:null;return S&&0!==S.length?{node:x,guards:S}:null}(Re)).filter(Re=>null!==Re).map(Re=>(0,ne.v)(()=>{const Et=Re.guards.map(gt=>{const Mn=po(Re.node)??M,ir=ro(gt,Mn);return lr(function Q(x){return x&&is(x.canActivateChild)}(ir)?ir.canActivateChild(D,x):Mn.runInContext(()=>ir(D,x))).pipe(Ln())});return(0,he.of)(Et).pipe(No())}));return(0,he.of)(te).pipe(No())}(x,z.path,M),function Aa(x,S,M){const D=S.routeConfig?S.routeConfig.canActivate:null;if(!D||0===D.length)return(0,he.of)(!0);const z=D.map(te=>(0,ne.v)(()=>{const Re=po(S)??M,Et=ro(te,Re);return lr(function q(x){return x&&is(x.canActivate)}(Et)?Et.canActivate(S,x):Re.runInContext(()=>Et(S,x))).pipe(Ln())}));return(0,he.of)(z).pipe(No())}(x,z.route,M))),Ln(z=>!0!==z,!0))}(D,te,x,S):(0,he.of)(Et)),(0,Lt.T)(Et=>({...M,guardsResult:Et})))})}(this.environmentInjector,gt=>this.events.next(gt)),(0,mt.M)(gt=>{if(te.guardsResult=gt.guardsResult,Gt(gt.guardsResult))throw ns(0,gt.guardsResult);const Mn=new Ea(gt.id,this.urlSerializer.serialize(gt.extractedUrl),this.urlSerializer.serialize(gt.urlAfterRedirects),gt.targetSnapshot,!!gt.guardsResult);this.events.next(Mn)}),(0,We.p)(gt=>!!gt.guardsResult||(this.cancelNavigationTransition(gt,"",3),!1)),A(gt=>{if(gt.guards.canActivateChecks.length)return(0,he.of)(gt).pipe((0,mt.M)(Mn=>{const ir=new Oi(Mn.id,this.urlSerializer.serialize(Mn.extractedUrl),this.urlSerializer.serialize(Mn.urlAfterRedirects),Mn.targetSnapshot);this.events.next(ir)}),(0,dn.n)(Mn=>{let ir=!1;return(0,he.of)(Mn).pipe(function Gs(x,S){return(0,je.Z)(M=>{const{targetSnapshot:D,guards:{canActivateChecks:z}}=M;if(!z.length)return(0,he.of)(M);let te=0;return(0,_e.H)(z).pipe((0,Bt.H)(Re=>function $l(x,S,M,D){const z=x.routeConfig,te=x._resolve;return void 0!==z?.title&&!mc(z)&&(te[vn]=z.title),function Ks(x,S,M,D){const z=function ha(x){return[...Object.keys(x),...Object.getOwnPropertySymbols(x)]}(x);if(0===z.length)return(0,he.of)({});const te={};return(0,_e.H)(z).pipe((0,je.Z)(Re=>function Ls(x,S,M,D){const z=po(S)??D,te=ro(x,z);return lr(te.resolve?te.resolve(S,M):z.runInContext(()=>te(S,M)))}(x[Re],S,M,D).pipe(Ln(),(0,mt.M)(Et=>{te[Re]=Et}))),Vt(1),(0,Ue.u)(te),(0,zt.W)(Re=>Zn(Re)?qe.w:(0,Be.$)(Re)))}(te,x,S,D).pipe((0,Lt.T)(Re=>(x._resolvedData=Re,x.data=Co(x,M).resolve,z&&mc(z)&&(x.data[vn]=z.title),null)))}(Re.route,D,x,S)),(0,mt.M)(()=>te++),Vt(1),(0,je.Z)(Re=>te===z.length?(0,he.of)(M):qe.w))})}(M.paramsInheritanceStrategy,this.environmentInjector),(0,mt.M)({next:()=>ir=!0,complete:()=>{ir||this.cancelNavigationTransition(Mn,"",2)}}))}),(0,mt.M)(Mn=>{const ir=new xa(Mn.id,this.urlSerializer.serialize(Mn.extractedUrl),this.urlSerializer.serialize(Mn.urlAfterRedirects),Mn.targetSnapshot);this.events.next(ir)}))}),A(gt=>{const Mn=ir=>{const Pr=[];ir.routeConfig?.loadComponent&&!ir.routeConfig._loadedComponent&&Pr.push(this.configLoader.loadComponent(ir.routeConfig).pipe((0,mt.M)(kr=>{ir.component=kr}),(0,Lt.T)(()=>{})));for(const kr of ir.children)Pr.push(...Mn(kr));return Pr};return(0,se.z)(Mn(gt.targetSnapshot.root)).pipe(Ct(),(0,Zt.s)(1))}),A(()=>this.afterPreactivation()),(0,Lt.T)(gt=>{const Mn=function jr(x,S,M){const D=ji(x,S._root,M?M._root:void 0);return new di(D,S)}(M.routeReuseStrategy,gt.targetSnapshot,gt.currentRouterState);return this.currentTransition=te={...gt,targetRouterState:Mn},te}),(0,mt.M)(()=>{this.events.next(new Ps)}),((x,S,M,D)=>(0,Lt.T)(z=>(new wr(S,z.targetRouterState,z.currentRouterState,M,D).activate(x),z)))(this.rootContexts,M.routeReuseStrategy,gt=>this.events.next(gt),this.inputBindingEnabled),(0,Zt.s)(1),(0,mt.M)({next:gt=>{Re=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new br(gt.id,this.urlSerializer.serialize(gt.extractedUrl),this.urlSerializer.serialize(gt.urlAfterRedirects))),M.titleStrategy?.updateTitle(gt.targetRouterState.snapshot),gt.resolve(!0)},complete:()=>{Re=!0}}),(0,Oe.Q)(this.transitionAbortSubject.pipe((0,mt.M)(gt=>{throw gt}))),(0,ke.j)(()=>{Re||Et||this.cancelNavigationTransition(te,"",1),this.currentNavigation?.id===te.id&&(this.currentNavigation=null)}),(0,zt.W)(gt=>{if(Et=!0,us(gt))this.events.next(new Ci(te.id,this.urlSerializer.serialize(te.extractedUrl),gt.message,gt.cancellationCode)),function Sr(x){return us(x)&&Gt(x.url)}(gt)?this.events.next(new Ho(gt.url)):te.resolve(!1);else{this.events.next(new Po(te.id,this.urlSerializer.serialize(te.extractedUrl),gt,te.targetSnapshot??void 0));try{te.resolve(M.errorHandler(gt))}catch(Mn){te.reject(Mn)}}return qe.w}))}))}cancelNavigationTransition(M,D,z){const te=new Ci(M.id,this.urlSerializer.serialize(M.extractedUrl),D,z);this.events.next(te),M.resolve(!1)}static{this.\u0275fac=function(D){return new(D||x)}}static{this.\u0275prov=y.jDH({token:x,factory:x.\u0275fac,providedIn:"root"})}}return x})();function Dn(x){return x!==Fr}let _n=(()=>{class x{buildTitle(M){let D,z=M.root;for(;void 0!==z;)D=this.getResolvedTitleForRoute(z)??D,z=z.children.find(te=>te.outlet===Dt);return D}getResolvedTitleForRoute(M){return M.data[vn]}static{this.\u0275fac=function(D){return new(D||x)}}static{this.\u0275prov=y.jDH({token:x,factory:function(){return(0,y.WQX)(qn)},providedIn:"root"})}}return x})(),qn=(()=>{class x extends _n{constructor(M){super(),this.title=M}updateTitle(M){const D=this.buildTitle(M);void 0!==D&&this.title.setTitle(D)}static{this.\u0275fac=function(D){return new(D||x)(y.KVO(yt.hE))}}static{this.\u0275prov=y.jDH({token:x,factory:x.\u0275fac,providedIn:"root"})}}return x})(),_r=(()=>{class x{static{this.\u0275fac=function(D){return new(D||x)}}static{this.\u0275prov=y.jDH({token:x,factory:function(){return(0,y.WQX)(fi)},providedIn:"root"})}}return x})();class ar{shouldDetach(S){return!1}store(S,M){}shouldAttach(S){return!1}retrieve(S){return null}shouldReuseRoute(S,M){return S.routeConfig===M.routeConfig}}let fi=(()=>{class x extends ar{static{this.\u0275fac=function(){let M;return function(z){return(M||(M=y.xGo(x)))(z||x)}}()}static{this.\u0275prov=y.jDH({token:x,factory:x.\u0275fac,providedIn:"root"})}}return x})();const Vr=new y.nKC("",{providedIn:"root",factory:()=>({})});let Gi=(()=>{class x{static{this.\u0275fac=function(D){return new(D||x)}}static{this.\u0275prov=y.jDH({token:x,factory:function(){return(0,y.WQX)(ss)},providedIn:"root"})}}return x})(),ss=(()=>{class x{shouldProcessUrl(M){return!0}extract(M){return M}merge(M,D){return M}static{this.\u0275fac=function(D){return new(D||x)}}static{this.\u0275prov=y.jDH({token:x,factory:x.\u0275fac,providedIn:"root"})}}return x})();var wi=function(x){return x[x.COMPLETE=0]="COMPLETE",x[x.FAILED=1]="FAILED",x[x.REDIRECTING=2]="REDIRECTING",x}(wi||{});function so(x,S){x.events.pipe((0,We.p)(M=>M instanceof br||M instanceof Ci||M instanceof Po||M instanceof Ai),(0,Lt.T)(M=>M instanceof br||M instanceof Ai?wi.COMPLETE:M instanceof Ci&&(0===M.code||1===M.code)?wi.REDIRECTING:wi.FAILED),(0,We.p)(M=>M!==wi.REDIRECTING),(0,Zt.s)(1)).subscribe(()=>{S()})}function Di(x){throw x}function As(x,S,M){return S.parse("/")}const Ki={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Go={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let fo=(()=>{class x{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,y.WQX)(y.H3F),this.isNgZoneEnabled=!1,this._events=new _t.B,this.options=(0,y.WQX)(Vr,{optional:!0})||{},this.pendingTasks=(0,y.WQX)(y.$K3),this.errorHandler=this.options.errorHandler||Di,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||As,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,y.WQX)(Gi),this.routeReuseStrategy=(0,y.WQX)(_r),this.titleStrategy=(0,y.WQX)(_n),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,y.WQX)(X,{optional:!0})?.flat()??[],this.navigationTransitions=(0,y.WQX)(Ft),this.urlSerializer=(0,y.WQX)(Gn),this.location=(0,y.WQX)(Nt.aZ),this.componentInputBindingEnabled=!!(0,y.WQX)(vi,{optional:!0}),this.eventsSubscription=new It.yU,this.isNgZoneEnabled=(0,y.WQX)(y.SKi)instanceof y.SKi&&y.SKi.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new de,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Ji(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(M=>{this.lastSuccessfulId=M.id,this.currentPageId=this.browserPageId},M=>{this.console.warn(`Unhandled Navigation Error: ${M}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const M=this.navigationTransitions.events.subscribe(D=>{try{const{currentTransition:z}=this.navigationTransitions;if(null===z)return void(yc(D)&&this._events.next(D));if(D instanceof xo)Dn(z.source)&&(this.browserUrlTree=z.extractedUrl);else if(D instanceof Ai)this.rawUrlTree=z.rawUrl;else if(D instanceof ki){if("eager"===this.urlUpdateStrategy){if(!z.extras.skipLocationChange){const te=this.urlHandlingStrategy.merge(z.urlAfterRedirects,z.rawUrl);this.setBrowserUrl(te,z)}this.browserUrlTree=z.urlAfterRedirects}}else if(D instanceof Ps)this.currentUrlTree=z.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(z.urlAfterRedirects,z.rawUrl),this.routerState=z.targetRouterState,"deferred"===this.urlUpdateStrategy&&(z.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,z),this.browserUrlTree=z.urlAfterRedirects);else if(D instanceof Ci)0!==D.code&&1!==D.code&&(this.navigated=!0),(3===D.code||2===D.code)&&this.restoreHistory(z);else if(D instanceof Ho){const te=this.urlHandlingStrategy.merge(D.url,z.currentRawUrl),Re={skipLocationChange:z.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Dn(z.source)};this.scheduleNavigation(te,Fr,null,Re,{resolve:z.resolve,reject:z.reject,promise:z.promise})}D instanceof Po&&this.restoreHistory(z,!0),D instanceof br&&(this.navigated=!0),yc(D)&&this._events.next(D)}catch(z){this.navigationTransitions.transitionAbortSubject.next(z)}});this.eventsSubscription.add(M)}resetRootComponentType(M){this.routerState.root.component=M,this.navigationTransitions.rootComponentType=M}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const M=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Fr,M)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(M=>{const D="popstate"===M.type?"popstate":"hashchange";"popstate"===D&&setTimeout(()=>{this.navigateToSyncWithBrowser(M.url,D,M.state)},0)}))}navigateToSyncWithBrowser(M,D,z){const te={replaceUrl:!0},Re=z?.navigationId?z:null;if(z){const gt={...z};delete gt.navigationId,delete gt.\u0275routerPageId,0!==Object.keys(gt).length&&(te.state=gt)}const Et=this.parseUrl(M);this.scheduleNavigation(Et,D,Re,te)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(M){this.config=M.map(Es),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(M,D={}){const{relativeTo:z,queryParams:te,fragment:Re,queryParamsHandling:Et,preserveFragment:gt}=D,Mn=gt?this.currentUrlTree.fragment:Re;let Pr,ir=null;switch(Et){case"merge":ir={...this.currentUrlTree.queryParams,...te};break;case"preserve":ir=this.currentUrlTree.queryParams;break;default:ir=te||null}null!==ir&&(ir=this.removeEmptyProps(ir));try{Pr=we(z?z.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof M[0]||!M[0].startsWith("/"))&&(M=[]),Pr=this.currentUrlTree.root}return Le(Pr,M,ir,Mn??null)}navigateByUrl(M,D={skipLocationChange:!1}){const z=Gt(M)?M:this.parseUrl(M),te=this.urlHandlingStrategy.merge(z,this.rawUrlTree);return this.scheduleNavigation(te,Fr,null,D)}navigate(M,D={skipLocationChange:!1}){return function ii(x){for(let S=0;S<x.length;S++)if(null==x[S])throw new y.wOt(4008,!1)}(M),this.navigateByUrl(this.createUrlTree(M,D),D)}serializeUrl(M){return this.urlSerializer.serialize(M)}parseUrl(M){let D;try{D=this.urlSerializer.parse(M)}catch(z){D=this.malformedUriErrorHandler(z,this.urlSerializer,M)}return D}isActive(M,D){let z;if(z=!0===D?{...Ki}:!1===D?{...Go}:D,Gt(M))return oe(this.currentUrlTree,M,z);const te=this.parseUrl(M);return oe(this.currentUrlTree,te,z)}removeEmptyProps(M){return Object.keys(M).reduce((D,z)=>{const te=M[z];return null!=te&&(D[z]=te),D},{})}scheduleNavigation(M,D,z,te,Re){if(this.disposed)return Promise.resolve(!1);let Et,gt,Mn;Re?(Et=Re.resolve,gt=Re.reject,Mn=Re.promise):Mn=new Promise((Pr,kr)=>{Et=Pr,gt=kr});const ir=this.pendingTasks.add();return so(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(ir))}),this.navigationTransitions.handleNavigationRequest({source:D,restoredState:z,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:M,extras:te,resolve:Et,reject:gt,promise:Mn,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Mn.catch(Pr=>Promise.reject(Pr))}setBrowserUrl(M,D){const z=this.urlSerializer.serialize(M);if(this.location.isCurrentPathEqualTo(z)||D.extras.replaceUrl){const Re={...D.extras.state,...this.generateNgRouterState(D.id,this.browserPageId)};this.location.replaceState(z,"",Re)}else{const te={...D.extras.state,...this.generateNgRouterState(D.id,this.browserPageId+1)};this.location.go(z,"",te)}}restoreHistory(M,D=!1){if("computed"===this.canceledNavigationResolution){const te=this.currentPageId-this.browserPageId;0!==te?this.location.historyGo(te):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===te&&(this.resetState(M),this.browserUrlTree=M.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(D&&this.resetState(M),this.resetUrlToCurrentUrlTree())}resetState(M){this.routerState=M.currentRouterState,this.currentUrlTree=M.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,M.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(M,D){return"computed"===this.canceledNavigationResolution?{navigationId:M,\u0275routerPageId:D}:{navigationId:M}}static{this.\u0275fac=function(D){return new(D||x)}}static{this.\u0275prov=y.jDH({token:x,factory:x.\u0275fac,providedIn:"root"})}}return x})();function yc(x){return!(x instanceof Ps||x instanceof Ho)}let pa=(()=>{class x{constructor(M,D,z,te,Re,Et){this.router=M,this.route=D,this.tabIndexAttribute=z,this.renderer=te,this.el=Re,this.locationStrategy=Et,this.href=null,this.commands=null,this.onChanges=new _t.B,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const gt=Re.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===gt||"area"===gt,this.isAnchorElement?this.subscription=M.events.subscribe(Mn=>{Mn instanceof br&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(M){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",M)}ngOnChanges(M){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(M){null!=M?(this.commands=Array.isArray(M)?M:[M],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(M,D,z,te,Re){return!!(null===this.urlTree||this.isAnchorElement&&(0!==M||D||z||te||Re||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const M=null===this.href?null:(0,y.n$t)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",M)}applyAttributeValue(M,D){const z=this.renderer,te=this.el.nativeElement;null!==D?z.setAttribute(te,M,D):z.removeAttribute(te,M)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(D){return new(D||x)(y.rXU(fo),y.rXU(ts),y.kS0("tabindex"),y.rXU(y.sFG),y.rXU(y.aKT),y.rXU(Nt.hb))}}static{this.\u0275dir=y.FsC({type:x,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(D,z){1&D&&y.bIt("click",function(Re){return z.onClick(Re.button,Re.ctrlKey,Re.shiftKey,Re.altKey,Re.metaKey)}),2&D&&y.BMQ("target",z.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",y.L39],skipLocationChange:["skipLocationChange","skipLocationChange",y.L39],replaceUrl:["replaceUrl","replaceUrl",y.L39],routerLink:"routerLink"},standalone:!0,features:[y.GFd,y.OA$]})}}return x})(),mo=(()=>{class x{get isActive(){return this._isActive}constructor(M,D,z,te,Re){this.router=M,this.element=D,this.renderer=z,this.cdr=te,this.link=Re,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new y.bkB,this.routerEventsSubscription=M.events.subscribe(Et=>{Et instanceof br&&this.update()})}ngAfterContentInit(){(0,he.of)(this.links.changes,(0,he.of)(null)).pipe((0,Tt.U)()).subscribe(M=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const M=[...this.links.toArray(),this.link].filter(D=>!!D).map(D=>D.onChanges);this.linkInputChangesSubscription=(0,_e.H)(M).pipe((0,Tt.U)()).subscribe(D=>{this._isActive!==this.isLinkActive(this.router)(D)&&this.update()})}set routerLinkActive(M){const D=Array.isArray(M)?M:M.split(" ");this.classes=D.filter(z=>!!z)}ngOnChanges(M){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{const M=this.hasActiveLinks();this._isActive!==M&&(this._isActive=M,this.cdr.markForCheck(),this.classes.forEach(D=>{M?this.renderer.addClass(this.element.nativeElement,D):this.renderer.removeClass(this.element.nativeElement,D)}),M&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(M))})}isLinkActive(M){const D=function Ou(x){return!!x.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return z=>!!z.urlTree&&M.isActive(z.urlTree,D)}hasActiveLinks(){const M=this.isLinkActive(this.router);return this.link&&M(this.link)||this.links.some(M)}static{this.\u0275fac=function(D){return new(D||x)(y.rXU(fo),y.rXU(y.aKT),y.rXU(y.sFG),y.rXU(y.gRc),y.rXU(pa,8))}}static{this.\u0275dir=y.FsC({type:x,selectors:[["","routerLinkActive",""]],contentQueries:function(D,z,te){if(1&D&&y.wni(te,pa,5),2&D){let Re;y.mGM(Re=y.lsd())&&(z.links=Re)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[y.OA$]})}}return x})();class bi{}let Fo=(()=>{class x{constructor(M,D,z,te,Re){this.router=M,this.injector=z,this.preloadingStrategy=te,this.loader=Re}setUpPreloading(){this.subscription=this.router.events.pipe((0,We.p)(M=>M instanceof br),(0,Bt.H)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(M,D){const z=[];for(const te of D){te.providers&&!te._injector&&(te._injector=(0,y.Ol2)(te.providers,M,`Route: ${te.path}`));const Re=te._injector??M,Et=te._loadedInjector??Re;(te.loadChildren&&!te._loadedRoutes&&void 0===te.canLoad||te.loadComponent&&!te._loadedComponent)&&z.push(this.preloadConfig(Re,te)),(te.children||te._loadedRoutes)&&z.push(this.processRoutes(Et,te.children??te._loadedRoutes))}return(0,_e.H)(z).pipe((0,Tt.U)())}preloadConfig(M,D){return this.preloadingStrategy.preload(D,()=>{let z;z=D.loadChildren&&void 0===D.canLoad?this.loader.loadChildren(M,D):(0,he.of)(null);const te=z.pipe((0,je.Z)(Re=>null===Re?(0,he.of)(void 0):(D._loadedRoutes=Re.routes,D._loadedInjector=Re.injector,this.processRoutes(Re.injector??M,Re.routes))));if(D.loadComponent&&!D._loadedComponent){const Re=this.loader.loadComponent(D);return(0,_e.H)([te,Re]).pipe((0,Tt.U)())}return te})}static{this.\u0275fac=function(D){return new(D||x)(y.KVO(fo),y.KVO(y.Ql9),y.KVO(y.uvJ),y.KVO(bi),y.KVO(B))}}static{this.\u0275prov=y.jDH({token:x,factory:x.\u0275fac,providedIn:"root"})}}return x})();const gc=new y.nKC("");let Wl=(()=>{class x{constructor(M,D,z,te,Re={}){this.urlSerializer=M,this.transitions=D,this.viewportScroller=z,this.zone=te,this.options=Re,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},Re.scrollPositionRestoration=Re.scrollPositionRestoration||"disabled",Re.anchorScrolling=Re.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(M=>{M instanceof xo?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=M.navigationTrigger,this.restoredId=M.restoredState?M.restoredState.navigationId:0):M instanceof br?(this.lastId=M.id,this.scheduleScrollEvent(M,this.urlSerializer.parse(M.urlAfterRedirects).fragment)):M instanceof Ai&&0===M.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(M,this.urlSerializer.parse(M.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(M=>{M instanceof Tr&&(M.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(M.position):M.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(M.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(M,D){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Tr(M,"popstate"===this.lastSource?this.store[this.restoredId]:null,D))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(D){y.QTQ()}}static{this.\u0275prov=y.jDH({token:x,factory:x.\u0275fac})}}return x})();function Qs(x,S){return{\u0275kind:x,\u0275providers:S}}function $n(){const x=(0,y.WQX)(y.zZn);return S=>{const M=x.get(y.o8S);if(S!==M.components[0])return;const D=x.get(fo),z=x.get(ps);1===x.get(pl)&&D.initialNavigation(),x.get(Zs,null,y.$GK.Optional)?.setUpPreloading(),x.get(gc,null,y.$GK.Optional)?.init(),D.resetRootComponentType(M.componentTypes[0]),z.closed||(z.next(),z.complete(),z.unsubscribe())}}const ps=new y.nKC("",{factory:()=>new _t.B}),pl=new y.nKC("",{providedIn:"root",factory:()=>1}),Zs=new y.nKC("");function _c(x){return Qs(0,[{provide:Zs,useExisting:Fo},{provide:bi,useExisting:x}])}const Wt=new y.nKC("ROUTER_FORROOT_GUARD"),Hr=[Nt.aZ,{provide:Gn,useClass:yn},fo,bs,{provide:ts,useFactory:function hl(x){return x.routerState.root},deps:[fo]},B,[]];function Ei(){return new y.NEm("Router",fo)}let as=(()=>{class x{constructor(M){}static forRoot(M,D){return{ngModule:x,providers:[Hr,[],{provide:X,multi:!0,useValue:M},{provide:Wt,useFactory:Er,deps:[[fo,new y.Xx1,new y.kdw]]},{provide:Vr,useValue:D||{}},D?.useHash?{provide:Nt.hb,useClass:Nt.fw}:{provide:Nt.hb,useClass:Nt.Sm},{provide:gc,useFactory:()=>{const x=(0,y.WQX)(Nt.Xr),S=(0,y.WQX)(y.SKi),M=(0,y.WQX)(Vr),D=(0,y.WQX)(Ft),z=(0,y.WQX)(Gn);return M.scrollOffset&&x.setOffset(M.scrollOffset),new Wl(z,D,x,S,M)}},D?.preloadingStrategy?_c(D.preloadingStrategy).\u0275providers:[],{provide:y.NEm,multi:!0,useFactory:Ei},D?.initialNavigation?kc(D):[],D?.bindToComponentInputs?Qs(8,[uo,{provide:vi,useExisting:uo}]).\u0275providers:[],[{provide:Ta,useFactory:$n},{provide:y.iLQ,multi:!0,useExisting:Ta}]]}}static forChild(M){return{ngModule:x,providers:[{provide:X,multi:!0,useValue:M}]}}static{this.\u0275fac=function(D){return new(D||x)(y.KVO(Wt,8))}}static{this.\u0275mod=y.$C({type:x})}static{this.\u0275inj=y.G2t({})}}return x})();function Er(x){return"guarded"}function kc(x){return["disabled"===x.initialNavigation?Qs(3,[{provide:y.hnV,multi:!0,useFactory:()=>{const S=(0,y.WQX)(fo);return()=>{S.setUpLocationChangeListener()}}},{provide:pl,useValue:2}]).\u0275providers:[],"enabledBlocking"===x.initialNavigation?Qs(2,[{provide:pl,useValue:0},{provide:y.hnV,multi:!0,deps:[y.zZn],useFactory:S=>{const M=S.get(Nt.hj,Promise.resolve());return()=>M.then(()=>new Promise(D=>{const z=S.get(fo),te=S.get(ps);so(z,()=>{D(!0)}),S.get(Ft).afterPreactivation=()=>(D(!0),te.closed?(0,he.of)(void 0):te),z.initialNavigation()}))}}]).\u0275providers:[]]}const Ta=new y.nKC("")},7852:(nn,Je,F)=>{F.d(Je,{MF:()=>ei,j6:()=>Gn,xZ:()=>Wr,om:()=>qt,Sx:()=>pr,Dk:()=>gi,Wp:()=>et,KO:()=>P});var y=F(467),G=F(1362),_e=F(8041),he=F(1076);const ie=(vt,nt)=>nt.some(Rt=>vt instanceof Rt);let se,Ne;const ne=new WeakMap,me=new WeakMap,Be=new WeakMap,qe=new WeakMap,pt=new WeakMap;let Nt={get(vt,nt,Rt){if(vt instanceof IDBTransaction){if("done"===nt)return me.get(vt);if("objectStoreNames"===nt)return vt.objectStoreNames||Be.get(vt);if("store"===nt)return Rt.objectStoreNames[1]?void 0:Rt.objectStore(Rt.objectStoreNames[0])}return be(vt[nt])},set:(vt,nt,Rt)=>(vt[nt]=Rt,!0),has:(vt,nt)=>vt instanceof IDBTransaction&&("done"===nt||"store"===nt)||nt in vt};function Zt(vt){return"function"==typeof vt?function dn(vt){return vt!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ie(){return Ne||(Ne=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(vt)?function(...nt){return vt.apply(We(this),nt),be(ne.get(this))}:function(...nt){return be(vt.apply(We(this),nt))}:function(nt,...Rt){const en=vt.call(We(this),nt,...Rt);return Be.set(en,nt.sort?nt.sort():[nt]),be(en)}}(vt):(vt instanceof IDBTransaction&&function It(vt){if(me.has(vt))return;const nt=new Promise((Rt,en)=>{const Tn=()=>{vt.removeEventListener("complete",gn),vt.removeEventListener("error",wn),vt.removeEventListener("abort",wn)},gn=()=>{Rt(),Tn()},wn=()=>{en(vt.error||new DOMException("AbortError","AbortError")),Tn()};vt.addEventListener("complete",gn),vt.addEventListener("error",wn),vt.addEventListener("abort",wn)});me.set(vt,nt)}(vt),ie(vt,function De(){return se||(se=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(vt,Nt):vt)}function be(vt){if(vt instanceof IDBRequest)return function _t(vt){const nt=new Promise((Rt,en)=>{const Tn=()=>{vt.removeEventListener("success",gn),vt.removeEventListener("error",wn)},gn=()=>{Rt(be(vt.result)),Tn()},wn=()=>{en(vt.error),Tn()};vt.addEventListener("success",gn),vt.addEventListener("error",wn)});return nt.then(Rt=>{Rt instanceof IDBCursor&&ne.set(Rt,vt)}).catch(()=>{}),pt.set(nt,vt),nt}(vt);if(qe.has(vt))return qe.get(vt);const nt=Zt(vt);return nt!==vt&&(qe.set(vt,nt),pt.set(nt,vt)),nt}const We=vt=>pt.get(vt),ft=["get","getKey","getAll","getAllKeys","count"],Ct=["put","add","delete","clear"],Yt=new Map;function fn(vt,nt){if(!(vt instanceof IDBDatabase)||nt in vt||"string"!=typeof nt)return;if(Yt.get(nt))return Yt.get(nt);const Rt=nt.replace(/FromIndex$/,""),en=nt!==Rt,Tn=Ct.includes(Rt);if(!(Rt in(en?IDBIndex:IDBObjectStore).prototype)||!Tn&&!ft.includes(Rt))return;const gn=function(){var wn=(0,y.A)(function*(vr,...Rr){const fr=this.transaction(vr,Tn?"readwrite":"readonly");let Fr=fr.store;return en&&(Fr=Fr.index(Rr.shift())),(yield Promise.all([Fr[Rt](...Rr),Tn&&fr.done]))[0]});return function(Rr){return wn.apply(this,arguments)}}();return Yt.set(nt,gn),gn}!function Lt(vt){Nt=vt(Nt)}(vt=>({...vt,get:(nt,Rt,en)=>fn(nt,Rt)||vt.get(nt,Rt,en),has:(nt,Rt)=>!!fn(nt,Rt)||vt.has(nt,Rt)}));class bn{constructor(nt){this.container=nt}getPlatformInfoString(){return this.container.getProviders().map(Rt=>{if(function Ln(vt){const nt=vt.getComponent();return"VERSION"===nt?.type}(Rt)){const en=Rt.getImmediate();return`${en.library}/${en.version}`}return null}).filter(Rt=>Rt).join(" ")}}const Bt="@firebase/app",mt="0.10.13",zt=new _e.Vy("@firebase/app"),it="[DEFAULT]",$e={[Bt]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/data-connect":"fire-data-connect","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","@firebase/vertexai-preview":"fire-vertex","fire-js":"fire-js",firebase:"fire-js-all"},de=new Map,Ge=new Map,ut=new Map;function Ut(vt,nt){try{vt.container.addComponent(nt)}catch(Rt){zt.debug(`Component ${nt.name} failed to register with FirebaseApp ${vt.name}`,Rt)}}function qt(vt){const nt=vt.name;if(ut.has(nt))return zt.debug(`There were multiple attempts to register component ${nt}.`),!1;ut.set(nt,vt);for(const Rt of de.values())Ut(Rt,vt);for(const Rt of Ge.values())Ut(Rt,vt);return!0}function Gn(vt,nt){const Rt=vt.container.getProvider("heartbeat").getImmediate({optional:!0});return Rt&&Rt.triggerHeartbeat(),vt.container.getProvider(nt)}function Wr(vt){return void 0!==vt.settings}const Kn=new he.FA("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class Or{constructor(nt,Rt,en){this._isDeleted=!1,this._options=Object.assign({},nt),this._config=Object.assign({},Rt),this._name=Rt.name,this._automaticDataCollectionEnabled=Rt.automaticDataCollectionEnabled,this._container=en,this.container.addComponent(new G.uA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(nt){this.checkDestroyed(),this._automaticDataCollectionEnabled=nt}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(nt){this._isDeleted=nt}checkDestroyed(){if(this.isDeleted)throw Kn.create("app-deleted",{appName:this._name})}}const ei="10.14.1";function et(vt,nt={}){let Rt=vt;"object"!=typeof nt&&(nt={name:nt});const en=Object.assign({name:it,automaticDataCollectionEnabled:!1},nt),Tn=en.name;if("string"!=typeof Tn||!Tn)throw Kn.create("bad-app-name",{appName:String(Tn)});if(Rt||(Rt=(0,he.T9)()),!Rt)throw Kn.create("no-options");const gn=de.get(Tn);if(gn){if((0,he.bD)(Rt,gn.options)&&(0,he.bD)(en,gn.config))return gn;throw Kn.create("duplicate-app",{appName:Tn})}const wn=new G.h1(Tn);for(const Rr of ut.values())wn.addComponent(Rr);const vr=new Or(Rt,en,wn);return de.set(Tn,vr),vr}function pr(vt=it){const nt=de.get(vt);if(!nt&&vt===it&&(0,he.T9)())return et();if(!nt)throw Kn.create("no-app",{appName:vt});return nt}function gi(){return Array.from(de.values())}function P(vt,nt,Rt){var en;let Tn=null!==(en=$e[vt])&&void 0!==en?en:vt;Rt&&(Tn+=`-${Rt}`);const gn=Tn.match(/\s|\//),wn=nt.match(/\s|\//);if(gn||wn){const vr=[`Unable to register library "${Tn}" with version "${nt}":`];return gn&&vr.push(`library name "${Tn}" contains illegal characters (whitespace or "/")`),gn&&wn&&vr.push("and"),wn&&vr.push(`version name "${nt}" contains illegal characters (whitespace or "/")`),void zt.warn(vr.join(" "))}qt(new G.uA(`${Tn}-version`,()=>({library:Tn,version:nt}),"VERSION"))}const ve="firebase-heartbeat-database",Se=1,Me="firebase-heartbeat-store";let ye=null;function re(){return ye||(ye=function je(vt,nt,{blocked:Rt,upgrade:en,blocking:Tn,terminated:gn}={}){const wn=indexedDB.open(vt,nt),vr=be(wn);return en&&wn.addEventListener("upgradeneeded",Rr=>{en(be(wn.result),Rr.oldVersion,Rr.newVersion,be(wn.transaction),Rr)}),Rt&&wn.addEventListener("blocked",Rr=>Rt(Rr.oldVersion,Rr.newVersion,Rr)),vr.then(Rr=>{gn&&Rr.addEventListener("close",()=>gn()),Tn&&Rr.addEventListener("versionchange",fr=>Tn(fr.oldVersion,fr.newVersion,fr))}).catch(()=>{}),vr}(ve,Se,{upgrade:(vt,nt)=>{if(0===nt)try{vt.createObjectStore(Me)}catch(Rt){console.warn(Rt)}}}).catch(vt=>{throw Kn.create("idb-open",{originalErrorMessage:vt.message})})),ye}function st(){return(st=(0,y.A)(function*(vt){try{const Rt=(yield re()).transaction(Me),en=yield Rt.objectStore(Me).get(we(vt));return yield Rt.done,en}catch(nt){if(nt instanceof he.g)zt.warn(nt.message);else{const Rt=Kn.create("idb-get",{originalErrorMessage:nt?.message});zt.warn(Rt.message)}}})).apply(this,arguments)}function Gt(vt,nt){return Ee.apply(this,arguments)}function Ee(){return(Ee=(0,y.A)(function*(vt,nt){try{const en=(yield re()).transaction(Me,"readwrite");yield en.objectStore(Me).put(nt,we(vt)),yield en.done}catch(Rt){if(Rt instanceof he.g)zt.warn(Rt.message);else{const en=Kn.create("idb-set",{originalErrorMessage:Rt?.message});zt.warn(en.message)}}})).apply(this,arguments)}function we(vt){return`${vt.name}!${vt.options.appId}`}class Qt{constructor(nt){this.container=nt,this._heartbeatsCache=null;const Rt=this.container.getProvider("app").getImmediate();this._storage=new Un(Rt),this._heartbeatsCachePromise=this._storage.read().then(en=>(this._heartbeatsCache=en,en))}triggerHeartbeat(){var nt=this;return(0,y.A)(function*(){var Rt,en;try{const gn=nt.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),wn=sn();return null==(null===(Rt=nt._heartbeatsCache)||void 0===Rt?void 0:Rt.heartbeats)&&(nt._heartbeatsCache=yield nt._heartbeatsCachePromise,null==(null===(en=nt._heartbeatsCache)||void 0===en?void 0:en.heartbeats))||nt._heartbeatsCache.lastSentHeartbeatDate===wn||nt._heartbeatsCache.heartbeats.some(vr=>vr.date===wn)?void 0:(nt._heartbeatsCache.heartbeats.push({date:wn,agent:gn}),nt._heartbeatsCache.heartbeats=nt._heartbeatsCache.heartbeats.filter(vr=>{const Rr=new Date(vr.date).valueOf();return Date.now()-Rr<=2592e6}),nt._storage.overwrite(nt._heartbeatsCache))}catch(Tn){zt.warn(Tn)}})()}getHeartbeatsHeader(){var nt=this;return(0,y.A)(function*(){var Rt;try{if(null===nt._heartbeatsCache&&(yield nt._heartbeatsCachePromise),null==(null===(Rt=nt._heartbeatsCache)||void 0===Rt?void 0:Rt.heartbeats)||0===nt._heartbeatsCache.heartbeats.length)return"";const en=sn(),{heartbeatsToSend:Tn,unsentEntries:gn}=function tn(vt,nt=1024){const Rt=[];let en=vt.slice();for(const Tn of vt){const gn=Rt.find(wn=>wn.agent===Tn.agent);if(gn){if(gn.dates.push(Tn.date),pn(Rt)>nt){gn.dates.pop();break}}else if(Rt.push({agent:Tn.agent,dates:[Tn.date]}),pn(Rt)>nt){Rt.pop();break}en=en.slice(1)}return{heartbeatsToSend:Rt,unsentEntries:en}}(nt._heartbeatsCache.heartbeats),wn=(0,he.Uj)(JSON.stringify({version:2,heartbeats:Tn}));return nt._heartbeatsCache.lastSentHeartbeatDate=en,gn.length>0?(nt._heartbeatsCache.heartbeats=gn,yield nt._storage.overwrite(nt._heartbeatsCache)):(nt._heartbeatsCache.heartbeats=[],nt._storage.overwrite(nt._heartbeatsCache)),wn}catch(en){return zt.warn(en),""}})()}}function sn(){return(new Date).toISOString().substring(0,10)}class Un{constructor(nt){this.app=nt,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,y.A)(function*(){return!!(0,he.zW)()&&(0,he.eX)().then(()=>!0).catch(()=>!1)})()}read(){var nt=this;return(0,y.A)(function*(){if(yield nt._canUseIndexedDBPromise){const en=yield function Te(vt){return st.apply(this,arguments)}(nt.app);return en?.heartbeats?en:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(nt){var Rt=this;return(0,y.A)(function*(){var en;if(yield Rt._canUseIndexedDBPromise){const gn=yield Rt.read();return Gt(Rt.app,{lastSentHeartbeatDate:null!==(en=nt.lastSentHeartbeatDate)&&void 0!==en?en:gn.lastSentHeartbeatDate,heartbeats:nt.heartbeats})}})()}add(nt){var Rt=this;return(0,y.A)(function*(){var en;if(yield Rt._canUseIndexedDBPromise){const gn=yield Rt.read();return Gt(Rt.app,{lastSentHeartbeatDate:null!==(en=nt.lastSentHeartbeatDate)&&void 0!==en?en:gn.lastSentHeartbeatDate,heartbeats:[...gn.heartbeats,...nt.heartbeats]})}})()}}function pn(vt){return(0,he.Uj)(JSON.stringify({version:2,heartbeats:vt})).length}!function Yr(vt){qt(new G.uA("platform-logger",nt=>new bn(nt),"PRIVATE")),qt(new G.uA("heartbeat",nt=>new Qt(nt),"PRIVATE")),P(Bt,mt,vt),P(Bt,mt,"esm2017"),P("fire-js","")}("")},1362:(nn,Je,F)=>{F.d(Je,{h1:()=>De,uA:()=>_e});var y=F(467),G=F(1076);class _e{constructor(ne,me,Be){this.name=ne,this.instanceFactory=me,this.type=Be,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(ne){return this.instantiationMode=ne,this}setMultipleInstances(ne){return this.multipleInstances=ne,this}setServiceProps(ne){return this.serviceProps=ne,this}setInstanceCreatedCallback(ne){return this.onInstanceCreated=ne,this}}const he="[DEFAULT]";class ie{constructor(ne,me){this.name=ne,this.container=me,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(ne){const me=this.normalizeInstanceIdentifier(ne);if(!this.instancesDeferred.has(me)){const Be=new G.cY;if(this.instancesDeferred.set(me,Be),this.isInitialized(me)||this.shouldAutoInitialize())try{const qe=this.getOrInitializeService({instanceIdentifier:me});qe&&Be.resolve(qe)}catch{}}return this.instancesDeferred.get(me).promise}getImmediate(ne){var me;const Be=this.normalizeInstanceIdentifier(ne?.identifier),qe=null!==(me=ne?.optional)&&void 0!==me&&me;if(!this.isInitialized(Be)&&!this.shouldAutoInitialize()){if(qe)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Be})}catch(pt){if(qe)return null;throw pt}}getComponent(){return this.component}setComponent(ne){if(ne.name!==this.name)throw Error(`Mismatching Component ${ne.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=ne,this.shouldAutoInitialize()){if(function Ne(Ie){return"EAGER"===Ie.instantiationMode}(ne))try{this.getOrInitializeService({instanceIdentifier:he})}catch{}for(const[me,Be]of this.instancesDeferred.entries()){const qe=this.normalizeInstanceIdentifier(me);try{const pt=this.getOrInitializeService({instanceIdentifier:qe});Be.resolve(pt)}catch{}}}}clearInstance(ne=he){this.instancesDeferred.delete(ne),this.instancesOptions.delete(ne),this.instances.delete(ne)}delete(){var ne=this;return(0,y.A)(function*(){const me=Array.from(ne.instances.values());yield Promise.all([...me.filter(Be=>"INTERNAL"in Be).map(Be=>Be.INTERNAL.delete()),...me.filter(Be=>"_delete"in Be).map(Be=>Be._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(ne=he){return this.instances.has(ne)}getOptions(ne=he){return this.instancesOptions.get(ne)||{}}initialize(ne={}){const{options:me={}}=ne,Be=this.normalizeInstanceIdentifier(ne.instanceIdentifier);if(this.isInitialized(Be))throw Error(`${this.name}(${Be}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const qe=this.getOrInitializeService({instanceIdentifier:Be,options:me});for(const[pt,_t]of this.instancesDeferred.entries())Be===this.normalizeInstanceIdentifier(pt)&&_t.resolve(qe);return qe}onInit(ne,me){var Be;const qe=this.normalizeInstanceIdentifier(me),pt=null!==(Be=this.onInitCallbacks.get(qe))&&void 0!==Be?Be:new Set;pt.add(ne),this.onInitCallbacks.set(qe,pt);const _t=this.instances.get(qe);return _t&&ne(_t,qe),()=>{pt.delete(ne)}}invokeOnInitCallbacks(ne,me){const Be=this.onInitCallbacks.get(me);if(Be)for(const qe of Be)try{qe(ne,me)}catch{}}getOrInitializeService({instanceIdentifier:ne,options:me={}}){let Be=this.instances.get(ne);if(!Be&&this.component&&(Be=this.component.instanceFactory(this.container,{instanceIdentifier:(Ie=ne,Ie===he?void 0:Ie),options:me}),this.instances.set(ne,Be),this.instancesOptions.set(ne,me),this.invokeOnInitCallbacks(Be,ne),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,ne,Be)}catch{}var Ie;return Be||null}normalizeInstanceIdentifier(ne=he){return this.component?this.component.multipleInstances?ne:he:ne}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class De{constructor(ne){this.name=ne,this.providers=new Map}addComponent(ne){const me=this.getProvider(ne.name);if(me.isComponentSet())throw new Error(`Component ${ne.name} has already been registered with ${this.name}`);me.setComponent(ne)}addOrOverwriteComponent(ne){this.getProvider(ne.name).isComponentSet()&&this.providers.delete(ne.name),this.addComponent(ne)}getProvider(ne){if(this.providers.has(ne))return this.providers.get(ne);const me=new ie(ne,this);return this.providers.set(ne,me),me}getProviders(){return Array.from(this.providers.values())}}},8041:(nn,Je,F)=>{F.d(Je,{$b:()=>G,Vy:()=>Ne});const y=[];var G=function(ne){return ne[ne.DEBUG=0]="DEBUG",ne[ne.VERBOSE=1]="VERBOSE",ne[ne.INFO=2]="INFO",ne[ne.WARN=3]="WARN",ne[ne.ERROR=4]="ERROR",ne[ne.SILENT=5]="SILENT",ne}(G||{});const _e={debug:G.DEBUG,verbose:G.VERBOSE,info:G.INFO,warn:G.WARN,error:G.ERROR,silent:G.SILENT},he=G.INFO,ie={[G.DEBUG]:"log",[G.VERBOSE]:"log",[G.INFO]:"info",[G.WARN]:"warn",[G.ERROR]:"error"},se=(ne,me,...Be)=>{if(me<ne.logLevel)return;const qe=(new Date).toISOString(),pt=ie[me];if(!pt)throw new Error(`Attempted to log a message with an invalid logType (value: ${me})`);console[pt](`[${qe}]  ${ne.name}:`,...Be)};class Ne{constructor(me){this.name=me,this._logLevel=he,this._logHandler=se,this._userLogHandler=null,y.push(this)}get logLevel(){return this._logLevel}set logLevel(me){if(!(me in G))throw new TypeError(`Invalid value "${me}" assigned to \`logLevel\``);this._logLevel=me}setLogLevel(me){this._logLevel="string"==typeof me?_e[me]:me}get logHandler(){return this._logHandler}set logHandler(me){if("function"!=typeof me)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=me}get userLogHandler(){return this._userLogHandler}set userLogHandler(me){this._userLogHandler=me}debug(...me){this._userLogHandler&&this._userLogHandler(this,G.DEBUG,...me),this._logHandler(this,G.DEBUG,...me)}log(...me){this._userLogHandler&&this._userLogHandler(this,G.VERBOSE,...me),this._logHandler(this,G.VERBOSE,...me)}info(...me){this._userLogHandler&&this._userLogHandler(this,G.INFO,...me),this._logHandler(this,G.INFO,...me)}warn(...me){this._userLogHandler&&this._userLogHandler(this,G.WARN,...me),this._logHandler(this,G.WARN,...me)}error(...me){this._userLogHandler&&this._userLogHandler(this,G.ERROR,...me),this._logHandler(this,G.ERROR,...me)}}},2214:(nn,Je,F)=>{F.d(Je,{Dk:()=>y.Dk,KO:()=>y.KO,Sx:()=>y.Sx,Wp:()=>y.Wp});var y=F(7852);(0,y.KO)("firebase","10.14.1","app")},8516:(nn,Je,F)=>{F.d(Je,{FEq:()=>Wk,Fhv:()=>K4,HxJ:()=>Uy,JBW:()=>nk,WGl:()=>D3,YDL:()=>Xk,flO:()=>P3,iUU:()=>il,lPX:()=>zo,ntg:()=>rv,rjK:()=>dk,sEC:()=>xi,wB_:()=>$_,zO8:()=>Dp,zWC:()=>Sb});var y=F(7705);const G=["*"],xi=[["path",{d:"M17 21a1 1 0 0 0 1-1v-5.35c0-.457.316-.844.727-1.041a4 4 0 0 0-2.134-7.589 5 5 0 0 0-9.186 0 4 4 0 0 0-2.134 7.588c.411.198.727.585.727 1.041V20a1 1 0 0 0 1 1Z",key:"1qvrer"}],["path",{d:"M6 17h12",key:"1jwigz"}]],il=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Uy=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],Dp=[["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}],["circle",{cx:"18.5",cy:"15.5",r:"2.5",key:"b5zd12"}],["path",{d:"M20.27 17.27 22 19",key:"1l4muz"}]],zo=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],$_=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],K4=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M6.376 18.91a6 6 0 0 1 11.249.003",key:"hnjrf2"}],["circle",{cx:"12",cy:"11",r:"4",key:"1gt34v"}]],nk=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],dk=[["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M12 21v-9",key:"17s77i"}],["path",{d:"M12 8V3",key:"13r4qs"}],["path",{d:"M17 16h4",key:"h1uq16"}],["path",{d:"M19 12V3",key:"o1uvq1"}],["path",{d:"M19 21v-5",key:"qua636"}],["path",{d:"M3 14h4",key:"bcjad9"}],["path",{d:"M5 10V3",key:"cb8scm"}],["path",{d:"M5 21v-7",key:"1w1uti"}]],Wk=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Xk=[["path",{d:"M13.172 2a2 2 0 0 1 1.414.586l6.71 6.71a2.4 2.4 0 0 1 0 3.408l-4.592 4.592a2.4 2.4 0 0 1-3.408 0l-6.71-6.71A2 2 0 0 1 6 9.172V3a1 1 0 0 1 1-1z",key:"16rjxf"}],["path",{d:"M2 7v6.172a2 2 0 0 0 .586 1.414l6.71 6.71a2.4 2.4 0 0 0 3.191.193",key:"178nd4"}],["circle",{cx:"10.5",cy:"6.5",r:".5",fill:"currentColor",key:"12ikhr"}]],rv=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Sb=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]];var dv={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"};const nw=new y.nKC("LucideIcons",{factory:()=>new rw({})});class rw{constructor(oc){this.icons=oc}getIcon(oc){return this.hasIcon(oc)?this.icons[oc]:null}hasIcon(oc){return"object"==typeof this.icons&&oc in this.icons}}let I3=(()=>{class Eo{constructor(){this.color=dv.stroke,this.size=dv.width,this.strokeWidth=dv["stroke-width"],this.absoluteStrokeWidth=!1}}return Eo.\u0275fac=function(ri){return new(ri||Eo)},Eo.\u0275prov=y.jDH({token:Eo,factory:Eo.\u0275fac,providedIn:"root"}),Eo})();function T3(Eo,oc=3){return parseFloat(Eo.toFixed(oc)).toString(10)}let D3=(()=>{class Eo{constructor(ri,ks,ll,P1,ul){this.elem=ri,this.renderer=ks,this.changeDetector=ll,this.iconProviders=P1,this.iconConfig=ul,this.absoluteStrokeWidth=!1,this.defaultSize=dv.height}get size(){return this._size??this.iconConfig.size}set size(ri){ri?this._size=this.parseNumber(ri):delete this._size}get strokeWidth(){return this._strokeWidth??this.iconConfig.strokeWidth}set strokeWidth(ri){ri?this._strokeWidth=this.parseNumber(ri):delete this._strokeWidth}ngOnChanges(ri){if(ri.name||ri.img||ri.color||ri.size||ri.absoluteStrokeWidth||ri.strokeWidth||ri.class){this.color=this.color??this.iconConfig.color,this.size=this.parseNumber(this.size??this.iconConfig.size),this.strokeWidth=this.parseNumber(this.strokeWidth??this.iconConfig.strokeWidth),this.absoluteStrokeWidth=this.absoluteStrokeWidth??this.iconConfig.absoluteStrokeWidth;const ks=this.img??this.name;if("string"==typeof ks){const ll=this.getIcon(this.toPascalCase(ks));if(!ll)throw new Error(`The "${ks}" icon has not been provided by any available icon providers.`);this.replaceElement(ll)}else{if(!Array.isArray(ks))throw new Error("No icon name or image has been provided.");this.replaceElement(ks)}}this.changeDetector.markForCheck()}replaceElement(ri){const ks={...dv,width:this.size,height:this.size,stroke:this.color??this.iconConfig.color,"stroke-width":this.absoluteStrokeWidth?T3(this.strokeWidth/(this.size/this.defaultSize)):this.strokeWidth.toString(10)},ll=this.createElement(["svg",ks,ri]);ll.classList.add("lucide"),"string"==typeof this.name&&ll.classList.add(`lucide-${this.name.replace("_","-")}`),this.class&&ll.classList.add(...this.class.split(/ /).map(ul=>ul.trim()).filter(ul=>ul.length>0));const P1=this.elem.nativeElement.childNodes;for(const ul of P1)this.renderer.removeChild(this.elem.nativeElement,ul);this.renderer.appendChild(this.elem.nativeElement,ll)}toPascalCase(ri){return ri.replace(/(\w)([a-z0-9]*)(_|-|\s*)/g,(ks,ll,P1)=>ll.toUpperCase()+P1.toLowerCase())}parseNumber(ri){if("string"==typeof ri){const ks=parseInt(ri,10);if(isNaN(ks))throw new Error(`${ri} is not numeric.`);return ks}return ri}getIcon(ri){for(const ks of Array.isArray(this.iconProviders)?this.iconProviders:[this.iconProviders])if(ks.hasIcon(ri))return ks.getIcon(ri);return null}createElement([ri,ks,ll=[]]){const P1=this.renderer.createElement(ri,"http://www.w3.org/2000/svg");return Object.keys(ks).forEach(ul=>{const iw="string"==typeof ks[ul]?ks[ul]:ks[ul].toString(10);this.renderer.setAttribute(P1,ul,iw)}),ll.length&&ll.forEach(ul=>{const iw=this.createElement(ul);this.renderer.appendChild(P1,iw)}),P1}}return Eo.\u0275fac=function(ri){return new(ri||Eo)(y.rXU(y.aKT),y.rXU(y.sFG),y.rXU(y.gRc),y.rXU(nw),y.rXU(I3))},Eo.\u0275cmp=y.VBU({type:Eo,selectors:[["lucide-angular"],["lucide-icon"],["i-lucide"],["span-lucide"]],inputs:{class:"class",name:"name",img:"img",color:"color",absoluteStrokeWidth:"absoluteStrokeWidth",size:"size",strokeWidth:"strokeWidth"},features:[y.OA$],ngContentSelectors:G,decls:1,vars:0,template:function(ri,ks){1&ri&&(y.NAR(),y.SdG(0))},encapsulation:2}),Eo})();class S3{constructor(oc){this.icons=oc}}const R3=Eo=>new rw(Eo??{});let P3=(()=>{class Eo{static pick(ri){return{ngModule:Eo,providers:[{provide:nw,multi:!0,useValue:new rw(ri)},{provide:nw,multi:!0,useFactory:R3,deps:[[new y.Xx1,S3]]}]}}}return Eo.\u0275fac=function(ri){return new(ri||Eo)},Eo.\u0275mod=y.$C({type:Eo}),Eo.\u0275inj=y.G2t({imports:[[]]}),Eo})()},467:(nn,Je,F)=>{function y(_e,he,ie,se,Ne,De,Ie){try{var ne=_e[De](Ie),me=ne.value}catch(Be){return void ie(Be)}ne.done?he(me):Promise.resolve(me).then(se,Ne)}function G(_e){return function(){var he=this,ie=arguments;return new Promise(function(se,Ne){var De=_e.apply(he,ie);function Ie(me){y(De,se,Ne,Ie,ne,"next",me)}function ne(me){y(De,se,Ne,Ie,ne,"throw",me)}Ie(void 0)})}}F.d(Je,{A:()=>G})},1635:(nn,Je,F)=>{function he(Ue,ke){var ue={};for(var Oe in Ue)Object.prototype.hasOwnProperty.call(Ue,Oe)&&ke.indexOf(Oe)<0&&(ue[Oe]=Ue[Oe]);if(null!=Ue&&"function"==typeof Object.getOwnPropertySymbols){var Tt=0;for(Oe=Object.getOwnPropertySymbols(Ue);Tt<Oe.length;Tt++)ke.indexOf(Oe[Tt])<0&&Object.prototype.propertyIsEnumerable.call(Ue,Oe[Tt])&&(ue[Oe[Tt]]=Ue[Oe[Tt]])}return ue}function Be(Ue,ke,ue,Oe){return new(ue||(ue=Promise))(function(yt,Dt){function vn(In){try{an(Oe.next(In))}catch(Nn){Dt(Nn)}}function tr(In){try{an(Oe.throw(In))}catch(Nn){Dt(Nn)}}function an(In){In.done?yt(In.value):function Tt(yt){return yt instanceof ue?yt:new ue(function(Dt){Dt(yt)})}(In.value).then(vn,tr)}an((Oe=Oe.apply(Ue,ke||[])).next())})}function be(Ue){return this instanceof be?(this.v=Ue,this):new be(Ue)}function We(Ue,ke,ue){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Tt,Oe=ue.apply(Ue,ke||[]),yt=[];return Tt=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),vn("next"),vn("throw"),vn("return",function Dt(Fn){return function(cr){return Promise.resolve(cr).then(Fn,Nn)}}),Tt[Symbol.asyncIterator]=function(){return this},Tt;function vn(Fn,cr){Oe[Fn]&&(Tt[Fn]=function(lr){return new Promise(function(hn,Pt){yt.push([Fn,lr,hn,Pt])>1||tr(Fn,lr)})},cr&&(Tt[Fn]=cr(Tt[Fn])))}function tr(Fn,cr){try{!function an(Fn){Fn.value instanceof be?Promise.resolve(Fn.value.v).then(In,Nn):gr(yt[0][2],Fn)}(Oe[Fn](cr))}catch(lr){gr(yt[0][3],lr)}}function In(Fn){tr("next",Fn)}function Nn(Fn){tr("throw",Fn)}function gr(Fn,cr){Fn(cr),yt.shift(),yt.length&&tr(yt[0][0],yt[0][1])}}function Qe(Ue){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ue,ke=Ue[Symbol.asyncIterator];return ke?ke.call(Ue):(Ue=function It(Ue){var ke="function"==typeof Symbol&&Symbol.iterator,ue=ke&&Ue[ke],Oe=0;if(ue)return ue.call(Ue);if(Ue&&"number"==typeof Ue.length)return{next:function(){return Ue&&Oe>=Ue.length&&(Ue=void 0),{value:Ue&&Ue[Oe++],done:!Ue}}};throw new TypeError(ke?"Object is not iterable.":"Symbol.iterator is not defined.")}(Ue),ue={},Oe("next"),Oe("throw"),Oe("return"),ue[Symbol.asyncIterator]=function(){return this},ue);function Oe(yt){ue[yt]=Ue[yt]&&function(Dt){return new Promise(function(vn,tr){!function Tt(yt,Dt,vn,tr){Promise.resolve(tr).then(function(an){yt({value:an,done:vn})},Dt)}(vn,tr,(Dt=Ue[yt](Dt)).done,Dt.value)})}}}F.d(Je,{AQ:()=>We,N3:()=>be,Tt:()=>he,sH:()=>Be,xN:()=>Qe}),"function"==typeof SuppressedError&&SuppressedError}},nn=>{nn(nn.s=94)}]);