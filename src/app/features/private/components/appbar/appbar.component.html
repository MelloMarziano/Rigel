<nav class="navbar navbar-light bg-white">
  <div class="container-fluid px-3">
    <div class="d-flex align-items-center justify-content-between w-100">
      <!-- Lado izquierdo -->
      <div class="d-flex align-items-center">
        <!-- Botón de toggle del sidebar - Solo visible en móvil -->
        <button
          class="btn btn-link d-lg-none sidebar-toggle me-3"
          (click)="toggleSidebar()"
          aria-label="Toggle sidebar"
        >
          <i class="bi bi-list fs-4"></i>
        </button>

        <!-- Logo/Nombre de la empresa - Visible en móvil -->
        <div class="d-lg-none d-flex align-items-center">
          <img src="assets/logo-rigel2.png" alt="Rigel Logo" style="height: 38px;" class="me-2">

        </div>

        <!-- Información de usuario - Visible en desktop -->
        <div class="d-none d-lg-block">
          <div class="welcome-message">
            <span class="welcome-text">Bienvenido,</span>
            <span class="user-name">{{ currentUser?.nombre || 'Usuario' }}</span>
          </div>
        </div>
      </div>

    <!-- Botón de toggle del navbar (para el menú de navegación del AppBar) -->
    <!-- <button
      class="navbar-toggler ms-auto"
      type="button"
      data-bs-toggle="collapse"
      data-bs-target="#navbarContent"
      aria-controls="navbarContent"
      aria-expanded="false"
      aria-label="Toggle navigation"
    >
      <span class="navbar-toggler-icon"></span>
    </button> -->

      <!-- Lado derecho -->
      <div class="d-flex align-items-center">
        <!-- Notificaciones -->
        <button class="btn btn-link nav-icon-btn" title="Notificaciones">
          <i class="bi bi-bell"></i>
          <span class="notification-badge">3</span>
        </button>

        <!-- Usuario -->
        <div class="dropdown">
          <button
            class="btn btn-link dropdown-toggle user-dropdown"
            type="button"
            data-bs-toggle="dropdown"
            aria-expanded="false"
          >
            <div class="user-avatar">
              <i class="bi bi-person-fill text-white"></i>
            </div>
            <div class="d-none d-lg-block ms-2">
              <div class="user-info">
                <div class="user-name">{{ currentUser?.nombre || 'Usuario' }}</div>
                <div class="user-role">{{ currentUser?.rol || 'Sin rol' }}</div>
              </div>
            </div>
            <i class="bi bi-chevron-down ms-2 d-none d-lg-inline"></i>
          </button>

          <ul class="dropdown-menu dropdown-menu-end">
            <li class="dropdown-header">
              <div class="user-info-dropdown">
                <div class="fw-bold">{{ currentUser?.nombre }}</div>
                <div class="text-muted small">{{ currentUser?.email }}</div>
                <span class="badge bg-primary mt-1">{{ currentUser?.rol }}</span>
              </div>
            </li>
            <li><hr class="dropdown-divider"></li>
            <li>
              <a class="dropdown-item" routerLink="/private/profile">
                <i class="bi bi-person me-2"></i>Mi Perfil
              </a>
            </li>
            <li>
              <a class="dropdown-item" routerLink="/private/personalization">
                <i class="bi bi-palette me-2"></i>Personalización
              </a>
            </li>
            <li>
              <a class="dropdown-item" routerLink="/private/about-system">
                <i class="bi bi-info-circle me-2"></i>Acerca del Sistema
              </a>
            </li>
            <li><hr class="dropdown-divider"></li>
            <li>
              <a class="dropdown-item text-danger" (click)="logout()" style="cursor: pointer;">
                <i class="bi bi-box-arrow-right me-2"></i>Cerrar Sesión
              </a>
            </li>
          </ul>
        </div>
      </div>
    </div>
  </div>
</nav>
