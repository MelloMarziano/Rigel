"use strict";(self.webpackChunkrigel=self.webpackChunkrigel||[]).push([[957],{5957:(Q,b,l)=>{l.r(b),l.d(b,{CategoriaPageModule:()=>W});var C=l(2432),d=l(9417),g=l(177),p=l(8498),f=l(467),c=l(2418),E=l(8032),u=l.n(E),i=l(7705);function j(t,n){if(1&t&&(i.j41(0,"span",94),i.EFF(1),i.k0s()),2&t){const a=n.$implicit;i.R7$(1),i.Lme(" ",a.nombre," (",a.productos,") ")}}function x(t,n){if(1&t&&(i.j41(0,"div",90)(1,"small",91),i.EFF(2,"Familias:"),i.k0s(),i.j41(3,"div",92),i.DNE(4,j,2,2,"span",93),i.k0s()()),2&t){const a=i.XpG().$implicit;i.R7$(4),i.Y8G("ngForOf",a.familias)}}function P(t,n){if(1&t&&(i.j41(0,"small",105),i.EFF(1),i.k0s()),2&t){const a=n.$implicit;i.R7$(1),i.Lme(" \u2022 ",a.nombre,"",""," ")}}function I(t,n){if(1&t&&(i.j41(0,"div")(1,"small",103),i.EFF(2),i.k0s(),i.j41(3,"div",46),i.DNE(4,P,2,2,"small",104),i.k0s()()),2&t){const a=i.XpG().$implicit,o=i.XpG(2).$implicit,e=i.XpG();i.R7$(2),i.SpI("",a.nombre,":"),i.R7$(2),i.Y8G("ngForOf",e.getProductosPorFamilia(o.id||"",a.id||""))}}function y(t,n){if(1&t&&(i.j41(0,"div",90),i.DNE(1,I,5,2,"div",102),i.k0s()),2&t){const a=n.$implicit,o=i.XpG(2).$implicit,e=i.XpG();i.R7$(1),i.Y8G("ngIf",e.getProductosPorFamilia(o.id||"",a.id||"").length>0)}}function R(t,n){if(1&t&&(i.j41(0,"small",105),i.EFF(1),i.k0s()),2&t){const a=n.$implicit;i.R7$(1),i.SpI(" \u2022 ",a.nombre," ")}}function D(t,n){if(1&t&&(i.j41(0,"div")(1,"small",106),i.EFF(2,"Sin familia asignada:"),i.k0s(),i.j41(3,"div",46),i.DNE(4,R,2,1,"small",104),i.k0s()()),2&t){const a=i.XpG(2).$implicit,o=i.XpG();i.R7$(4),i.Y8G("ngForOf",o.getProductosSinFamilia(a.id||""))}}function G(t,n){if(1&t&&(i.j41(0,"div",95)(1,"div",96)(2,"small",11),i.EFF(3,"Productos en esta categor\xeda:"),i.k0s(),i.j41(4,"button",97),i.nrm(5,"i",98),i.EFF(6," Ver productos "),i.k0s()(),i.j41(7,"div",99)(8,"div",100),i.DNE(9,y,2,1,"div",101),i.DNE(10,D,5,1,"div",102),i.k0s()()()),2&t){const a=i.XpG().$implicit,o=i.XpG();i.R7$(4),i.BMQ("data-bs-toggle","collapse")("data-bs-target","#productos-"+a.id)("aria-expanded",!1)("aria-controls","productos-"+a.id),i.R7$(3),i.Y8G("id","productos-"+a.id),i.R7$(2),i.Y8G("ngForOf",a.familias),i.R7$(1),i.Y8G("ngIf",o.getProductosSinFamilia(a.id||"").length>0)}}function T(t,n){if(1&t&&(i.j41(0,"span",107),i.EFF(1),i.k0s()),2&t){const a=n.$implicit;i.R7$(1),i.SpI(" ",a," ")}}function S(t,n){if(1&t){const a=i.RV6();i.j41(0,"div",72)(1,"div",8)(2,"div",73)(3,"div",74)(4,"div",44)(5,"div",75),i.nrm(6,"i"),i.k0s(),i.j41(7,"div")(8,"h5",76),i.EFF(9),i.k0s(),i.j41(10,"p",77),i.EFF(11),i.k0s()()(),i.j41(12,"div")(13,"button",78),i.bIt("click",function(){const r=i.eBV(a).$implicit,s=i.XpG();return i.Njj(r.id&&s.editarCategoria(r))}),i.nrm(14,"i",79),i.k0s(),i.j41(15,"button",80),i.bIt("click",function(){const r=i.eBV(a).$implicit,s=i.XpG();return i.Njj(r.id&&s.eliminarCategoria(r.id))}),i.nrm(16,"i",81),i.k0s()()(),i.j41(17,"div",29)(18,"div",82),i.nrm(19,"i",83),i.j41(20,"div")(21,"small",84),i.EFF(22,"Productos: "),i.j41(23,"span"),i.EFF(24),i.k0s()()()(),i.DNE(25,x,5,1,"div",85),i.DNE(26,G,11,7,"div",86),i.k0s(),i.j41(27,"div")(28,"small",87),i.EFF(29,"Unidades disponibles"),i.k0s(),i.j41(30,"div",88),i.DNE(31,T,2,1,"span",89),i.k0s()()()()()}if(2&t){const a=n.$implicit,o=i.XpG();i.R7$(5),i.xc7("background-color",a.colorFondo),i.R7$(1),i.HbH("bi "+a.icono+" text-white fs-4"),i.R7$(3),i.JRh(a.nombre),i.R7$(2),i.JRh(a.descripcion),i.R7$(2),i.Y8G("disabled",!a.id),i.R7$(2),i.Y8G("disabled",!a.id),i.R7$(9),i.JRh(a.productos),i.R7$(1),i.Y8G("ngIf",a.familias&&a.familias.length>0),i.R7$(1),i.Y8G("ngIf",o.getProductosPorCategoria(a.id||"").length>0),i.R7$(5),i.Y8G("ngForOf",a.unidadesDisponibles)}}function N(t,n){if(1&t){const a=i.RV6();i.j41(0,"button",108),i.bIt("click",function(){const r=i.eBV(a).$implicit,s=i.XpG();return i.Njj(s.seleccionarColor(r))}),i.k0s()}2&t&&i.xc7("background-color",n.$implicit)}function B(t,n){if(1&t){const a=i.RV6();i.j41(0,"button",65),i.bIt("click",function(){i.eBV(a);const e=i.XpG();return i.Njj(e.agregarFamilia())}),i.nrm(1,"i",66),i.k0s()}}function w(t,n){if(1&t){const a=i.RV6();i.j41(0,"button",109),i.bIt("click",function(){i.eBV(a);const e=i.XpG();return i.Njj(e.guardarEdicionFamilia())}),i.nrm(1,"i",110),i.k0s()}}function Y(t,n){if(1&t){const a=i.RV6();i.j41(0,"button",111),i.bIt("click",function(){i.eBV(a);const e=i.XpG();return i.Njj(e.cancelarEdicionFamilia())}),i.nrm(1,"i",112),i.k0s()}}function M(t,n){1&t&&(i.j41(0,"div"),i.EFF(1," No hay familias configuradas. Agrega al menos una familia. "),i.k0s())}function U(t,n){1&t&&(i.j41(0,"div"),i.EFF(1," Esta categor\xeda no tiene familias configuradas. Puedes agregar familias ahora. "),i.k0s())}function X(t,n){if(1&t&&(i.j41(0,"div",113),i.DNE(1,M,2,0,"div",102),i.DNE(2,U,2,0,"div",102),i.k0s()),2&t){const a=i.XpG();let o,e;i.R7$(1),i.Y8G("ngIf",!(null!=(o=a.categoriaForm.get("id"))&&o.value)),i.R7$(1),i.Y8G("ngIf",null==(e=a.categoriaForm.get("id"))?null:e.value)}}function z(t,n){if(1&t){const a=i.RV6();i.j41(0,"span",115),i.EFF(1),i.j41(2,"div",116)(3,"button",117),i.bIt("click",function(){const r=i.eBV(a).index,s=i.XpG(2);return i.Njj(s.editarFamilia(r))}),i.nrm(4,"i",118),i.k0s(),i.j41(5,"button",117),i.bIt("click",function(){const r=i.eBV(a).index,s=i.XpG(2);return i.Njj(s.eliminarFamilia(r))}),i.nrm(6,"i",119),i.k0s()()()}if(2&t){const a=n.$implicit;i.R7$(1),i.SpI(" ",a.nombre," ")}}function A(t,n){if(1&t&&(i.j41(0,"div",88),i.DNE(1,z,7,1,"span",114),i.k0s()),2&t){const a=i.XpG();i.R7$(1),i.Y8G("ngForOf",a.familias)}}function O(t,n){1&t&&(i.j41(0,"div",11),i.EFF(1," No hay unidades seleccionadas "),i.k0s())}function V(t,n){if(1&t){const a=i.RV6();i.j41(0,"span",121),i.EFF(1),i.j41(2,"button",122),i.bIt("click",function(){const r=i.eBV(a).$implicit,s=i.XpG(2);return i.Njj(s.eliminarUnidad(r))}),i.k0s()()}if(2&t){const a=n.$implicit;i.R7$(1),i.SpI(" ",a," ")}}function J(t,n){if(1&t&&(i.j41(0,"div",88),i.DNE(1,V,3,1,"span",120),i.k0s()),2&t){const a=i.XpG();i.R7$(1),i.Y8G("ngForOf",a.unidadesSeleccionadas)}}const F=function(){return{standalone:!0}},L=[{path:"",component:(()=>{class t{constructor(a,o){this.fb=a,this.firestore=o,this.stats={totalCategorias:0,totalProductos:0,unidadesMedida:0,productosCombo:0},this.categorias=[],this.productos=[],this.mostrarPaleta=!1,this.nuevaUnidad="",this.unidadesSeleccionadas=[],this.familias=[],this.nuevaFamilia="",this.editandoFamiliaIndex=-1,this.coloresPaleta=["#DC3545","#B02A37","#6EA8FE","#031633","#F8F9FA","#FF4136","#FF851B","#FFDC00","#00D1B2","#0DCAF0","#0A58CA","#6610F2","#0D6EFD","#20C997","#FFC107"],this.unidadesBebidas=["ml","L","oz","unidades"],this.unidadesComida=["kg","g","lb","porciones","unidades"],this.categoriaForm=this.fb.group({nombre:["",d.k0.required],descripcion:["",d.k0.required],icono:["bi-cup-straw"],colorFondo:["#DC3545"]})}ngOnInit(){this.cargarCategorias(),this.cargarProductos()}ngOnDestroy(){this.categoriasSubscription&&this.categoriasSubscription.unsubscribe(),this.productosSubscription&&this.productosSubscription.unsubscribe()}cargarCategorias(){const a=(0,c.rJ)(this.firestore,"categorias");this.categoriasSubscription=(0,c.xs)(a,{idField:"id"}).subscribe(o=>{this.categorias=o,this.actualizarContadoresProductos(),this.actualizarStats()})}cargarProductos(){const a=(0,c.rJ)(this.firestore,"productos");this.productosSubscription=(0,c.xs)(a,{idField:"id"}).subscribe(o=>{this.productos=o,this.actualizarContadoresProductos(),this.actualizarStats()})}actualizarContadoresProductos(){this.categorias.forEach(a=>{if(a.id){const o=this.productos.filter(e=>e.categoriaId===a.id);a.productos=o.length,a.familias&&a.familias.forEach(e=>{const r=o.filter(s=>s.familiaId===e.id);e.productos=r.length})}})}actualizarStats(){this.stats.totalCategorias=this.categorias.length,this.stats.totalProductos=this.productos.length,this.stats.unidadesMedida=[...new Set(this.categorias.flatMap(a=>a.unidadesDisponibles))].length,this.stats.productosCombo=this.productos.filter(a=>a.esCombinado).length}seleccionarColor(a){this.categoriaForm.patchValue({colorFondo:a}),this.mostrarPaleta=!1}agregarUnidadPersonalizada(){this.nuevaUnidad&&!this.unidadesSeleccionadas.includes(this.nuevaUnidad)&&(this.unidadesSeleccionadas.push(this.nuevaUnidad),this.nuevaUnidad="")}seleccionarUnidadesBebidas(){this.unidadesBebidas.forEach(a=>{this.unidadesSeleccionadas.includes(a)||this.unidadesSeleccionadas.push(a)})}seleccionarUnidadesComida(){this.unidadesComida.forEach(a=>{this.unidadesSeleccionadas.includes(a)||this.unidadesSeleccionadas.push(a)})}eliminarUnidad(a){const o=this.unidadesSeleccionadas.indexOf(a);o>-1&&this.unidadesSeleccionadas.splice(o,1)}eliminarCategoria(a){var o=this;return(0,f.A)(function*(){if(a&&(yield u().fire({title:"\xbfEst\xe1s seguro?",text:"Esta acci\xf3n no se puede deshacer",icon:"warning",showCancelButton:!0,confirmButtonColor:"#dc3545",cancelButtonColor:"#6c757d",confirmButtonText:"S\xed, eliminar",cancelButtonText:"Cancelar"})).isConfirmed)try{const r=(0,c.H9)(o.firestore,"categorias",a);yield(0,c.kd)(r),yield u().fire("\xa1Eliminado!","La categor\xeda ha sido eliminada.","success")}catch(r){console.error("Error al eliminar la categor\xeda:",r),yield u().fire("Error","No se pudo eliminar la categor\xeda.","error")}})()}editarCategoria(a){if(!a.id)return;this.categoriaForm.contains("id")||this.categoriaForm.addControl("id",this.fb.control("")),this.categoriaForm.patchValue({id:a.id,nombre:a.nombre,descripcion:a.descripcion,icono:a.icono,colorFondo:a.colorFondo}),this.unidadesSeleccionadas=[...a.unidadesDisponibles||[]],this.familias=[],this.familias=a.familias&&a.familias.length>0?[...a.familias]:[];const o=document.getElementById("modalCategoria");if(o){new bootstrap.Modal(o).show();const r=o.querySelector(".btn-danger");r&&(r.textContent="Actualizar Categor\xeda")}}guardarCategoria(){var a=this;return(0,f.A)(function*(){if(a.categoriaForm.valid)if(0!==a.unidadesSeleccionadas.length)if(a.categoriaForm.get("id")?.value||0!==a.familias.length)try{const e={nombre:a.categoriaForm.get("nombre")?.value,descripcion:a.categoriaForm.get("descripcion")?.value,icono:a.categoriaForm.get("icono")?.value,colorFondo:a.categoriaForm.get("colorFondo")?.value,unidadesDisponibles:[...a.unidadesSeleccionadas],familias:[...a.familias]},r=a.categoriaForm.get("id")?.value;if(u().showLoading(),r){const s=(0,c.H9)(a.firestore,"categorias",r);yield(0,c.mZ)(s,e),yield u().fire({icon:"success",title:"\xa1Actualizado!",text:"La categor\xeda ha sido actualizada exitosamente",timer:1500,showConfirmButton:!1}),$("#modalCategoria").modal("hide")}else{const s=(0,c.rJ)(a.firestore,"categorias"),m={...e,productos:0};yield(0,c.gS)(s,m),yield u().fire({icon:"success",title:"\xa1Creado!",text:"La categor\xeda ha sido creada exitosamente",timer:1500,showConfirmButton:!1}),$("#modalCategoria").modal("hide")}a.resetForm()}catch(e){console.error("Error al guardar la categor\xeda:",e),yield u().fire({icon:"error",title:"Error",text:"Hubo un problema al guardar la categor\xeda. Int\xe9ntelo de nuevo."})}else yield u().fire({icon:"error",title:"Error",text:"Debe agregar al menos una familia de productos para nuevas categor\xedas"});else yield u().fire({icon:"error",title:"Error",text:"Debe seleccionar al menos una unidad de medida"});else yield u().fire({icon:"error",title:"Error",text:"Por favor complete todos los campos requeridos"})})()}agregarFamilia(){if(this.nuevaFamilia.trim()){const a={id:this.generarIdFamilia(),nombre:this.nuevaFamilia.trim(),descripcion:"",productos:0};this.familias.push(a),this.nuevaFamilia=""}}generarIdFamilia(){return"fam_"+Date.now()+"_"+Math.random().toString(36).substr(2,9)}editarFamilia(a){this.editandoFamiliaIndex=a,this.nuevaFamilia=this.familias[a].nombre}guardarEdicionFamilia(){this.editandoFamiliaIndex>=0&&this.nuevaFamilia.trim()&&(this.familias[this.editandoFamiliaIndex].nombre=this.nuevaFamilia.trim(),this.editandoFamiliaIndex=-1,this.nuevaFamilia="")}cancelarEdicionFamilia(){this.editandoFamiliaIndex=-1,this.nuevaFamilia=""}eliminarFamilia(a){this.familias.splice(a,1)}agregarFamiliasPredefinidas(a){const o=[{id:this.generarIdFamilia(),nombre:"Whisky",descripcion:"Whisky y derivados",productos:0},{id:this.generarIdFamilia(),nombre:"Vinos",descripcion:"Vinos tintos, blancos y rosados",productos:0},{id:this.generarIdFamilia(),nombre:"Refrescos",descripcion:"Bebidas sin alcohol",productos:0},{id:this.generarIdFamilia(),nombre:"Cervezas",descripcion:"Cervezas nacionales e importadas",productos:0}],e=[{id:this.generarIdFamilia(),nombre:"Entrantes",descripcion:"Aperitivos y entrantes",productos:0},{id:this.generarIdFamilia(),nombre:"Platos Fuertes",descripcion:"Platos principales",productos:0},{id:this.generarIdFamilia(),nombre:"Postres",descripcion:"Postres y dulces",productos:0}];("barra"===a?o:e).forEach(s=>{this.familias.some(m=>m.nombre===s.nombre)||this.familias.push(s)})}getProductosPorCategoria(a){return this.productos.filter(o=>o.categoriaId===a)}getProductosPorFamilia(a,o){return this.productos.filter(e=>e.categoriaId===a&&e.familiaId===o)}getProductosSinFamilia(a){return this.productos.filter(o=>o.categoriaId===a&&(!o.familiaId||""===o.familiaId))}getNombreProducto(a){return a.nombre}resetForm(){this.categoriaForm.reset({nombre:"",descripcion:"",icono:"bi-cup-straw",colorFondo:"#DC3545"}),this.unidadesSeleccionadas=[],this.nuevaUnidad="",this.familias=[],this.nuevaFamilia="",this.editandoFamiliaIndex=-1}static{this.\u0275fac=function(o){return new(o||t)(i.rXU(d.ok),i.rXU(c._7))}}static{this.\u0275cmp=i.VBU({type:t,selectors:[["app-categoria-page"]],decls:169,vars:31,consts:[[1,"container-fluid"],[1,"row"],[1,"col-8"],[1,"col","text-end"],["data-bs-toggle","modal","data-bs-target","#modalCategoria",1,"btn","btn-danger"],[1,"bi","bi-plus-lg","me-2"],[1,"row","mt-4"],[1,"col-md-3"],[1,"card","border-0","shadow-sm"],[1,"card-body"],[1,"text-danger","mb-0"],[1,"text-muted"],[1,"text-primary","mb-0"],[1,"text-dark","mb-0"],[1,"text-info","mb-0"],["class","col-12 col-md-4 mb-4",4,"ngFor","ngForOf"],["id","modalCategoria","data-bs-backdrop","static","data-bs-keyboard","false","tabindex","-1","aria-labelledby","staticBackdropLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered","modal-lg"],[1,"modal-content"],[1,"modal-header","border-0","pb-0"],["id","staticBackdropLabel",1,"modal-title","fw-bold"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body","px-4"],[3,"formGroup"],[1,"col-12","col-sm-6"],[1,"mb-4"],[1,"d-flex","align-items-center","mb-3"],[1,"bi","bi-tag-fill","me-2"],[1,"mb-0"],[1,"mb-3"],[1,"form-label"],["type","text","placeholder","Ej: Bebidas Alcoh\xf3licas","formControlName","nombre",1,"form-control"],["placeholder","Descripci\xf3n de la categor\xeda","formControlName","descripcion",1,"form-control"],["formControlName","icono",1,"form-select"],["value","bi-cup-straw"],["value","bi-egg-fried"],["value","bi-cup-fill"],["value","bi-globe"],[1,"bi","bi-palette-fill","me-2"],[1,"form-control","p-0",2,"height","auto"],[1,"p-3"],[1,"d-flex","flex-wrap","gap-2","mb-3"],["type","button","class","btn rounded-3 p-3 border-0",3,"background-color","click",4,"ngFor","ngForOf"],[1,"border","rounded-3","p-3"],[1,"d-flex","align-items-center"],[1,"rounded-circle","p-2"],[1,"ms-2"],[1,"bi","bi-collection","me-2"],[1,"row","g-3","mb-3"],[1,"col-12"],[1,"input-group"],["type","text","placeholder","Ej: Whisky, Entrantes, etc.",1,"form-control",3,"ngModel","ngModelOptions","ngModelChange","keyup.enter"],["class","btn btn-primary rounded-end","type","button",3,"click",4,"ngIf"],["class","btn btn-success rounded-end","type","button",3,"click",4,"ngIf"],["class","btn btn-secondary","type","button",3,"click",4,"ngIf"],[1,"col-md-6"],["type","button",1,"btn","btn-outline-primary","w-100",3,"click"],[1,"bi","bi-cup","me-2"],[1,"bi","bi-egg-fried","me-2"],[1,"form-control","p-2",2,"height","auto","min-height","60px"],["class","text-muted text-center py-2",4,"ngIf"],["class","d-flex flex-wrap gap-2",4,"ngIf"],[1,"bi","bi-rulers","me-2"],[1,"row","g-3"],["type","text","placeholder","Ej: litros",1,"form-control",3,"ngModel","ngModelOptions","ngModelChange"],["type","button",1,"btn","btn-primary","rounded-end",3,"click"],[1,"bi","bi-plus-lg"],[1,"form-control","p-2",2,"height","auto"],["class","text-muted",4,"ngIf"],[1,"modal-footer","border-0"],["type","button","data-bs-dismiss","modal",1,"btn","btn-link","text-dark","text-decoration-none"],["type","button",1,"btn","btn-danger","px-4",3,"disabled","click"],[1,"col-12","col-md-4","mb-4"],[1,"card-body","p-4"],[1,"d-flex","justify-content-between","align-items-start","mb-3"],[1,"rounded-circle","p-3","me-3"],[1,"mb-1"],[1,"text-muted","mb-0"],[1,"btn","btn-outline-primary","btn-sm","me-2",3,"disabled","click"],[1,"bi","bi-pencil-fill"],[1,"btn","btn-outline-danger","btn-sm",3,"disabled","click"],[1,"bi","bi-trash3-fill"],[1,"d-flex","align-items-center","mb-2"],[1,"bi","bi-box-seam-fill","me-2","text-primary"],[1,"text-muted","d-block"],["class","mb-2",4,"ngIf"],["class","mt-3",4,"ngIf"],[1,"text-muted","d-block","mb-2"],[1,"d-flex","flex-wrap","gap-2"],["class","badge rounded-1 bg-light text-dark border",4,"ngFor","ngForOf"],[1,"mb-2"],[1,"text-muted","d-block","mb-1"],[1,"d-flex","flex-wrap","gap-1"],["class","badge rounded-pill bg-primary","style","font-size: 0.7rem;",4,"ngFor","ngForOf"],[1,"badge","rounded-pill","bg-primary",2,"font-size","0.7rem"],[1,"mt-3"],[1,"d-flex","justify-content-between","align-items-center","mb-2"],["type","button",1,"btn","btn-sm","btn-outline-secondary"],[1,"bi","bi-eye"],[1,"collapse",3,"id"],[1,"card","card-body","p-2",2,"max-height","200px","overflow-y","auto"],["class","mb-2",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"fw-bold","text-primary","d-block","mb-1"],["class","d-block text-muted",4,"ngFor","ngForOf"],[1,"d-block","text-muted"],[1,"fw-bold","text-warning","d-block","mb-1"],[1,"badge","rounded-1","bg-light","text-dark","border"],["type","button",1,"btn","rounded-3","p-3","border-0",3,"click"],["type","button",1,"btn","btn-success","rounded-end",3,"click"],[1,"bi","bi-check-lg"],["type","button",1,"btn","btn-secondary",3,"click"],[1,"bi","bi-x-lg"],[1,"text-muted","text-center","py-2"],["class","badge bg-primary d-flex align-items-center gap-2","style","font-size: 0.85rem; padding: 8px 12px;",4,"ngFor","ngForOf"],[1,"badge","bg-primary","d-flex","align-items-center","gap-2",2,"font-size","0.85rem","padding","8px 12px"],[1,"d-flex","gap-1"],["type","button",1,"btn","btn-sm","p-0",2,"width","16px","height","16px","background","rgba(255,255,255,0.2)","border","none","border-radius","2px",3,"click"],[1,"bi","bi-pencil",2,"font-size","0.7rem","color","white"],[1,"bi","bi-x",2,"font-size","0.7rem","color","white"],["class","badge bg-light text-dark border d-flex align-items-center",4,"ngFor","ngForOf"],[1,"badge","bg-light","text-dark","border","d-flex","align-items-center"],["type","button",1,"btn-close","ms-2",3,"click"]],template:function(o,e){if(1&o&&(i.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"h5"),i.EFF(4,"Gesti\xf3n de Categor\xedas"),i.k0s(),i.j41(5,"span"),i.EFF(6,"Organiza tus productos por categor\xedas"),i.k0s()(),i.j41(7,"div",3)(8,"button",4),i.nrm(9,"i",5),i.EFF(10," Nueva Categor\xeda "),i.k0s()()(),i.j41(11,"div",6)(12,"div",7)(13,"div",8)(14,"div",9)(15,"h1",10),i.EFF(16),i.k0s(),i.j41(17,"span",11),i.EFF(18,"Total Categor\xedas"),i.k0s()()()(),i.j41(19,"div",7)(20,"div",8)(21,"div",9)(22,"h1",12),i.EFF(23),i.k0s(),i.j41(24,"span",11),i.EFF(25,"Total Productos"),i.k0s()()()(),i.j41(26,"div",7)(27,"div",8)(28,"div",9)(29,"h1",13),i.EFF(30),i.k0s(),i.j41(31,"span",11),i.EFF(32,"Unidades de Medida"),i.k0s()()()(),i.j41(33,"div",7)(34,"div",8)(35,"div",9)(36,"h1",14),i.EFF(37),i.k0s(),i.j41(38,"span",11),i.EFF(39,"Productos Combo"),i.k0s()()()()(),i.j41(40,"div",6),i.DNE(41,S,32,12,"div",15),i.k0s()(),i.j41(42,"div",16)(43,"div",17)(44,"div",18)(45,"div",19)(46,"h5",20),i.EFF(47),i.k0s(),i.nrm(48,"button",21),i.k0s(),i.j41(49,"div",22)(50,"form",23)(51,"div",1)(52,"div",24)(53,"div",25)(54,"div",26),i.nrm(55,"i",27),i.j41(56,"h6",28),i.EFF(57,"Informaci\xf3n B\xe1sica"),i.k0s()(),i.j41(58,"div")(59,"div",29)(60,"label",30),i.EFF(61,"Nombre de la Categor\xeda *"),i.k0s(),i.nrm(62,"input",31),i.k0s(),i.j41(63,"div",29)(64,"label",30),i.EFF(65,"Descripci\xf3n *"),i.k0s(),i.nrm(66,"textarea",32),i.k0s(),i.j41(67,"div")(68,"label",30),i.EFF(69,"Icono"),i.k0s(),i.j41(70,"select",33)(71,"option",34),i.EFF(72,"\u{1f964} Bebida"),i.k0s(),i.j41(73,"option",35),i.EFF(74,"\u{1f373} Comida"),i.k0s(),i.j41(75,"option",36),i.EFF(76,"\u{1f378} Coctel"),i.k0s(),i.j41(77,"option",37),i.EFF(78,"\u{1f30e} Global"),i.k0s()()()()()(),i.j41(79,"div",24)(80,"div",25)(81,"div",26),i.nrm(82,"i",38),i.j41(83,"h6",28),i.EFF(84,"Apariencia"),i.k0s()(),i.j41(85,"div",29)(86,"label",30),i.EFF(87,"Color de la Categor\xeda"),i.k0s(),i.j41(88,"div",39),i.nrm(89,"div",40),i.k0s()(),i.j41(90,"div",41),i.DNE(91,N,1,2,"button",42),i.k0s(),i.j41(92,"label",30),i.EFF(93,"Vista Previa"),i.k0s(),i.j41(94,"div",43)(95,"div",44)(96,"div",45),i.nrm(97,"i"),i.k0s(),i.j41(98,"div",46)(99,"div"),i.EFF(100),i.k0s(),i.j41(101,"small",11),i.EFF(102),i.k0s()()()()()()(),i.j41(103,"div",25)(104,"div",26),i.nrm(105,"i",47),i.j41(106,"h6",28),i.EFF(107,"Familias de Productos"),i.k0s()(),i.j41(108,"div",48)(109,"div",49)(110,"label",30),i.EFF(111,"Agregar Familia Personalizada"),i.k0s(),i.j41(112,"div",50)(113,"input",51),i.bIt("ngModelChange",function(s){return e.nuevaFamilia=s})("keyup.enter",function(){return e.editandoFamiliaIndex>=0?e.guardarEdicionFamilia():e.agregarFamilia()}),i.k0s(),i.DNE(114,B,2,0,"button",52),i.DNE(115,w,2,0,"button",53),i.DNE(116,Y,2,0,"button",54),i.k0s()(),i.j41(117,"div",55)(118,"label",30),i.EFF(119,"Familias para Barra"),i.k0s(),i.j41(120,"button",56),i.bIt("click",function(){return e.agregarFamiliasPredefinidas("barra")}),i.nrm(121,"i",57),i.EFF(122,"Agregar Familias de Barra "),i.k0s()(),i.j41(123,"div",55)(124,"label",30),i.EFF(125,"Familias para Cocina"),i.k0s(),i.j41(126,"button",56),i.bIt("click",function(){return e.agregarFamiliasPredefinidas("cocina")}),i.nrm(127,"i",58),i.EFF(128,"Agregar Familias de Cocina "),i.k0s()(),i.j41(129,"div",49)(130,"label",30),i.EFF(131,"Familias Configuradas"),i.k0s(),i.j41(132,"div",59),i.DNE(133,X,3,2,"div",60),i.DNE(134,A,2,1,"div",61),i.k0s()()()(),i.j41(135,"div")(136,"div",26),i.nrm(137,"i",62),i.j41(138,"h6",28),i.EFF(139,"Unidades de Medida"),i.k0s()(),i.j41(140,"div",63)(141,"div",49)(142,"label",30),i.EFF(143,"Agregar Unidad Personalizada"),i.k0s(),i.j41(144,"div",50)(145,"input",64),i.bIt("ngModelChange",function(s){return e.nuevaUnidad=s}),i.k0s(),i.j41(146,"button",65),i.bIt("click",function(){return e.agregarUnidadPersonalizada()}),i.nrm(147,"i",66),i.k0s()()(),i.j41(148,"div",55)(149,"label",30),i.EFF(150,"Unidades para Bebidas"),i.k0s(),i.j41(151,"button",56),i.bIt("click",function(){return e.seleccionarUnidadesBebidas()}),i.EFF(152," Agregar Unidades de Bebidas "),i.k0s()(),i.j41(153,"div",55)(154,"label",30),i.EFF(155,"Unidades para Comida"),i.k0s(),i.j41(156,"button",56),i.bIt("click",function(){return e.seleccionarUnidadesComida()}),i.EFF(157," Agregar Unidades de Comida "),i.k0s()(),i.j41(158,"div",49)(159,"label",30),i.EFF(160,"Unidades Seleccionadas *"),i.k0s(),i.j41(161,"div",67),i.DNE(162,O,2,0,"div",68),i.DNE(163,J,2,1,"div",61),i.k0s()()()()()(),i.j41(164,"div",69)(165,"button",70),i.EFF(166," Cancelar "),i.k0s(),i.j41(167,"button",71),i.bIt("click",function(){return e.guardarCategoria()}),i.EFF(168),i.k0s()()()()()),2&o){let r,s,m,_,h,v,k;i.R7$(16),i.JRh(e.stats.totalCategorias),i.R7$(7),i.JRh(e.stats.totalProductos),i.R7$(7),i.JRh(e.stats.unidadesMedida),i.R7$(7),i.JRh(e.stats.productosCombo),i.R7$(4),i.Y8G("ngForOf",e.categorias),i.R7$(6),i.SpI(" ",null!=(r=e.categoriaForm.get("id"))&&r.value?"Editar Categor\xeda":"Nueva Categor\xeda"," "),i.R7$(3),i.Y8G("formGroup",e.categoriaForm),i.R7$(39),i.xc7("background-color",null==(s=e.categoriaForm.get("colorFondo"))?null:s.value),i.R7$(2),i.Y8G("ngForOf",e.coloresPaleta),i.R7$(5),i.xc7("background-color",null==(m=e.categoriaForm.get("colorFondo"))?null:m.value),i.R7$(1),i.HbH("bi "+(null==(_=e.categoriaForm.get("icono"))?null:_.value)+" text-white"),i.R7$(3),i.SpI(" ",(null==(h=e.categoriaForm.get("nombre"))?null:h.value)||"Nombre de Categor\xeda"," "),i.R7$(2),i.JRh((null==(v=e.categoriaForm.get("descripcion"))?null:v.value)||"Descripci\xf3n de la categor\xeda"),i.R7$(11),i.Y8G("ngModel",e.nuevaFamilia)("ngModelOptions",i.lJ4(29,F)),i.R7$(1),i.Y8G("ngIf",e.editandoFamiliaIndex<0),i.R7$(1),i.Y8G("ngIf",e.editandoFamiliaIndex>=0),i.R7$(1),i.Y8G("ngIf",e.editandoFamiliaIndex>=0),i.R7$(17),i.Y8G("ngIf",0===e.familias.length),i.R7$(1),i.Y8G("ngIf",e.familias.length>0),i.R7$(11),i.Y8G("ngModel",e.nuevaUnidad)("ngModelOptions",i.lJ4(30,F)),i.R7$(17),i.Y8G("ngIf",0===e.unidadesSeleccionadas.length),i.R7$(1),i.Y8G("ngIf",e.unidadesSeleccionadas.length>0),i.R7$(4),i.Y8G("disabled",!e.categoriaForm.valid||0===e.unidadesSeleccionadas.length),i.R7$(1),i.SpI(" ",null!=(k=e.categoriaForm.get("id"))&&k.value?"Actualizar Categor\xeda":"Crear Categor\xeda"," ")}},dependencies:[g.Sq,g.bT,d.qT,d.xH,d.y7,d.me,d.wz,d.BC,d.cb,d.j4,d.JD,d.vS]})}}return t})()}];let H=(()=>{class t{static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275mod=i.$C({type:t})}static{this.\u0275inj=i.G2t({imports:[p.iI.forChild(L),p.iI]})}}return t})(),W=(()=>{class t{static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275mod=i.$C({type:t})}static{this.\u0275inj=i.G2t({imports:[H,C.PrivateModule,g.MD,d.X1,d.YN]})}}return t})()}}]);